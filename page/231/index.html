<!DOCTYPE html>



  


<html class="theme-next muse use-motion" lang="zh-Hans">
<head><meta name="generator" content="Hexo 3.9.0">
  <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
<meta name="theme-color" content="#222">
<meta name="referrer" content="never">









<meta http-equiv="Cache-Control" content="no-transform">
<meta http-equiv="Cache-Control" content="no-siteapp">
















  
  
  <link href="../../lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css">







<link href="../../lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css">

<link href="../../css/main.css?v=5.1.4" rel="stylesheet" type="text/css">


  <link rel="apple-touch-icon" sizes="180x180" href="../../images/apple-touch-icon-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="32x32" href="../../images/favicon-32x32-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="16x16" href="../../images/favicon-16x16-next.png?v=5.1.4">


  <link rel="mask-icon" href="../../images/logo.svg?v=5.1.4" color="#222">





  <meta name="keywords" content="Hexo, NexT">





  <link rel="alternate" href="../../atom.xml" title="开发者博客 – IT技术 尽在开发者博客" type="application/atom+xml">






<meta property="og:type" content="website">
<meta property="og:title" content="开发者博客 – IT技术 尽在开发者博客">
<meta property="og:url" content="https://dev.newban.cn/page/231/index.html">
<meta property="og:site_name" content="开发者博客 – IT技术 尽在开发者博客">
<meta property="og:locale" content="zh-Hans">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="开发者博客 – IT技术 尽在开发者博客">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Muse',
    version: '5.1.4',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":true,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>
<!--谷歌广告验证代码-->
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({
          google_ad_client: "ca-pub-2626449904708114",
          enable_page_level_ads: true
     });
</script>
<!--谷歌广告验证代码-->



  <link rel="canonical" href="https://dev.newban.cn/page/231/">





  <title>开发者博客 – IT技术 尽在开发者博客</title>
  








</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  
  
    
  

  <div class="container sidebar-position-left 
  page-home">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">开发者博客 – IT技术 尽在开发者博客</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle">开发者博客 – 科技是第一生产力</p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="http://dev.newban.cn/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br>
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="https://dev.newban.cn/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br>
            
            归档
          </a>
        </li>
      

      
        <li class="menu-item menu-item-search">
          
            <a href="javascript:;" class="popup-trigger">
          
            
              <i class="menu-item-icon fa fa-search fa-fw"></i> <br>
            
            搜索
          </a>
        </li>
      
    </ul>
  

  
    <div class="site-search">
      
  <div class="popup search-popup local-search-popup">
  <div class="local-search-header clearfix">
    <span class="search-icon">
      <i class="fa fa-search"></i>
    </span>
    <span class="popup-btn-close">
      <i class="fa fa-times-circle"></i>
    </span>
    <div class="local-search-input-wrapper">
      <input autocomplete="off" placeholder="搜索..." spellcheck="false" type="text" id="local-search-input">
    </div>
  </div>
  <div id="local-search-result"></div>
</div>



    </div>
  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://dev.newban.cn../../7023667639264215077.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="开发者博客">
      <meta itemprop="description" content>
      <meta itemprop="image" content="../../images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="开发者博客 – IT技术 尽在开发者博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="../../7023667639264215077.html" itemprop="url">东哥带你刷图论第四期：二分图的判定</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2021-10-27T16:58:03+08:00">
                2021-10-27
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>&#x8BFB;&#x5B8C;&#x672C;&#x6587;&#xFF0C;&#x4F60;&#x4E0D;&#x4EC5;&#x5B66;&#x4F1A;&#x4E86;&#x7B97;&#x6CD5;&#x5957;&#x8DEF;&#xFF0C;&#x8FD8;&#x53EF;&#x4EE5;&#x987A;&#x4FBF;&#x53BB; LeetCode &#x4E0A;&#x62FF;&#x4E0B;&#x5982;&#x4E0B;&#x9898;&#x76EE;&#xFF1A;</p>
<ol start="785">
<li>&#x5224;&#x65AD;&#x4E8C;&#x5206;&#x56FE;&#xFF08;&#x4E2D;&#x7B49;&#xFF09;</li>
<li>&#x53EF;&#x80FD;&#x7684;&#x4E8C;&#x5206;&#x6CD5;&#xFF08;&#x4E2D;&#x7B49;&#xFF09;</li>
</ol>
<p><strong>&#x2014;&#x2014;&#x2014;&#x2013;</strong></p>
<p>&#x6211;&#x4E4B;&#x524D;&#x5199;&#x4E86;&#x597D;&#x51E0;&#x7BC7;&#x56FE;&#x8BBA;&#x76F8;&#x5173;&#x7684;&#x6587;&#x7AE0;&#xFF1A;</p>
<p><a href="/external_links/3784b01deb7e14300e6adaa3ab831120.html" target="blank" rel="noopener">&#x56FE;&#x904D;&#x5386;&#x7B97;&#x6CD5;</a></p>
<p><a href="/external_links/3784b01deb7e14300e6adaa3ab831120.html" target="blank" rel="noopener">&#x540D;&#x6D41;&#x95EE;&#x9898;</a></p>
<p><a href="/external_links/3784b01deb7e14300e6adaa3ab831120.html" target="blank" rel="noopener">&#x5E76;&#x67E5;&#x96C6;&#x7B97;&#x6CD5;&#x8BA1;&#x7B97;&#x8FDE;&#x901A;&#x5206;&#x91CF;</a></p>
<p><a href="/external_links/3784b01deb7e14300e6adaa3ab831120.html" target="blank" rel="noopener">&#x73AF;&#x68C0;&#x6D4B;&#x548C;&#x62D3;&#x6251;&#x6392;&#x5E8F;</a></p>
<p><a href="/external_links/3784b01deb7e14300e6adaa3ab831120.html" target="blank" rel="noopener">Dijkstra &#x6700;&#x77ED;&#x8DEF;&#x5F84;&#x7B97;&#x6CD5;</a></p>
<p>&#x4ECA;&#x5929;&#x7EE7;&#x7EED;&#x6765;&#x8BB2;&#x4E00;&#x4E2A;&#x7ECF;&#x5178;&#x56FE;&#x8BBA;&#x7B97;&#x6CD5;&#xFF1A;&#x4E8C;&#x5206;&#x56FE;&#x5224;&#x5B9A;&#x3002;</p>
<h3 id="&#x4E8C;&#x5206;&#x56FE;&#x7B80;&#x4ECB;"><a href="#&#x4E8C;&#x5206;&#x56FE;&#x7B80;&#x4ECB;" class="headerlink" title="&#x4E8C;&#x5206;&#x56FE;&#x7B80;&#x4ECB;"></a>&#x4E8C;&#x5206;&#x56FE;&#x7B80;&#x4ECB;</h3><p>&#x5728;&#x8BB2;&#x4E8C;&#x5206;&#x56FE;&#x7684;&#x5224;&#x5B9A;&#x7B97;&#x6CD5;&#x4E4B;&#x524D;&#xFF0C;&#x6211;&#x4EEC;&#x5148;&#x6765;&#x770B;&#x4E0B;&#x767E;&#x5EA6;&#x767E;&#x79D1;&#x5BF9;&#x300C;&#x4E8C;&#x5206;&#x56FE;&#x300D;&#x7684;&#x5B9A;&#x4E49;&#xFF1A;</p>
<blockquote>
<p>&#x4E8C;&#x5206;&#x56FE;&#x7684;&#x9876;&#x70B9;&#x96C6;&#x53EF;&#x5206;&#x5272;&#x4E3A;&#x4E24;&#x4E2A;&#x4E92;&#x4E0D;&#x76F8;&#x4EA4;&#x7684;&#x5B50;&#x96C6;&#xFF0C;&#x56FE;&#x4E2D;&#x6BCF;&#x6761;&#x8FB9;&#x4F9D;&#x9644;&#x7684;&#x4E24;&#x4E2A;&#x9876;&#x70B9;&#x90FD;&#x5206;&#x5C5E;&#x4E8E;&#x8FD9;&#x4E24;&#x4E2A;&#x5B50;&#x96C6;&#xFF0C;&#x4E14;&#x4E24;&#x4E2A;&#x5B50;&#x96C6;&#x5185;&#x7684;&#x9876;&#x70B9;&#x4E0D;&#x76F8;&#x90BB;&#x3002;</p>
</blockquote>
<p><img src="https://gitee.com/songjianzaina/juejin_p6/raw/master/img/0f25cc56a5248acaff1dea34989e04c0a94a321da43e1f806eb49b8551432759" alt></p>
<p>&#x5176;&#x5B9E;&#x56FE;&#x8BBA;&#x91CC;&#x9762;&#x5F88;&#x591A;&#x672F;&#x8BED;&#x7684;&#x5B9A;&#x4E49;&#x90FD;&#x6BD4;&#x8F83;&#x62D7;&#x53E3;&#xFF0C;&#x4E0D;&#x5BB9;&#x6613;&#x7406;&#x89E3;&#x3002;&#x6211;&#x4EEC;&#x752D;&#x770B;&#x8FD9;&#x4E2A;&#x6B7B;&#x677F;&#x7684;&#x5B9A;&#x4E49;&#x4E86;&#xFF0C;&#x6765;&#x73A9;&#x4E2A;&#x6E38;&#x620F;&#x5427;&#xFF1A;</p>
<p><strong>&#x7ED9;&#x4F60;&#x4E00;&#x5E45;&#x300C;&#x56FE;&#x300D;&#xFF0C;&#x8BF7;&#x4F60;&#x7528;&#x4E24;&#x79CD;&#x989C;&#x8272;&#x5C06;&#x56FE;&#x4E2D;&#x7684;&#x6240;&#x6709;&#x9876;&#x70B9;&#x7740;&#x8272;&#xFF0C;&#x4E14;&#x4F7F;&#x5F97;&#x4EFB;&#x610F;&#x4E00;&#x6761;&#x8FB9;&#x7684;&#x4E24;&#x4E2A;&#x7AEF;&#x70B9;&#x7684;&#x989C;&#x8272;&#x90FD;&#x4E0D;&#x76F8;&#x540C;&#xFF0C;&#x4F60;&#x80FD;&#x505A;&#x5230;&#x5417;</strong>&#xFF1F;</p>
<p>&#x8FD9;&#x5C31;&#x662F;&#x56FE;&#x7684;&#x300C;&#x53CC;&#x8272;&#x95EE;&#x9898;&#x300D;&#xFF0C;&#x5176;&#x5B9E;&#x8FD9;&#x4E2A;&#x95EE;&#x9898;&#x5C31;&#x7B49;&#x540C;&#x4E8E;&#x4E8C;&#x5206;&#x56FE;&#x7684;&#x5224;&#x5B9A;&#x95EE;&#x9898;&#xFF0C;&#x5982;&#x679C;&#x4F60;&#x80FD;&#x591F;&#x6210;&#x529F;&#x5730;&#x5C06;&#x56FE;&#x67D3;&#x8272;&#xFF0C;&#x90A3;&#x4E48;&#x8FD9;&#x5E45;&#x56FE;&#x5C31;&#x662F;&#x4E00;&#x5E45;&#x4E8C;&#x5206;&#x56FE;&#xFF0C;&#x53CD;&#x4E4B;&#x5219;&#x4E0D;&#x662F;&#xFF1A;</p>
<p><img src="https://gitee.com/songjianzaina/juejin_p6/raw/master/img/4c468b3b16999fd9578189576d5f770cb4a16ad9fca0e798a251f00a54a87c5d" alt></p>
<p>&#x5728;&#x5177;&#x4F53;&#x8BB2;&#x89E3;&#x4E8C;&#x5206;&#x56FE;&#x5224;&#x5B9A;&#x7B97;&#x6CD5;&#x4E4B;&#x524D;&#xFF0C;&#x6211;&#x4EEC;&#x5148;&#x6765;&#x8BF4;&#x8BF4;&#x8BA1;&#x7B97;&#x673A;&#x5927;&#x4F6C;&#x4EEC;&#x95F2;&#x7740;&#x65E0;&#x804A;&#x89E3;&#x51B3;&#x53CC;&#x8272;&#x95EE;&#x9898;&#x7684;&#x76EE;&#x7684;&#x662F;&#x4EC0;&#x4E48;&#x3002;</p>
<p>&#x9996;&#x5148;&#xFF0C;&#x4E8C;&#x5206;&#x56FE;&#x4F5C;&#x4E3A;&#x4E00;&#x79CD;&#x7279;&#x6B8A;&#x7684;&#x56FE;&#x6A21;&#x578B;&#xFF0C;&#x4F1A;&#x88AB;&#x5F88;&#x591A;&#x9AD8;&#x7EA7;&#x56FE;&#x7B97;&#x6CD5;&#xFF08;&#x6BD4;&#x5982;&#x6700;&#x5927;&#x6D41;&#x7B97;&#x6CD5;&#xFF09;&#x7528;&#x5230;&#xFF0C;&#x4E0D;&#x8FC7;&#x8FD9;&#x4E9B;&#x9AD8;&#x7EA7;&#x7B97;&#x6CD5;&#x6211;&#x4EEC;&#x4E0D;&#x662F;&#x7279;&#x522B;&#x6709;&#x5FC5;&#x8981;&#x53BB;&#x638C;&#x63E1;&#xFF0C;&#x6709;&#x5174;&#x8DA3;&#x7684;&#x8BFB;&#x8005;&#x53EF;&#x4EE5;&#x81EA;&#x884C;&#x641C;&#x7D22;&#x3002;</p>
<p>&#x4ECE;&#x7B80;&#x5355;&#x5B9E;&#x7528;&#x7684;&#x89D2;&#x5EA6;&#x6765;&#x770B;&#xFF0C;&#x4E8C;&#x5206;&#x56FE;&#x7ED3;&#x6784;&#x5728;&#x67D0;&#x4E9B;&#x573A;&#x666F;&#x53EF;&#x4EE5;&#x66F4;&#x9AD8;&#x6548;&#x5730;&#x5B58;&#x50A8;&#x6570;&#x636E;&#x3002;</p>
<p>&#x6BD4;&#x5982;&#x524D;&#x6587; <a href="/external_links/3784b01deb7e14300e6adaa3ab831120.html" target="blank" rel="noopener">&#x4ECB;&#x7ECD;&#x300A;&#x7B97;&#x6CD5; 4&#x300B;</a> &#x6587;&#x7AE0;&#x4E2D;&#x7684;&#x4F8B;&#x5B50;&#xFF0C;&#x5982;&#x4F55;&#x5B58;&#x50A8;&#x7535;&#x5F71;&#x6F14;&#x5458;&#x548C;&#x7535;&#x5F71;&#x4E4B;&#x95F4;&#x7684;&#x5173;&#x7CFB;&#xFF1F;</p>
<p>&#x5982;&#x679C;&#x7528;&#x54C8;&#x5E0C;&#x8868;&#x5B58;&#x50A8;&#xFF0C;&#x9700;&#x8981;&#x4E24;&#x4E2A;&#x54C8;&#x5E0C;&#x8868;&#x5206;&#x522B;&#x5B58;&#x50A8;&#x300C;&#x6BCF;&#x4E2A;&#x6F14;&#x5458;&#x5230;&#x7535;&#x5F71;&#x5217;&#x8868;&#x300D;&#x7684;&#x6620;&#x5C04;&#x548C;&#x300C;&#x6BCF;&#x90E8;&#x7535;&#x5F71;&#x5230;&#x6F14;&#x5458;&#x5217;&#x8868;&#x300D;&#x7684;&#x6620;&#x5C04;&#x3002;</p>
<p>&#x4F46;&#x5982;&#x679C;&#x7528;&#x300C;&#x56FE;&#x300D;&#x7ED3;&#x6784;&#x5B58;&#x50A8;&#xFF0C;&#x5C06;&#x7535;&#x5F71;&#x548C;&#x53C2;&#x6F14;&#x7684;&#x6F14;&#x5458;&#x8FDE;&#x63A5;&#xFF0C;&#x5F88;&#x81EA;&#x7136;&#x5730;&#x5C31;&#x6210;&#x4E3A;&#x4E86;&#x4E00;&#x5E45;&#x4E8C;&#x5206;&#x56FE;&#xFF1A;</p>
<p><img src="https://gitee.com/songjianzaina/juejin_p6/raw/master/img/88a5d4f503b26504ed25f8cf38a0b97ddfd234c4f024896a96a3fa363de0660b" alt></p>
<p>&#x6BCF;&#x4E2A;&#x7535;&#x5F71;&#x8282;&#x70B9;&#x7684;&#x76F8;&#x90BB;&#x8282;&#x70B9;&#x5C31;&#x662F;&#x53C2;&#x6F14;&#x8BE5;&#x7535;&#x5F71;&#x7684;&#x6240;&#x6709;&#x6F14;&#x5458;&#xFF0C;&#x6BCF;&#x4E2A;&#x6F14;&#x5458;&#x7684;&#x76F8;&#x90BB;&#x8282;&#x70B9;&#x5C31;&#x662F;&#x8BE5;&#x6F14;&#x5458;&#x53C2;&#x6F14;&#x8FC7;&#x7684;&#x6240;&#x6709;&#x7535;&#x5F71;&#xFF0C;&#x975E;&#x5E38;&#x65B9;&#x4FBF;&#x76F4;&#x89C2;&#x3002;</p>
<p>&#x7C7B;&#x6BD4;&#x8FD9;&#x4E2A;&#x4F8B;&#x5B50;&#xFF0C;&#x5176;&#x5B9E;&#x751F;&#x6D3B;&#x4E2D;&#x4E0D;&#x5C11;&#x5B9E;&#x4F53;&#x7684;&#x5173;&#x7CFB;&#x90FD;&#x80FD;&#x81EA;&#x7136;&#x5730;&#x5F62;&#x6210;&#x4E8C;&#x5206;&#x56FE;&#x7ED3;&#x6784;&#xFF0C;&#x6240;&#x4EE5;&#x5728;&#x67D0;&#x4E9B;&#x573A;&#x666F;&#x4E0B;&#x56FE;&#x7ED3;&#x6784;&#x4E5F;&#x53EF;&#x4EE5;&#x4F5C;&#x4E3A;&#x5B58;&#x50A8;&#x952E;&#x503C;&#x5BF9;&#x7684;&#x6570;&#x636E;&#x7ED3;&#x6784;&#xFF08;&#x7B26;&#x53F7;&#x8868;&#xFF09;&#x3002;</p>
<p>&#x597D;&#x4E86;&#xFF0C;&#x63A5;&#x4E0B;&#x6765;&#x8FDB;&#x5165;&#x6B63;&#x9898;&#xFF0C;&#x8BF4;&#x8BF4;&#x5982;&#x4F55;&#x5224;&#x5B9A;&#x4E00;&#x5E45;&#x56FE;&#x662F;&#x5426;&#x662F;&#x4E8C;&#x5206;&#x56FE;&#x3002;</p>
<h3 id="&#x4E8C;&#x5206;&#x56FE;&#x5224;&#x5B9A;&#x601D;&#x8DEF;"><a href="#&#x4E8C;&#x5206;&#x56FE;&#x5224;&#x5B9A;&#x601D;&#x8DEF;" class="headerlink" title="&#x4E8C;&#x5206;&#x56FE;&#x5224;&#x5B9A;&#x601D;&#x8DEF;"></a>&#x4E8C;&#x5206;&#x56FE;&#x5224;&#x5B9A;&#x601D;&#x8DEF;</h3><p>&#x5224;&#x5B9A;&#x4E8C;&#x5206;&#x56FE;&#x7684;&#x7B97;&#x6CD5;&#x5F88;&#x7B80;&#x5355;&#xFF0C;&#x5C31;&#x662F;&#x7528;&#x4EE3;&#x7801;&#x89E3;&#x51B3;&#x300C;&#x53CC;&#x8272;&#x95EE;&#x9898;&#x300D;&#x3002;</p>
<p><strong>&#x8BF4;&#x767D;&#x4E86;&#x5C31;&#x662F;&#x904D;&#x5386;&#x4E00;&#x904D;&#x56FE;&#xFF0C;&#x4E00;&#x8FB9;&#x904D;&#x5386;&#x4E00;&#x904D;&#x67D3;&#x8272;&#xFF0C;&#x770B;&#x770B;&#x80FD;&#x4E0D;&#x80FD;&#x7528;&#x4E24;&#x79CD;&#x989C;&#x8272;&#x7ED9;&#x6240;&#x6709;&#x8282;&#x70B9;&#x67D3;&#x8272;&#xFF0C;&#x4E14;&#x76F8;&#x90BB;&#x8282;&#x70B9;&#x7684;&#x989C;&#x8272;&#x90FD;&#x4E0D;&#x76F8;&#x540C;</strong>&#x3002;</p>
<p>&#x65E2;&#x7136;&#x8BF4;&#x5230;&#x904D;&#x5386;&#x56FE;&#xFF0C;&#x4E5F;&#x4E0D;&#x6D89;&#x53CA;&#x6700;&#x77ED;&#x8DEF;&#x5F84;&#x4E4B;&#x7C7B;&#x7684;&#xFF0C;&#x5F53;&#x7136;&#x662F; DFS &#x7B97;&#x6CD5;&#x548C; BFS &#x7686;&#x53EF;&#x4E86;&#xFF0C;DFS &#x7B97;&#x6CD5;&#x76F8;&#x5BF9;&#x66F4;&#x5E38;&#x7528;&#x4E9B;&#xFF0C;&#x6240;&#x4EE5;&#x6211;&#x4EEC;&#x5148;&#x6765;&#x770B;&#x770B;&#x5982;&#x4F55;&#x7528; DFS &#x7B97;&#x6CD5;&#x5224;&#x5B9A;&#x53CC;&#x8272;&#x56FE;&#x3002;</p>
<p>&#x9996;&#x5148;&#xFF0C;&#x57FA;&#x4E8E; <a href="/external_links/3784b01deb7e14300e6adaa3ab831120.html" target="blank" rel="noopener">&#x5B66;&#x4E60;&#x6570;&#x636E;&#x7ED3;&#x6784;&#x548C;&#x7B97;&#x6CD5;&#x7684;&#x6846;&#x67B6;&#x601D;&#x7EF4;</a> &#x5199;&#x51FA;&#x56FE;&#x7684;&#x904D;&#x5386;&#x6846;&#x67B6;&#xFF1A;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">java&#x590D;&#x5236;&#x4EE3;&#x7801;/* &#x4E8C;&#x53C9;&#x6811;&#x904D;&#x5386;&#x6846;&#x67B6; */</span><br><span class="line">void traverse(TreeNode root) {</span><br><span class="line">    if (root == null) return;</span><br><span class="line">    traverse(root.left);</span><br><span class="line">    traverse(root.right);</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line">/* &#x591A;&#x53C9;&#x6811;&#x904D;&#x5386;&#x6846;&#x67B6; */</span><br><span class="line">void traverse(Node root) {</span><br><span class="line">    if (root == null) return;</span><br><span class="line">    for (Node child : root.children)</span><br><span class="line">        traverse(child);</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line">/* &#x56FE;&#x904D;&#x5386;&#x6846;&#x67B6; */</span><br><span class="line">boolean[] visited;</span><br><span class="line">void traverse(Graph graph, int v) {</span><br><span class="line">    // &#x9632;&#x6B62;&#x8D70;&#x56DE;&#x5934;&#x8DEF;&#x8FDB;&#x5165;&#x6B7B;&#x5FAA;&#x73AF;</span><br><span class="line">    if (visited[v]) return;</span><br><span class="line">    // &#x524D;&#x5E8F;&#x904D;&#x5386;&#x4F4D;&#x7F6E;&#xFF0C;&#x6807;&#x8BB0;&#x8282;&#x70B9; v &#x5DF2;&#x8BBF;&#x95EE;</span><br><span class="line">    visited[v] = true;</span><br><span class="line">    for (TreeNode neighbor : graph.neighbors(v))</span><br><span class="line">        traverse(graph, neighbor);</span><br><span class="line">}</span><br></pre></td></tr></table></figure>

<p>&#x56E0;&#x4E3A;&#x56FE;&#x4E2D;&#x53EF;&#x80FD;&#x5B58;&#x5728;&#x73AF;&#xFF0C;&#x6240;&#x4EE5;&#x7528; <code>visited</code> &#x6570;&#x7EC4;&#x9632;&#x6B62;&#x8D70;&#x56DE;&#x5934;&#x8DEF;&#x3002;</p>
<p><strong>&#x8FD9;&#x91CC;&#x53EF;&#x4EE5;&#x770B;&#x5230;&#x6211;&#x4E60;&#x60EF;&#x628A; return &#x8BED;&#x53E5;&#x90FD;&#x653E;&#x5728;&#x51FD;&#x6570;&#x5F00;&#x5934;&#xFF0C;&#x56E0;&#x4E3A;&#x4E00;&#x822C; return &#x8BED;&#x53E5;&#x90FD;&#x662F; base case&#xFF0C;&#x96C6;&#x4E2D;&#x653E;&#x5728;&#x4E00;&#x8D77;&#x53EF;&#x4EE5;&#x8BA9;&#x7B97;&#x6CD5;&#x7ED3;&#x6784;&#x66F4;&#x6E05;&#x6670;</strong>&#x3002;</p>
<p>&#x5176;&#x5B9E;&#xFF0C;&#x5982;&#x679C;&#x4F60;&#x613F;&#x610F;&#xFF0C;&#x4E5F;&#x53EF;&#x4EE5;&#x628A; if &#x5224;&#x65AD;&#x653E;&#x5230;&#x5176;&#x5B83;&#x5730;&#x65B9;&#xFF0C;&#x6BD4;&#x5982;&#x56FE;&#x904D;&#x5386;&#x6846;&#x67B6;&#x53EF;&#x4EE5;&#x7A0D;&#x5FAE;&#x6539;&#x6539;&#xFF1A;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">java&#x590D;&#x5236;&#x4EE3;&#x7801;/* &#x56FE;&#x904D;&#x5386;&#x6846;&#x67B6; */</span><br><span class="line">boolean[] visited;</span><br><span class="line">void traverse(Graph graph, int v) {</span><br><span class="line">    // &#x524D;&#x5E8F;&#x904D;&#x5386;&#x4F4D;&#x7F6E;&#xFF0C;&#x6807;&#x8BB0;&#x8282;&#x70B9; v &#x5DF2;&#x8BBF;&#x95EE;</span><br><span class="line">    visited[v] = true;</span><br><span class="line">    for (int neighbor : graph.neighbors(v)) {</span><br><span class="line">        if (!visited[neighbor]) {</span><br><span class="line">            // &#x53EA;&#x904D;&#x5386;&#x6CA1;&#x6807;&#x8BB0;&#x8FC7;&#x7684;&#x76F8;&#x90BB;&#x8282;&#x70B9;</span><br><span class="line">            traverse(graph, neighbor);</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></table></figure>

<p>&#x8FD9;&#x79CD;&#x5199;&#x6CD5;&#x628A;&#x5BF9; <code>visited</code> &#x7684;&#x5224;&#x65AD;&#x653E;&#x5230;&#x9012;&#x5F52;&#x8C03;&#x7528;&#x4E4B;&#x524D;&#xFF0C;&#x548C;&#x4E4B;&#x524D;&#x7684;&#x5199;&#x6CD5;&#x552F;&#x4E00;&#x7684;&#x4E0D;&#x540C;&#x5C31;&#x662F;&#xFF0C;&#x4F60;&#x9700;&#x8981;&#x4FDD;&#x8BC1;&#x8C03;&#x7528; <code>traverse(v)</code> &#x7684;&#x65F6;&#x5019;&#xFF0C;<code>visited[v] == false</code>&#x3002;</p>
<p>&#x4E3A;&#x4EC0;&#x4E48;&#x8981;&#x7279;&#x522B;&#x8BF4;&#x8FD9;&#x79CD;&#x5199;&#x6CD5;&#x5462;&#xFF1F;&#x56E0;&#x4E3A;&#x6211;&#x4EEC;&#x5224;&#x65AD;&#x4E8C;&#x5206;&#x56FE;&#x7684;&#x7B97;&#x6CD5;&#x4F1A;&#x7528;&#x5230;&#x8FD9;&#x79CD;&#x5199;&#x6CD5;&#x3002;</p>
<p><strong>&#x56DE;&#x987E;&#x4E00;&#x4E0B;&#x4E8C;&#x5206;&#x56FE;&#x600E;&#x4E48;&#x5224;&#x65AD;&#xFF0C;&#x5176;&#x5B9E;&#x5C31;&#x662F;&#x8BA9; <code>traverse</code> &#x51FD;&#x6570;&#x4E00;&#x8FB9;&#x904D;&#x5386;&#x8282;&#x70B9;&#xFF0C;&#x4E00;&#x8FB9;&#x7ED9;&#x8282;&#x70B9;&#x67D3;&#x8272;&#xFF0C;&#x5C1D;&#x8BD5;&#x8BA9;&#x6BCF;&#x5BF9;&#x76F8;&#x90BB;&#x8282;&#x70B9;&#x7684;&#x989C;&#x8272;&#x90FD;&#x4E0D;&#x4E00;&#x6837;</strong>&#x3002;</p>
<p>&#x6240;&#x4EE5;&#xFF0C;&#x5224;&#x5B9A;&#x4E8C;&#x5206;&#x56FE;&#x7684;&#x4EE3;&#x7801;&#x903B;&#x8F91;&#x53EF;&#x4EE5;&#x8FD9;&#x6837;&#x5199;&#xFF1A;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">java&#x590D;&#x5236;&#x4EE3;&#x7801;/* &#x56FE;&#x904D;&#x5386;&#x6846;&#x67B6; */</span><br><span class="line">void traverse(Graph graph, boolean[] visited, int v) {</span><br><span class="line">    visited[v] = true;</span><br><span class="line">    // &#x904D;&#x5386;&#x8282;&#x70B9; v &#x7684;&#x6240;&#x6709;&#x76F8;&#x90BB;&#x8282;&#x70B9; neighbor</span><br><span class="line">    for (int neighbor : graph.neighbors(v)) {</span><br><span class="line">        if (!visited[neighbor]) {</span><br><span class="line">            // &#x76F8;&#x90BB;&#x8282;&#x70B9; neighbor &#x6CA1;&#x6709;&#x88AB;&#x8BBF;&#x95EE;&#x8FC7;</span><br><span class="line">            // &#x90A3;&#x4E48;&#x5E94;&#x8BE5;&#x7ED9;&#x8282;&#x70B9; neighbor &#x6D82;&#x4E0A;&#x548C;&#x8282;&#x70B9; v &#x4E0D;&#x540C;&#x7684;&#x989C;&#x8272;</span><br><span class="line">            traverse(graph, visited, neighbor);</span><br><span class="line">        } else {</span><br><span class="line">            // &#x76F8;&#x90BB;&#x8282;&#x70B9; neighbor &#x5DF2;&#x7ECF;&#x88AB;&#x8BBF;&#x95EE;&#x8FC7;</span><br><span class="line">            // &#x90A3;&#x4E48;&#x5E94;&#x8BE5;&#x6BD4;&#x8F83;&#x8282;&#x70B9; neighbor &#x548C;&#x8282;&#x70B9; v &#x7684;&#x989C;&#x8272;</span><br><span class="line">            // &#x82E5;&#x76F8;&#x540C;&#xFF0C;&#x5219;&#x6B64;&#x56FE;&#x4E0D;&#x662F;&#x4E8C;&#x5206;&#x56FE;</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></table></figure>

<p>&#x5982;&#x679C;&#x4F60;&#x80FD;&#x770B;&#x61C2;&#x4E0A;&#x9762;&#x8FD9;&#x6BB5;&#x4EE3;&#x7801;&#xFF0C;&#x5C31;&#x80FD;&#x5199;&#x51FA;&#x4E8C;&#x5206;&#x56FE;&#x5224;&#x5B9A;&#x7684;&#x5177;&#x4F53;&#x4EE3;&#x7801;&#x4E86;&#xFF0C;&#x63A5;&#x4E0B;&#x6765;&#x770B;&#x4E24;&#x9053;&#x5177;&#x4F53;&#x7684;&#x7B97;&#x6CD5;&#x9898;&#x6765;&#x5B9E;&#x64CD;&#x4E00;&#x4E0B;&#x3002;</p>
<h3 id="&#x9898;&#x76EE;&#x5B9E;&#x8DF5;"><a href="#&#x9898;&#x76EE;&#x5B9E;&#x8DF5;" class="headerlink" title="&#x9898;&#x76EE;&#x5B9E;&#x8DF5;"></a>&#x9898;&#x76EE;&#x5B9E;&#x8DF5;</h3><p>&#x529B;&#x6263;&#x7B2C; 785 &#x9898;&#x300C;&#x5224;&#x65AD;&#x4E8C;&#x5206;&#x56FE;&#x300D;&#x5C31;&#x662F;&#x539F;&#x9898;&#xFF0C;&#x9898;&#x76EE;&#x7ED9;&#x4F60;&#x8F93;&#x5165;&#x4E00;&#x4E2A; <a href="/external_links/3784b01deb7e14300e6adaa3ab831120.html" target="blank" rel="noopener">&#x90BB;&#x63A5;&#x8868;</a> &#x8868;&#x793A;&#x4E00;&#x5E45;&#x65E0;&#x5411;&#x56FE;&#xFF0C;&#x8BF7;&#x4F60;&#x5224;&#x65AD;&#x8FD9;&#x5E45;&#x56FE;&#x662F;&#x5426;&#x662F;&#x4E8C;&#x5206;&#x56FE;&#x3002;</p>
<p>&#x51FD;&#x6570;&#x7B7E;&#x540D;&#x5982;&#x4E0B;&#xFF1A;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">java&#x590D;&#x5236;&#x4EE3;&#x7801;boolean isBipartite(int[][] graph);</span><br></pre></td></tr></table></figure>

<p>&#x6BD4;&#x5982;&#x9898;&#x76EE;&#x7ED9;&#x7684;&#x4F8B;&#x5B50;&#xFF0C;&#x8F93;&#x5165;&#x7684;&#x90BB;&#x63A5;&#x8868; <code>graph = [[1,2,3],[0,2],[0,1,3],[0,2]]</code>&#xFF0C;&#x4E5F;&#x5C31;&#x662F;&#x8FD9;&#x6837;&#x4E00;&#x5E45;&#x56FE;&#xFF1A;</p>
<p><img src="https://gitee.com/songjianzaina/juejin_p6/raw/master/img/9461eefa9b19f0a23b166f412d5d0825ea819237eca6f034e2b7bde43aa2b246" alt></p>
<p>&#x663E;&#x7136;&#x65E0;&#x6CD5;&#x5BF9;&#x8282;&#x70B9;&#x7740;&#x8272;&#x4F7F;&#x5F97;&#x6BCF;&#x4E24;&#x4E2A;&#x76F8;&#x90BB;&#x8282;&#x70B9;&#x7684;&#x989C;&#x8272;&#x90FD;&#x4E0D;&#x76F8;&#x540C;&#xFF0C;&#x6240;&#x4EE5;&#x7B97;&#x6CD5;&#x8FD4;&#x56DE; false&#x3002;</p>
<p>&#x4F46;&#x5982;&#x679C;&#x8F93;&#x5165; <code>graph = [[1,3],[0,2],[1,3],[0,2]]</code>&#xFF0C;&#x4E5F;&#x5C31;&#x662F;&#x8FD9;&#x6837;&#x4E00;&#x5E45;&#x56FE;&#xFF1A;</p>
<p><img src="https://gitee.com/songjianzaina/juejin_p6/raw/master/img/33761a265dade9a033a3c8019129c7d258f763255f1f5442e4ab295511be5959" alt></p>
<p>&#x5982;&#x679C;&#x628A;&#x8282;&#x70B9; <code>{0, 2}</code> &#x6D82;&#x4E00;&#x4E2A;&#x989C;&#x8272;&#xFF0C;&#x8282;&#x70B9; <code>{1, 3}</code> &#x6D82;&#x53E6;&#x4E00;&#x4E2A;&#x989C;&#x8272;&#xFF0C;&#x5C31;&#x53EF;&#x4EE5;&#x89E3;&#x51B3;&#x300C;&#x53CC;&#x8272;&#x95EE;&#x9898;&#x300D;&#xFF0C;&#x6240;&#x4EE5;&#x8FD9;&#x662F;&#x4E00;&#x5E45;&#x4E8C;&#x5206;&#x56FE;&#xFF0C;&#x7B97;&#x6CD5;&#x8FD4;&#x56DE; true&#x3002;</p>
<p>&#x7ED3;&#x5408;&#x4E4B;&#x524D;&#x7684;&#x4EE3;&#x7801;&#x6846;&#x67B6;&#xFF0C;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x989D;&#x5916;&#x4F7F;&#x7528;&#x4E00;&#x4E2A; <code>color</code> &#x6570;&#x7EC4;&#x6765;&#x8BB0;&#x5F55;&#x6BCF;&#x4E2A;&#x8282;&#x70B9;&#x7684;&#x989C;&#x8272;&#xFF0C;&#x4ECE;&#x800C;&#x5199;&#x51FA;&#x89E3;&#x6CD5;&#x4EE3;&#x7801;&#xFF1A;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line">java&#x590D;&#x5236;&#x4EE3;&#x7801;// &#x8BB0;&#x5F55;&#x56FE;&#x662F;&#x5426;&#x7B26;&#x5408;&#x4E8C;&#x5206;&#x56FE;&#x6027;&#x8D28;</span><br><span class="line">private boolean ok = true;</span><br><span class="line">// &#x8BB0;&#x5F55;&#x56FE;&#x4E2D;&#x8282;&#x70B9;&#x7684;&#x989C;&#x8272;&#xFF0C;false &#x548C; true &#x4EE3;&#x8868;&#x4E24;&#x79CD;&#x4E0D;&#x540C;&#x989C;&#x8272;</span><br><span class="line">private boolean[] color;</span><br><span class="line">// &#x8BB0;&#x5F55;&#x56FE;&#x4E2D;&#x8282;&#x70B9;&#x662F;&#x5426;&#x88AB;&#x8BBF;&#x95EE;&#x8FC7;</span><br><span class="line">private boolean[] visited;</span><br><span class="line"></span><br><span class="line">// &#x4E3B;&#x51FD;&#x6570;&#xFF0C;&#x8F93;&#x5165;&#x90BB;&#x63A5;&#x8868;&#xFF0C;&#x5224;&#x65AD;&#x662F;&#x5426;&#x662F;&#x4E8C;&#x5206;&#x56FE;</span><br><span class="line">public boolean isBipartite(int[][] graph) {</span><br><span class="line">    int n = graph.length;</span><br><span class="line">    color =  new boolean[n];</span><br><span class="line">    visited =  new boolean[n];</span><br><span class="line">    // &#x56E0;&#x4E3A;&#x56FE;&#x4E0D;&#x4E00;&#x5B9A;&#x662F;&#x8054;&#x901A;&#x7684;&#xFF0C;&#x53EF;&#x80FD;&#x5B58;&#x5728;&#x591A;&#x4E2A;&#x5B50;&#x56FE;</span><br><span class="line">    // &#x6240;&#x4EE5;&#x8981;&#x628A;&#x6BCF;&#x4E2A;&#x8282;&#x70B9;&#x90FD;&#x4F5C;&#x4E3A;&#x8D77;&#x70B9;&#x8FDB;&#x884C;&#x4E00;&#x6B21;&#x904D;&#x5386;</span><br><span class="line">    // &#x5982;&#x679C;&#x53D1;&#x73B0;&#x4EFB;&#x4F55;&#x4E00;&#x4E2A;&#x5B50;&#x56FE;&#x4E0D;&#x662F;&#x4E8C;&#x5206;&#x56FE;&#xFF0C;&#x6574;&#x5E45;&#x56FE;&#x90FD;&#x4E0D;&#x7B97;&#x4E8C;&#x5206;&#x56FE;</span><br><span class="line">    for (int v = 0; v &lt; n; v++) {</span><br><span class="line">        if (!visited[v]) {</span><br><span class="line">            traverse(graph, v);</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">    return ok;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line">// DFS &#x904D;&#x5386;&#x6846;&#x67B6;</span><br><span class="line">private void traverse(int[][] graph, int v) {</span><br><span class="line">    // &#x5982;&#x679C;&#x5DF2;&#x7ECF;&#x786E;&#x5B9A;&#x4E0D;&#x662F;&#x4E8C;&#x5206;&#x56FE;&#x4E86;&#xFF0C;&#x5C31;&#x4E0D;&#x7528;&#x6D6A;&#x8D39;&#x65F6;&#x95F4;&#x518D;&#x9012;&#x5F52;&#x904D;&#x5386;&#x4E86;</span><br><span class="line">    if (!ok) return;</span><br><span class="line"></span><br><span class="line">    visited[v] = true;</span><br><span class="line">    for (int w : graph[v]) {</span><br><span class="line">        if (!visited[w]) {</span><br><span class="line">            // &#x76F8;&#x90BB;&#x8282;&#x70B9; w &#x6CA1;&#x6709;&#x88AB;&#x8BBF;&#x95EE;&#x8FC7;</span><br><span class="line">            // &#x90A3;&#x4E48;&#x5E94;&#x8BE5;&#x7ED9;&#x8282;&#x70B9; w &#x6D82;&#x4E0A;&#x548C;&#x8282;&#x70B9; v &#x4E0D;&#x540C;&#x7684;&#x989C;&#x8272;</span><br><span class="line">            color[w] = !color[v];</span><br><span class="line">            // &#x7EE7;&#x7EED;&#x904D;&#x5386; w</span><br><span class="line">            traverse(graph, w);</span><br><span class="line">        } else {</span><br><span class="line">            // &#x76F8;&#x90BB;&#x8282;&#x70B9; w &#x5DF2;&#x7ECF;&#x88AB;&#x8BBF;&#x95EE;&#x8FC7;</span><br><span class="line">            // &#x6839;&#x636E; v &#x548C; w &#x7684;&#x989C;&#x8272;&#x5224;&#x65AD;&#x662F;&#x5426;&#x662F;&#x4E8C;&#x5206;&#x56FE;</span><br><span class="line">            if (color[w] == color[v]) {</span><br><span class="line">                // &#x82E5;&#x76F8;&#x540C;&#xFF0C;&#x5219;&#x6B64;&#x56FE;&#x4E0D;&#x662F;&#x4E8C;&#x5206;&#x56FE;</span><br><span class="line">                ok = false;</span><br><span class="line">            }</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></table></figure>

<p>&#x8FD9;&#x5C31;&#x662F;&#x89E3;&#x51B3;&#x300C;&#x53CC;&#x8272;&#x95EE;&#x9898;&#x300D;&#x7684;&#x4EE3;&#x7801;&#xFF0C;&#x5982;&#x679C;&#x80FD;&#x6210;&#x529F;&#x5BF9;&#x6574;&#x5E45;&#x56FE;&#x67D3;&#x8272;&#xFF0C;&#x5219;&#x8BF4;&#x660E;&#x8FD9;&#x662F;&#x4E00;&#x5E45;&#x4E8C;&#x5206;&#x56FE;&#xFF0C;&#x5426;&#x5219;&#x5C31;&#x4E0D;&#x662F;&#x4E8C;&#x5206;&#x56FE;&#x3002;</p>
<p>&#x63A5;&#x4E0B;&#x6765;&#x770B;&#x4E00;&#x4E0B; BFS &#x7B97;&#x6CD5;&#x7684;&#x903B;&#x8F91;&#xFF1A;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line">java&#x590D;&#x5236;&#x4EE3;&#x7801;// &#x8BB0;&#x5F55;&#x56FE;&#x662F;&#x5426;&#x7B26;&#x5408;&#x4E8C;&#x5206;&#x56FE;&#x6027;&#x8D28;</span><br><span class="line">private boolean ok = true;</span><br><span class="line">// &#x8BB0;&#x5F55;&#x56FE;&#x4E2D;&#x8282;&#x70B9;&#x7684;&#x989C;&#x8272;&#xFF0C;false &#x548C; true &#x4EE3;&#x8868;&#x4E24;&#x79CD;&#x4E0D;&#x540C;&#x989C;&#x8272;</span><br><span class="line">private boolean[] color;</span><br><span class="line">// &#x8BB0;&#x5F55;&#x56FE;&#x4E2D;&#x8282;&#x70B9;&#x662F;&#x5426;&#x88AB;&#x8BBF;&#x95EE;&#x8FC7;</span><br><span class="line">private boolean[] visited;</span><br><span class="line"></span><br><span class="line">public boolean isBipartite(int[][] graph) {</span><br><span class="line">    int n = graph.length;</span><br><span class="line">    color =  new boolean[n];</span><br><span class="line">    visited =  new boolean[n];</span><br><span class="line">    </span><br><span class="line">    for (int v = 0; v &lt; n; v++) {</span><br><span class="line">        if (!visited[v]) {</span><br><span class="line">            // &#x6539;&#x4E3A;&#x4F7F;&#x7528; BFS &#x51FD;&#x6570;</span><br><span class="line">            bfs(graph, v);</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">    </span><br><span class="line">    return ok;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line">// &#x4ECE; start &#x8282;&#x70B9;&#x5F00;&#x59CB;&#x8FDB;&#x884C; BFS &#x904D;&#x5386;</span><br><span class="line">private void bfs(int[][] graph, int start) {</span><br><span class="line">    Queue&lt;Integer&gt; q = new LinkedList&lt;&gt;();</span><br><span class="line">    visited[start] = true;</span><br><span class="line">    q.offer(start);</span><br><span class="line">    </span><br><span class="line">    while (!q.isEmpty() &amp;&amp; ok) {</span><br><span class="line">        int v = q.poll();</span><br><span class="line">        // &#x4ECE;&#x8282;&#x70B9; v &#x5411;&#x6240;&#x6709;&#x76F8;&#x90BB;&#x8282;&#x70B9;&#x6269;&#x6563;</span><br><span class="line">        for (int w : graph[v]) {</span><br><span class="line">            if (!visited[w]) {</span><br><span class="line">                // &#x76F8;&#x90BB;&#x8282;&#x70B9; w &#x6CA1;&#x6709;&#x88AB;&#x8BBF;&#x95EE;&#x8FC7;</span><br><span class="line">                // &#x90A3;&#x4E48;&#x5E94;&#x8BE5;&#x7ED9;&#x8282;&#x70B9; w &#x6D82;&#x4E0A;&#x548C;&#x8282;&#x70B9; v &#x4E0D;&#x540C;&#x7684;&#x989C;&#x8272;</span><br><span class="line">                color[w] = !color[v];</span><br><span class="line">                // &#x6807;&#x8BB0; w &#x8282;&#x70B9;&#xFF0C;&#x5E76;&#x653E;&#x5165;&#x961F;&#x5217;</span><br><span class="line">                visited[w] = true;</span><br><span class="line">                q.offer(w);</span><br><span class="line">            } else {</span><br><span class="line">                // &#x76F8;&#x90BB;&#x8282;&#x70B9; w &#x5DF2;&#x7ECF;&#x88AB;&#x8BBF;&#x95EE;&#x8FC7;</span><br><span class="line">                // &#x6839;&#x636E; v &#x548C; w &#x7684;&#x989C;&#x8272;&#x5224;&#x65AD;&#x662F;&#x5426;&#x662F;&#x4E8C;&#x5206;&#x56FE;</span><br><span class="line">                if (color[w] == color[v]) {</span><br><span class="line">                    // &#x82E5;&#x76F8;&#x540C;&#xFF0C;&#x5219;&#x6B64;&#x56FE;&#x4E0D;&#x662F;&#x4E8C;&#x5206;&#x56FE;</span><br><span class="line">                    ok = false;</span><br><span class="line">                }</span><br><span class="line">            }</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></table></figure>

<p>&#x6838;&#x5FC3;&#x903B;&#x8F91;&#x548C;&#x521A;&#x624D;&#x5B9E;&#x73B0;&#x7684; <code>traverse</code> &#x51FD;&#x6570;&#xFF08;DFS &#x7B97;&#x6CD5;&#xFF09;&#x5B8C;&#x5168;&#x4E00;&#x6837;&#xFF0C;&#x4E5F;&#x662F;&#x6839;&#x636E;&#x76F8;&#x90BB;&#x8282;&#x70B9; <code>v</code> &#x548C; <code>w</code> &#x7684;&#x989C;&#x8272;&#x6765;&#x8FDB;&#x884C;&#x5224;&#x65AD;&#x7684;&#x3002;&#x5173;&#x4E8E; BFS &#x7B97;&#x6CD5;&#x6846;&#x67B6;&#x7684;&#x63A2;&#x8BA8;&#xFF0C;&#x8BE6;&#x89C1;&#x524D;&#x6587; <a href="/external_links/3784b01deb7e14300e6adaa3ab831120.html" target="blank" rel="noopener">BFS &#x7B97;&#x6CD5;&#x6846;&#x67B6;</a> &#x548C; <a href="/external_links/3784b01deb7e14300e6adaa3ab831120.html" target="blank" rel="noopener">Dijkstra &#x7B97;&#x6CD5;&#x6A21;&#x677F;</a>&#xFF0C;&#x8FD9;&#x91CC;&#x5C31;&#x4E0D;&#x5C55;&#x5F00;&#x4E86;&#x3002;</p>
<p>&#x6700;&#x540E;&#x518D;&#x6765;&#x770B;&#x770B;&#x529B;&#x6263;&#x7B2C; 886 &#x9898;&#x300C;&#x53EF;&#x80FD;&#x7684;&#x4E8C;&#x5206;&#x6CD5;&#x300D;&#xFF1A;</p>
<p><img src="https://gitee.com/songjianzaina/juejin_p6/raw/master/img/505ab479dfa87785001723a2a86e066dadd92d90f3766e07477db9edb3bc7c9c" alt></p>
<p>&#x51FD;&#x6570;&#x7B7E;&#x540D;&#x5982;&#x4E0B;&#xFF1A;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">java&#x590D;&#x5236;&#x4EE3;&#x7801;boolean possibleBipartition(int n, int[][] dislikes);</span><br></pre></td></tr></table></figure>

<p><strong>&#x5176;&#x5B9E;&#x8FD9;&#x9898;&#x8003;&#x5BDF;&#x7684;&#x5C31;&#x662F;&#x4E8C;&#x5206;&#x56FE;&#x7684;&#x5224;&#x5B9A;</strong>&#xFF1A;</p>
<p>&#x5982;&#x679C;&#x4F60;&#x628A;&#x6BCF;&#x4E2A;&#x4EBA;&#x770B;&#x505A;&#x56FE;&#x4E2D;&#x7684;&#x8282;&#x70B9;&#xFF0C;&#x76F8;&#x4E92;&#x8BA8;&#x538C;&#x7684;&#x5173;&#x7CFB;&#x770B;&#x505A;&#x56FE;&#x4E2D;&#x7684;&#x8FB9;&#xFF0C;&#x90A3;&#x4E48; <code>dislikes</code> &#x6570;&#x7EC4;&#x5C31;&#x53EF;&#x4EE5;&#x6784;&#x6210;&#x4E00;&#x5E45;&#x56FE;&#xFF1B;</p>
<p>&#x53C8;&#x56E0;&#x4E3A;&#x9898;&#x76EE;&#x8BF4;&#x4E92;&#x76F8;&#x8BA8;&#x538C;&#x7684;&#x4EBA;&#x4E0D;&#x80FD;&#x653E;&#x5728;&#x540C;&#x4E00;&#x7EC4;&#x91CC;&#xFF0C;&#x76F8;&#x5F53;&#x4E8E;&#x56FE;&#x4E2D;&#x7684;&#x6240;&#x6709;&#x76F8;&#x90BB;&#x8282;&#x70B9;&#x90FD;&#x8981;&#x653E;&#x8FDB;&#x4E24;&#x4E2A;&#x4E0D;&#x540C;&#x7684;&#x7EC4;&#xFF1B;</p>
<p>&#x90A3;&#x5C31;&#x56DE;&#x5230;&#x4E86;&#x300C;&#x53CC;&#x8272;&#x95EE;&#x9898;&#x300D;&#xFF0C;&#x5982;&#x679C;&#x80FD;&#x591F;&#x7528;&#x4E24;&#x79CD;&#x989C;&#x8272;&#x7740;&#x8272;&#x6240;&#x6709;&#x8282;&#x70B9;&#xFF0C;&#x4E14;&#x76F8;&#x90BB;&#x8282;&#x70B9;&#x989C;&#x8272;&#x90FD;&#x4E0D;&#x540C;&#xFF0C;&#x90A3;&#x4E48;&#x4F60;&#x6309;&#x7167;&#x989C;&#x8272;&#x628A;&#x8FD9;&#x4E9B;&#x8282;&#x70B9;&#x5206;&#x6210;&#x4E24;&#x7EC4;&#x4E0D;&#x5C31;&#x884C;&#x4E86;&#x561B;&#x3002;</p>
<p>&#x6240;&#x4EE5;&#x89E3;&#x6CD5;&#x5C31;&#x51FA;&#x6765;&#x4E86;&#xFF0C;&#x6211;&#x4EEC;&#x628A; <code>dislikes</code> &#x6784;&#x9020;&#x6210;&#x4E00;&#x5E45;&#x56FE;&#xFF0C;&#x7136;&#x540E;&#x6267;&#x884C;&#x4E8C;&#x5206;&#x56FE;&#x7684;&#x5224;&#x5B9A;&#x7B97;&#x6CD5;&#x5373;&#x53EF;&#xFF1A;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line">java&#x590D;&#x5236;&#x4EE3;&#x7801;private boolean ok = true;</span><br><span class="line">private boolean[] color;</span><br><span class="line">private boolean[] visited;</span><br><span class="line"></span><br><span class="line">public boolean possibleBipartition(int n, int[][] dislikes) {</span><br><span class="line">    // &#x56FE;&#x8282;&#x70B9;&#x7F16;&#x53F7;&#x4ECE; 1 &#x5F00;&#x59CB;</span><br><span class="line">    color = new boolean[n + 1];</span><br><span class="line">    visited = new boolean[n + 1];</span><br><span class="line">    // &#x8F6C;&#x5316;&#x6210;&#x90BB;&#x63A5;&#x8868;&#x8868;&#x793A;&#x56FE;&#x7ED3;&#x6784;</span><br><span class="line">    List&lt;Integer&gt;[] graph = buildGraph(n, dislikes);</span><br><span class="line">    </span><br><span class="line">    for (int v = 1; v &lt;= n; v++) {</span><br><span class="line">        if (!visited[v]) {</span><br><span class="line">            traverse(graph, v);</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">    </span><br><span class="line">    return ok;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line">// &#x5EFA;&#x56FE;&#x51FD;&#x6570;</span><br><span class="line">private List&lt;Integer&gt;[] buildGraph(int n, int[][] dislikes) {</span><br><span class="line">    // &#x56FE;&#x8282;&#x70B9;&#x7F16;&#x53F7;&#x4E3A; 1...n</span><br><span class="line">    List&lt;Integer&gt;[] graph = new LinkedList[n + 1];</span><br><span class="line">    for (int i = 1; i &lt;= n; i++) {</span><br><span class="line">        graph[i] = new LinkedList&lt;&gt;();</span><br><span class="line">    }</span><br><span class="line">    for (int[] edge : dislikes) {</span><br><span class="line">        int v = edge[1];</span><br><span class="line">        int w = edge[0];</span><br><span class="line">        // &#x300C;&#x65E0;&#x5411;&#x56FE;&#x300D;&#x76F8;&#x5F53;&#x4E8E;&#x300C;&#x53CC;&#x5411;&#x56FE;&#x300D;</span><br><span class="line">        // v -&gt; w</span><br><span class="line">        graph[v].add(w);</span><br><span class="line">        // w -&gt; v</span><br><span class="line">        graph[w].add(v);</span><br><span class="line">    }</span><br><span class="line">    return graph;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line">// &#x548C;&#x4E4B;&#x524D;&#x7684; traverse &#x51FD;&#x6570;&#x5B8C;&#x5168;&#x76F8;&#x540C;</span><br><span class="line">private void traverse(List&lt;Integer&gt;[] graph, int v) {</span><br><span class="line">    if (!ok) return;</span><br><span class="line">    visited[v] = true;</span><br><span class="line">    for (int w : graph[v]) {</span><br><span class="line">        if (!visited[w]) {</span><br><span class="line">            color[w] = !color[v];</span><br><span class="line">            traverse(graph, w);</span><br><span class="line">        } else {</span><br><span class="line">            if (color[w] == color[v]) {</span><br><span class="line">                ok = false;</span><br><span class="line">            }</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></table></figure>

<p>&#x81F3;&#x6B64;&#xFF0C;&#x8FD9;&#x9053;&#x9898;&#x4E5F;&#x4F7F;&#x7528; DFS &#x7B97;&#x6CD5;&#x89E3;&#x51B3;&#x4E86;&#xFF0C;&#x5982;&#x679C;&#x4F60;&#x60F3;&#x7528; BFS &#x7B97;&#x6CD5;&#xFF0C;&#x548C;&#x4E4B;&#x524D;&#x5199;&#x7684;&#x89E3;&#x6CD5;&#x662F;&#x5B8C;&#x5168;&#x4E00;&#x6837;&#x7684;&#xFF0C;&#x53EF;&#x4EE5;&#x81EA;&#x5DF1;&#x5C1D;&#x8BD5;&#x5B9E;&#x73B0;&#x3002;</p>
<p>&#x4E8C;&#x5206;&#x56FE;&#x7684;&#x5224;&#x5B9A;&#x7B97;&#x6CD5;&#x5C31;&#x8BB2;&#x5230;&#x8FD9;&#x91CC;&#xFF0C;&#x66F4;&#x591A;&#x4E8C;&#x5206;&#x56FE;&#x7684;&#x9AD8;&#x7EA7;&#x7B97;&#x6CD5;&#xFF0C;&#x656C;&#x8BF7;&#x671F;&#x5F85;&#x3002;</p>
<p><strong>&#xFF3F;&#xFF3F;&#xFF3F;&#xFF3F;&#xFF3F;&#xFF3F;&#xFF3F;&#xFF3F;&#xFF3F;&#xFF3F;&#xFF3F;&#xFF3F;&#xFF3F;</strong></p>
<blockquote>
<p><strong>&#x67E5;&#x770B;&#x66F4;&#x591A;&#x4F18;&#x8D28;&#x7B97;&#x6CD5;&#x6587;&#x7AE0; <a href="/external_links/3784b01deb7e14300e6adaa3ab831120.html" target="blank" rel="noopener">&#x70B9;&#x51FB;&#x6211;&#x7684;&#x5934;&#x50CF;</a>&#xFF0C;&#x624B;&#x628A;&#x624B;&#x5E26;&#x4F60;&#x5237;&#x529B;&#x6263;&#xFF0C;&#x81F4;&#x529B;&#x4E8E;&#x628A;&#x7B97;&#x6CD5;&#x8BB2;&#x6E05;&#x695A;&#xFF01;&#x6211;&#x7684; <a href="/external_links/7249efa293fccaccb8357535c6a3d077.html" target="blank" rel="noopener">&#x7B97;&#x6CD5;&#x6559;&#x7A0B;</a> &#x5DF2;&#x7ECF;&#x83B7;&#x5F97; 90k star&#xFF0C;&#x6B22;&#x8FCE;&#x70B9;&#x8D5E;&#xFF01;</strong></p>
</blockquote>
<p><strong>&#x672C;&#x6587;&#x8F6C;&#x8F7D;&#x81EA;:</strong> <a href="/external_links/739710e8b111a0448923f79984f9de03.html" target="blank" rel="noopener">&#x6398;&#x91D1;</a></p>
<p><em><a href="https://dev.newban.cn/">&#x5F00;&#x53D1;&#x8005;&#x535A;&#x5BA2; &#x2013; &#x548C;&#x5F00;&#x53D1;&#x76F8;&#x5173;&#x7684; &#x8FD9;&#x91CC;&#x5168;&#x90FD;&#x6709;</a></em></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://dev.newban.cn../../7023649189196201992.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="开发者博客">
      <meta itemprop="description" content>
      <meta itemprop="image" content="../../images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="开发者博客 – IT技术 尽在开发者博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="../../7023649189196201992.html" itemprop="url">阿里EasyExcel让你彻底告别easypoi</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2021-10-27T15:47:58+08:00">
                2021-10-27
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p><strong>&#x4E3A;&#x4EC0;&#x4E48;&#x8BF4;EasyExcel&#x53EF;&#x4EE5;&#x8BA9;&#x4F60;&#x544A;&#x522B;easypoi&#x5462;&#xFF1F;&#x5728;&#x8BF4;&#x8FD9;&#x4E2A;&#x95EE;&#x9898;&#x4E4B;&#x524D;&#x6211;&#x4EEC;&#x5148;&#x6765;&#x4E86;&#x89E3;&#x4E0B;easypoi</strong></p>
<h3 id="easypoi"><a href="#easypoi" class="headerlink" title="easypoi"></a>easypoi</h3><blockquote>
<p>easypoi&#x529F;&#x80FD;&#x5982;&#x540C;&#x540D;&#x5B57;easy,&#x4E3B;&#x6253;&#x7684;&#x529F;&#x80FD;&#x5C31;&#x662F;&#x5BB9;&#x6613;,&#x8BA9;&#x4E00;&#x4E2A;&#x6CA1;&#x89C1;&#x63A5;&#x89E6;&#x8FC7;poi&#x7684;&#x4EBA;&#x5458; &#x5C31;&#x53EF;&#x4EE5;&#x65B9;&#x4FBF;&#x7684;&#x5199;&#x51FA;Excel&#x5BFC;&#x51FA;,Excel&#x6A21;&#x677F;&#x5BFC;&#x51FA;,Excel&#x5BFC;&#x5165;,Word&#x6A21;&#x677F;&#x5BFC;&#x51FA;,&#x901A;&#x8FC7;&#x7B80;&#x5355;&#x7684;&#x6CE8;&#x89E3;&#x548C;&#x6A21;&#x677F; &#x8BED;&#x8A00;(&#x719F;&#x6089;&#x7684;&#x8868;&#x8FBE;&#x5F0F;&#x8BED;&#x6CD5;),&#x5B8C;&#x6210;&#x4EE5;&#x524D;&#x590D;&#x6742;&#x7684;&#x5199;&#x6CD5;</p>
</blockquote>
<p>&#x8FD9;&#x662F;easypoi&#x5B98;&#x65B9;&#x7ED9;&#x51FA;&#x7684;&#x5B9A;&#x4E49;&#xFF0C;&#x4F7F;&#x7528;&#x8FD9;&#x4E2A;&#x5DE5;&#x5177;&#x540E;&#x53D1;&#x73B0;&#x5728;&#x8FDB;&#x884C;excel&#x7684;&#x5BFC;&#x5165;&#x5BFC;&#x51FA;&#x65F6;&#xFF0C;&#x7684;&#x786E;&#x5F88;&#x65B9;&#x4FBF;&#x3002;&#x7279;&#x522B;&#x662F;&#x4E00;&#x4E9B;&#x7B80;&#x5355;&#x7684;excel</p>
<p><img src="https://gitee.com/songjianzaina/juejin_p5/raw/master/img/9a5dd9f947129afb80542a531004b49199d70b9c03ee71b5e9603196576127ff" alt="image.png"><br>&#x6BD4;&#x5982;&#x8FD9;&#x79CD;&#x7B80;&#x5355;&#x7684;excel&#xFF0C;easypoi&#x7684;&#x786E;&#x662F;&#x4E0D;&#x4E8C;&#x9009;&#x62E9;&#xFF0C;&#x53EA;&#x9700;&#x8981;&#x5F15;&#x5165;mavn&#x4F9D;&#x8D56;&#xFF0C;&#x6DFB;&#x52A0;&#x4E00;&#x4E2A;pojo,&#x52A0;&#x4E00;&#x4E2A;&#x6CE8;&#x89E3;&#xFF0C;&#x7136;&#x540E;&#x5C31;&#x53EF;&#x4EE5;&#x5BFC;&#x51FA;&#x3002;<br>&#x4F46;&#x662F;&#x5728;&#x9047;&#x5230;&#x4E00;&#x4E9B;&#x6BD4;&#x8F83;&#x590D;&#x6742;&#x7684;excel&#xFF0C;&#x6BD4;&#x5982;&#x4E0B;&#x9762;&#x8FD9;&#x79CD;&#xFF1A;</p>
<p><img src="https://gitee.com/songjianzaina/juejin_p5/raw/master/img/4002994a01f4deccea5ee170952a596e0193146541262f66730182f166782a37" alt="image.png"></p>
<p><img src="https://gitee.com/songjianzaina/juejin_p5/raw/master/img/7ec8f7160265d9b37e23ec0f973a168c21b0193ccbae334dceeb9f16bbc821e1" alt="image.png"><br>&#x7C7B;&#x4F3C;&#x4E0E;&#x8FD9;&#x79CD;&#x6BD4;&#x8F83;&#x590D;&#x6742;&#x7684;&#x8868;&#x5934;&#xFF0C;&#x4E00;&#x4E2A;sheet&#x591A;&#x5F20;&#x8868;&#xFF0C;&#x591A;&#x4E2A;sheet,&#x5408;&#x5E76;&#x5355;&#x5143;&#x683C;&#x5404;&#x79CD;&#x590D;&#x6742;&#x7684;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;easypoi&#x5904;&#x7406;&#x8D77;&#x6765;&#x5C31;&#x6BD4;&#x8F83;&#x590D;&#x6742;&#x4E86;,&#x53CD;&#x89C2;easyExcel&#x5C31;&#x6BD4;&#x8F83;&#x62FF;&#x624B;&#x3002;</p>
<p>easyExcel&#x5904;&#x7406;&#x7B80;&#x5355;&#x7684;excel&#x548C;easypoi&#x4E00;&#x6837;&#x7B80;&#x5355;&#xFF0C;&#x5904;&#x7406;&#x590D;&#x6742;&#x7684;excel&#x4E5F;&#x5B8C;&#x5168;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;&#x6CE8;&#x89E3;&#x7684;&#x65B9;&#x5F0F;&#x4E00;&#x6B65;&#x5230;&#x4F4D;&#x3002;&#x5F00;&#x53D1;&#x8005;&#x53EA;&#x9700;&#x8981;&#x7F16;&#x5199;&#x5F88;&#x5C11;&#x7684;style&#x4EE3;&#x7801;&#x5C31;&#x80FD;&#x76F4;&#x63A5;&#x8FBE;&#x5230;&#x81EA;&#x5DF1;&#x60F3;&#x8981;&#x7684;&#x6548;&#x679C;&#xFF0C;&#x4E0B;&#x9762;&#x5C31;&#x8BA9;&#x6211;&#x4EEC;&#x4E00;&#x8D77;&#x6765;&#x770B;&#x770B;easyExcel&#x7684;&#x5F3A;&#x5927;&#x4E4B;&#x5904;</p>
<h3 id="&#x5F15;&#x5165;maven&#x4F9D;&#x8D56;"><a href="#&#x5F15;&#x5165;maven&#x4F9D;&#x8D56;" class="headerlink" title="&#x5F15;&#x5165;maven&#x4F9D;&#x8D56;"></a>&#x5F15;&#x5165;maven&#x4F9D;&#x8D56;</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">xml&#x590D;&#x5236;&#x4EE3;&#x7801;&lt;dependency&gt;</span><br><span class="line">    &lt;groupId&gt;com.alibaba&lt;/groupId&gt;</span><br><span class="line">    &lt;artifactId&gt;easyexcel&lt;/artifactId&gt;</span><br><span class="line">    &lt;version&gt;2.2.10&lt;/version&gt;</span><br><span class="line">&lt;/dependency&gt;</span><br><span class="line"></span><br><span class="line">&lt;dependency&gt;</span><br><span class="line">    &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;</span><br><span class="line">    &lt;artifactId&gt;poi&lt;/artifactId&gt;</span><br><span class="line">    &lt;version&gt;4.1.0&lt;/version&gt;</span><br><span class="line">&lt;/dependency&gt;</span><br><span class="line">&lt;dependency&gt;</span><br><span class="line">    &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;</span><br><span class="line">    &lt;artifactId&gt;poi-ooxml&lt;/artifactId&gt;</span><br><span class="line">    &lt;version&gt;3.15&lt;/version&gt;</span><br><span class="line">&lt;/dependency&gt;</span><br></pre></td></tr></table></figure>

<h3 id="&#x65B0;&#x5EFA;&#x5B9E;&#x4F53;"><a href="#&#x65B0;&#x5EFA;&#x5B9E;&#x4F53;" class="headerlink" title="&#x65B0;&#x5EFA;&#x5B9E;&#x4F53;"></a>&#x65B0;&#x5EFA;&#x5B9E;&#x4F53;</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line">less&#x590D;&#x5236;&#x4EE3;&#x7801;</span><br><span class="line">@Data</span><br><span class="line">@Accessors(chain = true)</span><br><span class="line">@FieldNameConstants</span><br><span class="line">@HeadRowHeight(value = 25)</span><br><span class="line">@ContentRowHeight(value = 18)</span><br><span class="line">@ColumnWidth(value = 20)</span><br><span class="line">@HeadStyle(fillBackgroundColor = 64)</span><br><span class="line">@HeadFontStyle(bold = false)</span><br><span class="line">@ContentStyle(borderTop= BorderStyle.THIN,borderLeft = BorderStyle.THIN,borderRight = BorderStyle.THIN,borderBottom = BorderStyle.THIN)</span><br><span class="line">public class ComplexSubjectEasyExcel {</span><br><span class="line"></span><br><span class="line">    @ExcelProperty(value = {&quot;&#x79D1;&#x76EE;&#x4F59;&#x989D;&#x8868;&quot;,&quot;&#x7F16;&#x5236;&#x5355;&#x4F4D;&#xFF1A;  &#x6D4B;&#x8BD5;&#x5355;&#x4F4D;321412&quot;,&quot;&#x79D1;&#x76EE;&#x7F16;&#x7801;&quot;,&quot;&#x79D1;&#x76EE;&#x7F16;&#x7801;&quot;},index = 0)</span><br><span class="line">    private String subjectId;</span><br><span class="line"></span><br><span class="line">    @ExcelProperty(value = {&quot;&#x79D1;&#x76EE;&#x4F59;&#x989D;&#x8868;&quot;,&quot;&#x7F16;&#x5236;&#x5355;&#x4F4D;&#xFF1A;  &#x6D4B;&#x8BD5;&#x5355;&#x4F4D;321412&quot;,&quot;&#x79D1;&#x76EE;&#x540D;&#x79F0;&quot;,&quot;&#x79D1;&#x76EE;&#x540D;&#x79F0;&quot;},index = 1)</span><br><span class="line">    private String subjectName;</span><br><span class="line"></span><br><span class="line">    @HeadFontStyle(bold = true)</span><br><span class="line">    @ExcelProperty(value = {&quot;&#x79D1;&#x76EE;&#x4F59;&#x989D;&#x8868;&quot;,&quot;&#x7F16;&#x5236;&#x5355;&#x4F4D;&#xFF1A;  &#x6D4B;&#x8BD5;&#x5355;&#x4F4D;321412&quot;,&quot;&#x671F;&#x521D;&#x4F59;&#x989D;&quot;,&quot;&#x501F;&#x65B9;&quot;},index = 2)</span><br><span class="line">    private BigDecimal firstBorrowMoney;</span><br><span class="line"></span><br><span class="line">    @HeadFontStyle(bold = true)</span><br><span class="line">    @ExcelProperty(value = {&quot;&#x79D1;&#x76EE;&#x4F59;&#x989D;&#x8868;&quot;,&quot;&#x7F16;&#x5236;&#x5355;&#x4F4D;&#xFF1A;  &#x6D4B;&#x8BD5;&#x5355;&#x4F4D;321412&quot;,&quot;&#x671F;&#x521D;&#x4F59;&#x989D;&quot;,&quot;&#x8D37;&#x65B9;&quot;},index = 3)</span><br><span class="line">    private BigDecimal firstCreditMoney;</span><br><span class="line"></span><br><span class="line">    @HeadFontStyle(bold = true)</span><br><span class="line">    @ExcelProperty(value = {&quot;&#x79D1;&#x76EE;&#x4F59;&#x989D;&#x8868;&quot;,&quot;2021&#x5E74;9&#x6708;&#x81F3;2021&#x5E74;9&#x6708;&quot;,&quot;&#x672C;&#x671F;&#x53D1;&#x751F;&#x989D;&quot;,&quot;&#x501F;&#x65B9;&quot;},index = 4)</span><br><span class="line">    private BigDecimal nowBorrowMoney;</span><br><span class="line"></span><br><span class="line">    @HeadFontStyle(bold = true)</span><br><span class="line">    @ExcelProperty(value = {&quot;&#x79D1;&#x76EE;&#x4F59;&#x989D;&#x8868;&quot;,&quot;2021&#x5E74;9&#x6708;&#x81F3;2021&#x5E74;9&#x6708;&quot;,&quot;&#x672C;&#x671F;&#x53D1;&#x751F;&#x989D;&quot;,&quot;&#x8D37;&#x65B9;&quot;},index = 5)</span><br><span class="line">    private BigDecimal nowCreditMoney;</span><br><span class="line"></span><br><span class="line">    @HeadFontStyle(bold = true)</span><br><span class="line">    @ExcelProperty(value = {&quot;&#x79D1;&#x76EE;&#x4F59;&#x989D;&#x8868;&quot;,&quot;2021&#x5E74;9&#x6708;&#x81F3;2021&#x5E74;9&#x6708;&quot;,&quot;&#x672C;&#x5E74;&#x7D2F;&#x8BA1;&#x53D1;&#x751F;&#x989D;&quot;,&quot;&#x501F;&#x65B9;&quot;},index = 6)</span><br><span class="line">    private BigDecimal yearBorrowMoney;</span><br><span class="line"></span><br><span class="line">    @HeadFontStyle(bold = true)</span><br><span class="line">    @ExcelProperty(value = {&quot;&#x79D1;&#x76EE;&#x4F59;&#x989D;&#x8868;&quot;,&quot;2021&#x5E74;9&#x6708;&#x81F3;2021&#x5E74;9&#x6708;&quot;,&quot;&#x672C;&#x5E74;&#x7D2F;&#x8BA1;&#x53D1;&#x751F;&#x989D;&quot;,&quot;&#x8D37;&#x65B9;&quot;},index = 7)</span><br><span class="line">    private BigDecimal yearCreditMoney;</span><br><span class="line"></span><br><span class="line">    @HeadFontStyle(bold = true)</span><br><span class="line">    @ExcelProperty(value = {&quot;&#x79D1;&#x76EE;&#x4F59;&#x989D;&#x8868;&quot;,&quot;&#x5355;&#x4F4D;&#xFF1A;&#x5143;&quot;,&quot;&#x671F;&#x672B;&#x4F59;&#x989D;&quot;,&quot;&#x501F;&#x65B9;&quot;},index = 8)</span><br><span class="line">    private BigDecimal endBorrowMoney;</span><br><span class="line"></span><br><span class="line">    @HeadFontStyle(bold = true)</span><br><span class="line">    @ExcelProperty(value = {&quot;&#x79D1;&#x76EE;&#x4F59;&#x989D;&#x8868;&quot;,&quot;&#x5355;&#x4F4D;&#xFF1A;&#x5143;&quot;,&quot;&#x671F;&#x672B;&#x4F59;&#x989D;&quot;,&quot;&#x8D37;&#x65B9;&quot;},index = 9)</span><br><span class="line">    private BigDecimal endCreditMoney;</span><br><span class="line"></span><br><span class="line">}</span><br></pre></td></tr></table></figure>

<p>@ExcelProperty &#x6CE8;&#x89E3;&#x7684;value&#x662F;&#x4E2A;&#x6570;&#x7EC4;&#xFF0C;&#x6309;&#x7167;index&#x4ECE;&#x4E0A;&#x5230;&#x4E0B;&#xFF0C;&#x76F8;&#x540C;&#x7684;&#x503C;&#x5934;&#x90E8;&#x4F1A;&#x8FDB;&#x884C;&#x5408;&#x5E76;&#x3002;&#x8FD9;&#x79CD;&#x5408;&#x5E76;&#x5934;&#x90E8;&#x7684;&#x65B9;&#x5F0F;&#x76F8;&#x6BD4;easypoi&#x7684;&#x5B9E;&#x4F53;&#x5D4C;&#x5957;&#x663E;&#x5F97;&#x76F4;&#x89C2;&#x591A;&#x4E86;&#xFF0C;&#x66F4;&#x52A0;&#x65B9;&#x4FBF;&#x3002;&#x6211;&#x4EEC;&#x5BF9;&#x9875;&#x9762;&#x5217;&#x8868;&#x7684;&#x6570;&#x636E;&#x67E5;&#x8BE2;&#x540E;&#xFF0C;&#x4E5F;&#x4E0D;&#x7528;&#x8FDB;&#x884C;&#x6570;&#x7EC4;&#x5BF9;&#x8C61;&#x5D4C;&#x5957;&#x7EC4;&#x88C5;&#xFF0C;&#x7701;&#x4E86;&#x5F88;&#x591A;&#x7684;&#x5DE5;&#x4F5C;&#x91CF;&#xFF0C;&#x5982;&#x679C;&#x5E0C;&#x671B;&#x5934;&#x90E8;&#x7684;&#x6807;&#x9898;&#x662F;&#x52A8;&#x6001;&#x7684;&#x4E5F;&#x53EF;&#x4EE5;&#x8BBE;&#x7F6E;&#x6210;#{title}&#x7684;&#x65B9;&#x5F0F;(&#x5F53;&#x7136;&#x8FD9;&#x662F;&#x6211;&#x81EA;&#x5DF1;&#x5C01;&#x88C5;&#x7684;)</p>
<h3 id="&#x5BFC;&#x51FA;&#x5DE5;&#x5177;"><a href="#&#x5BFC;&#x51FA;&#x5DE5;&#x5177;" class="headerlink" title="&#x5BFC;&#x51FA;&#x5DE5;&#x5177;"></a>&#x5BFC;&#x51FA;&#x5DE5;&#x5177;</h3><p>&#x4E0B;&#x9762;&#x6211;&#x5C01;&#x88C5;&#x7684;easyExcel&#x5BFC;&#x51FA;&#x5DE5;&#x5177;&#xFF0C;&#x4F7F;&#x7528;&#x7684;&#x8BDD;&#x53EF;&#x4EE5;&#x76F4;&#x63A5;&#x590D;&#x5236;&#xFF0C;&#x5E76;&#x81EA;&#x5DF1;&#x505A;&#x4E9B;&#x9002;&#x5F53;&#x7684;&#x8C03;&#x6574;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br><span class="line">309</span><br><span class="line">310</span><br><span class="line">311</span><br><span class="line">312</span><br><span class="line">313</span><br><span class="line">314</span><br><span class="line">315</span><br><span class="line">316</span><br><span class="line">317</span><br><span class="line">318</span><br><span class="line">319</span><br><span class="line">320</span><br><span class="line">321</span><br></pre></td><td class="code"><pre><span class="line">ini&#x590D;&#x5236;&#x4EE3;&#x7801;</span><br><span class="line">import com.alibaba.excel.EasyExcel;</span><br><span class="line">import com.alibaba.excel.ExcelWriter;</span><br><span class="line">import com.alibaba.excel.annotation.ExcelProperty;</span><br><span class="line">import com.alibaba.excel.write.builder.ExcelWriterSheetBuilder;</span><br><span class="line">import com.alibaba.excel.write.builder.ExcelWriterTableBuilder;</span><br><span class="line">import com.alibaba.excel.write.handler.CellWriteHandler;</span><br><span class="line">import com.alibaba.excel.write.handler.WriteHandler;</span><br><span class="line">import com.alibaba.excel.write.metadata.WriteSheet;</span><br><span class="line">import com.alibaba.excel.write.metadata.WriteTable;</span><br><span class="line">import org.springframework.util.Assert;</span><br><span class="line"></span><br><span class="line">import java.io.File;</span><br><span class="line">import java.io.FileInputStream;</span><br><span class="line">import java.io.IOException;</span><br><span class="line">import java.io.InputStream;</span><br><span class="line">import java.lang.reflect.Field;</span><br><span class="line">import java.lang.reflect.InvocationHandler;</span><br><span class="line">import java.lang.reflect.Proxy;</span><br><span class="line">import java.util.*;</span><br><span class="line"></span><br><span class="line">/**</span><br><span class="line"> * easyExcel&#x5DE5;&#x5177;</span><br><span class="line"> */</span><br><span class="line">public class EasyExcelUtilsV1 {</span><br><span class="line"></span><br><span class="line">    public static final String FILE_PATH = &quot;/home/easy/excel/&quot;;</span><br><span class="line"></span><br><span class="line">    public static final Map&lt;String,List&lt;ExcelAnnotationValue&gt;&gt; annotationValues = new HashMap&lt;&gt;();</span><br><span class="line"></span><br><span class="line">    private static String outputStream(String fileName){</span><br><span class="line">        try {</span><br><span class="line">            String path = FILE_PATH+new Date().getTime() +&quot;/&quot;;</span><br><span class="line">            String filePath = path+fileName+&quot;.xls&quot;;</span><br><span class="line">            File dir = new File(path);</span><br><span class="line">            if(!dir.exists()){</span><br><span class="line">                dir.mkdirs();</span><br><span class="line">            }</span><br><span class="line">            File file = new File(filePath);</span><br><span class="line">            if(file.exists()){</span><br><span class="line">                file.deleteOnExit();</span><br><span class="line">            }</span><br><span class="line">            file.createNewFile();</span><br><span class="line">            return filePath;</span><br><span class="line">        } catch (Exception e) {</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        }</span><br><span class="line">        return null;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    /**</span><br><span class="line">     * &#x9ED8;&#x8BA4;&#x5BFC;&#x51FA;&#x65B9;&#x5F0F;  &#x5355;&#x4E2A;sheet</span><br><span class="line">     */</span><br><span class="line">    public static String defaultExportOssUrl(List&lt;?&gt; list, Class&lt;?&gt; pojoClass, String fileName, String sheetName, Map&lt;String,String&gt; vars){</span><br><span class="line">        resetCLassAnnotationValue(pojoClass);</span><br><span class="line">        setExportClassAnnotation(pojoClass,vars);</span><br><span class="line">        String filePath = outputStream(fileName);</span><br><span class="line">        EasyExcel.write(filePath,pojoClass)</span><br><span class="line">                .sheet(sheetName)</span><br><span class="line">                .registerWriteHandler(new CustomCellWriteHandler())</span><br><span class="line">                .doWrite(list);</span><br><span class="line">        return  getExcelOssUrl(filePath,fileName);</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    /**</span><br><span class="line">     * &#x9ED8;&#x8BA4;&#x5BFC;&#x51FA;&#x65B9;&#x5F0F;  &#x5355;&#x4E2A;sheet</span><br><span class="line">     */</span><br><span class="line">    public static String defaultExportOssUrl(List&lt;?&gt; list, Class&lt;?&gt; pojoClass, CellWriteHandler handler, String fileName, String sheetName, Map&lt;String,String&gt; vars){</span><br><span class="line">        resetCLassAnnotationValue(pojoClass);</span><br><span class="line">        setExportClassAnnotation(pojoClass,vars);</span><br><span class="line">        String filePath = outputStream(fileName);</span><br><span class="line">        EasyExcel.write(filePath,pojoClass)</span><br><span class="line">                .sheet(sheetName)</span><br><span class="line">                .registerWriteHandler(new CustomCellWriteHandler())</span><br><span class="line">                .registerWriteHandler(handler)</span><br><span class="line">                .doWrite(list);</span><br><span class="line">        return  getExcelOssUrl(filePath,fileName);</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    /**</span><br><span class="line">     * &#x9ED8;&#x8BA4;&#x5BFC;&#x51FA;excel &#x5355;&#x4E2A;sheet</span><br><span class="line">     */</span><br><span class="line">    public static String defaultExportOssUrl(List&lt;?&gt; list, Class&lt;?&gt; pojoClass, List&lt;WriteHandler&gt; handlers, String fileName, String sheetName, Map&lt;String,String&gt; vars) {</span><br><span class="line">        resetCLassAnnotationValue(pojoClass);</span><br><span class="line">        setExportClassAnnotation(pojoClass,vars);</span><br><span class="line">        String filePath = outputStream(fileName);</span><br><span class="line">        ExcelWriterSheetBuilder builder = EasyExcel.write(filePath,pojoClass)</span><br><span class="line">                .sheet(sheetName);</span><br><span class="line">        if(!ObjectUtils.isEmpty(handlers)){</span><br><span class="line">            for(WriteHandler handler : handlers){</span><br><span class="line">                builder.registerWriteHandler(handler);</span><br><span class="line">            }</span><br><span class="line">        }</span><br><span class="line">        builder.doWrite(list);</span><br><span class="line">        return getExcelOssUrl(filePath,fileName);</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    /**</span><br><span class="line">     * &#x9ED8;&#x8BA4;&#x5BFC;&#x51FA;excel &#x5355;&#x4E2A;sheet  &#x591A;&#x4E2A;table</span><br><span class="line">     */</span><br><span class="line">    public static String defaultExportOssUrl(EasyExcelMoreSheetMoreTableEntity entity, String fileName, Map&lt;String,String&gt; vars) {</span><br><span class="line">        String filePath = outputStream(fileName);</span><br><span class="line">        ExcelWriter excelWriter = EasyExcel.write(filePath).build();</span><br><span class="line">        String sheetName = entity.getSheetName();</span><br><span class="line">        List&lt;WriteHandler&gt; handlers = entity.getHandlers();</span><br><span class="line">        List&lt;EasyExcelMoreSheetEntity&gt; list = entity.getList();</span><br><span class="line">        try {</span><br><span class="line">            WriteSheet writeSheet = EasyExcel.writerSheet(0, sheetName).build();</span><br><span class="line">            for (int i = 0; i &lt; list.size(); i++) {</span><br><span class="line">                EasyExcelMoreSheetEntity sheetEntity = list.get(i);</span><br><span class="line">                List date = sheetEntity.getList();</span><br><span class="line">                Class clazz = sheetEntity.getClazz();</span><br><span class="line">                resetCLassAnnotationValue(clazz);</span><br><span class="line">                setExportClassAnnotation(clazz,vars);</span><br><span class="line">                ExcelWriterTableBuilder tableBuilder = EasyExcel.writerTable(i);</span><br><span class="line">                if (!ObjectUtils.isEmpty(handlers)) {</span><br><span class="line">                    for (WriteHandler handler : handlers) {</span><br><span class="line">                        tableBuilder.registerWriteHandler(handler);</span><br><span class="line">                    }</span><br><span class="line">                }</span><br><span class="line">                WriteTable table = tableBuilder.head(clazz).needHead(true).build();</span><br><span class="line">                excelWriter.write(date, writeSheet, table);</span><br><span class="line">            }</span><br><span class="line">        }catch (Exception e){</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        }finally {</span><br><span class="line">            excelWriter.finish();</span><br><span class="line">        }</span><br><span class="line">        return getExcelOssUrl(filePath,fileName);</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    /**</span><br><span class="line">     * &#x591A;&#x4E2A;sheet&#x9875;&#x5BFC;&#x51FA;</span><br><span class="line">     */</span><br><span class="line">    public static String moreSheetExportOssUrl(List&lt;EasyExcelMoreSheetEntity&gt; entities,String fileName){</span><br><span class="line">        String filePath = outputStream(fileName);</span><br><span class="line">        ExcelWriter excelWriter = EasyExcel.write(filePath).build();</span><br><span class="line">        try {</span><br><span class="line">            for (int i = 0; i &lt; entities.size(); i++) {</span><br><span class="line">                EasyExcelMoreSheetEntity entity = entities.get(i);</span><br><span class="line">                Class clazz = entity.getClazz();</span><br><span class="line">                List list = entity.getList();</span><br><span class="line">                Map&lt;String,String&gt; vars = entity.getVars();</span><br><span class="line">                resetCLassAnnotationValue(clazz);</span><br><span class="line">                setExportClassAnnotation(clazz,vars);</span><br><span class="line">                String sheetName = entity.getSheetName();</span><br><span class="line">                List&lt;WriteHandler&gt; handlers = entity.getHandlers();</span><br><span class="line">                ExcelWriterSheetBuilder builder = EasyExcel.writerSheet(i, sheetName);</span><br><span class="line">                if(!ObjectUtils.isEmpty(handlers)){</span><br><span class="line">                    for(WriteHandler handler :handlers){</span><br><span class="line">                        builder.registerWriteHandler(handler);</span><br><span class="line">                    }</span><br><span class="line">                }</span><br><span class="line">                WriteSheet writeSheet = builder.head(clazz).build();</span><br><span class="line">                excelWriter.write(list, writeSheet);</span><br><span class="line">            }</span><br><span class="line">        }catch (Exception e){</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        }finally {</span><br><span class="line">            excelWriter.finish();</span><br><span class="line">        }</span><br><span class="line">        return getExcelOssUrl(filePath,fileName);</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    @SuppressWarnings(&quot;unchecked&quot;)</span><br><span class="line">    public static String moreSheetMoreTableExportOssUrl(List&lt;EasyExcelMoreSheetMoreTableEntity&gt; entities,String fileName){</span><br><span class="line">        String filePath = outputStream(fileName);</span><br><span class="line">        ExcelWriter excelWriter = EasyExcel.write(filePath).build();</span><br><span class="line">        try {</span><br><span class="line">            for (int i = 0; i &lt; entities.size(); i++) {</span><br><span class="line">                EasyExcelMoreSheetMoreTableEntity entity = entities.get(i);</span><br><span class="line">                List&lt;EasyExcelMoreSheetEntity&gt; list = entity.getList();</span><br><span class="line">                String sheetName = entity.getSheetName();</span><br><span class="line">                List&lt;WriteHandler&gt; handlers = entity.getHandlers();</span><br><span class="line">                ExcelWriterSheetBuilder sheetBuilder =  EasyExcel.writerSheet(i, sheetName);</span><br><span class="line">                if(!ObjectUtils.isEmpty(handlers)){</span><br><span class="line">                    for(WriteHandler handler :handlers){</span><br><span class="line">                        sheetBuilder.registerWriteHandler(handler);</span><br><span class="line">                    }</span><br><span class="line">                }</span><br><span class="line">                //&#x521B;&#x5EFA;sheet</span><br><span class="line">                WriteSheet writeSheet = sheetBuilder.build();</span><br><span class="line">                //&#x521B;&#x5EFA;table</span><br><span class="line">                Assert.isTrue(!ObjectUtils.isEmpty(list),&quot;&#x7F3A;&#x5C11;table&#x6570;&#x636E;&quot;);</span><br><span class="line">                for(int j = 0 ; j &lt; list.size() ; j++){</span><br><span class="line">                    EasyExcelMoreSheetEntity tableEntity = list.get(j);</span><br><span class="line">                    Map&lt;String,String&gt; vars = tableEntity.getVars();</span><br><span class="line">                    List&lt;?&gt; date = tableEntity.getList();</span><br><span class="line">                    Class&lt;?&gt; clazz = tableEntity.getClazz();</span><br><span class="line">                    resetCLassAnnotationValue(clazz);</span><br><span class="line">                    setExportClassAnnotation(clazz, vars);</span><br><span class="line">                    ExcelWriterTableBuilder tableBuilder =  EasyExcel.writerTable(j);</span><br><span class="line"></span><br><span class="line">                    if(j &gt; 0){</span><br><span class="line">                        tableBuilder.relativeHeadRowIndex(2);</span><br><span class="line">                    }</span><br><span class="line">                    WriteTable table = tableBuilder.head(clazz).needHead(true).build();</span><br><span class="line">                    excelWriter.write(date,writeSheet,table);</span><br><span class="line">                }</span><br><span class="line">            }</span><br><span class="line">        }catch (Exception e){</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        }finally {</span><br><span class="line">            excelWriter.finish();</span><br><span class="line">        }</span><br><span class="line">        return getExcelOssUrl(filePath,fileName);</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    public static void defaultExport(List&lt;?&gt; list, Class&lt;?&gt; pojoClass, String filePath, String sheetName) {</span><br><span class="line">        EasyExcel.write(filePath,pojoClass)</span><br><span class="line">                .sheet(sheetName)</span><br><span class="line">                .registerWriteHandler(new CustomCellWriteHandler())</span><br><span class="line">                .doWrite(list);</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    private static String getExcelOssUrl(String filePath,String fileName) {</span><br><span class="line">        InputStream in = null;</span><br><span class="line">        try{</span><br><span class="line">            //&#x4E34;&#x65F6;&#x7F13;&#x51B2;&#x533A;</span><br><span class="line">            in = new FileInputStream(filePath);</span><br><span class="line">        } catch (Exception e){</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        }</span><br><span class="line">        // &#x6B64;&#x5904;&#x53EF;&#x4EE5;&#x8C03;&#x7528;&#x817E;&#x8BAF;&#x4E91;&#x7684;cos &#x6216;&#x8005;&#x963F;&#x91CC;&#x4E91;&#x7684;oss todo</span><br><span class="line">        String url = &quot;&quot;;</span><br><span class="line">        return url;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    public static void setExportClassAnnotation(Class&lt;?&gt; clazz,Map&lt;String,String&gt; map){</span><br><span class="line">        Field[] fields = clazz.getDeclaredFields();</span><br><span class="line">        for(Field field : fields){</span><br><span class="line">            ExcelProperty property = field.getAnnotation(ExcelProperty.class);</span><br><span class="line">            if(property != null){</span><br><span class="line">                List&lt;String&gt; newValues = new ArrayList&lt;&gt;();</span><br><span class="line">                String[] values = property.value();</span><br><span class="line">                for(String value : values){</span><br><span class="line">                    value = replace(value,map);</span><br><span class="line">                    newValues.add(value);</span><br><span class="line">                }</span><br><span class="line">                InvocationHandler h = Proxy.getInvocationHandler(property);</span><br><span class="line">                try {</span><br><span class="line">                    Field annotationField = h.getClass().getDeclaredField(&quot;memberValues&quot;);</span><br><span class="line">                    annotationField.setAccessible(true);</span><br><span class="line">                    Map memberValues = (Map) annotationField.get(h);</span><br><span class="line">                    memberValues.put(&quot;value&quot;,newValues.toArray(new String[]{}));</span><br><span class="line">                } catch (Exception e) {</span><br><span class="line">                    e.printStackTrace();</span><br><span class="line">                }</span><br><span class="line">            }</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    private static void resetCLassAnnotationValue(Class&lt;?&gt; clazz){</span><br><span class="line">        String className = clazz.getSimpleName();</span><br><span class="line">        List&lt;ExcelAnnotationValue&gt; values = annotationValues.get(className);</span><br><span class="line">        if(ObjectUtils.isEmpty(values)){</span><br><span class="line">            //&#x5982;&#x679C;&#x9759;&#x6001;&#x8D44;&#x6E90;&#x662F;&#x7A7A;&#x7684;&#xFF0C;&#x4FDD;&#x5B58;</span><br><span class="line">            Field[] fields = clazz.getDeclaredFields();</span><br><span class="line">            values = new ArrayList&lt;&gt;();</span><br><span class="line">            for(Field field : fields){</span><br><span class="line">                ExcelProperty excelProperty = field.getAnnotation(ExcelProperty.class);</span><br><span class="line">                if(!ObjectUtils.isEmpty(excelProperty)) {</span><br><span class="line">                    String[] vs = excelProperty.value();</span><br><span class="line">                    ExcelAnnotationValue value = new ExcelAnnotationValue()</span><br><span class="line">                            .setFieldName(field.getName())</span><br><span class="line">                            .setValues(vs);</span><br><span class="line">                    values.add(value);</span><br><span class="line">                }</span><br><span class="line">            }</span><br><span class="line">            annotationValues.put(className,values);</span><br><span class="line">            return;</span><br><span class="line">        }</span><br><span class="line">        Field[] fields = clazz.getDeclaredFields();</span><br><span class="line">        for(Field field : fields){</span><br><span class="line">            String fieldName = field.getName();</span><br><span class="line">            ExcelProperty excelProperty = field.getAnnotation(ExcelProperty.class);</span><br><span class="line">            if(!ObjectUtils.isEmpty(excelProperty)){</span><br><span class="line">                ExcelAnnotationValue value = values.stream().filter(v-&gt;v.getFieldName().equals(fieldName)).findFirst().orElse(null);</span><br><span class="line">                if(!ObjectUtils.isEmpty(value)){</span><br><span class="line">                    String[] oldValues = value.getValues();</span><br><span class="line">                    InvocationHandler handler = Proxy.getInvocationHandler(excelProperty);</span><br><span class="line">                    try {</span><br><span class="line">                        Field annotationField = handler.getClass().getDeclaredField(&quot;memberValues&quot;);</span><br><span class="line">                        annotationField.setAccessible(true);</span><br><span class="line">                        Map memberValues = (Map) annotationField.get(handler);</span><br><span class="line">                        memberValues.put(&quot;value&quot;,oldValues);</span><br><span class="line">                    } catch (Exception e) {</span><br><span class="line">                        e.printStackTrace();</span><br><span class="line">                    }</span><br><span class="line">                }</span><br><span class="line">            }</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    public static String replace(String el,Map&lt;String,String&gt; map){</span><br><span class="line">        if(map == null){</span><br><span class="line">            return el;</span><br><span class="line">        }</span><br><span class="line">        String evl = el;</span><br><span class="line">        for(Map.Entry&lt;String,String&gt; m : map.entrySet()){</span><br><span class="line">            String key = m.getKey();</span><br><span class="line">            String value = m.getValue();</span><br><span class="line">            el = el.replaceAll(&quot;#\{&quot;+key+&quot;\}&quot;,value);</span><br><span class="line">            if(!evl.equals(el)) {</span><br><span class="line">                return el;</span><br><span class="line">            }</span><br><span class="line">        }</span><br><span class="line">        return el;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">}</span><br></pre></td></tr></table></figure>

<h3 id="&#x8868;&#x683C;&#x5408;&#x5E76;&#x914D;&#x7F6E;"><a href="#&#x8868;&#x683C;&#x5408;&#x5E76;&#x914D;&#x7F6E;" class="headerlink" title="&#x8868;&#x683C;&#x5408;&#x5E76;&#x914D;&#x7F6E;"></a>&#x8868;&#x683C;&#x5408;&#x5E76;&#x914D;&#x7F6E;</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br></pre></td><td class="code"><pre><span class="line">ini&#x590D;&#x5236;&#x4EE3;&#x7801;</span><br><span class="line">import com.alibaba.excel.metadata.CellData;</span><br><span class="line">import com.alibaba.excel.metadata.Head;</span><br><span class="line">import com.alibaba.excel.write.handler.CellWriteHandler;</span><br><span class="line">import com.alibaba.excel.write.metadata.holder.WriteSheetHolder;</span><br><span class="line">import com.alibaba.excel.write.metadata.holder.WriteTableHolder;</span><br><span class="line">import org.apache.poi.ss.usermodel.Cell;</span><br><span class="line">import org.apache.poi.ss.usermodel.CellType;</span><br><span class="line">import org.apache.poi.ss.usermodel.Row;</span><br><span class="line">import org.apache.poi.ss.usermodel.Sheet;</span><br><span class="line">import org.apache.poi.ss.util.CellRangeAddress;</span><br><span class="line"></span><br><span class="line">import java.util.List;</span><br><span class="line"></span><br><span class="line">/**</span><br><span class="line"> * &#x5408;&#x5E76;&#x5355;&#x5143;&#x683C;handler</span><br><span class="line"> *</span><br><span class="line"> * @author zl</span><br><span class="line"> */</span><br><span class="line">public class CustomCellMergeStrategy implements CellWriteHandler {</span><br><span class="line"></span><br><span class="line">    private int[] mergeColumnIndex;</span><br><span class="line">    private int mergeRowIndex;</span><br><span class="line"></span><br><span class="line">    public CustomCellMergeStrategy() {</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    public CustomCellMergeStrategy(int mergeRowIndex, int[] mergeColumnIndex) {</span><br><span class="line">        this.mergeRowIndex = mergeRowIndex;</span><br><span class="line">        this.mergeColumnIndex = mergeColumnIndex;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    @Override</span><br><span class="line">    public void beforeCellCreate(WriteSheetHolder writeSheetHolder, WriteTableHolder writeTableHolder, Row row, Head head, Integer columnIndex, Integer relativeRowIndex, Boolean isHead) {</span><br><span class="line"></span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    @Override</span><br><span class="line">    public void afterCellCreate(WriteSheetHolder writeSheetHolder, WriteTableHolder writeTableHolder, Cell cell, Head head, Integer relativeRowIndex, Boolean isHead) {</span><br><span class="line"></span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    @Override</span><br><span class="line">    public void afterCellDataConverted(WriteSheetHolder writeSheetHolder, WriteTableHolder writeTableHolder, CellData cellData, Cell cell, Head head, Integer relativeRowIndex, Boolean isHead) {</span><br><span class="line"></span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    @Override</span><br><span class="line">    public void afterCellDispose(WriteSheetHolder writeSheetHolder, WriteTableHolder writeTableHolder, List&lt;CellData&gt; list, Cell cell, Head head, Integer integer, Boolean aBoolean) {</span><br><span class="line">        int curRowIndex = cell.getRowIndex();</span><br><span class="line">        int curColIndex = cell.getColumnIndex();</span><br><span class="line">        if (curRowIndex &gt; mergeRowIndex) {</span><br><span class="line">            for (int i = 0; i &lt; mergeColumnIndex.length; i++) {</span><br><span class="line">                if (curColIndex == mergeColumnIndex[i]) {</span><br><span class="line">                    mergeWithPrevRow(writeSheetHolder, cell, curRowIndex, curColIndex);</span><br><span class="line">                    break;</span><br><span class="line">                }</span><br><span class="line">            }</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    /**</span><br><span class="line">     * &#x5F53;&#x524D;&#x5355;&#x5143;&#x683C;&#x5411;&#x4E0A;&#x5408;&#x5E76;</span><br><span class="line">     *</span><br><span class="line">     * @param writeSheetHolder</span><br><span class="line">     * @param cell             &#x5F53;&#x524D;&#x5355;&#x5143;&#x683C;</span><br><span class="line">     * @param curRowIndex      &#x5F53;&#x524D;&#x884C;</span><br><span class="line">     * @param curColIndex      &#x5F53;&#x524D;&#x5217;</span><br><span class="line">     */</span><br><span class="line">    private void mergeWithPrevRow(WriteSheetHolder writeSheetHolder, Cell cell, int curRowIndex, int curColIndex) {</span><br><span class="line">        Object curData = cell.getCellTypeEnum() == CellType.STRING ? cell.getStringCellValue() : cell.getNumericCellValue();</span><br><span class="line">        Cell preCell = cell.getSheet().getRow(curRowIndex - 1).getCell(curColIndex);</span><br><span class="line">        Object preData = preCell.getCellTypeEnum() == CellType.STRING ? preCell.getStringCellValue() : preCell.getNumericCellValue();</span><br><span class="line">        // &#x5C06;&#x5F53;&#x524D;&#x5355;&#x5143;&#x683C;&#x6570;&#x636E;&#x4E0E;&#x4E0A;&#x4E00;&#x4E2A;&#x5355;&#x5143;&#x683C;&#x6570;&#x636E;&#x6BD4;&#x8F83;</span><br><span class="line">        Boolean dataBool = preData.equals(curData);</span><br><span class="line">        //&#x6B64;&#x5904;&#x9700;&#x8981;&#x6CE8;&#x610F;&#xFF1A;&#x56E0;&#x4E3A;&#x6211;&#x662F;&#x6309;&#x7167;&#x5E8F;&#x53F7;&#x786E;&#x5B9A;&#x662F;&#x5426;&#x9700;&#x8981;&#x5408;&#x5E76;&#x7684;&#xFF0C;&#x6240;&#x4EE5;&#x83B7;&#x53D6;&#x6BCF;&#x4E00;&#x884C;&#x7B2C;&#x4E00;&#x5217;&#x6570;&#x636E;&#x548C;&#x4E0A;&#x4E00;&#x884C;&#x7B2C;&#x4E00;&#x5217;&#x6570;&#x636E;&#x8FDB;&#x884C;&#x6BD4;&#x8F83;&#xFF0C;&#x5982;&#x679C;&#x76F8;&#x7B49;&#x5408;&#x5E76;</span><br><span class="line">        Boolean bool = cell.getRow().getCell(0).getStringCellValue().equals(cell.getSheet().getRow(curRowIndex - 1).getCell(0).getStringCellValue());</span><br><span class="line">        if (dataBool &amp;&amp; bool) {</span><br><span class="line">            Sheet sheet = writeSheetHolder.getSheet();</span><br><span class="line">            List&lt;CellRangeAddress&gt; mergeRegions = sheet.getMergedRegions();</span><br><span class="line">            boolean isMerged = false;</span><br><span class="line">            for (int i = 0; i &lt; mergeRegions.size() &amp;&amp; !isMerged; i++) {</span><br><span class="line">                CellRangeAddress cellRangeAddr = mergeRegions.get(i);</span><br><span class="line">                // &#x82E5;&#x4E0A;&#x4E00;&#x4E2A;&#x5355;&#x5143;&#x683C;&#x5DF2;&#x7ECF;&#x88AB;&#x5408;&#x5E76;&#xFF0C;&#x5219;&#x5148;&#x79FB;&#x51FA;&#x539F;&#x6709;&#x7684;&#x5408;&#x5E76;&#x5355;&#x5143;&#xFF0C;&#x518D;&#x91CD;&#x65B0;&#x6DFB;&#x52A0;&#x5408;&#x5E76;&#x5355;&#x5143;</span><br><span class="line">                if (cellRangeAddr.isInRange(curRowIndex - 1, curColIndex)) {</span><br><span class="line">                    sheet.removeMergedRegion(i);</span><br><span class="line">                    cellRangeAddr.setLastRow(curRowIndex);</span><br><span class="line">                    sheet.addMergedRegion(cellRangeAddr);</span><br><span class="line">                    isMerged = true;</span><br><span class="line">                }</span><br><span class="line">            }</span><br><span class="line">            // &#x82E5;&#x4E0A;&#x4E00;&#x4E2A;&#x5355;&#x5143;&#x683C;&#x672A;&#x88AB;&#x5408;&#x5E76;&#xFF0C;&#x5219;&#x65B0;&#x589E;&#x5408;&#x5E76;&#x5355;&#x5143;</span><br><span class="line">            if (!isMerged) {</span><br><span class="line">                CellRangeAddress cellRangeAddress = new CellRangeAddress(curRowIndex - 1, curRowIndex, curColIndex, curColIndex);</span><br><span class="line">                sheet.addMergedRegion(cellRangeAddress);</span><br><span class="line">            }</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">}</span><br></pre></td></tr></table></figure>

<h3 id="&#x8868;&#x683C;&#x7684;&#x9AD8;&#x5EA6;&#x9ED8;&#x8BA4;&#x8BBE;&#x7F6E;"><a href="#&#x8868;&#x683C;&#x7684;&#x9AD8;&#x5EA6;&#x9ED8;&#x8BA4;&#x8BBE;&#x7F6E;" class="headerlink" title="&#x8868;&#x683C;&#x7684;&#x9AD8;&#x5EA6;&#x9ED8;&#x8BA4;&#x8BBE;&#x7F6E;"></a>&#x8868;&#x683C;&#x7684;&#x9AD8;&#x5EA6;&#x9ED8;&#x8BA4;&#x8BBE;&#x7F6E;</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">java&#x590D;&#x5236;&#x4EE3;&#x7801;</span><br><span class="line">public class CustomCellWriteHandler extends AbstractRowHeightStyleStrategy {</span><br><span class="line"></span><br><span class="line">    @Override</span><br><span class="line">    protected void setHeadColumnHeight(Row row, int i) {</span><br><span class="line">        if(i == 0){</span><br><span class="line">            row.setHeight((short) (1000));</span><br><span class="line">        }else if(i == 1){</span><br><span class="line">            row.setHeight((short) 300);</span><br><span class="line">        }else{</span><br><span class="line">            row.setHeight((short) 500);</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    @Override</span><br><span class="line">    protected void setContentColumnHeight(Row row, int i) {</span><br><span class="line">        row.setHeight((short) 500);</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">less&#x590D;&#x5236;&#x4EE3;&#x7801;@Data</span><br><span class="line">@Accessors(chain = true)</span><br><span class="line">public class ExcelAnnotationValue {</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    /**</span><br><span class="line">     * &#x5B57;&#x6BB5;&#x540D;&#x79F0;</span><br><span class="line">     */</span><br><span class="line">    private String fieldName;</span><br><span class="line"></span><br><span class="line">    /**</span><br><span class="line">     * ExcelProperty&#x6CE8;&#x89E3; &#x5C5E;&#x6027;value&#x6570;&#x7EC4;</span><br><span class="line">     */</span><br><span class="line">    private String[] values;</span><br><span class="line">}</span><br></pre></td></tr></table></figure>

<h3 id="&#x591A;sheet&#x5BFC;&#x51FA;&#x5BF9;&#x8C61;&#x53C2;&#x6570;"><a href="#&#x591A;sheet&#x5BFC;&#x51FA;&#x5BF9;&#x8C61;&#x53C2;&#x6570;" class="headerlink" title="&#x591A;sheet&#x5BFC;&#x51FA;&#x5BF9;&#x8C61;&#x53C2;&#x6570;"></a>&#x591A;sheet&#x5BFC;&#x51FA;&#x5BF9;&#x8C61;&#x53C2;&#x6570;</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">swift&#x590D;&#x5236;&#x4EE3;&#x7801;</span><br><span class="line">@Data</span><br><span class="line">@Accessors(chain = true)</span><br><span class="line">public class EasyExcelMoreSheetEntity {</span><br><span class="line"></span><br><span class="line">    /**</span><br><span class="line">     * &#x5B9E;&#x4F53;&#x7C7B;</span><br><span class="line">     */</span><br><span class="line">    private Class&lt;?&gt; clazz;</span><br><span class="line"></span><br><span class="line">    /**</span><br><span class="line">     * &#x6570;&#x636E;</span><br><span class="line">     */</span><br><span class="line">    private List&lt;?&gt; list;</span><br><span class="line"></span><br><span class="line">    /**</span><br><span class="line">     * sheet&#x540D;&#x79F0;</span><br><span class="line">     */</span><br><span class="line">    private String sheetName;</span><br><span class="line"></span><br><span class="line">    /**</span><br><span class="line">     * &#x6837;&#x5F0F;</span><br><span class="line">     */</span><br><span class="line">    private List&lt;WriteHandler&gt; handlers;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    /**</span><br><span class="line">     * head &#x53C2;&#x6570;</span><br><span class="line">     */</span><br><span class="line">    private Map&lt;String,String&gt; vars;</span><br><span class="line">}</span><br></pre></td></tr></table></figure>

<h3 id="&#x591A;&#x8868;&#x591A;sheet&#x5BFC;&#x51FA;&#x5BF9;&#x8C61;&#x53C2;&#x6570;"><a href="#&#x591A;&#x8868;&#x591A;sheet&#x5BFC;&#x51FA;&#x5BF9;&#x8C61;&#x53C2;&#x6570;" class="headerlink" title="&#x591A;&#x8868;&#x591A;sheet&#x5BFC;&#x51FA;&#x5BF9;&#x8C61;&#x53C2;&#x6570;"></a>&#x591A;&#x8868;&#x591A;sheet&#x5BFC;&#x51FA;&#x5BF9;&#x8C61;&#x53C2;&#x6570;</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">swift&#x590D;&#x5236;&#x4EE3;&#x7801;</span><br><span class="line">@Data</span><br><span class="line">@Accessors(chain = true)</span><br><span class="line">public class EasyExcelMoreSheetMoreTableEntity {</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    /**</span><br><span class="line">     * &#x6570;&#x636E;</span><br><span class="line">     */</span><br><span class="line">    private List&lt;EasyExcelMoreSheetEntity&gt; list;</span><br><span class="line"></span><br><span class="line">    /**</span><br><span class="line">     * sheet&#x540D;&#x79F0;</span><br><span class="line">     */</span><br><span class="line">    private String sheetName;</span><br><span class="line"></span><br><span class="line">    /**</span><br><span class="line">     * &#x6837;&#x5F0F;</span><br><span class="line">     */</span><br><span class="line">    private List&lt;WriteHandler&gt; handlers;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    /**</span><br><span class="line">     * head &#x53C2;&#x6570;</span><br><span class="line">     */</span><br><span class="line">    private Map&lt;String,String&gt; vars;</span><br><span class="line">}</span><br></pre></td></tr></table></figure>

<h3 id="&#x4E0B;&#x9762;&#x7684;&#x662F;&#x6700;&#x7B80;&#x5355;&#x7684;&#x5BFC;&#x51FA;"><a href="#&#x4E0B;&#x9762;&#x7684;&#x662F;&#x6700;&#x7B80;&#x5355;&#x7684;&#x5BFC;&#x51FA;" class="headerlink" title="&#x4E0B;&#x9762;&#x7684;&#x662F;&#x6700;&#x7B80;&#x5355;&#x7684;&#x5BFC;&#x51FA;"></a>&#x4E0B;&#x9762;&#x7684;&#x662F;&#x6700;&#x7B80;&#x5355;&#x7684;&#x5BFC;&#x51FA;</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">scss&#x590D;&#x5236;&#x4EE3;&#x7801;ComplexSubjectEasyExcel excel = new ComplexSubjectEasyExcel()</span><br><span class="line">        .setSubjectId(&quot;1001&quot;)</span><br><span class="line">        .setSubjectName(&quot;&#x5E93;&#x5B58;&#x73B0;&#x91D1;&quot;)</span><br><span class="line">        .setFirstBorrowMoney(BigDecimal.valueOf(100))</span><br><span class="line">        .setNowBorrowMoney(BigDecimal.valueOf(105))</span><br><span class="line">        .setNowCreditMoney(BigDecimal.valueOf(100))</span><br><span class="line">        .setYearBorrowMoney(BigDecimal.valueOf(200))</span><br><span class="line">        .setYearCreditMoney(BigDecimal.valueOf(205))</span><br><span class="line">        .setEndBorrowMoney(BigDecimal.valueOf(240));</span><br><span class="line">List&lt;ComplexSubjectEasyExcel&gt; excels = new ArrayList&lt;&gt;();</span><br><span class="line">excels.add(excel);</span><br><span class="line">String url = EasyExcelUtils.defaultExportOssUrl(excels,ComplexSubjectEasyExcel.class,&quot;&#x79D1;&#x76EE;&#x4F59;&#x989D;&#x8868;&quot;,&quot;&#x79D1;&#x76EE;&#x4F59;&#x989D;&#x8868;&quot;,new HashMap&lt;&gt;());</span><br><span class="line">System.out.println(url);</span><br></pre></td></tr></table></figure>

<h3 id="&#x591A;sheet&#x5BFC;&#x51FA;"><a href="#&#x591A;sheet&#x5BFC;&#x51FA;" class="headerlink" title="&#x591A;sheet&#x5BFC;&#x51FA;"></a>&#x591A;sheet&#x5BFC;&#x51FA;</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">scss&#x590D;&#x5236;&#x4EE3;&#x7801;public void moreSheetTest(){</span><br><span class="line">    ComplexSubjectEasyExcel excel = new ComplexSubjectEasyExcel()</span><br><span class="line">            .setSubjectId(&quot;1001&quot;)</span><br><span class="line">            .setSubjectName(&quot;&#x5E93;&#x5B58;&#x73B0;&#x91D1;&quot;)</span><br><span class="line">            .setFirstBorrowMoney(BigDecimal.valueOf(100))</span><br><span class="line">            .setNowBorrowMoney(BigDecimal.valueOf(105))</span><br><span class="line">            .setNowCreditMoney(BigDecimal.valueOf(100))</span><br><span class="line">            .setYearBorrowMoney(BigDecimal.valueOf(200))</span><br><span class="line">            .setYearCreditMoney(BigDecimal.valueOf(205))</span><br><span class="line">            .setEndBorrowMoney(BigDecimal.valueOf(240));</span><br><span class="line">    List&lt;ComplexSubjectEasyExcel&gt; excels = new ArrayList&lt;&gt;();</span><br><span class="line">    excels.add(excel);</span><br><span class="line">    List&lt;EasyExcelMoreSheetEntity&gt; entities = new ArrayList&lt;&gt;();</span><br><span class="line">    for(int i=0 ; i&lt; 2; i++){</span><br><span class="line">        EasyExcelMoreSheetEntity entity = new EasyExcelMoreSheetEntity()</span><br><span class="line">                .setClazz(ComplexSubjectEasyExcel.class)</span><br><span class="line">                .setList(excels)</span><br><span class="line">                .setSheetName(&quot;&#x79D1;&#x76EE;&#x4F59;&#x989D;&#x8868;&quot;+i);</span><br><span class="line">        entities.add(entity);</span><br><span class="line">    }</span><br><span class="line">    String url = EasyExcelUtils.moreSheetExportOssUrl(entities,&quot;&#x79D1;&#x76EE;&#x4F59;&#x989D;&#x8868;&quot;);</span><br><span class="line">    System.out.println(url);</span><br><span class="line">}</span><br></pre></td></tr></table></figure>

<h3 id="&#x591A;sheet&#xFF0C;&#x591A;&#x8868;&#x7684;&#x5BFC;&#x51FA;"><a href="#&#x591A;sheet&#xFF0C;&#x591A;&#x8868;&#x7684;&#x5BFC;&#x51FA;" class="headerlink" title="&#x591A;sheet&#xFF0C;&#x591A;&#x8868;&#x7684;&#x5BFC;&#x51FA;"></a>&#x591A;sheet&#xFF0C;&#x591A;&#x8868;&#x7684;&#x5BFC;&#x51FA;</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line">scss&#x590D;&#x5236;&#x4EE3;&#x7801;public void moreSheetMoreTableTest(){</span><br><span class="line">    ComplexSubjectEasyExcel excel = new ComplexSubjectEasyExcel()</span><br><span class="line">            .setSubjectId(&quot;1001&quot;)</span><br><span class="line">            .setSubjectName(&quot;&#x5E93;&#x5B58;&#x73B0;&#x91D1;&quot;)</span><br><span class="line">            .setFirstBorrowMoney(BigDecimal.valueOf(100))</span><br><span class="line">            .setNowBorrowMoney(BigDecimal.valueOf(105))</span><br><span class="line">            .setNowCreditMoney(BigDecimal.valueOf(100))</span><br><span class="line">            .setYearBorrowMoney(BigDecimal.valueOf(200))</span><br><span class="line">            .setYearCreditMoney(BigDecimal.valueOf(205))</span><br><span class="line">            .setEndBorrowMoney(BigDecimal.valueOf(240));</span><br><span class="line">    List&lt;ComplexSubjectEasyExcel&gt; excels = new ArrayList&lt;&gt;();</span><br><span class="line">    excels.add(excel);</span><br><span class="line"></span><br><span class="line">    List&lt;EasyExcelMoreSheetMoreTableEntity&gt; entities = new ArrayList&lt;&gt;();</span><br><span class="line"></span><br><span class="line">    for(int i=0 ; i&lt; 2; i++){</span><br><span class="line">        EasyExcelMoreSheetMoreTableEntity tableEntity = new EasyExcelMoreSheetMoreTableEntity()</span><br><span class="line">                .setSheetName(&quot;&#x79D1;&#x76EE;&#x4F59;&#x989D;&#x8868;&quot;+i)</span><br><span class="line">                .setHandlers(Arrays.asList(new CustomCellWriteHandler()));</span><br><span class="line">        List&lt;EasyExcelMoreSheetEntity&gt; tables = new ArrayList&lt;&gt;();</span><br><span class="line">        EasyExcelMoreSheetEntity table = new EasyExcelMoreSheetEntity()</span><br><span class="line">                .setClazz(ComplexSubjectEasyExcel.class)</span><br><span class="line">                .setList(excels);</span><br><span class="line">        if(i== 1){</span><br><span class="line">            tables.add(table);</span><br><span class="line">        }</span><br><span class="line">        tables.add(table);</span><br><span class="line">        tableEntity.setList(tables);</span><br><span class="line">        entities.add(tableEntity);</span><br><span class="line">    }</span><br><span class="line">    String url = EasyExcelUtils.moreSheetMoreTableExportOssUrl(entities,&quot;&#x79D1;&#x76EE;&#x4F59;&#x989D;&#x8868;&quot;);</span><br><span class="line">    System.out.println(url);</span><br><span class="line">}</span><br></pre></td></tr></table></figure>

<p>&#x5230;&#x6B64;&#x4E3A;&#x6B62;&#xFF01; &#x4F7F;&#x7528;&#x4E4B;&#x540E;&#x4F60;&#x5C31;&#x4F1A;&#x53D1;&#x73B0;easyExcel&#x7684;&#x4FBF;&#x6377;&#x548C;&#x5F3A;&#x5927;</p>
<p><strong>&#x672C;&#x6587;&#x8F6C;&#x8F7D;&#x81EA;:</strong> <a href="/external_links/f88fa73e758aefe34d7af3e742cea9ea.html" target="blank" rel="noopener">&#x6398;&#x91D1;</a></p>
<p><em><a href="https://dev.newban.cn/">&#x5F00;&#x53D1;&#x8005;&#x535A;&#x5BA2; &#x2013; &#x548C;&#x5F00;&#x53D1;&#x76F8;&#x5173;&#x7684; &#x8FD9;&#x91CC;&#x5168;&#x90FD;&#x6709;</a></em></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://dev.newban.cn../../7023618746501562399.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="开发者博客">
      <meta itemprop="description" content>
      <meta itemprop="image" content="../../images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="开发者博客 – IT技术 尽在开发者博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="../../7023618746501562399.html" itemprop="url">Spring为啥不推荐使用Autowired注解？ Au</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2021-10-27T13:49:12+08:00">
                2021-10-27
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="Autowired&#x4F9D;&#x8D56;&#x6CE8;&#x5165;&#x4E3A;&#x5565;&#x4E0D;&#x63A8;&#x8350;"><a href="#Autowired&#x4F9D;&#x8D56;&#x6CE8;&#x5165;&#x4E3A;&#x5565;&#x4E0D;&#x63A8;&#x8350;" class="headerlink" title="@Autowired&#x4F9D;&#x8D56;&#x6CE8;&#x5165;&#x4E3A;&#x5565;&#x4E0D;&#x63A8;&#x8350;"></a>@Autowired&#x4F9D;&#x8D56;&#x6CE8;&#x5165;&#x4E3A;&#x5565;&#x4E0D;&#x63A8;&#x8350;</h1><p>&#x5C0F;&#x77E5;&#x8BC6;&#xFF0C;&#x5927;&#x6311;&#x6218;&#xFF01;&#x672C;&#x6587;&#x6B63;&#x5728;&#x53C2;&#x4E0E;&#x201C; <a href="https://dev.newban.cn/7008476801634680869">&#x7A0B;&#x5E8F;&#x5458;&#x5FC5;&#x5907;&#x5C0F;&#x77E5;&#x8BC6;</a>&#x201D;&#x521B;&#x4F5C;&#x6D3B;&#x52A8;</p>
<p>&#x672C;&#x6587;&#x540C;&#x65F6;&#x53C2;&#x4E0E; <a href="https://dev.newban.cn/7012210233804079141">&#x6398;&#x529B;&#x661F;&#x8BA1;&#x5212;</a>&#xFF0C;&#x8D62;&#x53D6;&#x521B;&#x4F5C;&#x5927;&#x793C;&#x5305;&#xFF0C;&#x6311;&#x6218;&#x521B;&#x4F5C;&#x6FC0;&#x52B1;&#x91D1;</p>
<h2 id="&#x5F15;&#x8A00;"><a href="#&#x5F15;&#x8A00;" class="headerlink" title="&#x5F15;&#x8A00;"></a>&#x5F15;&#x8A00;</h2><p>&#x4F7F;&#x7528;IDEA&#x5F00;&#x53D1;&#x65F6;&#xFF0C;&#x540C;&#x7EC4;&#x5C0F;&#x4F19;&#x4F34;&#x90FD;&#x559C;&#x6B22;&#x7528;@Autowired&#x6CE8;&#x5165;&#xFF0C;&#x4EE3;&#x7801;&#x4E00;&#x7247;warning&#xFF0C;&#x770B;&#x7740;&#x5F88;&#x4E0D;&#x8212;&#x670D;&#xFF0C;@Autowired&#x4F5C;&#x4E3A;Spring&#x7684;&#x4EB2;&#x513F;&#x5B50;&#xFF0C;&#x4E3A;&#x5565;&#x5728;IDEA&#x4E2D;&#x63D0;&#x793A;&#x4E86;&#x4E00;&#x4E2A;&#x8B66;&#x544A;&#xFF1A;Field injection is not recommended</p>
<p><img src="https://gitee.com/songjianzaina/juejin_p5/raw/master/img/8c87f669ccdf84e940044b94aa051d378babbf09df440a12f1815a3346c88e9d" alt="image.png"><br>&#x60F3;&#x641E;&#x6E05;&#x695A;&#x8FD9;&#x4E2A;&#x95EE;&#x9898;&#x4E4B;&#x524D;&#xFF0C;&#x9996;&#x5148;&#x5148;&#x4E86;&#x89E3;&#x4E00;&#x4E0B;&#x4F9D;&#x8D56;&#x6CE8;&#x5165;&#x7684;&#x51E0;&#x79CD;&#x65B9;&#x5F0F;</p>
<h2 id="Spring&#x7684;&#x4E09;&#x79CD;&#x6CE8;&#x5165;&#x65B9;&#x5F0F;"><a href="#Spring&#x7684;&#x4E09;&#x79CD;&#x6CE8;&#x5165;&#x65B9;&#x5F0F;" class="headerlink" title="Spring&#x7684;&#x4E09;&#x79CD;&#x6CE8;&#x5165;&#x65B9;&#x5F0F;"></a>Spring&#x7684;&#x4E09;&#x79CD;&#x6CE8;&#x5165;&#x65B9;&#x5F0F;</h2><h3 id="&#x5C5E;&#x6027;&#xFF08;filed&#xFF09;&#x6CE8;&#x5165;"><a href="#&#x5C5E;&#x6027;&#xFF08;filed&#xFF09;&#x6CE8;&#x5165;" class="headerlink" title="&#x5C5E;&#x6027;&#xFF08;filed&#xFF09;&#x6CE8;&#x5165;"></a>&#x5C5E;&#x6027;&#xFF08;filed&#xFF09;&#x6CE8;&#x5165;</h3><p>&#x8FD9;&#x79CD;&#x6CE8;&#x5165;&#x65B9;&#x5F0F;&#x5C31;&#x662F;&#x5728;bean&#x7684;&#x53D8;&#x91CF;&#x4E0A;&#x4F7F;&#x7528;&#x6CE8;&#x89E3;&#x8FDB;&#x884C;&#x4F9D;&#x8D56;&#x6CE8;&#x5165;&#x3002;&#x672C;&#x8D28;&#x4E0A;&#x662F;&#x901A;&#x8FC7;&#x53CD;&#x5C04;&#x7684;&#x65B9;&#x5F0F;&#x76F4;&#x63A5;&#x6CE8;&#x5165;&#x5230;field&#x3002;&#x8FD9;&#x662F;&#x6211;&#x5E73;&#x5E38;&#x5F00;&#x53D1;&#x4E2D;&#x770B;&#x7684;&#x6700;&#x591A;&#x4E5F;&#x662F;&#x6700;&#x719F;&#x6089;&#x7684;&#x4E00;&#x79CD;&#x65B9;&#x5F0F;&#x3002;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">java&#x590D;&#x5236;&#x4EE3;&#x7801;@Autowired </span><br><span class="line">UserDao userDao;</span><br></pre></td></tr></table></figure>

<h3 id="&#x6784;&#x9020;&#x5668;&#x6CE8;&#x5165;"><a href="#&#x6784;&#x9020;&#x5668;&#x6CE8;&#x5165;" class="headerlink" title="&#x6784;&#x9020;&#x5668;&#x6CE8;&#x5165;"></a>&#x6784;&#x9020;&#x5668;&#x6CE8;&#x5165;</h3><p>&#x5C06;&#x5404;&#x4E2A;&#x5FC5;&#x9700;&#x7684;&#x4F9D;&#x8D56;&#x5168;&#x90E8;&#x653E;&#x5728;&#x5E26;&#x6709;&#x6CE8;&#x89E3;&#x6784;&#x9020;&#x65B9;&#x6CD5;&#x7684;&#x53C2;&#x6570;&#x4E2D;&#xFF0C;&#x5E76;&#x5728;&#x6784;&#x9020;&#x65B9;&#x6CD5;&#x4E2D;&#x5B8C;&#x6210;&#x5BF9;&#x5E94;&#x53D8;&#x91CF;&#x7684;&#x521D;&#x59CB;&#x5316;&#xFF0C;&#x8FD9;&#x79CD;&#x65B9;&#x5F0F;&#xFF0C;&#x5C31;&#x662F;&#x57FA;&#x4E8E;&#x6784;&#x9020;&#x65B9;&#x6CD5;&#x7684;&#x6CE8;&#x5165;&#x3002;&#x6BD4;&#x5982;&#xFF1A;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">java&#x590D;&#x5236;&#x4EE3;&#x7801;final</span><br><span class="line">UserDao userDao;</span><br><span class="line"></span><br><span class="line">@Autowired</span><br><span class="line">public UserServiceImpl(UserDao userDao) {</span><br><span class="line">    this.userDao = userDao;</span><br><span class="line">}</span><br></pre></td></tr></table></figure>

<h3 id="set&#x65B9;&#x6CD5;&#x6CE8;&#x5165;"><a href="#set&#x65B9;&#x6CD5;&#x6CE8;&#x5165;" class="headerlink" title="set&#x65B9;&#x6CD5;&#x6CE8;&#x5165;"></a>set&#x65B9;&#x6CD5;&#x6CE8;&#x5165;</h3><p>&#x901A;&#x8FC7;&#x5BF9;&#x5E94;&#x53D8;&#x91CF;&#x7684;setXXX()&#x65B9;&#x6CD5;&#x4EE5;&#x53CA;&#x5728;&#x65B9;&#x6CD5;&#x4E0A;&#x9762;&#x4F7F;&#x7528;&#x6CE8;&#x89E3;&#xFF0C;&#x6765;&#x5B8C;&#x6210;&#x4F9D;&#x8D56;&#x6CE8;&#x5165;&#x3002;&#x6BD4;&#x5982;&#xFF1A;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">java&#x590D;&#x5236;&#x4EE3;&#x7801;private UserDao userDao;</span><br><span class="line"></span><br><span class="line">@Autowired</span><br><span class="line">public void setUserDao (UserDao userDao) {</span><br><span class="line">    this.userDao = userDao;</span><br><span class="line">}</span><br></pre></td></tr></table></figure>

<h2 id="&#x5C5E;&#x6027;&#x6CE8;&#x5165;&#x53EF;&#x80FD;&#x51FA;&#x73B0;&#x7684;&#x95EE;&#x9898;"><a href="#&#x5C5E;&#x6027;&#x6CE8;&#x5165;&#x53EF;&#x80FD;&#x51FA;&#x73B0;&#x7684;&#x95EE;&#x9898;" class="headerlink" title="&#x5C5E;&#x6027;&#x6CE8;&#x5165;&#x53EF;&#x80FD;&#x51FA;&#x73B0;&#x7684;&#x95EE;&#x9898;"></a>&#x5C5E;&#x6027;&#x6CE8;&#x5165;&#x53EF;&#x80FD;&#x51FA;&#x73B0;&#x7684;&#x95EE;&#x9898;</h2><h3 id="&#x95EE;&#x9898;&#x4E00;"><a href="#&#x95EE;&#x9898;&#x4E00;" class="headerlink" title="&#x95EE;&#x9898;&#x4E00;"></a>&#x95EE;&#x9898;&#x4E00;</h3><p>&#x57FA;&#x4E8E; field &#x7684;&#x6CE8;&#x5165;&#x53EF;&#x80FD;&#x4F1A;&#x5E26;&#x6765;&#x4E00;&#x4E9B;&#x9690;&#x542B;&#x7684;&#x95EE;&#x9898;&#x3002;&#x6765;&#x6211;&#x4EEC;&#x4E3E;&#x4E2A;&#x4F8B;&#x5B50;&#xFF1A;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">java&#x590D;&#x5236;&#x4EE3;&#x7801;@Autowired</span><br><span class="line">private User user;</span><br><span class="line"></span><br><span class="line">private String company;</span><br><span class="line"></span><br><span class="line">public UserDaoImpl(){</span><br><span class="line">    this.company = user.getCompany();</span><br><span class="line">}</span><br></pre></td></tr></table></figure>

<p>&#x7F16;&#x8BD1;&#x8FC7;&#x7A0B;&#x4E0D;&#x4F1A;&#x62A5;&#x9519;&#xFF0C;&#x4F46;&#x662F;&#x8FD0;&#x884C;&#x4E4B;&#x540E;&#x62A5;NullPointerException</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">js&#x590D;&#x5236;&#x4EE3;&#x7801;Instantiation of bean failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [...]: Constructor threw exception; nested exception is java.lang.NullPointerException</span><br></pre></td></tr></table></figure>

<p>Java &#x5728;&#x521D;&#x59CB;&#x5316;&#x4E00;&#x4E2A;&#x7C7B;&#x65F6;&#xFF0C;&#x662F;&#x6309;&#x7167;&#x9759;&#x6001;&#x53D8;&#x91CF;&#x6216;&#x9759;&#x6001;&#x8BED;&#x53E5;&#x5757; &#x2013;&gt; &#x5B9E;&#x4F8B;&#x53D8;&#x91CF;&#x6216;&#x521D;&#x59CB;&#x5316;&#x8BED;&#x53E5;&#x5757; &#x2013;&gt; &#x6784;&#x9020;&#x65B9;&#x6CD5; -&gt; @Autowired &#x7684;&#x987A;&#x5E8F;&#x3002;&#x6240;&#x4EE5;&#x5728;&#x6267;&#x884C;&#x8FD9;&#x4E2A;&#x7C7B;&#x7684;&#x6784;&#x9020;&#x65B9;&#x6CD5;&#x65F6;&#xFF0C;user&#x5BF9;&#x8C61;&#x5C1A;&#x672A;&#x88AB;&#x6CE8;&#x5165;&#xFF0C;&#x5B83;&#x7684;&#x503C;&#x8FD8;&#x662F; null&#x3002;</p>
<h3 id="&#x95EE;&#x9898;&#x4E8C;"><a href="#&#x95EE;&#x9898;&#x4E8C;" class="headerlink" title="&#x95EE;&#x9898;&#x4E8C;"></a>&#x95EE;&#x9898;&#x4E8C;</h3><p>&#x4E0D;&#x80FD;&#x6709;&#x6548;&#x7684;&#x6307;&#x660E;&#x4F9D;&#x8D56;&#x3002;&#x76F8;&#x4FE1;&#x5F88;&#x591A;&#x4EBA;&#x90FD;&#x9047;&#x89C1;&#x8FC7;&#x4E00;&#x4E2A;bug&#xFF0C;&#x4F9D;&#x8D56;&#x6CE8;&#x5165;&#x7684;&#x5BF9;&#x8C61;&#x4E3A;null&#xFF0C;&#x5728;&#x542F;&#x52A8;&#x4F9D;&#x8D56;&#x5BB9;&#x5668;&#x65F6;&#x9047;&#x5230;&#x8FD9;&#x4E2A;&#x95EE;&#x9898;&#x90FD;&#x662F;&#x914D;&#x7F6E;&#x7684;&#x4F9D;&#x8D56;&#x6CE8;&#x5165;&#x5C11;&#x4E86;&#x4E00;&#x4E2A;&#x6CE8;&#x89E3;&#x4EC0;&#x4E48;&#x7684;&#x3002;&#x8FD9;&#x79CD;&#x65B9;&#x5F0F;&#x5C31;&#x8FC7;&#x4E8E;&#x4F9D;&#x8D56;&#x6CE8;&#x5165;&#x5BB9;&#x5668;&#x4E86;&#xFF0C;&#x5F53;&#x6CA1;&#x6709;&#x542F;&#x52A8;&#x6574;&#x4E2A;&#x4F9D;&#x8D56;&#x5BB9;&#x5668;&#x65F6;&#xFF0C;&#x8FD9;&#x4E2A;&#x7C7B;&#x5C31;&#x4E0D;&#x80FD;&#x8FD0;&#x8F6C;&#xFF0C;&#x5728;&#x53CD;&#x5C04;&#x65F6;&#x65E0;&#x6CD5;&#x63D0;&#x4F9B;&#x8FD9;&#x4E2A;&#x7C7B;&#x9700;&#x8981;&#x7684;&#x4F9D;&#x8D56;&#x3002;</p>
<h3 id="&#x95EE;&#x9898;&#x4E09;"><a href="#&#x95EE;&#x9898;&#x4E09;" class="headerlink" title="&#x95EE;&#x9898;&#x4E09;"></a>&#x95EE;&#x9898;&#x4E09;</h3><p>&#x4F9D;&#x8D56;&#x6CE8;&#x5165;&#x7684;&#x6838;&#x5FC3;&#x601D;&#x60F3;&#x4E4B;&#x4E00;&#x5C31;&#x662F;&#x88AB;&#x5BB9;&#x5668;&#x7BA1;&#x7406;&#x7684;&#x7C7B;&#x4E0D;&#x5E94;&#x8BE5;&#x4F9D;&#x8D56;&#x88AB;&#x5BB9;&#x5668;&#x7BA1;&#x7406;&#x7684;&#x4F9D;&#x8D56;&#xFF0C;&#x6362;&#x6210;&#x767D;&#x8BDD;&#x6765;&#x8BF4;&#x5C31;&#x662F;&#x5982;&#x679C;&#x8FD9;&#x4E2A;&#x7C7B;&#x4F7F;&#x7528;&#x4E86;&#x4F9D;&#x8D56;&#x6CE8;&#x5165;&#x7684;&#x7C7B;&#xFF0C;&#x90A3;&#x4E48;&#x8FD9;&#x4E2A;&#x7C7B;&#x6446;&#x8131;&#x4E86;&#x8FD9;&#x51E0;&#x4E2A;&#x4F9D;&#x8D56;&#x5FC5;&#x987B;&#x4E5F;&#x80FD;&#x6B63;&#x5E38;&#x8FD0;&#x884C;&#x3002;&#x7136;&#x800C;&#x4F7F;&#x7528;&#x53D8;&#x91CF;&#x6CE8;&#x5165;&#x7684;&#x65B9;&#x5F0F;&#x662F;&#x4E0D;&#x80FD;&#x4FDD;&#x8BC1;&#x8FD9;&#x70B9;&#x7684;&#x3002;</p>
<h2 id="spring&#x5EFA;&#x8BAE;"><a href="#spring&#x5EFA;&#x8BAE;" class="headerlink" title="spring&#x5EFA;&#x8BAE;"></a>spring&#x5EFA;&#x8BAE;</h2><blockquote>
<p>Since you can mix constructor-based and setter-based DI, it is a good rule of thumb to use constructors for mandatory dependencies and setter methods or configuration methods for optional dependencies.<br>&#x7FFB;&#x8BD1;&#x8FC7;&#x6765;&#x5C31;&#x662F;&#xFF1A;<br>&#x5F3A;&#x5236;&#x4F9D;&#x8D56;&#x5C31;&#x7528;&#x6784;&#x9020;&#x5668;&#x65B9;&#x5F0F;  </p>
<p>&#x53EF;&#x9009;&#x3001;&#x53EF;&#x53D8;&#x7684;&#x4F9D;&#x8D56;&#x5C31;&#x7528;setter&#x6CE8;&#x5165;</p>
</blockquote>
<h2 id="&#x4F7F;&#x7528;-Resource&#x4EE3;&#x66FF;-Autowired"><a href="#&#x4F7F;&#x7528;-Resource&#x4EE3;&#x66FF;-Autowired" class="headerlink" title="&#x4F7F;&#x7528;@Resource&#x4EE3;&#x66FF;@Autowired"></a>&#x4F7F;&#x7528;@Resource&#x4EE3;&#x66FF;@Autowired</h2><p>@Resource&#x6709;2&#x4E2A;&#x5C5E;&#x6027;name&#x548C;type&#x3002;&#x5728;spring&#x4E2D;name&#x5C5E;&#x6027;&#x5B9A;&#x4E49;&#x4E3A;bean&#x7684;&#x540D;&#x5B57;&#xFF0C;type&#x8FD9;&#x662F;bean&#x7684;&#x7C7B;&#x578B;&#x3002;&#x5982;&#x679C;&#x5C5E;&#x6027;&#x4E0A;&#x52A0;@Resource&#x6CE8;&#x89E3;&#x90A3;&#x4E48;&#x4ED6;&#x7684;&#x6CE8;&#x5165;&#x6D41;&#x7A0B;&#x662F;</p>
<ul>
<li>&#x5982;&#x679C;&#x540C;&#x65F6;&#x6307;&#x5B9A;&#x4E86;name&#x548C;type&#xFF0C;&#x5219;&#x4ECE;Spring&#x4E0A;&#x4E0B;&#x6587;&#x4E2D;&#x627E;&#x5230;&#x552F;&#x4E00;&#x5339;&#x914D;&#x7684;bean&#x8FDB;&#x884C;&#x88C5;&#x914D;&#xFF0C;&#x627E;&#x4E0D;&#x5230;&#x5219;&#x629B;&#x51FA;&#x5F02;&#x5E38;&#x3002;</li>
<li>&#x5982;&#x679C;&#x6307;&#x5B9A;&#x4E86;name&#xFF0C;&#x5219;&#x4ECE;&#x4E0A;&#x4E0B;&#x6587;&#x4E2D;&#x67E5;&#x627E;&#x540D;&#x79F0;&#x5339;&#x914D;&#x7684;bean&#x8FDB;&#x884C;&#x88C5;&#x914D;&#xFF0C;&#x627E;&#x4E0D;&#x5230;&#x5219;&#x629B;&#x51FA;&#x5F02;&#x5E38;&#x3002;</li>
<li>&#x5982;&#x679C;&#x6307;&#x5B9A;&#x4E86;type&#xFF0C;&#x5219;&#x4ECE;&#x4E0A;&#x4E0B;&#x6587;&#x4E2D;&#x627E;&#x5230;&#x7C7B;&#x578B;&#x5339;&#x914D;&#x7684;&#x552F;&#x4E00;bean&#x8FDB;&#x884C;&#x88C5;&#x914D;&#xFF0C;&#x627E;&#x4E0D;&#x5230;&#x6216;&#x662F;&#x627E;&#x5230;&#x591A;&#x4E2A;&#xFF0C;&#x90FD;&#x4F1A;&#x629B;&#x51FA;&#x5F02;&#x5E38;&#x3002;</li>
<li>&#x5982;&#x679C;&#x65E2;&#x6CA1;&#x6709;&#x6307;&#x5B9A;name&#xFF0C;&#x53C8;&#x6CA1;&#x6709;&#x6307;&#x5B9A;type&#xFF0C;&#x5219;&#x9ED8;&#x8BA4;&#x6309;&#x7167;byName&#x65B9;&#x5F0F;&#x8FDB;&#x884C;&#x88C5;&#x914D;&#xFF1B;&#x5982;&#x679C;&#x6CA1;&#x6709;&#x5339;&#x914D;&#xFF0C;&#x6309;&#x7167;byType&#x8FDB;&#x884C;&#x88C5;&#x914D;&#x3002;<br>@Autowired&#x53EA;&#x6839;&#x636E;type&#x8FDB;&#x884C;&#x6CE8;&#x5165;&#xFF0C;&#x4E0D;&#x4F1A;&#x53BB;&#x5339;&#x914D;name&#x3002;&#x5982;&#x679C;&#x6D89;&#x53CA;&#x5230;type&#x65E0;&#x6CD5;&#x8FA8;&#x522B;&#x6CE8;&#x5165;&#x5BF9;&#x8C61;&#x65F6;&#xFF0C;&#x90A3;&#x9700;&#x8981;&#x4F9D;&#x8D56;@Qualifier&#x6216;@Primary&#x6CE8;&#x89E3;&#x4E00;&#x8D77;&#x6765;&#x4FEE;&#x9970;&#x3002;</li>
</ul>
<h2 id="&#x4F7F;&#x7528;-RequiredArgsConstructor&#x6784;&#x9020;&#x5668;&#x65B9;&#x5F0F;&#x6CE8;&#x5165;"><a href="#&#x4F7F;&#x7528;-RequiredArgsConstructor&#x6784;&#x9020;&#x5668;&#x65B9;&#x5F0F;&#x6CE8;&#x5165;" class="headerlink" title="&#x4F7F;&#x7528;@RequiredArgsConstructor&#x6784;&#x9020;&#x5668;&#x65B9;&#x5F0F;&#x6CE8;&#x5165;"></a>&#x4F7F;&#x7528;@RequiredArgsConstructor&#x6784;&#x9020;&#x5668;&#x65B9;&#x5F0F;&#x6CE8;&#x5165;</h2><p>&#x8FD9;&#x79CD;&#x5F62;&#x5F0F;&#x5C31;&#x662F;Spring&#x63A8;&#x8350;&#x4F7F;&#x7528;&#x7684;&#x6784;&#x9020;&#x5668;&#x65B9;&#x5F0F;&#x6CE8;&#x5165;&#xFF0C;&#x6B64;&#x79CD;&#x65B9;&#x5F0F;&#x662F;lombok&#x5305;&#x4E0B;&#x7684;&#x6CE8;&#x89E3;&#xFF0C;&#x5982;&#x679C;&#x4F7F;&#x7528;&#x6B64;&#x79CD;&#x65B9;&#x5F0F;&#xFF0C;&#x9700;&#x8981;&#x9879;&#x76EE;&#x4E2D;&#x5F15;&#x5165;lombok&#xFF0C;&#x4F8B;&#x5982;&#xFF1A;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">java&#x590D;&#x5236;&#x4EE3;&#x7801;@RequiredArgsConstructor</span><br><span class="line">public class UserDaoImpl{</span><br><span class="line">	private final User user;</span><br><span class="line">}</span><br></pre></td></tr></table></figure>

<p><strong>&#x672C;&#x6587;&#x8F6C;&#x8F7D;&#x81EA;:</strong> <a href="/external_links/fe603495b74bcb84cccc8be79ca08c6c.html" target="blank" rel="noopener">&#x6398;&#x91D1;</a></p>
<p><em><a href="https://dev.newban.cn/">&#x5F00;&#x53D1;&#x8005;&#x535A;&#x5BA2; &#x2013; &#x548C;&#x5F00;&#x53D1;&#x76F8;&#x5173;&#x7684; &#x8FD9;&#x91CC;&#x5168;&#x90FD;&#x6709;</a></em></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://dev.newban.cn../../7023536216138055716.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="开发者博客">
      <meta itemprop="description" content>
      <meta itemprop="image" content="../../images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="开发者博客 – IT技术 尽在开发者博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="../../7023536216138055716.html" itemprop="url">实战！聊聊工作中使用了哪些设计模式</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2021-10-27T08:28:56+08:00">
                2021-10-27
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="&#x524D;&#x8A00;"><a href="#&#x524D;&#x8A00;" class="headerlink" title="&#x524D;&#x8A00;"></a>&#x524D;&#x8A00;</h2><p>&#x5927;&#x5BB6;&#x597D;&#xFF0C;&#x6211;&#x662F;<strong>&#x6361;&#x7530;&#x87BA;&#x7684;&#x5C0F;&#x7537;&#x5B69;</strong>&#x3002;</p>
<p>&#x5E73;&#x65F6;&#x6211;&#x4EEC;&#x5199;&#x4EE3;&#x7801;&#x5462;&#xFF0C;&#x591A;&#x6570;&#x60C5;&#x51B5;&#x90FD;&#x662F;<strong>&#x6D41;&#x6C34;&#x7EBF;&#x5F0F;</strong>&#x5199;&#x4EE3;&#x7801;&#xFF0C;&#x57FA;&#x672C;&#x5C31;&#x53EF;&#x4EE5;&#x5B9E;&#x73B0;&#x4E1A;&#x52A1;&#x903B;&#x8F91;&#x4E86;&#x3002;<strong>&#x5982;&#x4F55;&#x5728;&#x5199;&#x4EE3;&#x7801;&#x4E2D;&#x627E;&#x5230;&#x4E50;&#x8DA3;&#x5462;</strong>&#xFF0C;&#x6211;&#x89C9;&#x5F97;&#xFF0C;&#x6700;&#x597D;&#x7684;&#x65B9;&#x5F0F;&#x5C31;&#x662F;&#xFF1A;<strong>&#x4F7F;&#x7528;&#x8BBE;&#x8BA1;&#x6A21;&#x5F0F;&#x4F18;&#x5316;&#x81EA;&#x5DF1;&#x7684;&#x4E1A;&#x52A1;&#x4EE3;&#x7801;</strong>&#x3002;&#x4ECA;&#x5929;&#x8DDF;&#x5927;&#x5BB6;&#x804A;&#x804A;&#x65E5;&#x5E38;&#x5DE5;&#x4F5C;&#x4E2D;&#xFF0C;&#x6211;&#x90FD;&#x4F7F;&#x7528;&#x8FC7;&#x54EA;&#x4E9B;&#x8BBE;&#x8BA1;&#x6A21;&#x5F0F;&#x3002;</p>
<p><img src="https://gitee.com/songjianzaina/juejin_p5/raw/master/img/36227e99eb633cf3ff33cfa1260ce7de69ad08cbfd8275dc9442919c2efb2069" alt="&#x5DE5;&#x4F5C;&#x4E2D;&#x5E38;&#x7528;&#x5230;&#x54EA;&#x4E9B;&#x8BBE;&#x8BA1;&#x6A21;&#x5F0F;"></p>
<ul>
<li>&#x5E72;&#x8D27;&#x516C;&#x4F17;&#x53F7;&#xFF1A;<strong>&#x6361;&#x7530;&#x87BA;&#x7684;&#x5C0F;&#x7537;&#x5B69;</strong></li>
<li><a href="/external_links/d27070d082d21851007cffa375144e9a.html" target="blank" rel="noopener">&#x6211;&#x7684;github&#x5730;&#x5740;</a>&#xFF0C;&#x611F;&#x8C22;&#x7ED9;&#x4E2A;star</li>
</ul>
<h2 id="1-&#x7B56;&#x7565;&#x6A21;&#x5F0F;"><a href="#1-&#x7B56;&#x7565;&#x6A21;&#x5F0F;" class="headerlink" title="1.&#x7B56;&#x7565;&#x6A21;&#x5F0F;"></a>1.&#x7B56;&#x7565;&#x6A21;&#x5F0F;</h2><h3 id="1-1-&#x4E1A;&#x52A1;&#x573A;&#x666F;"><a href="#1-1-&#x4E1A;&#x52A1;&#x573A;&#x666F;" class="headerlink" title="1.1 &#x4E1A;&#x52A1;&#x573A;&#x666F;"></a>1.1 &#x4E1A;&#x52A1;&#x573A;&#x666F;</h3><p>&#x5047;&#x8BBE;&#x6709;&#x8FD9;&#x6837;&#x7684;&#x4E1A;&#x52A1;&#x573A;&#x666F;&#xFF0C;&#x5927;&#x6570;&#x636E;&#x7CFB;&#x7EDF;&#x628A;&#x6587;&#x4EF6;&#x63A8;&#x9001;&#x8FC7;&#x6765;&#xFF0C;&#x6839;&#x636E;&#x4E0D;&#x540C;&#x7C7B;&#x578B;&#x91C7;&#x53D6;<strong>&#x4E0D;&#x540C;&#x7684;&#x89E3;&#x6790;</strong>&#x65B9;&#x5F0F;&#x3002;&#x591A;&#x6570;&#x7684;&#x5C0F;&#x4F19;&#x4F34;&#x5C31;&#x4F1A;&#x5199;&#x51FA;&#x4EE5;&#x4E0B;&#x7684;&#x4EE3;&#x7801;&#xFF1A;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">go&#x590D;&#x5236;&#x4EE3;&#x7801;if(type==&quot;A&quot;){</span><br><span class="line">   //&#x6309;&#x7167;A&#x683C;&#x5F0F;&#x89E3;&#x6790;</span><br><span class="line"> </span><br><span class="line">}else if(type==&quot;B&quot;){</span><br><span class="line">    //&#x6309;B&#x683C;&#x5F0F;&#x89E3;&#x6790;</span><br><span class="line">}else{</span><br><span class="line">    //&#x6309;&#x7167;&#x9ED8;&#x8BA4;&#x683C;&#x5F0F;&#x89E3;&#x6790;</span><br><span class="line">}</span><br></pre></td></tr></table></figure>

<p>&#x8FD9;&#x4E2A;&#x4EE3;&#x7801;&#x53EF;&#x80FD;&#x4F1A;&#x5B58;&#x5728;&#x54EA;&#x4E9B;<strong>&#x95EE;&#x9898;&#x5462;</strong>&#xFF1F;</p>
<ul>
<li>&#x5982;&#x679C;&#x5206;&#x652F;&#x53D8;&#x591A;&#xFF0C;&#x8FD9;&#x91CC;&#x7684;&#x4EE3;&#x7801;&#x5C31;&#x4F1A;&#x53D8;&#x5F97;<strong>&#x81C3;&#x80BF;&#xFF0C;&#x96BE;&#x4EE5;&#x7EF4;&#x62A4;&#xFF0C;&#x53EF;&#x8BFB;&#x6027;&#x4F4E;</strong>&#x3002;</li>
<li>&#x5982;&#x679C;&#x4F60;&#x9700;&#x8981;&#x63A5;&#x5165;&#x4E00;&#x79CD;&#x65B0;&#x7684;&#x89E3;&#x6790;&#x7C7B;&#x578B;&#xFF0C;&#x90A3;&#x53EA;&#x80FD;&#x5728;<strong>&#x539F;&#x6709;&#x4EE3;&#x7801;&#x4E0A;&#x4FEE;&#x6539;</strong>&#x3002;</li>
</ul>
<p>&#x8BF4;&#x5F97;&#x4E13;&#x4E1A;&#x4E00;&#x70B9;&#x7684;&#x8BDD;&#xFF0C;&#x5C31;&#x662F;&#x4EE5;&#x4E0A;&#x4EE3;&#x7801;&#xFF0C;&#x8FDD;&#x80CC;&#x4E86;&#x9762;&#x5411;&#x5BF9;&#x8C61;&#x7F16;&#x7A0B;&#x7684;<strong>&#x5F00;&#x95ED;&#x539F;&#x5219;</strong>&#x4EE5;&#x53CA;<strong>&#x5355;&#x4E00;&#x539F;&#x5219;</strong>&#x3002;</p>
<ul>
<li><strong>&#x5F00;&#x95ED;&#x539F;&#x5219;</strong>&#xFF08;&#x5BF9;&#x4E8E;&#x6269;&#x5C55;&#x662F;&#x5F00;&#x653E;&#x7684;&#xFF0C;&#x4F46;&#x662F;&#x5BF9;&#x4E8E;&#x4FEE;&#x6539;&#x662F;&#x5C01;&#x95ED;&#x7684;&#xFF09;&#xFF1A;&#x589E;&#x52A0;&#x6216;&#x8005;&#x5220;&#x9664;&#x67D0;&#x4E2A;&#x903B;&#x8F91;&#xFF0C;&#x90FD;&#x9700;&#x8981;&#x4FEE;&#x6539;&#x5230;&#x539F;&#x6765;&#x4EE3;&#x7801;</li>
<li><strong>&#x5355;&#x4E00;&#x539F;&#x5219;</strong>&#xFF08;&#x89C4;&#x5B9A;&#x4E00;&#x4E2A;&#x7C7B;&#x5E94;&#x8BE5;&#x53EA;&#x6709;&#x4E00;&#x4E2A;&#x53D1;&#x751F;&#x53D8;&#x5316;&#x7684;&#x539F;&#x56E0;&#xFF09;&#xFF1A;&#x4FEE;&#x6539;&#x4EFB;&#x4F55;&#x7C7B;&#x578B;&#x7684;&#x5206;&#x652F;&#x903B;&#x8F91;&#x4EE3;&#x7801;&#xFF0C;&#x90FD;&#x9700;&#x8981;&#x6539;&#x52A8;&#x5F53;&#x524D;&#x7C7B;&#x7684;&#x4EE3;&#x7801;&#x3002;</li>
</ul>
<p>&#x5982;&#x679C;&#x4F60;&#x7684;&#x4EE3;&#x7801;&#x5C31;&#x662F;&#x9171;&#x7D2B;&#xFF1A;&#x6709;&#x591A;&#x4E2A;<code>if...else</code>&#x7B49;&#x6761;&#x4EF6;&#x5206;&#x652F;&#xFF0C;&#x5E76;&#x4E14;&#x6BCF;&#x4E2A;&#x6761;&#x4EF6;&#x5206;&#x652F;&#xFF0C;&#x53EF;&#x4EE5;&#x5C01;&#x88C5;&#x8D77;&#x6765;&#x66FF;&#x6362;&#x7684;&#xFF0C;&#x6211;&#x4EEC;&#x5C31;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;<strong>&#x7B56;&#x7565;&#x6A21;&#x5F0F;</strong>&#x6765;&#x4F18;&#x5316;&#x3002;</p>
<h3 id="1-2-&#x7B56;&#x7565;&#x6A21;&#x5F0F;&#x5B9A;&#x4E49;"><a href="#1-2-&#x7B56;&#x7565;&#x6A21;&#x5F0F;&#x5B9A;&#x4E49;" class="headerlink" title="1.2 &#x7B56;&#x7565;&#x6A21;&#x5F0F;&#x5B9A;&#x4E49;"></a>1.2 &#x7B56;&#x7565;&#x6A21;&#x5F0F;&#x5B9A;&#x4E49;</h3><p><strong>&#x7B56;&#x7565;&#x6A21;&#x5F0F;</strong>&#x5B9A;&#x4E49;&#x4E86;&#x7B97;&#x6CD5;&#x65CF;&#xFF0C;&#x5206;&#x522B;&#x5C01;&#x88C5;&#x8D77;&#x6765;&#xFF0C;&#x8BA9;&#x5B83;&#x4EEC;&#x4E4B;&#x95F4;&#x53EF;&#x4EE5;&#x76F8;&#x4E92;&#x66FF;&#x6362;&#xFF0C;&#x6B64;&#x6A21;&#x5F0F;&#x8BA9;&#x7B97;&#x6CD5;&#x7684;&#x53D8;&#x5316;&#x72EC;&#x7ACB;&#x4E8E;&#x4F7F;&#x7528;&#x7B97;&#x6CD5;&#x7684;&#x7684;&#x5BA2;&#x6237;&#x3002;&#x8FD9;&#x4E2A;&#x7B56;&#x7565;&#x6A21;&#x5F0F;&#x7684;&#x5B9A;&#x4E49;&#x662F;&#x4E0D;&#x662F;&#x6709;&#x70B9;&#x62BD;&#x8C61;&#x5462;&#xFF1F;&#x90A3;&#x6211;&#x4EEC;&#x6765;&#x770B;&#x70B9;&#x901A;&#x4FD7;&#x6613;&#x61C2;&#x7684;&#x6BD4;&#x55BB;&#xFF1A;</p>
<blockquote>
<p>&#x5047;&#x8BBE;&#x4F60;&#x8DDF;&#x4E0D;&#x540C;&#x6027;&#x683C;&#x7C7B;&#x578B;&#x7684;&#x5C0F;&#x59D0;&#x59D0;&#x7EA6;&#x4F1A;&#xFF0C;&#x8981;&#x7528;&#x4E0D;&#x540C;&#x7684;&#x7B56;&#x7565;&#xFF0C;&#x6709;&#x7684;&#x8BF7;&#x7535;&#x5F71;&#x6BD4;&#x8F83;&#x597D;&#xFF0C;&#x6709;&#x7684;&#x5219;&#x53BB;&#x5403;&#x5C0F;&#x5403;&#x6548;&#x679C;&#x4E0D;&#x9519;&#xFF0C;&#x6709;&#x7684;&#x53BB;&#x901B;&#x8857;&#x4E70;&#x4E70;&#x4E70;&#x6700;&#x5408;&#x9002;&#x3002;&#x5F53;&#x7136;&#xFF0C;&#x76EE;&#x7684;&#x90FD;&#x662F;&#x4E3A;&#x4E86;&#x5F97;&#x5230;&#x5C0F;&#x59D0;&#x59D0;&#x7684;&#x82B3;&#x5FC3;&#xFF0C;&#x8BF7;&#x770B;&#x7535;&#x5F71;&#x3001;&#x5403;&#x5C0F;&#x5403;&#x3001;&#x901B;&#x8857;&#x5C31;&#x662F;&#x4E0D;&#x540C;&#x7684;&#x7B56;&#x7565;&#x3002;</p>
</blockquote>
<p>&#x7B56;&#x7565;&#x6A21;&#x5F0F;&#x9488;&#x5BF9;&#x4E00;&#x7EC4;&#x7B97;&#x6CD5;&#xFF0C;&#x5C06;&#x6BCF;&#x4E00;&#x4E2A;&#x7B97;&#x6CD5;&#x5C01;&#x88C5;&#x5230;&#x5177;&#x6709;&#x5171;&#x540C;&#x63A5;&#x53E3;&#x7684;&#x72EC;&#x7ACB;&#x7684;&#x7C7B;&#x4E2D;&#xFF0C;&#x4ECE;&#x800C;&#x4F7F;&#x5F97;&#x5B83;&#x4EEC;&#x53EF;&#x4EE5;&#x76F8;&#x4E92;&#x66FF;&#x6362;&#x3002;</p>
<h3 id="1-3-&#x7B56;&#x7565;&#x6A21;&#x5F0F;&#x4F7F;&#x7528;"><a href="#1-3-&#x7B56;&#x7565;&#x6A21;&#x5F0F;&#x4F7F;&#x7528;" class="headerlink" title="1.3 &#x7B56;&#x7565;&#x6A21;&#x5F0F;&#x4F7F;&#x7528;"></a>1.3 &#x7B56;&#x7565;&#x6A21;&#x5F0F;&#x4F7F;&#x7528;</h3><p>&#x7B56;&#x7565;&#x6A21;&#x5F0F;&#x600E;&#x4E48;&#x4F7F;&#x7528;&#x5462;&#xFF1F;&#x9171;&#x7D2B;&#x5B9E;&#x73B0;&#x7684;&#xFF1A;</p>
<ul>
<li>&#x4E00;&#x4E2A;&#x63A5;&#x53E3;&#x6216;&#x8005;&#x62BD;&#x8C61;&#x7C7B;&#xFF0C;&#x91CC;&#x9762;&#x4E24;&#x4E2A;&#x65B9;&#x6CD5;&#xFF08;&#x4E00;&#x4E2A;&#x65B9;&#x6CD5;&#x5339;&#x914D;&#x7C7B;&#x578B;&#xFF0C;&#x4E00;&#x4E2A;&#x53EF;&#x66FF;&#x6362;&#x7684;&#x903B;&#x8F91;&#x5B9E;&#x73B0;&#x65B9;&#x6CD5;&#xFF09;</li>
<li>&#x4E0D;&#x540C;&#x7B56;&#x7565;&#x7684;&#x5DEE;&#x5F02;&#x5316;&#x5B9E;&#x73B0;(&#x5C31;&#x662F;&#x8BF4;&#xFF0C;&#x4E0D;&#x540C;&#x7B56;&#x7565;&#x7684;&#x5B9E;&#x73B0;&#x7C7B;)</li>
<li>&#x4F7F;&#x7528;&#x7B56;&#x7565;&#x6A21;&#x5F0F;</li>
</ul>
<h4 id="1-3-1-&#x4E00;&#x4E2A;&#x63A5;&#x53E3;&#xFF0C;&#x4E24;&#x4E2A;&#x65B9;&#x6CD5;"><a href="#1-3-1-&#x4E00;&#x4E2A;&#x63A5;&#x53E3;&#xFF0C;&#x4E24;&#x4E2A;&#x65B9;&#x6CD5;" class="headerlink" title="1.3.1 &#x4E00;&#x4E2A;&#x63A5;&#x53E3;&#xFF0C;&#x4E24;&#x4E2A;&#x65B9;&#x6CD5;"></a>1.3.1 &#x4E00;&#x4E2A;&#x63A5;&#x53E3;&#xFF0C;&#x4E24;&#x4E2A;&#x65B9;&#x6CD5;</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">csharp&#x590D;&#x5236;&#x4EE3;&#x7801;public interface IFileStrategy {</span><br><span class="line">    </span><br><span class="line">    //&#x5C5E;&#x4E8E;&#x54EA;&#x79CD;&#x6587;&#x4EF6;&#x89E3;&#x6790;&#x7C7B;&#x578B;</span><br><span class="line">    FileTypeResolveEnum gainFileType();</span><br><span class="line">    </span><br><span class="line">    //&#x5C01;&#x88C5;&#x7684;&#x516C;&#x7528;&#x7B97;&#x6CD5;&#xFF08;&#x5177;&#x4F53;&#x7684;&#x89E3;&#x6790;&#x65B9;&#x6CD5;&#xFF09;</span><br><span class="line">    void resolve(Object objectparam);</span><br><span class="line">}</span><br></pre></td></tr></table></figure>

<h4 id="1-3-2-&#x4E0D;&#x540C;&#x7B56;&#x7565;&#x7684;&#x5DEE;&#x5F02;&#x5316;&#x5B9E;&#x73B0;"><a href="#1-3-2-&#x4E0D;&#x540C;&#x7B56;&#x7565;&#x7684;&#x5DEE;&#x5F02;&#x5316;&#x5B9E;&#x73B0;" class="headerlink" title="1.3.2 &#x4E0D;&#x540C;&#x7B56;&#x7565;&#x7684;&#x5DEE;&#x5F02;&#x5316;&#x5B9E;&#x73B0;"></a>1.3.2 &#x4E0D;&#x540C;&#x7B56;&#x7565;&#x7684;&#x5DEE;&#x5F02;&#x5316;&#x5B9E;&#x73B0;</h4><p>A &#x7C7B;&#x578B;&#x7B56;&#x7565;&#x5177;&#x4F53;&#x5B9E;&#x73B0;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">typescript&#x590D;&#x5236;&#x4EE3;&#x7801;@Component</span><br><span class="line">public class AFileResolve implements IFileStrategy {</span><br><span class="line">    </span><br><span class="line">    @Override</span><br><span class="line">    public FileTypeResolveEnum gainFileType() {</span><br><span class="line">        return FileTypeResolveEnum.File_A_RESOLVE;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    @Override</span><br><span class="line">    public void resolve(Object objectparam) {</span><br><span class="line">      logger.info(&quot;A &#x7C7B;&#x578B;&#x89E3;&#x6790;&#x6587;&#x4EF6;&#xFF0C;&#x53C2;&#x6570;&#xFF1A;{}&quot;,objectparam);</span><br><span class="line">      //A&#x7C7B;&#x578B;&#x89E3;&#x6790;&#x5177;&#x4F53;&#x903B;&#x8F91;</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></table></figure>

<p>B &#x7C7B;&#x578B;&#x7B56;&#x7565;&#x5177;&#x4F53;&#x5B9E;&#x73B0;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">typescript&#x590D;&#x5236;&#x4EE3;&#x7801;@Component</span><br><span class="line">public class BFileResolve implements IFileStrategy {</span><br><span class="line">   </span><br><span class="line">    @Override</span><br><span class="line">    public FileTypeResolveEnum gainFileType() {</span><br><span class="line">        return FileTypeResolveEnum.File_B_RESOLVE;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    @Override</span><br><span class="line">    public void resolve(Object objectparam) {</span><br><span class="line">      logger.info(&quot;B &#x7C7B;&#x578B;&#x89E3;&#x6790;&#x6587;&#x4EF6;&#xFF0C;&#x53C2;&#x6570;&#xFF1A;{}&quot;,objectparam);</span><br><span class="line">      //B&#x7C7B;&#x578B;&#x89E3;&#x6790;&#x5177;&#x4F53;&#x903B;&#x8F91;</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></table></figure>

<p>&#x9ED8;&#x8BA4;&#x7C7B;&#x578B;&#x7B56;&#x7565;&#x5177;&#x4F53;&#x5B9E;&#x73B0;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">typescript&#x590D;&#x5236;&#x4EE3;&#x7801;@Component</span><br><span class="line">public class DefaultFileResolve implements IFileStrategy {</span><br><span class="line"></span><br><span class="line">    @Override</span><br><span class="line">    public FileTypeResolveEnum gainFileType() {</span><br><span class="line">        return FileTypeResolveEnum.File_DEFAULT_RESOLVE;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    @Override</span><br><span class="line">    public void resolve(Object objectparam) {</span><br><span class="line">      logger.info(&quot;&#x9ED8;&#x8BA4;&#x7C7B;&#x578B;&#x89E3;&#x6790;&#x6587;&#x4EF6;&#xFF0C;&#x53C2;&#x6570;&#xFF1A;{}&quot;,objectparam);</span><br><span class="line">      //&#x9ED8;&#x8BA4;&#x7C7B;&#x578B;&#x89E3;&#x6790;&#x5177;&#x4F53;&#x903B;&#x8F91;</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></table></figure>

<h4 id="1-3-3-&#x4F7F;&#x7528;&#x7B56;&#x7565;&#x6A21;&#x5F0F;"><a href="#1-3-3-&#x4F7F;&#x7528;&#x7B56;&#x7565;&#x6A21;&#x5F0F;" class="headerlink" title="1.3.3 &#x4F7F;&#x7528;&#x7B56;&#x7565;&#x6A21;&#x5F0F;"></a>1.3.3 &#x4F7F;&#x7528;&#x7B56;&#x7565;&#x6A21;&#x5F0F;</h4><p>&#x5982;&#x4F55;&#x4F7F;&#x7528;&#x5462;&#xFF1F;&#x6211;&#x4EEC;&#x501F;&#x52A9;<code>spring</code>&#x7684;&#x751F;&#x547D;&#x5468;&#x671F;&#xFF0C;&#x4F7F;&#x7528;<code>ApplicationContextAware</code>&#x63A5;&#x53E3;&#xFF0C;&#x628A;&#x5BF9;&#x7528;&#x7684;&#x7B56;&#x7565;&#xFF0C;&#x521D;&#x59CB;&#x5316;&#x5230;<code>map</code>&#x91CC;&#x9762;&#x3002;&#x7136;&#x540E;&#x5BF9;&#x5916;&#x63D0;&#x4F9B;<code>resolveFile</code>&#x65B9;&#x6CD5;&#x5373;&#x53EF;&#x3002;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">typescript&#x590D;&#x5236;&#x4EE3;&#x7801;/**</span><br><span class="line"> *  @author &#x516C;&#x4F17;&#x53F7;&#xFF1A;&#x6361;&#x7530;&#x87BA;&#x7684;&#x5C0F;&#x7537;&#x5B69;</span><br><span class="line"> */</span><br><span class="line">@Component</span><br><span class="line">public class StrategyUseService implements ApplicationContextAware{</span><br><span class="line"></span><br><span class="line">  </span><br><span class="line">    private Map&lt;FileTypeResolveEnum, IFileStrategy&gt; iFileStrategyMap = new ConcurrentHashMap&lt;&gt;();</span><br><span class="line"></span><br><span class="line">    public void resolveFile(FileTypeResolveEnum fileTypeResolveEnum, Object objectParam) {</span><br><span class="line">        IFileStrategy iFileStrategy = iFileStrategyMap.get(fileTypeResolveEnum);</span><br><span class="line">        if (iFileStrategy != null) {</span><br><span class="line">            iFileStrategy.resolve(objectParam);</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    //&#x628A;&#x4E0D;&#x540C;&#x7B56;&#x7565;&#x653E;&#x5230;map</span><br><span class="line">    @Override</span><br><span class="line">    public void setApplicationContext(ApplicationContext applicationContext) throws BeansException {</span><br><span class="line">        Map&lt;String, IFileStrategy&gt; tmepMap = applicationContext.getBeansOfType(IFileStrategy.class);</span><br><span class="line">        tmepMap.values().forEach(strategyService -&gt; iFileStrategyMap.put(strategyService.gainFileType(), strategyService));</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></table></figure>

<ol start="2">
<li>&#x8D23;&#x4EFB;&#x94FE;&#x6A21;&#x5F0F;</li>
</ol>
<hr>
<h3 id="2-1-&#x4E1A;&#x52A1;&#x573A;&#x666F;"><a href="#2-1-&#x4E1A;&#x52A1;&#x573A;&#x666F;" class="headerlink" title="2.1 &#x4E1A;&#x52A1;&#x573A;&#x666F;"></a>2.1 &#x4E1A;&#x52A1;&#x573A;&#x666F;</h3><p>&#x6211;&#x4EEC;&#x6765;&#x770B;&#x4E00;&#x4E2A;&#x5E38;&#x89C1;&#x7684;&#x4E1A;&#x52A1;&#x573A;&#x666F;&#xFF0C;&#x4E0B;&#x8BA2;&#x5355;&#x3002;&#x4E0B;&#x8BA2;&#x5355;&#x63A5;&#x53E3;&#xFF0C;&#x57FA;&#x672C;&#x7684;&#x903B;&#x8F91;&#xFF0C;&#x4E00;&#x822C;&#x6709;&#x53C2;&#x6570;&#x975E;&#x7A7A;&#x6821;&#x9A8C;&#x3001;&#x5B89;&#x5168;&#x6821;&#x9A8C;&#x3001;&#x9ED1;&#x540D;&#x5355;&#x6821;&#x9A8C;&#x3001;&#x89C4;&#x5219;&#x62E6;&#x622A;&#x7B49;&#x7B49;&#x3002;&#x5F88;&#x591A;&#x4F19;&#x4F34;&#x4F1A;&#x4F7F;&#x7528;&#x5F02;&#x5E38;&#x6765;&#x5B9E;&#x73B0;&#xFF1A;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line">typescript&#x590D;&#x5236;&#x4EE3;&#x7801;public class Order {</span><br><span class="line"></span><br><span class="line">    public void checkNullParam(Object param){</span><br><span class="line">      //&#x53C2;&#x6570;&#x975E;&#x7A7A;&#x6821;&#x9A8C;</span><br><span class="line">      throw new RuntimeException();</span><br><span class="line">    }</span><br><span class="line">    public void checkSecurity(){</span><br><span class="line">      //&#x5B89;&#x5168;&#x6821;&#x9A8C;</span><br><span class="line">      throw new RuntimeException();</span><br><span class="line">    }</span><br><span class="line">    public void checkBackList(){</span><br><span class="line">        //&#x9ED1;&#x540D;&#x5355;&#x6821;&#x9A8C;</span><br><span class="line">        throw new RuntimeException();</span><br><span class="line">    }</span><br><span class="line">    public void checkRule(){</span><br><span class="line">        //&#x89C4;&#x5219;&#x62E6;&#x622A;</span><br><span class="line">        throw new RuntimeException();</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    public static void main(String[] args) {</span><br><span class="line">        Order order= new Order();</span><br><span class="line">        try{</span><br><span class="line">            order.checkNullParam();</span><br><span class="line">            order.checkSecurity ();</span><br><span class="line">            order.checkBackList();</span><br><span class="line">            order2.checkRule();</span><br><span class="line">            System.out.println(&quot;order success&quot;);</span><br><span class="line">        }catch (RuntimeException e){</span><br><span class="line">            System.out.println(&quot;order fail&quot;);</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></table></figure>

<p>&#x8FD9;&#x6BB5;&#x4EE3;&#x7801;&#x4F7F;&#x7528;&#x4E86;<strong>&#x5F02;&#x5E38;</strong>&#x6765;&#x505A;&#x903B;&#x8F91;&#x6761;&#x4EF6;&#x5224;&#x65AD;&#xFF0C;&#x5982;&#x679C;&#x540E;&#x7EED;&#x903B;&#x8F91;&#x8D8A;&#x6765;&#x8D8A;&#x590D;&#x6742;&#x7684;&#x8BDD;&#xFF0C;&#x4F1A;&#x51FA;&#x73B0;&#x4E00;&#x4E9B;&#x95EE;&#x9898;&#xFF1A;&#x5982;&#x5F02;&#x5E38;&#x53EA;&#x80FD;&#x8FD4;&#x56DE;&#x5F02;&#x5E38;&#x4FE1;&#x606F;&#xFF0C;&#x4E0D;&#x80FD;&#x8FD4;&#x56DE;&#x66F4;&#x591A;&#x7684;&#x5B57;&#x6BB5;&#xFF0C;&#x8FD9;&#x65F6;&#x5019;&#x9700;&#x8981;<strong>&#x81EA;&#x5B9A;&#x4E49;&#x5F02;&#x5E38;&#x7C7B;</strong>&#x3002;</p>
<p>&#x5E76;&#x4E14;&#xFF0C;&#x963F;&#x91CC;&#x5F00;&#x53D1;&#x624B;&#x518C;&#x89C4;&#x5B9A;&#xFF1A;<strong>&#x7981;&#x6B62;&#x7528;&#x5F02;&#x5E38;&#x505A;&#x903B;&#x8F91;&#x5224;&#x65AD;</strong>&#x3002;</p>
<blockquote>
<p>&#x3010;&#x5F3A;&#x5236;&#x3011;<br>&#x5F02;&#x5E38;&#x4E0D;&#x8981;&#x7528;&#x6765;&#x505A;&#x6D41;&#x7A0B;&#x63A7;&#x5236;&#xFF0C;&#x6761;&#x4EF6;&#x63A7;&#x5236;&#x3002;<br>&#x8BF4;&#x660E;&#xFF1A;&#x5F02;&#x5E38;&#x8BBE;&#x8BA1;&#x7684;&#x521D;&#x8877;&#x662F;&#x89E3;&#x51B3;&#x7A0B;&#x5E8F;&#x8FD0;&#x884C;&#x4E2D;&#x7684;&#x5404;&#x79CD;&#x610F;&#x5916;&#x60C5;&#x51B5;&#xFF0C;&#x4E14;&#x5F02;&#x5E38;&#x7684;&#x5904;&#x7406;&#x6548;&#x7387;&#x6BD4;&#x6761;&#x4EF6;&#x5224;&#x65AD;&#x65B9;&#x5F0F;&#x8981;&#x4F4E;&#x5F88;&#x591A;&#x3002;</p>
</blockquote>
<p>&#x5982;&#x4F55;&#x4F18;&#x5316;&#x8FD9;&#x6BB5;&#x4EE3;&#x7801;&#x5462;&#xFF1F;&#x53EF;&#x4EE5;&#x8003;&#x8651;<strong>&#x8D23;&#x4EFB;&#x94FE;&#x6A21;&#x5F0F;</strong></p>
<h3 id="2-2-&#x8D23;&#x4EFB;&#x94FE;&#x6A21;&#x5F0F;&#x5B9A;&#x4E49;"><a href="#2-2-&#x8D23;&#x4EFB;&#x94FE;&#x6A21;&#x5F0F;&#x5B9A;&#x4E49;" class="headerlink" title="2.2 &#x8D23;&#x4EFB;&#x94FE;&#x6A21;&#x5F0F;&#x5B9A;&#x4E49;"></a>2.2 &#x8D23;&#x4EFB;&#x94FE;&#x6A21;&#x5F0F;&#x5B9A;&#x4E49;</h3><p>&#x5F53;&#x4F60;&#x60F3;&#x8981;&#x8BA9;&#x4E00;&#x4E2A;<strong>&#x4EE5;&#x4E0A;&#x7684;&#x5BF9;&#x8C61;</strong>&#x6709;&#x673A;&#x4F1A;&#x80FD;&#x591F;&#x5904;&#x7406;&#x67D0;&#x4E2A;&#x8BF7;&#x6C42;&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x5C31;&#x4F7F;&#x7528;<strong>&#x8D23;&#x4EFB;&#x94FE;&#x6A21;&#x5F0F;</strong>&#x3002;</p>
<blockquote>
<p>&#x8D23;&#x4EFB;&#x94FE;&#x6A21;&#x5F0F;&#x4E3A;&#x8BF7;&#x6C42;&#x521B;&#x5EFA;&#x4E86;&#x4E00;&#x4E2A;&#x63A5;&#x6536;&#x8005;&#x5BF9;&#x8C61;&#x7684;&#x94FE;&#x3002;&#x6267;&#x884C;&#x94FE;&#x4E0A;&#x6709;&#x591A;&#x4E2A;&#x5BF9;&#x8C61;&#x8282;&#x70B9;&#xFF0C;&#x6BCF;&#x4E2A;&#x5BF9;&#x8C61;&#x8282;&#x70B9;&#x90FD;&#x6709;&#x673A;&#x4F1A;&#xFF08;&#x6761;&#x4EF6;&#x5339;&#x914D;&#xFF09;&#x5904;&#x7406;&#x8BF7;&#x6C42;&#x4E8B;&#x52A1;&#xFF0C;&#x5982;&#x679C;&#x67D0;&#x4E2A;&#x5BF9;&#x8C61;&#x8282;&#x70B9;&#x5904;&#x7406;&#x5B8C;&#x4E86;&#xFF0C;&#x5C31;&#x53EF;&#x4EE5;&#x6839;&#x636E;&#x5B9E;&#x9645;&#x4E1A;&#x52A1;&#x9700;&#x6C42;&#x4F20;&#x9012;&#x7ED9;&#x4E0B;&#x4E00;&#x4E2A;&#x8282;&#x70B9;&#x7EE7;&#x7EED;&#x5904;&#x7406;&#x6216;&#x8005;&#x8FD4;&#x56DE;&#x5904;&#x7406;&#x5B8C;&#x6BD5;&#x3002;&#x8FD9;&#x79CD;&#x6A21;&#x5F0F;&#x7ED9;&#x4E88;&#x8BF7;&#x6C42;&#x7684;&#x7C7B;&#x578B;&#xFF0C;&#x5BF9;&#x8BF7;&#x6C42;&#x7684;&#x53D1;&#x9001;&#x8005;&#x548C;&#x63A5;&#x6536;&#x8005;&#x8FDB;&#x884C;&#x89E3;&#x8026;&#x3002;</p>
</blockquote>
<p>&#x8D23;&#x4EFB;&#x94FE;&#x6A21;&#x5F0F;&#x5B9E;&#x9645;&#x4E0A;&#x662F;&#x4E00;&#x79CD;&#x5904;&#x7406;&#x8BF7;&#x6C42;&#x7684;&#x6A21;&#x5F0F;&#xFF0C;&#x5B83;&#x8BA9;&#x591A;&#x4E2A;&#x5904;&#x7406;&#x5668;&#xFF08;&#x5BF9;&#x8C61;&#x8282;&#x70B9;&#xFF09;&#x90FD;&#x6709;&#x673A;&#x4F1A;&#x5904;&#x7406;&#x8BE5;&#x8BF7;&#x6C42;&#xFF0C;&#x76F4;&#x5230;&#x5176;&#x4E2D;&#x67D0;&#x4E2A;&#x5904;&#x7406;&#x6210;&#x529F;&#x4E3A;&#x6B62;&#x3002;&#x8D23;&#x4EFB;&#x94FE;&#x6A21;&#x5F0F;&#x628A;&#x591A;&#x4E2A;&#x5904;&#x7406;&#x5668;&#x4E32;&#x6210;&#x94FE;&#xFF0C;&#x7136;&#x540E;&#x8BA9;&#x8BF7;&#x6C42;&#x5728;&#x94FE;&#x4E0A;&#x4F20;&#x9012;&#xFF1A;</p>
<p><img src="https://gitee.com/songjianzaina/juejin_p5/raw/master/img/8ae1db0684d417d6a5b52016d69cf942561b53c60e874e1a669474e1a35ecca3" alt="&#x8D23;&#x4EFB;&#x94FE;&#x6A21;&#x5F0F;"></p>
<p>&#x6253;&#x4E2A;&#x6BD4;&#x55BB;&#xFF1A;</p>
<blockquote>
<p>&#x5047;&#x8BBE;&#x4F60;&#x665A;&#x4E0A;&#x53BB;&#x4E0A;&#x9009;&#x4FEE;&#x8BFE;&#xFF0C;&#x4E3A;&#x4E86;&#x53EF;&#x4EE5;&#x8D70;&#x70B9;&#x8D70;&#xFF0C;&#x5750;&#x5230;&#x4E86;&#x6700;&#x540E;&#x4E00;&#x6392;&#x3002;&#x6765;&#x5230;&#x6559;&#x5BA4;&#xFF0C;&#x53D1;&#x73B0;&#x524D;&#x9762;&#x5750;&#x4E86;&#x597D;&#x51E0;&#x4E2A;&#x6F02;&#x4EAE;&#x7684;&#x5C0F;&#x59D0;&#x59D0;&#xFF0C;&#x4E8E;&#x662F;&#x4F60;&#x627E;&#x5F20;&#x7EB8;&#x6761;&#xFF0C;&#x5199;&#x4E0A;&#xFF1A;&#x201C;&#x4F60;&#x597D;, &#x53EF;&#x4EE5;&#x505A;&#x6211;&#x7684;&#x5973;&#x670B;&#x53CB;&#x5417;&#xFF1F;&#x5982;&#x679C;&#x4E0D;&#x613F;&#x610F;&#x8BF7;&#x5411;&#x524D;&#x4F20;&#x201D;&#x3002;&#x7EB8;&#x6761;&#x5C31;&#x4E00;&#x4E2A;&#x63A5;&#x4E00;&#x4E2A;&#x7684;&#x4F20;&#x4E0A;&#x53BB;&#x4E86;&#xFF0C;&#x540E;&#x6765;&#x4F20;&#x5230;&#x7B2C;&#x4E00;&#x6392;&#x7684;&#x90A3;&#x4E2A;&#x59B9;&#x5B50;&#x624B;&#x4E0A;&#xFF0C;&#x5979;&#x628A;&#x7EB8;&#x6761;&#x4EA4;&#x7ED9;&#x8001;&#x5E08;&#xFF0C;&#x542C;&#x8BF4;&#x8001;&#x5E08;40&#x591A;&#x5C81;&#x672A;&#x5A5A;&#x2026;</p>
</blockquote>
<h3 id="2-3-&#x8D23;&#x4EFB;&#x94FE;&#x6A21;&#x5F0F;&#x4F7F;&#x7528;"><a href="#2-3-&#x8D23;&#x4EFB;&#x94FE;&#x6A21;&#x5F0F;&#x4F7F;&#x7528;" class="headerlink" title="2.3 &#x8D23;&#x4EFB;&#x94FE;&#x6A21;&#x5F0F;&#x4F7F;&#x7528;"></a>2.3 &#x8D23;&#x4EFB;&#x94FE;&#x6A21;&#x5F0F;&#x4F7F;&#x7528;</h3><p>&#x8D23;&#x4EFB;&#x94FE;&#x6A21;&#x5F0F;&#x600E;&#x4E48;&#x4F7F;&#x7528;&#x5462;&#xFF1F;</p>
<ul>
<li>&#x4E00;&#x4E2A;&#x63A5;&#x53E3;&#x6216;&#x8005;&#x62BD;&#x8C61;&#x7C7B;</li>
<li>&#x6BCF;&#x4E2A;&#x5BF9;&#x8C61;&#x5DEE;&#x5F02;&#x5316;&#x5904;&#x7406;</li>
<li>&#x5BF9;&#x8C61;&#x94FE;&#xFF08;&#x6570;&#x7EC4;&#xFF09;&#x521D;&#x59CB;&#x5316;&#xFF08;&#x8FDE;&#x8D77;&#x6765;&#xFF09;</li>
</ul>
<h4 id="2-3-1-&#x4E00;&#x4E2A;&#x63A5;&#x53E3;&#x6216;&#x8005;&#x62BD;&#x8C61;&#x7C7B;"><a href="#2-3-1-&#x4E00;&#x4E2A;&#x63A5;&#x53E3;&#x6216;&#x8005;&#x62BD;&#x8C61;&#x7C7B;" class="headerlink" title="2.3.1 &#x4E00;&#x4E2A;&#x63A5;&#x53E3;&#x6216;&#x8005;&#x62BD;&#x8C61;&#x7C7B;"></a>2.3.1 &#x4E00;&#x4E2A;&#x63A5;&#x53E3;&#x6216;&#x8005;&#x62BD;&#x8C61;&#x7C7B;</h4><p>&#x8FD9;&#x4E2A;&#x63A5;&#x53E3;&#x6216;&#x8005;&#x62BD;&#x8C61;&#x7C7B;&#xFF0C;&#x9700;&#x8981;&#xFF1A;</p>
<ul>
<li>&#x6709;&#x4E00;&#x4E2A;&#x6307;&#x5411;&#x8D23;&#x4EFB;&#x4E0B;&#x4E00;&#x4E2A;&#x5BF9;&#x8C61;&#x7684;&#x5C5E;&#x6027;</li>
<li>&#x4E00;&#x4E2A;&#x8BBE;&#x7F6E;&#x4E0B;&#x4E00;&#x4E2A;&#x5BF9;&#x8C61;&#x7684;set&#x65B9;&#x6CD5;</li>
<li>&#x7ED9;&#x5B50;&#x7C7B;&#x5BF9;&#x8C61;&#x5DEE;&#x5F02;&#x5316;&#x5B9E;&#x73B0;&#x7684;&#x65B9;&#x6CD5;&#xFF08;&#x5982;&#x4EE5;&#x4E0B;&#x4EE3;&#x7801;&#x7684;doFilter&#x65B9;&#x6CD5;&#xFF09;</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line">vbscript&#x590D;&#x5236;&#x4EE3;&#x7801;/**</span><br><span class="line"> *  &#x5173;&#x6CE8;&#x516C;&#x4F17;&#x53F7;&#xFF1A;&#x6361;&#x7530;&#x87BA;&#x7684;&#x5C0F;&#x7537;&#x5B69;</span><br><span class="line"> */</span><br><span class="line">public abstract class AbstractHandler {</span><br><span class="line"></span><br><span class="line">    //&#x8D23;&#x4EFB;&#x94FE;&#x4E2D;&#x7684;&#x4E0B;&#x4E00;&#x4E2A;&#x5BF9;&#x8C61;</span><br><span class="line">    private AbstractHandler nextHandler;</span><br><span class="line"></span><br><span class="line">    /**</span><br><span class="line">     * &#x8D23;&#x4EFB;&#x94FE;&#x7684;&#x4E0B;&#x4E00;&#x4E2A;&#x5BF9;&#x8C61;</span><br><span class="line">     */</span><br><span class="line">    public void setNextHandler(AbstractHandler nextHandler){</span><br><span class="line">        this.nextHandler = nextHandler;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    /**</span><br><span class="line">     * &#x5177;&#x4F53;&#x53C2;&#x6570;&#x62E6;&#x622A;&#x903B;&#x8F91;,&#x7ED9;&#x5B50;&#x7C7B;&#x53BB;&#x5B9E;&#x73B0;</span><br><span class="line">     */</span><br><span class="line">    public void filter(Request request, Response response) {</span><br><span class="line">        doFilter(request, response);</span><br><span class="line">        if (getNextHandler() != null) {</span><br><span class="line">            getNextHandler().filter(request, response);</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    public AbstractHandler getNextHandler() {</span><br><span class="line">        return nextHandler;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">     abstract void doFilter(Request filterRequest, Response response);</span><br><span class="line"></span><br><span class="line">}</span><br></pre></td></tr></table></figure>

<h4 id="2-3-2-&#x6BCF;&#x4E2A;&#x5BF9;&#x8C61;&#x5DEE;&#x5F02;&#x5316;&#x5904;&#x7406;"><a href="#2-3-2-&#x6BCF;&#x4E2A;&#x5BF9;&#x8C61;&#x5DEE;&#x5F02;&#x5316;&#x5904;&#x7406;" class="headerlink" title="2.3.2 &#x6BCF;&#x4E2A;&#x5BF9;&#x8C61;&#x5DEE;&#x5F02;&#x5316;&#x5904;&#x7406;"></a>2.3.2 &#x6BCF;&#x4E2A;&#x5BF9;&#x8C61;&#x5DEE;&#x5F02;&#x5316;&#x5904;&#x7406;</h4><p>&#x8D23;&#x4EFB;&#x94FE;&#x4E0A;&#xFF0C;&#x6BCF;&#x4E2A;&#x5BF9;&#x8C61;&#x7684;<strong>&#x5DEE;&#x5F02;&#x5316;</strong>&#x5904;&#x7406;&#xFF0C;&#x5982;&#x672C;&#x5C0F;&#x8282;&#x7684;&#x4E1A;&#x52A1;&#x573A;&#x666F;&#xFF0C;&#x5C31;&#x6709;&#x53C2;&#x6570;&#x6821;&#x9A8C;&#x5BF9;&#x8C61;&#x3001;&#x5B89;&#x5168;&#x6821;&#x9A8C;&#x5BF9;&#x8C61;&#x3001;&#x9ED1;&#x540D;&#x5355;&#x6821;&#x9A8C;&#x5BF9;&#x8C61;&#x3001;&#x89C4;&#x5219;&#x62E6;&#x622A;&#x5BF9;&#x8C61;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line">scala&#x590D;&#x5236;&#x4EE3;&#x7801;/**</span><br><span class="line"> * &#x53C2;&#x6570;&#x6821;&#x9A8C;&#x5BF9;&#x8C61;</span><br><span class="line"> **/</span><br><span class="line">@Component</span><br><span class="line">@Order(1) //&#x987A;&#x5E8F;&#x6392;&#x7B2C;1&#xFF0C;&#x6700;&#x5148;&#x6821;&#x9A8C;</span><br><span class="line">public class CheckParamFilterObject extends AbstractHandler {</span><br><span class="line"></span><br><span class="line">    @Override</span><br><span class="line">    public void doFilter(Request request, Response response) {</span><br><span class="line">        System.out.println(&quot;&#x975E;&#x7A7A;&#x53C2;&#x6570;&#x68C0;&#x67E5;&quot;);</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line">/**</span><br><span class="line"> *  &#x5B89;&#x5168;&#x6821;&#x9A8C;&#x5BF9;&#x8C61;</span><br><span class="line"> */</span><br><span class="line">@Component</span><br><span class="line">@Order(2) //&#x6821;&#x9A8C;&#x987A;&#x5E8F;&#x6392;&#x7B2C;2</span><br><span class="line">public class CheckSecurityFilterObject extends AbstractHandler {</span><br><span class="line"></span><br><span class="line">    @Override</span><br><span class="line">    public void doFilter(Request request, Response response) {</span><br><span class="line">        //invoke Security check</span><br><span class="line">        System.out.println(&quot;&#x5B89;&#x5168;&#x8C03;&#x7528;&#x6821;&#x9A8C;&quot;);</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line">/**</span><br><span class="line"> *  &#x9ED1;&#x540D;&#x5355;&#x6821;&#x9A8C;&#x5BF9;&#x8C61;</span><br><span class="line"> */</span><br><span class="line">@Component</span><br><span class="line">@Order(3) //&#x6821;&#x9A8C;&#x987A;&#x5E8F;&#x6392;&#x7B2C;3</span><br><span class="line">public class CheckBlackFilterObject extends AbstractHandler {</span><br><span class="line"></span><br><span class="line">    @Override</span><br><span class="line">    public void doFilter(Request request, Response response) {</span><br><span class="line">        //invoke black list check</span><br><span class="line">        System.out.println(&quot;&#x6821;&#x9A8C;&#x9ED1;&#x540D;&#x5355;&quot;);</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line">/**</span><br><span class="line"> *  &#x89C4;&#x5219;&#x62E6;&#x622A;&#x5BF9;&#x8C61;</span><br><span class="line"> */</span><br><span class="line">@Component</span><br><span class="line">@Order(4) //&#x6821;&#x9A8C;&#x987A;&#x5E8F;&#x6392;&#x7B2C;4</span><br><span class="line">public class CheckRuleFilterObject extends AbstractHandler {</span><br><span class="line"></span><br><span class="line">    @Override</span><br><span class="line">    public void doFilter(Request request, Response response) {</span><br><span class="line">        //check rule</span><br><span class="line">        System.out.println(&quot;check rule&quot;);</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></table></figure>

<h4 id="2-3-3-&#x5BF9;&#x8C61;&#x94FE;&#x8FDE;&#x8D77;&#x6765;&#xFF08;&#x521D;&#x59CB;&#x5316;&#xFF09;-amp-amp-&#x4F7F;&#x7528;"><a href="#2-3-3-&#x5BF9;&#x8C61;&#x94FE;&#x8FDE;&#x8D77;&#x6765;&#xFF08;&#x521D;&#x59CB;&#x5316;&#xFF09;-amp-amp-&#x4F7F;&#x7528;" class="headerlink" title="2.3.3 &#x5BF9;&#x8C61;&#x94FE;&#x8FDE;&#x8D77;&#x6765;&#xFF08;&#x521D;&#x59CB;&#x5316;&#xFF09;&amp;&amp; &#x4F7F;&#x7528;"></a>2.3.3 &#x5BF9;&#x8C61;&#x94FE;&#x8FDE;&#x8D77;&#x6765;&#xFF08;&#x521D;&#x59CB;&#x5316;&#xFF09;&amp;&amp; &#x4F7F;&#x7528;</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line">typescript&#x590D;&#x5236;&#x4EE3;&#x7801;@Component(&quot;ChainPatternDemo&quot;)</span><br><span class="line">public class ChainPatternDemo {</span><br><span class="line"></span><br><span class="line">    //&#x81EA;&#x52A8;&#x6CE8;&#x5165;&#x5404;&#x4E2A;&#x8D23;&#x4EFB;&#x94FE;&#x7684;&#x5BF9;&#x8C61;</span><br><span class="line">    @Autowired</span><br><span class="line">    private List&lt;AbstractHandler&gt; abstractHandleList;</span><br><span class="line"></span><br><span class="line">    private AbstractHandler abstractHandler;</span><br><span class="line"></span><br><span class="line">    //spring&#x6CE8;&#x5165;&#x540E;&#x81EA;&#x52A8;&#x6267;&#x884C;&#xFF0C;&#x8D23;&#x4EFB;&#x94FE;&#x7684;&#x5BF9;&#x8C61;&#x8FDE;&#x63A5;&#x8D77;&#x6765;</span><br><span class="line">    @PostConstruct</span><br><span class="line">    public void initializeChainFilter(){</span><br><span class="line"></span><br><span class="line">        for(int i = 0;i&lt;abstractHandleList.size();i++){</span><br><span class="line">            if(i == 0){</span><br><span class="line">                abstractHandler = abstractHandleList.get(0);</span><br><span class="line">            }else{</span><br><span class="line">                AbstractHandler currentHander = abstractHandleList.get(i - 1);</span><br><span class="line">                AbstractHandler nextHander = abstractHandleList.get(i);</span><br><span class="line">                currentHander.setNextHandler(nextHander);</span><br><span class="line">            }</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    //&#x76F4;&#x63A5;&#x8C03;&#x7528;&#x8FD9;&#x4E2A;&#x65B9;&#x6CD5;&#x4F7F;&#x7528;</span><br><span class="line">    public Response exec(Request request, Response response) {</span><br><span class="line">        abstractHandler.filter(request, response);</span><br><span class="line">        return response;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    public AbstractHandler getAbstractHandler() {</span><br><span class="line">        return abstractHandler;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    public void setAbstractHandler(AbstractHandler abstractHandler) {</span><br><span class="line">        this.abstractHandler = abstractHandler;</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></table></figure>

<p>&#x8FD0;&#x884C;&#x7ED3;&#x679C;&#x5982;&#x4E0B;&#xFF1A;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">sql&#x590D;&#x5236;&#x4EE3;&#x7801;&#x975E;&#x7A7A;&#x53C2;&#x6570;&#x68C0;&#x67E5;</span><br><span class="line">&#x5B89;&#x5168;&#x8C03;&#x7528;&#x6821;&#x9A8C;</span><br><span class="line">&#x6821;&#x9A8C;&#x9ED1;&#x540D;&#x5355;</span><br><span class="line">check rule</span><br></pre></td></tr></table></figure>

<ol start="3">
<li>&#x6A21;&#x677F;&#x65B9;&#x6CD5;&#x6A21;&#x5F0F;</li>
</ol>
<hr>
<h3 id="3-1-&#x4E1A;&#x52A1;&#x573A;&#x666F;"><a href="#3-1-&#x4E1A;&#x52A1;&#x573A;&#x666F;" class="headerlink" title="3.1 &#x4E1A;&#x52A1;&#x573A;&#x666F;"></a>3.1 &#x4E1A;&#x52A1;&#x573A;&#x666F;</h3><p>&#x5047;&#x8BBE;&#x6211;&#x4EEC;&#x6709;&#x8FD9;&#x4E48;&#x4E00;&#x4E2A;&#x4E1A;&#x52A1;&#x573A;&#x666F;&#xFF1A;&#x5185;&#x90E8;&#x7CFB;&#x7EDF;&#x4E0D;&#x540C;&#x5546;&#x6237;&#xFF0C;&#x8C03;&#x7528;&#x6211;&#x4EEC;&#x7CFB;&#x7EDF;&#x63A5;&#x53E3;&#xFF0C;&#x53BB;&#x8DDF;&#x5916;&#x90E8;&#x7B2C;&#x4E09;&#x65B9;&#x7CFB;&#x7EDF;&#x4EA4;&#x4E92;&#xFF08;http&#x65B9;&#x5F0F;&#xFF09;&#x3002;&#x8D70;&#x7C7B;&#x4F3C;&#x8FD9;&#x4E48;&#x4E00;&#x4E2A;&#x6D41;&#x7A0B;&#xFF0C;&#x5982;&#x4E0B;&#xFF1A;</p>
<p><img src="https://gitee.com/songjianzaina/juejin_p5/raw/master/img/9d1db261a6360244db0c82b85e4d2936d2a599048552e38a5c2dcda0e40011d1" alt></p>
<p>&#x4E00;&#x4E2A;&#x8BF7;&#x6C42;&#x90FD;&#x4F1A;&#x7ECF;&#x5386;&#x8FD9;&#x51E0;&#x4E2A;&#x6D41;&#x7A0B;&#xFF1A;</p>
<ul>
<li>&#x67E5;&#x8BE2;&#x5546;&#x6237;&#x4FE1;&#x606F;</li>
<li>&#x5BF9;&#x8BF7;&#x6C42;&#x62A5;&#x6587;&#x52A0;&#x7B7E;</li>
<li>&#x53D1;&#x9001;http&#x8BF7;&#x6C42;&#x51FA;&#x53BB;</li>
<li>&#x5BF9;&#x8FD4;&#x56DE;&#x7684;&#x62A5;&#x6587;&#x9A8C;&#x7B7E;</li>
</ul>
<p>&#x8FD9;&#x91CC;&#xFF0C;&#x6709;&#x7684;&#x5546;&#x6237;&#x53EF;&#x80FD;&#x662F;&#x8D70;&#x4EE3;&#x7406;&#x51FA;&#x53BB;&#x7684;&#xFF0C;&#x6709;&#x7684;&#x662F;&#x8D70;&#x76F4;&#x8FDE;&#x3002;&#x5047;&#x8BBE;&#x5F53;&#x524D;&#x6709;A&#xFF0C;B&#x5546;&#x6237;&#x63A5;&#x5165;&#xFF0C;&#x4E0D;&#x5C11;&#x4F19;&#x4F34;&#x53EF;&#x80FD;&#x8FD9;&#x4E48;&#x5B9E;&#x73B0;&#xFF0C;&#x4F2A;&#x4EE3;&#x7801;&#x5982;&#x4E0B;&#xFF1A;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">scss&#x590D;&#x5236;&#x4EE3;&#x7801;</span><br><span class="line">// &#x5546;&#x6237;A&#x5904;&#x7406;&#x53E5;&#x67C4;</span><br><span class="line">CompanyAHandler implements RequestHandler {</span><br><span class="line">   Resp hander(req){</span><br><span class="line">   //&#x67E5;&#x8BE2;&#x5546;&#x6237;&#x4FE1;&#x606F;</span><br><span class="line">   queryMerchantInfo();</span><br><span class="line">   //&#x52A0;&#x7B7E;</span><br><span class="line">   signature();</span><br><span class="line">   //http&#x8BF7;&#x6C42;&#xFF08;A&#x5546;&#x6237;&#x5047;&#x8BBE;&#x8D70;&#x7684;&#x662F;&#x4EE3;&#x7406;&#xFF09;</span><br><span class="line">   httpRequestbyProxy()</span><br><span class="line">   //&#x9A8C;&#x7B7E;</span><br><span class="line">   verify();</span><br><span class="line">   }</span><br><span class="line">}</span><br><span class="line">// &#x5546;&#x6237;B&#x5904;&#x7406;&#x53E5;&#x67C4;</span><br><span class="line">CompanyBHandler implements RequestHandler {</span><br><span class="line">   Resp hander(Rreq){</span><br><span class="line">   //&#x67E5;&#x8BE2;&#x5546;&#x6237;&#x4FE1;&#x606F;</span><br><span class="line">   queryMerchantInfo();</span><br><span class="line">   //&#x52A0;&#x7B7E;</span><br><span class="line">   signature();</span><br><span class="line">   // http&#x8BF7;&#x6C42;&#xFF08;B&#x5546;&#x6237;&#x4E0D;&#x8D70;&#x4EE3;&#x7406;&#xFF0C;&#x76F4;&#x8FDE;&#xFF09;</span><br><span class="line">   httpRequestbyDirect();</span><br><span class="line">   // &#x9A8C;&#x7B7E;</span><br><span class="line">   verify(); </span><br><span class="line">   }</span><br><span class="line">}</span><br></pre></td></tr></table></figure>

<p>&#x5047;&#x8BBE;&#x65B0;&#x52A0;&#x4E00;&#x4E2A;C&#x5546;&#x6237;&#x63A5;&#x5165;&#xFF0C;&#x4F60;&#x9700;&#x8981;&#x518D;&#x5B9E;&#x73B0;&#x4E00;&#x5957;&#x8FD9;&#x6837;&#x7684;&#x4EE3;&#x7801;&#x3002;&#x663E;&#x7136;&#xFF0C;&#x8FD9;&#x6837;&#x4EE3;&#x7801;&#x5C31;<strong>&#x91CD;&#x590D;</strong>&#x4E86;&#xFF0C;<strong>&#x4E00;&#x4E9B;&#x901A;&#x7528;&#x7684;&#x65B9;&#x6CD5;&#xFF0C;&#x5374;&#x5728;&#x6BCF;&#x4E00;&#x4E2A;&#x5B50;&#x7C7B;&#x90FD;&#x91CD;&#x65B0;&#x5199;&#x4E86;&#x8FD9;&#x4E00;&#x65B9;&#x6CD5;</strong>&#x3002;</p>
<p>&#x5982;&#x4F55;&#x4F18;&#x5316;&#x5462;&#xFF1F;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;<strong>&#x6A21;&#x677F;&#x65B9;&#x6CD5;&#x6A21;&#x5F0F;</strong>&#x3002;</p>
<h3 id="3-2-&#x6A21;&#x677F;&#x65B9;&#x6CD5;&#x6A21;&#x5F0F;&#x5B9A;&#x4E49;"><a href="#3-2-&#x6A21;&#x677F;&#x65B9;&#x6CD5;&#x6A21;&#x5F0F;&#x5B9A;&#x4E49;" class="headerlink" title="3.2 &#x6A21;&#x677F;&#x65B9;&#x6CD5;&#x6A21;&#x5F0F;&#x5B9A;&#x4E49;"></a>3.2 &#x6A21;&#x677F;&#x65B9;&#x6CD5;&#x6A21;&#x5F0F;&#x5B9A;&#x4E49;</h3><p>&#x5B9A;&#x4E49;&#x4E00;&#x4E2A;&#x64CD;&#x4F5C;&#x4E2D;&#x7684;&#x7B97;&#x6CD5;&#x7684;&#x9AA8;&#x67B6;&#x6D41;&#x7A0B;&#xFF0C;&#x800C;&#x5C06;&#x4E00;&#x4E9B;&#x6B65;&#x9AA4;&#x5EF6;&#x8FDF;&#x5230;&#x5B50;&#x7C7B;&#x4E2D;&#xFF0C;&#x4F7F;&#x5F97;&#x5B50;&#x7C7B;&#x53EF;&#x4EE5;&#x4E0D;&#x6539;&#x53D8;&#x4E00;&#x4E2A;&#x7B97;&#x6CD5;&#x7684;&#x7ED3;&#x6784;&#x5373;&#x53EF;&#x91CD;&#x5B9A;&#x4E49;&#x8BE5;&#x7B97;&#x6CD5;&#x7684;&#x67D0;&#x4E9B;&#x7279;&#x5B9A;&#x6B65;&#x9AA4;&#x3002;&#x5B83;&#x7684;&#x6838;&#x5FC3;&#x601D;&#x60F3;&#x5C31;&#x662F;&#xFF1A;&#x5B9A;&#x4E49;&#x4E00;&#x4E2A;&#x64CD;&#x4F5C;&#x7684;&#x4E00;&#x7CFB;&#x5217;&#x6B65;&#x9AA4;&#xFF0C;&#x5BF9;&#x4E8E;&#x67D0;&#x4E9B;&#x6682;&#x65F6;&#x786E;&#x5B9A;&#x4E0D;&#x4E0B;&#x6765;&#x7684;&#x6B65;&#x9AA4;&#xFF0C;&#x5C31;&#x7559;&#x7ED9;&#x5B50;&#x7C7B;&#x53BB;&#x5B9E;&#x73B0;&#xFF0C;&#x8FD9;&#x6837;&#x4E0D;&#x540C;&#x7684;&#x5B50;&#x7C7B;&#x5C31;&#x53EF;&#x4EE5;&#x5B9A;&#x4E49;&#x51FA;&#x4E0D;&#x540C;&#x7684;&#x6B65;&#x9AA4;&#x3002;</p>
<p>&#x6253;&#x4E2A;&#x901A;&#x4FD7;&#x7684;&#x6BD4;&#x55BB;&#xFF1A;</p>
<blockquote>
<p>&#x6A21;&#x5F0F;&#x4E3E;&#x4F8B;&#xFF1A;&#x8FFD;&#x5973;&#x670B;&#x53CB;&#x8981;&#x5148;&#x201C;&#x7275;&#x624B;&#x201D;&#xFF0C;&#x518D;&#x201C;&#x62E5;&#x62B1;&#x201D;&#xFF0C;&#x518D;&#x201C;&#x63A5;&#x543B;&#x201D;&#xFF0C; &#x518D;&#x201C;&#x62CD;&#x62CD;..&#x989D;..&#x624B;&#x201D;&#x3002;&#x81F3;&#x4E8E;&#x5177;&#x4F53;&#x4F60;&#x7528;&#x5DE6;&#x624B;&#x8FD8;&#x662F;&#x53F3;&#x624B;&#x7275;&#xFF0C;&#x65E0;&#x6240;&#x8C13;&#xFF0C;&#x4F46;&#x662F;&#x6574;&#x4E2A;&#x8FC7;&#x7A0B;&#xFF0C;&#x5B9A;&#x4E86;&#x4E00;&#x4E2A;&#x6D41;&#x7A0B;&#x6A21;&#x677F;&#xFF0C;&#x6309;&#x7167;&#x6A21;&#x677F;&#x6765;&#x5C31;&#x884C;&#x3002;</p>
</blockquote>
<h3 id="3-3-&#x6A21;&#x677F;&#x65B9;&#x6CD5;&#x4F7F;&#x7528;"><a href="#3-3-&#x6A21;&#x677F;&#x65B9;&#x6CD5;&#x4F7F;&#x7528;" class="headerlink" title="3.3 &#x6A21;&#x677F;&#x65B9;&#x6CD5;&#x4F7F;&#x7528;"></a>3.3 &#x6A21;&#x677F;&#x65B9;&#x6CD5;&#x4F7F;&#x7528;</h3><ul>
<li>&#x4E00;&#x4E2A;&#x62BD;&#x8C61;&#x7C7B;&#xFF0C;&#x5B9A;&#x4E49;&#x9AA8;&#x67B6;&#x6D41;&#x7A0B;&#xFF08;&#x62BD;&#x8C61;&#x65B9;&#x6CD5;&#x653E;&#x4E00;&#x8D77;&#xFF09;</li>
<li>&#x786E;&#x5B9A;&#x7684;&#x5171;&#x540C;&#x65B9;&#x6CD5;&#x6B65;&#x9AA4;&#xFF0C;&#x653E;&#x5230;&#x62BD;&#x8C61;&#x7C7B;&#xFF08;&#x53BB;&#x9664;&#x62BD;&#x8C61;&#x65B9;&#x6CD5;&#x6807;&#x8BB0;&#xFF09;</li>
<li>&#x4E0D;&#x786E;&#x5B9A;&#x7684;&#x6B65;&#x9AA4;&#xFF0C;&#x7ED9;&#x5B50;&#x7C7B;&#x53BB;&#x5DEE;&#x5F02;&#x5316;&#x5B9E;&#x73B0;</li>
</ul>
<p>&#x6211;&#x4EEC;&#x7EE7;&#x7EED;&#x90A3;&#x4EE5;&#x4E0A;&#x7684;&#x4E3E;&#x4F8B;&#x7684;&#x4E1A;&#x52A1;&#x6D41;&#x7A0B;&#x4F8B;&#x5B50;&#xFF0C;&#x6765;&#x4E00;&#x8D77;&#x7528; &#x6A21;&#x677F;&#x65B9;&#x6CD5;&#x4F18;&#x5316;&#x4E00;&#x4E0B;&#x54C8;&#xFF1A;</p>
<h4 id="3-3-1-&#x4E00;&#x4E2A;&#x62BD;&#x8C61;&#x7C7B;&#xFF0C;&#x5B9A;&#x4E49;&#x9AA8;&#x67B6;&#x6D41;&#x7A0B;"><a href="#3-3-1-&#x4E00;&#x4E2A;&#x62BD;&#x8C61;&#x7C7B;&#xFF0C;&#x5B9A;&#x4E49;&#x9AA8;&#x67B6;&#x6D41;&#x7A0B;" class="headerlink" title="3.3.1 &#x4E00;&#x4E2A;&#x62BD;&#x8C61;&#x7C7B;&#xFF0C;&#x5B9A;&#x4E49;&#x9AA8;&#x67B6;&#x6D41;&#x7A0B;"></a>3.3.1 &#x4E00;&#x4E2A;&#x62BD;&#x8C61;&#x7C7B;&#xFF0C;&#x5B9A;&#x4E49;&#x9AA8;&#x67B6;&#x6D41;&#x7A0B;</h4><p>&#x56E0;&#x4E3A;&#x4E00;&#x4E2A;&#x4E2A;&#x8BF7;&#x6C42;&#x7ECF;&#x8FC7;&#x7684;&#x6D41;&#x7A0B;&#x4E3A;&#x4E00;&#x4E0B;&#x6B65;&#x9AA4;&#xFF1A;</p>
<ul>
<li>&#x67E5;&#x8BE2;&#x5546;&#x6237;&#x4FE1;&#x606F;</li>
<li>&#x5BF9;&#x8BF7;&#x6C42;&#x62A5;&#x6587;&#x52A0;&#x7B7E;</li>
<li>&#x53D1;&#x9001;http&#x8BF7;&#x6C42;&#x51FA;&#x53BB;</li>
<li>&#x5BF9;&#x8FD4;&#x56DE;&#x7684;&#x62A5;&#x6587;&#x9A8C;&#x7B7E;</li>
</ul>
<p>&#x6240;&#x4EE5;&#x6211;&#x4EEC;&#x5C31;&#x53EF;&#x4EE5;&#x5B9A;&#x4E49;&#x4E00;&#x4E2A;&#x62BD;&#x8C61;&#x7C7B;&#xFF0C;&#x5305;&#x542B;&#x8BF7;&#x6C42;&#x6D41;&#x7A0B;&#x7684;&#x51E0;&#x4E2A;&#x65B9;&#x6CD5;&#xFF0C;&#x65B9;&#x6CD5;&#x9996;&#x5148;&#x90FD;&#x5B9A;&#x4E49;&#x4E3A;&#x62BD;&#x8C61;&#x65B9;&#x6CD5;&#x54C8;&#xFF1A;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">csharp&#x590D;&#x5236;&#x4EE3;&#x7801;/**</span><br><span class="line"> * &#x62BD;&#x8C61;&#x7C7B;&#x5B9A;&#x4E49;&#x9AA8;&#x67B6;&#x6D41;&#x7A0B;&#xFF08;&#x67E5;&#x8BE2;&#x5546;&#x6237;&#x4FE1;&#x606F;&#xFF0C;&#x52A0;&#x7B7E;&#xFF0C;http&#x8BF7;&#x6C42;&#xFF0C;&#x9A8C;&#x7B7E;&#xFF09;</span><br><span class="line"> */</span><br><span class="line">abstract class AbstractMerchantService  { </span><br><span class="line"></span><br><span class="line">      //&#x67E5;&#x8BE2;&#x5546;&#x6237;&#x4FE1;&#x606F;</span><br><span class="line">      abstract queryMerchantInfo();</span><br><span class="line">      //&#x52A0;&#x7B7E;</span><br><span class="line">      abstract signature();</span><br><span class="line">      //http &#x8BF7;&#x6C42;</span><br><span class="line">      abstract httpRequest();</span><br><span class="line">       // &#x9A8C;&#x7B7E;</span><br><span class="line">       abstract verifySinature();</span><br><span class="line"> </span><br><span class="line">}</span><br></pre></td></tr></table></figure>

<h4 id="3-3-2-&#x786E;&#x5B9A;&#x7684;&#x5171;&#x540C;&#x65B9;&#x6CD5;&#x6B65;&#x9AA4;&#xFF0C;&#x653E;&#x5230;&#x62BD;&#x8C61;&#x7C7B;"><a href="#3-3-2-&#x786E;&#x5B9A;&#x7684;&#x5171;&#x540C;&#x65B9;&#x6CD5;&#x6B65;&#x9AA4;&#xFF0C;&#x653E;&#x5230;&#x62BD;&#x8C61;&#x7C7B;" class="headerlink" title="3.3.2 &#x786E;&#x5B9A;&#x7684;&#x5171;&#x540C;&#x65B9;&#x6CD5;&#x6B65;&#x9AA4;&#xFF0C;&#x653E;&#x5230;&#x62BD;&#x8C61;&#x7C7B;"></a>3.3.2 &#x786E;&#x5B9A;&#x7684;&#x5171;&#x540C;&#x65B9;&#x6CD5;&#x6B65;&#x9AA4;&#xFF0C;&#x653E;&#x5230;&#x62BD;&#x8C61;&#x7C7B;</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">scss&#x590D;&#x5236;&#x4EE3;&#x7801;abstract class AbstractMerchantService  { </span><br><span class="line"></span><br><span class="line">     //&#x6A21;&#x677F;&#x65B9;&#x6CD5;&#x6D41;&#x7A0B;</span><br><span class="line">     Resp handlerTempPlate(req){</span><br><span class="line">           //&#x67E5;&#x8BE2;&#x5546;&#x6237;&#x4FE1;&#x606F;</span><br><span class="line">           queryMerchantInfo();</span><br><span class="line">           //&#x52A0;&#x7B7E;</span><br><span class="line">           signature();</span><br><span class="line">           //http &#x8BF7;&#x6C42;</span><br><span class="line">           httpRequest();</span><br><span class="line">           // &#x9A8C;&#x7B7E;</span><br><span class="line">           verifySinature();</span><br><span class="line">     }</span><br><span class="line">      // Http&#x662F;&#x5426;&#x8D70;&#x4EE3;&#x7406;&#xFF08;&#x63D0;&#x4F9B;&#x7ED9;&#x5B50;&#x7C7B;&#x5B9E;&#x73B0;&#xFF09;</span><br><span class="line">      abstract boolean isRequestByProxy();</span><br><span class="line">}</span><br></pre></td></tr></table></figure>

<h4 id="3-3-3-&#x4E0D;&#x786E;&#x5B9A;&#x7684;&#x6B65;&#x9AA4;&#xFF0C;&#x7ED9;&#x5B50;&#x7C7B;&#x53BB;&#x5DEE;&#x5F02;&#x5316;&#x5B9E;&#x73B0;"><a href="#3-3-3-&#x4E0D;&#x786E;&#x5B9A;&#x7684;&#x6B65;&#x9AA4;&#xFF0C;&#x7ED9;&#x5B50;&#x7C7B;&#x53BB;&#x5DEE;&#x5F02;&#x5316;&#x5B9E;&#x73B0;" class="headerlink" title="3.3.3 &#x4E0D;&#x786E;&#x5B9A;&#x7684;&#x6B65;&#x9AA4;&#xFF0C;&#x7ED9;&#x5B50;&#x7C7B;&#x53BB;&#x5DEE;&#x5F02;&#x5316;&#x5B9E;&#x73B0;"></a>3.3.3 &#x4E0D;&#x786E;&#x5B9A;&#x7684;&#x6B65;&#x9AA4;&#xFF0C;&#x7ED9;&#x5B50;&#x7C7B;&#x53BB;&#x5DEE;&#x5F02;&#x5316;&#x5B9E;&#x73B0;</h4><p>&#x56E0;&#x4E3A;&#x662F;&#x5426;&#x8D70;&#x4EE3;&#x7406;&#x6D41;&#x7A0B;&#x662F;<strong>&#x4E0D;&#x786E;&#x5B9A;</strong>&#x7684;&#xFF0C;&#x6240;&#x4EE5;&#x7ED9;&#x5B50;&#x7C7B;&#x53BB;&#x5B9E;&#x73B0;&#x3002;</p>
<p>&#x5546;&#x6237;A&#x7684;&#x8BF7;&#x6C42;&#x5B9E;&#x73B0;&#xFF1A;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">typescript&#x590D;&#x5236;&#x4EE3;&#x7801;CompanyAServiceImpl extends AbstractMerchantService{</span><br><span class="line">    Resp hander(req){</span><br><span class="line">      return handlerTempPlate(req);</span><br><span class="line">    }</span><br><span class="line">    //&#x8D70;http&#x4EE3;&#x7406;&#x7684;</span><br><span class="line">    boolean isRequestByProxy(){</span><br><span class="line">       return true;</span><br><span class="line">    }</span><br></pre></td></tr></table></figure>

<p>&#x5546;&#x6237;B&#x7684;&#x8BF7;&#x6C42;&#x5B9E;&#x73B0;&#xFF1A;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">typescript&#x590D;&#x5236;&#x4EE3;&#x7801;</span><br><span class="line">CompanyBServiceImpl extends AbstractMerchantService{</span><br><span class="line">    Resp hander(req){</span><br><span class="line">      return handlerTempPlate(req);</span><br><span class="line">    }</span><br><span class="line">    //&#x516C;&#x53F8;B&#x662F;&#x4E0D;&#x8D70;&#x4EE3;&#x7406;&#x7684;</span><br><span class="line">    boolean isRequestByProxy(){</span><br><span class="line">       return false;</span><br><span class="line">    }</span><br></pre></td></tr></table></figure>

<ol start="4">
<li>&#x89C2;&#x5BDF;&#x8005;&#x6A21;&#x5F0F;</li>
</ol>
<hr>
<h3 id="4-1-&#x4E1A;&#x52A1;&#x573A;&#x666F;"><a href="#4-1-&#x4E1A;&#x52A1;&#x573A;&#x666F;" class="headerlink" title="4.1 &#x4E1A;&#x52A1;&#x573A;&#x666F;"></a>4.1 &#x4E1A;&#x52A1;&#x573A;&#x666F;</h3><p>&#x767B;&#x9646;&#x6CE8;&#x518C;&#x5E94;&#x8BE5;&#x662F;&#x6700;&#x5E38;&#x89C1;&#x7684;&#x4E1A;&#x52A1;&#x573A;&#x666F;&#x4E86;&#x3002;&#x5C31;&#x62FF;<strong>&#x6CE8;&#x518C;</strong>&#x6765;&#x8BF4;&#x4E8B;&#xFF0C;&#x6211;&#x4EEC;&#x7ECF;&#x5E38;&#x4F1A;&#x9047;&#x5230;&#x7C7B;&#x4F3C;&#x7684;&#x573A;&#x666F;&#xFF0C;&#x5C31;&#x662F;&#x7528;&#x6237;&#x6CE8;&#x518C;&#x6210;&#x529F;&#x540E;&#xFF0C;&#x6211;&#x4EEC;&#x7ED9;&#x7528;&#x6237;&#x53D1;&#x4E00;&#x6761;&#x6D88;&#x606F;&#xFF0C;&#x53C8;&#x6216;&#x8005;&#x53D1;&#x4E2A;&#x90AE;&#x4EF6;&#x7B49;&#x7B49;&#xFF0C;&#x56E0;&#x6B64;&#x7ECF;&#x5E38;&#x6709;&#x5982;&#x4E0B;&#x7684;&#x4EE3;&#x7801;&#xFF1A;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">scss&#x590D;&#x5236;&#x4EE3;&#x7801;void register(User user){</span><br><span class="line">  insertRegisterUser&#xFF08;user&#xFF09;;</span><br><span class="line">  sendIMMessage();</span><br><span class="line">  sendEmail()&#xFF1B;</span><br><span class="line">}</span><br></pre></td></tr></table></figure>

<p>&#x8FD9;&#x5757;&#x4EE3;&#x7801;&#x4F1A;&#x6709;&#x4EC0;&#x4E48;&#x95EE;&#x9898;&#x5462;&#xFF1F; &#x5982;&#x679C;&#x4EA7;&#x54C1;&#x53C8;&#x52A0;&#x9700;&#x6C42;&#xFF1A;&#x73B0;&#x5728;&#x6CE8;&#x518C;&#x6210;&#x529F;&#x7684;&#x7528;&#x6237;&#xFF0C;&#x518D;&#x7ED9;&#x7528;&#x6237;&#x53D1;&#x4E00;&#x6761;&#x77ED;&#x4FE1;&#x901A;&#x77E5;&#x3002;&#x4E8E;&#x662F;&#x4F60;&#x53C8;&#x5F97;&#x6539;register&#x65B9;&#x6CD5;&#x7684;&#x4EE3;&#x7801;&#x4E86;&#x3002;&#x3002;&#x3002;&#x8FD9;&#x662F;&#x4E0D;&#x662F;&#x8FDD;&#x53CD;&#x4E86;<strong>&#x5F00;&#x95ED;&#x539F;&#x5219;</strong>&#x5566;&#x3002;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">scss&#x590D;&#x5236;&#x4EE3;&#x7801;void register(User user){</span><br><span class="line">  insertRegisterUser&#xFF08;user&#xFF09;;</span><br><span class="line">  sendIMMessage();</span><br><span class="line">  sendMobileMessage&#xFF08;&#xFF09;;</span><br><span class="line">  sendEmail()&#xFF1B;</span><br><span class="line">}</span><br></pre></td></tr></table></figure>

<p>&#x5E76;&#x4E14;&#xFF0C;&#x5982;&#x679C;&#x8C03;<strong>&#x53D1;&#x77ED;&#x4FE1;&#x7684;&#x63A5;&#x53E3;&#x5931;&#x8D25;</strong>&#x4E86;&#xFF0C;&#x662F;&#x4E0D;&#x662F;&#x53C8;&#x5F71;&#x54CD;&#x5230;&#x7528;&#x6237;&#x6CE8;&#x518C;&#x4E86;&#xFF1F;&#xFF01;&#x8FD9;&#x65F6;&#x5019;&#xFF0C;&#x662F;&#x4E0D;&#x662F;&#x5F97;&#x52A0;&#x4E2A;&#x5F02;&#x6B65;&#x65B9;&#x6CD5;&#x7ED9;<strong>&#x901A;&#x77E5;&#x6D88;&#x606F;</strong>&#x624D;&#x597D;&#x3002;&#x3002;&#x3002;</p>
<p>&#x5B9E;&#x9645;&#x4E0A;&#xFF0C;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#x89C2;&#x5BDF;&#x8005;&#x6A21;&#x5F0F;&#x4F18;&#x5316;&#x3002;</p>
<h3 id="4-2-&#x89C2;&#x5BDF;&#x8005;&#x6A21;&#x5F0F;&#x5B9A;&#x4E49;"><a href="#4-2-&#x89C2;&#x5BDF;&#x8005;&#x6A21;&#x5F0F;&#x5B9A;&#x4E49;" class="headerlink" title="4.2 &#x89C2;&#x5BDF;&#x8005;&#x6A21;&#x5F0F;&#x5B9A;&#x4E49;"></a>4.2 &#x89C2;&#x5BDF;&#x8005;&#x6A21;&#x5F0F;&#x5B9A;&#x4E49;</h3><blockquote>
<p>&#x89C2;&#x5BDF;&#x8005;&#x6A21;&#x5F0F;&#x5B9A;&#x4E49;&#x5BF9;&#x8C61;&#x95F4;&#x7684;&#x4E00;&#x79CD;&#x4E00;&#x5BF9;&#x591A;&#x7684;&#x4F9D;&#x8D56;&#x5173;&#x7CFB;&#xFF0C;&#x5F53;&#x4E00;&#x4E2A;&#x5BF9;&#x8C61;&#x7684;&#x72B6;&#x6001;&#x53D1;&#x751F;&#x6539;&#x53D8;&#x65F6;&#xFF0C;&#x6240;&#x6709;&#x4F9D;&#x8D56;&#x4E8E;&#x5B83;&#x7684;&#x5BF9;&#x8C61;&#x90FD;&#x5F97;&#x5230;&#x901A;&#x77E5;&#x5E76;&#x88AB;&#x5B8C;&#x6210;&#x4E1A;&#x52A1;&#x7684;&#x66F4;&#x65B0;&#x3002;</p>
</blockquote>
<p>&#x89C2;&#x5BDF;&#x8005;&#x6A21;&#x5F0F;&#x5C5E;&#x4E8E;&#x884C;&#x4E3A;&#x6A21;&#x5F0F;&#xFF0C;&#x4E00;&#x4E2A;&#x5BF9;&#x8C61;&#xFF08;&#x88AB;&#x89C2;&#x5BDF;&#x8005;&#xFF09;&#x7684;&#x72B6;&#x6001;&#x53D1;&#x751F;&#x6539;&#x53D8;&#xFF0C;&#x6240;&#x6709;&#x7684;&#x4F9D;&#x8D56;&#x5BF9;&#x8C61;&#xFF08;&#x89C2;&#x5BDF;&#x8005;&#x5BF9;&#x8C61;&#xFF09;&#x90FD;&#x5C06;&#x5F97;&#x5230;&#x901A;&#x77E5;&#xFF0C;&#x8FDB;&#x884C;&#x5E7F;&#x64AD;&#x901A;&#x77E5;&#x3002;&#x5B83;&#x7684;&#x4E3B;&#x8981;&#x6210;&#x5458;&#x5C31;&#x662F;<strong>&#x89C2;&#x5BDF;&#x8005;&#x548C;&#x88AB;&#x89C2;&#x5BDF;&#x8005;</strong>&#x3002;</p>
<ul>
<li>&#x88AB;&#x89C2;&#x5BDF;&#x8005;&#xFF08;Observerable&#xFF09;&#xFF1A;&#x76EE;&#x6807;&#x5BF9;&#x8C61;&#xFF0C;&#x72B6;&#x6001;&#x53D1;&#x751F;&#x53D8;&#x5316;&#x65F6;&#xFF0C;&#x5C06;&#x901A;&#x77E5;&#x6240;&#x6709;&#x7684;&#x89C2;&#x5BDF;&#x8005;&#x3002;</li>
<li>&#x89C2;&#x5BDF;&#x8005;&#xFF08;observer&#xFF09;&#xFF1A;&#x63A5;&#x53D7;&#x88AB;&#x89C2;&#x5BDF;&#x8005;&#x7684;&#x72B6;&#x6001;&#x53D8;&#x5316;&#x901A;&#x77E5;&#xFF0C;&#x6267;&#x884C;&#x9884;&#x5148;&#x5B9A;&#x4E49;&#x7684;&#x4E1A;&#x52A1;&#x3002;</li>
</ul>
<p><strong>&#x4F7F;&#x7528;&#x573A;&#x666F;&#xFF1A;</strong> &#x5B8C;&#x6210;&#x67D0;&#x4EF6;&#x4E8B;&#x60C5;&#x540E;&#xFF0C;&#x5F02;&#x6B65;&#x901A;&#x77E5;&#x573A;&#x666F;&#x3002;&#x5982;&#xFF0C;&#x767B;&#x9646;&#x6210;&#x529F;&#xFF0C;&#x53D1;&#x4E2A;IM&#x6D88;&#x606F;&#x7B49;&#x7B49;&#x3002;</p>
<h3 id="4-3-&#x89C2;&#x5BDF;&#x8005;&#x6A21;&#x5F0F;&#x4F7F;&#x7528;"><a href="#4-3-&#x89C2;&#x5BDF;&#x8005;&#x6A21;&#x5F0F;&#x4F7F;&#x7528;" class="headerlink" title="4.3 &#x89C2;&#x5BDF;&#x8005;&#x6A21;&#x5F0F;&#x4F7F;&#x7528;"></a>4.3 &#x89C2;&#x5BDF;&#x8005;&#x6A21;&#x5F0F;&#x4F7F;&#x7528;</h3><p>&#x89C2;&#x5BDF;&#x8005;&#x6A21;&#x5F0F;&#x5B9E;&#x73B0;&#x7684;&#x8BDD;&#xFF0C;&#x8FD8;&#x662F;&#x6BD4;&#x8F83;&#x7B80;&#x5355;&#x7684;&#x3002;</p>
<ul>
<li>&#x4E00;&#x4E2A;&#x88AB;&#x89C2;&#x5BDF;&#x8005;&#x7684;&#x7C7B;Observerable ;</li>
<li>&#x591A;&#x4E2A;&#x89C2;&#x5BDF;&#x8005;Observer &#xFF1B;</li>
<li>&#x89C2;&#x5BDF;&#x8005;&#x7684;&#x5DEE;&#x5F02;&#x5316;&#x5B9E;&#x73B0;</li>
<li>&#x7ECF;&#x5178;&#x89C2;&#x5BDF;&#x8005;&#x6A21;&#x5F0F;&#x5C01;&#x88C5;&#xFF1A;EventBus&#x5B9E;&#x6218;</li>
</ul>
<h4 id="4-3-1-&#x4E00;&#x4E2A;&#x88AB;&#x89C2;&#x5BDF;&#x8005;&#x7684;&#x7C7B;Observerable-&#x548C;-&#x591A;&#x4E2A;&#x89C2;&#x5BDF;&#x8005;Observer"><a href="#4-3-1-&#x4E00;&#x4E2A;&#x88AB;&#x89C2;&#x5BDF;&#x8005;&#x7684;&#x7C7B;Observerable-&#x548C;-&#x591A;&#x4E2A;&#x89C2;&#x5BDF;&#x8005;Observer" class="headerlink" title="4.3.1 &#x4E00;&#x4E2A;&#x88AB;&#x89C2;&#x5BDF;&#x8005;&#x7684;&#x7C7B;Observerable &#x548C; &#x591A;&#x4E2A;&#x89C2;&#x5BDF;&#x8005;Observer"></a>4.3.1 &#x4E00;&#x4E2A;&#x88AB;&#x89C2;&#x5BDF;&#x8005;&#x7684;&#x7C7B;Observerable &#x548C; &#x591A;&#x4E2A;&#x89C2;&#x5BDF;&#x8005;Observer</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line">csharp&#x590D;&#x5236;&#x4EE3;&#x7801;public class Observerable {</span><br><span class="line">   </span><br><span class="line">   private List&lt;Observer&gt; observers </span><br><span class="line">      = new ArrayList&lt;Observer&gt;();</span><br><span class="line">   private int state;</span><br><span class="line"> </span><br><span class="line">   public int getState() {</span><br><span class="line">      return state;</span><br><span class="line">   }</span><br><span class="line"> </span><br><span class="line">   public void setState(int state) {</span><br><span class="line">      notifyAllObservers();</span><br><span class="line">   }</span><br><span class="line"> </span><br><span class="line">   //&#x6DFB;&#x52A0;&#x89C2;&#x5BDF;&#x8005;</span><br><span class="line">   public void addServer(Observer observer){</span><br><span class="line">      observers.add(observer);      </span><br><span class="line">   }</span><br><span class="line">   </span><br><span class="line">   //&#x79FB;&#x9664;&#x89C2;&#x5BDF;&#x8005;</span><br><span class="line">   public void removeServer(Observer observer){</span><br><span class="line">      observers.remove(observer);      </span><br><span class="line">   }</span><br><span class="line">   //&#x901A;&#x77E5;</span><br><span class="line">   public void notifyAllObservers(int state){</span><br><span class="line">      if(state!=1){</span><br><span class="line">          System.out.println(&#x201C;&#x4E0D;&#x662F;&#x901A;&#x77E5;&#x7684;&#x72B6;&#x6001;&#x201D;);</span><br><span class="line">         return ;</span><br><span class="line">      }</span><br><span class="line">   </span><br><span class="line">      for (Observer observer : observers) {</span><br><span class="line">         observer.doEvent();</span><br><span class="line">      }</span><br><span class="line">   }  </span><br><span class="line">}</span><br></pre></td></tr></table></figure>

<h4 id="4-3-2-&#x89C2;&#x5BDF;&#x8005;&#x7684;&#x5DEE;&#x5F02;&#x5316;&#x5B9E;&#x73B0;"><a href="#4-3-2-&#x89C2;&#x5BDF;&#x8005;&#x7684;&#x5DEE;&#x5F02;&#x5316;&#x5B9E;&#x73B0;" class="headerlink" title="4.3.2 &#x89C2;&#x5BDF;&#x8005;&#x7684;&#x5DEE;&#x5F02;&#x5316;&#x5B9E;&#x73B0;"></a>4.3.2 &#x89C2;&#x5BDF;&#x8005;&#x7684;&#x5DEE;&#x5F02;&#x5316;&#x5B9E;&#x73B0;</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">csharp&#x590D;&#x5236;&#x4EE3;&#x7801; //&#x89C2;&#x5BDF;&#x8005;</span><br><span class="line"> interface Observer {  </span><br><span class="line">    void doEvent();  </span><br><span class="line">}  </span><br><span class="line">//Im&#x6D88;&#x606F;</span><br><span class="line">IMMessageObserver implements Observer{</span><br><span class="line">    void doEvent&#xFF08;&#xFF09;{</span><br><span class="line">       System.out.println(&quot;&#x53D1;&#x9001;IM&#x6D88;&#x606F;&quot;);</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line">//&#x624B;&#x673A;&#x77ED;&#x4FE1;</span><br><span class="line">MobileNoObserver implements Observer{</span><br><span class="line">    void doEvent&#xFF08;&#xFF09;{</span><br><span class="line">       System.out.println(&quot;&#x53D1;&#x9001;&#x77ED;&#x4FE1;&#x6D88;&#x606F;&quot;);</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line">//EmailNo</span><br><span class="line">EmailObserver implements Observer{</span><br><span class="line">    void doEvent&#xFF08;&#xFF09;{</span><br><span class="line">       System.out.println(&quot;&#x53D1;&#x9001;email&#x6D88;&#x606F;&quot;);</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></table></figure>

<h4 id="4-3-3-EventBus&#x5B9E;&#x6218;"><a href="#4-3-3-EventBus&#x5B9E;&#x6218;" class="headerlink" title="4.3.3 EventBus&#x5B9E;&#x6218;"></a>4.3.3 EventBus&#x5B9E;&#x6218;</h4><p>&#x81EA;&#x5DF1;&#x641E;&#x4E00;&#x5957;&#x89C2;&#x5BDF;&#x8005;&#x6A21;&#x5F0F;&#x7684;&#x4EE3;&#x7801;&#xFF0C;&#x8FD8;&#x662F;&#x6709;&#x70B9;&#x5C0F;&#x9EBB;&#x70E6;&#x3002;&#x5B9E;&#x9645;&#x4E0A;&#xFF0C;<code>Guava EventBus</code> &#x5C31;&#x5C01;&#x88C5;&#x597D;&#x4E86;&#xFF0C;&#x5B83;<br>&#x63D0;&#x4F9B;&#x4E00;&#x5957;&#x57FA;&#x4E8E;&#x6CE8;&#x89E3;&#x7684;&#x4E8B;&#x4EF6;&#x603B;&#x7EBF;&#xFF0C;api&#x53EF;&#x4EE5;&#x7075;&#x6D3B;&#x7684;&#x4F7F;&#x7528;&#xFF0C;&#x723D;&#x6B6A;&#x6B6A;&#x3002;</p>
<p>&#x6211;&#x4EEC;&#x6765;&#x770B;&#x4E0B;<code>EventBus</code>&#x7684;&#x5B9E;&#x6218;&#x4EE3;&#x7801;&#x54C8;&#xFF0C;&#x9996;&#x5148;&#x53EF;&#x4EE5;&#x58F0;&#x660E;&#x4E00;&#x4E2A;EventBusCenter&#x7C7B;&#xFF0C;&#x5B83;&#x7C7B;&#x4F3C;&#x4E8E;&#x4EE5;&#x4E0A;&#x88AB;&#x89C2;&#x5BDF;&#x8005;&#x90A3;&#x79CD;&#x89D2;&#x8272;<code>Observerable</code>&#x3002;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">typescript&#x590D;&#x5236;&#x4EE3;&#x7801;public class EventBusCenter {</span><br><span class="line"></span><br><span class="line">    private static EventBus eventBus = new EventBus();</span><br><span class="line"></span><br><span class="line">    private EventBusCenter() {</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    public static EventBus getInstance() {</span><br><span class="line">        return eventBus;</span><br><span class="line">    }</span><br><span class="line">     //&#x6DFB;&#x52A0;&#x89C2;&#x5BDF;&#x8005;</span><br><span class="line">    public static void register(Object obj) {</span><br><span class="line">        eventBus.register(obj);</span><br><span class="line">    }</span><br><span class="line">    //&#x79FB;&#x9664;&#x89C2;&#x5BDF;&#x8005;</span><br><span class="line">    public static void unregister(Object obj) {</span><br><span class="line">        eventBus.unregister(obj);</span><br><span class="line">    }</span><br><span class="line">    //&#x628A;&#x6D88;&#x606F;&#x63A8;&#x7ED9;&#x89C2;&#x5BDF;&#x8005;</span><br><span class="line">    public static void post(Object obj) {</span><br><span class="line">        eventBus.post(obj);</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></table></figure>

<p>&#x7136;&#x540E;&#x518D;&#x58F0;&#x660E;&#x89C2;&#x5BDF;&#x8005;<code>EventListener</code></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">typescript&#x590D;&#x5236;&#x4EE3;&#x7801;public class EventListener {</span><br><span class="line"></span><br><span class="line">    @Subscribe //&#x52A0;&#x4E86;&#x8BA2;&#x9605;&#xFF0C;&#x8FD9;&#x91CC;&#x6807;&#x8BB0;&#x8FD9;&#x4E2A;&#x65B9;&#x6CD5;&#x662F;&#x4E8B;&#x4EF6;&#x5904;&#x7406;&#x65B9;&#x6CD5;  </span><br><span class="line">    public void handle(NotifyEvent notifyEvent) {</span><br><span class="line">        System.out.println(&quot;&#x53D1;&#x9001;IM&#x6D88;&#x606F;&quot; + notifyEvent.getImNo());</span><br><span class="line">        System.out.println(&quot;&#x53D1;&#x9001;&#x77ED;&#x4FE1;&#x6D88;&#x606F;&quot; + notifyEvent.getMobileNo());</span><br><span class="line">        System.out.println(&quot;&#x53D1;&#x9001;Email&#x6D88;&#x606F;&quot; + notifyEvent.getEmailNo());</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line">//&#x901A;&#x77E5;&#x4E8B;&#x4EF6;&#x7C7B;</span><br><span class="line">public class NotifyEvent  {</span><br><span class="line"></span><br><span class="line">    private String mobileNo;</span><br><span class="line"></span><br><span class="line">    private String emailNo;</span><br><span class="line"></span><br><span class="line">    private String imNo;</span><br><span class="line"></span><br><span class="line">    public NotifyEvent(String mobileNo, String emailNo, String imNo) {</span><br><span class="line">        this.mobileNo = mobileNo;</span><br><span class="line">        this.emailNo = emailNo;</span><br><span class="line">        this.imNo = imNo;</span><br><span class="line">    }</span><br><span class="line"> }</span><br></pre></td></tr></table></figure>

<p>&#x4F7F;&#x7528;demo&#x6D4B;&#x8BD5;&#xFF1A;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">typescript&#x590D;&#x5236;&#x4EE3;&#x7801;public class EventBusDemoTest {</span><br><span class="line"></span><br><span class="line">    public static void main(String[] args) {</span><br><span class="line"></span><br><span class="line">        EventListener eventListener = new EventListener();</span><br><span class="line">        EventBusCenter.register(eventListener);</span><br><span class="line">        EventBusCenter.post(new NotifyEvent(&quot;13372817283&quot;, &quot;123@qq.com&quot;, &quot;666&quot;));</span><br><span class="line">        }</span><br><span class="line">}</span><br></pre></td></tr></table></figure>

<p>&#x8FD0;&#x884C;&#x7ED3;&#x679C;&#xFF1A;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">css&#x590D;&#x5236;&#x4EE3;&#x7801;&#x53D1;&#x9001;IM&#x6D88;&#x606F;666</span><br><span class="line">&#x53D1;&#x9001;&#x77ED;&#x4FE1;&#x6D88;&#x606F;13372817283</span><br><span class="line">&#x53D1;&#x9001;Email&#x6D88;&#x606F;123@qq.com</span><br></pre></td></tr></table></figure>

<ol start="5">
<li>&#x5DE5;&#x5382;&#x6A21;&#x5F0F;</li>
</ol>
<hr>
<h3 id="5-1-&#x4E1A;&#x52A1;&#x573A;&#x666F;"><a href="#5-1-&#x4E1A;&#x52A1;&#x573A;&#x666F;" class="headerlink" title="5.1 &#x4E1A;&#x52A1;&#x573A;&#x666F;"></a>5.1 &#x4E1A;&#x52A1;&#x573A;&#x666F;</h3><p>&#x5DE5;&#x5382;&#x6A21;&#x5F0F;&#x4E00;&#x822C;&#x914D;&#x5408;&#x7B56;&#x7565;&#x6A21;&#x5F0F;&#x4E00;&#x8D77;&#x4F7F;&#x7528;&#x3002;&#x7528;&#x6765;&#x53BB;&#x4F18;&#x5316;&#x5927;&#x91CF;&#x7684;<code>if...else...</code>&#x6216;<code>switch...case...</code>&#x6761;&#x4EF6;&#x8BED;&#x53E5;&#x3002;</p>
<p>&#x6211;&#x4EEC;&#x5C31;&#x53D6;&#x7B2C;&#x4E00;&#x5C0F;&#x8282;&#x4E2D;&#x7B56;&#x7565;&#x6A21;&#x5F0F;&#x90A3;&#x4E2A;&#x4F8B;&#x5B50;&#x5427;&#x3002;&#x6839;&#x636E;&#x4E0D;&#x540C;&#x7684;&#x6587;&#x4EF6;&#x89E3;&#x6790;&#x7C7B;&#x578B;&#xFF0C;&#x521B;&#x5EFA;&#x4E0D;&#x540C;&#x7684;&#x89E3;&#x6790;&#x5BF9;&#x8C61;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">ini&#x590D;&#x5236;&#x4EE3;&#x7801; </span><br><span class="line"> IFileStrategy getFileStrategy(FileTypeResolveEnum fileType){</span><br><span class="line">     IFileStrategy  fileStrategy ;</span><br><span class="line">     if(fileType=FileTypeResolveEnum.File_A_RESOLVE){</span><br><span class="line">       fileStrategy = new AFileResolve();</span><br><span class="line">     }else if(fileType=FileTypeResolveEnum.File_A_RESOLV){</span><br><span class="line">       fileStrategy = new BFileResolve();</span><br><span class="line">     }else{</span><br><span class="line">       fileStrategy = new DefaultFileResolve();</span><br><span class="line">     }</span><br><span class="line">     return fileStrategy;</span><br><span class="line"> }</span><br></pre></td></tr></table></figure>

<p>&#x5176;&#x5B9E;&#x8FD9;&#x5C31;&#x662F;<strong>&#x5DE5;&#x5382;&#x6A21;&#x5F0F;</strong>&#xFF0C;&#x5B9A;&#x4E49;&#x4E00;&#x4E2A;&#x521B;&#x5EFA;&#x5BF9;&#x8C61;&#x7684;&#x63A5;&#x53E3;&#xFF0C;&#x8BA9;&#x5176;&#x5B50;&#x7C7B;&#x81EA;&#x5DF1;&#x51B3;&#x5B9A;&#x5B9E;&#x4F8B;&#x5316;&#x54EA;&#x4E00;&#x4E2A;&#x5DE5;&#x5382;&#x7C7B;&#xFF0C;&#x5DE5;&#x5382;&#x6A21;&#x5F0F;&#x4F7F;&#x5176;&#x521B;&#x5EFA;&#x8FC7;&#x7A0B;&#x5EF6;&#x8FDF;&#x5230;&#x5B50;&#x7C7B;&#x8FDB;&#x884C;&#x3002;</p>
<p>&#x7B56;&#x7565;&#x6A21;&#x5F0F;&#x7684;&#x4F8B;&#x5B50;&#xFF0C;&#x6CA1;&#x6709;&#x4F7F;&#x7528;&#x4E0A;&#x4E00;&#x6BB5;&#x4EE3;&#x7801;&#xFF0C;&#x800C;&#x662F;&#x501F;&#x52A9;spring&#x7684;&#x7279;&#x6027;&#xFF0C;&#x641E;&#x4E86;&#x4E00;&#x4E2A;&#x5DE5;&#x5382;&#x6A21;&#x5F0F;&#xFF0C;&#x54C8;&#x54C8;&#xFF0C;&#x5C0F;&#x4F19;&#x4F34;&#x4EEC;&#x53EF;&#x4EE5;&#x56DE;&#x53BB;&#x90A3;&#x4E2A;&#x4F8B;&#x5B50;&#x7EC6;&#x54C1;&#x4E00;&#x4E0B;&#xFF0C;&#x6211;&#x628A;&#x4EE3;&#x7801;&#x518D;&#x642C;&#x4E0B;&#x6765;&#xFF0C;&#x5C0F;&#x4F19;&#x4F34;&#x4EEC;&#x518D;&#x54C1;&#x4E00;&#x4E0B;&#x5427;&#xFF1A;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">typescript&#x590D;&#x5236;&#x4EE3;&#x7801;/**</span><br><span class="line"> *  @author &#x516C;&#x4F17;&#x53F7;&#xFF1A;&#x6361;&#x7530;&#x87BA;&#x7684;&#x5C0F;&#x7537;&#x5B69;</span><br><span class="line"> */</span><br><span class="line">@Component</span><br><span class="line">public class StrategyUseService implements ApplicationContextAware{</span><br><span class="line"></span><br><span class="line">    private Map&lt;FileTypeResolveEnum, IFileStrategy&gt; iFileStrategyMap = new ConcurrentHashMap&lt;&gt;();</span><br><span class="line"></span><br><span class="line">    //&#x628A;&#x6240;&#x6709;&#x7684;&#x6587;&#x4EF6;&#x7C7B;&#x578B;&#x89E3;&#x6790;&#x7684;&#x5BF9;&#x8C61;&#xFF0C;&#x653E;&#x5230;map&#xFF0C;&#x9700;&#x8981;&#x4F7F;&#x7528;&#x65F6;&#xFF0C;&#x4FE1;&#x624B;&#x62C8;&#x6765;&#x5373;&#x53EF;&#x3002;&#x8FD9;&#x5C31;&#x662F;&#x5DE5;&#x5382;&#x6A21;&#x5F0F;&#x7684;&#x4E00;&#x79CD;&#x4F53;&#x73B0;&#x5566;</span><br><span class="line">    @Override</span><br><span class="line">    public void setApplicationContext(ApplicationContext applicationContext) throws BeansException {</span><br><span class="line">        Map&lt;String, IFileStrategy&gt; tmepMap = applicationContext.getBeansOfType(IFileStrategy.class);</span><br><span class="line">        tmepMap.values().forEach(strategyService -&gt; iFileStrategyMap.put(strategyService.gainFileType(), strategyService));</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></table></figure>

<h3 id="5-2-&#x4F7F;&#x7528;&#x5DE5;&#x5382;&#x6A21;&#x5F0F;"><a href="#5-2-&#x4F7F;&#x7528;&#x5DE5;&#x5382;&#x6A21;&#x5F0F;" class="headerlink" title="5.2 &#x4F7F;&#x7528;&#x5DE5;&#x5382;&#x6A21;&#x5F0F;"></a>5.2 &#x4F7F;&#x7528;&#x5DE5;&#x5382;&#x6A21;&#x5F0F;</h3><p>&#x5B9A;&#x4E49;&#x5DE5;&#x5382;&#x6A21;&#x5F0F;&#x4E5F;&#x662F;&#x6BD4;&#x8F83;&#x7B80;&#x5355;&#x7684;:</p>
<ul>
<li>&#x4E00;&#x4E2A;&#x5DE5;&#x5382;&#x63A5;&#x53E3;&#xFF0C;&#x63D0;&#x4F9B;&#x4E00;&#x4E2A;&#x521B;&#x5EFA;&#x4E0D;&#x540C;&#x5BF9;&#x8C61;&#x7684;&#x65B9;&#x6CD5;&#x3002;</li>
<li>&#x5176;&#x5B50;&#x7C7B;&#x5B9E;&#x73B0;&#x5DE5;&#x5382;&#x63A5;&#x53E3;&#xFF0C;&#x6784;&#x9020;&#x4E0D;&#x540C;&#x5BF9;&#x8C61;</li>
<li>&#x4F7F;&#x7528;&#x5DE5;&#x5382;&#x6A21;&#x5F0F;</li>
</ul>
<h4 id="5-3-1-&#x4E00;&#x4E2A;&#x5DE5;&#x5382;&#x63A5;&#x53E3;"><a href="#5-3-1-&#x4E00;&#x4E2A;&#x5DE5;&#x5382;&#x63A5;&#x53E3;" class="headerlink" title="5.3.1 &#x4E00;&#x4E2A;&#x5DE5;&#x5382;&#x63A5;&#x53E3;"></a>5.3.1 &#x4E00;&#x4E2A;&#x5DE5;&#x5382;&#x63A5;&#x53E3;</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">csharp&#x590D;&#x5236;&#x4EE3;&#x7801;interface IFileResolveFactory{</span><br><span class="line">   void resolve();</span><br><span class="line">}</span><br></pre></td></tr></table></figure>

<h4 id="5-3-2-&#x4E0D;&#x540C;&#x5B50;&#x7C7B;&#x5B9E;&#x73B0;&#x5DE5;&#x5382;&#x63A5;&#x53E3;"><a href="#5-3-2-&#x4E0D;&#x540C;&#x5B50;&#x7C7B;&#x5B9E;&#x73B0;&#x5DE5;&#x5382;&#x63A5;&#x53E3;" class="headerlink" title="5.3.2 &#x4E0D;&#x540C;&#x5B50;&#x7C7B;&#x5B9E;&#x73B0;&#x5DE5;&#x5382;&#x63A5;&#x53E3;"></a>5.3.2 &#x4E0D;&#x540C;&#x5B50;&#x7C7B;&#x5B9E;&#x73B0;&#x5DE5;&#x5382;&#x63A5;&#x53E3;</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">csharp&#x590D;&#x5236;&#x4EE3;&#x7801;class AFileResolve implements IFileResolveFactory{</span><br><span class="line">   void resolve(){</span><br><span class="line">      System.out.println(&quot;&#x6587;&#x4EF6;A&#x7C7B;&#x578B;&#x89E3;&#x6790;&quot;);</span><br><span class="line">   }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line">class BFileResolve implements IFileResolveFactory{</span><br><span class="line">   void resolve(){</span><br><span class="line">      System.out.println(&quot;&#x6587;&#x4EF6;B&#x7C7B;&#x578B;&#x89E3;&#x6790;&quot;);</span><br><span class="line">   }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line">class DefaultFileResolve implements IFileResolveFactory{</span><br><span class="line">   void resolve(){</span><br><span class="line">      System.out.println(&quot;&#x9ED8;&#x8BA4;&#x6587;&#x4EF6;&#x7C7B;&#x578B;&#x89E3;&#x6790;&quot;);</span><br><span class="line">   }</span><br><span class="line">}</span><br></pre></td></tr></table></figure>

<h3 id="5-3-3-&#x4F7F;&#x7528;&#x5DE5;&#x5382;&#x6A21;&#x5F0F;"><a href="#5-3-3-&#x4F7F;&#x7528;&#x5DE5;&#x5382;&#x6A21;&#x5F0F;" class="headerlink" title="5.3.3 &#x4F7F;&#x7528;&#x5DE5;&#x5382;&#x6A21;&#x5F0F;"></a>5.3.3 &#x4F7F;&#x7528;&#x5DE5;&#x5382;&#x6A21;&#x5F0F;</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">ini&#x590D;&#x5236;&#x4EE3;&#x7801;//&#x6784;&#x9020;&#x4E0D;&#x540C;&#x7684;&#x5DE5;&#x5382;&#x5BF9;&#x8C61;</span><br><span class="line">IFileResolveFactory fileResolveFactory;</span><br><span class="line">if(fileType=&#x201C;A&#x201D;){</span><br><span class="line">    fileResolveFactory = new AFileResolve();</span><br><span class="line">}else if(fileType=&#x201C;B&#x201D;){</span><br><span class="line">    fileResolveFactory = new BFileResolve();</span><br><span class="line"> }else{</span><br><span class="line">    fileResolveFactory = new DefaultFileResolve();</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line">fileResolveFactory.resolve();</span><br></pre></td></tr></table></figure>

<p>&#x4E00;&#x822C;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;&#x5BF9;&#x4E8E;&#x5DE5;&#x5382;&#x6A21;&#x5F0F;&#xFF0C;&#x4F60;&#x4E0D;&#x4F1A;&#x770B;&#x5230;&#x4EE5;&#x4E0A;&#x7684;&#x4EE3;&#x7801;&#x3002;&#x5DE5;&#x5382;&#x6A21;&#x5F0F;&#x4F1A;&#x8DDF;&#x914D;&#x5408;&#x5176;&#x4ED6;&#x8BBE;&#x8BA1;&#x6A21;&#x5F0F;&#x5982;&#x7B56;&#x7565;&#x6A21;&#x5F0F;&#x4E00;&#x8D77;&#x51FA;&#x73B0;&#x7684;&#x3002;</p>
<ol start="6">
<li>&#x5355;&#x4F8B;&#x6A21;&#x5F0F;</li>
</ol>
<hr>
<h3 id="6-1-&#x4E1A;&#x52A1;&#x573A;&#x666F;"><a href="#6-1-&#x4E1A;&#x52A1;&#x573A;&#x666F;" class="headerlink" title="6.1 &#x4E1A;&#x52A1;&#x573A;&#x666F;"></a>6.1 &#x4E1A;&#x52A1;&#x573A;&#x666F;</h3><p>&#x5355;&#x4F8B;&#x6A21;&#x5F0F;&#xFF0C;<strong>&#x4FDD;&#x8BC1;&#x4E00;&#x4E2A;&#x7C7B;&#x4EC5;&#x6709;&#x4E00;&#x4E2A;&#x5B9E;&#x4F8B;</strong>&#xFF0C;&#x5E76;&#x63D0;&#x4F9B;&#x4E00;&#x4E2A;&#x8BBF;&#x95EE;&#x5B83;&#x7684;&#x5168;&#x5C40;&#x8BBF;&#x95EE;&#x70B9;&#x3002; I/O&#x4E0E;&#x6570;&#x636E;&#x5E93;&#x7684;&#x8FDE;&#x63A5;,&#x4E00;&#x822C;&#x5C31;&#x7528;&#x5355;&#x4F8B;&#x6A21;&#x5F0F;&#x5B9E;&#x73B0;de&#x7684;&#x3002;Windows&#x91CC;&#x9762;&#x7684;Task Manager&#xFF08;&#x4EFB;&#x52A1;&#x7BA1;&#x7406;&#x5668;&#xFF09;&#x4E5F;&#x662F;&#x5F88;&#x5178;&#x578B;&#x7684;&#x5355;&#x4F8B;&#x6A21;&#x5F0F;&#x3002;</p>
<p>&#x6765;&#x770B;&#x4E00;&#x4E2A;&#x5355;&#x4F8B;&#x6A21;&#x5F0F;&#x7684;&#x4F8B;&#x5B50;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">csharp&#x590D;&#x5236;&#x4EE3;&#x7801;/**</span><br><span class="line"> *  &#x516C;&#x4F17;&#x53F7;&#xFF1A;&#x6361;&#x7530;&#x87BA;&#x7684;&#x5C0F;&#x7537;&#x5B69;</span><br><span class="line"> */</span><br><span class="line">public class LanHanSingleton {</span><br><span class="line"></span><br><span class="line">    private static LanHanSingleton instance;</span><br><span class="line"></span><br><span class="line">    private LanHanSingleton(){</span><br><span class="line"></span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    public static LanHanSingleton getInstance(){</span><br><span class="line">        if (instance == null) {</span><br><span class="line">            instance = new LanHanSingleton();</span><br><span class="line">        }</span><br><span class="line">        return instance;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">}</span><br></pre></td></tr></table></figure>

<p>&#x4EE5;&#x4E0A;&#x7684;&#x4F8B;&#x5B50;&#xFF0C;&#x5C31;&#x662F;<strong>&#x61D2;&#x6C49;&#x5F0F;</strong>&#x7684;&#x5355;&#x4F8B;&#x5B9E;&#x73B0;&#x3002;&#x5B9E;&#x4F8B;&#x5728;&#x9700;&#x8981;&#x7528;&#x5230;&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x624D;&#x53BB;&#x521B;&#x5EFA;&#xFF0C;&#x5C31;&#x6BD4;&#x8F83;&#x61D2;&#x3002;&#x5982;&#x679C;&#x6709;&#x5219;&#x8FD4;&#x56DE;&#xFF0C;&#x6CA1;&#x6709;&#x5219;&#x65B0;&#x5EFA;&#xFF0C;&#x9700;&#x8981;&#x52A0;&#x4E0B; <code>synchronized</code> &#x5173;&#x952E;&#x5B57;&#xFF0C;&#x8981;&#x4E0D;&#x7136;&#x53EF;&#x80FD;&#x5B58;&#x5728;<strong>&#x7EBF;&#x6027;&#x5B89;&#x5168;&#x95EE;&#x9898;</strong>&#x3002;</p>
<h3 id="6-2-&#x5355;&#x4F8B;&#x6A21;&#x5F0F;&#x7684;&#x7ECF;&#x5178;&#x5199;&#x6CD5;"><a href="#6-2-&#x5355;&#x4F8B;&#x6A21;&#x5F0F;&#x7684;&#x7ECF;&#x5178;&#x5199;&#x6CD5;" class="headerlink" title="6.2 &#x5355;&#x4F8B;&#x6A21;&#x5F0F;&#x7684;&#x7ECF;&#x5178;&#x5199;&#x6CD5;"></a>6.2 &#x5355;&#x4F8B;&#x6A21;&#x5F0F;&#x7684;&#x7ECF;&#x5178;&#x5199;&#x6CD5;</h3><p>&#x5176;&#x5B9E;&#x5355;&#x4F8B;&#x6A21;&#x5F0F;&#x8FD8;&#x6709;&#x6709;&#x597D;&#x51E0;&#x79CD;&#x5B9E;&#x73B0;&#x65B9;&#x5F0F;&#xFF0C;&#x5982;&#x997F;&#x6C49;&#x6A21;&#x5F0F;&#xFF0C;&#x53CC;&#x91CD;&#x6821;&#x9A8C;&#x9501;&#xFF0C;&#x9759;&#x6001;&#x5185;&#x90E8;&#x7C7B;&#xFF0C;&#x679A;&#x4E3E;&#x7B49;&#x5B9E;&#x73B0;&#x65B9;&#x5F0F;&#x3002;</p>
<h4 id="6-2-1-&#x997F;&#x6C49;&#x6A21;&#x5F0F;"><a href="#6-2-1-&#x997F;&#x6C49;&#x6A21;&#x5F0F;" class="headerlink" title="6.2.1 &#x997F;&#x6C49;&#x6A21;&#x5F0F;"></a>6.2.1 &#x997F;&#x6C49;&#x6A21;&#x5F0F;</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">csharp&#x590D;&#x5236;&#x4EE3;&#x7801;public class EHanSingleton {</span><br><span class="line"></span><br><span class="line">   private static EHanSingleton instance = new EHanSingleton();</span><br><span class="line">   </span><br><span class="line">   private EHanSingleton(){      </span><br><span class="line">   }</span><br><span class="line"></span><br><span class="line">   public static EHanSingleton getInstance() {</span><br><span class="line">       return instance;</span><br><span class="line">   }</span><br><span class="line">   </span><br><span class="line">}</span><br></pre></td></tr></table></figure>

<p>&#x997F;&#x6C49;&#x6A21;&#x5F0F;&#xFF0C;&#x5B83;<strong>&#x6BD4;&#x8F83;&#x9965;&#x997F;&#x3001;&#x6BD4;&#x8F83;&#x52E4;&#x594B;</strong>&#xFF0C;&#x5B9E;&#x4F8B;&#x5728;&#x521D;&#x59CB;&#x5316;&#x7684;&#x65F6;&#x5019;&#x5C31;&#x5DF2;&#x7ECF;&#x5EFA;&#x597D;&#x4E86;&#xFF0C;&#x4E0D;&#x7BA1;&#x4F60;&#x540E;&#x9762;&#x6709;&#x6CA1;&#x6709;&#x7528;&#x5230;&#xFF0C;&#x90FD;&#x5148;&#x65B0;&#x5EFA;&#x597D;&#x5B9E;&#x4F8B;&#x518D;&#x8BF4;&#x3002;&#x8FD9;&#x4E2A;&#x5C31;&#x6CA1;&#x6709;&#x7EBF;&#x7A0B;&#x5B89;&#x5168;&#x7684;&#x95EE;&#x9898;&#xFF0C;&#x4F46;&#x662F;&#x5462;&#xFF0C;&#x6D6A;&#x8D39;&#x5185;&#x5B58;&#x7A7A;&#x95F4;&#x5440;&#x3002;</p>
<h4 id="6-2-2-&#x53CC;&#x91CD;&#x6821;&#x9A8C;&#x9501;"><a href="#6-2-2-&#x53CC;&#x91CD;&#x6821;&#x9A8C;&#x9501;" class="headerlink" title="6.2.2 &#x53CC;&#x91CD;&#x6821;&#x9A8C;&#x9501;"></a>6.2.2 &#x53CC;&#x91CD;&#x6821;&#x9A8C;&#x9501;</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">csharp&#x590D;&#x5236;&#x4EE3;&#x7801;public class DoubleCheckSingleton {</span><br><span class="line"></span><br><span class="line">   private static DoubleCheckSingleton instance;</span><br><span class="line"></span><br><span class="line">   private DoubleCheckSingleton() { }</span><br><span class="line">   </span><br><span class="line">   public static DoubleCheckSingleton getInstance(){</span><br><span class="line">       if (instance == null) {</span><br><span class="line">           synchronized (DoubleCheckSingleton.class) {</span><br><span class="line">               if (instance == null) {</span><br><span class="line">                   instance = new DoubleCheckSingleton();</span><br><span class="line">               }</span><br><span class="line">           }</span><br><span class="line">       }</span><br><span class="line">       return instance;</span><br><span class="line">   }</span><br><span class="line">}</span><br></pre></td></tr></table></figure>

<p>&#x53CC;&#x91CD;&#x6821;&#x9A8C;&#x9501;&#x5B9E;&#x73B0;&#x7684;&#x5355;&#x4F8B;&#x6A21;&#x5F0F;&#xFF0C;&#x7EFC;&#x5408;&#x4E86;&#x61D2;&#x6C49;&#x5F0F;&#x548C;&#x997F;&#x6C49;&#x5F0F;&#x4E24;&#x8005;&#x7684;&#x4F18;&#x7F3A;&#x70B9;&#x3002;&#x4EE5;&#x4E0A;&#x4EE3;&#x7801;&#x4F8B;&#x5B50;&#x4E2D;&#xFF0C;&#x5728;synchronized&#x5173;&#x952E;&#x5B57;&#x5185;&#x5916;&#x90FD;&#x52A0;&#x4E86;&#x4E00;&#x5C42; <code>if</code> &#x6761;&#x4EF6;&#x5224;&#x65AD;&#xFF0C;&#x8FD9;&#x6837;&#x65E2;&#x4FDD;&#x8BC1;&#x4E86;&#x7EBF;&#x7A0B;&#x5B89;&#x5168;&#xFF0C;&#x53C8;&#x6BD4;&#x76F4;&#x63A5;&#x4E0A;&#x9501;&#x63D0;&#x9AD8;&#x4E86;&#x6267;&#x884C;&#x6548;&#x7387;&#xFF0C;&#x8FD8;&#x8282;&#x7701;&#x4E86;&#x5185;&#x5B58;&#x7A7A;&#x95F4;&#x3002;</p>
<h4 id="6-2-3-&#x9759;&#x6001;&#x5185;&#x90E8;&#x7C7B;"><a href="#6-2-3-&#x9759;&#x6001;&#x5185;&#x90E8;&#x7C7B;" class="headerlink" title="6.2.3 &#x9759;&#x6001;&#x5185;&#x90E8;&#x7C7B;"></a>6.2.3 &#x9759;&#x6001;&#x5185;&#x90E8;&#x7C7B;</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">java&#x590D;&#x5236;&#x4EE3;&#x7801;public class InnerClassSingleton {</span><br><span class="line"></span><br><span class="line">   private static class InnerClassSingletonHolder{</span><br><span class="line">       private static final InnerClassSingleton INSTANCE = new InnerClassSingleton();</span><br><span class="line">   }</span><br><span class="line"></span><br><span class="line">   private InnerClassSingleton(){}</span><br><span class="line">   </span><br><span class="line">   public static final InnerClassSingleton getInstance(){</span><br><span class="line">       return InnerClassSingletonHolder.INSTANCE;</span><br><span class="line">   }</span><br><span class="line">}</span><br></pre></td></tr></table></figure>

<p>&#x9759;&#x6001;&#x5185;&#x90E8;&#x7C7B;&#x7684;&#x5B9E;&#x73B0;&#x65B9;&#x5F0F;&#xFF0C;&#x6548;&#x679C;&#x6709;&#x70B9;&#x7C7B;&#x4F3C;&#x53CC;&#x91CD;&#x6821;&#x9A8C;&#x9501;&#x3002;&#x4F46;&#x8FD9;&#x79CD;&#x65B9;&#x5F0F;&#x53EA;&#x9002;&#x7528;&#x4E8E;&#x9759;&#x6001;&#x57DF;&#x573A;&#x666F;&#xFF0C;&#x53CC;&#x91CD;&#x6821;&#x9A8C;&#x9501;&#x65B9;&#x5F0F;&#x53EF;&#x5728;&#x5B9E;&#x4F8B;&#x57DF;&#x9700;&#x8981;&#x5EF6;&#x8FDF;&#x521D;&#x59CB;&#x5316;&#x65F6;&#x4F7F;&#x7528;&#x3002;</p>
<h4 id="6-2-4-&#x679A;&#x4E3E;"><a href="#6-2-4-&#x679A;&#x4E3E;" class="headerlink" title="6.2.4 &#x679A;&#x4E3E;"></a>6.2.4 &#x679A;&#x4E3E;</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">csharp&#x590D;&#x5236;&#x4EE3;&#x7801;public enum SingletonEnum {</span><br><span class="line"></span><br><span class="line">    INSTANCE;</span><br><span class="line">    public SingletonEnum getInstance(){</span><br><span class="line">        return INSTANCE;</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></table></figure>

<p>&#x679A;&#x4E3E;&#x5B9E;&#x73B0;&#x7684;&#x5355;&#x4F8B;&#xFF0C;&#x4EE3;&#x7801;&#x7B80;&#x6D01;&#x6E05;&#x6670;&#x3002;&#x5E76;&#x4E14;&#x5B83;&#x8FD8;&#x81EA;&#x52A8;&#x652F;&#x6301;&#x5E8F;&#x5217;&#x5316;&#x673A;&#x5236;&#xFF0C;&#x7EDD;&#x5BF9;&#x9632;&#x6B62;&#x591A;&#x6B21;&#x5B9E;&#x4F8B;&#x5316;&#x3002;</p>
<p><strong>&#x672C;&#x6587;&#x8F6C;&#x8F7D;&#x81EA;:</strong> <a href="/external_links/22e0185b8e2af85550d799b7f9e0b588.html" target="blank" rel="noopener">&#x6398;&#x91D1;</a></p>
<p><em><a href="https://dev.newban.cn/">&#x5F00;&#x53D1;&#x8005;&#x535A;&#x5BA2; &#x2013; &#x548C;&#x5F00;&#x53D1;&#x76F8;&#x5173;&#x7684; &#x8FD9;&#x91CC;&#x5168;&#x90FD;&#x6709;</a></em></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://dev.newban.cn../../7023535370516037669.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="开发者博客">
      <meta itemprop="description" content>
      <meta itemprop="image" content="../../images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="开发者博客 – IT技术 尽在开发者博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="../../7023535370516037669.html" itemprop="url">保姆级教程！将 Vim 打造一个 IDE （Python 篇</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2021-10-27T08:24:42+08:00">
                2021-10-27
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>&#x4ECE;&#x4E0A;&#x5468;&#x5F00;&#x59CB;&#x6211;&#x5C31;&#x5F00;&#x59CB;&#x6298;&#x817E; &#xFF0C;&#x641E;&#x4E86;&#x4E00;&#x4E0B; Vim IDE for Python &amp; Go&#xFF0C;&#x6211;&#x5C06;&#x6574;&#x4E2A;&#x642D;&#x5EFA;&#x7684;&#x8FC7;&#x7A0B;&#x6574;&#x7406;&#x6210;&#x672C;&#x7BC7;&#x6587;&#x7AE0;&#x5206;&#x4EAB;&#x51FA;&#x6765;&#xFF0C;&#x672C;&#x7BC7;&#x662F; Python &#x7248;&#x672C;&#x7684;&#x4FDD;&#x59C6;&#x7EA7;&#x6559;&#x7A0B;&#xFF0C;&#x5B9E;&#x9645;&#x4E0A;&#x6211;&#x8FD8;&#x5199;&#x4E86; Go &#x7248;&#x672C;&#x7684;&#xFF0C;&#x6709;&#x60F3;&#x770B;&#x7684;&#x53EF;&#x4EE5;&#x672C;&#x7BC7;&#x6587;&#x7AE0;&#x70B9;&#x4E2A;&#x8D5E;&#xFF0C;&#x6211;&#x4E0B;&#x7BC7;&#x5C31;&#x53D1;</p>
<p><img src="https://gitee.com/songjianzaina/juejin_p5/raw/master/img/0c48a58557754bce47aa033c00b9b60e1b084cac5eadb08ce07915ebe7457407" alt="&#x6548;&#x679C;&#x56FE;"></p>
<p>&#x4E00;&#x8BF4;&#x5230; IDE&#xFF0C;&#x603B;&#x6709;&#x4EBA;&#x4F1A;&#x56E0; which one is &#x4E16;&#x754C;&#x4E0A;&#x6700;&#x597D;&#x7684;&#x7F16;&#x8F91;&#x5DE5;&#x5177; &#x800C;&#x5435;&#x5F97;&#x4E0D;&#x53EF;&#x5F00;&#x4EA4;&#xFF0C;&#x4F46;&#x672C;&#x6587;&#x4E0D;&#x4F1A;&#x6D89;&#x53CA;&#x3001;&#x4E5F;&#x4E0D;&#x60F3;&#x8BEF;&#x5BFC;&#x5927;&#x5BB6;&#xFF0C;&#x6211;&#x76F8;&#x4FE1;&#x4E0D;&#x540C;&#x7684;&#x4EBA;&#x3001;&#x4E0D;&#x540C;&#x7684;&#x4F7F;&#x7528;&#x573A;&#x666F;&#x90FD;&#x6709;&#x7740;&#x6709;&#x4E0D;&#x540C;&#x7684;&#x6700;&#x4F18;&#x89E3;&#xFF0C;&#x4E16;&#x754C;&#x4E0A;&#x6CA1;&#x6709;&#x4E00;&#x62DB;&#x901A;&#x5403;&#x7684;&#x7F16;&#x8F91;&#x5668;&#x3002;</p>
<p>&#x5982;&#x679C;&#x662F;&#x5728;&#x684C;&#x9762;&#x7AEF;&#xFF0C;PyCharm &#x548C; VS Code &#x5DF2;&#x7ECF;&#x505A;&#x5F97;&#x8DB3;&#x591F;&#x4F18;&#x79C0;&#xFF0C;&#x5F88;&#x96BE;&#x518D;&#x6709;&#x7B2C;&#x4E09;&#x4E2A;&#x7F16;&#x8F91;&#x5668;&#x53EF;&#x4EE5;&#x4E0E;&#x4E4B;&#x5339;&#x654C;&#x3002;</p>
<p><img src="https://gitee.com/songjianzaina/juejin_p5/raw/master/img/245cef83de8e9645d02a45350fe91a2de307b54e9f4ecea157a21d64225982b4" alt></p>
<p>&#x4F46;&#x82E5;&#x8981;&#x8BF4;&#x5728;&#x670D;&#x52A1;&#x7AEF;&#xFF1F;&#x4F3C;&#x4E4E;&#x6CA1;&#x5F97;&#x9009;&#xFF0C;Vim &#x51E0;&#x4E4E;&#x662F;&#x4F60;&#x552F;&#x4E00;&#x7684;&#x9009;&#x62E9;&#x3002;</p>
<p>Vim &#x662F;&#x6781;&#x5177;&#x751F;&#x4EA7;&#x529B;&#x7684;&#x5DE5;&#x5177;&#xFF0C;&#x751A;&#x81F3;&#x5728;&#x67D0;&#x4E9B;&#x4EBA;&#x7684;&#x773C;&#x4E2D;&#xFF0C;&#x5B83;&#x662F;&#x4E00;&#x4E2A;&#x9B54;&#x9B3C;&#x822C;&#x7684;&#x7F16;&#x8F91;&#x5668;&#xFF0C;&#x4E4B;&#x6240;&#x4EE5;&#x8FD9;&#x4E48;&#x8BF4;&#xFF0C;&#x662F;&#x56E0;&#x4E3A;&#x5B83;&#x7684;&#x4E0A;&#x624B;&#x95E8;&#x69DB;&#x6781;&#x9AD8;&#xFF0C;&#x5B66;&#x4E60;&#x66F2;&#x7EBF;&#x975E;&#x5E38;&#x7684;&#x9661;&#x3002;</p>
<p>&#x4E00;&#x662F;&#xFF0C;&#x5B83;&#x662F;&#x9488;&#x5BF9;&#x7A0B;&#x5E8F;&#x5458;&#x7FA4;&#x4F53;&#x7684;&#x4E13;&#x6709;&#x7F16;&#x8BD1;&#x5668;&#xFF0C;&#x4F60;&#x9700;&#x8981;&#x989D;&#x5916;&#x5B66;&#x4E60;&#x5E76;&#x7406;&#x89E3;&#x5B83;&#x7684;&#x8BBE;&#x8BA1;&#x7406;&#x5FF5;&#xFF0C;&#x5E76;&#x4E14;&#x9700;&#x8981;&#x8BB0;&#x4F4F;&#x975E;&#x5E38;&#x591A;&#x590D;&#x6742;&#x7684;&#x64CD;&#x4F5C;&#x6307;&#x4EE4;&#x3002;</p>
<p>&#x4E8C;&#x662F;&#xFF0C;&#x5BF9;&#x4E8E;&#x5DE5;&#x7A0B;&#x9879;&#x76EE;&#x4EE3;&#x7801;&#xFF0C;&#x5B83;&#x5E76;&#x4E0D;&#x662F;&#x4E00;&#x4E2A;&#x5F00;&#x7BB1;&#x5373;&#x7528;&#x7684;&#x7F16;&#x8F91;&#x5668;&#xFF0C;&#x9700;&#x8981;&#x4F60;&#x5B89;&#x88C5;&#x5927;&#x91CF;&#x7684;&#x63D2;&#x4EF6;&#x3001;&#x8FDB;&#x884C;&#x5927;&#x91CF;&#x7684;&#x914D;&#x7F6E;&#x624D;&#x80FD;&#x6210;&#x4E3A;&#x4E00;&#x4E2A;&#x79F0;&#x624B;&#x7684; IDE &#x5DE5;&#x5177;&#x3002;</p>
<p>&#x4E4B;&#x6240;&#x4EE5;&#xFF0C;&#x6211;&#x4F7F;&#x7528; Vim &#x4F5C;&#x4E3A;&#x5F00;&#x53D1;&#x7684;&#x5DE5;&#x5177;&#xFF0C;&#x539F;&#x56E0;&#x6709;&#x56DB;&#xFF1A;</p>
<ol>
<li><strong>&#x76F4;&#x63A5;</strong>&#xFF1A;&#x6B63;&#x5E38;&#x672C;&#x5730; IDE &#x7F16;&#x7801;&#x5B8C;&#x540E;&#xFF0C;&#x8981;&#x4E0A;&#x4F20;&#x8FDC;&#x7A0B;&#x670D;&#x52A1;&#x7AEF;&#x8FDB;&#x884C;&#x7F16;&#x8BD1;&#x53CA;&#x6D4B;&#x8BD5;&#xFF0C;&#x6BD4;&#x8F83;&#x9EBB;&#x70E6;&#xFF0C;&#x6211;&#x76F4;&#x63A5;&#x5728; SSH &#x670D;&#x52A1;&#x7AEF;&#x8FDB;&#x884C;&#x7F16;&#x7801;&#x66F4;&#x4E3A;&#x76F4;&#x63A5;&#x3002;</li>
<li><strong>&#x7701;&#x5FC3;</strong>&#xFF1A;&#x591A;&#x79CD;&#x8BED;&#x8A00;&#x4E0D;&#x7528;&#x518D;&#x5B89;&#x88C5;&#x591A;&#x4E2A;&#x4E13;&#x6709;&#x7684;&#x7F16;&#x8F91;&#x5668;&#xFF0C;&#x6BD4;&#x5982; PyCharm&#x3001;Goland &#x7B49;&#xFF0C;&#x800C;&#x4E14;&#x4E0D;&#x7528;&#x518D;&#x4E3A;&#x5404;&#x79CD;&#x4ED8;&#x8D39;&#x8F6F;&#x4EF6;&#x7834;&#x89E3;&#x52B3;&#x5FC3;&#x8D39;&#x529B;&#x3002;</li>
<li><strong>&#x65B9;&#x4FBF;</strong>&#xFF1A;&#x63D0;&#x9AD8; iPad &#x7684;&#x751F;&#x4EA7;&#x529B;&#xFF0C;&#x5916;&#x51FA;&#x4E0D;&#x5E26;&#x7535;&#x8111;&#x4E5F;&#x53EF;&#x4EE5;&#x5728;&#x7EBF;&#x5199;&#x4EE3;&#x7801;&#xFF0C;&#x7701;&#x5F97;&#x6BCF;&#x6B21;&#x90FD;&#x5E26;&#x4E2A;&#x91CD;&#x91CD;&#x7684;&#x7535;&#x8111;&#x3002;</li>
<li><strong>&#x88C5;&#x903C;</strong>&#xFF1A;&#x4F60;&#x4E0D;&#x89C9;&#x5F97;&#x633A;&#x9177;&#x7684;&#x5417;&#xFF1F;&#xFF08;&#x9003;&#x2026;</li>
</ol>
<p>&#x5982;&#x679C;&#x4F60;&#x5BF9; Vim &#x64CD;&#x4F5C;&#x4E00;&#x65E0;&#x6240;&#x77E5;&#xFF0C;&#x90A3;&#x4E48;&#x8BF7;&#x5148;&#x53BB;&#x4E86;&#x89E3;&#x4E00;&#x4E0B; Vim &#x7684;&#x65E5;&#x5E38;&#x4F7F;&#x7528;&#x65B9;&#x6CD5;&#xFF0C;&#x5426;&#x5219;&#x4EE5;&#x4E0B;&#x5185;&#x5BB9;&#x5E76;&#x4E0D;&#x9002;&#x5408;&#x4F60;&#x3002;</p>
<ol>
<li>&#x51C6;&#x5907;&#x5DE5;&#x4F5C;</li>
</ol>
<hr>
<p>&#x672C;&#x6587;&#x662F;&#x5728; Mac &#x73AF;&#x5883;&#x4E0B;&#x8FDB;&#x884C;&#x64CD;&#x4F5C;&#x6F14;&#x793A;&#x7684;&#xFF0C;&#x4F46;&#x540C;&#x6837;&#x9002;&#x7528;&#x4E8E; Linux &#x73AF;&#x5883;&#xFF08;&#x5C11;&#x8BB8;&#x5DEE;&#x5F02;&#xFF0C;&#x6211;&#x4F1A;&#x5728;&#x76F8;&#x5E94;&#x4F4D;&#x7F6E;&#x70B9;&#x51FA;&#xFF09;&#xFF0C;&#x5982;&#x679C;&#x4F60;&#x53EA;&#x6709; Windows &#x7CFB;&#x7EDF;&#xFF0C;&#x53EF;&#x4EE5;&#x4F7F;&#x7528; GVim&#x3002;</p>
<p>&#x5728;&#x5F00;&#x59CB;&#x5B89;&#x88C5;&#x914D;&#x7F6E;&#x4E4B;&#x524D;&#xFF0C;&#x5148;&#x8BF4;&#x4E00;&#x4E0B;&#x672C;&#x6587;&#x7684;&#x4E00;&#x4E2A;&#x6574;&#x4F53;&#x601D;&#x8DEF;&#xFF1A;</p>
<ol>
<li>&#x51C6;&#x5907;&#x8FD0;&#x884C;&#x73AF;&#x5883;&#xFF1A;&#x5B89;&#x88C5; Python &#x6216;&#x8005; Go &#x73AF;&#x5883;</li>
<li>&#x51C6;&#x5907;Vim &#x7248;&#x672C;&#xFF1A;&#x4F7F;&#x7528; Vim 8.2 &#x7684;&#x6700;&#x9AD8;&#x7248;&#x672C;</li>
<li>&#x63D2;&#x4EF6;&#x5B89;&#x88C5;&#x73AF;&#x5883;&#xFF1A;&#x63D2;&#x4EF6;&#x90FD;&#x5728; Github &#x53CA;&#x5176;&#x4ED6;&#x5916;&#x7F51;&#xFF0C;&#x9700;&#x8981;&#x4F60;&#x914D;&#x7F6E;&#x4E00;&#x4E9B;&#x4EE3;&#x7406;</li>
<li>&#x63D2;&#x4EF6;&#x5B89;&#x88C5;&#xFF1A;&#x4E00;&#x952E;&#x6279;&#x91CF;&#x5B89;&#x88C5;&#x63D2;&#x4EF6;</li>
<li>&#x63D2;&#x4EF6;&#x914D;&#x7F6E;&#xFF1A;&#x63D2;&#x4EF6;&#x5B89;&#x88C5;&#x4E0A;&#x540E;&#xFF0C;&#x8981;&#x8FDB;&#x884C;&#x4E00;&#x4E9B;&#x914D;&#x7F6E;&#x624D;&#x80FD;&#x597D;&#x7528;</li>
<li>&#x63D2;&#x4EF6;&#x4F7F;&#x7528;&#xFF1A;&#x6F14;&#x793A;&#x6BCF;&#x4E2A;&#x63D2;&#x4EF6;&#x7684;&#x4F7F;&#x7528;&#x65B9;&#x6CD5;</li>
</ol>
<ol start="2">
<li>&#x51C6;&#x5907;&#x8FD0;&#x884C;&#x73AF;&#x5883;</li>
</ol>
<hr>
<p>Vim &#x539F;&#x751F;&#x5BF9; Python &#x63D0;&#x4F9B;&#x4E86;&#x652F;&#x6301;&#xFF0C;&#x5F53;&#x4F60;&#x5B89;&#x88C5; 8.2 &#x7248;&#x672C;&#x7684; Vim &#x65F6;&#xFF0C;&#x4F1A;&#x81EA;&#x52A8;&#x5B89;&#x88C5; Python &#xFF0C;&#x53EA;&#x4E0D;&#x8FC7;&#x8BE5;&#x5B89;&#x88C5;&#x7248;&#x672C;&#x5E76;&#x4E0D;&#x662F;&#x4F60;&#x9700;&#x8981;&#x7684;&#x7248;&#x672C;&#xFF0C;&#x4E0D;&#x8FC7;&#x4E0D;&#x8981;&#x7D27;&#xFF0C;Vim &#x8FD0;&#x884C;&#x4F7F;&#x7528;&#x7684; Python &#x7248;&#x672C;&#x662F;&#x53EF;&#x4EE5;&#x914D;&#x7F6E;&#x7684;&#x3002;</p>
<p>&#x6211;&#x8FD9;&#x8FB9;&#x4F7F;&#x7528;&#x7684;&#x7248;&#x672C;&#x662F; Python 3.10.0</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">shell&#x590D;&#x5236;&#x4EE3;&#x7801;$ python3 --version</span><br><span class="line">Python 3.10.0</span><br></pre></td></tr></table></figure>

<ol start="3">
<li>&#x5B89;&#x88C5;/&#x5347;&#x7EA7; Vim 8.2</li>
</ol>
<hr>
<p>&#x6B63;&#x5E38;&#x7684; Mac &#x6216;&#x8005; Linux &#x673A;&#x5668;&#x90FD;&#x4F1A;&#x81EA;&#x5E26; Vim &#x5DE5;&#x5177;&#xFF0C;&#x53EA;&#x4E0D;&#x8FC7;&#x53EF;&#x80FD;&#x7248;&#x672C;&#x6BD4;&#x8F83;&#x4F4E;&#xFF0C;&#x5982;&#x679C;&#x4F7F;&#x7528;&#x8FD9;&#x4E9B;&#x7248;&#x672C;&#x7684; Vim &#xFF0C;&#x540E;&#x9762;&#x6709;&#x4E9B;&#x63D2;&#x4EF6;&#x4F1A;&#x5B89;&#x88C5;&#x4E0D;&#x4E0A;&#x6216;&#x8005;&#x4F7F;&#x7528;&#x4E0D;&#x4E86;&#xFF0C;&#x5C31;&#x6BD4;&#x5982; <code>YouCompleteMe</code> &#x8FD9;&#x4E2A;&#x975E;&#x5E38;&#x91CD;&#x8981;&#x7684;&#x63D2;&#x4EF6;&#xFF0C;&#x5982;&#x679C;&#x4F60;&#x4E0D;&#x4F7F;&#x7528; Vim 8.1+ &#xFF0C;&#x4F60;&#x6BCF;&#x6B21;&#x7528; vim &#x90FD;&#x4F1A;&#x63D0;&#x793A;&#x4F60;&#xFF0C;&#x975E;&#x5E38;&#x5F71;&#x54CD;&#x4F53;&#x9A8C;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">shell&#x590D;&#x5236;&#x4EE3;&#x7801;$ vim main.go</span><br><span class="line">YouCompleteMe unavailable: requires Vim 8.1.2269+.</span><br><span class="line">Press ENTER or type command to continue</span><br></pre></td></tr></table></figure>

<p>&#x8FD9;&#x4E9B;&#x63D2;&#x4EF6;&#x5DF2;&#x7ECF;&#x6301;&#x7EED;&#x66F4;&#x65B0;&#x4E86;&#x5F88;&#x591A;&#x5E74;&#xFF0C;&#x5BF9;&#x4E8E;&#x8001;&#x7248;&#x7684; Vim &#x4E0D;&#x518D;&#x63D0;&#x4F9B;&#x652F;&#x6301;&#x8FD9;&#x4E5F;&#x53EF;&#x4EE5;&#x7406;&#x89E3;&#x3002;</p>
<p>&#x5982;&#x679C;&#x4F60;&#x4F7F;&#x7528;&#x7684; Linux &#xFF0C;&#x6574;&#x4E2A;&#x8FC7;&#x7A0B;&#x4F1A;&#x987A;&#x7545;&#x5F88;&#x591A;&#xFF0C;&#x5728;&#x8FD9;&#x91CC;&#x6211;&#x4F7F;&#x7528;&#x7684;&#x662F; CentOS 7.6 &#x7684; Linux&#x3002;</p>
<p>&#x9996;&#x5148;&#x627E;&#x5230;&#x7CFB;&#x7EDF;&#x91CC;&#x5B89;&#x88C5;&#x7684; vim &#x5305;&#x6709;&#x54EA;&#x4E9B;&#xFF0C;&#x7136;&#x540E;&#x4F7F;&#x7528; <code>yum remove</code> &#x53BB;&#x5378;&#x8F7D;&#x5B83;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">perl&#x590D;&#x5236;&#x4EE3;&#x7801;[root@iswbm ~]# yum list installed | grep -i vim</span><br><span class="line">vim-common.x86_64                       2:7.4.629-8.el7_9              @updates</span><br><span class="line">vim-enhanced.x86_64                     2:7.4.629-8.el7_9              @updates</span><br><span class="line">vim-filesystem.x86_64                   2:7.4.629-8.el7_9              @updates</span><br><span class="line">vim-minimal.x86_64                      2:7.4.629-8.el7_9              @updates</span><br><span class="line">[root@iswbm ~]#</span><br><span class="line">[root@iswbm ~]# yum remove vim-common vim-enhanced vim-filesystem vim-minimal</span><br></pre></td></tr></table></figure>

<p>&#x540E;&#x9762;&#x6211;&#x4F1A;&#x4F7F;&#x7528;&#x6E90;&#x7801;&#x7F16;&#x8BD1;&#x7684;&#x65B9;&#x6CD5;&#x53BB;&#x5B89;&#x88C5; Vim 8.2&#xFF0C;&#x4F46;&#x7F16;&#x8BD1;&#x9700;&#x8981;&#x5B89;&#x88C5;&#x5982;&#x4E0B;&#x8FD9;&#x4E9B;&#x57FA;&#x7840;&#x4F9D;&#x8D56;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">ini&#x590D;&#x5236;&#x4EE3;&#x7801;[root@iswbm ~]# yum install -y gcc make ncurses ncurses-devel</span><br><span class="line">[root@iswbm ~]# yum install ctags git tcl-devel \</span><br><span class="line">    ruby ruby-devel \</span><br><span class="line">    lua lua-devel \</span><br><span class="line">    luajit luajit-devel \</span><br><span class="line">    python python-devel \</span><br><span class="line">    perl perl-devel \</span><br><span class="line">    perl-ExtUtils-ParseXS \</span><br><span class="line">    perl-ExtUtils-XSpp \</span><br><span class="line">    perl-ExtUtils-CBuilder \</span><br><span class="line">    perl-ExtUtils-Embed</span><br></pre></td></tr></table></figure>

<p>&#x4ECE; Github &#x4E0A;&#x4E0B;&#x8F7D;&#x6E90;&#x4EE3;&#x7801;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">bash&#x590D;&#x5236;&#x4EE3;&#x7801;git clone https://github.com/vim/vim.git</span><br></pre></td></tr></table></figure>

<p>&#x8FDB;&#x5165; <code>vim/src</code> &#x76EE;&#x5F55;&#x6267;&#x884C;&#x5982;&#x4E0B;&#x4E09;&#x4E2A;&#x547D;&#x4EE4;&#x7F16;&#x8BD1;&#x5B89;&#x88C5;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">ini&#x590D;&#x5236;&#x4EE3;&#x7801;[root@iswbm ~]# ./configure --prefix=/usr/local/vim \</span><br><span class="line">--enable-pythoninterp=yes \</span><br><span class="line">--enable-python3interp=yes \</span><br><span class="line">--with-python-command=python \</span><br><span class="line">--with-python3-command=python3</span><br><span class="line">[root@iswbm ~]# make &amp;&amp; make install</span><br><span class="line">[root@iswbm ~]#</span><br></pre></td></tr></table></figure>

<p>&#x4E0D;&#x51FA;&#x610F;&#x5916;&#x7684;&#x8BDD;&#xFF0C;&#x547D;&#x4EE4;&#x6267;&#x884C;&#x5B8C;&#x6210;&#x540E;&#xFF0C;&#x4F60;&#x53EA;&#x8981;&#x518D;&#x914D;&#x7F6E;&#x4E2A;&#x8F6F;&#x4EF6;&#x94FE;&#x63A5;&#xFF0C;&#x5C31;&#x53EF;&#x4EE5;&#x6B63;&#x5E38;&#x4F7F;&#x7528; 8.2 &#x7248;&#x672C;&#x7684; Vim &#x4E86;&#x3002;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">sql&#x590D;&#x5236;&#x4EE3;&#x7801;[root@iswbm ~]# ln -s /usr/local/vim/bin/vim /usr/bin/vim</span><br><span class="line">[root@iswbm src]# vim --version | head -n 1</span><br><span class="line">VIM - Vi IMproved 8.2 (2019 Dec 12, compiled Oct 19 2021 22:05:46)</span><br></pre></td></tr></table></figure>

<ol start="4">
<li>&#x63D2;&#x4EF6;&#x5B89;&#x88C5;</li>
</ol>
<hr>
<p>Vim &#x672C;&#x8EAB;&#x63D0;&#x9AD8;&#x7684;&#x529F;&#x80FD;&#x5DF2;&#x7ECF;&#x975E;&#x5E38;&#x5F3A;&#x5927;&#xFF0C;&#x4F46;&#x65E0;&#x5948;&#x4E0A;&#x624B;&#x96BE;&#x5EA6;&#x5B9E;&#x5728;&#x592A;&#x5927;&#xFF0C;&#x5B89;&#x88C5;&#x4E00;&#x4E9B;&#x5B9A;&#x5236;&#x5316;&#x7684;&#x63D2;&#x4EF6;&#xFF0C;&#x80FD;&#x8BA9;&#x6574;&#x4E2A; Vim &#x754C;&#x9762;&#x7BA1;&#x7406;&#x4E0E;&#x4F7F;&#x7528;&#x66F4;&#x52A0;&#x7B26;&#x5408;&#x4EBA;&#x7C7B;&#x7684;&#x76F4;&#x89C9;&#xFF0C;&#x964D;&#x4F4E;&#x4F7F;&#x7528;&#x95E8;&#x69DB;&#x3002;</p>
<p>&#x5177;&#x4F53;&#x8981;&#x5B89;&#x88C5;&#x54EA;&#x4E9B;&#x63D2;&#x4EF6;&#xFF0C;&#x8FD8;&#x8981;&#x662F;&#x770B;&#x4F60;&#x60F3;&#x628A; Vim &#x6253;&#x9020;&#x6210;&#x4EC0;&#x4E48;&#x6837;&#x5B50;&#xFF1F;</p>
<p>&#x8FD9;&#x4E2A;&#x5012;&#x4E0D;&#x5FC5;&#x95F7;&#x7740;&#x5934;&#x7A7A;&#x60F3;&#xFF0C;&#x5BF9;&#x7167;&#x7740;&#x684C;&#x9762;&#x7AEF;&#x7684; IDE &#x8F6F;&#x4EF6;&#x53BB;&#x6284;&#x4F5C;&#x4E1A;&#x5C31; OK &#x4E86;&#x561B;&#x3002;</p>
<p>&#x5BF9;&#x4E8E;&#x6211;&#x4E2A;&#x4EBA;&#x6765;&#x8BF4;&#xFF0C;&#x6211;&#x65E5;&#x5E38;&#x4F7F;&#x7528; IDE &#x6700;&#x591A;&#x7684;&#x529F;&#x80FD;&#x6709;&#xFF1A;</p>
<ul>
<li>&#x81EA;&#x52A8;&#x4EE3;&#x7801;&#x8865;&#x5168;</li>
<li>&#x4EE3;&#x7801;&#x8FFD;&#x8E2A;&#x8DF3;&#x8F6C;</li>
<li>&#x9759;&#x6001;&#x4EE3;&#x7801;&#x68C0;&#x67E5;</li>
<li>&#x8FD0;&#x884C;&#x8C03;&#x8BD5;&#x4EE3;&#x7801;</li>
<li>&#x5168;&#x5C40;&#x641C;&#x7D22;&#x4EE3;&#x7801;</li>
<li>&#x9879;&#x76EE;&#x4EE3;&#x7801;&#x4E66;&#x7B7E;</li>
<li>&#x4EE3;&#x7801;&#x7248;&#x672C;&#x7BA1;&#x7406;</li>
<li>&#x4EE3;&#x7801;&#x9AD8;&#x4EAE;&#x663E;&#x793A;</li>
<li>&#x5DE5;&#x7A0B;&#x9879;&#x76EE;&#x7684;&#x6587;&#x4EF6;&#x6811;</li>
<li>&#x5355;&#x6587;&#x4EF6;&#x4EE3;&#x7801;&#x7ED3;&#x6784;&#x6811;</li>
<li>&#x53EF;&#x540C;&#x65F6;&#x6253;&#x5F00;&#x591A;&#x6587;&#x4EF6;</li>
<li>Markdown &#x5B9E;&#x65F6;&#x9884;&#x89C8;</li>
</ul>
<p>&#x90A3;&#x6211;&#x5C31;&#x5BF9;&#x7167;&#x8FD9;&#x4E2A;&#x529F;&#x80FD;&#x53BB;&#x627E;&#x5BF9;&#x5E94;&#x7684;&#x63D2;&#x4EF6;&#x5373;&#x53EF;</p>
<ul>
<li><strong>YouCompleteMe</strong>&#xFF1A;&#x63D0;&#x4F9B;&#x81EA;&#x52A8;&#x4EE3;&#x7801;&#x8865;&#x5168;&#x4E0E;&#x4EE3;&#x7801;&#x8FFD;&#x8E2A;&#x8DF3;&#x8F6C;</li>
<li><strong>auto-pairs</strong>&#xFF1A;&#x81EA;&#x52A8;&#x8865;&#x5168;&#x62EC;&#x53F7;&#x7684;&#x63D2;&#x4EF6;&#xFF0C;&#x5305;&#x62EC;&#x5C0F;&#x62EC;&#x53F7;&#xFF0C;&#x4E2D;&#x62EC;&#x53F7;&#xFF0C;&#x4EE5;&#x53CA;&#x82B1;&#x62EC;&#x53F7;</li>
<li><strong>NERDTree</strong>&#xFF1A;&#x63D0;&#x4F9B;&#x5DE5;&#x7A0B;&#x9879;&#x76EE;&#x7684;&#x6587;&#x4EF6;&#x6811;&#x3001;&#x652F;&#x6301;&#x4E66;&#x7B7E;&#x529F;&#x80FD;</li>
<li><strong>vim-nerdtree-tabs</strong>&#xFF1A;&#x53EF;&#x4EE5;&#x6253;&#x5F00;&#x591A;&#x4E2A;&#x4EE3;&#x7801;&#x6587;&#x4EF6;&#xFF0C;&#x4F7F; nerdtree &#x7684; tab &#x66F4;&#x52A0;&#x53CB;&#x597D;&#x4E9B;</li>
<li><strong>nerdtree-git-plugin</strong>&#xFF1A;&#x53EF;&#x4EE5;&#x5728;&#x5BFC;&#x822A;&#x76EE;&#x5F55;&#x4E2D;&#x770B;&#x5230; git &#x7248;&#x672C;&#x4FE1;&#x606F;</li>
<li><strong>tagbar</strong>&#xFF1A;&#x53EF;&#x4EE5;&#x67E5;&#x770B;&#x5F53;&#x524D;&#x4EE3;&#x7801;&#x6587;&#x4EF6;&#x4E2D;&#x7684;&#x53D8;&#x91CF;&#x548C;&#x51FD;&#x6570;&#x5217;&#x8868;&#x7684;&#x63D2;&#x4EF6;&#xFF0C;&#x5E76;&#x5207;&#x6362;&#x548C;&#x8DF3;&#x8F6C;&#x5230;&#x4EE3;&#x7801;&#x4E2D;&#x5BF9;&#x5E94;&#x7684;&#x53D8;&#x91CF;&#x548C;&#x51FD;&#x6570;&#x7684;&#x4F4D;&#x7F6E;</li>
<li><strong>vim-airline</strong>&#xFF1A;Vim&#x72B6;&#x6001;&#x680F;&#x63D2;&#x4EF6;&#xFF0C;&#x5305;&#x62EC;&#x663E;&#x793A;&#x884C;&#x53F7;&#xFF0C;&#x5217;&#x53F7;&#xFF0C;&#x6587;&#x4EF6;&#x7C7B;&#x578B;&#xFF0C;&#x6587;&#x4EF6;&#x540D;&#xFF0C;&#x4EE5;&#x53CA;Git&#x72B6;&#x6001;</li>
<li><strong>vim-gitgutter</strong>&#xFF1A;&#x53EF;&#x4EE5;&#x5728;&#x6587;&#x6863;&#x4E2D;&#x663E;&#x793A; git &#x4FE1;&#x606F;</li>
<li><strong>vim-one</strong>&#xFF1A;&#x4EE3;&#x7801;&#x914D;&#x8272;&#x65B9;&#x6848;</li>
<li><strong>markdown-preview.vim</strong>&#xFF1A;Markdown &#x9884;&#x89C8;&#x652F;&#x6301;</li>
<li><strong>mathjax-support-for-mkdp</strong>&#xFF1A;Markdown &#x6570;&#x5B66;&#x516C;&#x5F0F;&#x9884;&#x89C8;&#x652F;&#x6301;</li>
<li><strong>vim-godef</strong>&#xFF1A;go &#x4E2D;&#x7684;&#x4EE3;&#x7801;&#x8FFD;&#x8E2A;&#xFF0C;&#x8F93;&#x5165; gd &#x5C31;&#x53EF;&#x4EE5;&#x81EA;&#x52A8;&#x8DF3;&#x8F6C;</li>
<li><strong>fatih/vim-go</strong>&#xFF1A;&#x9759;&#x6001;&#x68C0;&#x67E5;&#x7B49;&#x4E00;&#x7CFB;&#x5217; go &#x76F8;&#x5173;&#x5DE5;&#x5177;</li>
<li><strong>ultisnips</strong> / <strong>vim-snippets</strong>&#xFF1A;&#x81EA;&#x52A8;&#x751F;&#x6210; &#x4EE3;&#x7801;&#x5757;</li>
</ul>
<p>&#x90A3;&#x4E48;&#x5982;&#x4F55;&#x5B89;&#x88C5;&#x8FD9;&#x4E9B;&#x63D2;&#x4EF6;&#x5462;&#xFF1F;</p>
<p>&#x5F88;&#x7B80;&#x5355;&#xFF0C;&#x4F60;&#x53EA;&#x8981;&#x4F7F;&#x7528; vi &#x5728;&#x4F60;&#x7684; <code>~/.vimrc</code> &#x6587;&#x4EF6;&#x4E2D;&#xFF0C;&#x8D34;&#x5165;&#x4E0B;&#x9762;&#x8FD9;&#x6BB5;&#x914D;&#x7F6E;&#x5230;&#x6587;&#x4EF6;&#x672B;&#x5C3E;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><span class="line">go&#x590D;&#x5236;&#x4EE3;&#x7801;&quot; &#x63D2;&#x4EF6;&#x5F00;&#x59CB;&#x7684;&#x4F4D;&#x7F6E;</span><br><span class="line">call plug#begin(&apos;~/.vim/plugged&apos;)</span><br><span class="line"></span><br><span class="line">&quot; &#x4EE3;&#x7801;&#x81EA;&#x52A8;&#x5B8C;&#x6210;&#xFF0C;&#x5B89;&#x88C5;&#x5B8C;&#x63D2;&#x4EF6;&#x8FD8;&#x9700;&#x8981;&#x989D;&#x5916;&#x914D;&#x7F6E;&#x624D;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;</span><br><span class="line">Plug &apos;ycm-core/YouCompleteMe&apos;</span><br><span class="line"></span><br><span class="line">&quot; &#x7528;&#x6765;&#x63D0;&#x4F9B;&#x4E00;&#x4E2A;&#x5BFC;&#x822A;&#x76EE;&#x5F55;&#x7684;&#x4FA7;&#x8FB9;&#x680F;</span><br><span class="line">Plug &apos;scrooloose/nerdtree&apos;</span><br><span class="line"></span><br><span class="line">&quot; &#x53EF;&#x4EE5;&#x4F7F; nerdtree &#x7684; tab &#x66F4;&#x52A0;&#x53CB;&#x597D;&#x4E9B;</span><br><span class="line">Plug &apos;jistr/vim-nerdtree-tabs&apos;</span><br><span class="line"></span><br><span class="line">&quot; &#x53EF;&#x4EE5;&#x5728;&#x5BFC;&#x822A;&#x76EE;&#x5F55;&#x4E2D;&#x770B;&#x5230; git &#x7248;&#x672C;&#x4FE1;&#x606F;</span><br><span class="line">&quot; Plug &apos;Xuyuanp/nerdtree-git-plugin&apos;</span><br><span class="line"></span><br><span class="line">&quot; &#x67E5;&#x770B;&#x5F53;&#x524D;&#x4EE3;&#x7801;&#x6587;&#x4EF6;&#x4E2D;&#x7684;&#x53D8;&#x91CF;&#x548C;&#x51FD;&#x6570;&#x5217;&#x8868;&#x7684;&#x63D2;&#x4EF6;&#xFF0C;</span><br><span class="line">&quot; &#x53EF;&#x4EE5;&#x5207;&#x6362;&#x548C;&#x8DF3;&#x8F6C;&#x5230;&#x4EE3;&#x7801;&#x4E2D;&#x5BF9;&#x5E94;&#x7684;&#x53D8;&#x91CF;&#x548C;&#x51FD;&#x6570;&#x7684;&#x4F4D;&#x7F6E;</span><br><span class="line">&quot; &#x5927;&#x7EB2;&#x5F0F;&#x5BFC;&#x822A;, Go &#x9700;&#x8981; https://github.com/jstemmer/gotags &#x652F;&#x6301;</span><br><span class="line">Plug &apos;preservim/tagbar&apos;</span><br><span class="line"></span><br><span class="line">&quot; &#x81EA;&#x52A8;&#x8865;&#x5168;&#x62EC;&#x53F7;&#x7684;&#x63D2;&#x4EF6;&#xFF0C;&#x5305;&#x62EC;&#x5C0F;&#x62EC;&#x53F7;&#xFF0C;&#x4E2D;&#x62EC;&#x53F7;&#xFF0C;&#x4EE5;&#x53CA;&#x82B1;&#x62EC;&#x53F7;</span><br><span class="line">Plug &apos;jiangmiao/auto-pairs&apos;</span><br><span class="line"></span><br><span class="line">&quot; Vim&#x72B6;&#x6001;&#x680F;&#x63D2;&#x4EF6;&#xFF0C;&#x5305;&#x62EC;&#x663E;&#x793A;&#x884C;&#x53F7;&#xFF0C;&#x5217;&#x53F7;&#xFF0C;&#x6587;&#x4EF6;&#x7C7B;&#x578B;&#xFF0C;&#x6587;&#x4EF6;&#x540D;&#xFF0C;&#x4EE5;&#x53CA;Git&#x72B6;&#x6001;</span><br><span class="line">Plug &apos;vim-airline/vim-airline&apos;</span><br><span class="line"></span><br><span class="line">&quot; Shorthand notation; fetches https://github.com/junegunn/vim-easy-align</span><br><span class="line">&quot; &#x53EF;&#x4EE5;&#x5FEB;&#x901F;&#x5BF9;&#x9F50;&#x7684;&#x63D2;&#x4EF6;</span><br><span class="line">Plug &apos;junegunn/vim-easy-align&apos;</span><br><span class="line"></span><br><span class="line">&quot; &#x53EF;&#x4EE5;&#x5728;&#x6587;&#x6863;&#x4E2D;&#x663E;&#x793A; git &#x4FE1;&#x606F;</span><br><span class="line">Plug &apos;airblade/vim-gitgutter&apos;</span><br><span class="line"></span><br><span class="line">&quot; markdown &#x63D2;&#x4EF6;</span><br><span class="line">Plug &apos;iamcco/mathjax-support-for-mkdp&apos;</span><br><span class="line">Plug &apos;iamcco/markdown-preview.vim&apos;</span><br><span class="line"></span><br><span class="line">&quot; &#x4E0B;&#x9762;&#x4E24;&#x4E2A;&#x63D2;&#x4EF6;&#x8981;&#x914D;&#x5408;&#x4F7F;&#x7528;&#xFF0C;&#x53EF;&#x4EE5;&#x81EA;&#x52A8;&#x751F;&#x6210;&#x4EE3;&#x7801;&#x5757;</span><br><span class="line">Plug &apos;SirVer/ultisnips&apos;</span><br><span class="line">Plug &apos;honza/vim-snippets&apos;</span><br><span class="line"></span><br><span class="line">&quot; go &#x4E3B;&#x8981;&#x63D2;&#x4EF6;</span><br><span class="line">Plug &apos;fatih/vim-go&apos;, { &apos;tag&apos;: &apos;*&apos; }</span><br><span class="line"></span><br><span class="line">&quot; go &#x4E2D;&#x7684;&#x4EE3;&#x7801;&#x8FFD;&#x8E2A;&#xFF0C;&#x8F93;&#x5165; gd &#x5C31;&#x53EF;&#x4EE5;&#x81EA;&#x52A8;&#x8DF3;&#x8F6C;</span><br><span class="line">Plug &apos;dgryski/vim-godef&apos;</span><br><span class="line"></span><br><span class="line">&quot; &#x53EF;&#x4EE5;&#x5728; vim &#x4E2D;&#x4F7F;&#x7528; tab &#x8865;&#x5168;</span><br><span class="line">&quot;Plug &apos;vim-scripts/SuperTab&apos;</span><br><span class="line"></span><br><span class="line">&quot; &#x53EF;&#x4EE5;&#x5728; vim &#x4E2D;&#x81EA;&#x52A8;&#x5B8C;&#x6210;</span><br><span class="line">&quot;Plug &apos;Shougo/neocomplete.vim&apos;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&quot; &#x63D2;&#x4EF6;&#x7ED3;&#x675F;&#x7684;&#x4F4D;&#x7F6E;&#xFF0C;&#x63D2;&#x4EF6;&#x5168;&#x90E8;&#x653E;&#x5728;&#x6B64;&#x884C;&#x4E0A;&#x9762;</span><br><span class="line">call plug#end()</span><br></pre></td></tr></table></figure>

<p>&#x7136;&#x540E;&#x8F93;&#x5165;&#x547D;&#x4EE4; <code>:wq</code> &#x4FDD;&#x5B58;&#x5E76;&#x9000;&#x51FA; vi&#x3002;</p>
<p>&#x5B89;&#x88C5;&#x63D2;&#x4EF6;&#x7684;&#x7BA1;&#x7406;&#x5DE5;&#x5177;&#x6709;&#x5F88;&#x591A;&#xFF0C;&#x6BD4;&#x5982; Vundle&#xFF0C;vim-plug &#x7B49;&#x3002;</p>
<p>Vundle&#x662F;&#x4E00;&#x6B3E;&#x975E;&#x5E38;&#x51FA;&#x540D;&#x4E14;&#x5386;&#x53F2;&#x60A0;&#x4E45;&#x7684;Vim&#x63D2;&#x4EF6;&#x7BA1;&#x7406;&#x5DE5;&#x5177;&#x3002;&#x4F46;&#x968F;&#x7740;&#x5B89;&#x88C5;&#x7684;vim&#x63D2;&#x4EF6;&#x8D8A;&#x6765;&#x8D8A;&#x591A;&#xFF0C;&#x4F7F;&#x7528;Vundle&#x6765;&#x7BA1;&#x7406;&#x8FD9;&#x4E9B;&#x63D2;&#x4EF6;&#x65F6;&#x6548;&#x7387;&#x53D8;&#x5F97;&#x8D8A;&#x6765;&#x8D8A;&#x4F4E;&#xFF0C;vim&#x542F;&#x52A8;&#x8017;&#x65F6;&#x4E5F;&#x8D8A;&#x6765;&#x8D8A;&#x5927;&#x3002;</p>
<p>&#x800C;vim-plug&#x662F;&#x4E00;&#x6B3E;&#x975E;&#x5E38;&#x8F7B;&#x91CF;&#x53C8;&#x9AD8;&#x6548;&#x7684;vim&#x63D2;&#x4EF6;&#x7BA1;&#x7406;&#x5DE5;&#x5177;&#x3002;&#x5B83;&#x652F;&#x6301;&#x5168;&#x5F02;&#x6B65;&#x3001;&#x591A;&#x7EBF;&#x7A0B;&#x5E76;&#x884C;&#x5B89;&#x88C5;&#x63D2;&#x4EF6;&#xFF0C;&#x652F;&#x6301;git&#x5206;&#x652F;&#x3001;&#x6807;&#x7B7E;&#x7B49;&#xFF0C;&#x53EF;&#x4EE5;&#x5BF9;&#x63D2;&#x4EF6;&#x8FDB;&#x884C;&#x56DE;&#x6EDA;&#x66F4;&#x65B0;&#x3001;&#x8FD8;&#x652F;&#x6301;&#x6309;&#x9700;&#x52A0;&#x8F7D;&#x63D2;&#x4EF6;(On-demand loading)&#xFF0C;&#x53EF;&#x4EE5;&#x6307;&#x5B9A;&#x5BF9;&#x7279;&#x5B9A;&#x6587;&#x4EF6;&#x7C7B;&#x578B;&#x52A0;&#x8F7D;&#x5BF9;&#x5E94;vim&#x63D2;&#x4EF6;&#xFF0C;&#x5927;&#x5927;&#x52A0;&#x5FEB;&#x4E86;vim&#x542F;&#x52A8;&#x65F6;&#x95F4;&#x3002;</p>
<p>&#x56E0;&#x6B64;&#x6211;&#x8FD9;&#x91CC;&#x4F1A;&#x4F7F;&#x7528; vim-plug &#x8FD9;&#x4E2A;&#x7BA1;&#x7406;&#x5DE5;&#x5177;&#xFF0C;&#x4F7F;&#x7528;&#x5982;&#x4E0B;&#x547D;&#x4EE4;&#x5C31;&#x53EF;&#x4EE5;&#x5B89;&#x88C5; <code>vim-plug</code> &#x63D2;&#x4EF6;&#x7BA1;&#x7406;&#x5DE5;&#x5177;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ruby&#x590D;&#x5236;&#x4EE3;&#x7801;curl -fLo ~/.vim/autoload/plug.vim --create-dirs \</span><br><span class="line">    https://raw.githubusercontent.com/junegunn/vim-plug/master/plug.vim</span><br></pre></td></tr></table></figure>

<p>&#x63A5;&#x7740;&#x8BF7;&#x91CD;&#x542F;&#x4E00;&#x4E0B;&#x4F60;&#x7684;&#x7EC8;&#x7AEF;&#xFF0C;&#x4FDD;&#x8BC1;&#x91CD;&#x65B0;&#x521D;&#x59CB;&#x5316;&#xFF0C;&#x4E0D;&#x7136;&#x7B49;&#x4F60;&#x540E;&#x9762;&#x6267;&#x884C; <code>PlugInstall</code> &#x7684;&#x65F6;&#x5019;&#xFF0C; &#x6709;&#x53EF;&#x80FD;&#x62A5;&#x8BE5;&#x547D;&#x4EE4;&#x4E0D;&#x5B58;&#x5728;&#x3002;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">bash&#x590D;&#x5236;&#x4EE3;&#x7801;Not an editor command: PlugInstall</span><br></pre></td></tr></table></figure>

<p>&#x91CD;&#x542F;&#x5B8C;&#x7EC8;&#x7AEF;&#x540E;&#xFF0C;&#x8F93;&#x5165;&#x518D;&#x6B21;&#x6253;&#x5F00; <code>vim</code> &#x8F93;&#x5165; <code>:PlugInstall</code> &#x5F00;&#x59CB;&#x5B89;&#x88C5;&#x8FC7;&#x7A0B;</p>
<p><img src="https://gitee.com/songjianzaina/juejin_p5/raw/master/img/e6f02bc5f6e5f5bb1fa717d8a64dc1bf92941720cbf9a577a1d21d49d1aa711d" alt></p>
<p>&#x5982;&#x679C;&#x4F60;&#x6CA1;&#x6709;&#x7F51;&#x7EDC;&#x95EE;&#x9898;&#xFF08;&#x4E0D;&#x5C31;&#x79D1;&#x5B66;&#x90A3;&#x70B9;&#x4E8B;&#x561B;&#xFF09;&#xFF0C;&#x90A3;&#x4E48;&#x5B89;&#x88C5;&#x4F1A;&#x5F88;&#x987A;&#x5229;&#x3002;&#x3002;</p>
<p>&#x8F93;&#x5165; <code>:PlugStatus</code> &#x5C31;&#x4F1A;&#x770B;&#x5230;&#x6240;&#x6709;&#x7684;&#x63D2;&#x4EF6;&#x90FD;&#x5B89;&#x88C5; OK&#x3002;</p>
<p><img src="https://gitee.com/songjianzaina/juejin_p5/raw/master/img/9b74189b08c75888980c1cb8415175a620536604e2844ccd6d7beca91747ddfa" alt></p>
<ol start="5">
<li>YouCompleteMe</li>
</ol>
<hr>
<p>&#x4E0A;&#x9762;&#x7684;&#x63D2;&#x4EF6;&#x5B89;&#x88C5;&#xFF0C;&#x5176;&#x5B9E;&#x505A;&#x7684;&#x4E8B;&#x60C5;&#x4E5F;&#x6BD4;&#x8F83;&#x7B80;&#x5355;&#xFF0C;&#x5C31;&#x662F;&#x628A; Github &#x4E0A;&#x7684;&#x4ED3;&#x5E93;&#x62C9;&#x53D6;&#x5230;&#x672C;&#x5730;&#x7684; <code>~/.vim/plugged</code> &#x76EE;&#x5F55;</p>
<p><img src="https://gitee.com/songjianzaina/juejin_p5/raw/master/img/d9ede7fa6dbc45584f90f18a38abb829b5cdd6c542ccf4d826aaf58219ee954a" alt></p>
<p>&#x4E00;&#x822C;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;&#x8FD9;&#x4E9B;&#x63D2;&#x4EF6;&#x90FD;&#x662F;&#x5F00;&#x7BB1;&#x5373;&#x7528;&#x7684;&#xFF0C;&#x4E0D;&#x4F1A;&#x6709;&#x590D;&#x6742;&#x7684;&#x4F9D;&#x8D56;&#xFF0C;&#x4F46;&#x552F;&#x72EC;&#x4E00;&#x4E2A;&#x63D2;&#x4EF6;&#x6BD4;&#x8F83;&#x7279;&#x6B8A; &#xFF0C;&#x5B83;&#x5C31;&#x662F; <code>YouCompleteMe</code>  &#xFF0C;&#x5B83;&#x53F7;&#x79F0;&#x662F;&#x6700;&#x96BE;&#x5B89;&#x88C5;&#x7684; Vim &#x63D2;&#x4EF6;&#x3002;</p>
<p>&#x6211;&#x5728;&#x672C;&#x5730;&#x7684; Mac &#x673A;&#x5668;&#x4E0A;&#x88C5;&#x4E86;&#x4E24;&#x4E2A;&#x665A;&#x4E0A;&#xFF0C;&#x624D;&#x7B97;&#x628A;&#x6240;&#x6709;&#x7684;&#x4F9D;&#x8D56;&#x90FD;&#x89E3;&#x51B3;&#x5B8C;&#x6210;&#xFF0C;&#x4F46;&#x5728; Linux &#x4E0A;&#x5C31;&#x6BD4;&#x8F83;&#x987A;&#x5229;&#x3002;</p>
<p>&#x5177;&#x4F53;&#x7684;&#x5B89;&#x88C5;&#x6B65;&#x9AA4;&#x662F;</p>
<ol>
<li>&#x8FDB;&#x5165; <code>~/.vim/plugged/YouCompleteMe</code> &#x63D2;&#x4EF6;&#x76EE;&#x5F55;&#xFF0C;&#x4FEE;&#x6539; <code>.gitmodules</code> &#x4E2D;&#x7684; github.com &#x4E3A; &#x955C;&#x50CF;&#x7F51;&#x7AD9; hub.fastgit.org</li>
<li>&#x7136;&#x540E;&#x5B89;&#x88C5;&#x4E00;&#x7EA7;&#x4F9D;&#x8D56;&#xFF1A;<code>git submodule update --init</code></li>
<li>&#x4E00;&#x7EA7;&#x4F9D;&#x8D56;&#x6B63;&#x786E;&#x5B89;&#x88C5;&#x540E;&#xFF0C;&#x518D;&#x4FEE;&#x6539; <code>third_party/ycmd</code> &#x76EE;&#x5F55;&#x4E0B;&#x6240;&#x6709;&#x4F9D;&#x8D56;&#x7684;<code>.gitmodules</code> &#x4E2D;&#x7684; github.com &#x4E3A; &#x955C;&#x50CF;&#x7F51;&#x7AD9; hub.fastgit.org</li>
<li>&#x7136;&#x540E;&#x9012;&#x5F52;&#x5B89;&#x88C5;&#x5176;&#x4F9D;&#x8D56;&#x5305;&#xFF1A;<code>git submodule update --init --recursive</code></li>
<li>&#x6700;&#x540E;&#x6267;&#x884C; <code>python3 install.py --all</code> &#xFF0C;&#x2013;all &#x4F1A;&#x5B89;&#x88C5;&#x8BE5;&#x63D2;&#x4EF6;&#x652F;&#x6301;&#x7684;&#x6240;&#x6709;&#x8BED;&#x8A00;&#x529F;&#x80FD;&#x3002;</li>
</ol>
<p>&#x5728; Mac &#x4E0A;&#x5B89;&#x88C5;&#x7684;&#x8FC7;&#x7A0B;&#x4E2D;&#xFF0C;&#x9047;&#x5230;&#x4E86;&#x76F8;&#x5F53;&#x591A;&#x7684;&#x95EE;&#x9898;&#xFF0C;&#x8FD8;&#x6D89;&#x53CA;&#x5230;&#x4E86;&#x6539; YouComplete &#x7684;&#x4EE3;&#x7801;&#xFF0C;&#x6700;&#x540E;&#x624D;&#x5F97;&#x4EE5;&#x6B63;&#x5E38;&#x5B89;&#x88C5;&#x4E0B;&#x53BB;&#xFF0C;&#x53EF;&#x80FD;&#x4F60;&#x5728;&#x5B89;&#x88C5;&#x7684;&#x8FC7;&#x7A0B;&#x4E2D;&#x4E5F;&#x4F1A;&#x9047;&#x5230;&#x7C7B;&#x4F3C;&#x7684;&#x95EE;&#x9898;&#xFF0C;&#x5982;&#x679C;&#x6709;&#x95EE;&#x9898;&#xFF0C;&#x6B22;&#x8FCE;&#x5728;&#x8BC4;&#x8BBA;&#x533A;&#x7559;&#x8A00;&#xFF0C;&#x6211;&#x4F1A;&#x5C3D;&#x529B;&#x89E3;&#x7B54;&#x3002;</p>
<ol start="6">
<li>&#x8BBE;&#x7F6E;&#x955C;&#x50CF;&#x4EE3;&#x7406;</li>
</ol>
<hr>
<p>&#x4E0A;&#x9762;&#x5B89;&#x88C5;&#x63D2;&#x4EF6;&#x7684;&#x8FC7;&#x7A0B;&#x5176;&#x5B9E;&#x4F1A;&#x53BB; Github &#x4E0A;&#x4E0B;&#x8F7D;&#x5BF9;&#x5E94;&#x7684;&#x63D2;&#x4EF6;&#xFF0C;&#x4F46;&#x7531;&#x4E8E;&#x5404;&#x79CD;&#x4E0D;&#x53EF;&#x63CF;&#x8FF0;&#x7684;&#x539F;&#x56E0;&#xFF0C; &#x5728;&#x5927;&#x9646;&#x7684;&#x670D;&#x52A1;&#x5668;&#x4E0A;&#x8BBF;&#x95EE; github &#x662F;&#x975E;&#x5E38;&#x6162;&#xFF0C;&#x751A;&#x81F3;&#x662F;&#x4E0D;&#x80FD;&#x8BBF;&#x95EE;&#x7684;&#x3002;</p>
<p>&#x6211;&#x5728;&#x6CA1;&#x6709;&#x8FDB;&#x884C;&#x4EFB;&#x4F55;&#x7F51;&#x7EDC;&#x8BBE;&#x7F6E;&#x7684;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C; 20 &#x4E2A;&#x63D2;&#x4EF6;&#xFF0C;&#x5C45;&#x7136;&#x6CA1;&#x6709;&#x4E00;&#x4E2A;&#x5B89;&#x88C5;&#x6210;&#x529F;&#x3002;</p>
<p>&#x56E0;&#x6B64;&#x5728;&#x8FD9;&#x91CC;&#xFF0C;&#x4F60;&#x5F97;&#x5148;&#x60F3;&#x529E;&#x6CD5;&#xFF0C;&#x8BA9;&#x4F60;&#x7684;&#x670D;&#x52A1;&#x5668;&#x80FD;&#x8BBF;&#x95EE;&#x4EE5;&#x6B63;&#x5E38;&#x901F;&#x5EA6;&#x8BBF;&#x95EE; Github&#xFF0C;&#x81F3;&#x4E8E;&#x600E;&#x4E48;&#x505A;&#xFF0C;&#x6709;&#x4E9B;&#x9ED1;&#x79D1;&#x6280;&#x6211;&#x8FD9;&#x91CC;&#x4E0D;&#x65B9;&#x4FBF;&#x5C55;&#x5F00;&#x7EC6;&#x8BF4;&#xFF0C;&#x5C31;&#x7ED9;&#x5927;&#x5BB6;&#x4ECB;&#x7ECD;&#x4E00;&#x79CD;&#x53EF;&#x4EE5;&#x516C;&#x5F00;&#x3001;&#x53C8;&#x975E;&#x5E38;&#x6709;&#x6548;&#x7684;&#x65B9;&#x6CD5;&#x3002;</p>
<p>&#x4FEE;&#x6539; <code>~/.vim/autoload/plug.vim</code> &#x5C06;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">bash&#x590D;&#x5236;&#x4EE3;&#x7801;let fmt = get(g:, &apos;plug_url_format&apos;, &apos;https://git::@github.com/%s.git&apos;)</span><br></pre></td></tr></table></figure>

<p>&#x6539;&#x6210;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">bash&#x590D;&#x5236;&#x4EE3;&#x7801;let fmt = get(g:, &apos;plug_url_format&apos;, &apos;https://git::@hub.fastgit.org/%s.git&apos;)</span><br></pre></td></tr></table></figure>

<p>&#x5C06;&#x8FD9;&#x884C;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">bash&#x590D;&#x5236;&#x4EE3;&#x7801;\ &apos;^https://git::@github\.com&apos;, &apos;https://github.com&apos;, &apos;&apos;)</span><br></pre></td></tr></table></figure>

<p>&#x6539;&#x6210;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">bash&#x590D;&#x5236;&#x4EE3;&#x7801;\ &apos;^https://git::@hub.fastgit\.org&apos;, &apos;https://hub.fastgit.org&apos;, &apos;&apos;)</span><br></pre></td></tr></table></figure>

<p>&#x7136;&#x540E;&#x518D;&#x8FDB;&#x5165; vim &#x6267;&#x884C; <code>:PlugInstall</code> &#x5C31;&#x53EF;&#x4EE5;&#x4E86;</p>
<ol start="7">
<li>&#x63D2;&#x4EF6;&#x4F7F;&#x7528;</li>
</ol>
<hr>
<p>&#x5927;&#x90E8;&#x5206;&#x63D2;&#x4EF6;&#x5B89;&#x88C5;&#x597D;&#x540E;&#xFF0C;&#x53EF;&#x4EE5;&#x7ACB;&#x9A6C;&#x4F7F;&#x7528;&#xFF0C;&#x4F46;&#x6709;&#x4E00;&#x4E9B;&#x63D2;&#x4EF6;&#x9700;&#x8981;&#x518D;&#x8FDB;&#x884C;&#x4E00;&#x4E9B;&#x914D;&#x7F6E;&#x624D;&#x80FD;&#x7528;&#x5F97;&#x66F4;&#x79F0;&#x624B;&#x3002;</p>
<p>&#x7531;&#x4E8E;&#x914D;&#x7F6E;&#x975E;&#x5E38;&#x591A;&#xFF0C;&#x6211;&#x8FD9;&#x91CC;&#x5C31;&#x4E0D;&#x76F4;&#x63A5;&#x8D34;&#x51FA;&#x6765;&#x4E86;&#xFF0C;&#x6709;&#x611F;&#x5174;&#x8DA3;&#x7684;&#x52A0;&#x6211;v&#xFF1A;hello-wbm&#xFF0C;&#x627E;&#x6211;&#x8981;&#x4E00;&#x4E0B;&#x914D;&#x7F6E;&#x8868;&#x3002;</p>
<p><strong>YouComplete</strong></p>
<p>&#x4F7F;&#x7528; IDE &#x6700;&#x57FA;&#x672C;&#x7684;&#x8BC9;&#x6C42;&#xFF0C;&#x4E0D;&#x5C31;&#x662F;&#x80FD;&#x591F;&#x5728;&#x4F60;&#x7F16;&#x7801;&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x81EA;&#x52A8;&#x7ED9;&#x51FA;&#x63D0;&#x793A;&#xFF0C;&#x7136;&#x540E;&#x81EA;&#x52A8;&#x8865;&#x5168;&#x561B;&#xFF0C;vim &#x6709;&#x4E86; YouComplete &#x7684;&#x52A0;&#x6301;&#x540E;&#xFF0C;&#x4E5F;&#x53EF;&#x4EE5; 100% &#x8FD8;&#x539F;&#x684C;&#x9762;&#x7AEF;&#x7684;&#x7F16;&#x7801;&#x4F53;&#x9A8C;&#x3002;</p>
<p><img src="https://gitee.com/songjianzaina/juejin_p5/raw/master/img/e01b28fb68efa12cc8a94eb037187552a6628f2bbaa7985ab5bd9916fa062905" alt></p>
<p><strong>NERDTree</strong></p>
<p>&#x6253;&#x5F00;&#x6587;&#x4EF6;&#x540E;&#xFF0C;&#x4F7F;&#x7528; F9 &#x6216;&#x8005;&#x8F93;&#x5165; <code>NERDTreeToggle</code> &#x5C31;&#x4F1A;&#x6253;&#x5F00;&#x4FA7;&#x8FB9;&#x680F;&#x7684;&#x6587;&#x4EF6;&#x6811;&#xFF0C;&#x8FD9;&#x662F; <code>NERDTree</code> &#x7ED9;&#x6211;&#x4EEC;&#x63D0;&#x4F9B;&#x7684;&#x4FBF;&#x5229;&#x3002;</p>
<p><img src="https://gitee.com/songjianzaina/juejin_p5/raw/master/img/00ed0a5130121161555a4ed9c2883c7d407f277dbd5b07dbc0f4fd4e15d4add7" alt></p>
<p><strong>tagbar</strong></p>
<p>&#x6253;&#x5F00; Python &#x6587;&#x4EF6;&#x540E;&#xFF0C;&#x4F7F;&#x7528; F9 &#x6216;&#x8005;&#x8F93;&#x5165; <code>:tagbar</code> &#x5C31;&#x53EF;&#x4EE5;&#x6253;&#x5F00; <code>tagbar</code> &#x7A97;&#x53E3;&#xFF0C;&#x5728;&#x8FD9;&#x4E2A;&#x7A97;&#x53E3;&#x91CC;&#x4F60;&#x53EF;&#x4EE5;&#x770B;&#x5230;&#x8BE5;&#x6587;&#x4EF6;&#x7684;&#x6240;&#x6709;&#x7ED3;&#x6784;&#x4F53;&#x3001;&#x51FD;&#x6570;&#x3001;&#x53D8;&#x91CF;&#x7B49;&#xFF0C;&#x8FD9;&#x4E9B;&#x901A;&#x901A;&#x53EF;&#x4EE5;&#x79F0;&#x505A; tag&#xFF0C;&#x5F53;&#x4F60;&#x5B9A;&#x4F4D;&#x5230;&#x67D0;&#x4E2A; tag &#x65F6;&#xFF0C;&#x76F4;&#x63A5;&#x56DE;&#x8F66;&#x5C31;&#x53EF;&#x4EE5;&#x8DF3;&#x8F6C;&#x5230;&#x5DE6;&#x8FB9;&#x4EE3;&#x7801;&#x7A97;&#x53E3;&#x7684;&#x4F4D;&#x7F6E;&#x3002;</p>
<p><img src="https://gitee.com/songjianzaina/juejin_p5/raw/master/img/67653d37eb2aa7bcf345f088717bfba4d5c2ea62e8ce971557369368f6679c61" alt></p>
<p><strong>vimgrep</strong></p>
<p>vimgrep &#x53EF;&#x7528;&#x4E8E;&#x5DE5;&#x7A0B;&#x9879;&#x76EE;&#x7684;&#x4EE3;&#x7801;&#x67E5;&#x627E;&#xFF0C;&#x5BF9;&#x4E8E;&#x7ECF;&#x5E38;&#x9605;&#x8BFB;&#x6E90;&#x4EE3;&#x7801;&#x7684;&#x540C;&#x5B66;&#x662F;&#x5FC5;&#x4E0D;&#x53EF;&#x5C11;&#x7684;&#x5229;&#x5668;&#xFF0C;&#x5B83;&#x662F; Vim &#x81EA;&#x5E26;&#x7684;&#x5DE5;&#x5177;&#xFF0C;&#x975E;&#x5E38;&#x4E4B;&#x5F3A;&#x5927;&#x3002;</p>
<p>&#x7528;&#x5B8C; vimgrep &#x67E5;&#x627E;&#x540E;&#xFF0C;&#x6B63;&#x5E38;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;&#x4E0D;&#x4F1A;&#x6709;&#x4EFB;&#x4F55;&#x7684;&#x53CD;&#x9988;&#xFF0C;&#x5982;&#x679C;&#x4F60;&#x9700;&#x8981;&#x67E5;&#x770B;&#x641C;&#x7D22;&#x7684;&#x7ED3;&#x679C;&#xFF0C;&#x5E76;&#x8DF3;&#x8F6C;&#x5230;&#x5BF9;&#x5E94;&#x7684;&#x4F4D;&#x7F6E;&#xFF0C;&#x53EF;&#x4EE5;&#x4F7F;&#x7528; QuickFix &#xFF0C;&#x53EA;&#x8981;&#x8F93;&#x5165; <code>:cw</code> &#x6216;&#x8005; <code>:copen</code></p>
<p><img src="https://gitee.com/songjianzaina/juejin_p5/raw/master/img/c6a2efe8b46b11cb7bf562131107fb7ffd6f8837079e9b5e7b450a694c30c55b" alt></p>
<ol start="8">
<li>&#x8FD0;&#x884C;&#x4EE3;&#x7801;</li>
</ol>
<hr>
<p>&#x4F7F;&#x7528; Vim &#x5199;&#x5B8C;&#x4EE3;&#x7801;&#x540E;&#xFF0C;&#x60F3;&#x50CF; PyCharm &#x4E00;&#x6837;&#x76F4;&#x63A5;&#x5FEB;&#x6377;&#x952E;&#x8FD0;&#x884C;&#x4EE3;&#x7801;&#xFF0C;&#x9700;&#x8981;&#x4F60;&#x5728; <code>.vimrc</code> &#x4E2D;&#x5199;&#x5165;&#x5982;&#x4E0B;&#x7684;&#x914D;&#x7F6E;&#x3002;</p>
<p>&#x8FD9;&#x6BB5;&#x914D;&#x7F6E;&#xFF0C;&#x4E0D;&#x4EC5;&#x5305;&#x62EC; Python &#xFF0C;&#x8FD8;&#x6709; Bash &#x548C; Golang</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">css&#x590D;&#x5236;&#x4EE3;&#x7801;&quot; F5 to run sh/python3</span><br><span class="line">map &lt;F5&gt; :call CompileRunGcc()&lt;CR&gt;</span><br><span class="line">func! CompileRunGcc()</span><br><span class="line">    exec &quot;w&quot;</span><br><span class="line">    if &amp;filetype == &apos;sh&apos;</span><br><span class="line">        :!time bash %</span><br><span class="line">    elseif &amp;filetype == &apos;python&apos;</span><br><span class="line">        exec &quot;!time python3 %&quot;</span><br><span class="line">    elseif &amp;filetype == &apos;go&apos;</span><br><span class="line">        exec &quot;!time go run %&quot;</span><br><span class="line">    endif</span><br><span class="line">endfunc</span><br></pre></td></tr></table></figure>

<p>&#x914D;&#x7F6E;&#x5B8C;&#x540E;&#xFF0C;&#x4F7F;&#x7528; <code>F5</code> &#x5C31;&#x53EF;&#x4EE5;&#x76F4;&#x63A5;&#x8FD0;&#x884C;&#x5F53;&#x524D;&#x7684;&#x811A;&#x672C;&#x3002;</p>
<p><img src="https://gitee.com/songjianzaina/juejin_p5/raw/master/img/aba2637c82aaf940b0c64ffe26c45ed4c05c7ed5fa4133f931b0499b44890fd9" alt></p>
<ol start="9">
<li>&#x5728; iPad &#x4E0A;&#x5199;&#x4EE3;&#x7801;</li>
</ol>
<hr>
<p>&#x5982;&#x679C;&#x4F60;&#x548C;&#x6211;&#x4E00;&#x6837;&#xFF0C;&#x6709;&#x81EA;&#x5DF1;&#x7684;&#x670D;&#x52A1;&#x5668;&#xFF0C;&#x90A3;&#x4E48;&#x4F60;&#x6839;&#x636E;&#x4E0A;&#x9762;&#x7684;&#x6B65;&#x9AA4;&#x628A; Vim &#x914D;&#x7F6E;&#x597D;&#x540E;&#xFF0C;&#x5C31;&#x53EF;&#x4EE5;&#x5728; iPad &#x4E0A;&#x901A;&#x8FC7; SSH &#x8FDE;&#x63A5;&#x670D;&#x52A1;&#x5668;&#x8FDB;&#x884C;&#x4EE3;&#x7801;&#x7684;&#x7F16;&#x5199;&#x4E86;&#x3002;</p>
<p>&#x5982;&#x679C;&#x4F60;&#x6CA1;&#x6709;&#x670D;&#x52A1;&#x5668;&#xFF0C;&#x53EA;&#x8981;&#x53EF;&#x4EE5;&#x52A0;&#x6211;v: hello-wbm&#xFF0C;&#x6211;&#x5C31;&#x9001;&#x4F60;&#x4E00;&#x53F0;&#x4E00;&#x5E74;&#x671F;&#x7684;&#x963F;&#x91CC;&#x4E91;&#x670D;&#x52A1;&#x5668;&#xFF0C;&#x540D;&#x989D;&#x6709;&#x9650;&#xFF0C;&#x6211;&#x53EA;&#x80FD;&#x8BF4;&#x5148;&#x5230;&#x5148;&#x5F97;&#x3002;</p>
<p>&#x521A;&#x597D;&#x6211;&#x624B;&#x4E0A;&#x6709;&#x4E00;&#x53F0; 2020 &#x6B3E;&#x7684; iPad Pro&#xFF0C;&#x5E73;&#x65F6;&#x4E5F;&#x662F;&#x7528;&#x6765;&#x89C6;&#x9891;&#x5C45;&#x591A;&#xFF0C;&#x5B9E;&#x5728;&#x6709;&#x70B9;&#x5BF9;&#x4E0D;&#x8D77; Pro &#x8FD9;&#x4E2A;&#x914D;&#x7F6E;&#xFF0C;&#x6709;&#x4E86; Vim &#x8FD9;&#x4E2A;&#x795E;&#x5668;&#xFF0C;&#x751F;&#x4EA7;&#x529B; up &#x4E86;&#x4E00;&#x70B9;&#x70B9;&#x3002;&#x3002;</p>
<p><img src="https://gitee.com/songjianzaina/juejin_p5/raw/master/img/9f63321cab04162597db8815c1720ec7d8f76cba114fa73b2ef2c202a73d5248" alt></p>
<ol start="10">
<li>&#x5199;&#x5728;&#x6700;&#x540E;</li>
</ol>
<hr>
<p>&#x6709;&#x5FC5;&#x8981;&#x8BF4;&#x660E;&#x4E00;&#x4E0B;&#xFF0C;&#x4E4B;&#x6240;&#x4EE5;&#x82B1;&#x4E86;&#x4E94;&#x5929;&#x8FD9;&#x4E48;&#x957F;&#x7684;&#x65F6;&#x95F4;&#xFF0C;&#x5176;&#x5B9E;&#x6211;&#x662F;&#x628A;&#x6211;&#x624B;&#x4E0A;&#x7684;&#x51E0;&#x53F0;&#x7535;&#x8111;&#xFF0C;&#x5305;&#x62EC;&#x670D;&#x52A1;&#x5668;&#x5168;&#x90E8;&#x914D;&#x7F6E;&#x4E86; Vim IDE&#xFF0C;&#x4E0D;&#x540C;&#x7684;&#x673A;&#x5668;&#xFF0C;&#x9047;&#x5230;&#x7684;&#x95EE;&#x9898;&#x90FD;&#x6709;&#x70B9;&#x4E0D;&#x592A;&#x4E00;&#x6837;&#xFF0C;&#x5176;&#x4E2D;&#x5728;&#x6211;&#x7684; Mac &#x4E0A;&#xFF0C;&#x9047;&#x5230;&#x7684;&#x95EE;&#x9898;&#x6700;&#x591A;&#xFF0C;&#x6298;&#x817E;&#x7684;&#x65F6;&#x95F4;&#x6700;&#x957F;&#xFF0C;&#x5176;&#x4E2D;&#x6709;&#x4E9B;&#x95EE;&#x9898;&#xFF0C;&#x6211; Google &#x4E0D;&#x5230;&#x7B54;&#x6848;&#xFF0C;&#x6700;&#x540E;&#x662F;&#x770B;&#x4E86;&#x4EE3;&#x7801;&#xFF0C;&#x4FEE;&#x6539;&#x4E86;&#x90E8;&#x5206;&#x4EE3;&#x7801;&#x624D;&#x8DD1;&#x4E0B;&#x53BB;&#x7684;&#x3002;</p>
<p>&#x53E6;&#x5916;&#xFF0C;&#x5BF9;&#x4E8E; Vim &#x6765;&#x8BF4;&#xFF0C;&#x6700;&#x91CD;&#x8981;&#x7684;&#x5C31;&#x662F; .vimrc &#x6587;&#x4EF6;&#xFF0C;&#x4E0A;&#x9762;&#x7684;&#x8BB2;&#x89E3;&#x53EF;&#x80FD;&#x6211;&#x4F1A;&#x6F0F;&#x4E86;&#x4E00;&#x4E9B;&#x914D;&#x7F6E;&#x8BB2;&#x89E3;&#xFF0C;&#x5982;&#x679C;&#x4F60;&#x53D1;&#x73B0;&#x4F7F;&#x7528;&#x4E0D;&#x662F;&#x90A3;&#x4E48;&#x987A;&#x5229;&#xFF0C;&#x53EF;&#x4EE5;&#x4E0B;&#x8F7D;&#x6211;&#x7684; .vimrc &#x6587;&#x4EF6;&#xFF1A;<a href="/external_links/ffa2b2f2c8595f255835b6e4ac45bfa1.html" target="blank" rel="noopener">wwe.lanzoui.com/i9gD5vrzufi</a></p>
<p>&#x672C;&#x6587;&#x662F; Python &#x7248;&#x672C;&#x7684; Vim IDE &#x642D;&#x5EFA;&#x6307;&#x5357;&#xFF0C;&#x4EE3;&#x7801;&#x6F14;&#x793A;&#x4E5F;&#x57FA;&#x672C;&#x662F;&#x7528;&#x7684;&#x662F; Python &#x4EE3;&#x7801;&#xFF0C;&#x6839;&#x636E;&#x6587;&#x4E2D;&#x6211;&#x7684;&#x601D;&#x8DEF;&#x4E00;&#x6B65;&#x4E00;&#x6B65;&#x64CD;&#x4F5C;&#xFF0C;&#x4F60;&#x53EF;&#x4EE5;&#x642D;&#x5EFA;&#x5C5E;&#x4E8E;&#x81EA;&#x5DF1;&#x7684;&#x4E00;&#x5957;&#x5728;&#x7EBF; IDE &#x73AF;&#x5883;&#x3002;</p>
<p>&#x6211;&#x4E0D;&#x4EC5;&#x5199; Python &#x4EE3;&#x7801;&#xFF0C;&#x8FD8;&#x5199;&#x4E00;&#x4E9B; Go &#x7684;&#x4EE3;&#x7801;&#xFF0C; Vim &#x5BF9;&#x4E8E; Python &#x539F;&#x751F;&#x63D0;&#x4F9B;&#x4E86;&#x6BD4;&#x8F83;&#x591A;&#x7684;&#x652F;&#x6301;&#xFF0C;&#x800C;&#x76F8;&#x6BD4;&#x4E4B;&#x4E0B;&#xFF0C;Go &#x5374;&#x8981;&#x5B89;&#x88C5;&#x66F4;&#x591A;&#x7684;&#x63D2;&#x4EF6;&#x624D;&#x80FD;&#x8FBE;&#x5230;&#x4E0D;&#x9519;&#x7684;&#x7F16;&#x7801;&#x4F53;&#x9A8C;&#xFF0C;&#x4F46;&#x7531;&#x4E8E;&#x672C;&#x53F7;&#x5927;&#x591A;&#x6570;&#x662F; Python &#x5F00;&#x53D1;&#x8005;&#xFF0C;&#x8FD9;&#x4E00;&#x90E8;&#x5206;&#x5185;&#x5BB9;&#xFF0C;&#x6211;&#x4F1A;&#x518D;&#x5199;&#x4E00;&#x7BC7; Vim for Go &#x7684;&#x6587;&#x7AE0;&#x3002;&#x611F;&#x5174;&#x8DA3;&#x7684;&#x670B;&#x53CB;&#x7ED9;&#x6211;&#x53EF;&#x4EE5;&#x7ED9;&#x6211;&#x8BC4;&#x8BBA;&#x533A;&#x8BF4;&#x4E00;&#x4E0B;&#xFF0C;&#x6211;&#x4F1A;&#x53D1;&#x7ED9;&#x4F60;&#x5730;&#x5740;&#x3002;</p>
<p>&#x597D;&#x4E86;&#xFF0C;&#x4EE5;&#x4E0A;&#x5C31;&#x662F;&#x672C;&#x7BC7;&#x6587;&#x7AE0;&#x7684;&#x5168;&#x90E8;&#x5185;&#x5BB9;&#xFF0C;&#x5982;&#x5728;&#x5B89;&#x88C5;&#x914D;&#x7F6E;&#x4E0A;&#x6709;&#x4EFB;&#x4F55;&#x7591;&#x95EE;&#xFF0C;&#x6B22;&#x8FCE;&#x8BC4;&#x8BBA;&#x533A;&#x6307;&#x51FA;~</p>
<p>&#x539F;&#x6587;&#x9996;&#x53D1;&#x4E8E;&#x4E2A;&#x4EBA;&#x535A;&#x5BA2;&#xFF1A;<a href="/external_links/bb0ac3df1d62eeee06c32d39e593f2ef.html" target="blank" rel="noopener">iswbm.com/591.html</a></p>
<h2 id="&#x6587;&#x7AE0;&#x7684;&#x6700;&#x540E;&#xFF0C;&#x63D2;&#x64AD;&#x4E00;&#x4E2A;&#x798F;&#x5229;"><a href="#&#x6587;&#x7AE0;&#x7684;&#x6700;&#x540E;&#xFF0C;&#x63D2;&#x64AD;&#x4E00;&#x4E2A;&#x798F;&#x5229;" class="headerlink" title="&#x6587;&#x7AE0;&#x7684;&#x6700;&#x540E;&#xFF0C;&#x63D2;&#x64AD;&#x4E00;&#x4E2A;&#x798F;&#x5229;"></a>&#x6587;&#x7AE0;&#x7684;&#x6700;&#x540E;&#xFF0C;&#x63D2;&#x64AD;&#x4E00;&#x4E2A;&#x798F;&#x5229;</h2><p>&#x53CC;&#x5341;&#x4E00;&#x5FEB;&#x5230;&#x4E86;&#xFF0C;&#x963F;&#x91CC;&#x4E91;&#x4E5F;&#x5F00;&#x59CB;&#x641E;&#x6D3B;&#x52A8;&#x4E86;&#xFF0C;&#x521A;&#x597D;&#x6211;&#x8FD9;&#x8FB9;&#x53EF;&#x4EE5;&#x5E26;&#x5927;&#x5BB6;&#x767D;Piao &#x963F;&#x91CC;&#x4E91;&#x7684;&#x670D;&#x52A1;&#x5668;&#x3002;</p>
<p>&#x8BF4;&#x767D;&#x4E86;&#x5C31;&#x662F;&#x5927;&#x5BB6; &#x53EF;&#x4EE5;&#x4E00;&#x5206;&#x94B1;&#x4E0D;&#x82B1;&#xFF0C;&#x5C31;&#x53EF;&#x4EE5;&#x9886;&#x5230;&#x670D;&#x52A1;&#x5668;&#xFF0C;&#x89C4;&#x683C;&#x662F; 2c2m&#xFF08;2vcpu 2G memory&#xFF09; &#x7684;&#x673A;&#x5668;&#x3002;</p>
<p>&#x6628;&#x5929;&#x5728;&#x670B;&#x53CB;&#x5708;&#x53D1;&#x4E86;&#x4E0B;&#xFF0C;&#x73B0;&#x5728;&#x5DF2;&#x7ECF;&#x6709; 400 &#x4EBA;&#x62A5;&#x540D;&#x53C2;&#x4E0E;&#x4E86;&#xFF0C;&#x4ECA;&#x5929;&#x501F;&#x8FD9;&#x7BC7;&#x6587;&#x7AE0;&#x518D;&#x8BF4;&#x4E00;&#x4E0B;&#xFF0C;&#x6709;&#x60F3;&#x53C2;&#x52A0;&#x7684;&#x670B;&#x53CB;&#xFF0C;&#x53EF;&#x4EE5;&#x52A0;&#x6211;v&#xFF08;hello-wbm&#xFF09;&#xFF0C;&#x5E26;&#x5927;&#x5BB6;&#x4E00;&#x8D77;&#x8585;&#x7F8A;&#x6BDB;&#x3002;</p>
<h2 id="&#x7D6E;&#x53E8;&#x4E00;&#x4E0B;"><a href="#&#x7D6E;&#x53E8;&#x4E00;&#x4E0B;" class="headerlink" title="&#x7D6E;&#x53E8;&#x4E00;&#x4E0B;"></a>&#x7D6E;&#x53E8;&#x4E00;&#x4E0B;</h2><p>&#x6211;&#x5728;&#x6398;&#x91D1;&#x4E0A;&#x5199;&#x8FC7;&#x5F88;&#x591A;&#x7684; Python &#x76F8;&#x5173;&#x6587;&#x7AE0;&#xFF0C;&#x5176;&#x4E2D;&#x5305;&#x62EC; Python &#x5B9E;&#x7528;&#x5DE5;&#x5177;&#xFF0C;Python &#x9AD8;&#x6548;&#x6280;&#x5DE7;&#xFF0C;PyCharm &#x4F7F;&#x7528;&#x6280;&#x5DE7;&#xFF0C;&#x5F88;&#x9AD8;&#x5174;&#x5F97;&#x5230;&#x4E86;&#x5F88;&#x591A;&#x77E5;&#x4E4E;&#x670B;&#x53CB;&#x7684;&#x8BA4;&#x53EF;&#x548C;&#x652F;&#x6301;&#x3002;</p>
<p>&#x5728;&#x4ED6;&#x4EEC;&#x7684;&#x9F13;&#x52B1;&#x4E4B;&#x4E0B;&#xFF0C;&#x6211;&#x5C06;&#x8FC7;&#x5F80;&#x6587;&#x7AE0;&#x5206;&#x95E8;&#x522B;&#x7C7B;&#x6574;&#x7406;&#x6210;&#x4E09;&#x672C; PDF &#x7535;&#x5B50;&#x4E66;</p>
<p><strong>PyCharm &#x4E2D;&#x6587;&#x6307;&#x5357;</strong></p>
<p>&#x300A;PyCharm &#x4E2D;&#x6587;&#x6307;&#x5357;&#x300B;&#x4F7F;&#x7528; 300 &#x591A;&#x5F20; GIF &#x52A8;&#x6001;&#x56FE;&#x7684;&#x5F62;&#x5F0F;&#xFF0C;&#x8BE6;&#x7EC6;&#x8BB2;&#x89E3;&#x4E86;&#x6700;&#x8D34;&#x5408;&#x5B9E;&#x9645;&#x5F00;&#x53D1;&#x7684; 105&#x4E2A; PyCharm &#x9AD8;&#x6548;&#x4F7F;&#x7528;&#x6280;&#x5DE7;&#xFF0C;&#x5185;&#x5BB9;&#x901A;&#x4FD7;&#x6613;&#x61C2;&#xFF0C;&#x9002;&#x5408;&#x6240;&#x6709; Python &#x5F00;&#x53D1;&#x8005;&#x3002;</p>
<p>&#x5728;&#x7EBF;&#x4F53;&#x9A8C;&#x5730;&#x5740;&#xFF1A;<a href="/external_links/b3cc892bc9a95244600705131ea22992.html" target="blank" rel="noopener">pycharm.iswbm.com</a></p>
<p><img src="https://gitee.com/songjianzaina/juejin_p5/raw/master/img/c546f3cab06f0f422478b3a473e04b688faecddebc752333baa02aa67fb4dba4" alt></p>
<p><strong>Python &#x9ED1;&#x9B54;&#x6CD5;&#x6307;&#x5357;</strong></p>
<p>&#x300A;Python&#x9ED1;&#x9B54;&#x6CD5;&#x6307;&#x5357;&#x300B;&#x76EE;&#x524D;&#x8FCE;&#x6765;&#x4E86; v3.0 &#x7684;&#x7248;&#x672C;&#xFF0C;&#x56CA;&#x96C6;&#x4E86; 100 &#x591A;&#x4E2A;&#x5F00;&#x53D1;&#x5C0F;&#x6280;&#x5DE7;&#xFF0C;&#x975E;&#x5E38;&#x9002;&#x5408;&#x5728;&#x95F2;&#x65F6;&#x8FDB;&#x884C;&#x788E;&#x7247;&#x9605;&#x8BFB;&#x3002;</p>
<p>&#x5728;&#x7EBF;&#x4F53;&#x9A8C;&#x5730;&#x5740;&#xFF1A;<a href="/external_links/983dcbb842047e371a13ec25e044d5af.html" target="blank" rel="noopener">magic.iswbm.com</a></p>
<p><img src="https://gitee.com/songjianzaina/juejin_p5/raw/master/img/df0e68f2a3681c43bf9155170ae87e762b9b6a24be0b578a2a9db28b3d9a8f2c" alt></p>
<p><strong>Python &#x4E2D;&#x6587;&#x6307;&#x5357;</strong></p>
<p>&#x5B66; Python &#x6700;&#x597D;&#x7684;&#x5B66;&#x4E60;&#x8D44;&#x6599;&#x6C38;&#x8FDC;&#x662F; Python &#x5B98;&#x65B9;&#x6587;&#x6863;&#xFF0C;&#x53EF;&#x60DC;&#x73B0;&#x5728;&#x7684;&#x5B98;&#x65B9;&#x6587;&#x6863;&#x5927;&#x90FD;&#x662F;&#x82F1;&#x6587;&#xFF0C;&#x867D;&#x7136;&#x6709;&#x4E2D;&#x6587;&#x7684;&#x7FFB;&#x8BD1;&#x7248;&#x4E86;&#xFF0C;&#x4F46;&#x662F;&#x8FDB;&#x5EA6;&#x5B9E;&#x5728;&#x582A;&#x5FE7;&#x3002;&#x4E3A;&#x4E86;&#x7167;&#x987E;&#x82F1;&#x6587;&#x4E0D;&#x597D;&#x7684;&#x540C;&#x5B66;&#xFF0C;&#x6211;&#x81EA;&#x5DF1;&#x5199;&#x4E86;&#x4E00;&#x4EFD; &#x9762;&#x5411;&#x96F6;&#x57FA;&#x7840;&#x7684;&#x670B;&#x53CB; &#x7684;&#x5728;&#x7EBF; Python &#x6587;&#x6863; &#x2013; &#x300A;Python&#x4E2D;&#x6587;&#x6307;&#x5357;&#x300B;</p>
<p>&#x5728;&#x7EBF;&#x4F53;&#x9A8C;&#x5730;&#x5740;&#xFF1A;<a href="/external_links/cd0636220ec999e1625a6c83478a6bbc.html" target="blank" rel="noopener">python.iswbm.com</a></p>
<p><img src="https://gitee.com/songjianzaina/juejin_p5/raw/master/img/0f25abbf80b60ca73ecc39f883f7a45f1650fd72ea883186f629432bb2d0c76b" alt></p>
<p>**&#x6709;&#x5E2E;&#x52A9;&#x7684;&#x8BDD;&#xFF0C;&#x8BB0;&#x5F97;&#x5E2E;&#x6211; <strong>&#x70B9;&#x4E2A;&#x8D5E;&#x54DF;~</strong></p>
<p><strong>&#x672C;&#x6587;&#x8F6C;&#x8F7D;&#x81EA;:</strong> <a href="/external_links/dde6f05c5001444aed89c0a62995f8d9.html" target="blank" rel="noopener">&#x6398;&#x91D1;</a></p>
<p><em><a href="https://dev.newban.cn/">&#x5F00;&#x53D1;&#x8005;&#x535A;&#x5BA2; &#x2013; &#x548C;&#x5F00;&#x53D1;&#x76F8;&#x5173;&#x7684; &#x8FD9;&#x91CC;&#x5168;&#x90FD;&#x6709;</a></em></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://dev.newban.cn../../7023387328424968200.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="开发者博客">
      <meta itemprop="description" content>
      <meta itemprop="image" content="../../images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="开发者博客 – IT技术 尽在开发者博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="../../7023387328424968200.html" itemprop="url">程序员必备小知识系列--个人网站功能开发与性能优化经历（6）</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2021-10-26T22:55:09+08:00">
                2021-10-26
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h3 id="&#x5C0F;&#x77E5;&#x8BC6;&#xFF0C;&#x5927;&#x6311;&#x6218;&#xFF01;&#x672C;&#x6587;&#x6B63;&#x5728;&#x53C2;&#x4E0E;&#x201C;&#x7A0B;&#x5E8F;&#x5458;&#x5FC5;&#x5907;&#x5C0F;&#x77E5;&#x8BC6;&#x201D;&#x521B;&#x4F5C;&#x6D3B;&#x52A8;&#x3002;"><a href="#&#x5C0F;&#x77E5;&#x8BC6;&#xFF0C;&#x5927;&#x6311;&#x6218;&#xFF01;&#x672C;&#x6587;&#x6B63;&#x5728;&#x53C2;&#x4E0E;&#x201C;&#x7A0B;&#x5E8F;&#x5458;&#x5FC5;&#x5907;&#x5C0F;&#x77E5;&#x8BC6;&#x201D;&#x521B;&#x4F5C;&#x6D3B;&#x52A8;&#x3002;" class="headerlink" title="&#x5C0F;&#x77E5;&#x8BC6;&#xFF0C;&#x5927;&#x6311;&#x6218;&#xFF01;&#x672C;&#x6587;&#x6B63;&#x5728;&#x53C2;&#x4E0E;&#x201C;&#x7A0B;&#x5E8F;&#x5458;&#x5FC5;&#x5907;&#x5C0F;&#x77E5;&#x8BC6;&#x201D;&#x521B;&#x4F5C;&#x6D3B;&#x52A8;&#x3002;"></a><strong>&#x5C0F;&#x77E5;&#x8BC6;&#xFF0C;&#x5927;&#x6311;&#x6218;&#xFF01;&#x672C;&#x6587;&#x6B63;&#x5728;&#x53C2;&#x4E0E;&#x201C;<a href="https://dev.newban.cn/7008476801634680869">&#x7A0B;&#x5E8F;&#x5458;&#x5FC5;&#x5907;&#x5C0F;&#x77E5;&#x8BC6;</a>&#x201D;&#x521B;&#x4F5C;&#x6D3B;&#x52A8;</strong>&#x3002;</h3><p>&#x81EA;&#x5DF1;&#x642D;&#x5EFA;&#x4E86;&#x4E00;&#x4E2A;&#x57FA;&#x4E8E;SpringBoot+Spring Security+MyBatis+MySQL+Redis+Thymeleaf&#x7684;&#x535A;&#x5BA2;&#x7F51;&#x7AD9;&#x3002;&#x4E0A;&#x7EBF;&#x4E2A;&#x4EBA;&#x4E91;&#x670D;&#x52A1;&#x5668;&#x540E;&#xFF0C;&#x53D1;&#x73B0;&#x670D;&#x52A1;&#x5668;&#x8BBF;&#x95EE;&#x6162;&#x3002;&#x4E2A;&#x4EBA;&#x670D;&#x52A1;&#x5668;&#x662F;1&#x6838;2G&#x7684;&#xFF0C;1M&#x5BBD;&#x5E26;&#xFF0C;&#x867D;&#x7136;&#x670D;&#x52A1;&#x5668;&#x662F;&#x4F4E;&#x914D;&#x7684;&#xFF0C;&#x4F46;&#x662F;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;&#x4F18;&#x5316;&#x4EE3;&#x7801;&#xFF0C;&#x4E2D;&#x95F4;&#x4EF6;&#x7B49;&#x624B;&#x6BB5;&#xFF0C;&#x6765;&#x63D0;&#x5347;&#x6027;&#x80FD;&#x3002;&#x6211;&#x4F1A;&#x8BB2;&#x89E3;&#x4E2A;&#x4EBA;&#x7F51;&#x7AD9;&#x529F;&#x80FD;&#x7684;&#x5F00;&#x53D1;&#x4E0E;&#x4E00;&#x4E9B;&#x6027;&#x80FD;&#x4F18;&#x5316;&#x7684;&#x7ECF;&#x5386;&#x3002;</p>
<h4 id="&#x8FD9;&#x7BC7;&#x4E3B;&#x8981;&#x8BB2;&#x7F51;&#x7AD9;&#x5B89;&#x5168;&#x65B9;&#x9762;&#x4F18;&#x5316;"><a href="#&#x8FD9;&#x7BC7;&#x4E3B;&#x8981;&#x8BB2;&#x7F51;&#x7AD9;&#x5B89;&#x5168;&#x65B9;&#x9762;&#x4F18;&#x5316;" class="headerlink" title="&#x8FD9;&#x7BC7;&#x4E3B;&#x8981;&#x8BB2;&#x7F51;&#x7AD9;&#x5B89;&#x5168;&#x65B9;&#x9762;&#x4F18;&#x5316;"></a>&#x8FD9;&#x7BC7;&#x4E3B;&#x8981;&#x8BB2;&#x7F51;&#x7AD9;&#x5B89;&#x5168;&#x65B9;&#x9762;&#x4F18;&#x5316;</h4><h4 id="&#x4E00;&#x3001;&#x4FEE;&#x6539;&#x6570;&#x636E;&#x5E93;&#x7AEF;&#x53E3;&#xFF0C;redis&#x7AEF;&#x53E3;&#x7B49;&#x7B49;"><a href="#&#x4E00;&#x3001;&#x4FEE;&#x6539;&#x6570;&#x636E;&#x5E93;&#x7AEF;&#x53E3;&#xFF0C;redis&#x7AEF;&#x53E3;&#x7B49;&#x7B49;" class="headerlink" title="&#x4E00;&#x3001;&#x4FEE;&#x6539;&#x6570;&#x636E;&#x5E93;&#x7AEF;&#x53E3;&#xFF0C;redis&#x7AEF;&#x53E3;&#x7B49;&#x7B49;"></a>&#x4E00;&#x3001;&#x4FEE;&#x6539;&#x6570;&#x636E;&#x5E93;&#x7AEF;&#x53E3;&#xFF0C;redis&#x7AEF;&#x53E3;&#x7B49;&#x7B49;</h4><p>&#x521A;&#x53D1;&#x5E03;&#x7F51;&#x7AD9;&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x7528;&#x4E0D;&#x4E86;&#x4E00;&#x4E2A;&#x6708;&#xFF0C;&#x5C31;&#x6709;&#x4E00;&#x4E9B;&#x4EBA;&#x4F1A;&#x653B;&#x51FB;&#x4F60;&#x7684;&#x5C0F;&#x7F51;&#x7AD9;&#xFF0C;&#x62FF;&#x4F60;&#x7684;&#x7F51;&#x7AD9;&#x5F53;&#x6210;&#x653B;&#x51FB;&#x7684;&#x8BD5;&#x9A8C;&#x54C1;&#x3002;</p>
<p>&#x5F53;&#x65F6;&#x535A;&#x4E3B;&#x5B89;&#x5168;&#x610F;&#x8BC6;&#x4E0D;&#x591F;&#xFF0C;&#x50CF;mysql&#x9ED8;&#x8BA4;&#x7AEF;&#x53E3;3306&#xFF0C;redis&#x9ED8;&#x8BA4;&#x7AEF;&#x53E3;6379&#x7EDF;&#x7EDF;&#x6CA1;&#x6709;&#x6539;&#xFF0C;&#x7EDF;&#x7EDF;&#x90FD;&#x662F;&#x8FD9;&#x4E9B;&#x7AEF;&#x53E3;&#xFF0C;&#x867D;&#x7136;mysql&#x548C;redis&#x7684;&#x5BC6;&#x7801;&#x4E0D;&#x662F;123456&#x6216;&#x8005;root&#x8FD9;&#x79CD;&#x57FA;&#x7840;&#x7EA7;&#x522B;&#x7684;&#xFF0C;&#x5DF2;&#x7ECF;&#x6539;&#x6210;&#x5F88;&#x590D;&#x6742;&#x7684;&#x90A3;&#x79CD;&#xFF0C;&#x4F46;&#x662F;&#x8FD8;&#x662F;&#x88AB;&#x4EBA;&#x5165;&#x4FB5;&#x4E86;&#xFF0C;&#x7F51;&#x7AD9;&#x88AB;&#x9ED1;&#x4E86;&#x3002;</p>
<p><img src="https://gitee.com/songjianzaina/juejin_p6/raw/master/img/c7c49e36ecef90334f1275ff3b7370af864008227e3f6f6e5577644cd6dd3e94" alt="&#x5728;&#x8FD9;&#x91CC;&#x63D2;&#x5165;&#x56FE;&#x7247;&#x63CF;&#x8FF0;"></p>
<p>&#x6570;&#x636E;&#x5E93;&#x7684;&#x6570;&#x636E;&#x88AB;&#x5220;&#x9664;&#xFF0C;redis&#x88AB;&#x5B95;&#x673A;&#xFF0C;&#x5BC6;&#x7801;&#x4ED6;&#x4EEC;&#x5F88;&#x96BE;&#x7834;&#x89E3;&#x7684;&#xFF0C;&#x6211;&#x60F3;&#x4ED6;&#x4EEC;&#x7ED5;&#x8FC7;&#x5BC6;&#x7801;&#x4E86;&#xFF0C;&#x77E5;&#x9053;&#x4E86;&#x7AEF;&#x53E3;&#xFF0C;&#x7F51;&#x7AD9;&#x7684;ip&#x4E5F;&#x5F88;&#x5BB9;&#x6613;&#x62FF;&#x5230;&#xFF0C;ping&#x57DF;&#x540D;&#x5C31;&#x80FD;&#x62FF;&#x5230;ip&#xFF0C;&#x6709;&#x53EF;&#x80FD;&#x91C7;&#x7528;&#x4E86;CC&#x7684;&#x8089;&#x9E21;&#xFF0C;&#x6216;&#x8005;DDOS&#xFF0C;&#x5BF9;&#x8FD9;&#x4E9B;&#x65B9;&#x9762;&#x4E0D;&#x592A;&#x4E86;&#x89E3;&#xFF0C;&#x4F46;&#x662F;&#x8FDB;&#x5165;&#x670D;&#x52A1;&#x5668;&#x540E;&#x53F0;&#x76D1;&#x63A7;&#x67E5;&#x770B;&#xFF0C;CPU&#x5168;&#x90E8;&#x7206;&#x6EE1;&#xFF0C;Redis&#x88AB;&#x5B95;&#x673A;&#x4E5F;&#x5C31;&#x4E0D;&#x5947;&#x602A;&#x4E86;&#x3002;</p>
<p>&#x867D;&#x7136;&#x6211;&#x5907;&#x4EFD;&#x4E86;&#x6570;&#x636E;&#xFF0C;&#x4F46;&#x662F;&#x8FD8;&#x662F;&#x86EE;&#x751F;&#x6C14;&#x7684;&#xFF0C;&#x4E5F;&#x65E0;&#x6CD5;&#x6293;&#x5230;&#x771F;&#x51F6;&#xFF0C;&#x53EA;&#x80FD;&#x52A0;&#x5F3A;&#x5B89;&#x5168;&#x9632;&#x62A4;&#x3002;&#x4E3A;&#x4E86;&#x5B89;&#x5168;&#x8D77;&#x89C1;&#xFF0C;mysql&#x548C;redis&#x90FD;&#x91CD;&#x88C5;&#xFF0C;&#x5E76;&#x4FEE;&#x6539;mysql&#x548C;redis&#x7684;&#x7AEF;&#x53E3;&#x7B49;&#x7B49;&#xFF0C;&#x5E76;&#x8FDB;&#x884C;&#x5B9A;&#x65F6;&#x5907;&#x4EFD;&#x3002;&#x4E4B;&#x524D;&#x5199;&#x8FC7;&#x5B9A;&#x65F6;&#x5907;&#x4EFD;mysql&#x7684;&#x6587;&#x7AE0;<a href="/external_links/90731b2763b38041d8245c09254d832d.html" target="blank" rel="noopener">Linux&#x5B9A;&#x65F6;&#x5907;&#x4EFD;MYSQL&#x6570;&#x636E;</a></p>
<h4 id="&#x4E8C;&#x3001;&#x5F00;&#x542F;&#x9632;&#x706B;&#x5899;"><a href="#&#x4E8C;&#x3001;&#x5F00;&#x542F;&#x9632;&#x706B;&#x5899;" class="headerlink" title="&#x4E8C;&#x3001;&#x5F00;&#x542F;&#x9632;&#x706B;&#x5899;"></a>&#x4E8C;&#x3001;&#x5F00;&#x542F;&#x9632;&#x706B;&#x5899;</h4><p>&#x9632;&#x706B;&#x5899;&#x8FD8;&#x662F;&#x8981;&#x5F00;&#x542F;&#x7684;&#xFF0C;&#x5B89;&#x88C5;&#x8F6F;&#x4EF6;&#x7684;&#x65F6;&#x5019;&#x4E3A;&#x4E86;&#x65B9;&#x4FBF;&#x4F1A;&#x628A;&#x9632;&#x706B;&#x5899;&#x7ED9;&#x5173;&#x4E86;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">shell&#x590D;&#x5236;&#x4EE3;&#x7801;systemctl start firewalld</span><br></pre></td></tr></table></figure>

<h4 id="&#x4E09;&#x3001;&#x6DFB;&#x52A0;&#x5165;&#x7AD9;&#x89C4;&#x5219;"><a href="#&#x4E09;&#x3001;&#x6DFB;&#x52A0;&#x5165;&#x7AD9;&#x89C4;&#x5219;" class="headerlink" title="&#x4E09;&#x3001;&#x6DFB;&#x52A0;&#x5165;&#x7AD9;&#x89C4;&#x5219;"></a>&#x4E09;&#x3001;&#x6DFB;&#x52A0;&#x5165;&#x7AD9;&#x89C4;&#x5219;</h4><p>&#x5728;&#x4E91;&#x670D;&#x52A1;&#x5668;&#x7684;&#x7BA1;&#x7406;&#x754C;&#x9762;&#xFF0C;&#x70B9;&#x51FB;&#x5B89;&#x5168;&#x7EC4;&#xFF0C;&#x9009;&#x4E2D;&#x5165;&#x7AD9;&#x89C4;&#x5219;&#xFF0C;&#x8FD9;&#x91CC;&#x586B;&#x5165;&#x8981;&#x8BBF;&#x95EE;&#x7684;&#x7AEF;&#x53E3;&#x53F7;&#xFF0C;&#x5F00;&#x901A;&#x5BF9;&#x5E94;&#x7684;&#x7AEF;&#x53E3;&#x53F7;&#xFF0C;&#x4E0D;&#x8981;&#x628A;&#x6240;&#x6709;&#x7AEF;&#x53E3;&#x53F7;&#x90FD;&#x5F00;&#x901A;&#xFF0C;&#x4E0D;&#x7136;&#x80AF;&#x5B9A;&#x4F1A;&#x906D;&#x5230;&#x4E00;&#x5806;CG&#x6216;DOS&#x653B;&#x51FB;<br><img src="https://gitee.com/songjianzaina/juejin_p6/raw/master/img/f4d05b9debb8b69900d854988ca285bd5e4e311d305d0285f2e433d30eb78dab" alt="&#x5728;&#x8FD9;&#x91CC;&#x63D2;&#x5165;&#x56FE;&#x7247;&#x63CF;&#x8FF0;"></p>
<p>&#x5F00;&#x542F;&#x7684;&#x7AEF;&#x53E3;&#x53EA;&#x8981;&#x6570;&#x636E;&#x5E93;&#xFF0C;redis&#xFF0C;&#x670D;&#x52A1;&#x7B49;&#x7AEF;&#x53E3;&#x5C31;&#x884C;&#xFF0C;&#x5176;&#x4ED6;&#x7AEF;&#x53E3;&#x6309;&#x9700;&#x6765;&#x5F00;&#xFF0C;&#x6CA1;&#x5FC5;&#x8981;&#x7684;&#x7AEF;&#x53E3;&#x4E0D;&#x8981;&#x5F00;&#x3002;</p>
<p><strong>&#x672C;&#x6587;&#x8F6C;&#x8F7D;&#x81EA;:</strong> <a href="/external_links/c8fa041302345d20f250f8afb6b9ba92.html" target="blank" rel="noopener">&#x6398;&#x91D1;</a></p>
<p><em><a href="https://dev.newban.cn/">&#x5F00;&#x53D1;&#x8005;&#x535A;&#x5BA2; &#x2013; &#x548C;&#x5F00;&#x53D1;&#x76F8;&#x5173;&#x7684; &#x8FD9;&#x91CC;&#x5168;&#x90FD;&#x6709;</a></em></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://dev.newban.cn../../7023369492159791118.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="开发者博客">
      <meta itemprop="description" content>
      <meta itemprop="image" content="../../images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="开发者博客 – IT技术 尽在开发者博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="../../7023369492159791118.html" itemprop="url">电商库存系统的防超卖和高并发扣减方案</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2021-10-26T21:42:07+08:00">
                2021-10-26
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <blockquote>
<p>&#x6458;&#x8981;&#xFF1A;&#x5982;&#x679C;&#x4F60;&#x8981;&#x5F00;&#x53D1;&#x4E00;&#x4E2A;&#x7535;&#x5546;&#x5E93;&#x5B58;&#x7CFB;&#x7EDF;&#xFF0C;&#x6700;&#x62C5;&#x5FC3;&#x7684;&#x662F;&#x4EC0;&#x4E48;&#xFF1F;&#x95ED;&#x4E0A;&#x773C;&#x775B;&#x60F3;&#x4E0B;&#xFF0C;&#x5F53;&#x7136;&#x662F;&#x9AD8;&#x5E76;&#x53D1;&#x548C;&#x9632;&#x8D85;&#x5356;&#x4E86;&#xFF01;&#x672C;&#x6587;&#x7ED9;&#x51FA;&#x4E00;&#x4E2A;&#x7EDF;&#x7B79;&#x8003;&#x8651;&#x5982;&#x4F55;&#x9AD8;&#x5E76;&#x53D1;&#x548C;&#x9632;&#x8D85;&#x5356;&#x6570;&#x636E;&#x51C6;&#x786E;&#x6027;&#x7684;&#x65B9;&#x6848;&#x3002;&#x8BFB;&#x8005;&#x53EF;&#x4EE5;&#x76F4;&#x63A5;&#x501F;&#x9274;&#x672C;&#x8BBE;&#x8BA1;&#xFF0C;&#x6216;&#x5728;&#x6B64;&#x57FA;&#x7840;&#x4E0A;&#x505A;&#x51FA;&#x66F4;&#x5207;&#x5408;&#x4F7F;&#x7528;&#x573A;&#x666F;&#x7684;&#x8BBE;&#x8BA1;&#x3002;</p>
</blockquote>
<p>&#x4E0B;&#x9762;&#x7528;&#x7535;&#x5546;&#x5E93;&#x5B58;&#x4E3A;&#x793A;&#x4F8B;&#xFF0C;&#x6765;&#x8BF4;&#x660E;&#x5982;&#x4F55;&#x9AD8;&#x5E76;&#x53D1;&#x6263;&#x51CF;&#x5E93;&#x5B58;&#xFF0C;&#x539F;&#x7406;&#x540C;&#x6837;&#x9002;&#x7528;&#x4E8E;&#x5176;&#x4ED6;&#x9700;&#x8981;&#x5E76;&#x53D1;&#x5199;&#x548C;&#x6570;&#x636E;&#x4E00;&#x81F4;&#x6027;&#x7684;&#x573A;&#x666F;&#x3002;</p>
<h3 id="&#x5E93;&#x5B58;&#x6570;&#x91CF;&#x6A21;&#x578B;&#x793A;&#x4F8B;"><a href="#&#x5E93;&#x5B58;&#x6570;&#x91CF;&#x6A21;&#x578B;&#x793A;&#x4F8B;" class="headerlink" title="&#x5E93;&#x5B58;&#x6570;&#x91CF;&#x6A21;&#x578B;&#x793A;&#x4F8B;"></a>&#x5E93;&#x5B58;&#x6570;&#x91CF;&#x6A21;&#x578B;&#x793A;&#x4F8B;</h3><p>&#x4E3A;&#x4E86;&#x63CF;&#x8FF0;&#x65B9;&#x4FBF;&#xFF0C;&#x6211;&#x4EEC;&#x4F7F;&#x7528;&#x7B80;&#x5316;&#x7684;&#x5E93;&#x5B58;&#x6570;&#x91CF;&#x6A21;&#x578B;&#xFF0C;&#x771F;&#x5B9E;&#x573A;&#x666F;&#x4E2D;&#x5E93;&#x5B58;&#x6570;&#x636E;&#x9879;&#x4F1A;&#x6BD4;&#x6211;&#x7684;&#x793A;&#x4F8B;&#x591A;&#x5F88;&#x591A;&#xFF0C;&#x4F46;&#x5DF2;&#x7ECF;&#x591F;&#x8BF4;&#x660E;&#x539F;&#x7406;&#x3002;&#x5982;&#x4E0B;&#x8868;&#xFF0C;&#x5E93;&#x5B58;&#x6570;&#x91CF;&#x8868;(stockNum)&#x5305;&#x542B;&#x5546;&#x54C1;&#x6807;&#x8BC6;&#x548C;&#x5E93;&#x5B58;&#x6570;&#x91CF;&#x4E24;&#x4E2A;&#x5B57;&#x6BB5;&#xFF0C;&#x5E93;&#x5B58;&#x6570;&#x91CF;&#x4EE3;&#x8868;&#x6709;&#x591A;&#x5C11;&#x8D27;&#x53EF;&#x4EE5;&#x5356;&#x3002;</p>
<table>
<thead>
<tr>
<th>&#x5B57;&#x6BB5;&#x540D;</th>
<th>&#x82F1;&#x6587;&#x540D;</th>
<th>&#x5B57;&#x6BB5;&#x7C7B;&#x578B;</th>
</tr>
</thead>
<tbody><tr>
<td>&#x5546;&#x54C1;&#x6807;&#x8BC6;</td>
<td>skuId</td>
<td>&#x957F;&#x6574;&#x578B;</td>
</tr>
<tr>
<td>&#x5E93;&#x5B58;&#x6570;&#x91CF;</td>
<td>num</td>
<td>&#x6574;&#x6570;</td>
</tr>
</tbody></table>
<h3 id="&#x4F20;&#x7EDF;&#x901A;&#x8FC7;&#x6570;&#x636E;&#x5E93;&#x4FDD;&#x8BC1;&#x4E0D;&#x8D85;&#x5356;"><a href="#&#x4F20;&#x7EDF;&#x901A;&#x8FC7;&#x6570;&#x636E;&#x5E93;&#x4FDD;&#x8BC1;&#x4E0D;&#x8D85;&#x5356;" class="headerlink" title="&#x4F20;&#x7EDF;&#x901A;&#x8FC7;&#x6570;&#x636E;&#x5E93;&#x4FDD;&#x8BC1;&#x4E0D;&#x8D85;&#x5356;"></a>&#x4F20;&#x7EDF;&#x901A;&#x8FC7;&#x6570;&#x636E;&#x5E93;&#x4FDD;&#x8BC1;&#x4E0D;&#x8D85;&#x5356;</h3><p>&#x5E93;&#x5B58;&#x7BA1;&#x7406;&#x7684;&#x4F20;&#x7EDF;&#x65B9;&#x6848;&#x4E3A;&#x4E86;&#x4FDD;&#x8BC1;&#x4E0D;&#x8D85;&#x5356;&#xFF0C;&#x90FD;&#x662F;&#x4F7F;&#x7528;&#x6570;&#x636E;&#x5E93;&#x7684;&#x4E8B;&#x52A1;&#x6765;&#x4FDD;&#x8BC1;&#x7684;&#xFF1A;&#x901A;&#x8FC7;Sql&#x5224;&#x65AD;&#x5269;&#x4F59;&#x7684;&#x5E93;&#x5B58;&#x6570;&#x591F;&#x7528;&#xFF0C;&#x591A;&#x4E2A;&#x5E76;&#x53D1;&#x6267;&#x884C;update&#x8BED;&#x53E5;&#x53EA;&#x6709;&#x4E00;&#x4E2A;&#x80FD;&#x6267;&#x884C;&#x6210;&#x529F;&#xFF1B;&#x4E3A;&#x4E86;&#x4FDD;&#x8BC1;&#x6263;&#x51CF;&#x4E0D;&#x91CD;&#x590D;&#xFF0C;&#x4F1A;&#x914D;&#x5408;&#x4E00;&#x4E2A;&#x9632;&#x91CD;&#x8868;&#x6765;&#x9632;&#x6B62;&#x91CD;&#x590D;&#x7684;&#x63D0;&#x4EA4;&#xFF0C;&#x505A;&#x5230;&#x5E42;&#x7B49;&#x6027;&#xFF0C;&#x9632;&#x91CD;&#x8868;&#x793A;&#x4F8B;&#xFF08;antiRe&#xFF09;&#x8BBE;&#x8BA1;&#x5982;&#x4E0B;&#xFF1A;</p>
<table>
<thead>
<tr>
<th>&#x5B57;&#x6BB5;&#x540D;</th>
<th>&#x82F1;&#x6587;&#x540D;</th>
<th>&#x5B57;&#x6BB5;&#x7C7B;&#x578B;</th>
</tr>
</thead>
<tbody><tr>
<td>&#x6807;&#x8BC6;</td>
<td>id</td>
<td>&#x957F;&#x6574;&#x578B;</td>
</tr>
<tr>
<td>&#x9632;&#x91CD;&#x7801;</td>
<td>code</td>
<td>&#x5B57;&#x7B26;&#x4E32;&#xFF08;&#x552F;&#x4E00;&#x7D22;&#x5F15;&#xFF09;</td>
</tr>
</tbody></table>
<p>&#x6BD4;&#x5982;&#x4E00;&#x4E2A;&#x4E0B;&#x5355;&#x8FC7;&#x7A0B;&#x7684;&#x6263;&#x51CF;&#x8FC7;&#x7A0B;&#x793A;&#x4F8B;&#x5982;&#x4E0B;&#xFF1A;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">sql&#x590D;&#x5236;&#x4EE3;&#x7801;&#x4E8B;&#x52A1;&#x5F00;&#x59CB;</span><br><span class="line">Insert into antiRe(code) value (&#x2018;&#x8BA2;&#x5355;&#x53F7;+Sku&#x2019;)</span><br><span class="line">Update stockNum set num=num-&#x4E0B;&#x5355;&#x6570;&#x91CF; where skuId=&#x5546;&#x54C1;ID and num-&#x4E0B;&#x5355;&#x6570;&#x91CF;&gt;0</span><br><span class="line">&#x4E8B;&#x52A1;&#x7ED3;&#x675F;</span><br></pre></td></tr></table></figure>

<p>&#x9762;&#x4E34;&#x7CFB;&#x7EDF;&#x6D41;&#x91CF;&#x8D8A;&#x6765;&#x8D8A;&#x5927;&#xFF0C;&#x6570;&#x636E;&#x5E93;&#x7684;&#x6027;&#x80FD;&#x74F6;&#x9888;&#x5C31;&#x4F1A;&#x66B4;&#x9732;&#x51FA;&#x6765;&#xFF1A;&#x5C31;&#x7B97;&#x5206;&#x5E93;&#x5206;&#x8868;&#x4E5F;&#x662F;&#x6CA1;&#x7528;&#x7684;&#xFF0C;&#x4FC3;&#x9500;&#x7684;&#x65F6;&#x5019;&#x9AD8;&#x5E76;&#x53D1;&#x90FD;&#x662F;&#x9488;&#x5BF9;&#x5C11;&#x91CF;&#x5546;&#x54C1;&#x7684;&#xFF0C;&#x6700;&#x7EC8;&#x5E76;&#x53D1;&#x6D41;&#x91CF;&#x4F1A;&#x6253;&#x5411;&#x5C11;&#x6570;&#x8868;&#xFF0C;&#x53EA;&#x80FD;&#x53BB;&#x63D0;&#x5347;&#x5355;&#x5206;&#x7247;&#x7684;&#x6297;&#x91CF;&#x80FD;&#x529B;&#x3002;&#x6211;&#x4EEC;&#x63A5;&#x4E0B;&#x6765;&#x8BBE;&#x8BA1;&#x4E00;&#x79CD;&#x4F7F;&#x7528;Redis&#x7F13;&#x5B58;&#x505A;&#x5E93;&#x5B58;&#x6263;&#x51CF;&#x7684;&#x65B9;&#x6848;&#x3002;</p>
<h3 id="&#x7EFC;&#x5408;&#x4F7F;&#x7528;&#x6570;&#x636E;&#x5E93;&#x548C;Redis&#x6EE1;&#x8DB3;&#x9AD8;&#x5E76;&#x53D1;&#x6263;&#x51CF;&#x7684;&#x539F;&#x7406;"><a href="#&#x7EFC;&#x5408;&#x4F7F;&#x7528;&#x6570;&#x636E;&#x5E93;&#x548C;Redis&#x6EE1;&#x8DB3;&#x9AD8;&#x5E76;&#x53D1;&#x6263;&#x51CF;&#x7684;&#x539F;&#x7406;" class="headerlink" title="&#x7EFC;&#x5408;&#x4F7F;&#x7528;&#x6570;&#x636E;&#x5E93;&#x548C;Redis&#x6EE1;&#x8DB3;&#x9AD8;&#x5E76;&#x53D1;&#x6263;&#x51CF;&#x7684;&#x539F;&#x7406;"></a>&#x7EFC;&#x5408;&#x4F7F;&#x7528;&#x6570;&#x636E;&#x5E93;&#x548C;Redis&#x6EE1;&#x8DB3;&#x9AD8;&#x5E76;&#x53D1;&#x6263;&#x51CF;&#x7684;&#x539F;&#x7406;</h3><p>&#x6263;&#x51CF;&#x5E93;&#x5B58;&#x5176;&#x5B9E;&#x5305;&#x542B;&#x4E24;&#x4E2A;&#x8FC7;&#x7A0B;&#xFF1A;&#x7B2C;&#x4E00;&#x6B65;&#x662F;&#x8D85;&#x5356;&#x6821;&#x9A8C;&#xFF0C;&#x7B2C;&#x4E8C;&#x6B65;&#x662F;&#x6263;&#x51CF;&#x6570;&#x636E;&#x7684;&#x6301;&#x4E45;&#x5316;&#xFF1B;&#x5728;&#x4F20;&#x7EDF;&#x6570;&#x636E;&#x5E93;&#x6263;&#x51CF;&#x4E2D;&#xFF0C;&#x4E24;&#x6B65;&#x662F;&#x4E00;&#x8D77;&#x5B8C;&#x6210;&#x7684;&#x3002;<strong>&#x6297;&#x5199;&#x7684;&#x5B9E;&#x73B0;&#x539F;&#x7406;&#x5176;&#x5B9E;&#x662F;&#x5DE7;&#x5999;&#x7684;&#x5229;&#x7528;&#x4E86;&#x5206;&#x79BB;&#x7684;&#x601D;&#x60F3;</strong>&#xFF0C;&#x5206;&#x79BB;&#x5F00;&#x9632;&#x8D85;&#x5356;&#x548C;&#x6570;&#x636E;&#x6301;&#x4E45;&#x5316;&#xFF1B;&#x9996;&#x5148;&#x9632;&#x8D85;&#x5356;&#x662F;&#x7531;Redis&#x6765;&#x5B8C;&#x6210;&#x7684;&#xFF1B;&#x901A;&#x8FC7;Redis&#x9632;&#x8D85;&#x5356;&#x540E;&#xFF0C;&#x53EA;&#x8981;&#x843D;&#x5E93;&#x5C31;&#x53EF;&#x4EE5;&#xFF1B;&#x843D;&#x5E93;&#x901A;&#x8FC7;&#x4EFB;&#x52A1;&#x5F15;&#x64CE;&#xFF0C;&#x4E1A;&#x52A1;&#x6570;&#x636E;&#x5E93;&#x4F7F;&#x7528;&#x5546;&#x54C1;&#x5206;&#x5E93;&#x5206;&#x8868;&#xFF0C;&#x4EFB;&#x52A1;&#x5F15;&#x64CE;&#x4EFB;&#x52A1;&#x901A;&#x8FC7;&#x5355;&#x636E;&#x53F7;&#x5206;&#x5E93;&#x5206;&#x8868;&#xFF0C;&#x70ED;&#x70B9;&#x5546;&#x54C1;&#x7684;&#x843D;&#x5E93;&#x4F1A;&#x88AB;&#x72B6;&#x6001;&#x673A;&#x5206;&#x6563;&#x5F00;&#xFF0C;&#x6D88;&#x9664;&#x70ED;&#x70B9;&#x3002;</p>
<p><strong>&#x6574;&#x4F53;&#x67B6;&#x6784;&#x5982;&#x4E0B;&#xFF1A;</strong></p>
<p><img src="https://gitee.com/songjianzaina/juejin_p6/raw/master/img/f4c343f720a72d9005f7cbd8802fe1c9c2e574bd7d1439bb887318fa5fb835c5" alt="&#x5E93;&#x5B58;&#x6297;&#x5199;.png"></p>
<p>&#x7B2C;&#x4E00;&#x5173;&#x89E3;&#x51B3;&#x8D85;&#x5356;&#x68C0;&#x9A8C;&#xFF1A;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x628A;&#x6570;&#x636E;&#x653E;&#x5165;Redis&#x4E2D;&#xFF0C;&#x6BCF;&#x6B21;&#x6263;&#x51CF;&#x5E93;&#x5B58;&#xFF0C;&#x90FD;&#x5BF9;Redis&#x4E2D;&#x7684;&#x6570;&#x636E;&#x8FDB;&#x884C;incryby &#x6263;&#x51CF;&#xFF0C;&#x5982;&#x679C;&#x8FD4;&#x56DE;&#x7684;&#x6570;&#x91CF;&#x5927;&#x4E8E;0&#xFF0C;&#x8BF4;&#x660E;&#x5E93;&#x5B58;&#x591F;&#xFF0C;&#x56E0;&#x4E3A;Redis&#x662F;&#x5355;&#x7EBF;&#x7A0B;&#xFF0C;&#x53EF;&#x4EE5;&#x4FE1;&#x4EFB;&#x8FD4;&#x56DE;&#x7ED3;&#x679C;&#x3002;&#x7B2C;&#x4E00;&#x5173;&#x662F;Redis&#xFF0C;&#x53EF;&#x4EE5;&#x6297;&#x9AD8;&#x5E76;&#x53D1;&#xFF0C;&#x6027;&#x80FD;Ok&#x3002;&#x8D85;&#x5356;&#x6821;&#x9A8C;&#x901A;&#x8FC7;&#x540E;&#xFF0C;&#x8FDB;&#x5165;&#x7B2C;&#x4E8C;&#x5173;&#x3002;</p>
<p>&#x7B2C;&#x4E8C;&#x5173;&#x89E3;&#x51B3;&#x5E93;&#x5B58;&#x6263;&#x51CF;&#xFF1A;&#x7ECF;&#x8FC7;&#x7B2C;&#x4E00;&#x5173;&#x540E;&#xFF0C;&#x7B2C;&#x4E8C;&#x5173;&#x4E0D;&#x9700;&#x8981;&#x518D;&#x5224;&#x65AD;&#x6570;&#x91CF;&#x662F;&#x5426;&#x8DB3;&#x591F;&#xFF0C;&#x53EA;&#x9700;&#x8981;&#x50BB;&#x74DC;&#x6263;&#x51CF;&#x5E93;&#x5B58;&#x5C31;&#x884C;&#xFF0C;&#x5BF9;&#x6570;&#x636E;&#x5E93;&#x6267;&#x884C;&#x5982;&#x4E0B;&#x8BED;&#x53E5;,&#x5F53;&#x7136;&#x8FD8;&#x662F;&#x9700;&#x8981;&#x5904;&#x7406;&#x9632;&#x91CD;&#x5E42;&#x7B49;&#x7684;&#xFF0C;&#x4E0D;&#x9700;&#x8981;&#x5224;&#x65AD;&#x6570;&#x91CF;&#x662F;&#x5426;&#x5927;&#x4E8E;0&#x4E86;&#xFF0C;&#x6263;&#x51CF;SQL&#x53EA;&#x8981;&#x5982;&#x4E0B;&#x5199;&#x5C31;&#x53EF;&#x4EE5;&#x3002;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">sql&#x590D;&#x5236;&#x4EE3;&#x7801;&#x4E8B;&#x52A1;&#x5F00;&#x59CB;</span><br><span class="line">Insert into antiRe(code) value (&#x2018;&#x8BA2;&#x5355;&#x53F7;+Sku&#x2019;)</span><br><span class="line">Update stockNum set num=num-&#x4E0B;&#x5355;&#x6570;&#x91CF; where skuId=&#x5546;&#x54C1;ID</span><br><span class="line">&#x4E8B;&#x52A1;&#x7ED3;&#x675F;</span><br></pre></td></tr></table></figure>

<p><strong>&#x8981;&#x70B9;</strong>&#xFF1A;&#x6700;&#x7EC8;&#x8FD8;&#x662F;&#x8981;&#x4F7F;&#x7528;&#x6570;&#x636E;&#x5E93;&#xFF0C;&#x70ED;&#x70B9;&#x600E;&#x4E48;&#x89E3;&#x51B3;&#x7684;&#x5462;&#xFF1F;&#x4EFB;&#x52A1;&#x5E93;&#x4F7F;&#x7528;&#x8BA2;&#x5355;&#x53F7;&#x8FDB;&#x884C;&#x5206;&#x5E93;&#x5206;&#x8868;&#xFF0C;&#x8FD9;&#x6837;&#x9488;&#x5BF9;&#x540C;&#x4E00;&#x4E2A;&#x5546;&#x54C1;&#x7684;&#x4E0D;&#x540C;&#x8BA2;&#x5355;&#x4F1A;&#x6563;&#x5217;&#x5728;&#x4EFB;&#x52A1;&#x5E93;&#x7684;&#x4E0D;&#x540C;&#x5E93;&#x5B58;&#xFF0C;&#x867D;&#x7136;&#x8FD8;&#x662F;&#x6570;&#x636E;&#x5E93;&#x6297;&#x91CF;&#xFF0C;&#x4F46;&#x5DF2;&#x7ECF;&#x6D88;&#x9664;&#x4E86;&#x6570;&#x636E;&#x5E93;&#x70ED;&#x70B9;&#x3002;</p>
<p>&#x6574;&#x4F53;&#x4EA4;&#x4E92;&#x5E8F;&#x5217;&#x56FE;&#x5982;&#x4E0B;&#xFF1A;</p>
<p><img src="https://gitee.com/songjianzaina/juejin_p6/raw/master/img/7e518398d458b06ad556bf46a1e4e3e339916e6c01c3f4f42605554a9978bb47" alt="&#x5E93;&#x5B58;&#x6263;&#x51CF;&#x5E8F;&#x5217;.png"></p>
<h3 id="&#x70ED;&#x70B9;&#x9632;&#x5237;"><a href="#&#x70ED;&#x70B9;&#x9632;&#x5237;" class="headerlink" title="&#x70ED;&#x70B9;&#x9632;&#x5237;"></a>&#x70ED;&#x70B9;&#x9632;&#x5237;</h3><p>&#x4F46;Redis&#x4E5F;&#x662F;&#x6709;&#x74F6;&#x9888;&#x7684;&#xFF0C;&#x5982;&#x679C;&#x51FA;&#x73B0;&#x8FC7;&#x70ED;SKU&#x5C31;&#x4F1A;&#x6253;&#x5411;Redis&#x5355;&#x7247;&#xFF0C;&#x4F1A;&#x9020;&#x6210;&#x5355;&#x7247;&#x6027;&#x80FD;&#x6296;&#x52A8;&#x3002;&#x5E93;&#x5B58;&#x9632;&#x5237;&#x6709;&#x4E2A;&#x524D;&#x63D0;&#x662F;&#x4E0D;&#x80FD;&#x5361;&#x5355;&#x7684;&#x3002;&#x53EF;&#x4EE5;&#x5B9A;&#x5236;&#x8BBE;&#x8BA1;JVM&#x5185;&#x6BEB;&#x79D2;&#x7EA7;&#x65F6;&#x95F4;&#x7A97;&#x7684;&#x9650;&#x6D41;&#xFF0C;&#x9650;&#x6D41;&#x7684;&#x76EE;&#x7684;&#x662F;&#x4FDD;&#x62A4;Redis,&#x5C3D;&#x53EF;&#x80FD;&#x7684;&#x4E0D;&#x9650;&#x6D41;&#x3002;&#x9650;&#x6D41;&#x7684;&#x6781;&#x7AEF;&#x60C5;&#x51B5;&#x5C31;&#x662F;&#x5546;&#x54C1;&#x672C;&#x6765;&#x5E94;&#x8BE5;&#x5728;&#x4E00;&#x79D2;&#x5185;&#x5356;&#x5B8C;&#xFF0C;&#x4F46;&#x5B9E;&#x9645;&#x82B1;&#x4E86;&#x4E24;&#x79D2;&#xFF0C;&#x6B63;&#x5E38;&#x5E76;&#x4E0D;&#x4F1A;&#x53D1;&#x751F;&#x5EF6;&#x8FDF;&#x9500;&#x552E;&#xFF0C;&#x4E4B;&#x6240;&#x4EE5;&#x9009;&#x62E9;JVM&#x662F;&#x56E0;&#x4E3A;&#x5982;&#x679C;&#x91C7;&#x7528;&#x8FDC;&#x7AEF;&#x96C6;&#x4E2D;&#x7F13;&#x5B58;&#x9650;&#x6D41;&#xFF0C;&#x8FD8;&#x672A;&#x6765;&#x5F97;&#x53CA;&#x6536;&#x96C6;&#x6570;&#x636E;&#x5C31;&#x5DF2;&#x7ECF;&#x628A;Redis&#x6253;&#x6B7B;&#x3002;</p>
<p><strong>&#x5B9E;&#x73B0;&#x65B9;&#x6848;</strong>&#x53EF;&#x4EE5;&#x901A;&#x8FC7;guava&#x4E4B;&#x7C7B;&#x7684;&#x6846;&#x67B6;&#xFF0C;&#x6BCF;10ms&#x4E00;&#x4E2A;&#x65F6;&#x95F4;&#x7A97;&#xFF0C;&#x6BCF;&#x4E2A;&#x65F6;&#x95F4;&#x7A97;&#x8FDB;&#x884C;&#x8BA1;&#x6570;&#xFF0C;&#x5355;&#x53F0;&#x670D;&#x52A1;&#x5668;&#x8D85;&#x8FC7;&#x8BA1;&#x6570;&#x8FDB;&#x884C;&#x9650;&#x6D41;&#x3002;&#x6BD4;&#x5982;10ms&#x8D85;&#x8FC7;2&#x4E2A;&#x5C31;&#x9650;&#x6D41;&#xFF0C;&#x90A3;&#x4E48;&#x4E00;&#x79D2;&#x4E00;&#x53F0;&#x670D;&#x52A1;&#x5668;&#x5C31;&#x662F;200&#x4E2A;&#xFF0C;50&#x53F0;&#x670D;&#x52A1;&#x5668;&#x4E00;&#x79D2;&#x5C31;&#x53EF;&#x4EE5;&#x5356;&#x51FA;1&#x4E07;&#x4E2A;&#x8D27;&#xFF0C;&#x81EA;&#x5DF1;&#x6839;&#x636E;&#x5B9E;&#x9645;&#x60C5;&#x51B5;&#x8C03;&#x6574;&#x9608;&#x503C;&#x5C31;&#x53EF;&#x4EE5;&#x3002;</p>
<p><img src="https://gitee.com/songjianzaina/juejin_p6/raw/master/img/001eda50f23e3bdd38270cfe30857effbec32ba750e22f2ffd10c769d32bb35d" alt="&#x5E93;&#x5B58;&#x70ED;&#x70B9;&#x9632;&#x5237;.png"></p>
<h3 id="Redis&#x6263;&#x51CF;&#x539F;&#x7406;"><a href="#Redis&#x6263;&#x51CF;&#x539F;&#x7406;" class="headerlink" title="Redis&#x6263;&#x51CF;&#x539F;&#x7406;"></a>Redis&#x6263;&#x51CF;&#x539F;&#x7406;</h3><p>Redis&#x7684;incrby &#x547D;&#x4EE4;&#x53EF;&#x4EE5;&#x7528;&#x505A;&#x5E93;&#x5B58;&#x6263;&#x51CF;&#xFF0C;&#x6263;&#x51CF;&#x9879;&#x53EF;&#x80FD;&#x591A;&#x4E2A;&#xFF0C;&#x6211;&#x4EEC;&#x4F7F;&#x7528;Hash&#x7ED3;&#x6784;&#x7684;hincrby&#x547D;&#x4EE4;&#xFF0C;&#x5148;&#x7528;Reids&#x539F;&#x751F;&#x547D;&#x4EE4;&#x6A21;&#x62DF;&#x6574;&#x4E2A;&#x8FC7;&#x7A0B;&#xFF0C;&#x4E3A;&#x4E86;&#x7B80;&#x5316;&#x6A21;&#x578B;&#x6211;&#x4EEC;&#x6F14;&#x793A;&#x4E00;&#x4E2A;&#x6570;&#x636E;&#x9879;&#x7684;&#x64CD;&#x4F5C;&#xFF0C;&#x591A;&#x4E2A;&#x6570;&#x636E;&#x9879;&#x539F;&#x7406;&#x5B8C;&#x5168;&#x7B49;&#x540C;&#x3002;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">ruby&#x590D;&#x5236;&#x4EE3;&#x7801;127.0.0.1:6379&gt; hset iphone inStock 1 #&#x8BBE;&#x7F6E;&#x82F9;&#x679C;&#x624B;&#x673A;&#x6709;&#x4E00;&#x4E2A;&#x53EF;&#x552E;&#x5E93;&#x5B58;</span><br><span class="line">(integer) 1</span><br><span class="line">127.0.0.1:6379&gt; hget iphone inStock   #&#x67E5;&#x770B;&#x82F9;&#x679C;&#x624B;&#x673A;&#x53EF;&#x552E;&#x5E93;&#x5B58;&#x4E3A;1</span><br><span class="line">&quot;1&quot;</span><br><span class="line">127.0.0.1:6379&gt; hincrby iphone inStock -1 #&#x5356;&#x51FA;&#x6263;&#x51CF;&#x4E00;&#x4E2A;&#xFF0C;&#x8FD4;&#x56DE;&#x5269;&#x4F59;0&#xFF0C;&#x4E0B;&#x5355;&#x6210;&#x529F;</span><br><span class="line">(integer) 0</span><br><span class="line">127.0.0.1:6379&gt; hget iphone inStock #&#x9A8C;&#x8BC1;&#x5269;&#x4F59;0</span><br><span class="line">&quot;0&quot;</span><br><span class="line">127.0.0.1:6379&gt; hincrby iphone inStock -1 #&#x5E94;&#x7528;&#x5E76;&#x53D1;&#x8D85;&#x5356;&#x4F46;Redis&#x5355;&#x7EBF;&#x7A0B;&#x8FD4;&#x56DE;&#x5269;&#x4F59;-1&#xFF0C;&#x4E0B;&#x5355;&#x5931;&#x8D25;</span><br><span class="line">(integer) -1</span><br><span class="line">127.0.0.1:6379&gt; hincrby iphone inStock 1 #&#x8BC6;&#x522B;-1&#xFF0C;&#x56DE;&#x6EDA;&#x5E93;&#x5B58;&#x52A0;&#x4E00;&#xFF0C;&#x5269;&#x4F59;0</span><br><span class="line">(integer) 0</span><br><span class="line">127.0.0.1:6379&gt; hget iphone inStock #&#x5E93;&#x5B58;&#x6062;&#x590D;&#x6B63;&#x5E38;</span><br><span class="line">&quot;0&quot;</span><br></pre></td></tr></table></figure>

<h3 id="&#x6263;&#x51CF;&#x7684;&#x5E42;&#x7B49;&#x6027;&#x4FDD;&#x8BC1;"><a href="#&#x6263;&#x51CF;&#x7684;&#x5E42;&#x7B49;&#x6027;&#x4FDD;&#x8BC1;" class="headerlink" title="&#x6263;&#x51CF;&#x7684;&#x5E42;&#x7B49;&#x6027;&#x4FDD;&#x8BC1;"></a>&#x6263;&#x51CF;&#x7684;&#x5E42;&#x7B49;&#x6027;&#x4FDD;&#x8BC1;</h3><p>&#x5982;&#x679C;&#x5E94;&#x7528;&#x8C03;&#x7528;Redis&#x6263;&#x51CF;&#x540E;&#xFF0C;&#x4E0D;&#x77E5;&#x9053;&#x662F;&#x5426;&#x6210;&#x529F;&#xFF0C;&#x53EF;&#x4EE5;&#x9488;&#x5BF9;&#x6279;&#x91CF;&#x6263;&#x51CF;&#x547D;&#x4EE4;&#x589E;&#x52A0;&#x4E00;&#x4E2A;&#x9632;&#x91CD;&#x7801;&#xFF0C;&#x5BF9;&#x9632;&#x91CD;&#x7801;&#x6267;&#x884C;setnx&#x547D;&#x4EE4;&#xFF0C;&#x5F53;&#x53D1;&#x751F;&#x5F02;&#x5E38;&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x53EF;&#x4EE5;&#x6839;&#x636E;&#x9632;&#x91CD;&#x7801;&#x662F;&#x5426;&#x5B58;&#x5728;&#x6765;&#x51B3;&#x5B9A;&#x662F;&#x5426;&#x6263;&#x51CF;&#x6210;&#x529F;&#xFF0C;&#x9488;&#x5BF9;&#x6279;&#x91CF;&#x547D;&#x540D;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;pipeline&#x63D0;&#x9AD8;&#x6210;&#x529F;&#x7387;&#x3002;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">php&#x590D;&#x5236;&#x4EE3;&#x7801;// &#x521D;&#x59CB;&#x5316;&#x5E93;&#x5B58;</span><br><span class="line">127.0.0.1:6379&gt; hset iphone inStock 1 #&#x8BBE;&#x7F6E;&#x82F9;&#x679C;&#x624B;&#x673A;&#x6709;&#x4E00;&#x4E2A;&#x53EF;&#x552E;&#x5E93;&#x5B58;</span><br><span class="line">(integer) 1</span><br><span class="line">127.0.0.1:6379&gt; hget iphone inStock   #&#x67E5;&#x770B;&#x82F9;&#x679C;&#x624B;&#x673A;&#x53EF;&#x552E;&#x5E93;&#x5B58;&#x4E3A;1</span><br><span class="line">&quot;1&quot;</span><br><span class="line"></span><br><span class="line">// &#x5E94;&#x7528;&#x7EBF;&#x7A0B;&#x4E00;&#x6263;&#x51CF;&#x5E93;&#x5B58;&#xFF0C;&#x8BA2;&#x5355;&#x53F7;a100&#xFF0C;jedis&#x5F00;&#x542F;pipeline</span><br><span class="line">127.0.0.1:6379&gt; set a100_iphone &quot;1&quot; NX EX 10 #&#x901A;&#x8FC7;&#x8BA2;&#x5355;&#x53F7;&#x548C;&#x5546;&#x54C1;&#x9632;&#x91CD;&#x7801;</span><br><span class="line">OK</span><br><span class="line">127.0.0.1:6379&gt; hincrby iphone inStock -1 #&#x5356;&#x51FA;&#x6263;&#x51CF;&#x4E00;&#x4E2A;&#xFF0C;&#x8FD4;&#x56DE;&#x5269;&#x4F59;0&#xFF0C;&#x4E0B;&#x5355;&#x6210;&#x529F;</span><br><span class="line">(integer) 0</span><br><span class="line">//&#x7ED3;&#x675F;pipeline&#xFF0C;&#x6267;&#x884C;&#x7ED3;&#x679C;OK&#x548C;0&#x4F1A;&#x4E00;&#x8D77;&#x8FD4;&#x56DE;</span><br></pre></td></tr></table></figure>

<p><strong>&#x9632;&#x6B62;&#x5E76;&#x53D1;&#x6263;&#x51CF;&#x540E;&#x6821;&#x9A8C;</strong>&#xFF1A;&#x4E3A;&#x4E86;&#x9632;&#x6B62;&#x5E76;&#x53D1;&#x6263;&#x51CF;&#xFF0C;&#x9700;&#x8981;&#x5BF9;Redis&#x7684;hincrby&#x547D;&#x4EE4;&#x8FD4;&#x56DE;&#x503C;&#x662F;&#x5426;&#x4E3A;&#x8D1F;&#x6570;&#xFF0C;&#x6765;&#x5224;&#x65AD;&#x662F;&#x5426;&#x53D1;&#x751F;&#x9AD8;&#x5E76;&#x53D1;&#x8D85;&#x5356;&#xFF0C;&#x5982;&#x679C;&#x6263;&#x51CF;&#x540E;&#x7684;&#x7ED3;&#x679C;&#x4E3A;&#x8D1F;&#x6570;&#xFF0C;&#x9700;&#x8981;&#x53CD;&#x5411;&#x6267;&#x884C;hincrby&#xFF0C;&#x628A;&#x6570;&#x636E;&#x8FDB;&#x884C;&#x52A0;&#x56DE;&#x3002;</p>
<p>&#x5982;&#x679C;&#x8C03;&#x7528;&#x4E2D;&#x53D1;&#x751F;&#x7F51;&#x7EDC;&#x6296;&#x52A8;&#xFF0C;&#x8C03;&#x7528;Redis&#x8D85;&#x65F6;&#xFF0C;&#x5E94;&#x7528;&#x4E0D;&#x77E5;&#x9053;&#x64CD;&#x4F5C;&#x7ED3;&#x679C;&#xFF0C;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;get&#x547D;&#x4EE4;&#x6765;&#x67E5;&#x770B;&#x9632;&#x91CD;&#x7801;&#x662F;&#x5426;&#x5B58;&#x5728;&#x6765;&#x5224;&#x65AD;&#x662F;&#x5426;&#x6263;&#x51CF;&#x6210;&#x529F;&#x3002;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">ruby&#x590D;&#x5236;&#x4EE3;&#x7801;127.0.0.1:6379&gt; get a100_iphone   #&#x6263;&#x51CF;&#x6210;&#x529F;</span><br><span class="line">&quot;1&quot;</span><br><span class="line">127.0.0.1:6379&gt; get a100_iphone   #&#x6263;&#x51CF;&#x5931;&#x8D25;</span><br><span class="line">(nil)</span><br></pre></td></tr></table></figure>

<h3 id="&#x5355;&#x5411;&#x4FDD;&#x8BC1;"><a href="#&#x5355;&#x5411;&#x4FDD;&#x8BC1;" class="headerlink" title="&#x5355;&#x5411;&#x4FDD;&#x8BC1;"></a>&#x5355;&#x5411;&#x4FDD;&#x8BC1;</h3><p>&#x5728;&#x5F88;&#x591A;&#x573A;&#x666F;&#x4E2D;&#xFF0C;&#x56E0;&#x4E3A;&#x6CA1;&#x6709;&#x4F7F;&#x7528;&#x4E8B;&#x52A1;&#xFF0C;&#x4F60;&#x5F88;&#x90A3;&#x505A;&#x5230;&#x4E0D;&#x8D85;&#x5356;&#xFF0C;&#x5E76;&#x4E14;&#x4E0D;&#x5C11;&#x5356;&#xFF0C;&#x6240;&#x4EE5;&#x5728;&#x6781;&#x7AEF;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;&#x6211;&#x7684;&#x6289;&#x62E9;&#x662F;&#x9009;&#x62E9;&#x4E0D;&#x8D85;&#x5356;&#xFF0C;&#x4F46;&#x6709;&#x53EF;&#x80FD;&#x5C11;&#x5356;&#x3002;&#x5F53;&#x7136;&#x8FD8;&#x662F;&#x5E94;&#x8BE5;&#x5C3D;&#x91CF;&#x4FDD;&#x8BC1;&#x6570;&#x636E;&#x51C6;&#x786E;&#xFF0C;&#x4E0D;&#x8D85;&#x5356;&#xFF0C;&#x4E5F;&#x4E0D;&#x5C11;&#x5356;&#xFF1B;&#x4E0D;&#x80FD;&#x5B8C;&#x5168;&#x4FDD;&#x8BC1;&#x7684;&#x524D;&#x63D0;&#x4E0B;&#xFF0C;&#x9009;&#x62E9;&#x4E0D;&#x8D85;&#x5356;&#x5355;&#x5411;&#x4FDD;&#x8BC1;&#xFF0C;&#x4E5F;&#x8981;&#x901A;&#x8FC7;&#x624B;&#x6BB5;&#x6765;&#x5C3D;&#x53EF;&#x80FD;&#x51CF;&#x5C11;&#x5C11;&#x5356;&#x7684;&#x6982;&#x7387;&#x3002;</p>
<p>&#x6BD4;&#x5982;&#x5982;&#x679C;&#x6263;&#x51CF;Redis&#x8FC7;&#x7A0B;&#x4E2D;&#xFF0C;&#x547D;&#x4EE4;&#x7F16;&#x6392;&#x662F;&#x5148;&#x8BBE;&#x7F6E;&#x9632;&#x91CD;&#x7801;&#xFF0C;&#x518D;&#x6267;&#x884C;&#x6263;&#x51CF;&#x547D;&#x4EE4;&#x5931;&#x8D25;&#xFF1B;&#x5982;&#x679C;&#x6267;&#x884C;&#x8FC7;&#x7A0B;&#x7F51;&#x7EDC;&#x6296;&#x52A8;&#x53EF;&#x80FD;&#x653E;&#x91CD;&#x7801;&#x6210;&#x529F;&#xFF0C;&#x800C;&#x6263;&#x51CF;&#x5931;&#x8D25;&#xFF0C;&#x91CD;&#x8BD5;&#x7684;&#x65F6;&#x5019;&#x5C31;&#x4F1A;&#x8BA4;&#x4E3A;&#x5DF2;&#x7ECF;&#x6210;&#x529F;&#xFF0C;&#x9020;&#x6210;&#x8D85;&#x5356;&#xFF0C;&#x6240;&#x4EE5;&#x4E0A;&#x9762;&#x7684;&#x547D;&#x4EE4;&#x987A;&#x5E8F;&#x662F;&#x9519;&#x8BEF;&#x7684;&#xFF0C;&#x6B63;&#x786E;&#x5199;&#x6CD5;&#x5E94;&#x8BE5;&#x662F;&#xFF1A;</p>
<p>&#x5982;&#x679C;&#x662F;&#x6263;&#x51CF;&#x5E93;&#x5B58;&#xFF0C;&#x987A;&#x5E8F;&#x4E3A;&#xFF1A;1.&#x6263;&#x51CF;&#x5E93;&#x5B58; 2.&#x5199;&#x5165;&#x653E;&#x91CD;&#x7801;&#x3002;</p>
<p>&#x5982;&#x679C;&#x662F;&#x56DE;&#x6EDA;&#x5E93;&#x5B58;&#xFF0C;&#x987A;&#x5E8F;&#x4E3A; 1.&#x5199;&#x5165;&#x653E;&#x91CD;&#x7801; 2.&#x6263;&#x51CF;&#x5E93;&#x5B58;&#x3002;</p>
<h3 id="&#x4E3A;&#x4EC0;&#x4E48;&#x4F7F;&#x7528;PiPeline"><a href="#&#x4E3A;&#x4EC0;&#x4E48;&#x4F7F;&#x7528;PiPeline" class="headerlink" title="&#x4E3A;&#x4EC0;&#x4E48;&#x4F7F;&#x7528;PiPeline"></a>&#x4E3A;&#x4EC0;&#x4E48;&#x4F7F;&#x7528;PiPeline</h3><p>&#x5728;&#x4E0A;&#x9762;&#x547D;&#x4EE4;&#x4E2D;&#xFF0C;&#x6211;&#x4EEC;&#x4F7F;&#x7528;&#x4E86;Redis&#x7684;Pipeline&#xFF0C;&#x6765;&#x770B;&#x4E0B;Pipeline&#x7684;&#x539F;&#x7406;&#x3002;</p>
<p><strong>&#x975E;pipeline&#x6A21;&#x5F0F;</strong><br>request&#x2013;&gt;&#x6267;&#x884C;<br>&#x2013;&gt;response<br>request&#x2013;&gt;&#x6267;&#x884C;<br>&#x2013;&gt;response<br><strong>pipeline&#x6A21;&#x5F0F;</strong><br>request&#x2013;&gt;&#x6267;&#x884C; server&#x5C06;&#x54CD;&#x5E94;&#x7ED3;&#x679C;&#x961F;&#x5217;&#x5316;<br>request&#x2013;&gt;&#x6267;&#x884C; server&#x5C06;&#x54CD;&#x5E94;&#x7ED3;&#x679C;&#x961F;&#x5217;&#x5316;<br>&#x2013;&gt;response<br>&#x2013;&gt;response</p>
<p>&#x4F7F;&#x7528;Pipeline,&#x80FD;&#x5C3D;&#x91CF;&#x4FDD;&#x8BC1;&#x591A;&#x6761;&#x547D;&#x4EE4;&#x8FD4;&#x56DE;&#x7ED3;&#x679C;&#x7684;&#x5B8C;&#x6574;&#x6027;&#xFF0C;&#x8BFB;&#x8005;&#x53EF;&#x4EE5;&#x8003;&#x8651;&#x4F7F;&#x7528;Redis&#x4E8B;&#x52A1;&#x6765;&#x4EE3;&#x66FF;Pipeline&#xFF0C;&#x5B9E;&#x9645;&#x9879;&#x76EE;&#x4E2D;&#xFF0C;&#x4E2A;&#x4EBA;&#x6709;&#x8FC7;Pipeline&#x7684;&#x6210;&#x529F;&#x6297;&#x91CF;&#x7ECF;&#x9A8C;&#xFF0C;&#x5E76;&#x6CA1;&#x6709;&#x4F7F;&#x7528;Redis&#x4E8B;&#x52A1;&#xFF0C;&#x6B63;&#x5E38;&#x60C5;&#x51B5;&#x4E0B;&#x4E8B;&#x52A1;&#x6BD4;pipeline&#x6162;&#x4E00;&#x4E9B;&#xFF0C;&#x6240;&#x4EE5;&#x6CA1;&#x6709;&#x91C7;&#x7528;&#x3002;</p>
<p><strong>Redis&#x4E8B;&#x52A1;</strong><br>1&#xFF09;mutil:&#x5F00;&#x542F;&#x4E8B;&#x52A1;&#xFF0C;&#x6B64;&#x540E;&#x7684;&#x6240;&#x6709;&#x64CD;&#x4F5C;&#x5C06;&#x88AB;&#x6DFB;&#x52A0;&#x5230;&#x5F53;&#x524D;&#x94FE;&#x63A5;&#x4E8B;&#x52A1;&#x7684;&#x201C;&#x64CD;&#x4F5C;&#x961F;&#x5217;&#x201D;&#x4E2D;<br>2&#xFF09;exec:&#x63D0;&#x4EA4;&#x4E8B;&#x52A1;<br>3&#xFF09;discard:&#x53D6;&#x6D88;&#x961F;&#x5217;&#x6267;&#x884C;<br>4&#xFF09;watch:&#x5982;&#x679C;watch&#x7684;key&#x88AB;&#x4FEE;&#x6539;&#xFF0C;&#x89E6;&#x53D1;dicard&#x3002;</p>
<h3 id="&#x901A;&#x8FC7;&#x4EFB;&#x52A1;&#x5F15;&#x64CE;&#x5B9E;&#x73B0;&#x6570;&#x636E;&#x5E93;&#x7684;&#x6700;&#x7EC8;&#x4E00;&#x81F4;&#x6027;"><a href="#&#x901A;&#x8FC7;&#x4EFB;&#x52A1;&#x5F15;&#x64CE;&#x5B9E;&#x73B0;&#x6570;&#x636E;&#x5E93;&#x7684;&#x6700;&#x7EC8;&#x4E00;&#x81F4;&#x6027;" class="headerlink" title="&#x901A;&#x8FC7;&#x4EFB;&#x52A1;&#x5F15;&#x64CE;&#x5B9E;&#x73B0;&#x6570;&#x636E;&#x5E93;&#x7684;&#x6700;&#x7EC8;&#x4E00;&#x81F4;&#x6027;"></a>&#x901A;&#x8FC7;&#x4EFB;&#x52A1;&#x5F15;&#x64CE;&#x5B9E;&#x73B0;&#x6570;&#x636E;&#x5E93;&#x7684;&#x6700;&#x7EC8;&#x4E00;&#x81F4;&#x6027;</h3><p>&#x524D;&#x9762;&#x901A;&#x8FC7;&#x4EFB;&#x52A1;&#x5F15;&#x64CE;&#x6765;&#x4FDD;&#x8BC1;&#x6570;&#x636E;&#x4E00;&#x5B9A;&#x6301;&#x4E45;&#x5316;&#x6570;&#x636E;&#x5E93;&#xFF0C;&#x300C;&#x4EFB;&#x52A1;&#x5F15;&#x64CE;&#x300D;&#x7684;&#x8BBE;&#x8BA1;&#x5982;&#x4E0B;&#xFF0C;&#x6211;&#x4EEC;&#x628A;&#x4EFB;&#x52A1;&#x8C03;&#x5EA6;&#x62BD;&#x8C61;&#x4E3A;&#x4E1A;&#x52A1;&#x65E0;&#x5173;&#x7684;&#x6846;&#x67B6;&#x3002;&#x300C;&#x4EFB;&#x52A1;&#x5F15;&#x64CE;&#x300D;&#x53EF;&#x4EE5;&#x652F;&#x6301;&#x7B80;&#x5355;&#x7684;&#x6D41;&#x7A0B;&#x7F16;&#x6392;&#xFF0C;&#x5E76;&#x4FDD;&#x8BC1;&#x81F3;&#x5C11;&#x6210;&#x529F;&#x4E00;&#x6B21;&#x3002;&#x300C;&#x4EFB;&#x52A1;&#x5F15;&#x64CE;&#x300D;&#x4E5F;&#x53EF;&#x4EE5;&#x4F5C;&#x4E3A;&#x72B6;&#x6001;&#x673A;&#x7684;&#x5F15;&#x64CE;&#x51FA;&#x73B0;&#xFF0C;&#x652F;&#x6301;&#x72B6;&#x6001;&#x673A;&#x7684;&#x8C03;&#x5EA6;&#xFF0C;&#x6240;&#x4EE5;&#x300C;&#x4EFB;&#x52A1;&#x5F15;&#x64CE;&#x300D;&#x4E5F;&#x53EF;&#x4EE5;&#x79F0;&#x4E3A;&#x300C;&#x72B6;&#x6001;&#x673A;&#x5F15;&#x64CE;&#x300D;&#xFF0C;&#x5728;&#x6B64;&#x6587;&#x662F;&#x540C;&#x4E00;&#x4E2A;&#x6982;&#x5FF5;&#x3002;</p>
<p>**&#x4EFB;&#x52A1;&#x5F15;&#x64CE;&#x8BBE;&#x8BA1;&#x6838;&#x5FC3;&#x539F;&#x7406;&#xFF1A;**&#x5148;&#x628A;&#x4EFB;&#x52A1;&#x843D;&#x5E93;&#xFF0C;&#x901A;&#x8FC7;&#x6570;&#x636E;&#x5E93;&#x4E8B;&#x52A1;&#x4FDD;&#x8BC1;&#x5B50;&#x4EFB;&#x52A1;&#x62C6;&#x5206;&#x548C;&#x7236;&#x4EFB;&#x52A1;&#x5B8C;&#x6210;&#x7684;&#x4E8B;&#x52A1;&#x4E00;&#x81F4;&#x6027;&#x3002;</p>
<p>**&#x4EFB;&#x52A1;&#x5E93;&#x5206;&#x5E93;&#x5206;&#x8868;&#xFF1A;**&#x4EFB;&#x52A1;&#x5E93;&#x4F7F;&#x7528;&#x5206;&#x5E93;&#x5206;&#x8868;&#xFF0C;&#x53EF;&#x4EE5;&#x652F;&#x6491;&#x6C34;&#x5E73;&#x6269;&#x5C55;&#xFF0C;&#x901A;&#x8FC7;&#x8BBE;&#x8BA1;&#x5206;&#x5E93;&#x5B57;&#x6BB5;&#x548C;&#x4E1A;&#x52A1;&#x5E93;&#x5B57;&#x6BB5;&#x4E0D;&#x540C;&#xFF0C;&#x65E0;&#x6570;&#x636E;&#x70ED;&#x70B9;&#x3002;</p>
<h3 id="&#x4EFB;&#x52A1;&#x5F15;&#x64CE;&#x7684;&#x6838;&#x5FC3;&#x5904;&#x7406;&#x6D41;&#x7A0B;&#xFF1A;"><a href="#&#x4EFB;&#x52A1;&#x5F15;&#x64CE;&#x7684;&#x6838;&#x5FC3;&#x5904;&#x7406;&#x6D41;&#x7A0B;&#xFF1A;" class="headerlink" title="&#x4EFB;&#x52A1;&#x5F15;&#x64CE;&#x7684;&#x6838;&#x5FC3;&#x5904;&#x7406;&#x6D41;&#x7A0B;&#xFF1A;"></a>&#x4EFB;&#x52A1;&#x5F15;&#x64CE;&#x7684;&#x6838;&#x5FC3;&#x5904;&#x7406;&#x6D41;&#x7A0B;&#xFF1A;</h3><p><img src="https://gitee.com/songjianzaina/juejin_p6/raw/master/img/39789b0bbe5e3d5b141e673d90317cca80bb9a0ca8fc926c08c91f22b1689004" alt="&#x72B6;&#x6001;&#x673A;&#x5F15;&#x64CE;-&#x5B9E;&#x65F6;&#x4EFB;&#x52A1;&#x7F16;&#x6392;&#x8C03;&#x5EA6;.png"></p>
<p>**&#x7B2C;&#x4E00;&#x6B65;&#xFF1A;**&#x540C;&#x6B65;&#x8C03;&#x7528;&#x63D0;&#x4EA4;&#x4EFB;&#x52A1;&#xFF0C;&#x5148;&#x628A;&#x4EFB;&#x52A1;&#x6301;&#x4E45;&#x5316;&#x5230;&#x6570;&#x636E;&#x5E93;&#xFF0C;&#x72B6;&#x6001;&#x4E3A;&#x300C;&#x9501;&#x5B9A;&#x5904;&#x7406;&#x300D;&#xFF0C;&#x4FDD;&#x8BC1;&#x8FD9;&#x4EF6;&#x4E8B;&#x4E00;&#x5B9A;&#x5F97;&#x5230;&#x5904;&#x7406;&#x3002;</p>
<p>&#x6CE8;&#xFF1A;&#x539F;&#x6765;&#x7684;&#x6700;&#x521D;&#x7248;&#x672C;&#xFF0C;&#x4EFB;&#x52A1;&#x843D;&#x5E93;&#x662F;&#x5F85;&#x5904;&#x7406;&#xFF0C;&#x7136;&#x540E;&#x7531;&#x626B;&#x63CF;Worker&#x8FDB;&#x884C;&#x626B;&#x63CF;&#xFF0C;&#x4E3A;&#x4E86;&#x9632;&#x6B62;&#x5E76;&#x53D1;&#x91CD;&#x590D;&#x5904;&#x7406;&#xFF0C;&#x626B;&#x63CF;&#x540E;&#x8FDB;&#x884C;&#x5355;&#x4E2A;&#x4EFB;&#x52A1;&#x9501;&#x5B9A;&#xFF0C;&#x9501;&#x5B9A;&#x6210;&#x529F;&#x518D;&#x8FDB;&#x884C;&#x5904;&#x7406;&#x3002;&#x540E;&#x6765;&#x4F18;&#x5316;&#x4E3A;&#x843D;&#x5E93;&#x4EFB;&#x52A1;&#x76F4;&#x63A5;&#x6807;&#x8BC6;&#x72B6;&#x6001;&#x4E3A;&#x300C;&#x9501;&#x5B9A;&#x5904;&#x7406;&#x300D;&#xFF0C;&#x662F;&#x4E3A;&#x4E86;&#x6027;&#x80FD;&#x8003;&#x8651;&#xFF0C;&#x7701;&#x53BB;&#x91CD;&#x65B0;&#x626B;&#x63CF;&#x518D;&#x62A2;&#x5360;&#x4EFB;&#x52A1;&#xFF0C;&#x5728;&#x8FDB;&#x7A0B;&#x5185;&#x76F4;&#x63A5;&#x901A;&#x8FC7;&#x7EBF;&#x7A0B;&#x5F02;&#x6B65;&#x5904;&#x7406;&#x3002;</p>
<p>&#x9501;&#x5B9A;Sql&#x53C2;&#x8003;&#xFF1A;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ini&#x590D;&#x5236;&#x4EE3;&#x7801;UPDATE &#x4EFB;&#x52A1;&#x8868;_&#x5206;&#x8868;&#x53F7; SET &#x72B6;&#x6001; = 100,modifyTime = now() WHERE id = #{id} AND &#x72B6;&#x6001; = 0</span><br></pre></td></tr></table></figure>

<p>**&#x7B2C;&#x4E8C;&#x6B65;&#xFF1A;**&#x5F02;&#x6B65;&#x7EBF;&#x7A0B;&#x8C03;&#x7528;&#x5916;&#x90E8;&#x5904;&#x7406;&#x8FC7;&#x7A0B;&#xFF0C;&#x8C03;&#x7528;&#x5916;&#x90E8;&#x5904;&#x7406;&#x5B8C;&#x6210;&#x540E;&#xFF0C;&#x63A5;&#x6536;&#x8FD4;&#x56DE;&#x5B50;&#x4EFB;&#x52A1;&#x5217;&#x8868;&#x3002;&#x901A;&#x8FC7;&#x6570;&#x636E;&#x5E93;&#x4E8B;&#x52A1;&#x628A;&#x7236;&#x4EFB;&#x52A1;&#x72B6;&#x6001;&#x8BBE;&#x7F6E;&#x4E3A;&#x5DF2;&#x7ECF;&#x5B8C;&#x6210;&#xFF0C;&#x5B50;&#x4EFB;&#x52A1;&#x843D;&#x5E93;&#x3002;&#x5E76;&#x628A;&#x5B50;&#x4EFB;&#x52A1;&#x52A0;&#x5165;&#x7EBF;&#x7A0B;&#x6C60;&#x3002;</p>
<p>&#x8981;&#x70B9;&#xFF1A;&#x4FDD;&#x8BC1;&#x5B50;&#x4EFB;&#x52A1;&#x751F;&#x6210;&#x548C;&#x7236;&#x4EFB;&#x52A1;&#x5B8C;&#x6210;&#x7684;&#x4E8B;&#x52A1;&#x6027;</p>
<p>**&#x7B2C;&#x4E09;&#x6B65;&#xFF1A;**&#x5B50;&#x4EFB;&#x52A1;&#x8C03;&#x5EA6;&#x6267;&#x884C;&#xFF0C;&#x5E76;&#x91CD;&#x65B0;&#x628A;&#x65B0;&#x5B50;&#x4EFB;&#x52A1;&#x843D;&#x5E93;&#xFF0C;&#x5982;&#x679C;&#x6CA1;&#x6709;&#x5B50;&#x4EFB;&#x52A1;&#x8FD4;&#x56DE;&#xFF0C;&#x5219;&#x6574;&#x4E2A;&#x6D41;&#x7A0B;&#x7ED3;&#x675F;&#x3002;</p>
<p><strong>&#x5F02;&#x5E38;&#x5904;&#x7406;Worker</strong></p>
<p>&#x5F02;&#x5E38;&#x89E3;&#x9501;Worker&#x6765;&#x628A;&#x957F;&#x65F6;&#x95F4;&#x672A;&#x5904;&#x7406;&#x5B8C;&#x6210;&#x7684;&#x4EFB;&#x52A1;&#x89E3;&#x9501;&#xFF0C;&#x9632;&#x6B62;&#x56E0;&#x4E3A;&#x670D;&#x52A1;&#x5668;&#x91CD;&#x542F;&#xFF0C;&#x6216;&#x7EBF;&#x7A0B;&#x6C60;&#x6EE1;&#x9020;&#x6210;&#x7684;&#x4EFB;&#x52A1;&#x4E00;&#x76F4;&#x9501;&#x5B9A;&#x65E0;&#x670D;&#x52A1;&#x5668;&#x6267;&#x884C;&#x3002;</p>
<p>&#x8865;&#x6F0F;Worker&#x9632;&#x6B62;&#x670D;&#x52A1;&#x5668;&#x91CD;&#x542F;&#x9020;&#x6210;&#x7684;&#x7EBF;&#x7A0B;&#x6C60;&#x4EFB;&#x52A1;&#x672A;&#x6267;&#x884C;&#x5B8C;&#x6210;&#xFF0C;&#x8865;&#x6F0F;&#x7A0B;&#x5E8F;&#x91CD;&#x65B0;&#x9501;&#x5B9A;&#xFF0C;&#x89E6;&#x53D1;&#x6267;&#x884C;&#x3002;</p>
<p><strong>&#x4EFB;&#x52A1;&#x72B6;&#x6001;&#x8F6C;&#x6362;&#x8FC7;&#x7A0B;</strong></p>
<p><img src="https://gitee.com/songjianzaina/juejin_p6/raw/master/img/d73c66a098cc86410eeac09be800b1ba9cdcfcb18d7086a37519c77036ab3e85" alt="&#x72B6;&#x6001;&#x673A;&#x5F15;&#x64CE;-&#x72B6;&#x6001;&#x8F6C;&#x6362;.png"></p>
<h3 id="&#x4EFB;&#x52A1;&#x5F15;&#x64CE;&#x6570;&#x636E;&#x5E93;&#x8BBE;&#x8BA1;"><a href="#&#x4EFB;&#x52A1;&#x5F15;&#x64CE;&#x6570;&#x636E;&#x5E93;&#x8BBE;&#x8BA1;" class="headerlink" title="&#x4EFB;&#x52A1;&#x5F15;&#x64CE;&#x6570;&#x636E;&#x5E93;&#x8BBE;&#x8BA1;"></a>&#x4EFB;&#x52A1;&#x5F15;&#x64CE;&#x6570;&#x636E;&#x5E93;&#x8BBE;&#x8BA1;</h3><p>&#x4EFB;&#x52A1;&#x8868;&#x6570;&#x636E;&#x5E93;&#x7ED3;&#x6784;&#x8BBE;&#x8BA1;&#x793A;&#x4F8B;&#xFF08;&#x4EC5;&#x505A;&#x793A;&#x4F8B;&#x4F7F;&#x7528;&#xFF0C;&#x771F;&#x5B9E;&#x4F7F;&#x7528;&#x9700;&#x8981;&#x5B8C;&#x5584;&#xFF09;</p>
<table>
<thead>
<tr>
<th>&#x5B57;&#x6BB5;</th>
<th>&#x7C7B;&#x578B;</th>
<th>&#x8BF4;&#x660E;</th>
</tr>
</thead>
<tbody><tr>
<td>&#x4EFB;&#x52A1;ID&#x6807;&#x8BC6;</td>
<td>Long</td>
<td>&#x4E3B;&#x952E;</td>
</tr>
<tr>
<td>&#x72B6;&#x6001;</td>
<td>Int</td>
<td>0&#x5F85;&#x5904;&#x7406;&#xFF0C;100&#x9501;&#x5B9A;&#x5904;&#x7406;&#xFF0C;1&#x5B8C;&#x6210;</td>
</tr>
<tr>
<td>&#x6570;&#x636E;</td>
<td>String</td>
<td>Json&#x683C;&#x5F0F;&#x7684;&#x4E1A;&#x52A1;&#x6570;&#x636E;</td>
</tr>
<tr>
<td>&#x6267;&#x884C;&#x65F6;&#x95F4;</td>
<td>Date</td>
<td>&#x6267;&#x884C;&#x65F6;&#x95F4;</td>
</tr>
</tbody></table>
<p>&#x4EFB;&#x52A1;&#x5F15;&#x64CE;&#x6570;&#x636E;&#x5E93;&#x5BB9;&#x707E;&#xFF1A;</p>
<p>&#x4EFB;&#x52A1;&#x5E93;&#x4F7F;&#x7528;&#x5206;&#x5E93;&#x5206;&#x8868;&#xFF0C;&#x5F53;&#x4E00;&#x4E2A;&#x5E93;&#x5B95;&#x673A;&#xFF0C;&#x53EF;&#x4EE5;&#x628A;&#x8DEF;&#x7531;&#x5230;&#x5B95;&#x673A;&#x5E93;&#x7684;&#x6D41;&#x91CF;&#x91CD;&#x65B0;&#x6563;&#x5217;&#x5230;&#x5176;&#x4ED6;&#x5B58;&#x6D3B;&#x5E93;&#x4E2D;&#xFF0C;&#x53EF;&#x4EE5;&#x624B;&#x5DE5;&#x914D;&#x7F6E;&#xFF0C;&#x6216;&#x901A;&#x8FC7;&#x7CFB;&#x7EDF;&#x76D1;&#x63A7;&#x6765;&#x81EA;&#x52A8;&#x5316;&#x5BB9;&#x707E;&#x3002;&#x5982;&#x4E0B;&#x56FE;&#xFF0C;&#x5F53;&#x4EFB;&#x52A1;&#x5E93;2&#x5B95;&#x673A;&#x540E;&#xFF0C;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;&#x4FEE;&#x6539;&#x914D;&#x7F6E;&#xFF0C;&#x628A;&#x4EFB;&#x52A1;&#x5E93;2&#x6D41;&#x91CF;&#x8DEF;&#x7531;&#x5230;&#x4EFB;&#x52A1;&#x5E93;1&#x548C;3&#x3002;&#x8865;&#x6F0F;&#x5F15;&#x64CE;&#x7EE7;&#x7EED;&#x626B;&#x63CF;&#x4EFB;&#x52A1;&#x5E93;2&#x662F;&#x56E0;&#x4E3A;&#x5F53;&#x4EFB;&#x52A1;&#x5E93;2&#x901A;&#x8FC7;&#x4E3B;&#x4ECE;&#x5BB9;&#x707E;&#x6062;&#x590D;&#x540E;&#xFF0C;&#x4EFB;&#x52A1;&#x5E93;2&#x5B95;&#x673A;&#x65F6;&#x672A;&#x6765;&#x7684;&#x53CA;&#x5904;&#x7406;&#x7684;&#x4EFB;&#x52A1;&#x53EF;&#x4EE5;&#x5F97;&#x5230;&#x8865;&#x5145;&#x5904;&#x7406;&#x3002;</p>
<p><img src="picture/%E7%8A%B6%E6%80%81%E6%9C%BA%E5%AE%B9%E7%81%BE.png" alt></p>
<p><strong>&#x4EFB;&#x52A1;&#x5F15;&#x64CE;&#x8C03;&#x5EA6;&#x4E3E;&#x4F8B;</strong></p>
<p>&#x6BD4;&#x5982;&#x7528;&#x6237;&#x8D2D;&#x4E70;&#x4E86;&#x4E24;&#x4E2A;&#x624B;&#x673A;&#x548C;&#x4E00;&#x4E2A;&#x7535;&#x8111;&#xFF0C;&#x624B;&#x673A;&#x548C;&#x7535;&#x8111;&#x5206;&#x6563;&#x5728;&#x4E24;&#x4E2A;&#x6570;&#x636E;&#x5E93;&#xFF0C;&#x901A;&#x8FC7;&#x4EFB;&#x52A1;&#x5F15;&#x64CE;&#x5148;&#x6301;&#x4E45;&#x5316;&#x4EFB;&#x52A1;&#xFF0C;&#x7136;&#x540E;&#x9A71;&#x52A8;&#x62C6;&#x5206;&#x4E3A;&#x4E24;&#x4E2A;&#x5B50;&#x4EFB;&#x52A1;&#xFF0C;&#x5E76;&#x6700;&#x7EC8;&#x4FDD;&#x8BC1;&#x4E24;&#x4E2A;&#x5B50;&#x4EFB;&#x52A1;&#x4E00;&#x5B9A;&#x6210;&#x529F;&#xFF0C;&#x5B9E;&#x73B0;&#x6570;&#x636E;&#x7684;&#x6700;&#x7EC8;&#x4E00;&#x81F4;&#x6027;&#x3002;&#x6574;&#x4E2A;&#x6267;&#x884C;&#x8FC7;&#x7A0B;&#x7684;&#x4EFB;&#x52A1;&#x7F16;&#x6392;&#x5982;&#x4E0B;&#xFF1A;</p>
<p><img src="https://gitee.com/songjianzaina/juejin_p6/raw/master/img/682b9ec3d22a603c404fa18fe95b61e9443f9c6068b0a2cfbc232a1873d01ceb" alt><br>&#x4EFB;&#x52A1;&#x5F15;&#x64CE;&#x4EA4;&#x4E92;&#x6D41;&#x7A0B;&#xFF1A;</p>
<p><img src="https://gitee.com/songjianzaina/juejin_p6/raw/master/img/6c99710475d70946ae38e1d6e25eb6b98022ad69dbfd64c465f1935d45e862ab" alt="&#x72B6;&#x6001;&#x673A;&#x5E8F;&#x5217;.png"></p>
<h3 id="&#x5DEE;&#x5F02;&#x5BF9;&#x6BD4;-&#x5F02;&#x6784;&#x6570;&#x636E;&#x7684;&#x7EC8;&#x6781;&#x89E3;&#x51B3;&#x65B9;&#x6848;"><a href="#&#x5DEE;&#x5F02;&#x5BF9;&#x6BD4;-&#x5F02;&#x6784;&#x6570;&#x636E;&#x7684;&#x7EC8;&#x6781;&#x89E3;&#x51B3;&#x65B9;&#x6848;" class="headerlink" title="&#x5DEE;&#x5F02;&#x5BF9;&#x6BD4;-&#x5F02;&#x6784;&#x6570;&#x636E;&#x7684;&#x7EC8;&#x6781;&#x89E3;&#x51B3;&#x65B9;&#x6848;"></a>&#x5DEE;&#x5F02;&#x5BF9;&#x6BD4;-&#x5F02;&#x6784;&#x6570;&#x636E;&#x7684;&#x7EC8;&#x6781;&#x89E3;&#x51B3;&#x65B9;&#x6848;</h3><p>&#x53EA;&#x8981;&#x6709;&#x5F02;&#x6784;&#xFF0C;&#x4E00;&#x5B9A;&#x4F1A;&#x6709;&#x5DEE;&#x5F02;&#x7684;&#xFF0C;&#x4E3A;&#x4E86;&#x4FDD;&#x8BC1;&#x5DEE;&#x5F02;&#x7684;&#x5F71;&#x54CD;&#x53EF;&#x63A7;&#xFF0C;&#x7EC8;&#x6781;&#x65B9;&#x6848;&#x8FD8;&#x662F;&#x8981;&#x9760;&#x5DEE;&#x5F02;&#x5BF9;&#x6BD4;&#x6765;&#x89E3;&#x51B3;&#x3002;&#x672C;&#x6587;&#x7BC7;&#x5E45;&#x6240;&#x9650;&#xFF0C;&#x4E0D;&#x518D;&#x5C55;&#x5F00;&#xFF0C;&#x540E;&#x7EED;&#x518D;&#x5355;&#x72EC;&#x6210;&#x6587;&#x3002;DB&#x548C;Redis&#x5DEE;&#x5F02;&#x5BF9;&#x6BD4;&#x7684;&#x5927;&#x6982;&#x8FC7;&#x7A0B;&#x4E3A;&#xFF1A;&#x63A5;&#x6536;&#x5E93;&#x5B58;&#x53D8;&#x5316;&#x6D88;&#x606F;&#xFF0C;&#x4E0D;&#x65AD;&#x8DDF;&#x8FDB;&#x5BF9;&#x6BD4;Redis&#x548C;DB&#x7684;&#x6570;&#x636E;&#x662F;&#x5426;&#x4E00;&#x81F4;&#xFF0C;&#x5982;&#x679C;&#x8FDE;&#x7EED;&#x7A33;&#x5B9A;&#x4E0D;&#x4E00;&#x81F4;&#xFF0C;&#x5219;&#x8FDB;&#x884C;&#x6570;&#x636E;&#x4FEE;&#x590D;&#xFF0C;&#x7528;DB&#x6570;&#x636E;&#x6765;&#x4FEE;&#x6539;Redis&#x7684;&#x6570;&#x636E;&#x3002;</p>
<h2 id="&#x5E38;&#x89C1;&#x95EE;&#x9898;&#x7B54;&#x7591;"><a href="#&#x5E38;&#x89C1;&#x95EE;&#x9898;&#x7B54;&#x7591;" class="headerlink" title="&#x5E38;&#x89C1;&#x95EE;&#x9898;&#x7B54;&#x7591;"></a>&#x5E38;&#x89C1;&#x95EE;&#x9898;&#x7B54;&#x7591;</h2><p>&#x95EE;&#xFF1A;&#x7B2C;&#x4E00;&#x6B65;&#x8D85;&#x5356;&#x6821;&#x9A8C;Redis&#x5185;&#x5B58;&#x6263;&#x51CF;&#xFF0C;&#x7B2C;&#x4E8C;&#x6B65;&#x6263;&#x51CF;&#x6570;&#x636E;&#x7684;&#x6301;&#x4E45;&#x5316;&#xFF0C;&#x4E2D;&#x95F4;&#x65AD;&#x4E86;&#x600E;&#x4E48;&#x529E;&#xFF1F;(&#x4F8B;&#xFF1A;&#x670D;&#x52A1;&#x91CD;&#x542F;)</p>
<p>&#x7B54;&#xFF1A;&#x5982;&#x679C;&#x662F;&#x670D;&#x52A1;&#x91CD;&#x542F;&#xFF0C;&#x4F1A;&#x5728;&#x670D;&#x52A1;&#x5668;&#x91CD;&#x542F;&#x4E4B;&#x524D;&#x505C;&#x6B62;&#x8FD9;&#x53F0;&#x670D;&#x52A1;&#x5668;&#x7684;&#x670D;&#x52A1;&#xFF1B;&#x4F46;&#x6B64;&#x65B9;&#x6848;&#x5E76;&#x4E0D;&#x80FD;&#x4FDD;&#x8BC1;&#x6570;&#x636E;&#x7684;&#x7EDD;&#x5BF9;&#x4E00;&#x81F4;&#xFF0C;&#x6BD4;&#x5982;&#x6263;&#x51CF;redis&#x540E;&#xFF0C;&#x5E94;&#x7528;&#x670D;&#x52A1;&#x5668;&#x6545;&#x969C;&#x76F4;&#x63A5;&#x6B7B;&#x673A;&#xFF0C;&#x8FD9;&#x79CD;&#x60C5;&#x51B5;&#x4E0B;&#x7684;&#x5904;&#x7406;&#x5C31;&#x9700;&#x8981;&#x66F4;&#x590D;&#x6742;&#x7684;&#x65B9;&#x6848;&#x624D;&#x80FD;&#x4FDD;&#x8BC1;&#x5B9E;&#x65F6;&#x4E00;&#x81F4;&#xFF08;&#x76EE;&#x524D;&#x6211;&#x4EEC;&#x6CA1;&#x6709;&#x91C7;&#x53D6;&#x66F4;&#x590D;&#x6742;&#x65B9;&#x6848;&#xFF09;&#xFF0C;&#x6211;&#x4EEC;&#x901A;&#x8FC7;&#x53E6;&#x4E00;&#x4E2A;&#x65B9;&#x6848;&#x4F7F;&#x7528;&#x5E93;&#x5B58;&#x6570;&#x636E;&#x548C;&#x7528;&#x6237;&#x7684;&#x8BA2;&#x5355;&#x6570;&#x636E;&#x8FDB;&#x884C;&#x6570;&#x636E;&#x6BD4;&#x5BF9;&#x4FEE;&#x590D;&#xFF0C;&#x8FBE;&#x5230;&#x6700;&#x7EC8;&#x4E00;&#x81F4;&#x6027;&#x3002;</p>
<p><strong>&#x672C;&#x6587;&#x8F6C;&#x8F7D;&#x81EA;:</strong> <a href="/external_links/36aa1362b35d67c235adf4465864e7b3.html" target="blank" rel="noopener">&#x6398;&#x91D1;</a></p>
<p><em><a href="https://dev.newban.cn/">&#x5F00;&#x53D1;&#x8005;&#x535A;&#x5BA2; &#x2013; &#x548C;&#x5F00;&#x53D1;&#x76F8;&#x5173;&#x7684; &#x8FD9;&#x91CC;&#x5168;&#x90FD;&#x6709;</a></em></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://dev.newban.cn../../7023357955160408078.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="开发者博客">
      <meta itemprop="description" content>
      <meta itemprop="image" content="../../images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="开发者博客 – IT技术 尽在开发者博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="../../7023357955160408078.html" itemprop="url">海康威视一面：Iterator与Iterable有什么区别？</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2021-10-26T20:56:49+08:00">
                2021-10-26
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>&#x90A3;&#x5929;&#xFF0C;&#x5C0F;&#x4E8C;&#x53BB;&#x6D77;&#x5EB7;&#x5A01;&#x89C6;&#x9762;&#x8BD5;&#xFF0C;&#x9762;&#x8BD5;&#x5B98;&#x8001;&#x738B;&#x4E00;&#x4E0A;&#x6765;&#x5C31;&#x7529;&#x7ED9;&#x4E86;&#x4ED6;&#x4E00;&#x9053;&#x9762;&#x8BD5;&#x9898;&#xFF1A;&#x8BF7;&#x95EE; Iterator&#x4E0E;Iterable&#x6709;&#x4EC0;&#x4E48;&#x533A;&#x522B;&#xFF1F;&#x5C0F;&#x4E8C;&#x5DEE;&#x70B9;&#x7B11;&#x51FA;&#x58F0;&#xFF0C;&#x56E0;&#x4E3A;&#x4E00;&#x5E74;&#x524D;&#xFF0C;&#x4E5F;&#x5C31;&#x662F; 2021 &#x5E74;&#xFF0C;&#x4ED6;&#x5728;&#x300A;<a href="/external_links/19dd905022a1d585f9686b4715a86b08.html" target="blank" rel="noopener">Java &#x7A0B;&#x5E8F;&#x5458;&#x8FDB;&#x9636;&#x4E4B;&#x8DEF;</a>&#x300B;&#x4E13;&#x680F;&#x4E0A;&#x7684;&#x7B2C; 62 &#x7BC7;&#x770B;&#x5230;&#x8FC7;&#x8FD9;&#x9898;&#x1F606;&#x3002;</p>
<p><em>PS&#xFF1A;&#x661F;&#x6807;&#x8FD9;&#x79CD;&#x4E8B;&#xFF0C;&#x53EA;&#x80FD;&#x6C42;&#xFF0C;&#x4E0D;&#x6C42;&#x6CA1;&#x6548;&#x679C;&#xFF0C;come on&#x3002;&#x300A;Java &#x7A0B;&#x5E8F;&#x5458;&#x8FDB;&#x9636;&#x4E4B;&#x8DEF;&#x300B;&#x5728; GitHub &#x4E0A;&#x5DF2;&#x7ECF;&#x6536;&#x83B7;&#x4E86; 460 &#x679A;&#x661F;&#x6807;&#xFF0C;&#x5C0F;&#x4F19;&#x4F34;&#x4EEC;&#x8D76;&#x7D27;&#x53BB;&#x70B9;&#x70B9;&#x4E86;&#xFF0C;&#x51B2; 500&#xFF01;</em></p>
<blockquote>
<p><a href="/external_links/19dd905022a1d585f9686b4715a86b08.html" target="blank" rel="noopener">github.com/itwanger/to&#x2026;</a></p>
</blockquote>
<hr>
<p>&#x5728; Java &#x4E2D;&#xFF0C;&#x6211;&#x4EEC;&#x5BF9; List &#x8FDB;&#x884C;&#x904D;&#x5386;&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x4E3B;&#x8981;&#x6709;&#x8FD9;&#x4E48;&#x4E09;&#x79CD;&#x65B9;&#x5F0F;&#x3002;</p>
<p>&#x7B2C;&#x4E00;&#x79CD;&#xFF1A;for &#x5FAA;&#x73AF;&#x3002;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">java&#x590D;&#x5236;&#x4EE3;&#x7801;for (int i = 0; i &lt; list.size(); i++) {</span><br><span class="line">    System.out.print(list.get(i) + &quot;&#xFF0C;&quot;);</span><br><span class="line">}</span><br></pre></td></tr></table></figure>

<p>&#x7B2C;&#x4E8C;&#x79CD;&#xFF1A;&#x8FED;&#x4EE3;&#x5668;&#x3002;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">java&#x590D;&#x5236;&#x4EE3;&#x7801;Iterator it = list.iterator();</span><br><span class="line">while (it.hasNext()) {</span><br><span class="line">    System.out.print(it.next() + &quot;&#xFF0C;&quot;);</span><br><span class="line">}</span><br></pre></td></tr></table></figure>

<p>&#x7B2C;&#x4E09;&#x79CD;&#xFF1A;for-each&#x3002;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">java&#x590D;&#x5236;&#x4EE3;&#x7801;for (String str : list) {</span><br><span class="line">    System.out.print(str + &quot;&#xFF0C;&quot;);</span><br><span class="line">}</span><br></pre></td></tr></table></figure>

<p>&#x7B2C;&#x4E00;&#x79CD;&#x6211;&#x4EEC;&#x7565;&#x8FC7;&#xFF0C;&#x7B2C;&#x4E8C;&#x79CD;&#x7528;&#x7684;&#x662F; Iterator&#xFF0C;&#x7B2C;&#x4E09;&#x79CD;&#x770B;&#x8D77;&#x6765;&#x662F; for-each&#xFF0C;&#x5176;&#x5B9E;&#x80CC;&#x540E;&#x4E5F;&#x662F; Iterator&#xFF0C;&#x770B;&#x4E00;&#x4E0B;&#x53CD;&#x7F16;&#x8BD1;&#x540E;&#x7684;&#x4EE3;&#x7801;&#x5C31;&#x660E;&#x767D;&#x4E86;&#x3002;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">java&#x590D;&#x5236;&#x4EE3;&#x7801;Iterator var3 = list.iterator();</span><br><span class="line"></span><br><span class="line">while(var3.hasNext()) {</span><br><span class="line">    String str = (String)var3.next();</span><br><span class="line">    System.out.print(str + &quot;&#xFF0C;&quot;);</span><br><span class="line">}</span><br></pre></td></tr></table></figure>

<p>for-each &#x53EA;&#x4E0D;&#x8FC7;&#x662F;&#x4E2A;&#x8BED;&#x6CD5;&#x7CD6;&#xFF0C;&#x8BA9;&#x6211;&#x4EEC;&#x5728;&#x904D;&#x5386; List &#x7684;&#x65F6;&#x5019;&#x4EE3;&#x7801;&#x66F4;&#x7B80;&#x6D01;&#x660E;&#x4E86;&#x3002;</p>
<p>Iterator &#x662F;&#x4E2A;&#x63A5;&#x53E3;&#xFF0C;JDK 1.2 &#x7684;&#x65F6;&#x5019;&#x5C31;&#x6709;&#x4E86;&#xFF0C;&#x7528;&#x6765;&#x6539;&#x8FDB; Enumeration&#xFF1A;</p>
<ul>
<li>&#x5141;&#x8BB8;&#x5220;&#x9664;&#x5143;&#x7D20;&#xFF08;&#x589E;&#x52A0;&#x4E86; remove &#x65B9;&#x6CD5;&#xFF09;</li>
<li>&#x4F18;&#x5316;&#x4E86;&#x65B9;&#x6CD5;&#x540D;&#xFF08;Enumeration &#x4E2D;&#x662F; hasMoreElements &#x548C; nextElement&#xFF0C;&#x4E0D;&#x7B80;&#x6D01;&#xFF09;</li>
</ul>
<p>&#x6765;&#x770B;&#x4E00;&#x4E0B; Iterator &#x7684;&#x6E90;&#x7801;&#xFF1A;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">java&#x590D;&#x5236;&#x4EE3;&#x7801;public interface Iterator&lt;E&gt; {</span><br><span class="line">    // &#x5224;&#x65AD;&#x96C6;&#x5408;&#x4E2D;&#x662F;&#x5426;&#x5B58;&#x5728;&#x4E0B;&#x4E00;&#x4E2A;&#x5BF9;&#x8C61;</span><br><span class="line">    boolean hasNext();</span><br><span class="line">    // &#x8FD4;&#x56DE;&#x96C6;&#x5408;&#x4E2D;&#x7684;&#x4E0B;&#x4E00;&#x4E2A;&#x5BF9;&#x8C61;&#xFF0C;&#x5E76;&#x5C06;&#x8BBF;&#x95EE;&#x6307;&#x9488;&#x79FB;&#x52A8;&#x4E00;&#x4F4D;</span><br><span class="line">    E next();</span><br><span class="line">    // &#x5220;&#x9664;&#x96C6;&#x5408;&#x4E2D;&#x8C03;&#x7528;next()&#x65B9;&#x6CD5;&#x8FD4;&#x56DE;&#x7684;&#x5BF9;&#x8C61;</span><br><span class="line">    default void remove() {</span><br><span class="line">        throw new UnsupportedOperationException(&quot;remove&quot;);</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></table></figure>

<p>JDK 1.8 &#x65F6;&#xFF0C;Iterable &#x63A5;&#x53E3;&#x4E2D;&#x65B0;&#x589E;&#x4E86; forEach &#x65B9;&#x6CD5;&#xFF1A;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">java&#x590D;&#x5236;&#x4EE3;&#x7801;default void forEach(Consumer&lt;? super T&gt; action) {</span><br><span class="line">    Objects.requireNonNull(action);</span><br><span class="line">    for (T t : this) {</span><br><span class="line">        action.accept(t);</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></table></figure>

<p>&#x5B83;&#x5BF9; Iterable &#x7684;&#x6BCF;&#x4E2A;&#x5143;&#x7D20;&#x6267;&#x884C;&#x7ED9;&#x5B9A;&#x64CD;&#x4F5C;&#xFF0C;&#x5177;&#x4F53;&#x6307;&#x5B9A;&#x7684;&#x64CD;&#x4F5C;&#x9700;&#x8981;&#x81EA;&#x5DF1;&#x5199;Consumer&#x63A5;&#x53E3;&#x901A;&#x8FC7;accept&#x65B9;&#x6CD5;&#x56DE;&#x8C03;&#x51FA;&#x6765;&#x3002;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">java&#x590D;&#x5236;&#x4EE3;&#x7801;List&lt;Integer&gt; list = new ArrayList&lt;&gt;(Arrays.asList(1, 2, 3));</span><br><span class="line">list.forEach(integer -&gt; System.out.println(integer));</span><br></pre></td></tr></table></figure>

<p>&#x5199;&#x5F97;&#x66F4;&#x6D45;&#x663E;&#x6613;&#x61C2;&#x70B9;&#xFF0C;&#x5C31;&#x662F;&#xFF1A;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">java&#x590D;&#x5236;&#x4EE3;&#x7801;List&lt;Integer&gt; list = new ArrayList&lt;&gt;(Arrays.asList(1, 2, 3));</span><br><span class="line">list.forEach(new Consumer&lt;Integer&gt;() {</span><br><span class="line">    @Override</span><br><span class="line">    public void accept(Integer integer) {</span><br><span class="line">        System.out.println(integer);</span><br><span class="line">    }</span><br><span class="line">});</span><br></pre></td></tr></table></figure>

<p>&#x5982;&#x679C;&#x6211;&#x4EEC;&#x4ED4;&#x7EC6;&#x89C2;&#x5BDF;ArrayList &#x6216;&#x8005; LinkedList &#x7684;&#x201C;&#x6237;&#x53E3;&#x672C;&#x201D;&#x5C31;&#x4F1A;&#x53D1;&#x73B0;&#xFF0C;&#x5E76;&#x6CA1;&#x6709;&#x76F4;&#x63A5;&#x627E;&#x5230; Iterator &#x7684;&#x5F71;&#x5B50;&#x3002;</p>
<p><img src="https://gitee.com/songjianzaina/juejin_p6/raw/master/img/fe650dd7f92c6c641f4f3d0901db0af74a16216ddb452eda5692176e311359ad" alt></p>
<p>&#x53CD;&#x800C;&#x627E;&#x5230;&#x4E86; Iterable&#xFF01;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">java&#x590D;&#x5236;&#x4EE3;&#x7801;public interface Iterable&lt;T&gt; {</span><br><span class="line">    Iterator&lt;T&gt; iterator();</span><br><span class="line">}</span><br></pre></td></tr></table></figure>

<p>&#x4E5F;&#x5C31;&#x662F;&#x8BF4;&#xFF0C;List &#x7684;&#x5173;&#x7CFB;&#x56FE;&#x8C31;&#x4E2D;&#x5E76;&#x6CA1;&#x6709;&#x76F4;&#x63A5;&#x4F7F;&#x7528; Iterator&#xFF0C;&#x800C;&#x662F;&#x4F7F;&#x7528; Iterable &#x505A;&#x4E86;&#x8FC7;&#x6E21;&#x3002;</p>
<p>&#x56DE;&#x5934;&#x518D;&#x6765;&#x770B;&#x4E00;&#x4E0B;&#x7B2C;&#x4E8C;&#x79CD;&#x904D;&#x5386; List &#x7684;&#x65B9;&#x5F0F;&#x3002;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">java&#x590D;&#x5236;&#x4EE3;&#x7801;Iterator it = list.iterator();</span><br><span class="line">while (it.hasNext()) {</span><br><span class="line">}</span><br></pre></td></tr></table></figure>

<p>&#x53D1;&#x73B0;&#x521A;&#x597D;&#x547C;&#x5E94;&#x4E0A;&#x4E86;&#x3002;&#x62FF; ArrayList &#x6765;&#x8BF4;&#x5427;&#xFF0C;&#x5B83;&#x91CD;&#x5199;&#x4E86; Iterable &#x63A5;&#x53E3;&#x7684; iterator &#x65B9;&#x6CD5;&#xFF1A;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">java&#x590D;&#x5236;&#x4EE3;&#x7801;public Iterator&lt;E&gt; iterator() {</span><br><span class="line">    return new Itr();</span><br><span class="line">}</span><br></pre></td></tr></table></figure>

<p>&#x8FD4;&#x56DE;&#x7684;&#x5BF9;&#x8C61; Itr &#x662F;&#x4E2A;&#x5185;&#x90E8;&#x7C7B;&#xFF0C;&#x5B9E;&#x73B0;&#x4E86; Iterator &#x63A5;&#x53E3;&#xFF0C;&#x5E76;&#x4E14;&#x6309;&#x7167;&#x81EA;&#x5DF1;&#x7684;&#x65B9;&#x5F0F;&#x91CD;&#x5199;&#x4E86; hasNext&#x3001;next&#x3001;remove &#x7B49;&#x65B9;&#x6CD5;&#x3002;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">java&#x590D;&#x5236;&#x4EE3;&#x7801;private class Itr implements Iterator&lt;E&gt; {</span><br><span class="line"></span><br><span class="line">    public boolean hasNext() {</span><br><span class="line">        return cursor != size;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    @SuppressWarnings(&quot;unchecked&quot;)</span><br><span class="line">    public E next() {</span><br><span class="line">        Object[] elementData = ArrayList.this.elementData;</span><br><span class="line">        cursor = i + 1;</span><br><span class="line">        return (E) elementData[lastRet = i];</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    public void remove() {</span><br><span class="line">        try {</span><br><span class="line">            ArrayList.this.remove(lastRet);</span><br><span class="line">            cursor = lastRet;</span><br><span class="line">            lastRet = -1;</span><br><span class="line">            expectedModCount = modCount;</span><br><span class="line">        } catch (IndexOutOfBoundsException ex) {</span><br><span class="line">            throw new ConcurrentModificationException();</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">}</span><br></pre></td></tr></table></figure>

<p>&#x90A3;&#x53EF;&#x80FD;&#x6709;&#x4E9B;&#x5C0F;&#x4F19;&#x4F34;&#x4F1A;&#x95EE;&#xFF1A;&#x4E3A;&#x4EC0;&#x4E48;&#x4E0D;&#x76F4;&#x63A5;&#x5C06; Iterator &#x4E2D;&#x7684;&#x6838;&#x5FC3;&#x65B9;&#x6CD5; hasNext&#x3001;next &#x653E;&#x5230; Iterable &#x63A5;&#x53E3;&#x4E2D;&#x5462;&#xFF1F;&#x76F4;&#x63A5;&#x50CF;&#x4E0B;&#x9762;&#x8FD9;&#x6837;&#x4F7F;&#x7528;&#x4E0D;&#x662F;&#x66F4;&#x65B9;&#x4FBF;&#xFF1F;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">java&#x590D;&#x5236;&#x4EE3;&#x7801;Iterable it = list.iterator();</span><br><span class="line">while (it.hasNext()) {</span><br><span class="line">}</span><br></pre></td></tr></table></figure>

<p>&#x4ECE;&#x82F1;&#x6587;&#x5355;&#x8BCD;&#x7684;&#x540E;&#x7F00;&#x8BED;&#x6CD5;&#x4E0A;&#x6765;&#x770B;&#xFF0C;&#xFF08;Iterable&#xFF09;able &#x8868;&#x793A;&#x8FD9;&#x4E2A; List &#x662F;&#x652F;&#x6301;&#x8FED;&#x4EE3;&#x7684;&#xFF0C;&#x800C; &#xFF08;Iterator&#xFF09;tor &#x8868;&#x793A;&#x8FD9;&#x4E2A; List &#x662F;&#x5982;&#x4F55;&#x8FED;&#x4EE3;&#x7684;&#x3002;</p>
<p>&#x652F;&#x6301;&#x8FED;&#x4EE3;&#x4E0E;&#x5177;&#x4F53;&#x600E;&#x4E48;&#x8FED;&#x4EE3;&#x663E;&#x7136;&#x4E0D;&#x80FD;&#x6DF7;&#x5728;&#x4E00;&#x8D77;&#xFF0C;&#x5426;&#x5219;&#x5C31;&#x4E71;&#x7684;&#x4E00;&#x7B14;&#x3002;&#x8FD8;&#x662F;&#x5404;&#x53F8;&#x5176;&#x804C;&#x7684;&#x597D;&#x3002;</p>
<p>&#x60F3;&#x4E00;&#x4E0B;&#xFF0C;&#x5982;&#x679C;&#x628A; Iterator &#x548C; Iterable &#x5408;&#x5E76;&#xFF0C;for-each &#x8FD9;&#x79CD;&#x904D;&#x5386; List &#x7684;&#x65B9;&#x5F0F;&#x662F;&#x4E0D;&#x662F;&#x5C31;&#x4E0D;&#x597D;&#x529E;&#x4E86;&#xFF1F;</p>
<p>&#x539F;&#x5219;&#x4E0A;&#xFF0C;&#x53EA;&#x8981;&#x4E00;&#x4E2A; List &#x5B9E;&#x73B0;&#x4E86; Iterable &#x63A5;&#x53E3;&#xFF0C;&#x90A3;&#x4E48;&#x5B83;&#x5C31;&#x53EF;&#x4EE5;&#x4F7F;&#x7528; for-each &#x8FD9;&#x79CD;&#x65B9;&#x5F0F;&#x6765;&#x904D;&#x5386;&#xFF0C;&#x90A3;&#x5177;&#x4F53;&#x8BE5;&#x600E;&#x4E48;&#x904D;&#x5386;&#xFF0C;&#x8FD8;&#x662F;&#x8981;&#x770B;&#x5B83;&#x81EA;&#x5DF1;&#x662F;&#x600E;&#x4E48;&#x5B9E;&#x73B0; Iterator &#x63A5;&#x53E3;&#x7684;&#x3002;</p>
<p>Map &#x5C31;&#x6CA1;&#x529E;&#x6CD5;&#x76F4;&#x63A5;&#x4F7F;&#x7528; for-each&#xFF0C;&#x56E0;&#x4E3A; Map &#x6CA1;&#x6709;&#x5B9E;&#x73B0; Iterable &#x63A5;&#x53E3;&#xFF0C;&#x53EA;&#x6709;&#x901A;&#x8FC7; <code>map.entrySet()</code>&#x3001;<code>map.keySet()</code>&#x3001;<code>map.values()</code> &#x8FD9;&#x79CD;&#x8FD4;&#x56DE;&#x4E00;&#x4E2A; Collection &#x7684;&#x65B9;&#x5F0F;&#x624D;&#x80FD; &#x4F7F;&#x7528; for-each&#x3002;</p>
<p>&#x5982;&#x679C;&#x6211;&#x4EEC;&#x4ED4;&#x7EC6;&#x7814;&#x7A76; LinkedList &#x7684;&#x6E90;&#x7801;&#x5C31;&#x4F1A;&#x53D1;&#x73B0;&#xFF0C;LinkedList &#x5E76;&#x6CA1;&#x6709;&#x76F4;&#x63A5;&#x91CD;&#x5199; Iterable &#x63A5;&#x53E3;&#x7684; iterator &#x65B9;&#x6CD5;&#xFF0C;&#x800C;&#x662F;&#x7531;&#x5B83;&#x7684;&#x7236;&#x7C7B; AbstractSequentialList &#x6765;&#x5B8C;&#x6210;&#x3002;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">java&#x590D;&#x5236;&#x4EE3;&#x7801;public Iterator&lt;E&gt; iterator() {</span><br><span class="line">    return listIterator();</span><br><span class="line">}</span><br></pre></td></tr></table></figure>

<p>LinkedList &#x91CD;&#x5199;&#x4E86; listIterator &#x65B9;&#x6CD5;&#xFF1A;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">java&#x590D;&#x5236;&#x4EE3;&#x7801;public ListIterator&lt;E&gt; listIterator(int index) {</span><br><span class="line">    checkPositionIndex(index);</span><br><span class="line">    return new ListItr(index);</span><br><span class="line">}</span><br></pre></td></tr></table></figure>

<p>&#x8FD9;&#x91CC;&#x6211;&#x4EEC;&#x53D1;&#x73B0;&#x4E86;&#x4E00;&#x4E2A;&#x65B0;&#x7684;&#x8FED;&#x4EE3;&#x5668; ListIterator&#xFF0C;&#x5B83;&#x7EE7;&#x627F;&#x4E86; Iterator &#x63A5;&#x53E3;&#xFF0C;&#x5728;&#x904D;&#x5386;List &#x65F6;&#x53EF;&#x4EE5;&#x4ECE;&#x4EFB;&#x610F;&#x4E0B;&#x6807;&#x5F00;&#x59CB;&#x904D;&#x5386;&#xFF0C;&#x800C;&#x4E14;&#x652F;&#x6301;&#x53CC;&#x5411;&#x904D;&#x5386;&#x3002;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">java&#x590D;&#x5236;&#x4EE3;&#x7801;public interface ListIterator&lt;E&gt; extends Iterator&lt;E&gt; {</span><br><span class="line">    boolean hasNext();</span><br><span class="line">    E next();</span><br><span class="line">    boolean hasPrevious();</span><br><span class="line">    E previous();</span><br><span class="line">}</span><br></pre></td></tr></table></figure>

<p>&#x6211;&#x4EEC;&#x77E5;&#x9053;&#xFF0C;&#x96C6;&#x5408;&#xFF08;Collection&#xFF09;&#x4E0D;&#x4EC5;&#x6709; List&#xFF0C;&#x8FD8;&#x6709; Map &#x548C; Set&#xFF0C;&#x90A3; Iterator &#x4E0D;&#x4EC5;&#x652F;&#x6301; List&#xFF0C;&#x8FD8;&#x652F;&#x6301; Set&#xFF0C;&#x4F46; ListIterator &#x5C31;&#x53EA;&#x652F;&#x6301; List&#x3002;</p>
<p>&#x90A3;&#x53EF;&#x80FD;&#x6709;&#x4E9B;&#x5C0F;&#x4F19;&#x4F34;&#x4F1A;&#x95EE;&#xFF1A;&#x4E3A;&#x4EC0;&#x4E48;&#x4E0D;&#x76F4;&#x63A5;&#x8BA9; List &#x5B9E;&#x73B0; Iterator &#x63A5;&#x53E3;&#xFF0C;&#x800C;&#x662F;&#x8981;&#x7528;&#x5185;&#x90E8;&#x7C7B;&#x6765;&#x5B9E;&#x73B0;&#x5462;&#xFF1F;</p>
<p>&#x8FD9;&#x662F;&#x56E0;&#x4E3A;&#x6709;&#x4E9B; List &#x53EF;&#x80FD;&#x4F1A;&#x6709;&#x591A;&#x79CD;&#x904D;&#x5386;&#x65B9;&#x5F0F;&#xFF0C;&#x6BD4;&#x5982;&#x8BF4; LinkedList&#xFF0C;&#x9664;&#x4E86;&#x652F;&#x6301;&#x6B63;&#x5E8F;&#x7684;&#x904D;&#x5386;&#x65B9;&#x5F0F;&#xFF0C;&#x8FD8;&#x652F;&#x6301;&#x9006;&#x5E8F;&#x7684;&#x904D;&#x5386;&#x65B9;&#x5F0F;&#x2014;&#x2014;DescendingIterator&#xFF1A;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">java&#x590D;&#x5236;&#x4EE3;&#x7801;private class DescendingIterator implements Iterator&lt;E&gt; {</span><br><span class="line">    private final ListItr itr = new ListItr(size());</span><br><span class="line">    public boolean hasNext() {</span><br><span class="line">        return itr.hasPrevious();</span><br><span class="line">    }</span><br><span class="line">    public E next() {</span><br><span class="line">        return itr.previous();</span><br><span class="line">    }</span><br><span class="line">    public void remove() {</span><br><span class="line">        itr.remove();</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></table></figure>

<p>&#x53EF;&#x4EE5;&#x770B;&#x5F97;&#x5230;&#xFF0C;DescendingIterator &#x521A;&#x597D;&#x5229;&#x7528;&#x4E86; ListIterator &#x5411;&#x524D;&#x904D;&#x5386;&#x7684;&#x65B9;&#x5F0F;&#x3002;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;&#x4EE5;&#x4E0B;&#x7684;&#x65B9;&#x5F0F;&#x6765;&#x4F7F;&#x7528;&#xFF1A;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">java&#x590D;&#x5236;&#x4EE3;&#x7801;Iterator it = list.descendingIterator();</span><br><span class="line">while (it.hasNext()) {</span><br><span class="line">}</span><br></pre></td></tr></table></figure>

<hr>
<p>&#x597D;&#x4E86;&#xFF0C;&#x5173;&#x4E8E;Iterator&#x4E0E;Iterable&#x6211;&#x4EEC;&#x5C31;&#x5148;&#x804A;&#x8FD9;&#x4E48;&#x591A;&#xFF0C;&#x603B;&#x7ED3;&#x4E24;&#x70B9;&#xFF1A;</p>
<ul>
<li>&#x5B66;&#x4F1A;&#x6DF1;&#x5165;&#x601D;&#x8003;&#xFF0C;&#x4E00;&#x70B9;&#x70B9;&#x62BD;&#x4E1D;&#x5265;&#x8327;&#xFF0C;&#x591A;&#x60F3;&#x60F3;&#x4E3A;&#x4EC0;&#x4E48;&#x8FD9;&#x6837;&#x5B9E;&#x73B0;&#xFF0C;&#x5F88;&#x591A;&#x95EE;&#x9898;&#x6CA1;&#x6709;&#x81EA;&#x5DF1;&#x60F3;&#x8C61;&#x4E2D;&#x7684;&#x90A3;&#x4E48;&#x590D;&#x6742;&#x3002;</li>
<li>&#x9047;&#x5230;&#x7591;&#x60D1;&#x4E0D;&#x653E;&#x5F03;&#xFF0C;&#x8FD9;&#x662F;&#x63D0;&#x5347;&#x81EA;&#x5DF1;&#x6700;&#x597D;&#x7684;&#x673A;&#x4F1A;&#xFF0C;&#x9047;&#x5230;&#x67D0;&#x4E2A;&#x7591;&#x96BE;&#x7684;&#x70B9;&#xFF0C;&#x89E3;&#x51B3;&#x7684;&#x8FC7;&#x7A0B;&#x4E2D;&#x4F1A;&#x6316;&#x6398;&#x51FA;&#x5F88;&#x591A;&#x76F8;&#x5173;&#x7684;&#x4E1C;&#x897F;&#x3002;</li>
</ul>
<p><strong>&#x8FD9;&#x662F;&#x300A;Java &#x7A0B;&#x5E8F;&#x5458;&#x8FDB;&#x9636;&#x4E4B;&#x8DEF;&#x300B;&#x4E13;&#x680F;&#x7684;&#x7B2C; 62 &#x7BC7;&#x3002;Java &#x7A0B;&#x5E8F;&#x5458;&#x8FDB;&#x9636;&#x4E4B;&#x8DEF;&#xFF0C;&#x98CE;&#x8DA3;&#x5E7D;&#x9ED8;&#x3001;&#x901A;&#x4FD7;&#x6613;&#x61C2;&#xFF0C;&#x5BF9; Java &#x521D;&#x5B66;&#x8005;&#x6781;&#x5EA6;&#x53CB;&#x597D;&#x548C;&#x8212;&#x9002;&#x1F618;&#xFF0C;&#x5185;&#x5BB9;&#x5305;&#x62EC;&#x4F46;&#x4E0D;&#x9650;&#x4E8E; Java &#x8BED;&#x6CD5;&#x3001;Java &#x96C6;&#x5408;&#x6846;&#x67B6;&#x3001;Java IO&#x3001;Java &#x5E76;&#x53D1;&#x7F16;&#x7A0B;&#x3001;Java &#x865A;&#x62DF;&#x673A;&#x7B49;&#x6838;&#x5FC3;&#x77E5;&#x8BC6;&#x70B9;</strong>&#x3002;</p>
<p><a href="/external_links/19dd905022a1d585f9686b4715a86b08.html" target="blank" rel="noopener">github.com/itwanger/to&#x2026;</a></p>
<p>&#x54C7;&#x585E;&#xFF01;&#x79BB;&#x7EBF;&#x7248;&#x7684; PDF &#x4E5F;&#x975E;&#x5E38;&#x7684;&#x6F02;&#x4EAE;~</p>
<p><img src="https://gitee.com/songjianzaina/juejin_p6/raw/master/img/b5bf755dfae8653f6fd1dfa2a7321109ced5c4a33733a025b9461c03d81a9442" alt></p>
<p><strong>&#x672C;&#x6587;&#x8F6C;&#x8F7D;&#x81EA;:</strong> <a href="/external_links/ef0f4ac69c6faeb6134edde075e10465.html" target="blank" rel="noopener">&#x6398;&#x91D1;</a></p>
<p><em><a href="https://dev.newban.cn/">&#x5F00;&#x53D1;&#x8005;&#x535A;&#x5BA2; &#x2013; &#x548C;&#x5F00;&#x53D1;&#x76F8;&#x5173;&#x7684; &#x8FD9;&#x91CC;&#x5168;&#x90FD;&#x6709;</a></em></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://dev.newban.cn../../7023318767102853151.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="开发者博客">
      <meta itemprop="description" content>
      <meta itemprop="image" content="../../images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="开发者博客 – IT技术 尽在开发者博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="../../7023318767102853151.html" itemprop="url">MYSQL进阶之体系结构和InnoDB存储引擎 MYSQL</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2021-10-26T18:24:31+08:00">
                2021-10-26
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="MYSQL-&#x57FA;&#x7840;&#x67B6;&#x6784;"><a href="#MYSQL-&#x57FA;&#x7840;&#x67B6;&#x6784;" class="headerlink" title="MYSQL &#x57FA;&#x7840;&#x67B6;&#x6784;"></a>MYSQL &#x57FA;&#x7840;&#x67B6;&#x6784;</h1><h2 id="MySQL&#x57FA;&#x672C;&#x67B6;&#x6784;&#x56FE;"><a href="#MySQL&#x57FA;&#x672C;&#x67B6;&#x6784;&#x56FE;" class="headerlink" title="MySQL&#x57FA;&#x672C;&#x67B6;&#x6784;&#x56FE;"></a>MySQL&#x57FA;&#x672C;&#x67B6;&#x6784;&#x56FE;</h2><p><img src="https://gitee.com/songjianzaina/juejin_p5/raw/master/img/26432a394d9093fb23185f664a46cee5af8f3dfd3aa9bd03bee205e8287d4c83" alt="image.png"></p>
<p>&#x5927;&#x4F53;&#x6765;&#x8BF4;&#xFF0C;<code>MySQL</code> &#x53EF;&#x4EE5;&#x5206;&#x4E3A; <code>Server</code> &#x5C42;&#x548C;&#x5B58;&#x50A8;&#x5F15;&#x64CE;&#x5C42;&#x4E24;&#x90E8;&#x5206;&#x3002;</p>
<ul>
<li><code>Server</code> &#x5C42;&#x5305;&#x62EC;&#x8FDE;&#x63A5;&#x5668;&#x3001;&#x67E5;&#x8BE2;&#x7F13;&#x5B58;&#x3001;&#x5206;&#x6790;&#x5668;&#x3001;&#x4F18;&#x5316;&#x5668;&#x3001;&#x6267;&#x884C;&#x5668;&#x7B49;&#xFF0C;&#x6DB5;&#x76D6; <code>MySQL</code> &#x7684;&#x5927;&#x591A;&#x6570;&#x6838;&#x5FC3;&#x670D;&#x52A1;&#x529F;&#x80FD;&#xFF0C;&#x4EE5;&#x53CA;&#x6240;&#x6709;&#x7684;&#x5185;&#x7F6E;&#x51FD;&#x6570;&#xFF08;&#x5982;&#x65E5;&#x671F;&#x3001;&#x65F6;&#x95F4;&#x3001;&#x6570;&#x5B66;&#x548C;&#x52A0;&#x5BC6;&#x51FD;&#x6570;&#x7B49;&#xFF09;&#xFF0C;&#x6240;&#x6709;&#x8DE8;&#x5B58;&#x50A8;&#x5F15;&#x64CE;&#x7684;&#x529F;&#x80FD;&#x90FD;&#x5728;&#x8FD9;&#x4E00;&#x5C42;&#x5B9E;&#x73B0;&#xFF0C;&#x6BD4;&#x5982;&#x5B58;&#x50A8;&#x8FC7;&#x7A0B;&#x3001;&#x89E6;&#x53D1;&#x5668;&#x3001;&#x89C6;&#x56FE;&#x7B49;&#x3002;</li>
</ul>
<pre><code>+ &#x8FDE;&#x63A5;&#x5668;


&#x8FDE;&#x63A5;&#x5668;&#x5C31;&#x662F;&#x4F60;&#x8FDE;&#x63A5;&#x5230;&#x6570;&#x636E;&#x5E93;&#x65F6;&#x4F7F;&#x7528;&#x7684;&#xFF0C;&#x8D1F;&#x8D23;&#x8DDF;&#x5BA2;&#x6237;&#x7AEF;&#x5EFA;&#x7ACB;&#x8FDE;&#x63A5;&#x3001;&#x83B7;&#x53D6;&#x6743;&#x9650;&#x3001;&#x7EF4;&#x6301;&#x548C;&#x7BA1;&#x7406;&#x8FDE;&#x63A5;&#x3002;  

&#x547D;&#x4EE4;&#xFF1A; `mysql -h$ip -P$port -u$user -p`&#xFF0C;&#x56DE;&#x8F66;&#x540E;&#x8F93;&#x5BC6;&#x7801;&#xFF0C;&#x4E5F;&#x53EF;&#x4EE5;&#x5728; -p &#x540E;&#x9762;&#x8F93;&#x5165;&#x5BC6;&#x7801;&#xFF0C;&#x4F46;&#x662F;&#x6709;&#x5BC6;&#x7801;&#x6CC4;&#x9732;&#x7684;&#x98CE;&#x9669;&#x3002;


`show processlist`,&#x53EF;&#x4EE5;&#x67E5;&#x770B;&#x8FDE;&#x63A5;&#x7684;&#x60C5;&#x51B5;&#xFF0C;Command &#x5217;&#x4E2D;&#x6709;&#x4E00;&#x4E2A; Sleep &#x8868;&#x793A;&#x8FDE;&#x63A5;&#x7A7A;&#x95F2;&#x3002;  

![image.png](https://gitee.com/songjianzaina/juejin_p5/raw/master/img/26da2db09ffbf40cf2925559d9d856677836e4273e30e0a8c6833973c1ac7e54)
&#x7A7A;&#x95F2;&#x8FDE;&#x63A5;&#x9ED8;&#x8BA4;8&#x5C0F;&#x65F6;&#x4F1A;&#x88AB;&#x65AD;&#x5F00;&#xFF0C;&#x53EF;&#x4EE5;&#x7531;wait\_timeout&#x53C2;&#x6570;&#x914D;&#x7F6E;&#x3002;


&#x5728;&#x6570;&#x636E;&#x5E93;&#x4E2D;&#xFF0C;&#x957F;&#x8FDE;&#x63A5;&#x662F;&#x6307;&#x8FDE;&#x63A5;&#x6210;&#x529F;&#x540E;&#xFF0C;&#x5982;&#x679C;&#x5BA2;&#x6237;&#x7AEF;&#x6301;&#x7EED;&#x6709;&#x8BF7;&#x6C42;&#xFF0C;&#x5219;&#x4E00;&#x76F4;&#x4F7F;&#x7528;&#x540C;&#x4E00;&#x4E2A;&#x8FDE;&#x63A5;&#x3002;&#x77ED;&#x8FDE;&#x63A5;&#x5219;&#x662F;&#x6307;&#x6BCF;&#x6B21;&#x6267;&#x884C;&#x5B8C;&#x5F88;&#x5C11;&#x7684;&#x51E0;&#x6B21;&#x67E5;&#x8BE2;&#x5C31;&#x65AD;&#x5F00;&#x8FDE;&#x63A5;&#xFF0C;&#x4E0B;&#x6B21;&#x67E5;&#x8BE2;&#x518D;&#x91CD;&#x65B0;&#x5EFA;&#x7ACB;&#x4E00;&#x4E2A;&#x3002;


&#x7531;&#x4E8E;&#x5EFA;&#x7ACB;&#x8FDE;&#x63A5;&#x6BD4;&#x8F83;&#x8017;&#x8D44;&#x6E90;&#xFF0C;&#x6240;&#x4EE5;&#x5EFA;&#x8BAE;&#x5C3D;&#x91CF;&#x4F7F;&#x7528;&#x957F;&#x8FDE;&#x63A5;&#xFF0C;&#x4F46;&#x662F;&#x4F7F;&#x7528;&#x957F;&#x8FDE;&#x63A5;&#x540E;&#xFF0C;MySQL &#x5360;&#x7528;&#x5185;&#x5B58;&#x6DA8;&#x5F97;&#x7279;&#x522B;&#x5FEB;&#xFF0C;&#x8FD9;&#x662F;&#x56E0;&#x4E3A; MySQL &#x5728;&#x6267;&#x884C;&#x8FC7;&#x7A0B;&#x4E2D;&#x4E34;&#x65F6;&#x4F7F;&#x7528;&#x7684;&#x5185;&#x5B58;&#x662F;&#x7BA1;&#x7406;&#x5728;&#x8FDE;&#x63A5;&#x5BF9;&#x8C61;&#x91CC;&#x9762;&#x7684;&#x3002;&#x8FD9;&#x4E9B;&#x8D44;&#x6E90;&#x4F1A;&#x5728;&#x8FDE;&#x63A5;&#x65AD;&#x5F00;&#x7684;&#x65F6;&#x5019;&#x624D;&#x91CA;&#x653E;&#x3002;&#x6240;&#x4EE5;&#x5982;&#x679C;&#x957F;&#x8FDE;&#x63A5;&#x7D2F;&#x79EF;&#x4E0B;&#x6765;&#xFF0C;&#x53EF;&#x80FD;&#x5BFC;&#x81F4;&#x5185;&#x5B58;&#x5360;&#x7528;&#x592A;&#x5927;&#xFF0C;&#x88AB;&#x7CFB;&#x7EDF;&#x5F3A;&#x884C;&#x6740;&#x6389;&#xFF08;OOM&#xFF09;&#xFF0C;&#x4ECE;&#x73B0;&#x8C61;&#x770B;&#x5C31;&#x662F; MySQL &#x5F02;&#x5E38;&#x91CD;&#x542F;&#x4E86;&#x3002;


&#x89E3;&#x51B3;&#x65B9;&#x6848;&#xFF1A;


    1. &#x5B9A;&#x671F;&#x65AD;&#x5F00;&#x957F;&#x8FDE;&#x63A5;&#x3002;&#x4F7F;&#x7528;&#x4E00;&#x6BB5;&#x65F6;&#x95F4;&#xFF0C;&#x6216;&#x8005;&#x7A0B;&#x5E8F;&#x91CC;&#x9762;&#x5224;&#x65AD;&#x6267;&#x884C;&#x8FC7;&#x4E00;&#x4E2A;&#x5360;&#x7528;&#x5185;&#x5B58;&#x7684;&#x5927;&#x67E5;&#x8BE2;&#x540E;&#xFF0C;&#x65AD;&#x5F00;&#x8FDE;&#x63A5;&#xFF0C;&#x4E4B;&#x540E;&#x8981;&#x67E5;&#x8BE2;&#x518D;&#x91CD;&#x8FDE;&#x3002;
    2. &#x5982;&#x679C;&#x4F60;&#x7528;&#x7684;&#x662F; MySQL 5.7 &#x6216;&#x66F4;&#x65B0;&#x7248;&#x672C;&#xFF0C;&#x53EF;&#x4EE5;&#x5728;&#x6BCF;&#x6B21;&#x6267;&#x884C;&#x4E00;&#x4E2A;&#x6BD4;&#x8F83;&#x5927;&#x7684;&#x64CD;&#x4F5C;&#x540E;&#xFF0C;&#x901A;&#x8FC7;&#x6267;&#x884C; `mysql_reset_connection` &#x6765;&#x91CD;&#x65B0;&#x521D;&#x59CB;&#x5316;&#x8FDE;&#x63A5;&#x8D44;&#x6E90;&#x3002;&#x8FD9;&#x4E2A;&#x8FC7;&#x7A0B;&#x4E0D;&#x9700;&#x8981;&#x91CD;&#x8FDE;&#x548C;&#x91CD;&#x65B0;&#x505A;&#x6743;&#x9650;&#x9A8C;&#x8BC1;&#xFF0C;&#x4F46;&#x662F;&#x4F1A;&#x5C06;&#x8FDE;&#x63A5;&#x6062;&#x590D;&#x5230;&#x521A;&#x521A;&#x521B;&#x5EFA;&#x5B8C;&#x65F6;&#x7684;&#x72B6;&#x6001;&#x3002;
+ &#x67E5;&#x8BE2;&#x7F13;&#x5B58;  

&#x67E5;&#x8BE2;&#x7F13;&#x5B58;&#x662F;&#x5C06;&#x4E4B;&#x524D;&#x6267;&#x884C;&#x8FC7;&#x7684;&#x8BED;&#x53E5;&#x53CA;&#x5176;&#x7ED3;&#x679C;&#x4EE5; `key-value` &#x5BF9;&#x7684;&#x5F62;&#x5F0F;&#x7F13;&#x5B58;&#x5728;&#x5185;&#x5B58;&#x4E2D;&#x3002;key &#x662F;&#x67E5;&#x8BE2;&#x7684;&#x8BED;&#x53E5;&#xFF0C;value &#x662F;&#x67E5;&#x8BE2;&#x7684;&#x7ED3;&#x679C;&#x3002;&#x5982;&#x679C;&#x4F60;&#x7684;&#x67E5;&#x8BE2;&#x80FD;&#x591F;&#x76F4;&#x63A5;&#x5728;&#x8FD9;&#x4E2A;&#x7F13;&#x5B58;&#x4E2D;&#x627E;&#x5230; key&#xFF0C;&#x90A3;&#x4E48;&#x8FD9;&#x4E2A; value &#x5C31;&#x4F1A;&#x88AB;&#x76F4;&#x63A5;&#x8FD4;&#x56DE;&#x7ED9;&#x5BA2;&#x6237;&#x7AEF;&#x3002;
&#x67E5;&#x8BE2;&#x7F13;&#x5B58;&#x5728;MYSQL8&#x65F6;&#x88AB;&#x79FB;&#x9664;&#x4E86;&#xFF0C;&#x7531;&#x4E8E;&#x67E5;&#x8BE2;&#x7F13;&#x5B58;&#x5931;&#x6548;&#x9891;&#x7E41;&#xFF0C;&#x547D;&#x4E2D;&#x7387;&#x4F4E;&#x3002;
+ &#x5206;&#x6790;&#x5668;  

&#x5206;&#x6790;&#x5668;&#x5148;&#x4F1A;&#x505A;&#x201C;&#x8BCD;&#x6CD5;&#x5206;&#x6790;&#x201D;&#xFF0C;&#x8BC6;&#x522B;&#x51FA;&#x91CC;&#x9762;&#x7684;&#x5B57;&#x7B26;&#x4E32;&#x5206;&#x522B;&#x662F;&#x4EC0;&#x4E48;&#xFF0C;&#x4EE3;&#x8868;&#x4EC0;&#x4E48;&#x3002;&#x7136;&#x540E;&#x9700;&#x8981;&#x505A;&#x201C;&#x8BED;&#x6CD5;&#x5206;&#x6790;&#x201D;&#xFF0C;&#x5224;&#x65AD;&#x4F60;&#x8F93;&#x5165;&#x7684;&#x8FD9;&#x4E2A; SQL &#x8BED;&#x53E5;&#x662F;&#x5426;&#x6EE1;&#x8DB3; MySQL &#x8BED;&#x6CD5;&#x3002;
+ &#x4F18;&#x5316;&#x5668;
+ &#x6267;&#x884C;&#x5668;</code></pre><ul>
<li>&#x5B58;&#x50A8;&#x5F15;&#x64CE;&#x5C42;&#x8D1F;&#x8D23;&#x6570;&#x636E;&#x7684;&#x5B58;&#x50A8;&#x548C;&#x63D0;&#x53D6;&#x3002;&#x5176;&#x67B6;&#x6784;&#x6A21;&#x5F0F;&#x662F;&#x63D2;&#x4EF6;&#x5F0F;&#x7684;&#xFF0C;&#x652F;&#x6301; <code>InnoDB&#x3001;MyISAM&#x3001;Memory</code> &#x7B49;&#x591A;&#x4E2A;&#x5B58;&#x50A8;&#x5F15;&#x64CE;&#x3002;&#x73B0;&#x5728;&#x6700;&#x5E38;&#x7528;&#x7684;&#x5B58;&#x50A8;&#x5F15;&#x64CE;&#x662F; <code>InnoDB</code>&#xFF0C;&#x5B83;&#x4ECE; <code>MySQL 5.5.5</code> &#x7248;&#x672C;&#x5F00;&#x59CB;&#x6210;&#x4E3A;&#x4E86;&#x9ED8;&#x8BA4;&#x5B58;&#x50A8;&#x5F15;&#x64CE;&#x3002;</li>
</ul>
<h2 id="&#x4E00;&#x6761;-Select-&#x8BED;&#x53E5;&#x6267;&#x884C;&#x6D41;&#x7A0B;"><a href="#&#x4E00;&#x6761;-Select-&#x8BED;&#x53E5;&#x6267;&#x884C;&#x6D41;&#x7A0B;" class="headerlink" title="&#x4E00;&#x6761; Select &#x8BED;&#x53E5;&#x6267;&#x884C;&#x6D41;&#x7A0B;"></a>&#x4E00;&#x6761; <code>Select</code> &#x8BED;&#x53E5;&#x6267;&#x884C;&#x6D41;&#x7A0B;</h2><p><img src="https://gitee.com/songjianzaina/juejin_p5/raw/master/img/56974bda0ec23379b434f2d77da6bf646fcb242cb2c5884d82b8a100b66d07e8" alt="image.png"><br>&#x4E0A;&#x56FE;&#x4EE5; InnoDB &#x5B58;&#x50A8;&#x5F15;&#x64CE;&#x4E3A;&#x4F8B;&#xFF0C;&#x5904;&#x7406;&#x8FC7;&#x7A0B;&#x5982;&#x4E0B;&#xFF1A;</p>
<ul>
<li>&#x7528;&#x6237;&#x53D1;&#x9001;&#x8BF7;&#x6C42;&#x5230; <code>tomcat</code> &#xFF0C;&#x901A;&#x8FC7; <code>tomcat</code> &#x94FE;&#x63A5;&#x6C60;&#x548C; <code>mysql</code> &#x8FDE;&#x63A5;&#x6C60;&#x5EFA;&#x7ACB;&#x8FDE;&#x63A5;&#xFF0C;&#x7136;&#x540E;&#x901A;&#x8FC7;&#x8FDE;&#x63A5;&#x53D1;&#x9001; SQL &#x8BED;&#x53E5;&#x5230; <code>MySQL</code>&#xFF1B;</li>
<li><code>MySQL</code> &#x6709;&#x4E00;&#x4E2A;&#x5355;&#x72EC;&#x7684;&#x76D1;&#x542C;&#x7EBF;&#x7A0B;&#xFF0C;&#x8BFB;&#x53D6;&#x5230;&#x8BF7;&#x6C42;&#x6570;&#x636E;&#xFF0C;&#x5F97;&#x5230;&#x8FDE;&#x63A5;&#x4E2D;&#x8BF7;&#x6C42;&#x7684;SQL&#x8BED;&#x53E5;&#xFF1B;</li>
<li>&#x5C06;&#x83B7;&#x53D6;&#x5230;&#x7684;SQL&#x6570;&#x636E;&#x53D1;&#x9001;&#x7ED9;SQL&#x63A5;&#x53E3;&#x53BB;&#x6267;&#x884C;&#xFF1B;</li>
<li>SQL&#x63A5;&#x53E3;&#x5C06;SQL&#x53D1;&#x9001;&#x7ED9;SQL&#x89E3;&#x6790;&#x5668;&#x8FDB;&#x884C;&#x89E3;&#x6790;&#xFF1B;</li>
<li>&#x5C06;&#x89E3;&#x6790;&#x597D;&#x7684;SQL&#x53D1;&#x9001;&#x7ED9;&#x67E5;&#x8BE2;&#x4F18;&#x5316;&#x5668;&#xFF0C;&#x627E;&#x5230;&#x6700;&#x4F18;&#x7684;&#x67E5;&#x8BE2;&#x8DEF;&#x52B2;&#xFF0C;&#x7136;&#x540E;&#x53D1;&#x7ED9;&#x6267;&#x884C;&#x5668;&#xFF1B;</li>
<li>&#x6267;&#x884C;&#x5668;&#x6839;&#x636E;&#x4F18;&#x5316;&#x540E;&#x7684;&#x6267;&#x884C;&#x65B9;&#x6848;&#x8C03;&#x7528;&#x5B58;&#x50A8;&#x5F15;&#x64CE;&#x7684;&#x63A5;&#x53E3;&#x6309;&#x7167;&#x4E00;&#x5B9A;&#x7684;&#x987A;&#x5E8F;&#x548C;&#x6B65;&#x9AA4;&#x8FDB;&#x884C;&#x6267;&#x884C;&#x3002;  </li>
</ul>
<p>&#x4E3E;&#x4E2A;&#x4F8B;&#x5B50;&#xFF0C;&#x6BD4;&#x5982;&#x6267;&#x884C;&#x5668;&#x53EF;&#x80FD;&#x4F1A;&#x5148;&#x8C03;&#x7528;&#x5B58;&#x50A8;&#x5F15;&#x64CE;&#x7684;&#x4E00;&#x4E2A;&#x63A5;&#x53E3;&#xFF0C;&#x53BB;&#x83B7;&#x53D6;&#x201C;users&#x201D;&#x8868;&#x4E2D;&#x7684;&#x7B2C;&#x4E00;&#x884C;&#x6570;&#x636E;&#xFF0C;&#x7136;&#x540E;&#x5224;&#x65AD;&#x4E00;&#x4E0B;&#x8FD9;&#x4E2A;&#x6570;&#x636E;&#x7684; &#x201C;id&#x201D;&#x5B57;&#x6BB5;&#x7684;&#x503C;&#x662F;&#x5426;&#x7B49;&#x4E8E;&#x6211;&#x4EEC;&#x671F;&#x671B;&#x7684;&#x4E00;&#x4E2A;&#x503C;&#xFF0C;&#x5982;&#x679C;&#x4E0D;&#x662F;&#x7684;&#x8BDD;&#xFF0C;&#x90A3;&#x5C31;&#x7EE7;&#x7EED;&#x8C03;&#x7528;&#x5B58;&#x50A8;&#x5F15;&#x64CE;&#x7684;&#x63A5;&#x53E3;&#xFF0C;&#x53BB;&#x83B7;&#x53D6;&#x201C;users&#x201D;&#x8868;&#x7684;&#x4E0B;&#x4E00;&#x884C;&#x6570;&#x636E;&#x3002; &#x5C31;&#x662F;&#x57FA;&#x4E8E;&#x4E0A;&#x8FF0;&#x7684;&#x601D;&#x8DEF;&#xFF0C;&#x6267;&#x884C;&#x5668;&#x5C31;&#x4F1A;&#x53BB;&#x6839;&#x636E;&#x6211;&#x4EEC;&#x7684;&#x4F18;&#x5316;&#x5668;&#x751F;&#x6210;&#x7684;&#x4E00;&#x5957;&#x6267;&#x884C;&#x8BA1;&#x5212;&#xFF0C;&#x7136;&#x540E;&#x4E0D;&#x505C;&#x7684;&#x8C03;&#x7528;&#x5B58;&#x50A8;&#x5F15;&#x64CE;&#x7684;&#x5404;&#x79CD;&#x63A5;&#x53E3;&#x53BB;&#x5B8C;&#x6210;SQL &#x8BED;&#x53E5;&#x7684;&#x6267;&#x884C;&#x8BA1;&#x5212;&#xFF0C;&#x5927;&#x81F4;&#x5C31;&#x662F;&#x4E0D;&#x505C;&#x7684;&#x66F4;&#x65B0;&#x6216;&#x8005;&#x63D0;&#x53D6;&#x4E00;&#x4E9B;&#x6570;&#x636E;&#x51FA;&#x6765;&#x3002;</p>
<p>&#x5728;&#x8FD9;&#x91CC;&#x6D89;&#x53CA;&#x5230;&#x51E0;&#x4E2A;&#x95EE;&#x9898;&#xFF1A;</p>
<ul>
<li>MySQL&#x9A71;&#x52A8;&#x5230;&#x5E95;&#x662F;&#x4EC0;&#x4E48;&#x4E1C;&#x897F;&#xFF1F;<br>&#x4EE5;java&#x4E3A;&#x4F8B;&#xFF0C;&#x6211;&#x4EEC;&#x4EEC;&#x5982;&#x679C;&#x8981;&#x5728;Java&#x7CFB;&#x7EDF;&#x4E2D;&#x53BB;&#x8BBF;&#x95EE;&#x4E00;&#x4E2A;MySQL&#x6570;&#x636E;&#x5E93;&#xFF0C;&#x5FC5;&#x987B;&#x5F97;&#x5728;&#x7CFB;&#x7EDF;&#x7684;&#x4F9D;&#x8D56;&#x4E2D;&#x52A0;&#x5165;&#x4E00;&#x4E2A;MySQL&#x9A71;&#x52A8;&#xFF0C;&#x6BD4;&#x5982;&#x5728;Maven&#x91CC;&#x9762;&#x8981;&#x52A0;&#x4E0A;</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">xml&#x590D;&#x5236;&#x4EE3;&#x7801;&lt;dependency&gt;</span><br><span class="line">    &lt;groupId&gt;mysql&lt;/groupId&gt;</span><br><span class="line">    &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;</span><br><span class="line">    &lt;version&gt;5.1.46&lt;/version&gt;</span><br><span class="line">&lt;/dependency&gt;</span><br></pre></td></tr></table></figure>

<p>&#x90A3;&#x4E48;&#x8FD9;&#x4E2A;MySQL&#x9A71;&#x52A8;&#x5230;&#x5E95;&#x662F;&#x4E2A;&#x4EC0;&#x4E48;&#x4E1C;&#x897F;?&#x5176;&#x5B9E;L&#x9A71;&#x52A8;&#x5C31;&#x4F1A;&#x5728;&#x5E95;&#x5C42;&#x8DDF;&#x6570;&#x636E;&#x5E93;&#x5EFA;&#x7ACB;&#x7F51;&#x7EDC;&#x8FDE;&#x63A5;&#xFF0C;&#x6709;&#x7F51;&#x7EDC;&#x8FDE;&#x63A5;&#xFF0C;&#x63A5;&#x7740;&#x624D;&#x80FD;&#x53BB;&#x53D1;&#x9001;&#x8BF7;&#x6C42;&#x7ED9;&#x6570;&#x636E;&#x5E93;&#x670D;&#x52A1;&#x5668;&#xFF01;&#x8BA9;&#x8BED;&#x8A00;&#x7F16;&#x5199;&#x7684;&#x7CFB;&#x7EDF;&#x901A;&#x8FC7;MySQL&#x9A71;&#x52A8;&#x53BB;&#x8BBF;&#x95EE;&#x6570;&#x636E;&#x5E93;&#xFF0C;&#x5982;&#x4E0B;&#x56FE;<br><img src="https://gitee.com/songjianzaina/juejin_p5/raw/master/img/6196ed24b869938562414d8717e7e75a36ef8cff1e04952122543fa7d4411a30" alt="image.png"></p>
<ul>
<li>&#x6570;&#x636E;&#x5E93;&#x8FDE;&#x63A5;&#x6C60;&#x5230;&#x5E95;&#x662F;&#x7528;&#x6765;&#x5E72;&#x4EC0;&#x4E48;&#x7684;&#xFF1F;  </li>
</ul>
<p>&#x5047;&#x8BBE;&#x7528;java&#x5F00;&#x53D1;&#x4E00;&#x4E2A;web&#x670D;&#x52A1;&#x90E8;&#x7F72;&#x5728;tomcat&#x4E0A;&#xFF0C;tomcat&#x53EF;&#x4EE5;&#x591A;&#x7EBF;&#x7A0B;&#x5E76;&#x53D1;&#x5904;&#x7406;&#x8BF7;&#x6C42;&#xFF0C;&#x6240;&#x4EE5;&#x9996;&#x5148;&#x4E00;&#x70B9;&#x5C31;&#x662F;&#x4E0D;&#x53EF;&#x80FD;&#x53EA;&#x4F1A;&#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x6570;&#x636E;&#x5E93;&#x8FDE;&#x63A5;&#xFF08;&#x591A;&#x4E2A;&#x8BF7;&#x6C42;&#x53BB;&#x62A2;&#x4E00;&#x4E2A;&#x8FDE;&#x63A5;&#xFF0C;&#x6548;&#x7387;&#x5F97;&#x591A;&#x4F4E;&#x4E0B;&#xFF09;&#x3002;  </p>
<p>&#x5176;&#x6B21;&#xFF0C;&#x5982;&#x679C;&#x6BCF;&#x4E2A;&#x8BF7;&#x6C42;&#x90FD;&#x53BB;&#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x6570;&#x636E;&#x5E93;&#x8FDE;&#x63A5;&#x5462;? &#x8FD9;&#x4E5F;&#x662F;&#x975E;&#x5E38;&#x4E0D;&#x597D;&#x7684;&#xFF0C;&#x56E0;&#x4E3A;&#x6BCF;&#x6B21;&#x5EFA;&#x7ACB;&#x4E00;&#x4E2A;&#x6570;&#x636E;&#x5E93;&#x8FDE;&#x63A5;&#x90FD;&#x5F88;&#x8017;&#x65F6;&#xFF0C;&#x597D;&#x4E0D;&#x5BB9;&#x6613;&#x5EFA;&#x7ACB;&#x597D;&#x4E86;&#x8FDE;&#x63A5;&#xFF0C;&#x6267;&#x884C;&#x5B8C;&#x4E86;SQL&#x8BED;&#x53E5;&#xFF0C;&#x8FD8;&#x628A;&#x6570;&#x636E;&#x5E93;&#x8FDE;&#x63A5;&#x7ED9;&#x9500;&#x6BC1;&#xFF0C;&#x9891;&#x7E41;&#x521B;&#x5EFA;&#x548C;&#x9500;&#x6BC1;&#x5E26;&#x6765;&#x6027;&#x80FD;&#x95EE;&#x9898;&#x3002;  </p>
<p>&#x6240;&#x4EE5;&#x4E00;&#x822C;&#x4F7F;&#x7528;&#x6570;&#x636E;&#x5E93;&#x8FDE;&#x63A5;&#x6C60;&#xFF0C;&#x4E5F;&#x5C31;&#x662F;&#x5728;&#x4E00;&#x4E2A;&#x6C60;&#x5B50;&#x91CC;&#x7EF4;&#x6301;&#x591A;&#x4E2A;&#x6570;&#x636E;&#x5E93;&#x8FDE;&#x63A5;&#xFF0C;&#x8BA9;&#x591A;&#x4E2A;&#x7EBF;&#x7A0B;&#x4F7F;&#x7528;&#x91CC;&#x9762;&#x7684;&#x4E0D;&#x540C;&#x7684;&#x6570;&#x636E;&#x5E93;&#x8FDE;&#x63A5;&#x53BB;&#x6267;&#x884C;SQL&#x8BED;&#x53E5;&#xFF0C;&#x7136;&#x540E;&#x6267;&#x884C;&#x5B8C;SQL&#x8BED;&#x53E5;&#x4E4B;&#x540E;&#xFF0C;&#x4E0D;&#x8981;&#x9500;&#x6BC1;&#x8FD9;&#x4E2A;&#x6570;&#x636E;&#x5E93;&#x8FDE;&#x63A5;&#xFF0C;&#x800C;&#x662F;&#x628A;&#x8FDE;&#x63A5;&#x653E;&#x56DE;&#x6C60;&#x5B50;&#x91CC;&#xFF0C;&#x540E;&#x7EED;&#x8FD8;&#x53EF;&#x4EE5;&#x7EE7;&#x7EED;&#x4F7F;&#x7528;&#x3002;&#x57FA;&#x4E8E;&#x8FD9;&#x6837;&#x7684;&#x4E00;&#x4E2A;&#x6570;&#x636E;&#x5E93;&#x8FDE;&#x63A5;&#x6C60;&#x7684;&#x673A;&#x5236;&#xFF0C;&#x5C31;&#x53EF;&#x4EE5;&#x89E3;&#x51B3;&#x591A;&#x4E2A;&#x7EBF;&#x7A0B;&#x5E76;&#x53D1;&#x7684;&#x4F7F;&#x7528;&#x591A;&#x4E2A;&#x6570;&#x636E;&#x5E93;&#x8FDE;&#x63A5;&#x53BB;&#x6267;&#x884C;SQL&#x8BED;&#x53E5;&#x7684;&#x95EE;&#x9898;&#xFF0C;&#x800C;&#x4E14;&#x8FD8;&#x907F;&#x514D;&#x4E86;&#x6570;&#x636E;&#x5E93;&#x8FDE;&#x63A5;&#x4F7F;&#x7528;&#x5B8C;&#x4E4B;&#x540E;&#x5C31;&#x9500;&#x6BC1;&#x7684;&#x95EE;&#x9898;&#x4E86;&#x3002;  </p>
<p><img src="https://gitee.com/songjianzaina/juejin_p5/raw/master/img/61fcc5d9a7f84286686fe457d1d12be9ed4200a2d233ea3968531b152d4b51eb" alt="image.png"></p>
<ul>
<li>MySQL&#x6570;&#x636E;&#x5E93;&#x7684;&#x8FDE;&#x63A5;&#x6C60;&#x662F;&#x7528;&#x6765;&#x5E72;&#x4EC0;&#x4E48;&#x7684;&#xFF1F;  </li>
</ul>
<p>MySQL&#x6570;&#x636E;&#x5E93;&#x7684;&#x8FDE;&#x63A5;&#x6C60;&#x7684;&#x4F5C;&#x7528;&#x548C;java&#x5E94;&#x7528;&#x7AEF;&#x8FDE;&#x63A5;&#x6C60;&#x4F5C;&#x7528;&#x4E00;&#x6837;&#xFF0C;&#x90FD;&#x662F;&#x8D77;&#x5230;&#x4E86;&#x590D;&#x7528;&#x8FDE;&#x63A5;&#x7684;&#x4F5C;&#x7528;&#x3002;<br><img src="https://gitee.com/songjianzaina/juejin_p5/raw/master/img/07c948791f9469a4f74d5ca4e55046f42fa9696b08b1a863a91b3fc994d47395" alt="image.png"></p>
<h1 id="InnoDB-&#x5B58;&#x50A8;&#x5F15;&#x64CE;"><a href="#InnoDB-&#x5B58;&#x50A8;&#x5F15;&#x64CE;" class="headerlink" title="InnoDB &#x5B58;&#x50A8;&#x5F15;&#x64CE;"></a><code>InnoDB</code> &#x5B58;&#x50A8;&#x5F15;&#x64CE;</h1><h2 id="InnoDB-&#x67B6;&#x6784;&#x7B80;&#x6790;"><a href="#InnoDB-&#x67B6;&#x6784;&#x7B80;&#x6790;" class="headerlink" title="InnoDB &#x67B6;&#x6784;&#x7B80;&#x6790;"></a><code>InnoDB</code> &#x67B6;&#x6784;&#x7B80;&#x6790;</h2><p><img src="https://gitee.com/songjianzaina/juejin_p5/raw/master/img/64acdb8038600447d072953cc0aa10697ecbcbebc0667a7c60770b7b58adb53e" alt="image.png"><br>&#x4ECE;&#x56FE;&#x4E2D;&#x53EF;&#x89C1;&#xFF0C;<code>InnoDB</code> &#x5B58;&#x50A8;&#x5F15;&#x64CE;&#x7531;<strong>&#x5185;&#x5B58;&#x6C60;</strong>&#xFF0C;<strong>&#x540E;&#x53F0;&#x7EBF;&#x7A0B;</strong>&#x548C;<strong>&#x78C1;&#x76D8;&#x6587;&#x4EF6;</strong>&#x4E09;&#x5927;&#x90E8;&#x5206;&#x7EC4;&#x6210;</p>
<p>&#x518D;&#x6765;&#x4E00;&#x5F20;&#x7A81;&#x51FA;&#x91CD;&#x70B9;&#x7684;&#x56FE;&#xFF1A;<br><img src="https://gitee.com/songjianzaina/juejin_p5/raw/master/img/0bdbb84a99fb9a477dd39a7fa043b57cbb27e5cae38d5bfbd3503db6c6c0a8ca" alt="image.png"></p>
<p>&#x4F46;&#x662F;&#x4E0A;&#x9762;&#x8FD9;&#x4E9B;&#x56FE;&#x90FD;&#x592A;&#x96BE;&#x8BB0;&#x4F4F;&#x4E86;&#xFF0C;&#x6765;&#x4E00;&#x5F20;&#x7B80;&#x7565;&#x56FE;&#xFF1A;<br><img src="https://gitee.com/songjianzaina/juejin_p5/raw/master/img/bbb88943f02bbe523a929a2bf08f64ecf64b45a62970f6cf3feefa629f72c789" alt="image.png"></p>
<h2 id="InnoDB-&#x5B58;&#x50A8;&#x5F15;&#x64CE;&#x7B2C;&#x4E00;&#x90E8;&#x5206;&#xFF1A;&#x5185;&#x5B58;&#x7ED3;&#x6784;"><a href="#InnoDB-&#x5B58;&#x50A8;&#x5F15;&#x64CE;&#x7B2C;&#x4E00;&#x90E8;&#x5206;&#xFF1A;&#x5185;&#x5B58;&#x7ED3;&#x6784;" class="headerlink" title="InnoDB &#x5B58;&#x50A8;&#x5F15;&#x64CE;&#x7B2C;&#x4E00;&#x90E8;&#x5206;&#xFF1A;&#x5185;&#x5B58;&#x7ED3;&#x6784;"></a><code>InnoDB</code> &#x5B58;&#x50A8;&#x5F15;&#x64CE;&#x7B2C;&#x4E00;&#x90E8;&#x5206;&#xFF1A;&#x5185;&#x5B58;&#x7ED3;&#x6784;</h2><h3 id="Buffer-Pool&#x7F13;&#x51B2;&#x6C60;"><a href="#Buffer-Pool&#x7F13;&#x51B2;&#x6C60;" class="headerlink" title="Buffer Pool&#x7F13;&#x51B2;&#x6C60;"></a><code>Buffer Pool</code>&#x7F13;&#x51B2;&#x6C60;</h3><p><code>InnoDB</code> &#x5B58;&#x50A8;&#x5F15;&#x64CE;&#x57FA;&#x4E8E;&#x78C1;&#x76D8;&#x5B58;&#x50A8;&#x7684;&#xFF0C;&#x5E76;&#x5C06;&#x5176;&#x4E2D;&#x7684;&#x8BB0;&#x5F55;&#x6309;&#x7167;&#x9875;&#x7684;&#x65B9;&#x5F0F;&#x8FDB;&#x884C;&#x7BA1;&#x7406;&#xFF0C;&#x4F46;&#x662F;&#x7531;&#x4E8E;CPU&#x901F;&#x5EA6;&#x548C;&#x78C1;&#x76D8;&#x901F;&#x5EA6;&#x4E4B;&#x95F4;&#x7684;&#x9E3F;&#x6C9F;&#xFF0C;&#x57FA;&#x4E8E;&#x78C1;&#x76D8;&#x7684;&#x6570;&#x636E;&#x5E93;&#x7CFB;&#x7EDF;&#x901A;&#x5E38;&#x4F7F;&#x7528;&#x7F13;&#x51B2;&#x6C60;&#x8BB0;&#x5F55;&#x6765;&#x63D0;&#x9AD8;&#x6570;&#x636E;&#x5E93;&#x7684;&#x6574;&#x4F53;&#x6027;&#x80FD;&#x3002;</p>
<p>&#x5728;&#x6570;&#x636E;&#x5E93;&#x8FDB;&#x884C;&#x8BFB;&#x53D6;&#x64CD;&#x4F5C;&#xFF0C;&#x5C06;&#x4ECE;&#x78C1;&#x76D8;&#x4E2D;&#x8BFB;&#x5230;&#x7684;&#x9875;&#x653E;&#x5728;&#x7F13;&#x51B2;&#x6C60;&#x4E2D;&#xFF0C;&#x4E0B;&#x6B21;&#x518D;&#x8BFB;&#x53D6;&#x76F8;&#x540C;&#x7684;&#x9875;&#x4E2D;&#x65F6;&#xFF0C;&#x9996;&#x5148;&#x5224;&#x65AD;&#x8BE5;&#x9875;&#x662F;&#x5426;&#x5728;&#x7F13;&#x51B2;&#x6C60;&#x4E2D;&#x3002;&#x82E5;&#x5728;&#x7F13;&#x51B2;&#x6C60;&#x4E2D;&#xFF0C;&#x79F0;&#x8BE5;&#x9875;&#x5728;&#x7F13;&#x51B2;&#x6C60;&#x4E2D;&#x88AB;&#x547D;&#x4E2D;&#xFF0C;&#x76F4;&#x63A5;&#x8BFB;&#x53D6;&#x8BE5;&#x9875;&#xFF0C;&#x5426;&#x5219;&#x8BFB;&#x53D6;&#x78C1;&#x76D8;&#x4E0A;&#x7684;&#x9875;&#x3002;</p>
<p>&#x5BF9;&#x4E8E;&#x6570;&#x636E;&#x5E93;&#x4E2D;&#x9875;&#x7684;&#x4FEE;&#x6539;&#x64CD;&#x4F5C;&#xFF0C;&#x9996;&#x5148;&#x4FEE;&#x6539;&#x5728;&#x7F13;&#x51B2;&#x6C60;&#x4E2D;&#x7684;&#x9875;&#xFF0C;&#x7136;&#x540E;&#x518D;&#x4EE5;&#x4E00;&#x5B9A;&#x7684;&#x9891;&#x7387;&#x5237;&#x65B0;&#x5230;&#x78C1;&#x76D8;&#x4E0A;&#xFF0C;&#x9875;&#x4ECE;&#x7F13;&#x51B2;&#x6C60;&#x5237;&#x65B0;&#x56DE;&#x78C1;&#x76D8;&#x7684;&#x64CD;&#x4F5C;&#x5E76;&#x4E0D;&#x662F;&#x5728;&#x6BCF;&#x6B21;&#x9875;&#x53D1;&#x751F;&#x66F4;&#x65B0;&#x65F6;&#x89E6;&#x53D1;&#xFF0C;&#x800C;&#x662F;&#x901A;&#x8FC7;&#x4E00;&#x79CD;&#x79F0;&#x4E3A; <code>CheckPoint</code> &#x7684;&#x673A;&#x5236;&#x5237;&#x65B0;&#x56DE;&#x78C1;&#x76D8;&#x3002;&#x6240;&#x4EE5;&#xFF0C;&#x7F13;&#x51B2;&#x6C60;&#x7684;&#x5927;&#x5C0F;&#x76F4;&#x63A5;&#x5F71;&#x54CD;&#x7740;&#x6570;&#x636E;&#x5E93;&#x7684;&#x6574;&#x4F53;&#x6027;&#x80FD;&#xFF0C;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;&#x914D;&#x7F6E;&#x53C2;&#x6570; <code>innodb_buffer_pool_size</code> &#x6765;&#x8BBE;&#x7F6E;&#xFF0C;&#x7F13;&#x51B2;&#x6C60;&#x9ED8;&#x8BA4;&#x662F;128MB&#xFF0C;&#x8FD8;&#x662F;&#x6709;&#x70B9;&#x5C0F;&#x7684;&#xFF0C;&#x5982;&#x679C;&#x4F60;&#x7684;&#x6570;&#x636E;&#x5E93;&#x662F;16&#x6838;32G&#x7684;&#x673A;&#x5668;&#xFF0C;&#x90A3;&#x4E48;&#x4F60;&#x5C31;&#x53EF;&#x4EE5;&#x7ED9;<code>Buffer Pool</code>&#x5206;&#x914D;&#x4E2A;2GB&#x7684;&#x5185;&#x5B58;&#x3002;</p>
<p>&#x7531;&#x4E8E;&#x7F13;&#x51B2;&#x6C60;&#x4E0D;&#x662F;&#x65E0;&#x9650;&#x5927;&#x7684;&#xFF0C;&#x968F;&#x7740;&#x4E0D;&#x505C;&#x7684;&#x628A;&#x78C1;&#x76D8;&#x4E0A;&#x7684;&#x6570;&#x636E;&#x9875;&#x52A0;&#x8F7D;&#x5230;&#x7F13;&#x51B2;&#x6C60;&#x4E2D;&#xFF0C;&#x7F13;&#x51B2;&#x6C60;&#x603B;&#x8981;&#x88AB;&#x7528;&#x5B8C;&#xFF0C;&#x8FD9;&#x4E2A;&#x65F6;&#x5019;&#x53EA;&#x80FD;&#x6DD8;&#x6C70;&#x6389;&#x4E00;&#x4E9B;&#x7F13;&#x5B58;&#x9875;&#xFF0C;&#x6DD8;&#x6C70;&#x65B9;&#x5F0F;&#x5C31;&#x4F7F;&#x7528;&#x6700;&#x8FD1;&#x6700;&#x5C11;&#x88AB;&#x4F7F;&#x7528;&#x7B97;&#x6CD5;&#xFF08;LRU&#xFF09;&#xFF0C;&#x5177;&#x4F53;&#x6765;&#x8BF4;&#x5C31;&#x662F;&#x5F15;&#x5165;&#x4E00;&#x4E2A;&#x65B0;&#x7684;LRU&#x94FE;&#x8868;&#xFF0C;&#x901A;&#x8FC7;&#x8FD9;&#x4E2A;LRU&#x94FE;&#x8868;&#xFF0C;&#x5C31;&#x53EF;&#x4EE5;&#x77E5;&#x9053;&#x54EA;&#x4E9B;&#x7F13;&#x5B58;&#x9875;&#x662F;&#x6700;&#x8FD1;&#x6700;&#x5C11;&#x88AB;&#x4F7F;&#x7528;&#x7684;&#xFF0C;&#x90A3;&#x4E48;&#x5F53;&#x4F60;&#x7F13;&#x5B58;&#x9875;&#x9700;&#x8981;&#x817E;&#x51FA;&#x6765;&#x4E00;&#x4E2A;&#x5237;&#x5165;&#x78C1;&#x76D8;&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x53EF;&#x4EE5;&#x9009;&#x62E9;&#x90A3;&#x4E2A;LRU&#x94FE;&#x8868;&#x4E2D;&#x6700;&#x8FD1;&#x6700;&#x5C11;&#x88AB;&#x4F7F;&#x7528;&#x7684;&#x7F13;&#x5B58;&#x9875;&#x6DD8;&#x6C70;&#x3002;</p>
<p>&#x7F13;&#x51B2;&#x6C60;&#x4E2D;&#x7F13;&#x5B58;&#x7684;&#x6570;&#x636E;&#x9875;&#x7C7B;&#x578B;&#x6709;&#xFF1A;<strong>&#x7D22;&#x5F15;&#x9875;&#x3001;&#x6570;&#x636E;&#x9875;&#x3001;undo&#x9875;&#x3001;&#x63D2;&#x5165;&#x7F13;&#x51B2;&#x3001;&#x81EA;&#x9002;&#x5E94;&#x54C8;&#x5E0C;&#x7D22;&#x5F15;&#x3001;InnoDB&#x5B58;&#x50A8;&#x7684;&#x9501;&#x4FE1;&#x606F;&#x548C;&#x6570;&#x636E;&#x5B57;&#x5178;&#x4FE1;&#x606F;</strong>&#x3002;</p>
<h4 id="&#x6570;&#x636E;&#x9875;&#x548C;&#x7D22;&#x5F15;&#x9875;"><a href="#&#x6570;&#x636E;&#x9875;&#x548C;&#x7D22;&#x5F15;&#x9875;" class="headerlink" title="&#x6570;&#x636E;&#x9875;&#x548C;&#x7D22;&#x5F15;&#x9875;"></a>&#x6570;&#x636E;&#x9875;&#x548C;&#x7D22;&#x5F15;&#x9875;</h4><p>&#x9875;(<code>Page</code>)&#x662F; <code>Innodb</code> &#x5B58;&#x50A8;&#x7684;&#x6700;&#x57FA;&#x672C;&#x7ED3;&#x6784;&#xFF0C;&#x4E5F;&#x662F; <code>Innodb</code> &#x78C1;&#x76D8;&#x7BA1;&#x7406;&#x7684;&#x6700;&#x5C0F;&#x5355;&#x4F4D;&#xFF0C;&#x4E0E;&#x6570;&#x636E;&#x5E93;&#x76F8;&#x5173;&#x7684;&#x6240;&#x6709;&#x5185;&#x5BB9;&#x90FD;&#x5B58;&#x50A8;&#x5728; <code>Page</code> &#x7ED3;&#x6784;&#x91CC;&#x3002;<code>Page</code> &#x5206;&#x4E3A;&#x51E0;&#x79CD;&#x7C7B;&#x578B;&#xFF0C;&#x6570;&#x636E;&#x9875;&#x548C;&#x7D22;&#x5F15;&#x9875;&#x5C31;&#x662F;&#x5176;&#x4E2D;&#x6700;&#x4E3A;&#x91CD;&#x8981;&#x7684;&#x4E24;&#x79CD;&#x7C7B;&#x578B;&#x3002;</p>
<h4 id="&#x63D2;&#x5165;&#x7F13;&#x51B2;&#xFF08;Insert-Buffer&#xFF09;"><a href="#&#x63D2;&#x5165;&#x7F13;&#x51B2;&#xFF08;Insert-Buffer&#xFF09;" class="headerlink" title="&#x63D2;&#x5165;&#x7F13;&#x51B2;&#xFF08;Insert Buffer&#xFF09;"></a>&#x63D2;&#x5165;&#x7F13;&#x51B2;&#xFF08;<code>Insert Buffer</code>&#xFF09;</h4><p>&#x5728; <code>InnoDB</code> &#x5F15;&#x64CE;&#x4E0A;&#x8FDB;&#x884C;&#x63D2;&#x5165;&#x64CD;&#x4F5C;&#x65F6;&#xFF0C;&#x4E00;&#x822C;&#x9700;&#x8981;&#x6309;&#x7167;&#x4E3B;&#x952E;&#x987A;&#x5E8F;&#x8FDB;&#x884C;&#x63D2;&#x5165;&#xFF0C;&#x8FD9;&#x6837;&#x624D;&#x80FD;&#x83B7;&#x53D6;&#x8F83;&#x9AD8;&#x7684;&#x63D2;&#x5165;&#x6027;&#x80FD;&#x3002;&#x5F53;&#x4E00;&#x5F20;&#x8868;&#x4E2D;&#x5B58;&#x5728;&#x975E;&#x805A;&#x7C07;&#x7684;&#x4E0D;&#x552F;&#x4E00;&#x7684;&#x7D22;&#x5F15;&#x65F6;&#xFF0C;&#x5728;&#x63D2;&#x5165;&#x65F6;&#xFF0C;&#x6570;&#x636E;&#x9875;&#x7684;&#x5B58;&#x653E;&#x8FD8;&#x662F;&#x6309;&#x7167;&#x4E3B;&#x952E;&#x8FDB;&#x884C;&#x987A;&#x5E8F;&#x5B58;&#x653E;&#xFF0C;&#x4F46;&#x662F;&#x5BF9;&#x4E8E;&#x975E;&#x805A;&#x7C07;&#x7D22;&#x5F15;&#x53F6;&#x5B50;&#x8282;&#x70B9;&#x7684;&#x63D2;&#x5165;&#x4E0D;&#x518D;&#x662F;&#x987A;&#x5E8F;&#x7684;&#x4E86;&#xFF0C;&#x8FD9;&#x65F6;&#x5C31;&#x9700;&#x8981;&#x79BB;&#x6563;&#x7684;&#x8BBF;&#x95EE;&#x975E;&#x805A;&#x7C07;&#x7D22;&#x5F15;&#x9875;&#xFF0C;&#x7531;&#x4E8E;&#x968F;&#x673A;&#x8BFB;&#x53D6;&#x7684;&#x5B58;&#x5728;&#x5BFC;&#x81F4;&#x63D2;&#x5165;&#x64CD;&#x4F5C;&#x6027;&#x80FD;&#x4E0B;&#x964D;&#x3002;</p>
<p>&#x6240;&#x4EE5; <code>InnoDB</code> &#x5B58;&#x50A8;&#x5F15;&#x64CE;&#x5F00;&#x521B;&#x6027;&#x5730;&#x8BBE;&#x8BA1;&#x4E86; <code>Insert Buffer</code> &#xFF0C;&#x5BF9;&#x4E8E;&#x975E;&#x805A;&#x96C6;&#x7D22;&#x5F15;&#x7684;&#x63D2;&#x5165;&#x6216;&#x66F4;&#x65B0;&#x64CD;&#x4F5C;&#xFF0C;&#x4E0D;&#x662F;&#x6BCF;&#x4E00;&#x6B21;&#x76F4;&#x63A5;&#x63D2;&#x5165;&#x5230;&#x7D22;&#x5F15;&#x9875;&#x4E2D;&#xFF0C;&#x800C;&#x662F;&#x5148;&#x5224;&#x65AD;&#x63D2;&#x5165;&#x7684;&#x975E;&#x805A;&#x96C6;&#x7D22;&#x5F15;&#x9875;&#x662F;&#x5426;&#x5728;&#x7F13;&#x51B2;&#x6C60;&#x4E2D;&#xFF0C;&#x82E5;&#x5728;&#xFF0C;&#x5219;&#x76F4;&#x63A5;&#x63D2;&#x5165;&#xFF1B;&#x82E5;&#x4E0D;&#x5728;&#xFF0C;&#x5219;&#x5148;&#x653E;&#x5165;&#x5230;&#x4E00;&#x4E2A; <code>Insert Buffer</code> &#x5BF9;&#x8C61;&#x4E2D;&#xFF0C;&#x597D;&#x4F3C;&#x6B3A;&#x9A97;&#x3002;&#x6570;&#x636E;&#x5E93;&#x8FD9;&#x4E2A;&#x975E;&#x805A;&#x96C6;&#x7684;&#x7D22;&#x5F15;&#x5DF2;&#x7ECF;&#x63D2;&#x5230;&#x53F6;&#x5B50;&#x8282;&#x70B9;&#xFF0C;&#x800C;&#x5B9E;&#x9645;&#x5E76;&#x6CA1;&#x6709;&#xFF0C;&#x53EA;&#x662F;&#x5B58;&#x653E;&#x5728;&#x53E6;&#x4E00;&#x4E2A;&#x4F4D;&#x7F6E;&#x3002;&#x7136;&#x540E;&#x518D;&#x4EE5;&#x4E00;&#x5B9A;&#x7684;&#x9891;&#x7387;&#x548C;&#x60C5;&#x51B5;&#x8FDB;&#x884C; <code>Insert Buffer</code> &#x548C;&#x8F85;&#x52A9;&#x7D22;&#x5F15;&#x9875;&#x5B50;&#x8282;&#x70B9;&#x7684; merge&#xFF08;&#x5408;&#x5E76;&#xFF09;&#x64CD;&#x4F5C;&#xFF0C;&#x8FD9;&#x65F6;&#x901A;&#x5E38;&#x80FD;&#x5C06;&#x591A;&#x4E2A;&#x63D2;&#x5165;&#x5408;&#x5E76;&#x5230;&#x4E00;&#x4E2A;&#x64CD;&#x4F5C;&#x4E2D;&#xFF08;&#x56E0;&#x4E3A;&#x5728;&#x4E00;&#x4E2A;&#x7D22;&#x5F15;&#x9875;&#x4E2D;&#xFF09;&#xFF0C;&#x8FD9;&#x5C31;&#x5927;&#x5927;&#x63D0;&#x9AD8;&#x4E86;&#x5BF9;&#x4E8E;&#x975E;&#x805A;&#x96C6;&#x7D22;&#x5F15;&#x63D2;&#x5165;&#x7684;&#x6027;&#x80FD;&#x3002;</p>
<p>&#x7136;&#x800C; <code>Insert Buffer</code> &#x7684;&#x4F7F;&#x7528;&#x9700;&#x8981;&#x540C;&#x65F6;&#x6EE1;&#x8DB3;&#x4EE5;&#x4E0B;&#x4E24;&#x4E2A;&#x6761;&#x4EF6;&#xFF1A;</p>
<ul>
<li>&#x7D22;&#x5F15;&#x662F;&#x8F85;&#x52A9;&#x7D22;&#x5F15;&#xFF08; secondary index ) ;</li>
<li>&#x7D22;&#x5F15;&#x4E0D;&#x662F;&#x552F;&#x4E00;&#xFF08; unique &#xFF09;&#x7684;&#x3002;</li>
</ul>
<p>&#x5F53;&#x6EE1;&#x8DB3;&#x4EE5;&#x4E0A;&#x4E24;&#x4E2A;&#x6761;&#x4EF6;&#x65F6;&#xFF0C; <code>InnoDB</code> &#x5B58;&#x50A8;&#x5F15;&#x64CE;&#x4F1A;&#x4F7F;&#x7528; <code>Insert Buffer</code> &#xFF0C;&#x8FD9;&#x6837;&#x5C31;&#x80FD;&#x63D0;&#x9AD8;&#x63D2;&#x5165;&#x64CD;&#x4F5C;&#x7684;&#x6027;&#x80FD;&#x4E86;&#x3002;&#x4E0D;&#x8FC7;&#x8003;&#x8651;&#x8FD9;&#x6837;&#x4E00;&#x79CD;&#x60C5;&#x51B5;:&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x8FDB;&#x884C;&#x5927;&#x91CF;&#x7684;&#x63D2;&#x5165;&#x64CD;&#x4F5C;&#xFF0C;&#x8FD9;&#x4E9B;&#x90FD;&#x6D89;&#x53CA;&#x4E86;&#x4E0D;&#x552F;&#x4E00;&#x7684;&#x975E;&#x805A;&#x96C6;&#x7D22;&#x5F15;&#xFF0C;&#x4E5F;&#x5C31;&#x662F;&#x4F7F;&#x7528;&#x4E86; <code>Insert Buffer</code>&#x3002;&#x82E5;&#x6B64;&#x65F6; MySQL&#x6570;&#x636E;&#x5E93;&#x53D1;&#x751F;&#x4E86;&#x5B95;&#x673A;&#x8FD9;&#x65F6;&#x52BF;&#x5FC5;&#x6709;&#x5927;&#x91CF;&#x7684; <code>Insert Buffer</code> &#x5E76;&#x6CA1;&#x6709;&#x5408;&#x5E76;&#x5230;&#x5B9E;&#x9645;&#x7684;&#x975E;&#x805A;&#x96C6;&#x7D22;&#x5F15;&#x4E2D;&#x53BB;&#x3002;  </p>
<p>&#x56E0;&#x6B64;&#x8FD9;&#x65F6;&#x6062;&#x590D;&#x53EF;&#x80FD;&#x9700;&#x8981;&#x5F88;&#x957F;&#x7684;&#x65F6;&#x95F4;,&#x5728;&#x6781;&#x7AEF;&#x60C5;&#x51B5;&#x4E0B;&#x751A;&#x81F3;&#x9700;&#x8981;&#x51E0;&#x4E2A;&#x5C0F;&#x65F6;&#x3002;&#x8F85;&#x52A9;&#x7D22;&#x5F15;&#x4E0D;&#x80FD;&#x662F;&#x552F;&#x4E00;&#x7684;&#xFF0C;&#x56E0;&#x4E3A;&#x5728;&#x63D2;&#x5165;&#x7F13;&#x51B2;&#x65F6;&#xFF0C;&#x6570;&#x636E;&#x5E93;&#x5E76;&#x4E0D;&#x53BB;&#x67E5;&#x627E;&#x7D22;&#x5F15;&#x9875;&#x6765;&#x5224;&#x65AD;&#x63D2;&#x5165;&#x7684;&#x8BB0;&#x5F55;&#x7684;&#x552F;&#x4E00;&#x6027;&#x3002;&#x5982;&#x679C;&#x53BB;&#x67E5;&#x627E;&#x80AF;&#x5B9A;&#x53C8;&#x4F1A;&#x6709;&#x79BB;&#x6563;&#x8BFB;&#x53D6;&#x7684;&#x60C5;&#x51B5;&#x53D1;&#x751F;&#xFF0C;&#x4ECE;&#x800C;&#x5BFC;&#x81F4; <code>Insert Buffer</code> &#x5931;&#x53BB;&#x4E86;&#x610F;&#x4E49;&#x3002;</p>
<p>&#x53EF;&#x4EE5;&#x901A;&#x8FC7;&#x547D;&#x4EE4; <code>SHOW ENGINE INNODB STATUS</code> &#x6765;&#x67E5;&#x770B;&#x63D2;&#x5165;&#x7F13;&#x51B2;&#x7684;&#x4FE1;&#x606F;</p>
<p><img src="https://gitee.com/songjianzaina/juejin_p5/raw/master/img/299a8612b766e90d6c768ba637cdac8bd7b08da7b91edb60d1ca5a9fd2c61768" alt="image.png"><br>seg size&#x663E;&#x793A;&#x4E86;&#x5F53;&#x524D; Insert Buffer&#x7684;&#x5927;&#x5C0F;&#x4E3A;11336&#xD7;16KB,&#x5927;&#x7EA6;&#x4E3A;177MB; free list len&#x4EE3;&#x8868;&#x4E86;&#x7A7A;&#x95F2;&#x5217;&#x8868;&#x7684;&#x957F;&#x5EA6;;size&#x4EE3;&#x8868;&#x4E86;&#x5DF2;&#x7ECF;&#x5408;&#x5E76;&#x8BB0;&#x5F55;&#x9875;&#x7684;&#x6570;&#x91CF;&#x3002;&#x800C;&#x9ED1;&#x4F53;&#x90E8;&#x5206;&#x7684;&#x7B2C;2&#x884C;&#x53EF;&#x80FD;&#x662F;&#x7528;&#x6237;&#x771F;&#x6B63;&#x5173;&#x5FC3;&#x7684;,&#x56E0;&#x4E3A;&#x5B83;&#x663E;&#x793A;&#x4E86;&#x63D2;&#x5165;&#x6027;&#x80FD;&#x7684;&#x63D0;&#x9AD8;&#x3002; Inserts&#x4EE3;&#x8868;&#x4E86;&#x63D2;&#x5165;&#x7684;&#x8BB0;&#x5F55;&#x6570;;merged recs&#x4EE3;&#x8868;&#x4E86;&#x5408;&#x5E76;&#x7684;&#x63D2;&#x5165;&#x8BB0;&#x5F55;&#x6570;&#x91CF;; merges&#x4EE3;&#x8868;&#x5408;&#x5E76;&#x7684;&#x6B21;&#x6570;,&#x4E5F;&#x5C31;&#x662F;&#x5B9E;&#x9645;&#x8BFB;&#x53D6;&#x9875;&#x7684;&#x6B21;&#x6570;&#x3002; merges: merged recs&#x5927;&#x7EA6;&#x4E3A;1:3,&#x4EE3;&#x8868;&#x4E86;&#x63D2;&#x5165;&#x7F13;&#x51B2;&#x5C06;&#x5BF9;&#x4E8E;&#x975E;&#x805A;&#x96C6;&#x7D22;&#x5F15;&#x9875;&#x7684;&#x79BB;&#x6563;IO&#x903B;&#x8F91;&#x8BF7;&#x6C42;&#x5927;&#x7EA6;&#x964D;&#x4F4E;&#x4E86;2/3&#x3002;  </p>
<p>&#x6B63;&#x5982;&#x524D;&#x9762;&#x6240;&#x8BF4;&#x7684;,&#x76EE;&#x524D; Insert Buffer&#x5B58;&#x5728;&#x4E00;&#x4E2A;&#x95EE;&#x9898;&#x662F;:&#x5728;&#x5199;&#x5BC6;&#x96C6;&#x7684;&#x60C5;&#x51B5;&#x4E0B;,&#x63D2;&#x5165;&#x7F13;&#x51B2;&#x4F1A;&#x5360;&#x7528;&#x8FC7;&#x591A;&#x7684;&#x7F13;&#x51B2;&#x6C60;&#x5185;&#x5B58;( innodb buffer pool),&#x9ED8;&#x8BA4;&#x6700;&#x5927;&#x53EF;&#x4EE5;&#x5360;&#x7528;&#x5230;1/2&#x7684;&#x7F13;&#x51B2;&#x6C60;&#x5185;&#x5B58;&#x3002;&#x4EE5;&#x4E0B;&#x662F; InnoDB&#x5B58;&#x50A8;&#x5F15;&#x64CE;&#x6E90;&#x4EE3;&#x7801;&#x4E2D;&#x5BF9;&#x4E8E; insert buffer&#x7684;&#x521D;&#x59CB;&#x5316;&#x64CD;&#x4F5C;:<br><img src="https://gitee.com/songjianzaina/juejin_p5/raw/master/img/9b52f5155745218b48e89b9d49cdf27607513d5b41ef322c699060f35f30c1c8" alt="image.png"></p>
<h4 id="Change-Buffer"><a href="#Change-Buffer" class="headerlink" title="Change Buffer"></a><code>Change Buffer</code></h4><p><code>InnoDB</code> &#x4ECE;1.0.x&#x7248;&#x672C;&#x5F00;&#x59CB;&#x5F15;&#x5165;&#x4E86; <code>Change Buffer</code>,&#x53EF;&#x5C06;&#x5176;&#x89C6;&#x4E3A; <code>Insert Buffer</code>&#x7684;&#x5347;&#x7EA7;&#x7248;&#x672C;, <code>InnodB</code> &#x5B58;&#x50A8;&#x5F15;&#x64CE;&#x53EF;&#x4EE5;&#x5BF9;DML&#x64CD;&#x4F5C;&#x2014; <code>INSERT</code>&#x3001; <code>DELETE</code>&#x3001; <code>UPDATE</code> &#x90FD;&#x8FDB;&#x884C;&#x7F13;&#x51B2;,&#x4ED6;&#x4EEC;&#x5206;&#x522B;&#x662F;: <code>Insert Buffer</code>&#x3001; <code>Delete Buffer</code>&#x3001; <code>Purge buffer</code>&#x5F53;&#x7136;&#x548C;&#x4E4B;&#x524D; <code>Insert Buffer</code>&#x4E00;&#x6837;, <code>Change Buffer</code>&#x9002;&#x7528;&#x7684;&#x5BF9;&#x8C61;&#x4F9D;&#x7136;&#x662F;&#x975E;&#x552F;&#x4E00;&#x7684;&#x8F85;&#x52A9;&#x7D22;&#x5F15;&#x3002;<br>&#x5BF9;&#x4E00;&#x6761;&#x8BB0;&#x5F55;&#x8FDB;&#x884C; <code>UPDATE</code> &#x64CD;&#x4F5C;&#x53EF;&#x80FD;&#x5206;&#x4E3A;&#x4E24;&#x4E2A;&#x8FC7;&#x7A0B;:</p>
<ul>
<li>&#x5C06;&#x8BB0;&#x5F55;&#x6807;&#x8BB0;&#x4E3A;&#x5DF2;&#x5220;&#x9664;;</li>
<li>&#x771F;&#x6B63;&#x5C06;&#x8BB0;&#x5F55;&#x5220;&#x9664;</li>
</ul>
<p>&#x56E0;&#x6B64; <code>Delete Buffer</code>&#x5BF9;&#x5E94; <code>UPDATE</code>&#x64CD;&#x4F5C;&#x7684;&#x7B2C;&#x4E00;&#x4E2A;&#x8FC7;&#x7A0B;,&#x5373;&#x5C06;&#x8BB0;&#x5F55;&#x6807;&#x8BB0;&#x4E3A;&#x5220;&#x9664;&#x3002; <code>PurgeBuffer</code>&#x5BF9;&#x5E94; <code>UPDATE</code> &#x64CD;&#x4F5C;&#x7684;&#x7B2C;&#x4E8C;&#x4E2A;&#x8FC7;&#x7A0B;,&#x5373;&#x5C06;&#x8BB0;&#x5F55;&#x771F;&#x6B63;&#x7684;&#x5220;&#x9664;&#x3002;&#x540C;&#x65F6;, <code>InnoDB</code> &#x5B58;&#x50A8;&#x5F15;&#x64CE;&#x63D0;&#x4F9B;&#x4E86;&#x53C2;&#x6570; <code>innodb_change_buffering</code>,&#x7528;&#x6765;&#x5F00;&#x542F;&#x5404;&#x79CD;Buffer&#x7684;&#x9009;&#x9879;&#x3002;&#x8BE5;&#x53C2;&#x6570;&#x53EF;&#x9009;&#x7684;&#x503C;&#x4E3A;: <code>Inserts</code>&#x3001; <code>deletes</code>&#x3001; <code>purges</code>&#x3001; <code>changes</code>&#x3001;<code>all</code>&#x3001;<code>none</code>&#x3002; <code>Inserts</code>&#x3001; <code>deletes</code>&#x3001; <code>purges</code> &#x5C31;&#x662F;&#x524D;&#x9762;&#x8BA8;&#x8BBA;&#x8FC7;&#x7684;&#x4E09;&#x79CD;&#x60C5;&#x51B5;&#x3002; <code>changes</code> &#x8868;&#x793A;&#x542F;&#x7528; <code>Inserts</code> &#x548C; <code>deletes</code>,all&#x8868;&#x793A;&#x542F;&#x7528;&#x6240;&#x6709;,none&#x8868;&#x793A;&#x90FD;&#x4E0D;&#x542F;&#x7528;&#x3002;&#x8BE5;&#x53C2;&#x6570;&#x9ED8;&#x8BA4;&#x503C;&#x4E3A;all&#x3002;<br>&#x4ECE; InnoDB1.2.x&#x7248;&#x672C;&#x5F00;&#x59CB;,&#x53EF;&#x4EE5;&#x901A;&#x8FC7;&#x53C2;&#x6570; <code>innodb_change_buffer_max_size</code> &#x6765;&#x63A7;&#x5236;<code>Change Buffer</code>&#x6700;&#x5927;&#x4F7F;&#x7528;&#x5185;&#x5B58;&#x7684;&#x6570;&#x91CF;:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">sql&#x590D;&#x5236;&#x4EE3;&#x7801;mysql&gt; show variables like &apos;innodb_change_buffer_max_size&apos;;</span><br><span class="line">+-------------------------------+-------+</span><br><span class="line">| Variable_name                 | Value |</span><br><span class="line">+-------------------------------+-------+</span><br><span class="line">| innodb_change_buffer_max_size | 25    |</span><br><span class="line">+-------------------------------+-------+</span><br><span class="line">1 row in set (0.05 sec)</span><br></pre></td></tr></table></figure>

<p><code>innodb_change_buffer_max_size</code> &#x503C;&#x9ED8;&#x8BA4;&#x4E3A;25,&#x8868;&#x793A;&#x6700;&#x591A;&#x4F7F;&#x7528;1/4&#x7684;&#x7F13;&#x51B2;&#x6C60;&#x5185;&#x5B58;&#x7A7A;&#x95F4;&#x3002;<br>&#x800C;&#x9700;&#x8981;&#x6CE8;&#x610F;&#x7684;&#x662F;,&#x8BE5;&#x53C2;&#x6570;&#x7684;&#x6700;&#x5927;&#x6709;&#x6548;&#x503C;&#x4E3A;50&#x5728; MySQL5.5&#x7248;&#x672C;&#x4E2D;&#x901A;&#x8FC7;&#x547D;&#x4EE4; <code>SHOW ENGINE INNODB STATUS</code>,&#x53EF;&#x4EE5;&#x89C2;&#x5BDF;&#x5230;&#x7C7B;&#x4F3C;&#x5982;&#x4E0B;&#x7684;&#x5185;&#x5BB9;:<br><img src="https://gitee.com/songjianzaina/juejin_p5/raw/master/img/456d42d169ddceb3da1f8e142dd8a46364038e2db0f344625afb6f2f346aa672" alt></p>
<p>&#x53EF;&#x4EE5;&#x770B;&#x5230;&#x8FD9;&#x91CC;&#x663E;&#x793A;&#x4E86; <code>merged operations</code>&#x548C; <code>discarded operation</code>,&#x5E76;&#x4E14;&#x4E0B;&#x9762;&#x5177;&#x4F53;&#x663E;&#x793A; <code>Change Buffer</code>&#x4E2D;&#x6BCF;&#x4E2A;&#x64CD;&#x4F5C;&#x7684;&#x6B21;&#x6570;&#x3002; <code>Insert</code> &#x8868;&#x793A; <code>Insert Buffer</code>; <code>delete mark</code>&#x8868;&#x793A; <code>Delete Buffer</code>; <code>delete</code>&#x8868;&#x793A; <code>Purge Buffer</code>; <code>discarded operations</code>&#x8868;&#x793A;&#x5F53; <code>Change Buffer</code>&#x53D1;&#x751F; <code>merge</code>&#x65F6;,&#x8868;&#x5DF2;&#x7ECF;&#x88AB;&#x5220;&#x9664;,&#x6B64;&#x65F6;&#x5C31;&#x65E0;&#x9700;&#x518D;&#x5C06;&#x8BB0;&#x5F55;&#x5408;&#x5E76;(merge)&#x5230;&#x8F85;&#x52A9;&#x7D22;&#x5F15;&#x4E2D;&#x4E86;&#x3002;</p>
<h4 id="&#x81EA;&#x9002;&#x5E94;&#x54C8;&#x5E0C;&#x7D22;&#x5F15;"><a href="#&#x81EA;&#x9002;&#x5E94;&#x54C8;&#x5E0C;&#x7D22;&#x5F15;" class="headerlink" title="&#x81EA;&#x9002;&#x5E94;&#x54C8;&#x5E0C;&#x7D22;&#x5F15;"></a>&#x81EA;&#x9002;&#x5E94;&#x54C8;&#x5E0C;&#x7D22;&#x5F15;</h4><p><code>InnoDB</code> &#x4F1A;&#x6839;&#x636E;&#x8BBF;&#x95EE;&#x7684;&#x9891;&#x7387;&#x548C;&#x6A21;&#x5F0F;&#xFF0C;&#x4E3A;&#x70ED;&#x70B9;&#x9875;&#x5EFA;&#x7ACB;&#x54C8;&#x5E0C;&#x7D22;&#x5F15;&#xFF0C;&#x6765;&#x63D0;&#x9AD8;&#x67E5;&#x8BE2;&#x6548;&#x7387;&#x3002;<code>InnoDB</code> &#x5B58;&#x50A8;&#x5F15;&#x64CE;&#x4F1A;&#x76D1;&#x63A7;&#x5BF9;&#x8868;&#x4E0A;&#x5404;&#x4E2A;&#x7D22;&#x5F15;&#x9875;&#x7684;&#x67E5;&#x8BE2;&#xFF0C;&#x5982;&#x679C;&#x89C2;&#x5BDF;&#x5230;&#x5EFA;&#x7ACB;&#x54C8;&#x5E0C;&#x7D22;&#x5F15;&#x53EF;&#x4EE5;&#x5E26;&#x6765;&#x901F;&#x5EA6;&#x4E0A;&#x7684;&#x63D0;&#x5347;&#xFF0C;&#x5219;&#x5EFA;&#x7ACB;&#x54C8;&#x5E0C;&#x7D22;&#x5F15;&#xFF0C;&#x6240;&#x4EE5;&#x53EB;&#x505A;&#x81EA;&#x9002;&#x5E94;&#x54C8;&#x5E0C;&#x7D22;&#x5F15;&#x3002;</p>
<p>&#x81EA;&#x9002;&#x5E94;&#x54C8;&#x5E0C;&#x7D22;&#x5F15;&#x901A;&#x8FC7;&#x7F13;&#x51B2;&#x6C60;&#x7684;B+&#x6811;&#x9875;&#x6784;&#x5EFA;&#x800C;&#x6765;&#xFF0C;&#x56E0;&#x6B64;&#x5EFA;&#x7ACB;&#x901F;&#x5EA6;&#x5F88;&#x5FEB;&#xFF0C;&#x800C;&#x4E14;&#x4E0D;&#x9700;&#x8981;&#x5BF9;&#x6574;&#x5F20;&#x6570;&#x636E;&#x8868;&#x5EFA;&#x7ACB;&#x54C8;&#x5E0C;&#x7D22;&#x5F15;&#x3002;&#x5176;&#x6709;&#x4E00;&#x4E2A;&#x8981;&#x6C42;&#xFF0C;&#x5373;&#x5BF9;&#x8FD9;&#x4E2A;&#x9875;&#x7684;&#x8FDE;&#x7EED;&#x8BBF;&#x95EE;&#x6A21;&#x5F0F;&#x5FC5;&#x987B;&#x4E00;&#x6837;&#x7684;&#xFF0C;&#x4E5F;&#x5C31;&#x662F;&#x8BF4;&#x5176;&#x67E5;&#x8BE2;&#x7684;&#x6761;&#x4EF6;&#x5FC5;&#x987B;&#x5B8C;&#x5168;&#x4E00;&#x6837;&#xFF0C;&#x800C;&#x4E14;&#x5FC5;&#x987B;&#x662F;&#x8FDE;&#x7EED;&#x7684;&#x3002;</p>
<h4 id="&#x9501;&#x4FE1;&#x606F;&#xFF08;lock-info&#xFF09;"><a href="#&#x9501;&#x4FE1;&#x606F;&#xFF08;lock-info&#xFF09;" class="headerlink" title="&#x9501;&#x4FE1;&#x606F;&#xFF08;lock info&#xFF09;"></a>&#x9501;&#x4FE1;&#x606F;&#xFF08;<code>lock info</code>&#xFF09;</h4><p>&#x6211;&#x4EEC;&#x90FD;&#x77E5;&#x9053;&#xFF0C;<code>InnoDB</code> &#x5B58;&#x50A8;&#x5F15;&#x64CE;&#x4F1A;&#x5728;&#x884C;&#x7EA7;&#x522B;&#x4E0A;&#x5BF9;&#x8868;&#x6570;&#x636E;&#x8FDB;&#x884C;&#x4E0A;&#x9501;&#xFF0C;&#x4E0D;&#x8FC7; <code>InnoDB</code> &#x6253;&#x5F00;&#x4E00;&#x5F20;&#x8868;&#xFF0C;&#x5C31;&#x589E;&#x52A0;&#x4E00;&#x4E2A;&#x5BF9;&#x5E94;&#x7684;&#x5BF9;&#x8C61;&#x5230;&#x6570;&#x636E;&#x5B57;&#x5178;&#x3002;</p>
<h4 id="&#x6570;&#x636E;&#x5B57;&#x5178;"><a href="#&#x6570;&#x636E;&#x5B57;&#x5178;" class="headerlink" title="&#x6570;&#x636E;&#x5B57;&#x5178;"></a>&#x6570;&#x636E;&#x5B57;&#x5178;</h4><p>&#x5BF9;&#x6570;&#x636E;&#x5E93;&#x4E2D;&#x7684;&#x6570;&#x636E;&#x3001;&#x5E93;&#x5BF9;&#x8C61;&#x3001;&#x8868;&#x5BF9;&#x8C61;&#x7B49;&#x7684;&#x5143;&#x4FE1;&#x606F;&#x7684;&#x96C6;&#x5408;&#x3002;&#x5728; MySQL &#x4E2D;&#xFF0C;&#x6570;&#x636E;&#x5B57;&#x5178;&#x4FE1;&#x606F;&#x5185;&#x5BB9;&#x5C31;&#x5305;&#x62EC;&#x8868;&#x7ED3;&#x6784;&#x3001;&#x6570;&#x636E;&#x5E93;&#x540D;&#x6216;&#x8868;&#x540D;&#x3001;&#x5B57;&#x6BB5;&#x7684;&#x6570;&#x636E;&#x7C7B;&#x578B;&#x3001;&#x89C6;&#x56FE;&#x3001;&#x7D22;&#x5F15;&#x3001;&#x8868;&#x5B57;&#x6BB5;&#x4FE1;&#x606F;&#x3001;&#x5B58;&#x50A8;&#x8FC7;&#x7A0B;&#x3001;&#x89E6;&#x53D1;&#x5668;&#x7B49;&#x5185;&#x5BB9;&#xFF0C;MySQL <code>INFORMATION_SCHEMA</code> &#x5E93;&#x63D0;&#x4F9B;&#x4E86;&#x5BF9;&#x6570;&#x636E;&#x5C40;&#x5143;&#x6570;&#x636E;&#x3001;&#x7EDF;&#x8BA1;&#x4FE1;&#x606F;&#x3001;&#x4EE5;&#x53CA;&#x6709;&#x5173;MySQL Server&#x7684;&#x8BBF;&#x95EE;&#x4FE1;&#x606F;&#xFF08;&#x4F8B;&#x5982;&#xFF1A;&#x6570;&#x636E;&#x5E93;&#x540D;&#x6216;&#x8868;&#x540D;&#xFF0C;&#x5B57;&#x6BB5;&#x7684;&#x6570;&#x636E;&#x7C7B;&#x578B;&#x548C;&#x8BBF;&#x95EE;&#x6743;&#x9650;&#x7B49;&#xFF09;&#x3002;&#x8BE5;&#x5E93;&#x4E2D;&#x4FDD;&#x5B58;&#x7684;&#x4FE1;&#x606F;&#x4E5F;&#x53EF;&#x4EE5;&#x79F0;&#x4E3A;MySQL&#x7684;&#x6570;&#x636E;&#x5B57;&#x5178;&#x3002;</p>
<h4 id="&#x9884;&#x8BFB;&#x673A;&#x5236;"><a href="#&#x9884;&#x8BFB;&#x673A;&#x5236;" class="headerlink" title="&#x9884;&#x8BFB;&#x673A;&#x5236;"></a>&#x9884;&#x8BFB;&#x673A;&#x5236;</h4><p>MySQL&#x7684;&#x9884;&#x8BFB;&#x673A;&#x5236;&#xFF0C;&#x5C31;&#x662F;&#x5F53;&#x4F60;&#x4ECE;&#x78C1;&#x76D8;&#x4E0A;&#x52A0;&#x8F7D;&#x4E00;&#x4E2A;&#x6570;&#x636E;&#x9875;&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x4ED6;&#x53EF;&#x80FD;&#x4F1A;&#x8FDE;&#x5E26;&#x7740;&#x628A;&#x8FD9;&#x4E2A;&#x6570;&#x636E;&#x9875;&#x76F8;&#x90BB;&#x7684;&#x5176;&#x4ED6;&#x6570;&#x636E;&#x9875;&#xFF0C;&#x4E5F;&#x52A0;&#x8F7D;&#x5230;&#x7F13;&#x5B58;&#x91CC;&#x53BB;&#xFF01;  </p>
<p>&#x4E3E;&#x4E2A;&#x4F8B;&#x5B50;&#xFF0C;&#x5047;&#x8BBE;&#x73B0;&#x5728;&#x6709;&#x4E24;&#x4E2A;&#x7A7A;&#x95F2;&#x7F13;&#x5B58;&#x9875;&#xFF0C;&#x7136;&#x540E;&#x5728;&#x52A0;&#x8F7D;&#x4E00;&#x4E2A;&#x6570;&#x636E;&#x9875;&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x8FDE;&#x5E26;&#x7740;&#x628A;&#x4ED6;&#x7684;&#x4E00;&#x4E2A;&#x76F8;&#x90BB;&#x7684;&#x6570;&#x636E;&#x9875;&#x4E5F;&#x52A0;&#x8F7D;&#x5230;&#x7F13;&#x5B58;&#x91CC;&#x53BB;&#x4E86;&#xFF0C;&#x6B63;&#x597D;&#x6BCF;&#x4E2A;&#x6570;&#x636E;&#x9875;&#x653E;&#x5165;&#x4E00;&#x4E2A;&#x7A7A;&#x95F2;&#x7F13;&#x5B58;&#x9875;&#xFF01;</p>
<p>&#x54EA;&#x4E9B;&#x60C5;&#x51B5;&#x4E0B;&#x4F1A;&#x89E6;&#x53D1;MySQL&#x7684;&#x9884;&#x8BFB;&#x673A;&#x5236;&#xFF1F;</p>
<ol>
<li>&#x6709;&#x4E00;&#x4E2A;&#x53C2;&#x6570;&#x662F;innodb_read_ahead_threshold&#xFF0C;&#x4ED6;&#x7684;&#x9ED8;&#x8BA4;&#x503C;&#x662F;56&#xFF0C;&#x610F;&#x601D;&#x5C31;&#x662F;&#x5982;&#x679C;&#x987A;&#x5E8F;&#x7684;&#x8BBF;&#x95EE;&#x4E86;&#x4E00;&#x4E2A;&#x533A;&#x91CC;&#x7684;&#x591A;&#x4E2A;&#x6570;&#x636E;&#x9875;&#xFF0C;&#x8BBF;&#x95EE;&#x7684;&#x6570;&#x636E;&#x9875;&#x7684;&#x6570;&#x91CF;&#x8D85;&#x8FC7;&#x4E86;&#x8FD9;&#x4E2A;&#x9608;&#x503C;&#xFF0C;&#x6B64;&#x65F6;&#x5C31;&#x4F1A;&#x89E6;&#x53D1;&#x9884;&#x8BFB;&#x673A;&#x5236;&#xFF0C;&#x628A;&#x4E0B;&#x4E00;&#x4E2A;&#x76F8;&#x90BB;&#x533A;&#x4E2D;&#x7684;&#x6240;&#x6709;&#x6570;&#x636E;&#x9875;&#x90FD;&#x52A0;&#x8F7D;&#x5230;&#x7F13;&#x5B58;&#x91CC;&#x53BB;&#x3002;</li>
<li>&#x5982;&#x679C;Buffer Pool&#x91CC;&#x7F13;&#x5B58;&#x4E86;&#x4E00;&#x4E2A;&#x533A;&#x91CC;&#x7684;13&#x4E2A;&#x8FDE;&#x7EED;&#x7684;&#x6570;&#x636E;&#x9875;&#xFF0C;&#x800C;&#x4E14;&#x8FD9;&#x4E9B;&#x6570;&#x636E;&#x9875;&#x90FD;&#x662F;&#x6BD4;&#x8F83;&#x9891;&#x7E41;&#x4F1A;&#x88AB;&#x8BBF;&#x95EE;&#x7684;&#xFF0C;&#x6B64;&#x65F6;&#x5C31;&#x4F1A;&#x76F4;&#x63A5;&#x89E6;&#x53D1;&#x9884;&#x8BFB;&#x673A;&#x5236;&#xFF0C;&#x628A;&#x8FD9;&#x4E2A;&#x533A;&#x91CC;&#x7684;&#x5176;&#x4ED6;&#x7684;&#x6570;&#x636E;&#x9875;&#x90FD;&#x52A0;&#x8F7D;&#x5230;&#x7F13;&#x5B58;&#x91CC;&#x53BB;&#x8FD9;&#x4E2A;&#x673A;&#x5236;&#x662F;&#x901A;&#x8FC7;&#x53C2;&#x6570;innodb_random_read_ahead&#x6765;&#x63A7;&#x5236;&#x7684;&#xFF0C;&#x4ED6;&#x9ED8;&#x8BA4;&#x662F;OFF&#xFF0C;&#x4E5F;&#x5C31;&#x662F;&#x8FD9;&#x4E2A;&#x89C4;&#x5219;&#x662F;&#x5173;&#x95ED;&#x7684;&#x3002;</li>
</ol>
<p>&#x6240;&#x4EE5;&#x9ED8;&#x8BA4;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;&#x4E3B;&#x8981;&#x662F;&#x7B2C;&#x4E00;&#x4E2A;&#x89C4;&#x5219;&#x53EF;&#x80FD;&#x4F1A;&#x89E6;&#x53D1;&#x9884;&#x8BFB;&#x673A;&#x5236;&#xFF0C;&#x4E00;&#x4E0B;&#x5B50;&#x628A;&#x5F88;&#x591A;&#x76F8;&#x90BB;&#x533A;&#x91CC;&#x7684;&#x6570;&#x636E;&#x9875;&#x52A0;&#x8F7D;&#x5230;&#x7F13;&#x5B58;&#x91CC;&#x53BB;&#x3002;</p>
<p>&#x9884;&#x8BFB;&#x673A;&#x5236;&#x7684;&#x597D;&#x5904;&#x4E3A;&#x4E86;&#x63D0;&#x5347;&#x6027;&#x80FD;&#x3002;&#x5047;&#x8BBE;&#x4F60;&#x8BFB;&#x53D6;&#x4E86;&#x6570;&#x636E;&#x9875;01&#x5230;&#x7F13;&#x5B58;&#x9875;&#x91CC;&#x53BB;&#xFF0C;&#x90A3;&#x4E48;&#x63A5;&#x4E0B;&#x6765;&#x6709;&#x53EF;&#x80FD;&#x4F1A;&#x63A5;&#x7740;&#x987A;&#x5E8F;&#x8BFB;&#x53D6;&#x6570;&#x636E;&#x9875;01&#x76F8;&#x90BB;&#x7684;&#x6570;&#x636E;&#x9875;02&#x5230;&#x7F13;&#x5B58;&#x9875;&#x91CC;&#x53BB;&#xFF0C;&#x8FD9;&#x4E2A;&#x65F6;&#x5019;&#xFF0C;&#x662F;&#x4E0D;&#x662F;&#x53EF;&#x80FD;&#x5728;&#x8BFB;&#x53D6;&#x6570;&#x636E;&#x9875;02&#x7684;&#x65F6;&#x5019;&#x8981;&#x518D;&#x6B21;&#x53D1;&#x8D77;&#x4E00;&#x6B21;&#x78C1;&#x76D8;IO&#xFF1F;  </p>
<p>&#x6240;&#x4EE5;&#x4E3A;&#x4E86;&#x4F18;&#x5316;&#x6027;&#x80FD;&#xFF0C;MySQL&#x624D;&#x8BBE;&#x8BA1;&#x4E86;&#x9884;&#x8BFB;&#x673A;&#x5236;&#xFF0C;&#x4E5F;&#x5C31;&#x662F;&#x8BF4;&#x5982;&#x679C;&#x5728;&#x4E00;&#x4E2A;&#x533A;&#x5185;&#xFF0C;&#x4F60;&#x987A;&#x5E8F;&#x8BFB;&#x53D6;&#x4E86;&#x597D;&#x591A;&#x6570;&#x636E;&#x9875;&#x4E86;&#xFF0C;&#x6BD4;&#x5982;&#x6570;&#x636E;&#x9875;01&#x5230;&#x6570;&#x636E;&#x9875;56&#x90FD;&#x88AB;&#x4F60;&#x4F9D;&#x6B21;&#x987A;&#x5E8F;&#x8BFB;&#x53D6;&#x4E86;&#xFF0C;MySQL&#x4F1A;&#x5224;&#x65AD;&#xFF0C;&#x4F60;&#x53EF;&#x80FD;&#x63A5;&#x7740;&#x4F1A;&#x7EE7;&#x7EED;&#x987A;&#x5E8F;&#x8BFB;&#x53D6;&#x540E;&#x9762;&#x7684;&#x6570;&#x636E;&#x9875;&#x3002;&#x90A3;&#x4E48;&#x6B64;&#x65F6;&#x5C31;&#x63D0;&#x524D;&#x628A;&#x540E;&#x7EED;&#x7684;&#x4E00;&#x5927;&#x5806;&#x6570;&#x636E;&#x9875;&#xFF08;&#x6BD4;&#x5982;&#x6570;&#x636E;&#x9875;57&#x5230;&#x6570;&#x636E;&#x9875;72&#xFF09;&#x90FD;&#x8BFB;&#x53D6;&#x5230;Buffer Pool&#x91CC;&#x53BB;&#x3002;</p>
<h4 id="&#x7F13;&#x51B2;&#x6C60;&#x5185;&#x5B58;&#x7BA1;&#x7406;"><a href="#&#x7F13;&#x51B2;&#x6C60;&#x5185;&#x5B58;&#x7BA1;&#x7406;" class="headerlink" title="&#x7F13;&#x51B2;&#x6C60;&#x5185;&#x5B58;&#x7BA1;&#x7406;"></a>&#x7F13;&#x51B2;&#x6C60;&#x5185;&#x5B58;&#x7BA1;&#x7406;</h4><p>&#x8FD9;&#x91CC;&#x9700;&#x8981;&#x4E86;&#x89E3;&#x4E09;&#x4E2A;&#x94FE;&#x8868;&#xFF08;<code>Free List</code>&#x3001;<code>Flush List</code>&#x3001;<code>LRU List</code>&#xFF09;&#xFF0C;</p>
<ul>
<li><code>Free List</code>  </li>
</ul>
<p>&#x78C1;&#x76D8;&#x4E0A;&#x7684;&#x6570;&#x636E;&#x9875;&#x548C;&#x7F13;&#x5B58;&#x9875;&#x662F;&#x4E00; &#x4E00;&#x5BF9;&#x5E94;&#x8D77;&#x6765;&#x7684;&#xFF0C;&#x90FD;&#x662F;16KB&#xFF0C;&#x4E00;&#x4E2A;&#x6570;&#x636E;&#x9875;&#x5BF9;&#x5E94;&#x4E00;&#x4E2A;&#x7F13;&#x5B58;&#x9875;&#x3002;&#x6570;&#x636E;&#x5E93;&#x4F1A;&#x4E3A;<code>Buffer Pool</code>&#x8BBE;&#x8BA1;&#x4E00;&#x4E2A;<code>free</code>&#x94FE;&#x8868;&#xFF0C;&#x4ED6;&#x662F;&#x4E00;&#x4E2A;&#x53CC;&#x5411;&#x94FE;&#x8868;&#x6570;&#x636E;&#x7ED3;&#x6784;&#xFF0C;&#x8FD9;&#x4E2A;<code>free</code>&#x94FE;&#x8868;&#x91CC;&#xFF0C;&#x6BCF;&#x4E2A;&#x8282;&#x70B9;&#x5C31;&#x662F;&#x4E00;&#x4E2A;&#x7A7A;&#x95F2;&#x7684;&#x7F13;&#x5B58;&#x9875;&#x7684;&#x63CF;&#x8FF0;&#x6570;&#x636E;&#x5757;&#x7684;&#x5730;&#x5740;&#xFF0C;&#x4E5F;&#x5C31;&#x662F;&#x8BF4;&#xFF0C;&#x53EA;&#x8981;&#x4F60;&#x4E00;&#x4E2A;&#x7F13;&#x5B58;&#x9875;&#x662F;&#x7A7A;&#x95F2;&#x7684;&#xFF0C;&#x90A3;&#x4E48;&#x4ED6;&#x7684;&#x63CF;&#x8FF0;&#x6570;&#x636E;&#x5757;&#x5C31;&#x4F1A;&#x88AB;&#x653E;&#x5165;&#x8FD9;&#x4E2A;<code>free</code>&#x94FE;&#x8868;&#x4E2D;&#x3002;&#x521A;&#x5F00;&#x59CB;&#x6570;&#x636E;&#x5E93;&#x542F;&#x52A8;&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x53EF;&#x80FD;&#x6240;&#x6709;&#x7684;&#x7F13;&#x5B58;&#x9875;&#x90FD;&#x662F;&#x7A7A;&#x95F2;&#x7684;&#xFF0C;&#x56E0;&#x4E3A;&#x6B64;&#x65F6;&#x53EF;&#x80FD;&#x662F;&#x4E00;&#x4E2A;&#x7A7A;&#x7684;&#x6570;&#x636E;&#x5E93;&#xFF0C;&#x4E00;&#x6761;&#x6570;&#x636E;&#x90FD;&#x6CA1;&#x6709;&#xFF0C;&#x6240;&#x4EE5;&#x6B64;&#x65F6;&#x6240;&#x6709;&#x7F13;&#x5B58;&#x9875;&#x7684;&#x63CF;&#x8FF0;&#x6570;&#x636E;&#x5757;&#xFF0C;&#x90FD;&#x4F1A;&#x88AB;&#x653E;&#x5165;&#x8FD9;&#x4E2A;<code>free</code>&#x94FE;&#x8868;&#x4E2D;&#xFF0C;&#x9664;&#x6B64;&#x4E4B;&#x5916;&#xFF0C;&#x8FD9;&#x4E2A;<code>free</code>&#x94FE;&#x8868;&#x6709;&#x4E00;&#x4E2A;&#x57FA;&#x7840;&#x8282;&#x70B9;&#xFF0C;&#x4ED6;&#x4F1A;&#x5F15;&#x7528;&#x94FE;&#x8868;&#x7684;&#x5934;&#x8282;&#x70B9;&#x548C;&#x5C3E;&#x8282;&#x70B9;&#xFF0C;&#x91CC;&#x9762;&#x8FD8;&#x5B58;&#x50A8;&#x4E86;&#x94FE;&#x8868;&#x4E2D;&#x6709;&#x591A;&#x5C11;&#x4E2A;&#x63CF;&#x8FF0;&#x6570;&#x636E;&#x5757;&#x7684;&#x8282;&#x70B9;&#xFF0C;&#x4E5F;&#x5C31;&#x662F;&#x6709;&#x591A;&#x5C11;&#x4E2A;&#x7A7A;&#x95F2;&#x7684;&#x7F13;&#x5B58;&#x9875;&#x3002;</p>
<ul>
<li><code>Flush List</code><br>&#x548C; <code>Free List</code> &#x94FE;&#x8868;&#x7C7B;&#x4F3C;&#xFF0C;<code>flush</code>&#x94FE;&#x8868;&#x672C;&#x8D28;&#x4E5F;&#x662F;&#x901A;&#x8FC7;&#x7F13;&#x5B58;&#x9875;&#x7684;&#x63CF;&#x8FF0;&#x6570;&#x636E;&#x5757;&#x4E2D;&#x7684;&#x4E24;&#x4E2A;&#x6307;&#x9488;&#xFF0C;&#x8BA9;&#x88AB;&#x4FEE;&#x6539;&#x8FC7;&#x7684;&#x7F13;&#x5B58;&#x9875;&#x7684;&#x63CF;&#x8FF0;&#x6570;&#x636E;&#x5757;&#xFF0C;&#x7EC4;&#x6210;&#x4E00;&#x4E2A;&#x53CC;&#x5411;&#x94FE;&#x8868;&#x3002;&#x51E1;&#x662F;&#x88AB;&#x4FEE;&#x6539;&#x8FC7;&#x7684;&#x7F13;&#x5B58;&#x9875;&#xFF0C;&#x90FD;&#x4F1A;&#x628A;&#x4ED6;&#x7684;&#x63CF;&#x8FF0;&#x6570;&#x636E;&#x5757;&#x52A0;&#x5165;&#x5230;<code>flush</code>&#x94FE;&#x8868;&#x4E2D;&#x53BB;&#xFF0C;<code>flush</code>&#x7684;&#x610F;&#x601D;&#x5C31;&#x662F;&#x8FD9;&#x4E9B;&#x90FD;&#x662F;&#x810F;&#x9875;&#xFF0C;&#x540E;&#x7EED;&#x90FD;&#x662F;&#x8981;<code>flush</code>&#x5237;&#x65B0;&#x5230;&#x78C1;&#x76D8;&#x4E0A;&#x53BB;&#x3002;</li>
<li><code>LRU List</code><br>&#x7531;&#x4E8E;&#x7F13;&#x51B2;&#x6C60;&#x5927;&#x5C0F;&#x662F;&#x4E00;&#x5B9A;&#x7684;&#xFF0C;&#x6362;&#x53E5;&#x8BDD;&#x8BF4; <code>free</code> &#x94FE;&#x8868;&#x4E2D;&#x7684;&#x7A7A;&#x95F2;&#x7F13;&#x5B58;&#x9875;&#x6570;&#x636E;&#x662F;&#x4E00;&#x5B9A;&#x7684;&#xFF0C;&#x5F53;&#x4F60;&#x4E0D;&#x505C;&#x7684;&#x628A;&#x78C1;&#x76D8;&#x4E0A;&#x7684;&#x6570;&#x636E;&#x9875;&#x52A0;&#x8F7D;&#x5230;&#x7A7A;&#x95F2;&#x7F13;&#x5B58;&#x9875;&#x91CC;&#x53BB;&#xFF0C;<code>free</code> &#x94FE;&#x8868;&#x4E2D;&#x4E0D;&#x505C;&#x7684;&#x79FB;&#x9664;&#x7A7A;&#x95F2;&#x7F13;&#x5B58;&#x9875;&#xFF0C;&#x8FDF;&#x65E9;&#x6709;&#x90A3;&#x4E48;&#x4E00;&#x77AC;&#x95F4;&#xFF0C;<code>free</code> &#x94FE;&#x8868;&#x4E2D;&#x5DF2;&#x7ECF;&#x6CA1;&#x6709;&#x7A7A;&#x95F2;&#x7F13;&#x5B58;&#x9875;&#xFF0C;&#x8FD9;&#x65F6;&#x5019;&#x5C31;&#x9700;&#x8981;&#x6DD8;&#x6C70;&#x6389;&#x4E00;&#x4E9B;&#x7F13;&#x5B58;&#x9875;&#xFF0C;&#x90A3;&#x6DD8;&#x6C70;&#x8C01;&#x5462;&#xFF1F;&#x8FD9;&#x5C31;&#x9700;&#x8981;&#x5229;&#x7528;&#x7F13;&#x5B58;&#x547D;&#x4E2D;&#x7387;&#x4E86;&#xFF0C;&#x7F13;&#x5B58;&#x547D;&#x4E2D;&#x591A;&#x7684;&#x5C31;&#x662F;&#x5E38;&#x7528;&#x7684;&#xFF0C;&#x90A3;&#x4E0D;&#x5E38;&#x7528;&#x7684;&#x5C31;&#x53EF;&#x4EE5;&#x6DD8;&#x6C70;&#x4E86;&#x3002;&#x6240;&#x4EE5;&#x5F15;&#x5165; <code>LRU</code> &#x94FE;&#x8868;&#x6765;&#x5224;&#x65AD;&#x54EA;&#x4E9B;&#x7F13;&#x5B58;&#x9875;&#x662F;&#x4E0D;&#x5E38;&#x7528;&#x7684;&#x3002;</li>
</ul>
<p>&#x90A3;LRU&#x94FE;&#x8868;&#x7684;&#x6DD8;&#x6C70;&#x7B56;&#x7565;&#x662F;&#x4EC0;&#x4E48;&#x6837;&#x7684;&#x5462;&#xFF1F;  </p>
<p>&#x5047;&#x8BBE;&#x6211;&#x4EEC;&#x4ECE;&#x78C1;&#x76D8;&#x52A0;&#x8F7D;&#x4E00;&#x4E2A;&#x6570;&#x636E;&#x9875;&#x5230;&#x7F13;&#x5B58;&#x9875;&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x5C31;&#x628A;&#x8FD9;&#x4E2A;&#x7F13;&#x5B58;&#x9875;&#x7684;&#x63CF;&#x8FF0;&#x6570;&#x636E;&#x5757;&#x653E;&#x5230; LRU &#x94FE;&#x8868;&#x5934;&#x90E8;&#x53BB;&#xFF0C;&#x90A3;&#x4E48;&#x53EA;&#x8981;&#x6709;&#x6570;&#x636E;&#x7684;&#x7F13;&#x5B58;&#x9875;&#xFF0C;&#x4ED6;&#x90FD;&#x4F1A;&#x5728; LRU &#x91CC;&#x4E86;&#xFF0C;&#x800C;&#x4E14;&#x6700;&#x8FD1;&#x88AB;&#x52A0;&#x8F7D;&#x6570;&#x636E;&#x7684;&#x7F13;&#x5B58;&#x9875;&#xFF0C;&#x90FD;&#x4F1A;&#x653E;&#x5230;LRU&#x94FE;&#x8868;&#x7684;&#x5934;&#x90E8;&#x53BB;&#xFF0C;&#x7136;&#x540E;&#x52A0;&#x5165;&#x67D0;&#x4E2A;&#x7F13;&#x5B58;&#x9875;&#x5728;&#x5C3E;&#x90E8;&#xFF0C;&#x53EA;&#x8981;&#x53D1;&#x751F;&#x67E5;&#x8BE2;&#xFF0C;&#x5C31;&#x628A;&#x5B83;&#x79FB;&#x5230;&#x5934;&#x90E8;&#xFF0C;&#x90A3;&#x4E48;&#x6700;&#x540E;&#x5C3E;&#x90E8;&#x5C31;&#x662F;&#x9700;&#x8981;&#x6DD8;&#x6C70;&#x4E86;&#x3002;<br><img src="https://gitee.com/songjianzaina/juejin_p5/raw/master/img/2efe1ae00627b7263e14566f09befefe8d3314238f96241be7ab65a7e44197c8" alt="image.png"></p>
<p>&#x4F46;&#x662F;&#x8FD9;&#x6837;&#x771F;&#x7684;&#x5C31;&#x53EF;&#x4EE5;&#x5417;&#xFF1F;</p>
<pre><code>+ &#x7B2C;&#x4E00;&#x79CD;&#x60C5;&#x51B5;&#x9884;&#x8BFB;&#x673A;&#x5236;&#x7834;&#x574F;  

&#x7531;&#x4E8E;&#x9884;&#x8BFB;&#x673A;&#x5236;&#x4F1A;&#x628A;&#x76F8;&#x90BB;&#x7684;&#x6CA1;&#x6709;&#x88AB;&#x8BBF;&#x95EE;&#x5230;&#x7684;&#x6570;&#x636E;&#x9875;&#x52A0;&#x8F7D;&#x5230;&#x7F13;&#x5B58;&#x91CC;&#xFF0C;&#x5B9E;&#x9645;&#x4E0A;&#x53EA;&#x6709;&#x4E00;&#x4E2A;&#x7F13;&#x5B58;&#x9875;&#x662F;&#x88AB;&#x8BBF;&#x95EE;&#x4E86;&#xFF0C;&#x53E6;&#x5916;&#x4E00;&#x4E2A;&#x901A;&#x8FC7;&#x9884;&#x8BFB;&#x673A;&#x5236;&#x52A0;&#x8F7D;&#x7684;&#x7F13;&#x5B58;&#x9875;&#xFF0C;&#x5176;&#x5B9E;&#x5E76;&#x6CA1;&#x6709;&#x4EBA;&#x8BBF;&#x95EE;&#xFF0C;&#x6B64;&#x65F6;&#x8FD9;&#x4E24;&#x4E2A;&#x7F13;&#x5B58;&#x9875;&#x53EF;&#x90FD;&#x5728;LRU&#x94FE;&#x8868;&#x7684;&#x524D;&#x9762;&#xFF0C;&#x5982;&#x4E0B;&#x56FE;
![image.png](https://gitee.com/songjianzaina/juejin_p5/raw/master/img/f7631281604299708681fc2fa401d5b5f43fdf1769de2784cd29e18b9d3dce22)
&#x8FD9;&#x4E2A;&#x65F6;&#x5019;&#xFF0C;&#x5047;&#x5982;&#x6CA1;&#x6709;&#x7A7A;&#x95F2;&#x7F13;&#x5B58;&#x9875;&#x4E86;&#xFF0C;&#x90A3;&#x4E48;&#x6B64;&#x65F6;&#x8981;&#x52A0;&#x8F7D;&#x65B0;&#x7684;&#x6570;&#x636E;&#x9875;&#x4E86;&#xFF0C;&#x662F;&#x4E0D;&#x662F;&#x5C31;&#x8981;&#x4ECE;LRU&#x94FE;&#x8868;&#x7684;&#x5C3E;&#x90E8;&#x628A;&#x6240;&#x8C13;&#x7684;&#x201C;&#x6700;&#x8FD1;&#x6700;&#x5C11;&#x4F7F;&#x7528;&#x7684;&#x4E00;&#x4E2A;&#x7F13;&#x5B58;&#x9875;&#x201D;&#x7ED9;&#x62FF;&#x51FA;&#x6765;&#xFF0C;&#x5237;&#x5165;&#x78C1;&#x76D8;&#xFF0C;&#x7136;&#x540E;&#x817E;&#x51FA;&#x6765;&#x4E00;&#x4E2A;&#x7A7A;&#x95F2;&#x7F13;&#x5B58;&#x9875;&#x4E86;&#x3002;&#x8FD9;&#x6837;&#x663E;&#x7136;&#x662F;&#x5F88;&#x4E0D;&#x5408;&#x7406;&#x7684;&#x3002;
+ &#x7B2C;&#x4E8C;&#x79CD;&#x60C5;&#x51B5;&#x53EF;&#x80FD;&#x5BFC;&#x81F4;&#x9891;&#x7E41;&#x88AB;&#x8BBF;&#x95EE;&#x7684;&#x7F13;&#x5B58;&#x9875;&#x88AB;&#x6DD8;&#x6C70;&#x7684;&#x573A;&#x666F;  

&#x5168;&#x8868;&#x626B;&#x63CF;&#x5BFC;&#x81F4;&#x4ED6;&#x76F4;&#x63A5;&#x4E00;&#x4E0B;&#x5B50;&#x628A;&#x8FD9;&#x4E2A;&#x8868;&#x91CC;&#x6240;&#x6709;&#x7684;&#x6570;&#x636E;&#x9875;&#xFF0C;&#x90FD;&#x4ECE;&#x78C1;&#x76D8;&#x52A0;&#x8F7D;&#x5230;Buffer Pool&#x91CC;&#x53BB;&#x3002;&#x8FD9;&#x4E2A;&#x65F6;&#x5019;&#x53EF;&#x80FD;&#x4F1A;&#x4E00;&#x4E0B;&#x5B50;&#x5C31;&#x628A;&#x8FD9;&#x4E2A;&#x8868;&#x7684;&#x6240;&#x6709;&#x6570;&#x636E;&#x9875;&#x90FD;&#x4E00;&#x4E00;&#x88C5;&#x5165;&#x5404;&#x4E2A;&#x7F13;&#x5B58;&#x9875;&#x91CC;&#x53BB;&#xFF01;&#x6B64;&#x65F6;&#x53EF;&#x80FD;LRU&#x94FE;&#x8868;&#x4E2D;&#x6392;&#x5728;&#x524D;&#x9762;&#x7684;&#x4E00;&#x5927;&#x4E32;&#x7F13;&#x5B58;&#x9875;&#xFF0C;&#x90FD;&#x662F;&#x5168;&#x8868;&#x626B;&#x63CF;&#x52A0;&#x8F7D;&#x8FDB;&#x6765;&#x7684;&#x7F13;&#x5B58;&#x9875;&#xFF01;&#x90A3;&#x4E48;&#x5982;&#x679C;&#x8FD9;&#x6B21;&#x5168;&#x8868;&#x626B;&#x63CF;&#x8FC7;&#x540E;&#xFF0C;&#x540E;&#x7EED;&#x51E0;&#x4E4E;&#x6CA1;&#x7528;&#x5230;&#x8FD9;&#x4E2A;&#x8868;&#x91CC;&#x7684;&#x6570;&#x636E;&#x5462;&#xFF1F;&#x6B64;&#x65F6;LRU&#x94FE;&#x8868;&#x7684;&#x5C3E;&#x90E8;&#xFF0C;&#x53EF;&#x80FD;&#x5168;&#x90E8;&#x90FD;&#x662F;&#x4E4B;&#x524D;&#x4E00;&#x76F4;&#x88AB;&#x9891;&#x7E41;&#x8BBF;&#x95EE;&#x7684;&#x90A3;&#x4E9B;&#x7F13;&#x5B58;&#x9875;&#xFF01;&#x7136;&#x540E;&#x5F53;&#x4F60;&#x8981;&#x6DD8;&#x6C70;&#x6389;&#x4E00;&#x4E9B;&#x7F13;&#x5B58;&#x9875;&#x817E;&#x51FA;&#x7A7A;&#x95F4;&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x5C31;&#x4F1A;&#x628A;LRU&#x94FE;&#x8868;&#x5C3E;&#x90E8;&#x4E00;&#x76F4;&#x88AB;&#x9891;&#x7E41;&#x8BBF;&#x95EE;&#x7684;&#x7F13;&#x5B58;&#x9875;&#x7ED9;&#x6DD8;&#x6C70;&#x6389;&#x4E86;&#xFF0C;&#x800C;&#x7559;&#x4E0B;&#x4E86;&#x4E4B;&#x524D;&#x5168;&#x8868;&#x626B;&#x63CF;&#x52A0;&#x8F7D;&#x8FDB;&#x6765;&#x7684;&#x5927;&#x91CF;&#x7684;&#x4E0D;&#x7ECF;&#x5E38;&#x8BBF;&#x95EE;&#x7684;&#x7F13;&#x5B58;&#x9875;&#xFF01;**&#x4F18;&#x5316;LRU&#x7B97;&#x6CD5;**&#xFF1A;&#x57FA;&#x4E8E;&#x51B7;&#x70ED;&#x6570;&#x636E;&#x5206;&#x79BB;&#x7684;&#x601D;&#x60F3;&#x8BBE;&#x8BA1;LRU&#x94FE;&#x8868;  </code></pre><p>MySQL&#x5728;&#x8BBE;&#x8BA1;LRU&#x94FE;&#x8868;&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x91C7;&#x53D6;&#x7684;&#x5B9E;&#x9645;&#x4E0A;&#x662F;&#x51B7;&#x70ED;&#x6570;&#x636E;&#x5206;&#x79BB;&#x7684;&#x601D;&#x60F3;&#x3002;LRU&#x94FE;&#x8868;&#xFF0C;&#x4F1A;&#x88AB;&#x62C6;&#x5206;&#x4E3A;&#x4E24;&#x4E2A;&#x90E8;&#x5206;&#xFF0C;&#x4E00;&#x90E8;&#x5206;&#x662F;&#x70ED;&#x6570;&#x636E;&#xFF0C;&#x4E00;&#x90E8;&#x5206;&#x662F;&#x51B7;&#x6570;&#x636E;&#xFF0C;&#x8FD9;&#x4E2A;&#x51B7;&#x70ED;&#x6570;&#x636E;&#x7684;&#x6BD4;&#x4F8B;&#x662F;&#x7531; <code>innodb_old_blocks_pct</code> &#x53C2;&#x6570;&#x63A7;&#x5236;&#x7684;&#xFF0C;&#x4ED6;&#x9ED8;&#x8BA4;&#x662F;37&#xFF0C;&#x4E5F;&#x5C31;&#x662F;&#x8BF4;&#x51B7;&#x6570;&#x636E;&#x5360;&#x6BD4;37%&#x3002;&#x6570;&#x636E;&#x9875;&#x7B2C;&#x4E00;&#x6B21;&#x88AB;&#x52A0;&#x8F7D;&#x5230;&#x7F13;&#x5B58;&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x5B9E;&#x9645;&#x4E0A;&#x7F13;&#x5B58;&#x9875;&#x4F1A;&#x88AB;&#x653E;&#x5728;&#x51B7;&#x6570;&#x636E;&#x533A;&#x57DF;&#x7684;&#x94FE;&#x8868;&#x5934;&#x90E8;&#x3002;<br><img src="https://gitee.com/songjianzaina/juejin_p5/raw/master/img/6bc348460664264966e1d7cea00fd4582cee74f07cf45d90947ee02146587183" alt="image.png"></p>
<p>&#x7136;&#x540E;MySQL&#x8BBE;&#x5B9A;&#x4E86;&#x4E00;&#x4E2A;&#x89C4;&#x5219;&#xFF0C;&#x4ED6;&#x8BBE;&#x8BA1;&#x4E86;&#x4E00;&#x4E2A; <code>innodb_old_blocks_time</code> &#x53C2;&#x6570;&#xFF0C;&#x9ED8;&#x8BA4;&#x503C;1000&#xFF0C;&#x4E5F;&#x5C31;&#x662F;1000&#x6BEB;&#x79D2;&#x4E5F;&#x5C31;&#x662F;&#x8BF4;&#xFF0C;&#x5FC5;&#x987B;&#x662F;&#x4E00;&#x4E2A;&#x6570;&#x636E;&#x9875;&#x88AB;&#x52A0;&#x8F7D;&#x5230;&#x7F13;&#x5B58;&#x9875;&#x4E4B;&#x540E;&#xFF0C;&#x5728;1s&#x4E4B;&#x540E;&#xFF0C;&#x4F60;&#x8BBF;&#x95EE;&#x8FD9;&#x4E2A;&#x7F13;&#x5B58;&#x9875;&#xFF0C;&#x5B83;&#x4F1A;&#x88AB;&#x632A;&#x52A8;&#x5230;&#x70ED;&#x6570;&#x636E;&#x533A;&#x57DF;&#x7684;&#x94FE;&#x8868;&#x5934;&#x90E8;&#x53BB;&#x3002;&#x56E0;&#x4E3A;&#x5047;&#x8BBE;&#x4F60;&#x52A0;&#x8F7D;&#x4E86;&#x4E00;&#x4E2A;&#x6570;&#x636E;&#x9875;&#x5230;&#x7F13;&#x5B58;&#x53BB;&#xFF0C;&#x7136;&#x540E;&#x8FC7;&#x4E86;1s&#x4E4B;&#x540E;&#x4F60;&#x8FD8;&#x8BBF;&#x95EE;&#x4E86;&#x8FD9;&#x4E2A;&#x7F13;&#x5B58;&#x9875;&#xFF0C;&#x8BF4;&#x660E;&#x4F60;&#x540E;&#x7EED;&#x5F88;&#x53EF;&#x80FD;&#x4F1A;&#x7ECF;&#x5E38;&#x8981;&#x8BBF;&#x95EE;&#x5B83;&#xFF0C;&#x8FD9;&#x4E2A;&#x65F6;&#x95F4;&#x9650;&#x5236;&#x5C31;&#x662F;1s&#xFF0C;&#x56E0;&#x6B64;&#x53EA;&#x6709;1s&#x540E;&#x4F60;&#x8BBF;&#x95EE;&#x4E86;&#x8FD9;&#x4E2A;&#x7F13;&#x5B58;&#x9875;&#xFF0C;&#x4ED6;&#x624D;&#x4F1A;&#x7ED9;&#x4F60;&#x628A;&#x7F13;&#x5B58;&#x9875;&#x653E;&#x5230;&#x70ED;&#x6570;&#x636E;&#x533A;&#x57DF;&#x7684;&#x94FE;&#x8868;&#x5934;&#x90E8;&#x53BB;&#x3002;<br><img src="https://gitee.com/songjianzaina/juejin_p5/raw/master/img/3bde33da8683444ce6327d8dc491391b9d4b893b53258705ad23fd2ff55e12dc" alt="image.png">  </p>
<p>&#x8FD9;&#x6837;&#x7684;&#x8BDD;&#x9884;&#x8BFB;&#x548C;&#x5168;&#x8868;&#x626B;&#x63CF;&#x7684;&#x6570;&#x636E;&#x90FD;&#x53EA;&#x4F1A;&#x5728;&#x51B7;&#x6570;&#x636E;&#x5934;&#x90E8;&#xFF0C;&#x4E0D;&#x4F1A;&#x4E00;&#x5F00;&#x59CB;&#x5C31;&#x8FDB;&#x53BB;&#x70ED;&#x6570;&#x636E;&#x533A;&#x3002;</p>
<p><strong>LRU&#x7B97;&#x6CD5;&#x6781;&#x81F4;&#x4F18;&#x5316;</strong>  </p>
<p>LRU&#x94FE;&#x8868;&#x7684;&#x70ED;&#x6570;&#x636E;&#x533A;&#x57DF;&#x7684;&#x8BBF;&#x95EE;&#x89C4;&#x5219;&#x4F18;&#x5316;&#x4E00;&#x4E0B;&#xFF0C;&#x5373;&#x53EA;&#x6709;&#x5728;&#x70ED;&#x6570;&#x636E;&#x533A;&#x57DF;&#x7684;&#x540E;3/4&#x90E8;&#x5206;&#x7684;&#x7F13;&#x5B58;&#x9875;&#x88AB;&#x8BBF;&#x95EE;&#x4E86;&#xFF0C;&#x624D;&#x4F1A;&#x7ED9;&#x4F60;&#x79FB;&#x52A8;&#x5230;&#x94FE;&#x8868;&#x5934;&#x90E8;&#x53BB;&#x3002;&#x5982;&#x679C;&#x4F60;&#x662F;&#x70ED;&#x6570;&#x636E;&#x533A;&#x57DF;&#x7684;&#x524D;&#x9762;1/4&#x7684;&#x7F13;&#x5B58;&#x9875;&#x88AB;&#x8BBF;&#x95EE;&#xFF0C;&#x4ED6;&#x662F;&#x4E0D;&#x4F1A;&#x79FB;&#x52A8;&#x5230;&#x94FE;&#x8868;&#x5934;&#x90E8;&#x53BB;&#x7684;&#x3002;</p>
<p>&#x4E3E;&#x4E2A;&#x4F8B;&#x5B50;&#xFF0C;&#x5047;&#x8BBE;&#x70ED;&#x6570;&#x636E;&#x533A;&#x57DF;&#x7684;&#x94FE;&#x8868;&#x91CC;&#x6709;100&#x4E2A;&#x7F13;&#x5B58;&#x9875;&#xFF0C;&#x90A3;&#x4E48;&#x6392;&#x5728;&#x524D;&#x9762;&#x7684;25&#x4E2A;&#x7F13;&#x5B58;&#x9875;&#xFF0C;&#x4ED6;&#x5373;&#x4F7F;&#x88AB;&#x8BBF;&#x95EE;&#x4E86;&#xFF0C;&#x4E5F;&#x4E0D;&#x4F1A;&#x79FB;&#x52A8;&#x5230;&#x94FE;&#x8868;&#x5934;&#x90E8;&#x53BB;&#x7684;&#x3002;&#x4F46;&#x662F;&#x5BF9;&#x4E8E;&#x6392;&#x5728;&#x540E;&#x9762;&#x7684;75&#x4E2A;&#x7F13;&#x5B58;&#x9875;&#xFF0C;&#x4ED6;&#x53EA;&#x8981;&#x88AB;&#x8BBF;&#x95EE;&#xFF0C;&#x5C31;&#x4F1A;&#x79FB;&#x52A8;&#x5230;&#x94FE;&#x8868;&#x5934;&#x90E8;&#x53BB;&#x3002;&#x8FD9;&#x6837;&#x7684;&#x8BDD;&#xFF0C;&#x4ED6;&#x5C31;&#x53EF;&#x4EE5;&#x5C3D;&#x53EF;&#x80FD;&#x7684;&#x51CF;&#x5C11;&#x94FE;&#x8868;&#x4E2D;&#x7684;&#x8282;&#x70B9;&#x79FB;&#x52A8;&#x4E86;&#x3002;</p>
<p><strong>LRU&#x94FE;&#x8868;&#x6DD8;&#x6C70;&#x7F13;&#x5B58;&#x9875;&#x65F6;&#x673A;</strong>  </p>
<p><code>MySQL</code>&#x5728;&#x6267;&#x884C;<code>CRUD</code>&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x9996;&#x5148;&#x5C31;&#x662F;&#x5927;&#x91CF;&#x7684;&#x64CD;&#x4F5C;&#x7F13;&#x5B58;&#x9875;&#x4EE5;&#x53CA;&#x5BF9;&#x5E94;&#x7684;&#x51E0;&#x4E2A;&#x94FE;&#x8868;&#x3002;&#x7136;&#x540E;&#x5728;&#x7F13;&#x5B58;&#x9875;&#x90FD;&#x6EE1;&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x5FC5;&#x7136;&#x8981;&#x60F3;&#x529E;&#x6CD5;&#x628A;&#x4E00;&#x4E9B;&#x7F13;&#x5B58;&#x9875;&#x7ED9;&#x5237;&#x5165;&#x78C1;&#x76D8;&#xFF0C;&#x7136;&#x540E;&#x6E05;&#x7A7A;&#x8FD9;&#x51E0;&#x4E2A;&#x7F13;&#x5B58;&#x9875;&#xFF0C;&#x63A5;&#x7740;&#x628A;&#x9700;&#x8981;&#x7684;&#x6570;&#x636E;&#x9875;&#x52A0;&#x8F7D;&#x5230;&#x7F13;&#x5B58;&#x9875;&#x91CC;&#x53BB;&#xFF01;</p>
<p>&#x6211;&#x4EEC;&#x5DF2;&#x7ECF;&#x77E5;&#x9053;&#xFF0C;&#x4ED6;&#x662F;&#x6839;&#x636E;LRU&#x94FE;&#x8868;&#x53BB;&#x6DD8;&#x6C70;&#x7F13;&#x5B58;&#x9875;&#x7684;&#xFF0C;&#x90A3;&#x4E48;&#x4ED6;&#x5230;&#x5E95;&#x662F;&#x4EC0;&#x4E48;&#x65F6;&#x5019;&#x628A;LRU&#x94FE;&#x8868;&#x7684;&#x51B7;&#x6570;&#x636E;&#x533A;&#x57DF;&#x4E2D;&#x7684;&#x7F13;&#x5B58;&#x9875;&#x5237;&#x5165;&#x78C1;&#x76D8;&#x7684;&#x5462;&#xFF1F;&#x5B9E;&#x9645;&#x4E0A;&#x4ED6;&#x6709;&#x4EE5;&#x4E0B;&#x4E09;&#x4E2A;&#x65F6;&#x673A;&#xFF1A;</p>
<pre><code>+ &#x5B9A;&#x65F6;&#x628A;LRU&#x5C3E;&#x90E8;&#x7684;&#x90E8;&#x5206;&#x7F13;&#x5B58;&#x9875;&#x5237;&#x5165;&#x78C1;&#x76D8;  

&#x540E;&#x53F0;&#x7EBF;&#x7A0B;&#xFF0C;&#x8FD0;&#x884C;&#x4E00;&#x4E2A;&#x5B9A;&#x65F6;&#x4EFB;&#x52A1;&#xFF0C;&#x8FD9;&#x4E2A;&#x5B9A;&#x65F6;&#x4EFB;&#x52A1;&#x6BCF;&#x9694;&#x4E00;&#x6BB5;&#x65F6;&#x95F4;&#x5C31;&#x4F1A;&#x628A;LRU&#x94FE;&#x8868;&#x7684;&#x51B7;&#x6570;&#x636E;&#x533A;&#x57DF;&#x7684;&#x5C3E;&#x90E8;&#x7684;&#x4E00;&#x4E9B;&#x7F13;&#x5B58;&#x9875;&#xFF0C;&#x5237;&#x5165;&#x78C1;&#x76D8;&#x91CC;&#x53BB;&#xFF0C;&#x6E05;&#x7A7A;&#x8FD9;&#x51E0;&#x4E2A;&#x7F13;&#x5B58;&#x9875;&#xFF0C;&#x628A;&#x4ED6;&#x4EEC;&#x52A0;&#x5165;&#x56DE;`free`&#x94FE;&#x8868;&#x53BB;&#x3002;  

![image.png](https://gitee.com/songjianzaina/juejin_p5/raw/master/img/c009173a1d867625751e650c3c4c02459547519dac87a9e3af263094c58bf3a0)
+ &#x628A;`flush`&#x94FE;&#x8868;&#x4E2D;&#x7684;&#x4E00;&#x4E9B;&#x7F13;&#x5B58;&#x9875;&#x5B9A;&#x65F6;&#x5237;&#x5165;&#x78C1;&#x76D8;  

&#x5982;&#x679C;&#x53EA;&#x662F;&#x628A; LRU &#x94FE;&#x8868;&#x7684;&#x51B7;&#x6570;&#x636E;&#x533A;&#x57DF;&#x7684;&#x7F13;&#x5B58;&#x9875;&#x5237;&#x5165;&#x78C1;&#x76D8;&#x662F;&#x4E0D;&#x591F;&#xFF0C;&#x56E0;&#x4E3A;&#x94FE;&#x8868;&#x7684;&#x70ED;&#x6570;&#x636E;&#x533A;&#x57DF;&#x91CC;&#x7684;&#x5F88;&#x591A;&#x7F13;&#x5B58;&#x9875;&#x53EF;&#x80FD;&#x4E5F;&#x4F1A;&#x88AB;&#x9891;&#x7E41;&#x7684;&#x4FEE;&#x6539;&#xFF0C;&#x96BE;&#x9053;&#x4ED6;&#x4EEC;&#x6C38;&#x8FDC;&#x90FD;&#x4E0D;&#x5237;&#x5165;&#x78C1;&#x76D8;&#x4E2D;&#x4E86;&#x5417;&#xFF1F;  

&#x6240;&#x4EE5;&#x8FD9;&#x4E2A;&#x540E;&#x53F0;&#x7EBF;&#x7A0B;&#x540C;&#x65F6;&#x4E5F;&#x4F1A;&#x5728;`MySQL`&#x4E0D;&#x600E;&#x4E48;&#x7E41;&#x5FD9;&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x628A;`flush`&#x94FE;&#x8868;&#x4E2D;&#x7684;&#x7F13;&#x5B58;&#x9875;&#x90FD;&#x5237;&#x5165;&#x78C1;&#x76D8;&#x4E2D;&#xFF0C;&#x8FD9;&#x6837;&#x88AB;&#x4F60;&#x4FEE;&#x6539;&#x8FC7;&#x7684;&#x6570;&#x636E;&#xFF0C;&#x8FDF;&#x65E9;&#x90FD;&#x4F1A;&#x5237;&#x5165;&#x78C1;&#x76D8;&#x7684;&#xFF01;  

&#x53EA;&#x8981;`flush`&#x94FE;&#x8868;&#x4E2D;&#x7684;&#x4E00;&#x6CE2;&#x7F13;&#x5B58;&#x9875;&#x88AB;&#x5237;&#x5165;&#x4E86;&#x78C1;&#x76D8;&#xFF0C;&#x90A3;&#x4E48;&#x8FD9;&#x4E9B;&#x7F13;&#x5B58;&#x9875;&#x4E5F;&#x4F1A;&#x4ECE;`flush`&#x94FE;&#x8868;&#x548C;`lru`&#x94FE;&#x8868;&#x4E2D;&#x79FB;&#x9664;&#xFF0C;&#x7136;&#x540E;&#x52A0;&#x5165;&#x5230;`free`&#x94FE;&#x8868;&#x4E2D;&#x53BB;&#xFF01;


&#x6240;&#x4EE5;&#x6574;&#x4F53;&#x6548;&#x679C;&#x5C31;&#x662F;&#x4E0D;&#x505C;&#x7684;&#x52A0;&#x8F7D;&#x6570;&#x636E;&#x5230;&#x7F13;&#x5B58;&#x9875;&#x91CC;&#x53BB;&#xFF0C;&#x4E0D;&#x505C;&#x7684;&#x67E5;&#x8BE2;&#x548C;&#x4FEE;&#x6539;&#x7F13;&#x5B58;&#x6570;&#x636E;&#xFF0C;&#x7136;&#x540E;`free`&#x94FE;&#x8868;&#x4E2D;&#x7684;&#x7F13;&#x5B58;&#x9875;&#x4E0D;&#x505C;&#x7684;&#x5728;&#x51CF;&#x5C11;&#xFF0C;`flush`&#x94FE;&#x8868;&#x4E2D;&#x7684;&#x7F13;&#x5B58;&#x9875;&#x4E0D;&#x505C;&#x7684;&#x5728;&#x589E;&#x52A0;&#xFF0C;`lru`&#x94FE;&#x8868;&#x4E2D;&#x7684;&#x7F13;&#x5B58;&#x9875;&#x4E0D;&#x505C;&#x7684;&#x5728;&#x589E;&#x52A0;&#x548C;&#x79FB;&#x52A8;&#x3002;  

&#x53E6;&#x5916;&#x4E00;&#x8FB9;&#xFF0C;&#x4F60;&#x7684;&#x540E;&#x53F0;&#x7EBF;&#x7A0B;&#x4E0D;&#x505C;&#x7684;&#x5728;&#x628A;`lru`&#x94FE;&#x8868;&#x7684;&#x51B7;&#x6570;&#x636E;&#x533A;&#x57DF;&#x7684;&#x7F13;&#x5B58;&#x9875;&#x4EE5;&#x53CA;`flush`&#x94FE;&#x8868;&#x7684;&#x7F13;&#x5B58;&#x9875;&#xFF0C;&#x5237;&#x5165;&#x78C1;&#x76D8;&#x4E2D;&#x6765;&#x6E05;&#x7A7A;&#x7F13;&#x5B58;&#x9875;&#xFF0C;&#x7136;&#x540E;`flush`&#x94FE;&#x8868;&#x548C;`lru`&#x94FE;&#x8868;&#x4E2D;&#x7684;&#x7F13;&#x5B58;&#x9875;&#x5728;&#x51CF;&#x5C11;&#xFF0C;`free`&#x94FE;&#x8868;&#x4E2D;&#x7684;&#x7F13;&#x5B58;&#x9875;&#x5728;&#x589E;&#x52A0;&#x3002;
+ `free`&#x94FE;&#x8868;&#x6CA1;&#x6709;&#x7A7A;&#x95F2;&#x7F13;&#x5B58;&#x9875;  

&#x5982;&#x679C;&#x6240;&#x6709;&#x7684;`free`&#x94FE;&#x8868;&#x90FD;&#x88AB;&#x4F7F;&#x7528;&#x4E86;&#xFF0C;&#x8FD9;&#x4E2A;&#x65F6;&#x5019;&#x5982;&#x679C;&#x8981;&#x4ECE;&#x78C1;&#x76D8;&#x52A0;&#x8F7D;&#x6570;&#x636E;&#x9875;&#x5230;&#x4E00;&#x4E2A;&#x7A7A;&#x95F2;&#x7F13;&#x5B58;&#x9875;&#x4E2D;&#xFF0C;&#x6B64;&#x65F6;&#x5C31;&#x4F1A;&#x4ECE;LRU&#x94FE;&#x8868;&#x7684;&#x51B7;&#x6570;&#x636E;&#x533A;&#x57DF;&#x7684;&#x5C3E;&#x90E8;&#x627E;&#x5230;&#x4E00;&#x4E2A;&#x7F13;&#x5B58;&#x9875;&#xFF0C;&#x4ED6;&#x4E00;&#x5B9A;&#x662F;&#x6700;&#x4E0D;&#x7ECF;&#x5E38;&#x4F7F;&#x7528;&#x7684;&#x7F13;&#x5B58;&#x9875;&#xFF01;&#x7136;&#x540E;&#x628A;&#x4ED6;&#x5237;&#x5165;&#x78C1;&#x76D8;&#x548C;&#x6E05;&#x7A7A;&#xFF0C;&#x7136;&#x540E;&#x628A;&#x6570;&#x636E;&#x9875;&#x52A0;&#x8F7D;&#x5230;&#x8FD9;&#x4E2A;&#x817E;&#x51FA;&#x6765;&#x7684;&#x7A7A;&#x95F2;&#x7F13;&#x5B58;&#x9875;&#x91CC;&#x53BB;&#xFF01;</code></pre><p>&#x603B;&#x7ED3;&#x4E00;&#x4E0B;&#xFF0C;&#x4E09;&#x4E2A;&#x94FE;&#x8868;&#x7684;&#x4F7F;&#x7528;&#x60C5;&#x51B5;&#xFF0C;<code>Buffer Pool</code>&#x88AB;&#x4F7F;&#x7528;&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x5B9E;&#x9645;&#x4E0A;&#x4F1A;&#x9891;&#x7E41;&#x7684;&#x4ECE;&#x78C1;&#x76D8;&#x4E0A;&#x52A0;&#x8F7D;&#x6570;&#x636E;&#x9875;&#x5230;&#x4ED6;&#x7684;&#x7F13;&#x5B58;&#x9875;&#x91CC;&#x53BB;&#xFF0C;&#x7136;&#x540E;<code>free</code>&#x94FE;&#x8868;&#x3001;<code>flush</code>&#x94FE;&#x8868;&#x3001;<code>lru</code>&#x94FE;&#x8868;&#x90FD;&#x4F1A;&#x540C;&#x65F6;&#x88AB;&#x4F7F;&#x7528;&#xFF0C;&#x6BD4;&#x5982;&#x6570;&#x636E;&#x52A0;&#x8F7D;&#x5230;&#x4E00;&#x4E2A;&#x7F13;&#x5B58;&#x9875;&#xFF0C;<code>free</code>&#x94FE;&#x8868;&#x91CC;&#x4F1A;&#x79FB;&#x9664;&#x8FD9;&#x4E2A;&#x7F13;&#x5B58;&#x9875;&#xFF0C;&#x7136;&#x540E;<code>lru</code>&#x94FE;&#x8868;&#x7684;&#x51B7;&#x6570;&#x636E;&#x533A;&#x57DF;&#x7684;&#x5934;&#x90E8;&#x4F1A;&#x653E;&#x5165;&#x8FD9;&#x4E2A;&#x7F13;&#x5B58;&#x9875;&#x3002;</p>
<p>&#x7136;&#x540E;&#x5982;&#x679C;&#x4F60;&#x8981;&#x662F;&#x4FEE;&#x6539;&#x4E86;&#x4E00;&#x4E2A;&#x7F13;&#x5B58;&#x9875;&#xFF0C;&#x90A3;&#x4E48;<code>flush</code>&#x94FE;&#x8868;&#x4E2D;&#x4F1A;&#x8BB0;&#x5F55;&#x8FD9;&#x4E2A;&#x810F;&#x9875;&#xFF0C;<code>lru</code>&#x94FE;&#x8868;&#x4E2D;&#x8FD8;&#x53EF;&#x80FD;&#x4F1A;&#x628A;&#x4F60;&#x4ECE;&#x51B7;&#x6570;&#x636E;&#x533A;&#x57DF;&#x79FB;&#x52A8;&#x5230;&#x70ED;&#x6570;&#x636E;&#x533A;&#x57DF;&#x7684;&#x5934;&#x90E8;&#x53BB;&#x3002;</p>
<p>&#x5982;&#x679C;&#x4F60;&#x662F;&#x67E5;&#x8BE2;&#x4E86;&#x4E00;&#x4E2A;&#x7F13;&#x5B58;&#x9875;&#xFF0C;&#x90A3;&#x4E48;&#x6B64;&#x65F6;&#x5C31;&#x4F1A;&#x628A;&#x8FD9;&#x4E2A;&#x7F13;&#x5B58;&#x9875;&#x5728;<code>lru</code>&#x94FE;&#x8868;&#x4E2D;&#x79FB;&#x52A8;&#x5230;&#x70ED;&#x6570;&#x636E;&#x533A;&#x57DF;&#x53BB;&#xFF0C;&#x6216;&#x8005;&#x5728;&#x70ED;&#x6570;&#x636E;&#x533A;&#x57DF;&#x4E2D;&#x4E5F;&#x6709;&#x53EF;&#x80FD;&#x4F1A;&#x79FB;&#x52A8;&#x5230;&#x5934;&#x90E8;&#x53BB;&#x3002;</p>
<h3 id="Redo-log-Buffer-&#x91CD;&#x505A;&#x65E5;&#x5FD7;&#x7F13;&#x51B2;"><a href="#Redo-log-Buffer-&#x91CD;&#x505A;&#x65E5;&#x5FD7;&#x7F13;&#x51B2;" class="headerlink" title="Redo log Buffer &#x91CD;&#x505A;&#x65E5;&#x5FD7;&#x7F13;&#x51B2;"></a><code>Redo log Buffer</code> &#x91CD;&#x505A;&#x65E5;&#x5FD7;&#x7F13;&#x51B2;</h3><p><code>InnoDB</code> &#x6709; <code>buffer pool</code>&#xFF08;&#x7B80;&#x79F0;bp&#xFF09;&#x3002;bp &#x662F;&#x6570;&#x636E;&#x5E93;&#x9875;&#x9762;&#x7684;&#x7F13;&#x5B58;&#xFF0C;&#x5BF9; <code>InnoDB</code> &#x7684;&#x4EFB;&#x4F55;&#x4FEE;&#x6539;&#x64CD;&#x4F5C;&#x90FD;&#x4F1A;&#x9996;&#x5148;&#x5728;bp&#x7684;<code>page</code>&#x4E0A;&#x8FDB;&#x884C;&#xFF0C;&#x7136;&#x540E;&#x8FD9;&#x6837;&#x7684;&#x9875;&#x9762;&#x5C06;&#x88AB;&#x6807;&#x8BB0;&#x4E3A; <code>dirty</code>(&#x810F;&#x9875;) &#x5E76;&#x88AB;&#x653E;&#x5230;&#x4E13;&#x95E8;&#x7684; <code>flush list</code> &#x4E0A;&#xFF0C;&#x540E;&#x7EED;&#x5C06;&#x7531; <code>master thread</code> &#x6216;&#x4E13;&#x95E8;&#x7684;&#x5237;&#x810F;&#x7EBF;&#x7A0B;&#x9636;&#x6BB5;&#x6027;&#x7684;&#x5C06;&#x8FD9;&#x4E9B;&#x9875;&#x9762;&#x5199;&#x5165;&#x78C1;&#x76D8;&#xFF08;<code>disk or ssd</code>&#xFF09;&#x3002;</p>
<p>&#x8FD9;&#x6837;&#x7684;&#x597D;&#x5904;&#x662F;&#x907F;&#x514D;&#x6BCF;&#x6B21;&#x5199;&#x64CD;&#x4F5C;&#x90FD;&#x64CD;&#x4F5C;&#x78C1;&#x76D8;&#x5BFC;&#x81F4;&#x5927;&#x91CF;&#x7684;&#x968F;&#x673A;IO&#xFF0C;&#x9636;&#x6BB5;&#x6027;&#x7684;&#x5237;&#x810F;&#x53EF;&#x4EE5;&#x5C06;&#x591A;&#x6B21;&#x5BF9;&#x9875;&#x9762;&#x7684;&#x4FEE;&#x6539; <code>merge</code> &#x6210;&#x4E00;&#x6B21;IO&#x64CD;&#x4F5C;&#xFF0C;&#x540C;&#x65F6;&#x5F02;&#x6B65;&#x5199;&#x5165;&#x4E5F;&#x964D;&#x4F4E;&#x4E86;&#x8BBF;&#x95EE;&#x7684;&#x65F6;&#x5EF6;&#x3002;&#x7136;&#x800C;&#xFF0C;&#x5982;&#x679C;&#x5728; <code>dirty page</code> &#x8FD8;&#x672A;&#x5237;&#x5165;&#x78C1;&#x76D8;&#x65F6;&#xFF0C;<code>server</code>&#x975E;&#x6B63;&#x5E38;&#x5173;&#x95ED;&#xFF0C;&#x8FD9;&#x4E9B;&#x4FEE;&#x6539;&#x64CD;&#x4F5C;&#x5C06;&#x4F1A;&#x4E22;&#x5931;&#xFF0C;&#x5982;&#x679C;&#x5199;&#x5165;&#x64CD;&#x4F5C;&#x6B63;&#x5728;&#x8FDB;&#x884C;&#xFF0C;&#x751A;&#x81F3;&#x4F1A;&#x7531;&#x4E8E;&#x635F;&#x574F;&#x6570;&#x636E;&#x6587;&#x4EF6;&#x5BFC;&#x81F4;&#x6570;&#x636E;&#x5E93;&#x4E0D;&#x53EF;&#x7528;&#x3002;</p>
<p>&#x4E3A;&#x4E86;&#x907F;&#x514D;&#x4E0A;&#x8FF0;&#x95EE;&#x9898;&#x7684;&#x53D1;&#x751F;&#xFF0C;<code>Innodb</code>&#x5C06;&#x6240;&#x6709;&#x5BF9;&#x9875;&#x9762;&#x7684;&#x4FEE;&#x6539;&#x64CD;&#x4F5C;&#x5199;&#x5165;&#x4E00;&#x4E2A;&#x4E13;&#x95E8;&#x7684;&#x6587;&#x4EF6;&#xFF0C;&#x5E76;&#x5728;&#x6570;&#x636E;&#x5E93;&#x542F;&#x52A8;&#x65F6;&#x4ECE;&#x6B64;&#x6587;&#x4EF6;&#x8FDB;&#x884C;&#x6062;&#x590D;&#x64CD;&#x4F5C;&#xFF0C;&#x8FD9;&#x4E2A;&#x6587;&#x4EF6;&#x5C31;&#x662F;<code>redo log file</code>&#x3002;&#x8FD9;&#x6837;&#x7684;&#x6280;&#x672F;&#x63A8;&#x8FDF;&#x4E86;bp&#x9875;&#x9762;&#x7684;&#x5237;&#x65B0;&#xFF0C;&#x4ECE;&#x800C;&#x63D0;&#x5347;&#x4E86;&#x6570;&#x636E;&#x5E93;&#x7684;&#x541E;&#x5410;&#xFF0C;&#x6709;&#x6548;&#x7684;&#x964D;&#x4F4E;&#x4E86;&#x8BBF;&#x95EE;&#x65F6;&#x5EF6;&#x3002;  </p>
<p>&#x5E26;&#x6765;&#x7684;&#x95EE;&#x9898;&#x662F;&#x989D;&#x5916;&#x7684;&#x5199;<code>redo log</code>&#x64CD;&#x4F5C;&#x7684;&#x5F00;&#x9500;&#xFF08;&#x987A;&#x5E8F;IO&#xFF0C;&#x5F53;&#x7136;&#x5F88;&#x5FEB;&#xFF09;&#xFF0C;&#x4EE5;&#x53CA;&#x6570;&#x636E;&#x5E93;&#x542F;&#x52A8;&#x65F6;&#x6062;&#x590D;&#x64CD;&#x4F5C;&#x6240;&#x9700;&#x7684;&#x65F6;&#x95F4;&#x3002;</p>
<p><code>redo</code>&#x65E5;&#x5FD7;&#x7531;&#x4E24;&#x90E8;&#x5206;&#x6784;&#x6210;&#xFF1A;<code>redo log buffer</code>&#x3001;<code>redo log file</code>&#xFF08;&#x5728;&#x78C1;&#x76D8;&#x6587;&#x4EF6;&#x90A3;&#x90E8;&#x5206;&#x4ECB;&#x7ECD;&#xFF09;&#x3002;<code>innodb</code> &#x662F;&#x652F;&#x6301;&#x4E8B;&#x52A1;&#x7684;&#x5B58;&#x50A8;&#x5F15;&#x64CE;&#xFF0C;&#x5728;&#x4E8B;&#x52A1;&#x63D0;&#x4EA4;&#x65F6;&#xFF0C;&#x5FC5;&#x987B;&#x5148;&#x5C06;&#x8BE5;&#x4E8B;&#x52A1;&#x7684;&#x6240;&#x6709;&#x65E5;&#x5FD7;&#x5199;&#x5165;&#x5230; <code>redo</code> &#x65E5;&#x5FD7;&#x6587;&#x4EF6;&#x4E2D;&#xFF0C;&#x5F85;&#x4E8B;&#x52A1;&#x7684; <code>commit</code> &#x64CD;&#x4F5C;&#x5B8C;&#x6210;&#x624D;&#x7B97;&#x6574;&#x4E2A;&#x4E8B;&#x52A1;&#x64CD;&#x4F5C;&#x5B8C;&#x6210;&#x3002;&#x5728;&#x6BCF;&#x6B21;&#x5C06;<code>redo log buffer</code>&#x5199;&#x5165;<code>redo log file</code>&#x540E;&#xFF0C;&#x90FD;&#x9700;&#x8981;&#x8C03;&#x7528;&#x4E00;&#x6B21;<code>fsync</code>&#x64CD;&#x4F5C;&#xFF0C;&#x56E0;&#x4E3A;&#x91CD;&#x505A;&#x65E5;&#x5FD7;&#x7F13;&#x51B2;&#x53EA;&#x662F;&#x628A;&#x5185;&#x5BB9;&#x5148;&#x5199;&#x5165;&#x64CD;&#x4F5C;&#x7CFB;&#x7EDF;&#x7684;&#x7F13;&#x51B2;&#x7CFB;&#x7EDF;&#x4E2D;&#xFF0C;&#x5E76;&#x6CA1;&#x6709;&#x786E;&#x4FDD;&#x76F4;&#x63A5;&#x5199;&#x5165;&#x5230;&#x78C1;&#x76D8;&#x4E0A;&#xFF0C;&#x6240;&#x4EE5;&#x5FC5;&#x987B;&#x8FDB;&#x884C;&#x4E00;&#x6B21;<code>fsync</code>&#x64CD;&#x4F5C;&#x3002;&#x56E0;&#x6B64;&#xFF0C;&#x78C1;&#x76D8;&#x7684;&#x6027;&#x80FD;&#x5728;&#x4E00;&#x5B9A;&#x7A0B;&#x5EA6;&#x4E0A;&#x4E5F;&#x51B3;&#x5B9A;&#x4E86;&#x4E8B;&#x52A1;&#x63D0;&#x4EA4;&#x7684;&#x6027;&#x80FD;&#xFF08;&#x5177;&#x4F53;&#x540E;&#x9762; <code>redo log</code> &#x843D;&#x76D8;&#x673A;&#x5236;&#x4ECB;&#x7ECD;&#xFF09;&#x3002;<br><img src="https://gitee.com/songjianzaina/juejin_p5/raw/master/img/210eee6403637383e966883cef61d3a89a208b4494445de4fd234972e09c0131" alt="image.png"><br><code>InnoDB</code> &#x5B58;&#x50A8;&#x5F15;&#x64CE;&#x4F1A;&#x9996;&#x5148;&#x5C06;&#x91CD;&#x505A;&#x65E5;&#x5FD7;&#x4FE1;&#x606F;&#x5148;&#x653E;&#x5165;&#x91CD;&#x505A;&#x65E5;&#x5FD7;&#x7F13;&#x51B2;&#x4E2D;&#xFF0C;&#x7136;&#x540E;&#x5728;&#x6309;&#x7167;&#x4E00;&#x5B9A;&#x9891;&#x7387;&#x5C06;&#x5176;&#x5237;&#x65B0;&#x5230;&#x91CD;&#x505A;&#x65E5;&#x5FD7;&#x6587;&#x4EF6;&#xFF0C;&#x91CD;&#x505A;&#x65E5;&#x5FD7;&#x7F13;&#x51B2;&#x4E00;&#x822C;&#x4E0D;&#x9700;&#x8981;&#x8BBE;&#x7F6E;&#x7684;&#x5F88;&#x5927;&#xFF0C;&#x56E0;&#x4E3A;&#x4E00;&#x822C;&#x60C5;&#x51B5;&#x6BCF;&#x4E00;&#x79D2;&#x949F;&#x90FD;&#x4F1A;&#x5C06;&#x91CD;&#x505A;&#x65E5;&#x5FD7;&#x7F13;&#x51B2;&#x5237;&#x65B0;&#x5230;&#x65E5;&#x5FD7;&#x6587;&#x4EF6;&#x4E2D;&#xFF0C;&#x53EF;&#x901A;&#x8FC7;&#x914D;&#x7F6E;&#x53C2;&#x6570; <code>Innodb_log_buffer_size</code> &#x63A7;&#x5236;&#xFF0C;&#x9ED8;&#x8BA4;&#x4E3A;8MB&#x3002;</p>
<h3 id="Double-Write-&#x53CC;&#x5199;"><a href="#Double-Write-&#x53CC;&#x5199;" class="headerlink" title="Double Write &#x53CC;&#x5199;"></a><code>Double Write</code> &#x53CC;&#x5199;</h3><p>&#x5982;&#x679C;&#x8BF4; <code>Insert Buffer</code> &#x7ED9; <code>InnoDB</code> &#x5B58;&#x50A8;&#x5F15;&#x64CE;&#x5E26;&#x6765;&#x4E86;&#x6027;&#x80FD;&#x4E0A;&#x7684;&#x63D0;&#x5347;&#xFF0C;&#x90A3;&#x4E48; <code>Double wtite</code> &#x5E26;&#x7ED9; <code>InnoDB</code> &#x5B58;&#x50A8;&#x5F15;&#x64CE;&#x7684;&#x662F;&#x6570;&#x636E;&#x9875;&#x7684;&#x53EF;&#x9760;&#x6027;&#x3002;</p>
<p><code>InnoDB</code> &#x7684; <code>Page Size</code> &#x4E00;&#x822C;&#x662F;16KB&#xFF0C;&#x5176;&#x6570;&#x636E;&#x6821;&#x9A8C;&#x4E5F;&#x662F;&#x9488;&#x5BF9;&#x8FD9;16KB&#x6765;&#x8BA1;&#x7B97;&#x7684;&#xFF0C;&#x5C06;&#x6570;&#x636E;&#x5199;&#x5165;&#x5230;&#x78C1;&#x76D8;&#x662F;&#x4EE5; <code>Page</code> &#x4E3A;&#x5355;&#x4F4D;&#x8FDB;&#x884C;&#x64CD;&#x4F5C;&#x7684;&#x3002;&#x6211;&#x4EEC;&#x77E5;&#x9053;&#xFF0C;&#x7531;&#x4E8E;&#x6587;&#x4EF6;&#x7CFB;&#x7EDF;&#x5BF9;&#x4E00;&#x6B21;&#x5927;&#x6570;&#x636E;&#x9875;&#xFF08;&#x4F8B;&#x5982;InnoDB&#x7684;16KB&#xFF09;&#x5927;&#x591A;&#x6570;&#x60C5;&#x51B5;&#x4E0B;&#x4E0D;&#x662F;&#x539F;&#x5B50;&#x64CD;&#x4F5C;&#xFF0C;&#x8FD9;&#x610F;&#x5473;&#x7740;&#x5982;&#x679C;&#x670D;&#x52A1;&#x5668;&#x5B95;&#x673A;&#x4E86;&#xFF0C;&#x53EF;&#x80FD;&#x53EA;&#x505A;&#x4E86;&#x90E8;&#x5206;&#x5199;&#x5165;&#x3002;16K&#x7684;&#x6570;&#x636E;&#xFF0C;&#x5199;&#x5165;4K&#x65F6;&#xFF0C;&#x53D1;&#x751F;&#x4E86;&#x7CFB;&#x7EDF;&#x65AD;&#x7535; <code>os crash</code> &#xFF0C;&#x53EA;&#x6709;&#x4E00;&#x90E8;&#x5206;&#x5199;&#x662F;&#x6210;&#x529F;&#x7684;&#xFF0C;&#x8FD9;&#x79CD;&#x60C5;&#x51B5;&#x4E0B;&#x5C31;&#x662F; <code>partial page write</code> &#x95EE;&#x9898;&#x3002;</p>
<p>&#x6709;&#x7ECF;&#x9A8C;&#x7684;DBA&#x53EF;&#x80FD;&#x4F1A;&#x60F3;&#x5230;&#xFF0C;&#x5982;&#x679C;&#x53D1;&#x751F;&#x5199;&#x5931;&#x6548;&#xFF0C;MySQL&#x53EF;&#x4EE5;&#x6839;&#x636E;<code>redo log</code>&#x8FDB;&#x884C;&#x6062;&#x590D;&#x3002;&#x8FD9;&#x662F;&#x4E00;&#x4E2A;&#x529E;&#x6CD5;&#xFF0C;&#x4F46;&#x662F;&#x5FC5;&#x987B;&#x6E05;&#x695A;&#x5730;&#x8BA4;&#x8BC6;&#x5230;&#xFF0C;<code>redo log</code>&#x4E2D;&#x8BB0;&#x5F55;&#x7684;&#x662F;&#x5BF9;&#x9875;&#x7684;&#x7269;&#x7406;&#x4FEE;&#x6539;&#xFF0C;&#x5982;&#x504F;&#x79FB;&#x91CF;800&#xFF0C;&#x5199;&#x2019;aaaa&#x2019;&#x8BB0;&#x5F55;&#x3002;&#x5982;&#x679C;&#x8FD9;&#x4E2A;&#x9875;&#x672C;&#x8EAB;&#x5DF2;&#x7ECF;&#x53D1;&#x751F;&#x4E86;&#x635F;&#x574F;&#xFF0C;&#x518D;&#x5BF9;&#x5176;&#x8FDB;&#x884C;&#x91CD;&#x505A;&#x662F;&#x6CA1;&#x6709;&#x610F;&#x4E49;&#x7684;&#x3002;MySQL&#x5728;&#x6062;&#x590D;&#x7684;&#x8FC7;&#x7A0B;&#x4E2D;&#x68C0;&#x67E5;<code>page</code>&#x7684;<code>checksum</code>&#xFF0C;<code>checksum</code>&#x5C31;&#x662F;&#x68C0;&#x67E5;<code>page</code>&#x7684;&#x6700;&#x540E;&#x4E8B;&#x52A1;&#x53F7;&#xFF0C;&#x53D1;&#x751F;<code>partial page write</code>&#x95EE;&#x9898;&#x65F6;&#xFF0C;<code>page</code>&#x5DF2;&#x7ECF;&#x635F;&#x574F;&#xFF0C;&#x627E;&#x4E0D;&#x5230;&#x8BE5;<code>page</code>&#x4E2D;&#x7684;&#x4E8B;&#x52A1;&#x53F7;&#x3002;&#x5728;InnoDB&#x770B;&#x6765;&#xFF0C;&#x8FD9;&#x6837;&#x7684;&#x6570;&#x636E;&#x9875;&#x662F;&#x65E0;&#x6CD5;&#x901A;&#x8FC7; <code>checksum</code> &#x9A8C;&#x8BC1;&#x7684;&#xFF0C;&#x5C31;&#x65E0;&#x6CD5;&#x6062;&#x590D;&#x3002;&#x5373;&#x65F6;&#x6211;&#x4EEC;&#x5F3A;&#x5236;&#x8BA9;&#x5176;&#x901A;&#x8FC7;&#x9A8C;&#x8BC1;&#xFF0C;&#x4E5F;&#x65E0;&#x6CD5;&#x4ECE;&#x5D29;&#x6E83;&#x4E2D;&#x6062;&#x590D;&#xFF0C;&#x56E0;&#x4E3A;&#x5F53;&#x524D;InnoDB&#x5B58;&#x5728;&#x7684;&#x4E00;&#x4E9B;&#x65E5;&#x5FD7;&#x7C7B;&#x578B;&#xFF0C;&#x6709;&#x4E9B;&#x662F;&#x903B;&#x8F91;&#x64CD;&#x4F5C;&#xFF0C;&#x5E76;&#x4E0D;&#x80FD;&#x505A;&#x5230;&#x5E42;&#x7B49;&#x3002;</p>
<p>&#x4E3A;&#x4E86;&#x89E3;&#x51B3;&#x8FD9;&#x4E2A;&#x95EE;&#x9898;&#xFF0C;InnoDB&#x5B9E;&#x73B0;&#x4E86;<code>double write buffer</code>&#xFF0C;&#x7B80;&#x5355;&#x6765;&#x8BF4;&#xFF0C;&#x5C31;&#x662F;&#x5728;&#x5199;&#x6570;&#x636E;&#x9875;&#x4E4B;&#x524D;&#xFF0C;&#x5148;&#x628A;&#x8FD9;&#x4E2A;&#x6570;&#x636E;&#x9875;&#x5199;&#x5230;&#x4E00;&#x5757;&#x72EC;&#x7ACB;&#x7684;&#x7269;&#x7406;&#x6587;&#x4EF6;&#x4F4D;&#x7F6E;&#xFF08;ibdata&#xFF09;&#xFF0C;&#x7136;&#x540E;&#x518D;&#x5199;&#x5230;&#x6570;&#x636E;&#x9875;&#x3002;&#x8FD9;&#x6837;&#x5728;&#x5B95;&#x673A;&#x91CD;&#x542F;&#x65F6;&#xFF0C;&#x5982;&#x679C;&#x51FA;&#x73B0;&#x6570;&#x636E;&#x9875;&#x635F;&#x574F;&#xFF0C;&#x90A3;&#x4E48;&#x5728;&#x5E94;&#x7528;<code>redo log</code>&#x4E4B;&#x524D;&#xFF0C;&#x9700;&#x8981;&#x901A;&#x8FC7;&#x8BE5;&#x9875;&#x7684;&#x526F;&#x672C;&#x6765;&#x8FD8;&#x539F;&#x8BE5;&#x9875;&#xFF0C;&#x7136;&#x540E;&#x518D;&#x8FDB;&#x884C;<code>redo log</code>&#x91CD;&#x505A;&#xFF0C;&#x8FD9;&#x5C31;&#x662F;<code>double write</code>&#x3002;<code>double write</code>&#x6280;&#x672F;&#x5E26;&#x7ED9;<code>innodb</code>&#x5B58;&#x50A8;&#x5F15;&#x64CE;&#x7684;&#x662F;&#x6570;&#x636E;&#x9875;&#x7684;&#x53EF;&#x9760;&#x6027;&#xFF0C;&#x4E0B;&#x9762;&#x5BF9;<code>doublewrite</code>&#x6280;&#x672F;&#x8FDB;&#x884C;&#x89E3;&#x6790;</p>
<p><img src="https://gitee.com/songjianzaina/juejin_p5/raw/master/img/5a63640125660d254bf791ac8aae0a44069bfc6da6e1a38c6edcff1f66d1dad6" alt="image.png"></p>
<p>&#x5982;&#x4E0A;&#x56FE;&#x6240;&#x793A;&#xFF0C;<code>Double Write</code> &#x7531;&#x4E24;&#x90E8;&#x5206;&#x7EC4;&#x6210;&#xFF0C;&#x4E00;&#x90E8;&#x5206;&#x662F;&#x5185;&#x5B58;&#x4E2D;&#x7684; <code>double write buffer</code>&#xFF0C;&#x5927;&#x5C0F;&#x4E3A;2MB&#xFF0C;&#x53E6;&#x4E00;&#x90E8;&#x5206;&#x662F;&#x7269;&#x7406;&#x78C1;&#x76D8;&#x4E0A;&#x5171;&#x4EAB;&#x8868;&#x7A7A;&#x95F4;&#x8FDE;&#x7EED;&#x7684;128&#x4E2A;&#x9875;&#xFF0C;&#x5927;&#x5C0F;&#x4E5F;&#x4E3A;2MB&#x3002;&#x5728;&#x5BF9;&#x7F13;&#x51B2;&#x6C60;&#x7684;&#x810F;&#x9875;&#x8FDB;&#x884C;&#x5237;&#x65B0;&#x65F6;&#xFF0C;&#x5E76;&#x4E0D;&#x76F4;&#x63A5;&#x5199;&#x78C1;&#x76D8;&#xFF0C;&#x800C;&#x662F;&#x901A;&#x8FC7; <code>memcpy</code> &#x51FD;&#x6570;&#x5C06;&#x810F;&#x9875;&#x5148;&#x590D;&#x5236;&#x5230;&#x5185;&#x5B58;&#x4E2D;&#x7684;&#x8BE5;&#x533A;&#x57DF;&#xFF0C;&#x4E4B;&#x540E;&#x901A;&#x8FC7; <code>double write buffer</code> &#x518D;&#x5206;&#x4E24;&#x6B21;&#xFF0C;&#x6BCF;&#x6B21;1MB&#x987A;&#x5E8F;&#x5730;&#x5199;&#x5165;&#x5171;&#x4EAB;&#x8868;&#x7A7A;&#x95F4;&#x7684;&#x7269;&#x7406;&#x78C1;&#x76D8;&#x4E0A;&#xFF0C;&#x7136;&#x540E;&#x9A6C;&#x4E0A;&#x8C03;&#x7528; <code>fsync</code> &#x51FD;&#x6570;&#xFF0C;&#x540C;&#x6B65;&#x78C1;&#x76D8;&#xFF0C;&#x907F;&#x514D;&#x64CD;&#x4F5C;&#x7CFB;&#x7EDF;&#x7F13;&#x51B2;&#x5199;&#x5E26;&#x6765;&#x7684;&#x95EE;&#x9898;&#x3002;&#x5728;&#x5B8C;&#x6210;<code>double write</code> &#x9875;&#x7684;&#x5199;&#x5165;&#x540E;&#xFF0C;&#x518D;&#x5C06; <code>double wirite buffer</code> &#x4E2D;&#x7684;&#x9875;&#x5199;&#x5165;&#x5404;&#x4E2A;&#x8868;&#x7A7A;&#x95F4;&#x6587;&#x4EF6;&#x4E2D;&#x3002;  </p>
<p>&#x5728;&#x8FD9;&#x4E2A;&#x8FC7;&#x7A0B;&#x4E2D;&#xFF0C;<code>doublewrite</code> &#x662F;&#x987A;&#x5E8F;&#x5199;&#xFF0C;&#x5F00;&#x9500;&#x5E76;&#x4E0D;&#x5927;&#xFF0C;&#x5728;&#x5B8C;&#x6210; <code>doublewrite</code> &#x5199;&#x5165;&#x540E;&#xFF0C;&#x5728;&#x5C06; <code>double write buffer</code>&#x5199;&#x5165;&#x5404;&#x8868;&#x7A7A;&#x95F4;&#x6587;&#x4EF6;&#xFF0C;&#x8FD9;&#x65F6;&#x662F;&#x79BB;&#x6563;&#x5199;&#x5165;&#x3002;</p>
<p>&#x5982;&#x679C;&#x64CD;&#x4F5C;&#x7CFB;&#x7EDF;&#x5728;&#x5C06;&#x9875;&#x5199;&#x5165;&#x78C1;&#x76D8;&#x7684;&#x8FC7;&#x7A0B;&#x4E2D;&#x53D1;&#x751F;&#x4E86;&#x5D29;&#x6E83;&#xFF0C;&#x5728;&#x6062;&#x590D;&#x8FC7;&#x7A0B;&#x4E2D;&#xFF0C;<code>InnoDB</code> &#x5B58;&#x50A8;&#x5F15;&#x64CE;&#x53EF;&#x4EE5;&#x4ECE;&#x5171;&#x4EAB;&#x8868;&#x7A7A;&#x95F4;&#x4E2D;&#x7684;<code>double write</code> &#x4E2D;&#x627E;&#x5230;&#x8BE5;&#x9875;&#x7684;&#x4E00;&#x4E2A;&#x526F;&#x672C;&#xFF0C;&#x5C06;&#x5176;&#x590D;&#x5236;&#x5230;&#x8868;&#x7A7A;&#x95F4;&#x6587;&#x4EF6;&#x4E2D;&#xFF0C;&#x518D;&#x5E94;&#x7528;&#x91CD;&#x505A;&#x65E5;&#x5FD7;&#x3002;</p>
<h2 id="InnoDB-&#x5B58;&#x50A8;&#x5F15;&#x64CE;&#x7B2C;&#x4E8C;&#x90E8;&#x5206;&#xFF1A;&#x540E;&#x53F0;&#x7EBF;&#x7A0B;"><a href="#InnoDB-&#x5B58;&#x50A8;&#x5F15;&#x64CE;&#x7B2C;&#x4E8C;&#x90E8;&#x5206;&#xFF1A;&#x540E;&#x53F0;&#x7EBF;&#x7A0B;" class="headerlink" title="InnoDB &#x5B58;&#x50A8;&#x5F15;&#x64CE;&#x7B2C;&#x4E8C;&#x90E8;&#x5206;&#xFF1A;&#x540E;&#x53F0;&#x7EBF;&#x7A0B;"></a><code>InnoDB</code> &#x5B58;&#x50A8;&#x5F15;&#x64CE;&#x7B2C;&#x4E8C;&#x90E8;&#x5206;&#xFF1A;&#x540E;&#x53F0;&#x7EBF;&#x7A0B;</h2><h3 id="IO-&#x7EBF;&#x7A0B;"><a href="#IO-&#x7EBF;&#x7A0B;" class="headerlink" title="IO &#x7EBF;&#x7A0B;"></a>IO &#x7EBF;&#x7A0B;</h3><p>&#x5728; <code>InnoDB</code> &#x4E2D;&#x4F7F;&#x7528;&#x4E86;&#x5927;&#x91CF;&#x7684; <code>AIO&#xFF08;Async IO&#xFF09;</code> &#x6765;&#x505A;&#x8BFB;&#x5199;&#x5904;&#x7406;&#xFF0C;&#x8FD9;&#x6837;&#x53EF;&#x4EE5;&#x6781;&#x5927;&#x63D0;&#x9AD8;&#x6570;&#x636E;&#x5E93;&#x7684;&#x6027;&#x80FD;&#x3002;&#x5728; <code>InnoDB 1.0</code> &#x7248;&#x672C;&#x4E4B;&#x524D;&#x5171;&#x6709;4&#x4E2A; <code>IO Thread</code>&#xFF0C;&#x5206;&#x522B;&#x662F; <strong>write&#xFF0C;read&#xFF0C;insert buffer&#x548C;log thread</strong>&#xFF0C;&#x540E;&#x6765;&#x7248;&#x672C;&#x5C06; <code>read thread</code>&#x548C; <code>write thread</code> &#x5206;&#x522B;&#x589E;&#x5927;&#x5230;&#x4E86;4&#x4E2A;&#xFF0C;&#x4E00;&#x5171;&#x6709;10&#x4E2A;&#x4E86;&#x3002;</p>
<ul>
<li><code>read thread</code> &#xFF1A; &#x8D1F;&#x8D23;&#x8BFB;&#x53D6;&#x64CD;&#x4F5C;&#xFF0C;&#x5C06;&#x6570;&#x636E;&#x4ECE;&#x78C1;&#x76D8;&#x52A0;&#x8F7D;&#x5230;&#x7F13;&#x5B58;page&#x9875;&#x3002;4&#x4E2A;</li>
<li><code>write thread</code>&#xFF1A;&#x8D1F;&#x8D23;&#x5199;&#x64CD;&#x4F5C;&#xFF0C;&#x5C06;&#x7F13;&#x5B58;&#x810F;&#x9875;&#x5237;&#x65B0;&#x5230;&#x78C1;&#x76D8;&#x3002;4&#x4E2A;</li>
<li><code>log thread</code>&#xFF1A;&#x8D1F;&#x8D23;&#x5C06;&#x65E5;&#x5FD7;&#x7F13;&#x51B2;&#x533A;&#x5185;&#x5BB9;&#x5237;&#x65B0;&#x5230;&#x78C1;&#x76D8;&#x3002;1&#x4E2A;</li>
<li><code>insert buffer thread</code> &#xFF1A;&#x8D1F;&#x8D23;&#x5C06;&#x5199;&#x7F13;&#x51B2;&#x5185;&#x5BB9;&#x5237;&#x65B0;&#x5230;&#x78C1;&#x76D8;&#x3002;1&#x4E2A;</li>
</ul>
<h3 id="Purge-&#x7EBF;&#x7A0B;"><a href="#Purge-&#x7EBF;&#x7A0B;" class="headerlink" title="Purge &#x7EBF;&#x7A0B;"></a><code>Purge</code> &#x7EBF;&#x7A0B;</h3><p>&#x4E8B;&#x52A1;&#x63D0;&#x4EA4;&#x4E4B;&#x540E;&#xFF0C;&#x5176;&#x4F7F;&#x7528;&#x7684; <code>undo</code> &#x65E5;&#x5FD7;&#x5C06;&#x4E0D;&#x518D;&#x9700;&#x8981;&#xFF0C;&#x56E0;&#x6B64;&#x9700;&#x8981; <code>Purge Thread</code> &#x56DE;&#x6536;&#x5DF2;&#x7ECF;&#x5206;&#x914D;&#x7684; <code>undo</code> &#x9875;&#x3002;<code>show variables like &apos;%innodb*purge*threads%&apos;;</code></p>
<h3 id="Page-Cleaner-&#x7EBF;&#x7A0B;"><a href="#Page-Cleaner-&#x7EBF;&#x7A0B;" class="headerlink" title="Page Cleaner &#x7EBF;&#x7A0B;"></a><code>Page Cleaner</code> &#x7EBF;&#x7A0B;</h3><p>&#x4F5C;&#x7528;&#x662F;&#x5C06;&#x810F;&#x6570;&#x636E;&#x5237;&#x65B0;&#x5230;&#x78C1;&#x76D8;&#xFF0C;&#x810F;&#x6570;&#x636E;&#x5237;&#x76D8;&#x540E;&#x76F8;&#x5E94;&#x7684; <code>redo log</code> &#x4E5F;&#x5C31;&#x53EF;&#x4EE5;&#x8986;&#x76D6;&#xFF0C;&#x5373;&#x53EF;&#x4EE5;&#x540C;&#x6B65;&#x6570;&#x636E;&#xFF0C;&#x53C8;&#x80FD;&#x8FBE;&#x5230; <code>redo log</code> &#x5FAA;&#x73AF;&#x4F7F;&#x7528;&#x7684;&#x76EE;&#x7684;&#x3002;&#x4F1A;&#x8C03;&#x7528;write thread&#x7EBF;&#x7A0B;&#x5904;&#x7406;&#x3002;<code>show variables like &apos;%innodb*page*cleaners%&apos;;</code></p>
<h2 id="InnoDB-&#x5B58;&#x50A8;&#x5F15;&#x64CE;&#x7B2C;&#x4E09;&#x90E8;&#x5206;&#xFF1A;&#x78C1;&#x76D8;&#x6587;&#x4EF6;"><a href="#InnoDB-&#x5B58;&#x50A8;&#x5F15;&#x64CE;&#x7B2C;&#x4E09;&#x90E8;&#x5206;&#xFF1A;&#x78C1;&#x76D8;&#x6587;&#x4EF6;" class="headerlink" title="InnoDB &#x5B58;&#x50A8;&#x5F15;&#x64CE;&#x7B2C;&#x4E09;&#x90E8;&#x5206;&#xFF1A;&#x78C1;&#x76D8;&#x6587;&#x4EF6;"></a><code>InnoDB</code> &#x5B58;&#x50A8;&#x5F15;&#x64CE;&#x7B2C;&#x4E09;&#x90E8;&#x5206;&#xFF1A;&#x78C1;&#x76D8;&#x6587;&#x4EF6;</h2><p><code>InnoDB</code> &#x7684;&#x4E3B;&#x8981;&#x7684;&#x78C1;&#x76D8;&#x6587;&#x4EF6;&#x4E3B;&#x8981;&#x5206;&#x4E3A;&#x4E09;&#x5927;&#x5757;&#xFF1A;<strong>&#x4E00;&#x662F;&#x7CFB;&#x7EDF;&#x8868;&#x7A7A;&#x95F4;&#xFF0C;&#x4E8C;&#x662F;&#x7528;&#x6237;&#x8868;&#x7A7A;&#x95F4;&#xFF0C;&#x4E09;&#x662F; <code>redo</code> &#x65E5;&#x5FD7;&#x6587;&#x4EF6;&#x548C;&#x5F52;&#x6863;&#x6587;&#x4EF6;</strong>&#x3002;</p>
<blockquote>
<p>&#x4E8C;&#x8FDB;&#x5236;&#x6587;&#x4EF6;&#xFF08;<code>binlong</code>&#xFF09;&#x7B49;&#x6587;&#x4EF6;&#x662F; <code>MySQL Server</code> &#x5C42;&#x7EF4;&#x62A4;&#x7684;&#x6587;&#x4EF6;&#xFF0C;&#x6240;&#x4EE5;&#x672A;&#x5217;&#x5165; <code>InnoDB</code> &#x7684;&#x78C1;&#x76D8;&#x6587;&#x4EF6;&#x4E2D;&#x3002;</p>
</blockquote>
<h3 id="&#x7CFB;&#x7EDF;&#x8868;&#x7A7A;&#x95F4;&#x548C;&#x7528;&#x6237;&#x8868;&#x7A7A;&#x95F4;"><a href="#&#x7CFB;&#x7EDF;&#x8868;&#x7A7A;&#x95F4;&#x548C;&#x7528;&#x6237;&#x8868;&#x7A7A;&#x95F4;" class="headerlink" title="&#x7CFB;&#x7EDF;&#x8868;&#x7A7A;&#x95F4;&#x548C;&#x7528;&#x6237;&#x8868;&#x7A7A;&#x95F4;"></a>&#x7CFB;&#x7EDF;&#x8868;&#x7A7A;&#x95F4;&#x548C;&#x7528;&#x6237;&#x8868;&#x7A7A;&#x95F4;</h3><p>&#x7CFB;&#x7EDF;&#x8868;&#x7A7A;&#x95F4;&#x5305;&#x542B; <code>InnoDB</code> &#x6570;&#x636E;&#x5B57;&#x5178;&#xFF08;&#x5143;&#x6570;&#x636E;&#x4EE5;&#x53CA;&#x76F8;&#x5173;&#x5BF9;&#x8C61;&#xFF09;&#x5E76;&#x4E14; <code>double write buffer</code> , <code>change buffer</code> , <code>undo logs</code> &#x7684;&#x5B58;&#x50A8;&#x533A;&#x57DF;&#x3002;  </p>
<p>&#x7CFB;&#x7EDF;&#x8868;&#x7A7A;&#x95F4;&#x4E5F;&#x9ED8;&#x8BA4;&#x5305;&#x542B;&#x4EFB;&#x4F55;&#x7528;&#x6237;&#x5728;&#x7CFB;&#x7EDF;&#x8868;&#x7A7A;&#x95F4;&#x521B;&#x5EFA;&#x7684;&#x8868;&#x6570;&#x636E;&#x548C;&#x7D22;&#x5F15;&#x6570;&#x636E;&#x3002;  </p>
<p>&#x7CFB;&#x7EDF;&#x8868;&#x7A7A;&#x95F4;&#x662F;&#x4E00;&#x4E2A;&#x5171;&#x4EAB;&#x7684;&#x8868;&#x7A7A;&#x95F4;&#xFF0C;&#x56E0;&#x4E3A;&#x5B83;&#x662F;&#x88AB;&#x591A;&#x4E2A;&#x8868;&#x5171;&#x4EAB;&#x7684;&#x3002;</p>
<p>&#x7CFB;&#x7EDF;&#x8868;&#x7A7A;&#x95F4;&#x662F;&#x7531;&#x4E00;&#x4E2A;&#x6216;&#x8005;&#x591A;&#x4E2A;&#x6570;&#x636E;&#x6587;&#x4EF6;&#x7EC4;&#x6210;&#x3002;&#x9ED8;&#x8BA4;&#x60C5;&#x51B5;&#x4E0B;,1&#x4E2A;&#x521D;&#x59CB;&#x5927;&#x5C0F;&#x4E3A;10MB&#xFF0C;&#x540D;&#x4E3A; <code>ibdata1</code> &#x7684;&#x7CFB;&#x7EDF;&#x6570;&#x636E;&#x6587;&#x4EF6;&#x5728;MySQL&#x7684;data&#x76EE;&#x5F55;&#x4E0B;&#x88AB;&#x521B;&#x5EFA;&#x3002;&#x7528;&#x6237;&#x53EF;&#x4EE5;&#x4F7F;&#x7528; <code>innodb_data_file_path</code> &#x5BF9;&#x6570;&#x636E;&#x6587;&#x4EF6;&#x7684;&#x5927;&#x5C0F;&#x548C;&#x6570;&#x91CF;&#x8FDB;&#x884C;&#x914D;&#x7F6E;&#x3002;</p>
<p><code>innodb_data_file_path</code> &#x7684;&#x683C;&#x5F0F;&#x5982;&#x4E0B;&#xFF1A;</p>
<p><code>innodb_data_file_path=datafile1[,datafile2]...</code></p>
<p>&#x7528;&#x6237;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;&#x591A;&#x4E2A;&#x6587;&#x4EF6;&#x7EC4;&#x6210;&#x4E00;&#x4E2A;&#x8868;&#x7A7A;&#x95F4;&#xFF0C;&#x540C;&#x65F6;&#x5236;&#x5B9A;&#x6587;&#x4EF6;&#x7684;&#x5C5E;&#x6027;:</p>
<p><code>innodb_data_file_path = /db/ibdata1:1000M;/dr2/db/ibdata2:1000M:autoextend</code></p>
<p>&#x8FD9;&#x91CC;&#x5C06; <code>/db/ibdata1</code> &#x548C; <code>/dr2/db/ibdata2</code> &#x4E24;&#x4E2A;&#x6587;&#x4EF6;&#x7EC4;&#x6210;&#x7CFB;&#x7EDF;&#x8868;&#x7A7A;&#x95F4;&#x3002;&#x5982;&#x679C;&#x8FD9;&#x4E24;&#x4E2A;&#x6587;&#x4EF6;&#x4F4D;&#x4E8E;&#x4E0D;&#x540C;&#x7684;&#x78C1;&#x76D8;&#x4E0A;&#xFF0C;&#x78C1;&#x76D8;&#x7684;&#x8D1F;&#x8F7D;&#x53EF;&#x80FD;&#x88AB;&#x5E73;&#x5747;&#xFF0C;&#x56E0;&#x6B64;&#x53EF;&#x4EE5;&#x63D0;&#x9AD8;&#x6570;&#x636E;&#x5E93;&#x7684;&#x6574;&#x4F53;&#x6027;&#x80FD;&#x3002;&#x4E24;&#x4E2A;&#x6587;&#x4EF6;&#x7684;&#x6587;&#x4EF6;&#x540D;&#x4E4B;&#x540E;&#x90FD;&#x8DDF;&#x4E86;&#x5C5E;&#x6027;&#xFF0C;&#x8868;&#x793A;&#x6587;&#x4EF6; <code>ibdata1</code> &#x7684;&#x5927;&#x5C0F;&#x4E3A;1000MB&#xFF0C;&#x6587;&#x4EF6; <code>ibdata2</code> &#x7684;&#x5927;&#x5C0F;&#x4E3A;1000MB&#xFF0C;&#x800C;&#x4E14;&#x7528;&#x5B8C;&#x7A7A;&#x95F4;&#x4E4B;&#x540E;&#x53EF;&#x4EE5;&#x81EA;&#x52A8;&#x589E;&#x957F;&#x3002;</p>
<p>&#x8BBE;&#x7F6E; <code>innodb_data_file_path</code> &#x53C2;&#x6570;&#x4E4B;&#x540E;&#xFF0C;&#x6240;&#x6709;&#x57FA;&#x4E8E; <code>InnoDB</code> &#x5B58;&#x50A8;&#x5F15;&#x64CE;&#x7684;&#x8868;&#x7684;&#x6570;&#x636E;&#x90FD;&#x4F1A;&#x8BB0;&#x5F55;&#x5230;&#x8BE5;&#x7CFB;&#x7EDF;&#x8868;&#x7A7A;&#x95F4;&#x4E2D;&#xFF0C;&#x5982;&#x679C;&#x8BBE;&#x7F6E;&#x4E86;&#x53C2;&#x6570; <code>innodb_file_per_table</code> &#xFF0C;&#x5219;&#x7528;&#x6237;&#x53EF;&#x4EE5;&#x5C06;&#x6BCF;&#x4E2A;&#x57FA;&#x4E8E; <code>InnoDB</code> &#x5B58;&#x50A8;&#x5F15;&#x64CE;&#x7684;&#x8868;&#x4EA7;&#x751F;&#x4E00;&#x4E2A;&#x72EC;&#x7ACB;&#x7684;&#x7528;&#x6237;&#x7A7A;&#x95F4;&#x3002;</p>
<p>&#x7528;&#x6237;&#x8868;&#x7A7A;&#x95F4;&#x7684;&#x547D;&#x540D;&#x89C4;&#x5219;&#x4E3A;&#xFF1A;&#x8868;&#x540D;.ibd&#x3002;&#x901A;&#x8FC7;&#x8FD9;&#x79CD;&#x65B9;&#x5F0F;&#xFF0C;&#x7528;&#x6237;&#x4E0D;&#x7528;&#x5C06;&#x6240;&#x6709;&#x6570;&#x636E;&#x90FD;&#x5B58;&#x653E;&#x4E8E;&#x9ED8;&#x8BA4;&#x7684;&#x7CFB;&#x7EDF;&#x8868;&#x7A7A;&#x95F4;&#x4E2D;&#xFF0C;&#x4F46;&#x662F;&#x7528;&#x6237;&#x8868;&#x7A7A;&#x95F4;&#x53EA;&#x5B58;&#x50A8;&#x8BE5;&#x8868;&#x7684;&#x6570;&#x636E;&#x3001;&#x7D22;&#x5F15;&#x548C;&#x63D2;&#x5165;&#x7F13;&#x51B2;BITMAP&#x7B49;&#x4FE1;&#x606F;&#xFF0C;&#x5176;&#x4F59;&#x4FE1;&#x606F;&#x8FD8;&#x662F;&#x5B58;&#x653E;&#x5728;&#x9ED8;&#x8BA4;&#x7684;&#x7CFB;&#x7EDF;&#x8868;&#x7A7A;&#x95F4;&#x4E2D;&#x3002;</p>
<p>&#x4E0B;&#x56FE;&#x663E;&#x793A; <code>InnoDB</code> &#x5B58;&#x50A8;&#x5F15;&#x64CE;&#x5BF9;&#x4E8E;&#x6587;&#x4EF6;&#x7684;&#x5B58;&#x50A8;&#x65B9;&#x5F0F;&#xFF0C;&#x5176;&#x4E2D;frm&#x6587;&#x4EF6;&#x662F;&#x8868;&#x7ED3;&#x6784;&#x5B9A;&#x4E49;&#x6587;&#x4EF6;&#xFF0C;&#x8BB0;&#x5F55;&#x6BCF;&#x4E2A;&#x8868;&#x7684;&#x8868;&#x7ED3;&#x6784;&#x5B9A;&#x4E49;&#x3002;</p>
<p><img src="https://gitee.com/songjianzaina/juejin_p5/raw/master/img/0f47244d9afc38f545606ac355cb5f896baf86329df24e50a3a6f331f93c7012" alt="image.png"></p>
<h3 id="&#x91CD;&#x505A;&#x65E5;&#x5FD7;&#x6587;&#x4EF6;&#xFF08;redo-log-file&#xFF09;&#x548C;&#x5F52;&#x6863;&#x6587;&#x4EF6;"><a href="#&#x91CD;&#x505A;&#x65E5;&#x5FD7;&#x6587;&#x4EF6;&#xFF08;redo-log-file&#xFF09;&#x548C;&#x5F52;&#x6863;&#x6587;&#x4EF6;" class="headerlink" title="&#x91CD;&#x505A;&#x65E5;&#x5FD7;&#x6587;&#x4EF6;&#xFF08;redo log file&#xFF09;&#x548C;&#x5F52;&#x6863;&#x6587;&#x4EF6;"></a>&#x91CD;&#x505A;&#x65E5;&#x5FD7;&#x6587;&#x4EF6;&#xFF08;<code>redo log file</code>&#xFF09;&#x548C;&#x5F52;&#x6863;&#x6587;&#x4EF6;</h3><p>&#x9ED8;&#x8BA4;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;&#x5728; <code>InnoDB</code> &#x5B58;&#x50A8;&#x5F15;&#x64CE;&#x7684;&#x6570;&#x636E;&#x76EE;&#x5F55;&#x4E0B;&#x4F1A;&#x6709;&#x4E24;&#x4E2A;&#x540D;&#x4E3A; <code>ib_logfile0</code> &#x548C; <code>ib_logfile1</code> &#x7684;&#x6587;&#x4EF6;&#xFF0C;&#x8FD9;&#x5C31;&#x662F; <code>InnoDB</code> &#x7684;&#x91CD;&#x505A;&#x6587;&#x4EF6;&#xFF08;<code>redo log file</code>&#xFF09;&#xFF0C;&#x5B83;&#x8BB0;&#x5F55;&#x4E86;&#x5BF9;&#x4E8E; <code>InnoDB</code> &#x5B58;&#x50A8;&#x5F15;&#x64CE;&#x7684;&#x4E8B;&#x52A1;&#x65E5;&#x5FD7;&#x3002;</p>
<p>&#x5F53; <code>InnoDB</code> &#x7684;&#x6570;&#x636E;&#x5B58;&#x50A8;&#x6587;&#x4EF6;&#x53D1;&#x751F;&#x9519;&#x8BEF;&#x65F6;&#xFF0C;&#x91CD;&#x505A;&#x65E5;&#x5FD7;&#x6587;&#x4EF6;&#x5C31;&#x80FD;&#x6D3E;&#x4E0A;&#x7528;&#x573A;&#x3002;<code>InnoDB</code> &#x5B58;&#x50A8;&#x5F15;&#x64CE;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#x91CD;&#x505A;&#x65E5;&#x5FD7;&#x6587;&#x4EF6;&#x5C06;&#x6570;&#x636E;&#x6062;&#x590D;&#x4E3A;&#x6B63;&#x786E;&#x72B6;&#x6001;&#xFF0C;&#x4EE5;&#x6B64;&#x6765;&#x4FDD;&#x8BC1;&#x6570;&#x636E;&#x7684;&#x6B63;&#x786E;&#x6027;&#x548C;&#x5B8C;&#x6574;&#x6027;&#x3002;</p>
<p>&#x6BCF;&#x4E2A; <code>InnoDB</code> &#x5B58;&#x50A8;&#x5F15;&#x64CE;&#x81F3;&#x5C11;&#x6709;1&#x4E2A;&#x91CD;&#x505A;&#x65E5;&#x5FD7;&#x6587;&#x4EF6;&#xFF0C;&#x6BCF;&#x4E2A;&#x6587;&#x4EF6;&#x7EC4;&#x4E0B;&#x81F3;&#x5C11;&#x6709;2&#x4E2A;&#x91CD;&#x505A;&#x65E5;&#x5FD7;&#x6587;&#x4EF6;&#xFF0C;&#x52A0;&#x9ED8;&#x8BA4;&#x7684; <code>ib_logfile0</code> &#x548C; <code>ib_logfile1</code>&#x3002;</p>
<p>&#x4E3A;&#x4E86;&#x5F97;&#x5230;&#x66F4;&#x9AD8;&#x7684;&#x53EF;&#x9760;&#x6027;&#xFF0C;&#x7528;&#x6237;&#x53EF;&#x4EE5;&#x8BBE;&#x7F6E;&#x591A;&#x4E2A;&#x955C;&#x50CF;&#x65E5;&#x5FD7;&#x7EC4;&#xFF0C;&#x5C06;&#x4E0D;&#x540C;&#x7684;&#x6587;&#x4EF6;&#x7EC4;&#x653E;&#x5728;&#x4E0D;&#x540C;&#x7684;&#x78C1;&#x76D8;&#x4E0A;&#xFF0C;&#x4EE5;&#x6B64;&#x6765;&#x63D0;&#x9AD8;&#x91CD;&#x505A;&#x65E5;&#x5FD7;&#x7684;&#x9AD8;&#x53EF;&#x7528;&#x6027;&#x3002;</p>
<p>&#x5728;&#x65E5;&#x5FD7;&#x7EC4;&#x4E2D;&#x6BCF;&#x4E2A;&#x91CD;&#x505A;&#x65E5;&#x5FD7;&#x6587;&#x4EF6;&#x7684;&#x5927;&#x5C0F;&#x4E00;&#x81F4;&#xFF0C;&#x5E76;&#x4EE5;&#x3010;&#x5FAA;&#x73AF;&#x5199;&#x5165;&#x3011;&#x7684;&#x65B9;&#x5F0F;&#x8FD0;&#x884C;&#x3002;<code>InnoDB</code> &#x5B58;&#x50A8;&#x5F15;&#x64CE;&#x5148;&#x5199;&#x5165;&#x91CD;&#x505A;&#x65E5;&#x5FD7;&#x6587;&#x4EF6;1&#xFF0C;&#x5F53;&#x6587;&#x4EF6;&#x88AB;&#x5199;&#x6EE1;&#x65F6;&#xFF0C;&#x4F1A;&#x5207;&#x6362;&#x5230;&#x91CD;&#x505A;&#x65E5;&#x5FD7;&#x6587;&#x4EF6;2&#xFF0C;&#x518D;&#x5F53;&#x91CD;&#x505A;&#x65E5;&#x5FD7;&#x6587;&#x4EF6;2&#x4E5F;&#x88AB;&#x5199;&#x6EE1;&#x65F6;&#xFF0C;&#x518D;&#x5207;&#x6362;&#x5230;&#x91CD;&#x505A;&#x65E5;&#x5FD7;1&#x3002;</p>
<p>&#x7528;&#x6237;&#x53EF;&#x4EE5;&#x4F7F;&#x7528; <code>Innodb_log_file_size</code> &#x6765;&#x8BBE;&#x7F6E;&#x91CD;&#x505A;&#x65E5;&#x5FD7;&#x6587;&#x4EF6;&#x7684;&#x5927;&#x5C0F; &#xFF0C;&#x8FD9;&#x5BF9; <code>InnoDB</code> &#x5B58;&#x50A8;&#x5F15;&#x64CE;&#x7684;&#x6027;&#x80FD;&#x6709;&#x7740;&#x975E;&#x5E38;&#x5927;&#x7684;&#x5F71;&#x54CD;&#x3002;</p>
<p>&#x5982;&#x679C;&#x91CD;&#x505A;&#x65E5;&#x5FD7;&#x6587;&#x4EF6;&#x8BBE;&#x7F6E;&#x7684;&#x592A;&#x5927;&#xFF0C;&#x6570;&#x636E;&#x4E22;&#x5931;&#x65F6;&#xFF0C;&#x6062;&#x590D;&#x65F6;&#x53EF;&#x80FD;&#x9700;&#x8981;&#x5F88;&#x957F;&#x7684;&#x65F6;&#x95F4;&#xFF1B;&#x53E6;&#x4E00;&#x4E2A;&#x65B9;&#x9762;&#xFF0C;&#x5982;&#x679C;&#x8BBE;&#x7F6E;&#x7684;&#x592A;&#x5C0F;&#xFF0C;&#x91CD;&#x505A;&#x65E5;&#x5FD7;&#x6587;&#x4EF6;&#x592A;&#x5C0F;&#x4F1A;&#x5BFC;&#x81F4;&#x4F9D;&#x636E; <code>checkpoint</code> &#x7684;&#x68C0;&#x67E5;&#x9700;&#x8981;&#x9891;&#x7E41;&#x5237;&#x65B0;&#x810F;&#x9875;&#x5230;&#x78C1;&#x76D8;&#x4E2D;&#xFF0C;&#x5BFC;&#x81F4;&#x6027;&#x80FD;&#x7684;&#x6296;&#x52A8;&#x3002;</p>
<h3 id="&#x91CD;&#x505A;&#x65E5;&#x5FD7;&#x7684;&#x843D;&#x76D8;&#x673A;&#x5236;"><a href="#&#x91CD;&#x505A;&#x65E5;&#x5FD7;&#x7684;&#x843D;&#x76D8;&#x673A;&#x5236;" class="headerlink" title="&#x91CD;&#x505A;&#x65E5;&#x5FD7;&#x7684;&#x843D;&#x76D8;&#x673A;&#x5236;"></a>&#x91CD;&#x505A;&#x65E5;&#x5FD7;&#x7684;&#x843D;&#x76D8;&#x673A;&#x5236;</h3><p><code>InnoDB</code> &#x5BF9;&#x4E8E;&#x6570;&#x636E;&#x6587;&#x4EF6;&#x548C;&#x65E5;&#x5FD7;&#x6587;&#x4EF6;&#x7684;&#x5237;&#x76D8;&#x9075;&#x5B88;<code>WAL&#xFF08;write ahead redo log&#xFF09;</code>&#x548C; <code>Force-log-at-commit</code> &#x4E24;&#x79CD;&#x89C4;&#x5219;&#xFF0C;&#x4E8C;&#x8005;&#x4FDD;&#x8BC1;&#x4E86;&#x4E8B;&#x52A1;&#x7684;&#x6301;&#x4E45;&#x6027;&#x3002;<strong>WAL</strong> &#x8981;&#x6C42;&#x6570;&#x636E;&#x7684;&#x53D8;&#x66F4;&#x5199;&#x5165;&#x5230;&#x78C1;&#x76D8;&#x524D;&#xFF0C;&#x9996;&#x5148;&#x5FC5;&#x987B;&#x5C06;&#x5185;&#x5B58;&#x4E2D;&#x7684;&#x65E5;&#x5FD7;&#x5199;&#x5165;&#x5230;&#x78C1;&#x76D8;&#xFF1B;<code>Force-log-at-commit</code> &#x8981;&#x6C42;&#x5F53;&#x4E00;&#x4E2A;&#x4E8B;&#x52A1;&#x63D0;&#x4EA4;&#x65F6;&#xFF0C;&#x6240;&#x6709;&#x4EA7;&#x751F;&#x7684;&#x65E5;&#x5FD7;&#x90FD;&#x5FC5;&#x987B;&#x5237;&#x65B0;&#x5230;&#x78C1;&#x76D8;&#x4E0A;&#xFF0C;&#x5982;&#x679C;&#x65E5;&#x5FD7;&#x5237;&#x65B0;&#x6210;&#x529F;&#x540E;&#xFF0C;&#x7F13;&#x51B2;&#x6C60;&#x4E2D;&#x7684;&#x6570;&#x636E;&#x5237;&#x65B0;&#x5230;&#x78C1;&#x76D8;&#x524D;&#x6570;&#x636E;&#x5E93;&#x53D1;&#x751F;&#x4E86;&#x5B95;&#x673A;&#xFF0C;&#x90A3;&#x4E48;&#x91CD;&#x542F;&#x65F6;&#xFF0C;&#x6570;&#x636E;&#x5E93;&#x53EF;&#x4EE5;&#x4ECE;&#x65E5;&#x5FD7;&#x4E2D;&#x6062;&#x590D;&#x6570;&#x636E;&#x3002;</p>
<p><img src="https://gitee.com/songjianzaina/juejin_p5/raw/master/img/835913a42ea4312cb2da6f44fc9e0592b396c661cd7e60b23489c7e977646a5a" alt="image.png"></p>
<p>&#x5982;&#x4E0A;&#x56FE;&#x6240;&#x793A;&#xFF0C;<code>InnoDB</code> &#x5728;&#x7F13;&#x51B2;&#x6C60;&#x4E2D;&#x53D8;&#x66F4;&#x6570;&#x636E;&#x65F6;&#xFF0C;&#x4F1A;&#x9996;&#x5148;&#x5C06;&#x76F8;&#x5173;&#x53D8;&#x66F4;&#x5199;&#x5165;&#x91CD;&#x505A;&#x65E5;&#x5FD7;&#x7F13;&#x51B2;&#x4E2D;&#xFF0C;&#x7136;&#x540E;&#x518D;&#x6309;&#x65F6;&#xFF08;&#x6BD4;&#x5982;&#x6BCF;&#x79D2;&#x5237;&#x65B0;&#x673A;&#x5236;&#xFF09;&#x6216;&#x8005;&#x5F53;&#x4E8B;&#x52A1;&#x63D0;&#x4EA4;&#x65F6;&#x5199;&#x5165;&#x78C1;&#x76D8;&#xFF0C;&#x8FD9;&#x7B26;&#x5408; <code>Force-log-at-commit</code> &#x539F;&#x5219;&#xFF1B;&#x5F53;&#x91CD;&#x505A;&#x65E5;&#x5FD7;&#x5199;&#x5165;&#x78C1;&#x76D8;&#x540E;&#xFF0C;&#x7F13;&#x51B2;&#x6C60;&#x4E2D;&#x7684;&#x53D8;&#x66F4;&#x6570;&#x636E;&#x624D;&#x4F1A;&#x4F9D;&#x636E; <code>checkpoint</code> &#x673A;&#x5236;&#x5199;&#x5165;&#x5230;&#x78C1;&#x76D8;&#x4E2D;&#xFF0C;&#x8FD9;&#x7B26;&#x5408; <strong>WAL</strong> &#x539F;&#x5219;&#x3002;</p>
<p>&#x5728; <code>checkpoint</code> &#x62E9;&#x65F6;&#x673A;&#x5236;&#x4E2D;&#xFF0C;&#x5C31;&#x6709;&#x91CD;&#x505A;&#x65E5;&#x5FD7;&#x6587;&#x4EF6;&#x5199;&#x6EE1;&#x7684;&#x5224;&#x65AD;&#xFF0C;&#x6240;&#x4EE5;&#xFF0C;&#x5982;&#x524D;&#x6587;&#x6240;&#x8FF0;&#xFF0C;&#x5982;&#x679C;&#x91CD;&#x505A;&#x65E5;&#x5FD7;&#x6587;&#x4EF6;&#x592A;&#x5C0F;&#xFF0C;&#x7ECF;&#x5E38;&#x88AB;&#x5199;&#x6EE1;&#xFF0C;&#x5C31;&#x4F1A;&#x9891;&#x7E41;&#x5BFC;&#x81F4; <code>checkpoint</code> &#x5C06;&#x66F4;&#x6539;&#x7684;&#x6570;&#x636E;&#x5199;&#x5165;&#x78C1;&#x76D8;&#xFF0C;&#x5BFC;&#x81F4;&#x6027;&#x80FD;&#x6296;&#x52A8;&#x3002;</p>
<p>&#x64CD;&#x4F5C;&#x7CFB;&#x7EDF;&#x7684;&#x6587;&#x4EF6;&#x7CFB;&#x7EDF;&#x662F;&#x5E26;&#x6709;&#x7F13;&#x5B58;&#x7684;&#xFF0C;&#x5F53; <code>InnoDB</code> &#x5411;&#x78C1;&#x76D8;&#x5199;&#x5165;&#x6570;&#x636E;&#x65F6;&#xFF0C;&#x6709;&#x53EF;&#x80FD;&#x53EA;&#x662F;&#x5199;&#x5165;&#x5230;&#x4E86;&#x6587;&#x4EF6;&#x7CFB;&#x7EDF;&#x7684;&#x7F13;&#x5B58;&#x4E2D;&#xFF0C;&#x6CA1;&#x6709;&#x771F;&#x6B63;&#x7684;&#x201C;&#x843D;&#x888B;&#x4E3A;&#x5B89;&#x201D;&#x3002;</p>
<p><code>InnoDB</code> &#x7684; <code>innodb_flush_log_at_trx_commit</code> &#x5C5E;&#x6027;&#x53EF;&#x4EE5;&#x63A7;&#x5236;&#x6BCF;&#x6B21;&#x4E8B;&#x52A1;&#x63D0;&#x4EA4;&#x65F6; <code>InnoDB</code> &#x7684;&#x884C;&#x4E3A;&#x3002;&#x5F53;&#x5C5E;&#x6027;&#x503C;&#x4E3A;0&#x65F6;&#xFF0C;&#x4E8B;&#x52A1;&#x63D0;&#x4EA4;&#x65F6;&#xFF0C;&#x4E0D;&#x4F1A;&#x5BF9;&#x91CD;&#x505A;&#x65E5;&#x5FD7;&#x8FDB;&#x884C;&#x5199;&#x5165;&#x64CD;&#x4F5C;&#xFF0C;&#x800C;&#x662F;&#x7B49;&#x5F85;&#x4E3B;&#x7EBF;&#x7A0B;&#x6309;&#x65F6;&#x5199;&#x5165;&#xFF1B;&#x5F53;&#x5C5E;&#x6027;&#x503C;&#x4E3A;1&#x65F6;&#xFF0C;&#x4E8B;&#x52A1;&#x63D0;&#x4EA4;&#x65F6;&#xFF0C;&#x4F1A;&#x5C06;&#x91CD;&#x505A;&#x65E5;&#x5FD7;&#x5199;&#x5165;&#x6587;&#x4EF6;&#x7CFB;&#x7EDF;&#x7F13;&#x5B58;&#xFF0C;&#x5E76;&#x4E14;&#x8C03;&#x7528;&#x6587;&#x4EF6;&#x7CFB;&#x7EDF;&#x7684; <code>fsync</code> &#xFF0C;&#x5C06;&#x6587;&#x4EF6;&#x7CFB;&#x7EDF;&#x7F13;&#x51B2;&#x4E2D;&#x7684;&#x6570;&#x636E;&#x771F;&#x6B63;&#x5199;&#x5165;&#x78C1;&#x76D8;&#x5B58;&#x50A8;&#xFF0C;&#x786E;&#x4FDD;&#x4E0D;&#x4F1A;&#x51FA;&#x73B0;&#x6570;&#x636E;&#x4E22;&#x5931;&#xFF1B;&#x5F53;&#x5C5E;&#x6027;&#x503C;&#x4E3A;2&#x65F6;&#xFF0C;&#x4E8B;&#x52A1;&#x63D0;&#x4EA4;&#x65F6;&#xFF0C;&#x4E5F;&#x4F1A;&#x5C06;&#x65E5;&#x5FD7;&#x6587;&#x4EF6;&#x5199;&#x5165;&#x6587;&#x4EF6;&#x7CFB;&#x7EDF;&#x7F13;&#x5B58;&#xFF0C;&#x4F46;&#x662F;&#x4E0D;&#x4F1A;&#x8C03;&#x7528;fsync&#xFF0C;&#x800C;&#x662F;&#x8BA9;&#x6587;&#x4EF6;&#x7CFB;&#x7EDF;&#x81EA;&#x5DF1;&#x53BB;&#x5224;&#x65AD;&#x4F55;&#x65F6;&#x5C06;&#x7F13;&#x5B58;&#x5199;&#x5165;&#x78C1;&#x76D8;&#x3002;</p>
<p>&#x65E5;&#x5FD7;&#x7684;&#x5237;&#x76D8;&#x673A;&#x5236;&#x5982;&#x4E0B;&#x56FE;&#x6240;&#x793A;&#xFF1A;</p>
<p><img src="https://gitee.com/songjianzaina/juejin_p5/raw/master/img/0c9f1f596469b60cfaef1910424efd22623fe4e896ce77d17c5cdfc79108a675" alt="image.png"></p>
<p><code>Innodb_flush_log_at_commit</code> &#x662F; <code>InnoDB</code> &#x6027;&#x80FD;&#x8C03;&#x4F18;&#x7684;&#x4E00;&#x4E2A;&#x57FA;&#x7840;&#x53C2;&#x6570;&#xFF0C;&#x6D89;&#x53CA; <code>InnoDB</code> &#x7684;&#x5199;&#x5165;&#x6548;&#x7387;&#x548C;&#x6570;&#x636E;&#x5B89;&#x5168;&#x3002;&#x5F53;&#x53C2;&#x6570;&#x6570;&#x503C;&#x4E3A;0&#x65F6;&#xFF0C;&#x5199;&#x5165;&#x6548;&#x7387;&#x6700;&#x9AD8;&#xFF0C;&#x4F46;&#x662F;&#x6570;&#x636E;&#x5B89;&#x5168;&#x6700;&#x4F4E;&#xFF1B;&#x53C2;&#x6570;&#x503C;&#x4E3A;1&#x65F6;&#xFF0C;&#x5199;&#x5165;&#x6548;&#x7387;&#x6700;&#x4F4E;&#xFF0C;&#x4F46;&#x662F;&#x6570;&#x636E;&#x5B89;&#x5168;&#x6700;&#x9AD8;&#xFF1B;&#x53C2;&#x6570;&#x503C;&#x4E3A;2&#x65F6;&#xFF0C;&#x4E8C;&#x8005;&#x90FD;&#x662F;&#x4E2D;&#x7B49;&#x6C34;&#x5E73;&#xFF0C;&#x4E00;&#x822C;&#x5EFA;&#x8BAE;&#x5C06;&#x5C5E;&#x6027;&#x503C;&#x8BBE;&#x7F6E;&#x4E3A;1&#xFF0C;&#x4EE5;&#x83B7;&#x5F97;&#x8F83;&#x9AD8;&#x7684;&#x5B89;&#x5168;&#x6027;&#xFF0C;&#x800C;&#x4E14;&#x4E5F;&#x53EA;&#x6709;&#x8BBE;&#x7F6E;&#x4E3A;1&#xFF0C;&#x624D;&#x80FD;&#x4FDD;&#x8BC1;&#x4E8B;&#x52A1;&#x7684;&#x6301;&#x4E45;&#x6027;&#x3002;</p>
<h2 id="&#x7528;&#x4E00;&#x6761;-UPDATE-&#x8BED;&#x53E5;&#x518D;&#x6765;&#x4E86;&#x89E3;-InnoDB-&#x5B58;&#x50A8;&#x5F15;&#x64CE;"><a href="#&#x7528;&#x4E00;&#x6761;-UPDATE-&#x8BED;&#x53E5;&#x518D;&#x6765;&#x4E86;&#x89E3;-InnoDB-&#x5B58;&#x50A8;&#x5F15;&#x64CE;" class="headerlink" title="&#x7528;&#x4E00;&#x6761; UPDATE &#x8BED;&#x53E5;&#x518D;&#x6765;&#x4E86;&#x89E3; InnoDB &#x5B58;&#x50A8;&#x5F15;&#x64CE;"></a>&#x7528;&#x4E00;&#x6761; <code>UPDATE</code> &#x8BED;&#x53E5;&#x518D;&#x6765;&#x4E86;&#x89E3; <code>InnoDB</code> &#x5B58;&#x50A8;&#x5F15;&#x64CE;</h2><p>&#x6709;&#x4E86;&#x4E0A;&#x9762; <code>InnoDB</code> &#x5B58;&#x50A8;&#x5F15;&#x64CE;&#x7684;&#x67B6;&#x6784;&#x57FA;&#x7840;&#x4ECB;&#x7ECD;&#xFF0C;&#x6211;&#x4EEC;&#x518D;&#x6765;&#x5206;&#x6790;&#x4E00;&#x4E0B;&#x4E00;&#x6B21; <code>UPDATE</code> &#x6570;&#x636E;&#x66F4;&#x65B0;&#x5177;&#x4F53;&#x6D41;&#x7A0B;&#x3002;</p>
<p><img src="https://gitee.com/songjianzaina/juejin_p5/raw/master/img/53d9f604cc2875bb9a45bd974487ea364fba810ab8e704ecb4de86cb83ee1855" alt="image.png"></p>
<p>&#x6211;&#x4EEC;&#x628A;&#x8FD9;&#x5F20;&#x56FE;&#x5206;&#x4E3A;&#x4E0A;&#x4E0B;&#x4E24;&#x90E8;&#x5206;&#x6765;&#x770B;&#xFF0C;&#x4E0A;&#x9762;&#x90A3;&#x90E8;&#x5206;&#x662F; <code>MySQL Server</code> &#x5C42;&#x5904;&#x7406;&#x6D41;&#x7A0B;&#xFF0C;&#x4E0B;&#x9762;&#x90A3;&#x90E8;&#x5206;&#x662F; <code>MySQL InnoDB</code>&#x5B58;&#x50A8;&#x5F15;&#x64CE;&#x5904;&#x7406;&#x6D41;&#x7A0B;&#x3002;</p>
<h3 id="MySQL-Server-&#x5C42;&#x5904;&#x7406;&#x6D41;&#x7A0B;"><a href="#MySQL-Server-&#x5C42;&#x5904;&#x7406;&#x6D41;&#x7A0B;" class="headerlink" title="MySQL Server &#x5C42;&#x5904;&#x7406;&#x6D41;&#x7A0B;"></a><code>MySQL Server</code> &#x5C42;&#x5904;&#x7406;&#x6D41;&#x7A0B;</h3><p><img src="https://gitee.com/songjianzaina/juejin_p5/raw/master/img/c29e90f2c03b732b5b72c6ac650cf86ab0777c9d1f539207b571a640165067f3" alt="image.png"><br>&#x8FD9;&#x90E8;&#x5206;&#x5904;&#x7406;&#x6D41;&#x7A0B;&#x65E0;&#x5173;&#x4E8E;&#x54EA;&#x4E2A;&#x5B58;&#x50A8;&#x5F15;&#x64CE;&#xFF0C;&#x5B83;&#x662F; <code>Server</code> &#x5C42;&#x5904;&#x7406;&#x7684;&#xFF0C;&#x5177;&#x4F53;&#x6B65;&#x9AA4;&#x5982;&#x4E0B;&#xFF1A;</p>
<ol>
<li>&#x7528;&#x6237;&#x5404;&#x79CD;&#x64CD;&#x4F5C;&#x89E6;&#x53D1;&#x540E;&#x53F0;sql&#x6267;&#x884C;&#xFF0C;&#x901A;&#x8FC7;web&#x9879;&#x76EE;&#x4E2D;&#x81EA;&#x5E26;&#x7684;&#x6570;&#x636E;&#x5E93;&#x8FDE;&#x63A5;&#x6C60;&#xFF1A;&#x5982; <code>dbcp&#x3001;c3p0&#x3001;druid</code> &#x7B49;&#xFF0C;&#x4E0E;&#x6570;&#x636E;&#x5E93;&#x670D;&#x52A1;&#x5668;&#x7684;&#x6570;&#x636E;&#x5E93;&#x8FDE;&#x63A5;&#x6C60;&#x5EFA;&#x7ACB;&#x7F51;&#x7EDC;&#x8FDE;&#x63A5;&#xFF1B;</li>
<li>&#x6570;&#x636E;&#x5E93;&#x8FDE;&#x63A5;&#x6C60;&#x4E2D;&#x7684;&#x7EBF;&#x7A0B;&#x76D1;&#x542C;&#x5230;&#x8BF7;&#x6C42;&#x540E;&#xFF0C;&#x5C06;&#x63A5;&#x6536;&#x5230;&#x7684;sql&#x8BED;&#x53E5;&#x901A;&#x8FC7;SQL&#x63A5;&#x53E3;&#x54CD;&#x5E94;&#x7ED9;&#x67E5;&#x8BE2;&#x89E3;&#x6790;&#x5668;&#xFF0C;&#x67E5;&#x8BE2;&#x89E3;&#x6790;&#x5668;&#x5C06;sql&#x6309;&#x7167;sql&#x7684;&#x8BED;&#x6CD5;&#x89E3;&#x6790;&#x51FA;&#x67E5;&#x8BE2;&#x54EA;&#x4E2A;&#x8868;&#x7684;&#x54EA;&#x4E9B;&#x5B57;&#x6BB5;&#xFF0C;&#x67E5;&#x8BE2;&#x6761;&#x4EF6;&#x662F;&#x5565;&#xFF1B;</li>
<li>&#x518D;&#x901A;&#x8FC7;&#x67E5;&#x8BE2;&#x4F18;&#x5316;&#x5668;&#x5904;&#x7406;&#xFF0C;&#x9009;&#x62E9;&#x8BE5;sq&#x6700;&#x4F18;&#x7684;&#x4E00;&#x5957;&#x6267;&#x884C;&#x8BA1;&#x5212;&#xFF1B;</li>
<li>&#x7136;&#x540E;&#x6267;&#x884C;&#x5668;&#x8D1F;&#x8D23;&#x8C03;&#x7528;&#x5B58;&#x50A8;&#x5F15;&#x64CE;&#x7684;&#x4E00;&#x7CFB;&#x5217;&#x63A5;&#x53E3;&#xFF0C;&#x6267;&#x884C;&#x8BE5;&#x8BA1;&#x5212;&#x800C;&#x5B8C;&#x6210;&#x6574;&#x4E2A;sql&#x8BED;&#x53E5;&#x7684;&#x6267;&#x884C;</li>
</ol>
<p>&#x8FD9;&#x90E8;&#x5206;&#x6D41;&#x7A0B;&#x548C;&#x4E0A;&#x9762;&#x5206;&#x6790;&#x7684; &#x4E00;&#x6B21; <code>Select</code> &#x8BF7;&#x6C42;&#x5904;&#x7406;&#x6D41;&#x7A0B;&#x5206;&#x6790;&#x7684;&#x57FA;&#x672C;&#x4E00;&#x81F4;&#x3002;</p>
<h3 id="InnoDB-&#x5B58;&#x50A8;&#x5F15;&#x64CE;&#x5904;&#x7406;&#x6D41;&#x7A0B;"><a href="#InnoDB-&#x5B58;&#x50A8;&#x5F15;&#x64CE;&#x5904;&#x7406;&#x6D41;&#x7A0B;" class="headerlink" title="InnoDB &#x5B58;&#x50A8;&#x5F15;&#x64CE;&#x5904;&#x7406;&#x6D41;&#x7A0B;"></a><code>InnoDB</code> &#x5B58;&#x50A8;&#x5F15;&#x64CE;&#x5904;&#x7406;&#x6D41;&#x7A0B;</h3><p><img src="https://gitee.com/songjianzaina/juejin_p5/raw/master/img/4d1edd8bc0b1c5d2d30d990ad11c1b07678cde67394f8cf7207d9d14ab1b0764" alt="image.png"><br>&#x5177;&#x4F53;&#x6267;&#x2F8F;&#x8BED;&#x53E5;&#x5F97;&#x8981;&#x5B58;&#x50A8;&#x5F15;&#x64CE;&#x6765;&#x5B8C;&#x6210;&#xFF0C;&#x5982;&#x4E0A;&#x56FE;&#x6240;&#x793A;&#xFF1A;</p>
<ol>
<li>&#x66F4;&#x65B0;users&#x8868;&#x4E2D;id=10&#x7684;&#x8FD9;&#x6761;&#x6570;&#x636E;&#xFF0C;&#x5982;&#x679C;&#x7F13;&#x51B2;&#x6C60;&#x4E2D;&#x6CA1;&#x6709;&#x8BE5;&#x6761;&#x6570;&#x636E;&#x7684;&#xFF0C;&#x5F97;&#x8981;&#x5148;&#x4ECE;&#x78C1;&#x76D8;&#x4E2D;&#x5C06;&#x88AB;&#x66F4;&#x65B0;&#x6570;&#x636E;&#x7684;&#x539F;&#x59CB;&#x6570;&#x636E;&#x52A0;&#x8F7D;&#x5230;&#x7F13;&#x51B2;&#x6C60;&#x4E2D;&#x3002;</li>
<li>&#x540C;&#x65F6;&#x4E3A;&#x4E86;&#x4FDD;&#x8BC1;&#x5E76;&#x53D1;&#x66F4;&#x65B0;&#x6570;&#x636E;&#x5B89;&#x5168;&#x95EE;&#x9898;&#xFF0C;&#x4F1A;&#x5BF9;&#x8FD9;&#x6761;&#x6570;&#x636E;&#x5148;&#x52A0;&#x9501;&#xFF0C;&#x9632;&#x2F4C;&#x5176;&#x4ED6;&#x4E8B;&#x52A1;&#x8FDB;&#x2F8F;&#x66F4;&#x65B0;&#x3002;</li>
<li>&#x63A5;&#x7740;&#x5C06;&#x66F4;&#x65B0;&#x524D;&#x7684;&#x503C;&#x5148;&#x5907;&#x4EFD;&#x5199;&#x2F0A;&#x5230;<code>undo log</code>&#x4E2D;&#xFF08;&#x4FBF;&#x4E8E;&#x4E8B;&#x52A1;&#x56DE;&#x6EDA;&#x65F6;&#x53D6;&#x65E7;&#x6570;&#x636E;&#xFF09;&#xFF0C;&#x2F50;&#x5982; <code>update</code> &#x8BED;&#x53E5;&#x5373;&#x5B58;&#x50A8;&#x88AB;&#x66F4;&#x65B0;&#x5B57;&#x6BB5;&#x4E4B;&#x524D;&#x7684;&#x503C;&#x3002;</li>
<li>&#x66F4;&#x65B0; <code>buffer pool</code> &#x4E2D;&#x7684;&#x7F13;&#x5B58;&#x6570;&#x636E;&#x4E3A;&#x6700;&#x65B0;&#x7684;&#x6570;&#x636E;&#xFF0C;&#x90A3;&#x4E48;&#x6B64;&#x65F6;&#x5185;&#x5B58;&#x4E2D;&#x7684;&#x6570;&#x636E;&#x4E3A;&#x810F;&#x6570;&#x636E;&#xFF08;&#x5185;&#x5B58;&#x4E2D;&#x6570;&#x636E;&#x548C;&#x78C1;&#x76D8;&#x4E2D;&#x6570;&#x636E;&#x4E0D;&#x4E00;&#x81F4;&#xFF09;<br><img src="https://gitee.com/songjianzaina/juejin_p5/raw/master/img/a5d4f94fdef69e8b4a6e7e74dfff74ac95e024e9d806b4e480ef1fdb65941ed6" alt="image.png"><br>&#x2F84;&#x6B64;&#x5C31;&#x5B8C;&#x6210;&#x4E86;&#x5728;&#x7F13;&#x51B2;&#x6C60;&#x4E2D;&#x7684;&#x6267;&#x2F8F;&#x6D41;&#x7A0B;&#xFF08;&#x5982;&#x4E0A;&#x56FE;&#xFF09;&#x3002;</li>
<li>&#x7F13;&#x51B2;&#x6C60;&#x4E2D;&#x66F4;&#x65B0;&#x5B8C;&#x6570;&#x636E;&#x540E;&#xFF0C;&#x9700;&#x8981;&#x5C06;&#x672C;&#x6B21;&#x7684;&#x66F4;&#x65B0;&#x4FE1;&#x606F;&#x987A;&#x5E8F;&#x5199;&#x5230; <code>Redo Log</code> &#x2F47;&#x5FD7;&#xFF0C;&#x56E0;&#x4E3A;&#x73B0;&#x5728;&#x5DF2;&#x7ECF;&#x628A;&#x5185;&#x5B58;&#x91CC;&#x7684;&#x6570;&#x636E;&#x8FDB;&#x884C;&#x4E86;&#x4FEE;&#x6539;&#xFF0C;&#x4F46;&#x662F;&#x78C1;&#x76D8;&#x4E0A;&#x7684;&#x6570;&#x636E;&#x8FD8;&#x6CA1;&#x4FEE;&#x6539;&#xFF0C;&#x6B64;&#x65F6;&#x4E07;&#x4E00; MySQL&#x6240;&#x5728;&#x7684;&#x673A;&#x5668;&#x5B95;&#x673A;&#x4E86;&#xFF0C;&#x5FC5;&#x7136;&#x4F1A;&#x5BFC;&#x81F4;&#x5185;&#x5B58;&#x91CC;&#x4FEE;&#x6539;&#x8FC7;&#x7684;&#x6570;&#x636E;&#x4E22;&#x5931;&#xFF0C;<code>redo</code> &#x65E5;&#x5FD7;&#x5C31;&#x662F;&#x8BB0;&#x5F55;&#x4E0B;&#x6765;&#x4F60;&#x5BF9;&#x6570;&#x636E;&#x505A;&#x4E86;&#x4EC0;&#x4E48;&#x4FEE;&#x6539;&#xFF0C;&#x6BD4;&#x5982;&#x5BF9;&#x201C;id=10&#x8FD9;&#x884C;&#x8BB0;&#x5F55;&#x4FEE;&#x6539;&#x4E86;name&#x5B57;&#x6BB5;&#x7684;&#x503C;&#x4E3A;xxx&#x201D;&#xFF0C;&#x8FD9;&#x5C31;&#x662F;&#x4E00;&#x4E2A;&#x65E5;&#x5FD7;&#xFF0C;&#x7528;&#x6765;&#x5728;MySQL&#x7A81;&#x7136;&#x5B95;&#x673A;&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x7528;&#x6765;&#x6062;&#x590D;&#x4F60;&#x66F4;&#x65B0;&#x8FC7;&#x7684;&#x6570;&#x636E;&#x7684;&#x3002;&#x4E0D;&#x8FC7;&#x6CE8;&#x610F;&#x7684;&#x662F;&#x6B64;&#x65F6; <code>Redo Log</code> &#x8FD8;&#x6CA1;&#x6709;&#x843D;&#x76D8;&#x5230;&#x65E5;&#x5FD7;&#x6587;&#x4EF6;&#x3002;</li>
</ol>
<blockquote>
<p>&#x8FD9;&#x4E2A;&#x65F6;&#x5019;&#x601D;&#x8003;&#x4E00;&#x4E2A;&#x95EE;&#x9898;&#xFF1A;&#x5982;&#x679C;&#x8FD8;&#x6CA1;&#x63D0;&#x4EA4;&#x4E8B;&#x52A1;&#xFF0C;MySQL&#x5B95;&#x673A;&#x4E86;&#x600E;&#x4E48;&#x529E;&#xFF1F;  </p>
<p>&#x4E0A;&#x9762;&#x6211;&#x4EEC;&#x77E5;&#x9053;&#x5230;&#x76EE;&#x524D;&#x6211;&#x4EEC;&#x4FEE;&#x6539;&#x4E86;&#x5185;&#x5B58;&#x6570;&#x636E;&#xFF0C;&#x7136;&#x540E;&#x8BB0;&#x5F55;&#x4E86; <code>Redo Log Buffer</code> &#x65E5;&#x5FD7;&#x7F13;&#x51B2;&#xFF0C;&#x5982;&#x679C;&#x8FD9;&#x4E2A;&#x65F6;&#x5019; MySQL &#x5954;&#x6E83;&#xFF0C;&#x5185;&#x5B58;&#x6570;&#x636E;&#x548C; <code>Redo Log Buffer</code> &#x6570;&#x636E;&#x90FD;&#x4F1A;&#x4E22;&#x5931;&#xFF0C;&#x4F46;&#x662F;&#x6B64;&#x65F6;&#x6570;&#x636E;&#x4E22;&#x5931;&#x5E76;&#x4E0D;&#x8981;&#x7D27;&#xFF0C;&#x56E0;&#x4E3A;&#x4E00;&#x6761;&#x66F4;&#x65B0;&#x8BED;&#x53E5;&#xFF0C;&#x6CA1;&#x63D0;&#x4EA4;&#x4E8B;&#x52A1;&#xFF0C;&#x5C31;&#x4EE3;&#x8868;&#x4ED6;&#x6CA1;&#x6267;&#x884C;&#x6210;&#x529F;&#xFF0C;&#x6B64;&#x65F6;MySQL&#x5B95;&#x673A;&#x867D;&#x7136;&#x5BFC;&#x81F4;&#x5185;&#x5B58;&#x91CC;&#x7684;&#x6570;&#x636E;&#x90FD;&#x4E22;&#x5931;&#x4E86;&#xFF0C;&#x4F46;&#x662F;&#x4F60;&#x4F1A;&#x53D1;&#x73B0;&#xFF0C;&#x78C1;&#x76D8;&#x4E0A;&#x7684;&#x6570;&#x636E;&#x4F9D;&#x7136;&#x8FD8;&#x505C;&#x7559;&#x5728;&#x539F;&#x6837;&#x5B50;&#x3002;</p>
</blockquote>
<p>&#x63A5;&#x4E0B;&#x6765;&#x8981;&#x63D0;&#x4EA4;&#x4E8B;&#x7269;&#x4E86;&#xFF0C;&#x6B64;&#x65F6;&#x5C31;&#x4F1A;&#x6839;&#x636E;&#x4E00;&#x5B9A;&#x7684;&#x7B56;&#x7565;&#x628A;<code>redo</code>&#x65E5;&#x5FD7;&#x4ECE;<code>redo log buffer</code>&#x91CC;&#x5237;&#x5165;&#x5230;&#x78C1;&#x76D8;&#x6587;&#x4EF6;&#x91CC;&#x53BB;&#xFF0C;&#x6B64;&#x65F6;&#x8FD9;&#x4E2A;&#x7B56;&#x7565;&#x662F;&#x901A;&#x8FC7; <code>innodb_flush_log_at_trx_commit</code> &#x6765;&#x914D;&#x7F6E;&#x7684;&#x3002;</p>
<pre><code>* `innodb_flush_log_at_trx_commit=0`&#xFF0C;&#x8868;&#x793A;&#x63D0;&#x4EA4;&#x4E8B;&#x7269;&#x4E0D;&#x4F1A;&#x628A;`redo log buffer`&#x91CC;&#x7684;&#x6570;&#x636E;&#x5237;&#x5165;&#x78C1;&#x76D8;&#x6587;&#x4EF6;&#x7684;&#xFF0C;&#x6B64;&#x65F6;&#x53EF;&#x80FD;&#x4F60;&#x90FD;&#x63D0;&#x4EA4;&#x4E8B;&#x52A1;&#x4E86;&#xFF0C;&#x7ED3;&#x679C;mysql&#x5B95;&#x673A;&#x4E86;&#xFF0C;&#x7136;&#x540E;&#x6B64;&#x65F6;&#x5185;&#x5B58;&#x91CC;&#x7684;&#x6570;&#x636E;&#x5168;&#x90E8;&#x4E22;&#x5931;&#xFF0C;&#x6240;&#x4EE5;&#x8FD9;&#x79CD;&#x65B9;&#x5F0F;&#x4E0D;&#x53EF;&#x53D6;&#x3002;
* `innodb_flush_log_at_trx_commit=1`&#xFF0C;`redo log`&#x4ECE;&#x5185;&#x5B58;&#x5237;&#x5165;&#x5230;&#x78C1;&#x76D8;&#x6587;&#x4EF6;&#x91CC;&#x53BB;&#xFF0C;&#x53EA;&#x8981;&#x4E8B;&#x52A1;&#x63D0;&#x4EA4;&#x6210;&#x529F;&#xFF0C;&#x90A3;&#x4E48;`redo log`&#x5C31;&#x5FC5;&#x7136;&#x5728;&#x78C1;&#x76D8;&#x91CC;&#x4E86;&#xFF0C;&#x6240;&#x4EE5;&#x5982;&#x679C;&#x8FD9;&#x4E2A;&#x65F6;&#x5019;MySQL&#x5954;&#x6E83;&#xFF0C;&#x53EF;&#x4EE5;&#x6839;&#x636E;`Redo Log`&#x65E5;&#x5FD7;&#x6062;&#x590D;&#x6570;&#x636E;&#x3002;
* `innodb_flush_log_at_trx_commit=2`&#xFF0C;&#x63D0;&#x4EA4;&#x4E8B;&#x52A1;&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x628A;redo&#x65E5;&#x5FD7;&#x5199;&#x5165;&#x78C1;&#x76D8;&#x6587;&#x4EF6;&#x5BF9;&#x5E94;&#x7684;`os cache`&#x7F13;&#x5B58;&#x91CC;&#x53BB;&#xFF0C;&#x800C;&#x4E0D;&#x662F;&#x76F4;&#x63A5;&#x8FDB;&#x5165;&#x78C1;&#x76D8;&#x6587;&#x4EF6;&#xFF0C;&#x53EF;&#x80FD;1&#x79D2;&#x540E;&#x624D;&#x4F1A;&#x628A;`os cache`&#x91CC;&#x7684;&#x6570;&#x636E;&#x5199;&#x5165;&#x5230;&#x78C1;&#x76D8;&#x6587;&#x4EF6;&#x91CC;&#x53BB;&#x3002;</code></pre><ol start="6">
<li>&#x63D0;&#x4EA4;&#x4E8B;&#x52A1;&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x540C;&#x65F6;&#x4F1A;&#x5199;&#x5165;<code>binlog</code>&#xFF0C;<code>binlog</code>&#x4E5F;&#x6709;&#x4E0D;&#x540C;&#x7684;&#x5237;&#x76D8;&#x7B56;&#x7565;&#xFF0C;&#x6709;&#x4E00;&#x4E2A;<code>sync_binlog</code>&#x53C2;&#x6570;&#x53EF;&#x4EE5;&#x63A7;&#x5236;<code>binlog</code>&#x7684;&#x5237;&#x76D8;&#x7B56;&#x7565;&#xFF0C;&#x4ED6;&#x7684;&#x9ED8;&#x8BA4;&#x503C;&#x662F;0&#xFF0C;&#x6B64;&#x65F6;&#x4F60;&#x628A;<code>binlog</code>&#x5199;&#x5165;&#x78C1;&#x76D8;&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x5176;&#x5B9E;&#x4E0D;&#x662F;&#x76F4;&#x63A5;&#x8FDB;&#x5165;&#x78C1;&#x76D8;&#x6587;&#x4EF6;&#xFF0C;&#x800C;&#x662F;&#x8FDB;&#x5165;<code>os cache</code>&#x5185;&#x5B58;&#x7F13;&#x5B58;&#x3002;&#x2F00;&#x822C;&#x6211;&#x4EEC;&#x4E3A;&#x4E86;&#x4FDD;&#x8BC1;&#x6570;&#x636E;&#x4E0D;&#x4E22;&#x5931;&#x4F1A;&#x914D;&#x7F6E;&#x53CC;1&#x7B56;&#x7565;&#xFF0C;<code>Redo Log</code> &#x548C; <code>Binlog</code>&#x843D;&#x76D8;&#x7B56;&#x7565;&#x90FD;&#x9009;&#x62E9;1&#x3002;</li>
<li><code>Binlog</code> &#x843D;&#x76D8;&#x540E;&#xFF0C;&#x518D;&#x5C06;<code>Binlog</code>&#x7684;&#x2F42;&#x4EF6;&#x540D;&#x3001;&#x2F42;&#x4EF6;&#x6240;&#x5728;&#x8DEF;&#x5F84;&#x4FE1;&#x606F;&#x4EE5;&#x53CA;<code>commit</code>&#x6807;&#x8BB0;&#x7ED9;&#x540C;&#x6B65;&#x987A;&#x5E8F;&#x5199;&#x5230;<code>Redo log</code>&#x4E2D;&#xFF0C;&#x8FD9;&#x4E00;&#x6B65;&#x7684;&#x610F;&#x4E49;&#x662F;&#x7528;&#x6765;&#x4FDD;&#x6301; <code>redo log</code> &#x65E5;&#x5FD7;&#x4E0E; <code>binlog</code> &#x65E5;&#x5FD7;&#x4E00;&#x81F4;&#x7684;&#x3002;<code>commit</code>&#x6807;&#x8BB0;&#x662F;&#x5224;&#x5B9A;&#x4E8B;&#x52A1;&#x662F;&#x5426;&#x6210;&#x529F;&#x63D0;&#x4EA4;&#x7684;&#x2F00;&#x4E2A;&#x2F50;&#x8F83;&#x91CD;&#x8981;&#x7684;&#x6807;&#x51C6;&#xFF0C;&#x4E3E;&#x4E2A;&#x4F8B;&#x5B50;&#xFF0C;&#x5982;&#x679C;&#x5982;&#x679C;&#x7B2C;5&#x6B65;&#x6216;&#x8005;&#x7B2C;6&#x6B65;&#x6267;&#x884C;&#x6210;&#x529F;&#x540E;MySQL&#x5C31;&#x5954;&#x6E83;&#x4E86;&#xFF0C;&#x8FD9;&#x4E2A;&#x65F6;&#x5019;&#x56E0;&#x4E3A;&#x6CA1;&#x6709;&#x6700;&#x7EC8;&#x7684;&#x4E8B;&#x52A1;<code>commit</code>&#x6807;&#x8BB0;&#x5728;<code>redo</code>&#x65E5;&#x5FD7;&#x91CC;&#xFF0C;&#x6240;&#x4EE5;&#x6B64;&#x6B21;&#x4E8B;&#x52A1;&#x53EF;&#x4EE5;&#x5224;&#x5B9A;&#x4E3A;&#x4E0D;&#x6210;&#x529F;&#x3002;&#x4E0D;&#x4F1A;&#x8BF4;<code>redo</code>&#x65E5;&#x5FD7;&#x6587;&#x4EF6;&#x91CC;&#x6709;&#x8FD9;&#x6B21;&#x66F4;&#x65B0;&#x7684;&#x65E5;&#x5FD7;&#xFF0C;&#x4F46;&#x662F;<code>binlog</code>&#x65E5;&#x5FD7;&#x6587;&#x4EF6;&#x91CC;&#x6CA1;&#x6709;&#x8FD9;&#x6B21;&#x66F4;&#x65B0;&#x7684;&#x65E5;&#x5FD7;&#xFF0C;&#x4E0D;&#x4F1A;&#x51FA;&#x73B0;&#x6570;&#x636E;&#x4E0D;&#x4E00;&#x81F4;&#x7684;&#x95EE;&#x9898;&#x3002;</li>
<li>&#x505A;&#x5B8C;&#x524D;&#x9762;&#x540E;&#xFF0C;&#x5185;&#x5B58;&#x6570;&#x636E;&#x5DF2;&#x7ECF;&#x4FEE;&#x6539;&#xFF0C;&#x4E8B;&#x7269;&#x5DF2;&#x7ECF;&#x63D0;&#x4EA4;&#xFF0C;&#x65E5;&#x5FD7;&#x5DF2;&#x7ECF;&#x843D;&#x76D8;&#xFF0C;&#x4F46;&#x662F;&#x78C1;&#x76D8;&#x6570;&#x636E;&#x8FD8;&#x6CA1;&#x6709;&#x540C;&#x6B65;&#x4FEE;&#x6539;&#x3002;<code>InnoDB</code>&#x5B58;&#x50A8;&#x5F15;&#x64CE;&#x540E;&#x53F0;&#x6709;&#x2F00;&#x4E2A;IO&#x7EBF;&#x7A0B;&#xFF0C;&#x4F1A;&#x5728;&#x6570;&#x636E;&#x5E93;&#x538B;&#x2F12;&#x7684;&#x4F4E;&#x5CF0;&#x671F;&#x95F4;&#xFF0C;&#x5C06;&#x7F13;&#x51B2;&#x6C60;&#x4E2D;&#x88AB;&#x4E8B;&#x52A1;&#x66F4;&#x65B0;&#x3001;&#x4F46;&#x8FD8;&#x6CA1;&#x6765;&#x5F97;&#x53CA;&#x5199;&#x5230;&#x78C1;&#x76D8;&#x4E2D;&#x7684;&#x6570;&#x636E;&#xFF08;&#x810F;&#x6570;&#x636E;&#xFF0C;&#x56E0;&#x4E3A;&#x78C1;&#x76D8;&#x6570;&#x636E;&#x548C;&#x5185;&#x5B58;&#x6570;&#x636E;&#x5DF2;&#x7ECF;&#x4E0D;&#x2F00;&#x81F4;&#x4E86;&#xFF09;&#x7ED9;&#x5237;&#x5230;&#x78C1;&#x76D8;&#x4E2D;&#xFF0C;&#x5B8C;&#x6210;&#x4E8B;&#x52A1;&#x7684;&#x6301;&#x4E45;&#x5316;&#x3002;</li>
</ol>
<p>&#x6240;&#x4EE5; <code>InnoDB</code> &#x5904;&#x7406;&#x5199;&#x5165;&#x8FC7;&#x7A0B;&#x53EF;&#x4EE5;&#x7528;&#x4E0B;&#x9762;&#x8FD9;&#x5E45;&#x56FE;&#x8868;&#x793A;<br><img src="https://gitee.com/songjianzaina/juejin_p5/raw/master/img/aa30afc3513c37a32520b1826e0d21bfb993900aaed29b6f363209fbda514daf" alt="image.png"></p>
<h2 id="&#x76F8;&#x5173;&#x9762;&#x8BD5;&#x9898;"><a href="#&#x76F8;&#x5173;&#x9762;&#x8BD5;&#x9898;" class="headerlink" title="&#x76F8;&#x5173;&#x9762;&#x8BD5;&#x9898;"></a>&#x76F8;&#x5173;&#x9762;&#x8BD5;&#x9898;</h2><h3 id="&#x95EE;&#x9898;&#xFF1A;Buffer-Pool&#x5728;&#x8BBF;&#x95EE;&#x7684;&#x65F6;&#x5019;&#x9700;&#x8981;&#x52A0;&#x9501;&#x5417;&#xFF1F;"><a href="#&#x95EE;&#x9898;&#xFF1A;Buffer-Pool&#x5728;&#x8BBF;&#x95EE;&#x7684;&#x65F6;&#x5019;&#x9700;&#x8981;&#x52A0;&#x9501;&#x5417;&#xFF1F;" class="headerlink" title="&#x95EE;&#x9898;&#xFF1A;Buffer Pool&#x5728;&#x8BBF;&#x95EE;&#x7684;&#x65F6;&#x5019;&#x9700;&#x8981;&#x52A0;&#x9501;&#x5417;&#xFF1F;"></a>&#x95EE;&#x9898;&#xFF1A;Buffer Pool&#x5728;&#x8BBF;&#x95EE;&#x7684;&#x65F6;&#x5019;&#x9700;&#x8981;&#x52A0;&#x9501;&#x5417;&#xFF1F;</h3><h3 id="&#x95EE;&#x9898;&#xFF1A;-&#x6570;&#x636E;&#x5E93;&#x542F;&#x52A8;&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x662F;&#x5982;&#x4F55;&#x521D;&#x59CB;&#x5316;-Buffer-Pool-&#x7684;&#xFF1F;"><a href="#&#x95EE;&#x9898;&#xFF1A;-&#x6570;&#x636E;&#x5E93;&#x542F;&#x52A8;&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x662F;&#x5982;&#x4F55;&#x521D;&#x59CB;&#x5316;-Buffer-Pool-&#x7684;&#xFF1F;" class="headerlink" title="&#x95EE;&#x9898;&#xFF1A; &#x6570;&#x636E;&#x5E93;&#x542F;&#x52A8;&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x662F;&#x5982;&#x4F55;&#x521D;&#x59CB;&#x5316; Buffer Pool &#x7684;&#xFF1F;"></a>&#x95EE;&#x9898;&#xFF1A; &#x6570;&#x636E;&#x5E93;&#x542F;&#x52A8;&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x662F;&#x5982;&#x4F55;&#x521D;&#x59CB;&#x5316; <code>Buffer Pool</code> &#x7684;&#xFF1F;</h3><p>&#x7B54;&#xFF1A; &#x9996;&#x5148;&#x5F97;&#x77E5;&#x9053; <code>Buffer Pool</code> &#x662F;&#x4E2A;&#x5565;&#xFF0C;&#x957F;&#x5565;&#x6837;&#xFF0C;&#x4E0A;&#x9762;&#x5DF2;&#x7ECF;&#x4ECB;&#x7ECD;&#x4E86;&#x7F13;&#x51B2;&#x6C60;&#x4E86;&#xFF0C;&#x7F13;&#x51B2;&#x6C60;&#x91CC;&#x9762;&#x5C31;&#x662F;&#x4F1A;&#x5305;&#x542B;&#x5F88;&#x591A;&#x4E2A;&#x7F13;&#x5B58;&#x9875;&#xFF0C;&#x540C;&#x65F6;&#x6BCF;&#x4E2A;&#x7F13;&#x5B58;&#x9875;&#x8FD8;&#x6709;&#x4E00;&#x4E2A;&#x63CF;&#x8FF0;&#x6570;&#x636E;&#xFF08;&#x8FD9;&#x4E2A;&#x63CF;&#x8FF0;&#x4FE1;&#x606F;&#x5927;&#x4F53;&#x53EF;&#x4EE5;&#x8BA4;&#x4E3A;&#x662F;&#x7528;&#x6765;&#x63CF;&#x8FF0;&#x8FD9;&#x4E2A;&#x7F13;&#x5B58;&#x9875;&#x7684;&#x6BD4;&#x5982;&#x5305;&#x542B;&#x5982;&#x4E0B;&#x7684;&#x4E00;&#x4E9B;&#x4E1C;&#x897F;&#xFF1A;&#x8FD9;&#x4E2A;&#x6570;&#x636E;&#x9875;&#x6240;&#x5C5E;&#x7684;&#x8868;&#x7A7A;&#x95F4;&#x3001;&#x6570;&#x636E;&#x9875;&#x7684;&#x7F16;&#x53F7;&#x3001;&#x8FD9;&#x4E2A;&#x7F13;&#x5B58;&#x9875;&#x5728;<code>Buffer Pool</code>&#x4E2D;&#x7684;&#x5730;&#x5740;&#x4EE5;&#x53CA;&#x522B;&#x7684;&#x4E00;&#x4E9B;&#x6742;&#x4E03;&#x6742;&#x516B;&#x7684;&#x4E1C;&#x897F;&#x3002;&#xFF09;&#xFF0C;&#x5982;&#x4E0B;&#x56FE;&#xFF1A;<br><img src="https://gitee.com/songjianzaina/juejin_p5/raw/master/img/6c062523aab84525c10b8aa742d2859be3202b6fda10d0545ea6b78394e46d6f" alt="image.png">  </p>
<p>&#x5176;&#x5B9E;&#x8FD9;&#x4E2A;&#x4E5F;&#x5F88;&#x7B80;&#x5355;&#xFF0C;&#x6570;&#x636E;&#x5E93;&#x53EA;&#x8981;&#x4E00;&#x542F;&#x52A8;&#xFF0C;&#x5C31;&#x4F1A;&#x6309;&#x7167;&#x4F60;&#x8BBE;&#x7F6E;&#x7684;<code>Buffer Pool</code>&#x5927;&#x5C0F;&#xFF0C;&#x7A0D;&#x5FAE;&#x518D;&#x52A0;&#x5927;&#x4E00;&#x70B9;&#xFF0C;&#x53BB;&#x627E;&#x64CD;&#x4F5C;&#x7CFB;&#x7EDF;&#x7533;&#x8BF7;&#x4E00;&#x5757;&#x5185;&#x5B58;&#x533A;&#x57DF;&#xFF0C;&#x4F5C;&#x4E3A;<code>Buffer Pool</code>&#x7684;&#x5185;&#x5B58;&#x533A;&#x57DF;&#x3002;&#x7136;&#x540E;&#x5F53;&#x5185;&#x5B58;&#x533A;&#x57DF;&#x7533;&#x8BF7;&#x5B8C;&#x6BD5;&#x4E4B;&#x540E;&#xFF0C;&#x6570;&#x636E;&#x5E93;&#x5C31;&#x4F1A;&#x6309;&#x7167;&#x9ED8;&#x8BA4;&#x7684;&#x7F13;&#x5B58;&#x9875;&#x7684;16KB&#x7684;&#x5927;&#x5C0F;&#x4EE5;&#x53CA;&#x5BF9;&#x5E94;&#x7684;800&#x4E2A;&#x5B57;&#x8282;&#x5DE6;&#x53F3;&#x7684;&#x63CF;&#x8FF0;&#x6570;&#x636E;&#x7684;&#x5927;&#x5C0F;&#xFF0C;&#x5728;<code>Buffer Pool</code>&#x4E2D;&#x5212;&#x5206;&#x51FA;&#x6765;&#x4E00;&#x4E2A;&#x4E00;&#x4E2A;&#x7684;&#x7F13;&#x5B58;&#x9875;&#x548C;&#x4E00;&#x4E2A;&#x4E00;&#x4E2A;&#x7684;&#x4ED6;&#x4EEC;&#x5BF9;&#x5E94;&#x7684;&#x63CF;&#x8FF0;&#x6570;&#x636E;&#x3002;</p>
<h3 id="&#x95EE;&#x9898;&#xFF1A;-&#x6570;&#x636E;&#x5E93;&#x600E;&#x4E48;&#x77E5;&#x9053;&#x54EA;&#x4E9B;&#x6570;&#x636E;&#x9875;&#x662F;&#x7A7A;&#x95F2;&#x7684;&#x5462;&#xFF1F;"><a href="#&#x95EE;&#x9898;&#xFF1A;-&#x6570;&#x636E;&#x5E93;&#x600E;&#x4E48;&#x77E5;&#x9053;&#x54EA;&#x4E9B;&#x6570;&#x636E;&#x9875;&#x662F;&#x7A7A;&#x95F2;&#x7684;&#x5462;&#xFF1F;" class="headerlink" title="&#x95EE;&#x9898;&#xFF1A; &#x6570;&#x636E;&#x5E93;&#x600E;&#x4E48;&#x77E5;&#x9053;&#x54EA;&#x4E9B;&#x6570;&#x636E;&#x9875;&#x662F;&#x7A7A;&#x95F2;&#x7684;&#x5462;&#xFF1F;"></a>&#x95EE;&#x9898;&#xFF1A; &#x6570;&#x636E;&#x5E93;&#x600E;&#x4E48;&#x77E5;&#x9053;&#x54EA;&#x4E9B;&#x6570;&#x636E;&#x9875;&#x662F;&#x7A7A;&#x95F2;&#x7684;&#x5462;&#xFF1F;</h3><p>&#x7B54;&#xFF1A;&#x78C1;&#x76D8;&#x4E0A;&#x7684;&#x6570;&#x636E;&#x9875;&#x548C;&#x7F13;&#x5B58;&#x9875;&#x662F;&#x4E00; &#x4E00;&#x5BF9;&#x5E94;&#x8D77;&#x6765;&#x7684;&#xFF0C;&#x90FD;&#x662F;16KB&#xFF0C;&#x4E00;&#x4E2A;&#x6570;&#x636E;&#x9875;&#x5BF9;&#x5E94;&#x4E00;&#x4E2A;&#x7F13;&#x5B58;&#x9875;&#x3002;&#x6570;&#x636E;&#x5E93;&#x4F1A;&#x4E3A;<code>Buffer Pool</code>&#x8BBE;&#x8BA1;&#x4E00;&#x4E2A;<code>free</code>&#x94FE;&#x8868;&#xFF0C;&#x4ED6;&#x662F;&#x4E00;&#x4E2A;&#x53CC;&#x5411;&#x94FE;&#x8868;&#x6570;&#x636E;&#x7ED3;&#x6784;&#xFF0C;&#x8FD9;&#x4E2A;<code>free</code>&#x94FE;&#x8868;&#x91CC;&#xFF0C;&#x6BCF;&#x4E2A;&#x8282;&#x70B9;&#x5C31;&#x662F;&#x4E00;&#x4E2A;&#x7A7A;&#x95F2;&#x7684;&#x7F13;&#x5B58;&#x9875;&#x7684;&#x63CF;&#x8FF0;&#x6570;&#x636E;&#x5757;&#x7684;&#x5730;&#x5740;&#xFF0C;&#x4E5F;&#x5C31;&#x662F;&#x8BF4;&#xFF0C;&#x53EA;&#x8981;&#x4F60;&#x4E00;&#x4E2A;&#x7F13;&#x5B58;&#x9875;&#x662F;&#x7A7A;&#x95F2;&#x7684;&#xFF0C;&#x90A3;&#x4E48;&#x4ED6;&#x7684;&#x63CF;&#x8FF0;&#x6570;&#x636E;&#x5757;&#x5C31;&#x4F1A;&#x88AB;&#x653E;&#x5165;&#x8FD9;&#x4E2A;<code>free</code>&#x94FE;&#x8868;&#x4E2D;&#x3002;&#x521A;&#x5F00;&#x59CB;&#x6570;&#x636E;&#x5E93;&#x542F;&#x52A8;&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x53EF;&#x80FD;&#x6240;&#x6709;&#x7684;&#x7F13;&#x5B58;&#x9875;&#x90FD;&#x662F;&#x7A7A;&#x95F2;&#x7684;&#xFF0C;&#x56E0;&#x4E3A;&#x6B64;&#x65F6;&#x53EF;&#x80FD;&#x662F;&#x4E00;&#x4E2A;&#x7A7A;&#x7684;&#x6570;&#x636E;&#x5E93;&#xFF0C;&#x4E00;&#x6761;&#x6570;&#x636E;&#x90FD;&#x6CA1;&#x6709;&#xFF0C;&#x6240;&#x4EE5;&#x6B64;&#x65F6;&#x6240;&#x6709;&#x7F13;&#x5B58;&#x9875;&#x7684;&#x63CF;&#x8FF0;&#x6570;&#x636E;&#x5757;&#xFF0C;&#x90FD;&#x4F1A;&#x88AB;&#x653E;&#x5165;&#x8FD9;&#x4E2A;<code>free</code>&#x94FE;&#x8868;&#x4E2D;&#xFF0C;&#x9664;&#x6B64;&#x4E4B;&#x5916;&#xFF0C;&#x8FD9;&#x4E2A;<code>free</code>&#x94FE;&#x8868;&#x6709;&#x4E00;&#x4E2A;&#x57FA;&#x7840;&#x8282;&#x70B9;&#xFF0C;&#x4ED6;&#x4F1A;&#x5F15;&#x7528;&#x94FE;&#x8868;&#x7684;&#x5934;&#x8282;&#x70B9;&#x548C;&#x5C3E;&#x8282;&#x70B9;&#xFF0C;&#x91CC;&#x9762;&#x8FD8;&#x5B58;&#x50A8;&#x4E86;&#x94FE;&#x8868;&#x4E2D;&#x6709;&#x591A;&#x5C11;&#x4E2A;&#x63CF;&#x8FF0;&#x6570;&#x636E;&#x5757;&#x7684;&#x8282;&#x70B9;&#xFF0C;&#x4E5F;&#x5C31;&#x662F;&#x6709;&#x591A;&#x5C11;&#x4E2A;&#x7A7A;&#x95F2;&#x7684;&#x7F13;&#x5B58;&#x9875;&#x3002;<br><img src="https://gitee.com/songjianzaina/juejin_p5/raw/master/img/79a0f00616b53280f650c5695cc129db8e553ca3ea72d0ba2ee35e032fb1af2c" alt="image.png"></p>
<h3 id="&#x95EE;&#x9898;&#xFF1A;-&#x600E;&#x4E48;&#x77E5;&#x9053;&#x6570;&#x636E;&#x9875;&#x6709;&#x6CA1;&#x6709;&#x88AB;&#x7F13;&#x5B58;&#xFF1F;"><a href="#&#x95EE;&#x9898;&#xFF1A;-&#x600E;&#x4E48;&#x77E5;&#x9053;&#x6570;&#x636E;&#x9875;&#x6709;&#x6CA1;&#x6709;&#x88AB;&#x7F13;&#x5B58;&#xFF1F;" class="headerlink" title="&#x95EE;&#x9898;&#xFF1A; &#x600E;&#x4E48;&#x77E5;&#x9053;&#x6570;&#x636E;&#x9875;&#x6709;&#x6CA1;&#x6709;&#x88AB;&#x7F13;&#x5B58;&#xFF1F;"></a>&#x95EE;&#x9898;&#xFF1A; &#x600E;&#x4E48;&#x77E5;&#x9053;&#x6570;&#x636E;&#x9875;&#x6709;&#x6CA1;&#x6709;&#x88AB;&#x7F13;&#x5B58;&#xFF1F;</h3><p>&#x7B54;&#xFF1A;&#x5728;&#x6267;&#x884C;&#x589E;&#x5220;&#x6539;&#x67E5;&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x5148;&#x770B;&#x770B;&#x8FD9;&#x4E2A;&#x6570;&#x636E;&#x9875;&#x6709;&#x6CA1;&#x6709;&#x88AB;&#x7F13;&#x5B58;&#xFF0C;&#x5982;&#x679C;&#x6CA1;&#x88AB;&#x7F13;&#x5B58;&#x5C31;&#x4ECE;<code>free</code>&#x94FE;&#x8868;&#x4E2D;&#x627E;&#x5230;&#x4E00;&#x4E2A;&#x7A7A;&#x95F2;&#x7684;&#x7F13;&#x5B58;&#x9875;&#xFF0C;&#x4ECE;&#x78C1;&#x76D8;&#x4E0A;&#x8BFB;&#x53D6;&#x6570;&#x636E;&#x9875;&#x5199;&#x5165;&#x7F13;&#x5B58;&#x9875;&#xFF0C;&#x5199;&#x5165;&#x63CF;&#x8FF0;&#x6570;&#x636E;&#xFF0C;&#x4ECE;<code>free</code>&#x94FE;&#x8868;&#x4E2D;&#x79FB;&#x9664;&#x8FD9;&#x4E2A;&#x63CF;&#x8FF0;&#x6570;&#x636E;&#x5757;&#x3002;&#x4F46;&#x662F;&#x5982;&#x679C;&#x6570;&#x636E;&#x9875;&#x5DF2;&#x7ECF;&#x88AB;&#x7F13;&#x5B58;&#x4E86;&#xFF0C;&#x90A3;&#x4E48;&#x5C31;&#x4F1A;&#x76F4;&#x63A5;&#x4F7F;&#x7528;&#x4E86;&#x3002;  </p>
<p>&#x6240;&#x4EE5;&#x6570;&#x636E;&#x5E93;&#x8FD8;&#x4F1A;&#x6709;&#x4E00;&#x4E2A;&#x54C8;&#x5E0C;&#x8868;&#x6570;&#x636E;&#x7ED3;&#x6784;&#xFF0C;&#x4ED6;&#x4F1A;&#x7528;&#x8868;&#x7A7A;&#x95F4;&#x53F7;+&#x6570;&#x636E;&#x9875;&#x53F7;&#xFF0C;&#x4F5C;&#x4E3A;&#x4E00;&#x4E2A;key&#xFF0C;&#x7136;&#x540E;&#x7F13;&#x5B58;&#x9875;&#x7684;&#x5730;&#x5740;&#x4F5C;&#x4E3A;value&#x3002;&#x5F53;&#x4F60;&#x8981;&#x4F7F;&#x7528;&#x4E00;&#x4E2A;&#x6570;&#x636E;&#x9875;&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x901A;&#x8FC7;&#x201C;&#x8868;&#x7A7A;&#x95F4;&#x53F7;+&#x6570;&#x636E;&#x9875;&#x53F7;&#x201D;&#x4F5C;&#x4E3A;key&#x53BB;&#x8FD9;&#x4E2A;&#x54C8;&#x5E0C;&#x8868;&#x91CC;&#x67E5;&#x4E00;&#x4E0B;&#xFF0C;&#x5982;&#x679C;&#x6CA1;&#x6709;&#x5C31;&#x8BFB;&#x53D6;&#x6570;&#x636E;&#x9875;&#x5E76;&#x5199;&#x5165;&#x7F13;&#x5B58;&#x9875;&#xFF0C;&#x800C;&#x4E14;&#x5728;&#x54C8;&#x5E0C;&#x8868;&#x4E2D;&#x5199;&#x5165;&#x4E00;&#x4E2A;key-value&#x5BF9;&#xFF0C;key&#x5C31;&#x662F;&#x8868;&#x7A7A;&#x95F4;&#x53F7;+&#x6570;&#x636E;&#x9875;&#x53F7;&#xFF0C;value&#x5C31;&#x662F;&#x7F13;&#x5B58;&#x9875;&#x7684;&#x5730;&#x5740;&#xFF0C;&#x5982;&#x679C;<br>&#x5DF2;&#x7ECF;&#x6709;&#x4E86;&#xFF0C;&#x5C31;&#x8BF4;&#x660E;&#x6570;&#x636E;&#x9875;&#x5DF2;&#x7ECF;&#x88AB;&#x7F13;&#x5B58;&#x4E86;&#x3002;<br><img src="https://gitee.com/songjianzaina/juejin_p5/raw/master/img/1ebe268ecfa79029fe1f758de5479ee5304a3678b9fe1a9dc35d4ee52865caa8" alt="image.png"></p>
<h3 id="&#x95EE;&#x9898;&#xFF1A;&#x5728;LRU&#x94FE;&#x8868;&#x7684;&#x51B7;&#x6570;&#x636E;&#x533A;&#x57DF;&#x4E2D;&#x7684;&#x90FD;&#x662F;&#x4EC0;&#x4E48;&#x6837;&#x7684;&#x6570;&#x636E;&#x5462;&#xFF1F;"><a href="#&#x95EE;&#x9898;&#xFF1A;&#x5728;LRU&#x94FE;&#x8868;&#x7684;&#x51B7;&#x6570;&#x636E;&#x533A;&#x57DF;&#x4E2D;&#x7684;&#x90FD;&#x662F;&#x4EC0;&#x4E48;&#x6837;&#x7684;&#x6570;&#x636E;&#x5462;&#xFF1F;" class="headerlink" title="&#x95EE;&#x9898;&#xFF1A;&#x5728;LRU&#x94FE;&#x8868;&#x7684;&#x51B7;&#x6570;&#x636E;&#x533A;&#x57DF;&#x4E2D;&#x7684;&#x90FD;&#x662F;&#x4EC0;&#x4E48;&#x6837;&#x7684;&#x6570;&#x636E;&#x5462;&#xFF1F;"></a>&#x95EE;&#x9898;&#xFF1A;&#x5728;LRU&#x94FE;&#x8868;&#x7684;&#x51B7;&#x6570;&#x636E;&#x533A;&#x57DF;&#x4E2D;&#x7684;&#x90FD;&#x662F;&#x4EC0;&#x4E48;&#x6837;&#x7684;&#x6570;&#x636E;&#x5462;&#xFF1F;</h3><p>&#x7B54;&#xFF1A;&#x5927;&#x90E8;&#x5206;&#x5E94;&#x8BE5;&#x90FD;&#x662F;&#x9884;&#x8BFB;&#x52A0;&#x8F7D;&#x8FDB;&#x6765;&#x7684;&#x7F13;&#x5B58;&#x9875;&#xFF0C;&#x52A0;&#x8F7D;&#x8FDB;&#x6765;1s&#x4E4B;&#x540E;&#x90FD;&#x6CA1;&#x4EBA;&#x8BBF;&#x95EE;&#x7684;&#xFF0C;&#x7136;&#x540E;&#x5305;&#x62EC;&#x5168;&#x8868;&#x626B;&#x63CF;&#x6216;&#x8005;&#x4E00;&#x4E9B;&#x5927;&#x7684;&#x67E5;&#x8BE2;&#x8BED;&#x53E5;&#xFF0C;&#x52A0;&#x8F7D;&#x4E00;&#x5806;&#x6570;&#x636E;&#x5230;&#x7F13;&#x5B58;&#x9875;&#xFF0C;&#x7ED3;&#x679C;&#x90FD;&#x662F;1s&#x4E4B;&#x5185;&#x8BBF;&#x95EE;&#x4E86;&#x4E00;&#x4E0B;&#xFF0C;&#x540E;&#x7EED;&#x5C31;&#x4E0D;&#x518D;&#x8BBF;&#x95EE;&#x8FD9;&#x4E9B;&#x8868;&#x7684;&#x6570;&#x636E;&#x4E86;&#x3002;&#x7C7B;&#x4F3C;&#x8FD9;&#x4E9B;&#x6570;&#x636E;&#xFF0C;&#x7EDF;&#x7EDF;&#x90FD;&#x4F1A;&#x653E;&#x5728;&#x51B7;&#x6570;&#x636E;&#x533A;&#x57DF;&#x91CC;&#x3002;</p>
<h3 id="&#x95EE;&#x9898;&#xFF1A;-Buffer-Pool&#x4E2D;&#x4F1A;&#x4E0D;&#x4F1A;&#x6709;&#x5185;&#x5B58;&#x788E;&#x7247;&#xFF1F;"><a href="#&#x95EE;&#x9898;&#xFF1A;-Buffer-Pool&#x4E2D;&#x4F1A;&#x4E0D;&#x4F1A;&#x6709;&#x5185;&#x5B58;&#x788E;&#x7247;&#xFF1F;" class="headerlink" title="&#x95EE;&#x9898;&#xFF1A; Buffer Pool&#x4E2D;&#x4F1A;&#x4E0D;&#x4F1A;&#x6709;&#x5185;&#x5B58;&#x788E;&#x7247;&#xFF1F;"></a>&#x95EE;&#x9898;&#xFF1A; <code>Buffer Pool</code>&#x4E2D;&#x4F1A;&#x4E0D;&#x4F1A;&#x6709;&#x5185;&#x5B58;&#x788E;&#x7247;&#xFF1F;</h3><p>&#x7B54;&#xFF1A;&#x5F53;&#x7136;&#x4F1A;&#x6709;&#x7684;&#xFF0C;&#x56E0;&#x4E3A;<code>Buffer Pool</code>&#x5927;&#x5C0F;&#x662F;&#x81EA;&#x5DF1;&#x5B9A;&#x7684;&#xFF0C;&#x5F88;&#x53EF;&#x80FD;<code>Buffer Pool</code>&#x5212;&#x5206;&#x5B8C;&#x5168;&#x90E8;&#x7684;&#x7F13;&#x5B58;&#x9875;&#x548C;&#x63CF;&#x8FF0;&#x6570;&#x636E;&#x5757;&#x4E4B;&#x540E;&#xFF0C;&#x8FD8;&#x5269;&#x4E00;&#x70B9;&#x70B9;&#x7684;&#x5185;&#x5B58;&#xFF0C;&#x8FD9;&#x4E00;&#x70B9;&#x70B9;&#x7684;&#x5185;&#x5B58;&#x653E;&#x4E0D;&#x4E0B;&#x4EFB;&#x4F55;&#x4E00;&#x4E2A;&#x7F13;&#x5B58;&#x9875;&#x4E86;&#xFF0C;&#x6240;&#x4EE5;&#x8FD9;&#x70B9;&#x5185;&#x5B58;&#x5C31;&#x53EA;&#x80FD;&#x653E;&#x7740;&#x4E0D;&#x80FD;&#x7528;&#xFF0C;&#x8FD9;&#x5C31;&#x662F;&#x5185;&#x5B58;&#x788E;&#x7247;&#x3002;</p>
<p>&#x90A3;&#x600E;&#x4E48;&#x51CF;&#x5C11;&#x5185;&#x5B58;&#x788E;&#x7247;&#x5462;&#xFF1F;  </p>
<p>&#x5176;&#x5B9E;&#x4E5F;&#x5F88;&#x7B80;&#x5355;&#xFF0C;&#x6570;&#x636E;&#x5E93;&#x5728;<code>Buffer Pool</code>&#x4E2D;&#x5212;&#x5206;&#x7F13;&#x5B58;&#x9875;&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x4F1A;&#x8BA9;&#x6240;&#x6709;&#x7684;&#x7F13;&#x5B58;&#x9875;&#x548C;&#x63CF;&#x8FF0;&#x6570;&#x636E;&#x5757;&#x90FD;&#x7D27;&#x5BC6;&#x7684;&#x6328;&#x5728;&#x4E00;&#x8D77;&#xFF0C;&#x8FD9;&#x6837;&#x5C3D;&#x53EF;&#x80FD;&#x51CF;&#x5C11;&#x5185;&#x5B58;&#x6D6A;&#x8D39;&#xFF0C;&#x5C31;&#x53EF;&#x4EE5;&#x5C3D;&#x53EF;&#x80FD;&#x7684;&#x51CF;&#x5C11;&#x5185;&#x5B58;&#x788E;&#x7247;&#x7684;&#x4EA7;&#x751F;&#x4E86;&#x3002;</p>
<h3 id="&#x95EE;&#x9898;&#xFF1A;-&#x810F;&#x9875;&#x662F;&#x600E;&#x4E48;&#x5237;&#x65B0;&#x5230;&#x78C1;&#x76D8;&#x5462;&#xFF1F;"><a href="#&#x95EE;&#x9898;&#xFF1A;-&#x810F;&#x9875;&#x662F;&#x600E;&#x4E48;&#x5237;&#x65B0;&#x5230;&#x78C1;&#x76D8;&#x5462;&#xFF1F;" class="headerlink" title="&#x95EE;&#x9898;&#xFF1A; &#x810F;&#x9875;&#x662F;&#x600E;&#x4E48;&#x5237;&#x65B0;&#x5230;&#x78C1;&#x76D8;&#x5462;&#xFF1F;"></a>&#x95EE;&#x9898;&#xFF1A; &#x810F;&#x9875;&#x662F;&#x600E;&#x4E48;&#x5237;&#x65B0;&#x5230;&#x78C1;&#x76D8;&#x5462;&#xFF1F;</h3><p>&#x7B54;&#xFF1A;&#x810F;&#x9875;&#x662F;&#x7531;&#x4E8E;&#x4FEE;&#x6539;&#x4E86;&#x7F13;&#x51B2;&#x6C60;&#x4E2D;&#x7684;&#x6570;&#x636E;&#xFF0C;&#x5BFC;&#x81F4;&#x5185;&#x5B58;&#x6570;&#x636E;&#x548C;&#x78C1;&#x76D8;&#x6570;&#x636E;&#x4E0D;&#x4E00;&#x81F4;&#x800C;&#x5F62;&#x6210;&#x7684;&#xFF0C;&#x5237;&#x65B0;&#x810F;&#x9875;&#x5C31;&#x662F;&#x628A;&#x4FEE;&#x6539;&#x8FC7;&#x6570;&#x636E;&#x7684;&#x9875;&#x540C;&#x6B65;&#x5230;&#x78C1;&#x76D8;&#x4E0A;&#xFF0C;&#x4E0D;&#x53EF;&#x80FD;&#x628A;&#x6240;&#x6709;&#x7F13;&#x51B2;&#x6C60;&#x4E2D;&#x7684;&#x9875;&#x90FD;&#x5237;&#x65B0;&#xFF0C;&#x90A3;&#x600E;&#x4E48;&#x627E;&#x5230;&#x8FD9;&#x4E9B;&#x810F;&#x4E5F;&#x5C31;&#x5F88;&#x91CD;&#x8981;&#x4E86;&#xFF0C;<code>MySQL</code> &#x5904;&#x7406;&#x65B9;&#x5F0F;&#x548C;&#x7A7A;&#x95F2;&#x9875;&#x662F;&#x4E00;&#x6837;&#x7684;&#x3002;  </p>
<p>&#x6570;&#x636E;&#x5E93;&#x5728;&#x8FD9;&#x91CC;&#x5F15;&#x5165;&#x4E86;&#x53E6;&#x5916;&#x4E00;&#x4E2A;&#x8DDF;<code>free</code>&#x94FE;&#x8868;&#x7C7B;&#x4F3C;&#x7684;<code>flush</code>&#x94FE;&#x8868;&#xFF0C;&#x8FD9;&#x4E2A;<code>flush</code>&#x94FE;&#x8868;&#x672C;&#x8D28;&#x4E5F;&#x662F;&#x901A;&#x8FC7;&#x7F13;&#x5B58;&#x9875;&#x7684;&#x63CF;&#x8FF0;&#x6570;&#x636E;&#x5757;&#x4E2D;&#x7684;&#x4E24;&#x4E2A;&#x6307;&#x9488;&#xFF0C;&#x8BA9;&#x88AB;&#x4FEE;&#x6539;&#x8FC7;&#x7684;&#x7F13;&#x5B58;&#x9875;&#x7684;&#x63CF;&#x8FF0;&#x6570;&#x636E;&#x5757;&#xFF0C;&#x7EC4;&#x6210;&#x4E00;&#x4E2A;&#x53CC;&#x5411;&#x94FE;&#x8868;&#x3002;&#x51E1;&#x662F;&#x88AB;&#x4FEE;&#x6539;&#x8FC7;&#x7684;&#x7F13;&#x5B58;&#x9875;&#xFF0C;&#x90FD;&#x4F1A;&#x628A;&#x4ED6;&#x7684;&#x63CF;&#x8FF0;&#x6570;&#x636E;&#x5757;&#x52A0;&#x5165;&#x5230;<code>flush</code>&#x94FE;&#x8868;&#x4E2D;&#x53BB;&#xFF0C;<code>flush</code>&#x7684;&#x610F;&#x601D;&#x5C31;&#x662F;&#x8FD9;&#x4E9B;&#x90FD;&#x662F;&#x810F;&#x9875;&#xFF0C;&#x540E;&#x7EED;&#x90FD;&#x662F;&#x8981;<code>flush</code>&#x5237;&#x65B0;&#x5230;&#x78C1;&#x76D8;&#x4E0A;&#x53BB;&#x3002;  </p>
<p><img src="https://gitee.com/songjianzaina/juejin_p5/raw/master/img/6421da567b2788327c73c71bd27552a0266a8d8bf6fc3ecc9a87d103c5c60133" alt="image.png"></p>
<h3 id="&#x95EE;&#x9898;&#xFF1A;undo-log&#x548C;redo-log&#x4E86;&#x89E3;&#x8FC7;&#x5417;&#xFF1F;&#x5B83;&#x4EEC;&#x7684;&#x4F5C;&#x2F64;&#x5206;&#x522B;&#x662F;&#x4EC0;&#x4E48;&#xFF1F;"><a href="#&#x95EE;&#x9898;&#xFF1A;undo-log&#x548C;redo-log&#x4E86;&#x89E3;&#x8FC7;&#x5417;&#xFF1F;&#x5B83;&#x4EEC;&#x7684;&#x4F5C;&#x2F64;&#x5206;&#x522B;&#x662F;&#x4EC0;&#x4E48;&#xFF1F;" class="headerlink" title="&#x95EE;&#x9898;&#xFF1A;undo log&#x548C;redo log&#x4E86;&#x89E3;&#x8FC7;&#x5417;&#xFF1F;&#x5B83;&#x4EEC;&#x7684;&#x4F5C;&#x2F64;&#x5206;&#x522B;&#x662F;&#x4EC0;&#x4E48;&#xFF1F;"></a>&#x95EE;&#x9898;&#xFF1A;<code>undo log</code>&#x548C;<code>redo log</code>&#x4E86;&#x89E3;&#x8FC7;&#x5417;&#xFF1F;&#x5B83;&#x4EEC;&#x7684;&#x4F5C;&#x2F64;&#x5206;&#x522B;&#x662F;&#x4EC0;&#x4E48;&#xFF1F;</h3><p>&#x7B54;&#xFF1A;<code>undo log</code> &#x548C; <code>redo log</code> &#x662F; mysql &#x4E2D; <code>InnoDB</code> &#x5B58;&#x50A8;&#x5F15;&#x64CE;&#x7684;&#x57FA;&#x672C;&#x7EC4;&#x6210;&#xFF1A;</p>
<ul>
<li><code>undo log</code> &#x4FDD;&#x5B58;&#x4E86;&#x4E8B;&#x52A1;&#x6267;&#x2F8F;&#x524D;&#x6570;&#x636E;&#x7684;&#x503C;&#xFF0C;&#x4EE5;&#x4FBF;&#x4E8E;&#x4E8B;&#x52A1;&#x56DE;&#x6EDA;&#x65F6;&#x80FD;&#x56DE;&#x5230;&#x4E8B;&#x52A1;&#x6267;&#x2F8F;&#x524D;&#x7684;&#x6570;&#x636E;&#x7248;&#x672C;&#xFF0C;&#x591A;&#x6B21;&#x66F4;&#x65B0;&#x4F1A;&#x6709;<code>undo log</code>&#x7684;&#x7248;&#x672C;&#x94FE;&#xFF1B;</li>
<li><code>redo log</code>&#x5728;&#x7269;&#x7406;&#x5C42;&#x2FAF;&#x4E0A;&#x8BB0;&#x5F55;&#x4E86;&#x4E8B;&#x52A1;&#x64CD;&#x4F5C;&#x7684;&#x2F00;&#x7CFB;&#x5217;&#x4FE1;&#x606F;&#xFF0C;&#x4FDD;&#x8BC1;&#x5C31;&#x7B97;&#x9047;&#x5230;mysql&#x5B95;&#x673A;&#x7B49;&#x56E0;&#x7D20;&#x8FD8;&#x6CA1;&#x6765;&#x5F97;&#x53CA;&#x5C06;&#x6570;&#x636E;&#x5237;&#x5230;&#x78C1;&#x76D8;&#x2FA5;&#xFF0C;&#x901A;&#x8FC7;<code>redo log</code>&#x4E5F;&#x80FD;&#x6062;&#x590D;&#x4E8B;&#x52A1;&#x63D0;&#x4EA4;&#x7684;&#x6570;&#x636E;&#x3002;</li>
</ul>
<h3 id="&#x95EE;&#x9898;&#xFF1A;redo-log-&#x600E;&#x6837;&#x4FDD;&#x8BC1;&#x4E8B;&#x52A1;&#x4E0D;&#x4E22;&#x5931;&#x7684;&#xFF1F;"><a href="#&#x95EE;&#x9898;&#xFF1A;redo-log-&#x600E;&#x6837;&#x4FDD;&#x8BC1;&#x4E8B;&#x52A1;&#x4E0D;&#x4E22;&#x5931;&#x7684;&#xFF1F;" class="headerlink" title="&#x95EE;&#x9898;&#xFF1A;redo log &#x600E;&#x6837;&#x4FDD;&#x8BC1;&#x4E8B;&#x52A1;&#x4E0D;&#x4E22;&#x5931;&#x7684;&#xFF1F;"></a>&#x95EE;&#x9898;&#xFF1A;<code>redo log</code> &#x600E;&#x6837;&#x4FDD;&#x8BC1;&#x4E8B;&#x52A1;&#x4E0D;&#x4E22;&#x5931;&#x7684;&#xFF1F;</h3><p>&#x7B54;&#xFF1A;&#x5F53;&#x2F00;&#x4E2A;&#x4E8B;&#x52A1;&#x63D0;&#x4EA4;&#x6210;&#x529F;&#x540E;&#xFF0C;&#x867D;&#x7136;&#x7F13;&#x51B2;&#x6C60;&#x4E2D;&#x7684;&#x6570;&#x636E;&#x4E0D;&#x2F00;&#x5B9A;&#x6765;&#x5F97;&#x53CA;&#x2EE2;&#x4E0A;&#x843D;&#x5730;&#x5230;&#x78C1;&#x76D8;&#x4E2D;&#xFF0C;&#x4F46;&#x662F; <code>redo log</code> &#x8BB0;&#x5F55;&#x7684;&#x4E8B;&#x52A1;&#x4FE1;&#x606F;&#x6301;&#x4E45;&#x5316;&#x5230;&#x78C1;&#x76D8;&#x4E2D;&#x4E86;&#x3001;&#x4E14;&#x542B;&#x6709; <code>commit</code> &#x6807;&#x8BB0;&#xFF0C;&#x6B64;&#x65F6;&#x5982;&#x679C; mysql &#x5B95;&#x673A;&#x5BFC;&#x81F4;&#x7F13;&#x51B2;&#x6C60;&#x4E2D;&#x7684;&#x3001;&#x5DF2;&#x7ECF;&#x88AB;&#x4E8B;&#x52A1;&#x66F4;&#x65B0;&#x8FC7;&#x7684;&#x5185;&#x5B58;&#x6570;&#x636E;&#x4E22;&#x5931;&#x4E86;&#xFF0C;&#x6B64;&#x65F6;&#x5728; mysql &#x91CD;&#x542F;&#x65F6;&#xFF0C;&#x5C06;&#x78C1;&#x76D8;&#x4E2D;&#x7684; <code>redo log</code> &#x4E2D;&#x5C06;&#x4E8B;&#x52A1;&#x53D8;&#x66F4;&#x4FE1;&#x606F;&#x7ED9;&#x52A0;&#x8F7D;&#x5230;&#x7F13;&#x51B2;&#x6C60;&#x4E2D;&#xFF0C;&#x4FDD;&#x8BC1;&#x4E8B;&#x52A1;&#x4FE1;&#x606F;&#x4E0D;&#x4F1A;&#x4E22;&#x5931;&#x3002;&#x6216;&#x8005; <code>redo log</code> &#x5237;&#x76D8;&#x4E86;&#xFF0C;<code>binlog</code> &#x5199;&#x6210;&#x529F;&#x4E86;&#xFF0C;&#x5728;&#x91CD;&#x542F;&#x65F6;&#x4F1A;&#x2F83;&#x52A8;&#x7ED9;&#x4E0A; <code>commit</code> &#x6807;&#x8BB0;&#xFF0C;&#x518D;&#x91CD;&#x653E;&#x6570;&#x636E;&#x3002;</p>
<h3 id="&#x95EE;&#x9898;&#xFF1A;&#x4E8B;&#x52A1;&#x662F;&#x5148;&#x63D0;&#x4EA4;&#x8FD8;&#x662F;&#x5148;&#x5237;&#x76D8;&#xFF1F;"><a href="#&#x95EE;&#x9898;&#xFF1A;&#x4E8B;&#x52A1;&#x662F;&#x5148;&#x63D0;&#x4EA4;&#x8FD8;&#x662F;&#x5148;&#x5237;&#x76D8;&#xFF1F;" class="headerlink" title="&#x95EE;&#x9898;&#xFF1A;&#x4E8B;&#x52A1;&#x662F;&#x5148;&#x63D0;&#x4EA4;&#x8FD8;&#x662F;&#x5148;&#x5237;&#x76D8;&#xFF1F;"></a>&#x95EE;&#x9898;&#xFF1A;&#x4E8B;&#x52A1;&#x662F;&#x5148;&#x63D0;&#x4EA4;&#x8FD8;&#x662F;&#x5148;&#x5237;&#x76D8;&#xFF1F;</h3><p>&#x7B54;&#xFF1A;&#x4E8B;&#x52A1;&#x5148;&#x63D0;&#x4EA4;&#x540E;&#x5237;&#x76D8;&#xFF1B;</p>
<ol>
<li><code>Redo log</code> &#x5237;&#x76D8;&#x6210;&#x529F;</li>
<li><code>Binlog</code> &#x5237;&#x76D8;</li>
<li><code>BinLog</code> &#x540D;&#x79F0;&#x548C;&#x2F42;&#x4EF6;&#x8DEF;&#x5F84;&#x4FE1;&#x606F;&#x3001;<code>commit</code> &#x6807;&#x5FD7;&#x5199;&#x5230; <code>Redo log</code> &#x4E2D;&#xFF0C;&#x4E8B;&#x52A1;&#x4E24;&#x9636;&#x6BB5;&#x63D0;&#x4EA4;&#x7684;&#x2F45;&#x5F0F;&#x6765;&#x4FDD;&#x8BC1;&#x3002;</li>
</ol>
<h3 id="&#x95EE;&#x9898;&#xFF1A;&#x66F4;&#x65B0;&#x64CD;&#x4F5C;&#x4E3A;&#x4EC0;&#x4E48;&#x4E0D;&#x76F4;&#x63A5;&#x66F4;&#x65B0;&#x78C1;&#x76D8;&#x53CD;&#x2F7D;&#x8BBE;&#x8BA1;&#x8FD9;&#x6837;&#x2F00;&#x4E2A;&#x590D;&#x6742;&#x7684;-InnoDB-&#x5B58;&#x50A8;&#x5F15;&#x64CE;&#x6765;&#x5B8C;&#x6210;&#xFF1F;"><a href="#&#x95EE;&#x9898;&#xFF1A;&#x66F4;&#x65B0;&#x64CD;&#x4F5C;&#x4E3A;&#x4EC0;&#x4E48;&#x4E0D;&#x76F4;&#x63A5;&#x66F4;&#x65B0;&#x78C1;&#x76D8;&#x53CD;&#x2F7D;&#x8BBE;&#x8BA1;&#x8FD9;&#x6837;&#x2F00;&#x4E2A;&#x590D;&#x6742;&#x7684;-InnoDB-&#x5B58;&#x50A8;&#x5F15;&#x64CE;&#x6765;&#x5B8C;&#x6210;&#xFF1F;" class="headerlink" title="&#x95EE;&#x9898;&#xFF1A;&#x66F4;&#x65B0;&#x64CD;&#x4F5C;&#x4E3A;&#x4EC0;&#x4E48;&#x4E0D;&#x76F4;&#x63A5;&#x66F4;&#x65B0;&#x78C1;&#x76D8;&#x53CD;&#x2F7D;&#x8BBE;&#x8BA1;&#x8FD9;&#x6837;&#x2F00;&#x4E2A;&#x590D;&#x6742;&#x7684; InnoDB &#x5B58;&#x50A8;&#x5F15;&#x64CE;&#x6765;&#x5B8C;&#x6210;&#xFF1F;"></a>&#x95EE;&#x9898;&#xFF1A;&#x66F4;&#x65B0;&#x64CD;&#x4F5C;&#x4E3A;&#x4EC0;&#x4E48;&#x4E0D;&#x76F4;&#x63A5;&#x66F4;&#x65B0;&#x78C1;&#x76D8;&#x53CD;&#x2F7D;&#x8BBE;&#x8BA1;&#x8FD9;&#x6837;&#x2F00;&#x4E2A;&#x590D;&#x6742;&#x7684; <code>InnoDB</code> &#x5B58;&#x50A8;&#x5F15;&#x64CE;&#x6765;&#x5B8C;&#x6210;&#xFF1F;</h3><p>&#x7B54;&#xFF1A;&#x76F4;&#x63A5;&#x66F4;&#x65B0;&#x78C1;&#x76D8;&#x662F;&#x968F;&#x673A;IO&#x5199;&#xFF0C;&#x5B58;&#x5728;&#x78C1;&#x76D8;&#x5730;&#x5740;&#x5BFB;&#x5740;&#x64CD;&#x4F5C;&#xFF0C;&#x6027;&#x80FD;&#x2FAE;&#x5E38;&#x4F4E;&#xFF0C;&#x627F;&#x8F7D;&#x4E0D;&#x4E86;&#x2FBC;&#x5E76;&#x53D1;&#x573A;&#x666F;&#xFF1B;&#x2F7D;&#x8F6C;&#x6362;&#x4E3A; <code>InnoDB</code> &#x4E2D;&#xFF0C;&#x5185;&#x5B58;&#x2FBC;&#x901F;&#x8BFB;&#x5199;&#x3001;<code>redo log</code>&#x548C;<code>undo log</code>&#x987A;&#x5E8F;&#x5199;&#x78C1;&#x76D8;&#x6027;&#x80FD;&#x76F8;&#x5BF9;&#x4E8E;&#x968F;&#x673A;IO&#x5199;&#x6027;&#x80FD;&#x4F1A;&#x2FBC;&#x7684;&#x591A;&#xFF0C;&#x2F7D;&#x8FD9;&#x79CD;&#x6027;&#x80FD;&#x4E0A;&#x7684;&#x63D0;&#x2FBC;&#x2F9C;&#x4EE5;&#x62B5;&#x6D88;&#x8FD9;&#x79CD;&#x67B6;&#x6784;&#x4E0A;&#x5E26;&#x6765;&#x7684;&#x590D;&#x6742;&#xFF0C;&#x53EF;&#x5728;&#x2F00;&#x5B9A;QPS&#x5185;&#x627F;&#x8F7D;&#x2FBC;&#x5E76;&#x53D1;&#x573A;&#x666F;&#x3002;</p>
<h1 id="&#x8D44;&#x6599;&#x53C2;&#x8003;&#xFF1A;"><a href="#&#x8D44;&#x6599;&#x53C2;&#x8003;&#xFF1A;" class="headerlink" title="&#x8D44;&#x6599;&#x53C2;&#x8003;&#xFF1A;"></a>&#x8D44;&#x6599;&#x53C2;&#x8003;&#xFF1A;</h1><p><a href="/external_links/3d40c79511e1e6c9bf66cbb63a7dc543.html" target="blank" rel="noopener">&#x300A;&#x4ECE;&#x96F6;&#x5F00;&#x59CB;&#x5E26;&#x4F60;&#x6210;&#x4E3A;MySQL&#x5B9E;&#x6218;&#x4F18;&#x5316;&#x9AD8;&#x624B;&#x300B;</a>  </p>
<p>&#x300A;MySQL&#x6280;&#x672F;&#x5185;&#x5E55;-InnoBD&#x5B58;&#x50A8;&#x5F15;&#x64CE;&#x300B;</p>
<p><strong>&#x672C;&#x6587;&#x8F6C;&#x8F7D;&#x81EA;:</strong> <a href="/external_links/53b216fc22cb1545afb5f1d54a0d3274.html" target="blank" rel="noopener">&#x6398;&#x91D1;</a></p>
<p><em><a href="https://dev.newban.cn/">&#x5F00;&#x53D1;&#x8005;&#x535A;&#x5BA2; &#x2013; &#x548C;&#x5F00;&#x53D1;&#x76F8;&#x5173;&#x7684; &#x8FD9;&#x91CC;&#x5168;&#x90FD;&#x6709;</a></em></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://dev.newban.cn../../7023219454095917086.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="开发者博客">
      <meta itemprop="description" content>
      <meta itemprop="image" content="../../images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="开发者博客 – IT技术 尽在开发者博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="../../7023219454095917086.html" itemprop="url">Java程序员必须知道的Java11特性</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2021-10-26T11:59:32+08:00">
                2021-10-26
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p><strong>&#x5C0F;&#x77E5;&#x8BC6;&#xFF0C;&#x5927;&#x6311;&#x6218;&#xFF01;&#x672C;&#x6587;&#x6B63;&#x5728;&#x53C2;&#x4E0E;&#x201C;</strong>     <strong><a href="https://dev.newban.cn/7008476801634680869">&#x7A0B;&#x5E8F;&#x5458;&#x5FC5;&#x5907;&#x5C0F;&#x77E5;&#x8BC6;</a></strong>     <strong>&#x201D;&#x521B;&#x4F5C;&#x6D3B;&#x52A8;</strong></p>
<p><strong>&#x672C;&#x6587;&#x540C;&#x65F6;&#x53C2;&#x4E0E;</strong> <strong><a href="https://dev.newban.cn/7012210233804079141">&#x300C;&#x6398;&#x529B;&#x661F;&#x8BA1;&#x5212;&#x300D;</a></strong>     <strong>&#xFF0C;&#x8D62;&#x53D6;&#x521B;&#x4F5C;&#x5927;&#x793C;&#x5305;&#xFF0C;&#x6311;&#x6218;&#x521B;&#x4F5C;&#x6FC0;&#x52B1;&#x91D1;</strong></p>
<p>Java 11&#x662F;&#x81EA;Java 8&#x4EE5;&#x6765;&#x7684;&#x53C8;&#x4E00;&#x4E2A;LTS&#x7248;&#x672C;&#xFF0C;&#x662F;&#x76EE;&#x524D;&#x5168;&#x7403;&#x4F7F;&#x7528;&#x6700;&#x591A;&#x7684;LTS&#x7248;&#x672C;&#x4E4B;&#x4E00;&#x3002;&#x4ECA;&#x5929;&#x6211;&#x4EEC;&#x63A5;&#x7740;&#x5728;<strong>Java 9 &#x5230; Java 17</strong>&#x7CFB;&#x5217;&#x6587;&#x7AE0;&#x4E2D;&#x6765;&#x8BA4;&#x8BC6;&#x9488;&#x5BF9;&#x666E;&#x901A;&#x5F00;&#x53D1;&#x8005;&#x7684;Java 11&#x3002;</p>
<h2 id="&#x5B57;&#x7B26;&#x4E32;API&#x589E;&#x5F3A;"><a href="#&#x5B57;&#x7B26;&#x4E32;API&#x589E;&#x5F3A;" class="headerlink" title="&#x5B57;&#x7B26;&#x4E32;API&#x589E;&#x5F3A;"></a>&#x5B57;&#x7B26;&#x4E32;API&#x589E;&#x5F3A;</h2><p>&#x5728;Java 11&#x4E2D;&#xFF0C;&#x9488;&#x5BF9;<code>String</code>&#x7684;&#x64CD;&#x4F5C;&#x8FDB;&#x4E00;&#x6B65;&#x5F97;&#x5230;&#x52A0;&#x5F3A;&#x3002;&#x907F;&#x514D;&#x6211;&#x4EEC;&#x5728;&#x5F88;&#x5E38;&#x89C1;&#x7684;&#x573A;&#x666F;&#x4E2D;&#x5F15;&#x5165;&#x989D;&#x5916;&#x7684;&#x3001;&#x590D;&#x6742;&#x7684;API&#x3002;</p>
<h3 id="isBlank"><a href="#isBlank" class="headerlink" title="isBlank()"></a>isBlank()</h3><p>&#x7528;&#x6765;&#x5224;&#x65AD;&#x5B57;&#x7B26;&#x4E32;&#x662F;&#x4E0D;&#x662F;&#x7A7A;&#x5B57;&#x7B26;<code>&quot;&quot;</code>&#x6216;&#x8005;<code>trim()</code>&#x4E4B;&#x540E;(<code>&quot; &quot;</code>)&#x4E3A;&#x7A7A;&#x5B57;&#x7B26;:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">java&#x590D;&#x5236;&#x4EE3;&#x7801;&#xA0;String blankStr = &quot; &#xA0;  &quot;;</span><br><span class="line">&#xA0;// true</span><br><span class="line">&#xA0;boolean trueVal = blankStr.isBlank();</span><br></pre></td></tr></table></figure>

<h3 id="lines"><a href="#lines" class="headerlink" title="lines()"></a>lines()</h3><p>&#x5C06;&#x4E00;&#x4E2A;&#x5B57;&#x7B26;&#x4E32;&#x6309;&#x7167;&#x884C;&#x7EC8;&#x6B62;&#x7B26;&#xFF08;&#x6362;&#x884C;&#x7B26;<code>\n</code>&#x6216;&#x8005;&#x56DE;&#x8F66;&#x7B26;<code>\r</code>&#xFF09;&#x8FDB;&#x884C;&#x5206;&#x5272;&#xFF0C;&#x5E76;&#x5C06;&#x5206;&#x5272;&#x4E3A;<code>Stream</code>&#x6D41;:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">java&#x590D;&#x5236;&#x4EE3;&#x7801;&#xA0; &#xA0; &#xA0; &#xA0; &#xA0;String newStr = &quot;Hello Java 11 \n felord.cn \r 2021-09-28&quot;;</span><br><span class="line">&#xA0;&#x200B;</span><br><span class="line">&#xA0; &#xA0; &#xA0; &#xA0; &#xA0;Stream&lt;String&gt; lines = newStr.lines();</span><br><span class="line">&#xA0; &#xA0; &#xA0; &#xA0; &#xA0;lines.forEach(System.out::println);</span><br><span class="line">&#xA0;// &#xA0; &#xA0; &#xA0;  Hello Java 11</span><br><span class="line">&#xA0;// &#xA0; &#xA0; &#xA0;  felord.cn</span><br><span class="line">&#xA0;// &#xA0; &#xA0; &#xA0;  2021-09-28</span><br></pre></td></tr></table></figure>

<h3 id="strip"><a href="#strip" class="headerlink" title="strip()"></a>strip()</h3><p>&#x53BB;&#x9664;&#x5B57;&#x7B26;&#x4E32;&#x524D;&#x540E;&#x7684;&#x201C;&#x5168;&#x89D2;&#x548C;&#x534A;&#x89D2;&#x201D;&#x7A7A;&#x767D;&#x5B57;&#x7B26;:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">java&#x590D;&#x5236;&#x4EE3;&#x7801;&#xA0;String str = &quot;HELLO\u3000&quot;;</span><br><span class="line">&#xA0;// str = 6</span><br><span class="line">&#xA0;System.out.println(&quot;str = &quot; + str.length());</span><br><span class="line">&#xA0;// trim = 6</span><br><span class="line">&#xA0;System.out.println(&quot;trim = &quot; + str.trim().length());</span><br><span class="line">&#xA0;// strip = 5</span><br><span class="line">&#xA0;System.out.println(&quot;strip = &quot; + str.strip().length());</span><br></pre></td></tr></table></figure>

<p>&#x8FD9;&#x4E0D;&#x7531;&#x5F97;&#x60F3;&#x8D77;&#x6765;<code>trim()</code>&#x65B9;&#x6CD5;&#xFF0C;&#x4ECE;&#x4E0A;&#x9762;&#x4E5F;&#x770B;&#x51FA;&#x6765;&#x4E86;&#x5DEE;&#x522B;&#xFF0C;<code>trim()</code>&#x53EA;&#x80FD;&#x53BB;&#x9664;<code>&#x534A;&#x89D2;</code>&#x7A7A;&#x767D;&#x7B26;&#x3002;</p>
<blockquote>
<p><code>strip()</code>&#x65B9;&#x6CD5;&#x8FD8;&#x6709;&#x4E24;&#x4E2A;&#x53D8;&#x79CD;&#xFF0C;<code>stripLeading()</code>&#x7528;&#x6765;&#x53BB;&#x9664;&#x524D;&#x9762;&#x7684;&#x5168;&#x89D2;&#x534A;&#x89D2;&#x7A7A;&#x767D;&#x7B26;&#xFF1B;<code>stripTrailing()</code>&#x7528;&#x6765;&#x53BB;&#x9664;&#x5C3E;&#x90E8;&#x7684;&#x5168;&#x89D2;&#x534A;&#x89D2;&#x7A7A;&#x767D;&#x7B26;&#x3002;</p>
</blockquote>
<h3 id="repeat-n"><a href="#repeat-n" class="headerlink" title="repeat(n)"></a>repeat(n)</h3><p>&#x6309;&#x7167;&#x7ED9;&#x5B9A;&#x7684;&#x6B21;&#x6570;&#x91CD;&#x590D;&#x4E32;&#x8054;&#x5B57;&#x7B26;&#x4E32;&#x7684;&#x5185;&#x5BB9;&#xFF1A;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">java&#x590D;&#x5236;&#x4EE3;&#x7801;&#xA0;String str = &quot;HELLO&quot;;</span><br><span class="line">&#xA0;// &#x7A7A;&#x5B57;&#x7B26;</span><br><span class="line">&#xA0;String empty = str.repeat(0);</span><br><span class="line">&#xA0;// HELLO</span><br><span class="line">&#xA0;String repeatOne = str.repeat(1);</span><br><span class="line">&#xA0;// HELLOHELLO</span><br><span class="line">&#xA0;String repeatTwo = str.repeat(2);</span><br></pre></td></tr></table></figure>

<h2 id="&#x96C6;&#x5408;&#x8F6C;&#x5BF9;&#x5E94;&#x7C7B;&#x578B;&#x7684;&#x6570;&#x7EC4;"><a href="#&#x96C6;&#x5408;&#x8F6C;&#x5BF9;&#x5E94;&#x7C7B;&#x578B;&#x7684;&#x6570;&#x7EC4;" class="headerlink" title="&#x96C6;&#x5408;&#x8F6C;&#x5BF9;&#x5E94;&#x7C7B;&#x578B;&#x7684;&#x6570;&#x7EC4;"></a>&#x96C6;&#x5408;&#x8F6C;&#x5BF9;&#x5E94;&#x7C7B;&#x578B;&#x7684;&#x6570;&#x7EC4;</h2><p>&#x4E4B;&#x524D;&#x60F3;&#x96C6;&#x5408;&#x8F6C;&#x5BF9;&#x5E94;&#x7684;&#x6570;&#x7EC4;&#x5F88;&#x9EBB;&#x70E6;&#xFF0C;&#x8981;&#x4E48;&#x7528;&#x8FED;&#x4EE3;&#xFF1B;&#x8981;&#x4E48;&#x7528;<code>Stream</code>&#x6D41;&#xFF0C;&#x73B0;&#x5728;&#x4F60;&#x53EF;&#x4EE5;&#x8FD9;&#x6837;&#xFF1A;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">java&#x590D;&#x5236;&#x4EE3;&#x7801;&#xA0; &#xA0; &#xA0; &#xA0; &#xA0;List&lt;String&gt; sampleList = Arrays.asList(&quot;felord.cn&quot;, &quot;java 11&quot;);</span><br><span class="line">&#xA0; &#xA0; &#xA0; &#xA0; &#xA0;// array = {&quot;felord.cn&quot;, &quot;java 11&quot;};</span><br><span class="line">&#xA0; &#xA0; &#xA0; &#xA0; &#xA0;String[] array = sampleList.toArray(String[]::new);</span><br></pre></td></tr></table></figure>

<h2 id="&#x65AD;&#x8A00;&#x53D6;&#x53CD;"><a href="#&#x65AD;&#x8A00;&#x53D6;&#x53CD;" class="headerlink" title="&#x65AD;&#x8A00;&#x53D6;&#x53CD;"></a>&#x65AD;&#x8A00;&#x53D6;&#x53CD;</h2><p><code>java.util.function.Predicate&lt;T&gt;</code>&#x662F;&#x6211;&#x4EEC;&#x5F88;&#x5E38;&#x7528;&#x7684;&#x65AD;&#x8A00;&#x8C13;&#x8BCD;&#x51FD;&#x6570;&#x3002;&#x5728;&#x4EE5;&#x524D;&#x53D6;&#x53CD;&#x6211;&#x4EEC;&#x5F97;&#x501F;&#x52A9;&#x4E8E;<code>!</code>&#x7B26;&#x53F7;&#xFF0C;&#x5230;&#x4E86;Java 11&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x501F;&#x52A9;&#x4E8E;&#x5176;&#x9759;&#x6001;&#x65B9;&#x6CD5;<code>not</code>&#x6765;&#x5B9E;&#x73B0;&#xFF0C;&#x8FD9;&#x6837;&#x8BED;&#x4E49;&#x5C31;&#x66F4;&#x52A0;&#x6E05;&#x6670;&#x4E86;&#xFF1A;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">java&#x590D;&#x5236;&#x4EE3;&#x7801;&#xA0; &#xA0; &#xA0; &#xA0; &#xA0;List&lt;String&gt; sampleList = Arrays.asList(&quot;felord.cn&quot;, &quot;java 11&quot;,&quot;jack&quot;);</span><br><span class="line">&#xA0; &#xA0; &#xA0; &#xA0; &#xA0;// [jack]</span><br><span class="line">&#xA0; &#xA0; &#xA0; &#xA0; &#xA0;List&lt;String&gt; result = sampleList.stream()</span><br><span class="line">&#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0;// &#x8FC7;&#x6EE4;&#x4EE5;j&#x5F00;&#x5934;&#x7684;&#x5B57;&#x7B26;&#x4E32;</span><br><span class="line">&#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0;  .filter(s -&gt; s.startsWith(&quot;j&quot;))</span><br><span class="line">&#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0;// &#x540C;&#x65F6;&#x4E0D;&#x5305;&#x542B;11&#x7684;&#x5B57;&#x7B26;&#x4E32;</span><br><span class="line">&#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0;  .filter(Predicate.not(s -&gt; s.contains(&quot;11&quot;)))</span><br><span class="line">&#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0;  .collect(Collectors.toList());</span><br></pre></td></tr></table></figure>

<p>&#x5176;&#x5B9E;<code>Predicate&lt;T&gt;</code>&#x5728;&#x6700;&#x521D;&#x7248;&#x672C;&#x8FD8;&#x63D0;&#x4F9B;&#x4E86;&#x4E00;&#x4E2A;&#x53D6;&#x53CD;&#x7684;&#x9ED8;&#x8BA4;&#x65B9;&#x6CD5;&#xFF1A;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">scss&#x590D;&#x5236;&#x4EE3;&#x7801;&#xA0; &#xA0;default Predicate&lt;T&gt; negate() {</span><br><span class="line">&#xA0; &#xA0; &#xA0; &#xA0; &#xA0;return (t) -&gt; !test(t);</span><br><span class="line">&#xA0; &#xA0;  }</span><br></pre></td></tr></table></figure>

<p>&#x8FD9;&#x4E2A;&#x6211;&#x5728;&#x5F80;&#x671F;&#x6587;&#x7AE0;&#x4E2D;&#x4E5F;&#x4F7F;&#x7528;&#x8FC7;&#x5B83;&#x6765;&#x505A;&#x7EC4;&#x5408;&#x6821;&#x9A8C;&#xFF0C;&#x8FD9;&#x4E24;&#x4E2A;&#x65B9;&#x6CD5;&#x7684;&#x573A;&#x666F;&#x662F;&#x4E0D;&#x4E00;&#x6837;&#x7684;&#x3002;</p>
<h2 id="var&#x53EF;&#x4EE5;&#x7528;&#x4E8E;&#x4FEE;&#x9970;Lambda&#x5C40;&#x90E8;&#x53D8;&#x91CF;"><a href="#var&#x53EF;&#x4EE5;&#x7528;&#x4E8E;&#x4FEE;&#x9970;Lambda&#x5C40;&#x90E8;&#x53D8;&#x91CF;" class="headerlink" title="var&#x53EF;&#x4EE5;&#x7528;&#x4E8E;&#x4FEE;&#x9970;Lambda&#x5C40;&#x90E8;&#x53D8;&#x91CF;"></a>var&#x53EF;&#x4EE5;&#x7528;&#x4E8E;&#x4FEE;&#x9970;Lambda&#x5C40;&#x90E8;&#x53D8;&#x91CF;</h2><p>&#x5728;Java 10&#x4E2D;&#x5F15;&#x5165;&#x7684;<code>var</code>&#x6765;&#x8FDB;&#x884C;&#x7C7B;&#x578B;&#x63A8;&#x65AD;&#x3002;&#x5728;Java 10&#x4E2D;&#x5B83;&#x4E0D;&#x80FD;&#x7528;&#x4E8E;&#x4FEE;&#x9970;Lambda&#x8868;&#x8FBE;&#x5F0F;&#x7684;&#x5165;&#x53C2;&#xFF0C;&#x5176;&#x5B9E;&#x5BF9;&#x4E8E;&#x4E00;&#x4E2A;Lambda&#x8868;&#x8FBE;&#x5F0F;&#x6765;&#x8BF4;&#x5B83;&#x5165;&#x53C2;&#x7684;&#x7C7B;&#x578B;&#x5176;&#x5B9E;&#x662F;&#x53EF;&#x4EE5;&#x6839;&#x636E;&#x4E0A;&#x4E0B;&#x6587;&#x63A8;&#x65AD;&#x51FA;&#x6765;&#x7684;&#x3002;&#x62FF;&#x4E0A;&#x9762;&#x7684;&#x4F8B;&#x5B50;&#x6765;&#x8BF4;&#xFF0C;<code>s -&gt; s.startsWith(&quot;j&quot;)</code>&#x4E2D;&#x7684;<code>s</code>&#x80AF;&#x5B9A;&#x662F;&#x5B57;&#x7B26;&#x4E32;&#x7C7B;&#x578B;&#xFF0C;&#x56E0;&#x6B64;&#x5728;Java 11&#x4E2D;<code>var</code>&#x53EF;&#x4EE5;&#x7528;&#x4E8E;&#x4FEE;&#x9970;Lambda&#x5C40;&#x90E8;&#x53D8;&#x91CF;:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">java&#x590D;&#x5236;&#x4EE3;&#x7801;&#xA0; &#xA0; &#xA0; &#xA0; &#xA0;List&lt;String&gt; result = sampleList.stream()</span><br><span class="line">&#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0;// &#x8FC7;&#x6EE4;&#x4EE5;j&#x5F00;&#x5934;&#x7684;&#x5B57;&#x7B26;&#x4E32;</span><br><span class="line">&#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0;  .filter((@NotNull var s) -&gt; s.startsWith(&quot;j&quot;))</span><br><span class="line">&#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0;// &#x540C;&#x65F6;&#x4E0D;&#x5305;&#x542B;11&#x7684;&#x5B57;&#x7B26;&#x4E32;</span><br><span class="line">&#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0;  .filter(Predicate.not((@NotNull var s) -&gt; s.contains(&quot;11&quot;)))</span><br><span class="line">&#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0;  .collect(Collectors.toList());</span><br></pre></td></tr></table></figure>

<blockquote>
<p>&#x5982;&#x679C;&#x6211;&#x4EEC;&#x4E0D;&#x58F0;&#x660E;<code>var</code>&#x5C31;&#x6CA1;&#x6709;&#x529E;&#x6CD5;&#x4E3A;&#x8F93;&#x5165;&#x53C2;&#x6570;&#x6DFB;&#x52A0;<code>@NotNull</code>&#x6CE8;&#x89E3;&#x3002;</p>
</blockquote>
<h2 id="&#x6587;&#x4EF6;&#x4E2D;&#x8BFB;&#x5199;&#x5B57;&#x7B26;&#x4E32;&#x5185;&#x5BB9;&#x66F4;&#x65B9;&#x4FBF;"><a href="#&#x6587;&#x4EF6;&#x4E2D;&#x8BFB;&#x5199;&#x5B57;&#x7B26;&#x4E32;&#x5185;&#x5BB9;&#x66F4;&#x65B9;&#x4FBF;" class="headerlink" title="&#x6587;&#x4EF6;&#x4E2D;&#x8BFB;&#x5199;&#x5B57;&#x7B26;&#x4E32;&#x5185;&#x5BB9;&#x66F4;&#x65B9;&#x4FBF;"></a>&#x6587;&#x4EF6;&#x4E2D;&#x8BFB;&#x5199;&#x5B57;&#x7B26;&#x4E32;&#x5185;&#x5BB9;&#x66F4;&#x65B9;&#x4FBF;</h2><p>Java 11&#x4E2D;&#x53EF;&#x4EE5;&#x66F4;&#x8F7B;&#x677E;&#x5730;&#x4ECE;&#x6587;&#x4EF6;&#x4E2D;&#x8BFB;&#x53D6;&#x548C;&#x5199;&#x5165;&#x5B57;&#x7B26;&#x4E32;&#x5185;&#x5BB9;&#x4E86;&#xFF0C;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;<code>Files</code>&#x5DE5;&#x5177;&#x7C7B;&#x63D0;&#x4F9B;&#x7684;&#x65B0;&#x7684;&#x9759;&#x6001;&#x65B9;&#x6CD5;<code>readString</code>&#x548C;<code>writeString</code>&#x5206;&#x522B;&#x8FDB;&#x884C;&#x8BFB;&#x5199;&#x6587;&#x4EF6;&#x7684;&#x5B57;&#x7B26;&#x4E32;&#x5185;&#x5BB9;&#xFF0C;&#x653E;&#x5728;&#x4E4B;&#x524D;&#x8001;&#x9EBB;&#x70E6;&#x4E86;&#xFF0C;&#x7279;&#x522B;&#x662F;&#x5BF9;IO&#x6D41;&#x4E0D;&#x719F;&#x6089;&#x7684;&#x540C;&#x5B66;&#x6765;&#x8BF4;&#x3002;&#x73B0;&#x5728;&#x7B80;&#x5355;&#x51E0;&#x884C;&#x5C31;&#x641E;&#x5B9A;&#x4E86;&#xFF1A;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">java&#x590D;&#x5236;&#x4EE3;&#x7801;String dir= &quot;C://yourDir&quot;;</span><br><span class="line">// &#x5199;&#x5165;&#x6587;&#x4EF6;</span><br><span class="line">Path path = Files.writeString(Files.createTempFile(dir, &quot;hello&quot;, &quot;.txt&quot;), &quot;hello java 11&quot;);</span><br><span class="line">// &#x8BFB;&#x53D6;&#x6587;&#x4EF6;</span><br><span class="line">String fileContent = Files.readString(path);</span><br></pre></td></tr></table></figure>

<h2 id="&#x5D4C;&#x5957;&#x7C7B;&#x7684;&#x8BBF;&#x95EE;&#x63A7;&#x5236;&#x89C4;&#x5219;"><a href="#&#x5D4C;&#x5957;&#x7C7B;&#x7684;&#x8BBF;&#x95EE;&#x63A7;&#x5236;&#x89C4;&#x5219;" class="headerlink" title="&#x5D4C;&#x5957;&#x7C7B;&#x7684;&#x8BBF;&#x95EE;&#x63A7;&#x5236;&#x89C4;&#x5219;"></a>&#x5D4C;&#x5957;&#x7C7B;&#x7684;&#x8BBF;&#x95EE;&#x63A7;&#x5236;&#x89C4;&#x5219;</h2><p>&#x5728;Java 11&#x4E4B;&#x524D;&#xFF0C;&#x5185;&#x90E8;&#x5D4C;&#x5957;&#x7C7B;&#x8BBF;&#x95EE;&#x5916;&#x90E8;&#x7C7B;&#x7684;&#x79C1;&#x6709;&#x5C5E;&#x6027;&#x548C;&#x65B9;&#x6CD5;&#x662F;&#x53EF;&#x884C;&#x7684;&#xFF1A;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">java&#x590D;&#x5236;&#x4EE3;&#x7801;public class Outer {</span><br><span class="line">    private int outerInt;</span><br><span class="line"></span><br><span class="line">     class Inner {</span><br><span class="line">       public void printOuterField() {</span><br><span class="line">         System.out.println(&quot;Outer field = &quot; + outerInt);</span><br><span class="line">       }</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></table></figure>

<p>&#x4F46;&#x662F;&#x5982;&#x679C;&#x4F60;&#x901A;&#x8FC7;&#x53CD;&#x5C04;API&#x5B9E;&#x73B0;&#x5185;&#x90E8;&#x7C7B;&#x8BBF;&#x95EE;&#x5916;&#x90E8;&#x7C7B;&#x7684;&#x79C1;&#x6709;&#x5C5E;&#x6027;&#x548C;&#x65B9;&#x6CD5;&#x5C31;&#x4F1A;&#x629B;&#x51FA;<code>IllegalStateException</code>&#x5F02;&#x5E38;&#x3002;Java 11 &#x4FEE;&#x590D;&#x4E86;&#x53CD;&#x5C04;&#x4E0D;&#x80FD;&#x8BBF;&#x95EE;&#x7684;&#x95EE;&#x9898;.</p>
<blockquote>
<p><strong>JVM &#x8BBF;&#x95EE;&#x89C4;&#x5219;&#x4E0D;&#x5141;&#x8BB8;&#x5D4C;&#x5957;&#x7C7B;&#x4E4B;&#x95F4;&#x8FDB;&#x884C;&#x79C1;&#x6709;&#x8BBF;&#x95EE;</strong>&#x3002;&#x6211;&#x4EEC;&#x80FD;&#x901A;&#x8FC7;&#x5E38;&#x89C4;&#x65B9;&#x5F0F;&#x53EF;&#x4EE5;&#x8BBF;&#x95EE;&#x662F;&#x56E0;&#x4E3A; JVM &#x5728;&#x7F16;&#x8BD1;&#x65F6;&#x4E3A;&#x6211;&#x4EEC;&#x9690;&#x5F0F;&#x5730;&#x521B;&#x5EFA;&#x4E86;<strong>&#x6865;&#x63A5;&#x65B9;&#x6CD5;</strong>&#x3002;Java 11 &#x4E2D;&#x5F15;&#x5165;&#x4E86;&#x4E24;&#x4E2A;&#x65B0;&#x7684;&#x5C5E;&#x6027;&#xFF1A;&#x4E00;&#x4E2A;&#x53EB;&#x505A; <code>NestMembers</code> &#x7684;&#x5C5E;&#x6027;&#xFF0C;&#x7528;&#x4E8E;&#x6807;&#x8BC6;&#x5176;&#x5B83;&#x5DF2;&#x77E5;&#x7684;&#x9759;&#x6001; nest &#x6210;&#x5458;&#xFF1B;&#x53E6;&#x5916;&#x4E00;&#x4E2A;&#x662F;&#x6BCF;&#x4E2A; nest &#x6210;&#x5458;&#x90FD;&#x5305;&#x542B;&#x7684; <code>NestHost</code> &#x5C5E;&#x6027;&#xFF0C;&#x7528;&#x4E8E;&#x6807;&#x8BC6;&#x51FA;&#x5B83;&#x7684; nest &#x5BBF;&#x4E3B;&#x7C7B;&#x3002;&#x5728;&#x7F16;&#x8BD1;&#x671F;&#x5C31;&#x6620;&#x5C04;&#x4E86;&#x53CC;&#x65B9;&#x7684;&#x5BC4;&#x5BBF;&#x5173;&#x7CFB;&#xFF0C;&#x4E0D;&#x518D;&#x9700;&#x8981;&#x6865;&#x63A5;&#x4E86;&#x3002;</p>
</blockquote>
<h2 id="HttpClient&#x652F;&#x6301;HTTP2"><a href="#HttpClient&#x652F;&#x6301;HTTP2" class="headerlink" title="HttpClient&#x652F;&#x6301;HTTP2"></a>HttpClient&#x652F;&#x6301;HTTP2</h2><p><code>HttpClient</code>&#x5230;&#x4E86;Java 11&#x540E;&#x5F00;&#x59CB;&#x652F;&#x6301;HTTP2&#xFF0C;&#x5E95;&#x5C42;&#x8FDB;&#x884C;&#x4E86;&#x5927;&#x5E45;&#x5EA6;&#x7684;&#x4F18;&#x5316;&#xFF0C;&#x5E76;&#x4E14;&#x73B0;&#x5728;&#x5B8C;&#x5168;&#x652F;&#x6301;&#x5F02;&#x6B65;&#x975E;&#x963B;&#x585E;&#x3002;</p>
<blockquote>
<p><code>HttpClient</code> &#x7684;&#x5305;&#x540D;&#x7531; <code>jdk.incubator.http</code> &#x6539;&#x4E3A; <code>java.net.http</code>&#x3002;</p>
</blockquote>
<h2 id="&#x5176;&#x5B83;"><a href="#&#x5176;&#x5B83;" class="headerlink" title="&#x5176;&#x5B83;"></a>&#x5176;&#x5B83;</h2><p>Java 11 &#x4E2D;&#xFF0C;&#x8FD8;&#x6709;&#x4E00;&#x4E9B;&#x5176;&#x5B83;&#x65B9;&#x9762;&#x7684;&#x7279;&#x6027;&#x548C;&#x4F18;&#x5316;&#xFF0C;&#x6BD4;&#x5982;&#x5F15;&#x5165;&#x4E86;ZGC&#xFF0C;&#x652F;&#x6301;&#x652F;&#x6301; TLS 1.3 &#x534F;&#x8BAE;&#xFF0C;&#x5F15;&#x5165;&#x4E86;&#x52A8;&#x6001;&#x8C03;&#x7528;&#xFF08;invokedynamic&#xFF09;&#x673A;&#x5236;&#xFF0C;&#x53E6;&#x5916;&#x539F;&#x6765;&#x5546;&#x4E1A;&#x7248;&#x7684;JFR&#x4E5F;&#x8FDB;&#x884C;&#x4E86;&#x5F00;&#x6E90;&#x96C6;&#x6210;&#x7B49;&#x7B49;&#x3002;&#x5728;&#x5E74;&#x521D;&#x7684;Java&#x751F;&#x6001;&#x8C03;&#x67E5;&#x6570;&#x636E;&#x663E;&#x793A;Java 11&#x7684;&#x7528;&#x6237;&#x6570;&#x91CF;&#x5927;&#x5E45;&#x589E;&#x957F;&#xFF0C;&#x6210;&#x4E3A;&#x4E86;&#x4E3B;&#x6D41;&#x7248;&#x672C;&#x9009;&#x62E9;&#x4E4B;&#x4E00;&#x3002;</p>
<blockquote>
<p>&#x4E0B;&#x65B9;&#x7559;&#x8A00;&#xFF0C;&#x6398;&#x91D1;&#x5B98;&#x65B9;&#x9001;&#x5468;&#x8FB9;&#x5566; <del>&#x535A;&#x6587;&#x4E2D;&#x54EA;&#x91CC;&#x5199;&#x7684;&#x4E0D;&#x597D;&#x7684;&#x6B22;&#x8FCE;&#x8BC4;&#x8BBA;&#x533A;&#x6307;&#x51FA;</del> &#x6398;&#x91D1;&#x5B98;&#x65B9;&#x62BD;&#x9001;100&#x4E2A;&#x5468;&#x8FB9;&#x5566;</p>
</blockquote>
<p><strong>&#x672C;&#x6587;&#x8F6C;&#x8F7D;&#x81EA;:</strong> <a href="/external_links/08a07512e0dd874e6b394ab43fb8b8b8.html" target="blank" rel="noopener">&#x6398;&#x91D1;</a></p>
<p><em><a href="https://dev.newban.cn/">&#x5F00;&#x53D1;&#x8005;&#x535A;&#x5BA2; &#x2013; &#x548C;&#x5F00;&#x53D1;&#x76F8;&#x5173;&#x7684; &#x8FD9;&#x91CC;&#x5168;&#x90FD;&#x6709;</a></em></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
  </section>

  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="../230/"><i class="fa fa-angle-left"></i></a><a class="page-number" href="../../">1</a><span class="space">&hellip;</span><a class="page-number" href="../230/">230</a><span class="page-number current">231</span><a class="page-number" href="../232/">232</a><span class="space">&hellip;</span><a class="page-number" href="../399/">399</a><a class="extend next" rel="next" href="../232/"><i class="fa fa-angle-right"></i></a>
  </nav>



          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      

      <section class="site-overview-wrap sidebar-panel sidebar-panel-active">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <p class="site-author-name" itemprop="name">开发者博客</p>
              <p class="site-description motion-element" itemprop="description"></p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="https://dev.newban.cn/archives/">
              
                  <span class="site-state-item-count">3990</span>
                  <span class="site-state-item-name">日志</span>
                </a>
              </div>
            

            

            
              
              
              <div class="site-state-item site-state-tags">
                
                  <span class="site-state-item-count">1304</span>
                  <span class="site-state-item-name">标签</span>
                
              </div>
            

          </nav>

          
            <div class="feed-link motion-element">
              <a href="../../atom.xml" rel="alternate">
                <i class="fa fa-rss"></i>
                RSS
              </a>
            </div>
          

          

          
          

          
          

          

        </div>
      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2024</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">开发者博客</span>
  <div>
  <script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
  <span id="busuanzi_container_site_pv">本站总访问量<span id="busuanzi_value_site_pv"></span>次</span>
  </div>
  
</div>


  <div class="powered-by">由 <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a> 强力驱动</div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">主题 &mdash; <a class="theme-link" target="_blank" href="https://github.com/iissnan/hexo-theme-next">NexT.Muse</a> v5.1.4</div>




  <script type="text/javascript" async src="js/src/mermaid.min.js"></script>
  <script>
  if (window.mermaid) {
        var mermaid_config = {
            startOnLoad: true,
            theme: 'default',
            flowchart:{
                useMaxWidth: false,
                htmlLabels: true
            }                
        }
        mermaid.initialize(mermaid_config);
  }
  </script>
  

        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
          <span id="scrollpercent"><span>0</span>%</span>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  
    <script type="text/javascript" src="../../lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="../../lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="../../lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="../../lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="../../lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="../../lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  


  


  <script type="text/javascript" src="../../js/src/utils.js?v=5.1.4"></script>

  <script type="text/javascript" src="../../js/src/motion.js?v=5.1.4"></script>



  
  

  

  


  <script type="text/javascript" src="../../js/src/bootstrap.js?v=5.1.4"></script>



  


  




	





  





  












  

  <script type="text/javascript">
    // Popup Window;
    var isfetched = false;
    var isXml = true;
    // Search DB path;
    var search_path = "search.xml";
    if (search_path.length === 0) {
      search_path = "search.xml";
    } else if (/json$/i.test(search_path)) {
      isXml = false;
    }
    var path = "/" + search_path;
    // monitor main search box;

    var onPopupClose = function (e) {
      $('.popup').hide();
      $('#local-search-input').val('');
      $('.search-result-list').remove();
      $('#no-result').remove();
      $(".local-search-pop-overlay").remove();
      $('body').css('overflow', '');
    }

    function proceedsearch() {
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay"></div>')
        .css('overflow', 'hidden');
      $('.search-popup-overlay').click(onPopupClose);
      $('.popup').toggle();
      var $localSearchInput = $('#local-search-input');
      $localSearchInput.attr("autocapitalize", "none");
      $localSearchInput.attr("autocorrect", "off");
      $localSearchInput.focus();
    }

    // search function;
    var searchFunc = function(path, search_id, content_id) {
      'use strict';

      // start loading animation
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay">' +
          '<div id="search-loading-icon">' +
          '<i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>' +
          '</div>' +
          '</div>')
        .css('overflow', 'hidden');
      $("#search-loading-icon").css('margin', '20% auto 0 auto').css('text-align', 'center');

      $.ajax({
        url: path,
        dataType: isXml ? "xml" : "json",
        async: true,
        success: function(res) {
          // get the contents from search data
          isfetched = true;
          $('.popup').detach().appendTo('.header-inner');
          var datas = isXml ? $("entry", res).map(function() {
            return {
              title: $("title", this).text(),
              content: $("content",this).text(),
              url: $("url" , this).text()
            };
          }).get() : res;
          var input = document.getElementById(search_id);
          var resultContent = document.getElementById(content_id);
          var inputEventFunction = function() {
            var searchText = input.value.trim().toLowerCase();
            var keywords = searchText.split(/[\s\-]+/);
            if (keywords.length > 1) {
              keywords.push(searchText);
            }
            var resultItems = [];
            if (searchText.length > 0) {
              // perform local searching
              datas.forEach(function(data) {
                var isMatch = false;
                var hitCount = 0;
                var searchTextCount = 0;
                var title = data.title.trim();
                var titleInLowerCase = title.toLowerCase();
                var content = data.content.trim().replace(/<[^>]+>/g,"");
                var contentInLowerCase = content.toLowerCase();
                var articleUrl = decodeURIComponent(data.url);
                var indexOfTitle = [];
                var indexOfContent = [];
                // only match articles with not empty titles
                if(title != '') {
                  keywords.forEach(function(keyword) {
                    function getIndexByWord(word, text, caseSensitive) {
                      var wordLen = word.length;
                      if (wordLen === 0) {
                        return [];
                      }
                      var startPosition = 0, position = [], index = [];
                      if (!caseSensitive) {
                        text = text.toLowerCase();
                        word = word.toLowerCase();
                      }
                      while ((position = text.indexOf(word, startPosition)) > -1) {
                        index.push({position: position, word: word});
                        startPosition = position + wordLen;
                      }
                      return index;
                    }

                    indexOfTitle = indexOfTitle.concat(getIndexByWord(keyword, titleInLowerCase, false));
                    indexOfContent = indexOfContent.concat(getIndexByWord(keyword, contentInLowerCase, false));
                  });
                  if (indexOfTitle.length > 0 || indexOfContent.length > 0) {
                    isMatch = true;
                    hitCount = indexOfTitle.length + indexOfContent.length;
                  }
                }

                // show search results

                if (isMatch) {
                  // sort index by position of keyword

                  [indexOfTitle, indexOfContent].forEach(function (index) {
                    index.sort(function (itemLeft, itemRight) {
                      if (itemRight.position !== itemLeft.position) {
                        return itemRight.position - itemLeft.position;
                      } else {
                        return itemLeft.word.length - itemRight.word.length;
                      }
                    });
                  });

                  // merge hits into slices

                  function mergeIntoSlice(text, start, end, index) {
                    var item = index[index.length - 1];
                    var position = item.position;
                    var word = item.word;
                    var hits = [];
                    var searchTextCountInSlice = 0;
                    while (position + word.length <= end && index.length != 0) {
                      if (word === searchText) {
                        searchTextCountInSlice++;
                      }
                      hits.push({position: position, length: word.length});
                      var wordEnd = position + word.length;

                      // move to next position of hit

                      index.pop();
                      while (index.length != 0) {
                        item = index[index.length - 1];
                        position = item.position;
                        word = item.word;
                        if (wordEnd > position) {
                          index.pop();
                        } else {
                          break;
                        }
                      }
                    }
                    searchTextCount += searchTextCountInSlice;
                    return {
                      hits: hits,
                      start: start,
                      end: end,
                      searchTextCount: searchTextCountInSlice
                    };
                  }

                  var slicesOfTitle = [];
                  if (indexOfTitle.length != 0) {
                    slicesOfTitle.push(mergeIntoSlice(title, 0, title.length, indexOfTitle));
                  }

                  var slicesOfContent = [];
                  while (indexOfContent.length != 0) {
                    var item = indexOfContent[indexOfContent.length - 1];
                    var position = item.position;
                    var word = item.word;
                    // cut out 100 characters
                    var start = position - 20;
                    var end = position + 80;
                    if(start < 0){
                      start = 0;
                    }
                    if (end < position + word.length) {
                      end = position + word.length;
                    }
                    if(end > content.length){
                      end = content.length;
                    }
                    slicesOfContent.push(mergeIntoSlice(content, start, end, indexOfContent));
                  }

                  // sort slices in content by search text's count and hits' count

                  slicesOfContent.sort(function (sliceLeft, sliceRight) {
                    if (sliceLeft.searchTextCount !== sliceRight.searchTextCount) {
                      return sliceRight.searchTextCount - sliceLeft.searchTextCount;
                    } else if (sliceLeft.hits.length !== sliceRight.hits.length) {
                      return sliceRight.hits.length - sliceLeft.hits.length;
                    } else {
                      return sliceLeft.start - sliceRight.start;
                    }
                  });

                  // select top N slices in content

                  var upperBound = parseInt('1');
                  if (upperBound >= 0) {
                    slicesOfContent = slicesOfContent.slice(0, upperBound);
                  }

                  // highlight title and content

                  function highlightKeyword(text, slice) {
                    var result = '';
                    var prevEnd = slice.start;
                    slice.hits.forEach(function (hit) {
                      result += text.substring(prevEnd, hit.position);
                      var end = hit.position + hit.length;
                      result += '<b class="search-keyword">' + text.substring(hit.position, end) + '</b>';
                      prevEnd = end;
                    });
                    result += text.substring(prevEnd, slice.end);
                    return result;
                  }

                  var resultItem = '';

                  if (slicesOfTitle.length != 0) {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + highlightKeyword(title, slicesOfTitle[0]) + "</a>";
                  } else {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + title + "</a>";
                  }

                  slicesOfContent.forEach(function (slice) {
                    resultItem += "<a href='" + articleUrl + "'>" +
                      "<p class=\"search-result\">" + highlightKeyword(content, slice) +
                      "...</p>" + "</a>";
                  });

                  resultItem += "</li>";
                  resultItems.push({
                    item: resultItem,
                    searchTextCount: searchTextCount,
                    hitCount: hitCount,
                    id: resultItems.length
                  });
                }
              })
            };
            if (keywords.length === 1 && keywords[0] === "") {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-search fa-5x" /></div>'
            } else if (resultItems.length === 0) {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-frown-o fa-5x" /></div>'
            } else {
              resultItems.sort(function (resultLeft, resultRight) {
                if (resultLeft.searchTextCount !== resultRight.searchTextCount) {
                  return resultRight.searchTextCount - resultLeft.searchTextCount;
                } else if (resultLeft.hitCount !== resultRight.hitCount) {
                  return resultRight.hitCount - resultLeft.hitCount;
                } else {
                  return resultRight.id - resultLeft.id;
                }
              });
              var searchResultList = '<ul class=\"search-result-list\">';
              resultItems.forEach(function (result) {
                searchResultList += result.item;
              })
              searchResultList += "</ul>";
              resultContent.innerHTML = searchResultList;
            }
          }

          if ('auto' === 'auto') {
            input.addEventListener('input', inputEventFunction);
          } else {
            $('.search-icon').click(inputEventFunction);
            input.addEventListener('keypress', function (event) {
              if (event.keyCode === 13) {
                inputEventFunction();
              }
            });
          }

          // remove loading animation
          $(".local-search-pop-overlay").remove();
          $('body').css('overflow', '');

          proceedsearch();
        }
      });
    }

    // handle and trigger popup window;
    $('.popup-trigger').click(function(e) {
      e.stopPropagation();
      if (isfetched === false) {
        searchFunc(path, 'local-search-input', 'local-search-result');
      } else {
        proceedsearch();
      };
    });

    $('.popup-btn-close').click(onPopupClose);
    $('.popup').click(function(e){
      e.stopPropagation();
    });
    $(document).on('keyup', function (event) {
      var shouldDismissSearchPopup = event.which === 27 &&
        $('.search-popup').is(':visible');
      if (shouldDismissSearchPopup) {
        onPopupClose();
      }
    });
  </script>





  

  

  

  
  

  

  

  

</body>
</html>
