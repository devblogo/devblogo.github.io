<!DOCTYPE html>



  


<html class="theme-next muse use-motion" lang="zh-Hans">
<head><meta name="generator" content="Hexo 3.9.0">
  <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
<meta name="theme-color" content="#222">
<meta name="referrer" content="never">









<meta http-equiv="Cache-Control" content="no-transform">
<meta http-equiv="Cache-Control" content="no-siteapp">
















  
  
  <link href="../../lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css">







<link href="../../lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css">

<link href="../../css/main.css?v=5.1.4" rel="stylesheet" type="text/css">


  <link rel="apple-touch-icon" sizes="180x180" href="../../images/apple-touch-icon-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="32x32" href="../../images/favicon-32x32-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="16x16" href="../../images/favicon-16x16-next.png?v=5.1.4">


  <link rel="mask-icon" href="../../images/logo.svg?v=5.1.4" color="#222">





  <meta name="keywords" content="Hexo, NexT">





  <link rel="alternate" href="../../atom.xml" title="开发者博客 – IT技术 尽在开发者博客" type="application/atom+xml">






<meta property="og:type" content="website">
<meta property="og:title" content="开发者博客 – IT技术 尽在开发者博客">
<meta property="og:url" content="https://dev.newban.cn/page/12/index.html">
<meta property="og:site_name" content="开发者博客 – IT技术 尽在开发者博客">
<meta property="og:locale" content="zh-Hans">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="开发者博客 – IT技术 尽在开发者博客">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Muse',
    version: '5.1.4',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":true,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>
<!--谷歌广告验证代码-->
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({
          google_ad_client: "ca-pub-2626449904708114",
          enable_page_level_ads: true
     });
</script>
<!--谷歌广告验证代码-->



  <link rel="canonical" href="https://dev.newban.cn/page/12/">





  <title>开发者博客 – IT技术 尽在开发者博客</title>
  








</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  
  
    
  

  <div class="container sidebar-position-left 
  page-home">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">开发者博客 – IT技术 尽在开发者博客</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle">开发者博客 – 科技是第一生产力</p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="http://dev.newban.cn/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br>
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="https://dev.newban.cn/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br>
            
            归档
          </a>
        </li>
      

      
        <li class="menu-item menu-item-search">
          
            <a href="javascript:;" class="popup-trigger">
          
            
              <i class="menu-item-icon fa fa-search fa-fw"></i> <br>
            
            搜索
          </a>
        </li>
      
    </ul>
  

  
    <div class="site-search">
      
  <div class="popup search-popup local-search-popup">
  <div class="local-search-header clearfix">
    <span class="search-icon">
      <i class="fa fa-search"></i>
    </span>
    <span class="popup-btn-close">
      <i class="fa fa-times-circle"></i>
    </span>
    <div class="local-search-input-wrapper">
      <input autocomplete="off" placeholder="搜索..." spellcheck="false" type="text" id="local-search-input">
    </div>
  </div>
  <div id="local-search-result"></div>
</div>



    </div>
  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://dev.newban.cn../../7361934843209203712.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="开发者博客">
      <meta itemprop="description" content>
      <meta itemprop="image" content="../../images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="开发者博客 – IT技术 尽在开发者博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="../../7361934843209203712.html" itemprop="url">分布式事务实现方案：一文详解RocketMQ事务消息 实现原</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2024-04-26T16:39:32+08:00">
                2024-04-26
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>&#x5E38;&#x89C1;&#x7684;&#x5206;&#x5E03;&#x5F0F;&#x4E8B;&#x52A1;&#x5B9E;&#x73B0;&#x65B9;&#x6848;&#x6709;&#x4EE5;&#x4E0B;&#x51E0;&#x79CD;&#xFF1A;&#x4E24;&#x9636;&#x6BB5;&#x63D0;&#x4EA4;&#xFF08;2PC&#xFF09;&#x3001;&#x4E24;&#x9636;&#x6BB5;&#x63D0;&#x4EA4;&#xFF08;2PC&#xFF09;&#x3001;&#x8865;&#x507F;&#x4E8B;&#x52A1;&#xFF08;Saga&#xFF09;&#x3001;MQ&#x4E8B;&#x52A1;&#x6D88;&#x606F;&#x7B49;&#x3002;&#x4ECA;&#x5929;&#x5C31;&#x8BB2;&#x4E00;&#x4E0B; RocketMQ &#x7684;&#x4E8B;&#x52A1;&#x6D88;&#x606F;&#xFF0C;&#x662F;&#x4E00;&#x79CD;&#x975E;&#x5E38;&#x7279;&#x6B8A;&#x7684;&#x5206;&#x5E03;&#x5F0F;&#x4E8B;&#x52A1;&#x5B9E;&#x73B0;&#x65B9;&#x6848;&#xFF0C;&#x57FA;&#x4E8E;&#x534A;&#x6D88;&#x606F;&#xFF08;Half Message&#xFF09;&#x673A;&#x5236;&#x5B9E;&#x73B0;&#x7684;&#x3002;</p>
<p>&#x770B;&#x5B8C;&#x8FD9;&#x7BC7;&#x60F3;&#x4E00;&#x4E0B;&#xFF0C;RocketMQ&#x4E8B;&#x52A1;&#x6D88;&#x606F;&#x5230;&#x5E95;&#x80FD;&#x4E0D;&#x80FD;&#x4FDD;&#x8BC1;&#x5206;&#x5E03;&#x5F0F;&#x7CFB;&#x7EDF;&#x4E2D;&#x6570;&#x636E;&#x7684;&#x5F3A;&#x4E00;&#x81F4;&#x6027;&#xFF1F;</p>
<h1 id="&#x5B9E;&#x73B0;&#x539F;&#x7406;"><a href="#&#x5B9E;&#x73B0;&#x539F;&#x7406;" class="headerlink" title="&#x5B9E;&#x73B0;&#x539F;&#x7406;"></a>&#x5B9E;&#x73B0;&#x539F;&#x7406;</h1><p><strong>RocketMQ&#x4E8B;&#x52A1;&#x6D88;&#x606F;&#x6267;&#x884C;&#x6D41;&#x7A0B;&#x5982;&#x4E0B;&#xFF1A;</strong></p>
<ol>
<li>&#x751F;&#x4EA7;&#x8005;&#x5C06;&#x6D88;&#x606F;&#x53D1;&#x9001;&#x81F3;RocketMQ&#x670D;&#x52A1;&#x7AEF;&#x3002;</li>
<li>RocketMQ&#x670D;&#x52A1;&#x7AEF;&#x5C06;&#x6D88;&#x606F;&#x6301;&#x4E45;&#x5316;&#x6210;&#x529F;&#x4E4B;&#x540E;&#xFF0C;&#x5411;&#x751F;&#x4EA7;&#x8005;&#x8FD4;&#x56DE;Ack&#x786E;&#x8BA4;&#x6D88;&#x606F;&#x5DF2;&#x7ECF;&#x53D1;&#x9001;&#x6210;&#x529F;&#xFF0C;&#x6B64;&#x65F6;&#x6D88;&#x606F;&#x88AB;&#x6807;&#x8BB0;&#x4E3A;&#x201D;&#x6682;&#x4E0D;&#x80FD;&#x6295;&#x9012;&#x201D;&#xFF0C;&#x8FD9;&#x79CD;&#x72B6;&#x6001;&#x4E0B;&#x7684;&#x6D88;&#x606F;&#x5373;&#x4E3A;&#x534A;&#x4E8B;&#x52A1;&#x6D88;&#x606F;&#xFF08;Half Message&#xFF09;&#x3002;</li>
<li>&#x751F;&#x4EA7;&#x8005;&#x5F00;&#x59CB;&#x6267;&#x884C;&#x672C;&#x5730;&#x4E8B;&#x52A1;&#x903B;&#x8F91;&#x3002;</li>
<li>&#x751F;&#x4EA7;&#x8005;&#x6839;&#x636E;&#x672C;&#x5730;&#x4E8B;&#x52A1;&#x6267;&#x884C;&#x7ED3;&#x679C;&#x5411;&#x670D;&#x52A1;&#x7AEF;&#x63D0;&#x4EA4;&#x4E8C;&#x6B21;&#x786E;&#x8BA4;&#x7ED3;&#x679C;&#xFF08;Commit&#x6216;&#x662F;Rollback&#xFF09;&#xFF0C;&#x670D;&#x52A1;&#x7AEF;&#x6536;&#x5230;&#x786E;&#x8BA4;&#x7ED3;&#x679C;&#x540E;&#x5904;&#x7406;&#x903B;&#x8F91;&#x5982;&#x4E0B;&#xFF1A;<ul>
<li>&#x4E8C;&#x6B21;&#x786E;&#x8BA4;&#x7ED3;&#x679C;&#x4E3A;Commit&#xFF1A;&#x670D;&#x52A1;&#x7AEF;&#x5C06;&#x534A;&#x4E8B;&#x52A1;&#x6D88;&#x606F;&#x6807;&#x8BB0;&#x4E3A;&#x53EF;&#x6295;&#x9012;&#xFF0C;&#x5E76;&#x6295;&#x9012;&#x7ED9;&#x6D88;&#x8D39;&#x8005;&#x3002;</li>
<li>&#x4E8C;&#x6B21;&#x786E;&#x8BA4;&#x7ED3;&#x679C;&#x4E3A;Rollback&#xFF1A;&#x670D;&#x52A1;&#x7AEF;&#x5C06;&#x56DE;&#x6EDA;&#x4E8B;&#x52A1;&#xFF0C;&#x4E0D;&#x4F1A;&#x5C06;&#x534A;&#x4E8B;&#x52A1;&#x6D88;&#x606F;&#x6295;&#x9012;&#x7ED9;&#x6D88;&#x8D39;&#x8005;&#x3002;</li>
</ul>
</li>
<li>&#x5728;&#x65AD;&#x7F51;&#x6216;&#x8005;&#x662F;&#x751F;&#x4EA7;&#x8005;&#x5E94;&#x7528;&#x91CD;&#x542F;&#x7684;&#x7279;&#x6B8A;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;&#x82E5;&#x670D;&#x52A1;&#x7AEF;&#x672A;&#x6536;&#x5230;&#x53D1;&#x9001;&#x8005;&#x63D0;&#x4EA4;&#x7684;&#x4E8C;&#x6B21;&#x786E;&#x8BA4;&#x7ED3;&#x679C;&#xFF0C;&#x6216;&#x670D;&#x52A1;&#x7AEF;&#x6536;&#x5230;&#x7684;&#x4E8C;&#x6B21;&#x786E;&#x8BA4;&#x7ED3;&#x679C;&#x4E3A;Unknown&#x672A;&#x77E5;&#x72B6;&#x6001;&#xFF0C;&#x7ECF;&#x8FC7;&#x56FA;&#x5B9A;&#x65F6;&#x95F4;&#x540E;&#xFF0C;&#x670D;&#x52A1;&#x7AEF;&#x5C06;&#x5BF9;&#x6D88;&#x606F;&#x751F;&#x4EA7;&#x8005;&#x5373;&#x751F;&#x4EA7;&#x8005;&#x96C6;&#x7FA4;&#x4E2D;&#x4EFB;&#x4E00;&#x751F;&#x4EA7;&#x8005;&#x5B9E;&#x4F8B;&#x53D1;&#x8D77;&#x6D88;&#x606F;&#x56DE;&#x67E5;&#x3002;</li>
<li>&#x751F;&#x4EA7;&#x8005;&#x6536;&#x5230;&#x6D88;&#x606F;&#x56DE;&#x67E5;&#x540E;&#xFF0C;&#x9700;&#x8981;&#x68C0;&#x67E5;&#x5BF9;&#x5E94;&#x6D88;&#x606F;&#x7684;&#x672C;&#x5730;&#x4E8B;&#x52A1;&#x6267;&#x884C;&#x7684;&#x6700;&#x7EC8;&#x7ED3;&#x679C;&#x3002;</li>
<li>&#x751F;&#x4EA7;&#x8005;&#x6839;&#x636E;&#x68C0;&#x67E5;&#x5230;&#x7684;&#x672C;&#x5730;&#x4E8B;&#x52A1;&#x7684;&#x6700;&#x7EC8;&#x72B6;&#x6001;&#x518D;&#x6B21;&#x63D0;&#x4EA4;&#x4E8C;&#x6B21;&#x786E;&#x8BA4;&#xFF0C;&#x670D;&#x52A1;&#x7AEF;&#x4ECD;&#x6309;&#x7167;&#x6B65;&#x9AA4;4&#x5BF9;&#x534A;&#x4E8B;&#x52A1;&#x6D88;&#x606F;&#x8FDB;&#x884C;&#x5904;&#x7406;&#x3002;</li>
</ol>
<p><img src="https://gitee.com/songjianzaina/juejin_p3/raw/master/img/58c58fccc37903a74c95ebc40046ced3b4abf6c362876285ee86b07f704c7cd5" alt="image.png"></p>
<h1 id="&#x4EE3;&#x7801;&#x5B9E;&#x73B0;"><a href="#&#x4EE3;&#x7801;&#x5B9E;&#x73B0;" class="headerlink" title="&#x4EE3;&#x7801;&#x5B9E;&#x73B0;"></a>&#x4EE3;&#x7801;&#x5B9E;&#x73B0;</h1><p>RocketMQ&#x4E8B;&#x52A1;&#x6D88;&#x606F;&#x793A;&#x4F8B;&#x5982;&#x4E0B;&#xFF1A;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br></pre></td><td class="code"><pre><span class="line">java&#x590D;&#x5236;&#x4EE3;&#x7801;//&#x6F14;&#x793A;demo&#xFF0C;&#x6A21;&#x62DF;&#x8BA2;&#x5355;&#x8868;&#x67E5;&#x8BE2;&#x670D;&#x52A1;&#xFF0C;&#x7528;&#x6765;&#x786E;&#x8BA4;&#x8BA2;&#x5355;&#x4E8B;&#x52A1;&#x662F;&#x5426;&#x63D0;&#x4EA4;&#x6210;&#x529F;&#x3002;</span><br><span class="line">private static boolean checkOrderById(String orderId) {</span><br><span class="line">    return true;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line">//&#x6F14;&#x793A;demo&#xFF0C;&#x6A21;&#x62DF;&#x672C;&#x5730;&#x4E8B;&#x52A1;&#x7684;&#x6267;&#x884C;&#x7ED3;&#x679C;&#x3002;</span><br><span class="line">private static boolean doLocalTransaction() {</span><br><span class="line">    return true;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line">public static void main(String[] args) throws ClientException {</span><br><span class="line">    ClientServiceProvider provider = new ClientServiceProvider();</span><br><span class="line">    MessageBuilder messageBuilder = new MessageBuilderImpl();</span><br><span class="line">    //&#x6784;&#x9020;&#x4E8B;&#x52A1;&#x751F;&#x4EA7;&#x8005;&#xFF1A;&#x4E8B;&#x52A1;&#x6D88;&#x606F;&#x9700;&#x8981;&#x751F;&#x4EA7;&#x8005;&#x6784;&#x5EFA;&#x4E00;&#x4E2A;&#x4E8B;&#x52A1;&#x68C0;&#x67E5;&#x5668;&#xFF0C;&#x7528;&#x4E8E;&#x68C0;&#x67E5;&#x786E;&#x8BA4;&#x5F02;&#x5E38;&#x534A;&#x4E8B;&#x52A1;&#x7684;&#x4E2D;&#x95F4;&#x72B6;&#x6001;&#x3002;</span><br><span class="line">    Producer producer = provider.newProducerBuilder()</span><br><span class="line">            .setTransactionChecker(messageView -&gt; {</span><br><span class="line">                /**</span><br><span class="line">                 * &#x4E8B;&#x52A1;&#x68C0;&#x67E5;&#x5668;&#x4E00;&#x822C;&#x662F;&#x6839;&#x636E;&#x4E1A;&#x52A1;&#x7684;ID&#x53BB;&#x68C0;&#x67E5;&#x672C;&#x5730;&#x4E8B;&#x52A1;&#x662F;&#x5426;&#x6B63;&#x786E;&#x63D0;&#x4EA4;&#x8FD8;&#x662F;&#x56DE;&#x6EDA;&#xFF0C;&#x6B64;&#x5904;&#x4EE5;&#x8BA2;&#x5355;ID&#x5C5E;&#x6027;&#x4E3A;&#x4F8B;&#x3002;</span><br><span class="line">                 * &#x5728;&#x8BA2;&#x5355;&#x8868;&#x627E;&#x5230;&#x4E86;&#x8FD9;&#x4E2A;&#x8BA2;&#x5355;&#xFF0C;&#x8BF4;&#x660E;&#x672C;&#x5730;&#x4E8B;&#x52A1;&#x63D2;&#x5165;&#x8BA2;&#x5355;&#x7684;&#x64CD;&#x4F5C;&#x5DF2;&#x7ECF;&#x6B63;&#x786E;&#x63D0;&#x4EA4;&#xFF1B;&#x5982;&#x679C;&#x8BA2;&#x5355;&#x8868;&#x6CA1;&#x6709;&#x8BA2;&#x5355;&#xFF0C;&#x8BF4;&#x660E;&#x672C;&#x5730;&#x4E8B;&#x52A1;&#x5DF2;&#x7ECF;&#x56DE;&#x6EDA;&#x3002;</span><br><span class="line">                 */</span><br><span class="line">                final String orderId = messageView.getProperties().get(&quot;OrderId&quot;);</span><br><span class="line">                if (Strings.isNullOrEmpty(orderId)) {</span><br><span class="line">                    // &#x9519;&#x8BEF;&#x7684;&#x6D88;&#x606F;&#xFF0C;&#x76F4;&#x63A5;&#x8FD4;&#x56DE;Rollback&#x3002;</span><br><span class="line">                    return TransactionResolution.ROLLBACK;</span><br><span class="line">                }</span><br><span class="line">                return checkOrderById(orderId) ? TransactionResolution.COMMIT : TransactionResolution.ROLLBACK;</span><br><span class="line">            })</span><br><span class="line">            .build();</span><br><span class="line">    //&#x5F00;&#x542F;&#x4E8B;&#x52A1;</span><br><span class="line">    final Transaction transaction;</span><br><span class="line">    try {</span><br><span class="line">        transaction = producer.beginTransaction();</span><br><span class="line">    } catch (ClientException e) {</span><br><span class="line">        e.printStackTrace();</span><br><span class="line">        //&#x4E8B;&#x52A1;&#x5F00;&#x542F;&#x5931;&#x8D25;&#xFF0C;&#x76F4;&#x63A5;&#x9000;&#x51FA;&#x3002;</span><br><span class="line">        return;</span><br><span class="line">    }</span><br><span class="line">    Message message = messageBuilder.setTopic(&quot;topic&quot;)</span><br><span class="line">            //&#x8BBE;&#x7F6E;&#x6D88;&#x606F;&#x7D22;&#x5F15;&#x952E;&#xFF0C;&#x53EF;&#x6839;&#x636E;&#x5173;&#x952E;&#x5B57;&#x7CBE;&#x786E;&#x67E5;&#x627E;&#x67D0;&#x6761;&#x6D88;&#x606F;&#x3002;</span><br><span class="line">            .setKeys(&quot;messageKey&quot;)</span><br><span class="line">            //&#x8BBE;&#x7F6E;&#x6D88;&#x606F;Tag&#xFF0C;&#x7528;&#x4E8E;&#x6D88;&#x8D39;&#x7AEF;&#x6839;&#x636E;&#x6307;&#x5B9A;Tag&#x8FC7;&#x6EE4;&#x6D88;&#x606F;&#x3002;</span><br><span class="line">            .setTag(&quot;messageTag&quot;)</span><br><span class="line">            //&#x4E00;&#x822C;&#x4E8B;&#x52A1;&#x6D88;&#x606F;&#x90FD;&#x4F1A;&#x8BBE;&#x7F6E;&#x4E00;&#x4E2A;&#x672C;&#x5730;&#x4E8B;&#x52A1;&#x5173;&#x8054;&#x7684;&#x552F;&#x4E00;ID&#xFF0C;&#x7528;&#x6765;&#x505A;&#x672C;&#x5730;&#x4E8B;&#x52A1;&#x56DE;&#x67E5;&#x7684;&#x6821;&#x9A8C;&#x3002;</span><br><span class="line">            .addProperty(&quot;OrderId&quot;, &quot;xxx&quot;)</span><br><span class="line">            //&#x6D88;&#x606F;&#x4F53;&#x3002;</span><br><span class="line">            .setBody(&quot;messageBody&quot;.getBytes())</span><br><span class="line">            .build();</span><br><span class="line">    //&#x53D1;&#x9001;&#x534A;&#x4E8B;&#x52A1;&#x6D88;&#x606F;</span><br><span class="line">    final SendReceipt sendReceipt;</span><br><span class="line">    try {</span><br><span class="line">        sendReceipt = producer.send(message, transaction);</span><br><span class="line">    } catch (ClientException e) {</span><br><span class="line">        //&#x534A;&#x4E8B;&#x52A1;&#x6D88;&#x606F;&#x53D1;&#x9001;&#x5931;&#x8D25;&#xFF0C;&#x4E8B;&#x52A1;&#x53EF;&#x4EE5;&#x76F4;&#x63A5;&#x9000;&#x51FA;&#x5E76;&#x56DE;&#x6EDA;&#x3002;</span><br><span class="line">        return;</span><br><span class="line">    }</span><br><span class="line">    /**</span><br><span class="line">     * &#x6267;&#x884C;&#x672C;&#x5730;&#x4E8B;&#x52A1;&#xFF0C;&#x5E76;&#x786E;&#x5B9A;&#x672C;&#x5730;&#x4E8B;&#x52A1;&#x7ED3;&#x679C;&#x3002;</span><br><span class="line">     * 1. &#x5982;&#x679C;&#x672C;&#x5730;&#x4E8B;&#x52A1;&#x63D0;&#x4EA4;&#x6210;&#x529F;&#xFF0C;&#x5219;&#x63D0;&#x4EA4;&#x6D88;&#x606F;&#x4E8B;&#x52A1;&#x3002;</span><br><span class="line">     * 2. &#x5982;&#x679C;&#x672C;&#x5730;&#x4E8B;&#x52A1;&#x63D0;&#x4EA4;&#x5931;&#x8D25;&#xFF0C;&#x5219;&#x56DE;&#x6EDA;&#x6D88;&#x606F;&#x4E8B;&#x52A1;&#x3002;</span><br><span class="line">     * 3. &#x5982;&#x679C;&#x672C;&#x5730;&#x4E8B;&#x52A1;&#x672A;&#x77E5;&#x5F02;&#x5E38;&#xFF0C;&#x5219;&#x4E0D;&#x5904;&#x7406;&#xFF0C;&#x7B49;&#x5F85;&#x4E8B;&#x52A1;&#x6D88;&#x606F;&#x56DE;&#x67E5;&#x3002;</span><br><span class="line">     *</span><br><span class="line">     */</span><br><span class="line">    boolean localTransactionOk = doLocalTransaction();</span><br><span class="line">    if (localTransactionOk) {</span><br><span class="line">        try {</span><br><span class="line">            transaction.commit();</span><br><span class="line">        } catch (ClientException e) {</span><br><span class="line">            // &#x4E1A;&#x52A1;&#x53EF;&#x4EE5;&#x81EA;&#x8EAB;&#x5BF9;&#x5B9E;&#x65F6;&#x6027;&#x7684;&#x8981;&#x6C42;&#x9009;&#x62E9;&#x662F;&#x5426;&#x91CD;&#x8BD5;&#xFF0C;&#x5982;&#x679C;&#x653E;&#x5F03;&#x91CD;&#x8BD5;&#xFF0C;&#x53EF;&#x4EE5;&#x4F9D;&#x8D56;&#x4E8B;&#x52A1;&#x6D88;&#x606F;&#x56DE;&#x67E5;&#x673A;&#x5236;&#x8FDB;&#x884C;&#x4E8B;&#x52A1;&#x72B6;&#x6001;&#x7684;&#x63D0;&#x4EA4;&#x3002;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        }</span><br><span class="line">    } else {</span><br><span class="line">        try {</span><br><span class="line">            transaction.rollback();</span><br><span class="line">        } catch (ClientException e) {</span><br><span class="line">            // &#x5EFA;&#x8BAE;&#x8BB0;&#x5F55;&#x5F02;&#x5E38;&#x4FE1;&#x606F;&#xFF0C;&#x56DE;&#x6EDA;&#x5F02;&#x5E38;&#x65F6;&#x53EF;&#x4EE5;&#x65E0;&#x9700;&#x91CD;&#x8BD5;&#xFF0C;&#x4F9D;&#x8D56;&#x4E8B;&#x52A1;&#x6D88;&#x606F;&#x56DE;&#x67E5;&#x673A;&#x5236;&#x8FDB;&#x884C;&#x4E8B;&#x52A1;&#x72B6;&#x6001;&#x7684;&#x63D0;&#x4EA4;&#x3002;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></table></figure>

<p><strong>&#x6CE8;&#x610F;&#x4E8B;&#x9879;</strong></p>
<ul>
<li><strong>&#x5E42;&#x7B49;&#x6027;&#xFF1A;</strong> &#x6D88;&#x8D39;&#x8005;&#x5904;&#x7406;&#x6D88;&#x606F;&#x65F6;&#x9700;&#x8981;&#x786E;&#x4FDD;&#x4E1A;&#x52A1;&#x903B;&#x8F91;&#x7684;&#x5E42;&#x7B49;&#x6027;&#xFF0C;&#x4EE5;&#x5E94;&#x5BF9;&#x6D88;&#x606F;&#x53EF;&#x80FD;&#x7684;&#x91CD;&#x590D;&#x6D88;&#x8D39;&#x3002;</li>
<li><strong>&#x8D85;&#x65F6;&#x548C;&#x76D1;&#x63A7;&#xFF1A;</strong> &#x8BBE;&#x7F6E;&#x5408;&#x7406;&#x7684;&#x8D85;&#x65F6;&#x65F6;&#x95F4;&#xFF0C;&#x5E76;&#x76D1;&#x63A7;&#x4E8B;&#x52A1;&#x6D88;&#x606F;&#x7684;&#x6027;&#x80FD;</li>
</ul>
<h1 id="&#x603B;&#x7ED3;"><a href="#&#x603B;&#x7ED3;" class="headerlink" title="&#x603B;&#x7ED3;"></a>&#x603B;&#x7ED3;</h1><p>RocketMQ &#x4E8B;&#x52A1;&#x6D88;&#x606F;&#x662F;&#x5206;&#x5E03;&#x5F0F;&#x4E8B;&#x52A1;&#x4E2D;&#x4E00;&#x79CD;&#x5E38;&#x89C1;&#x7684;&#x5B9E;&#x73B0;&#x65B9;&#x6848;&#xFF0C;&#x53EA;&#x662F;&#x628A;&#x53D1;&#x9001;&#x6D88;&#x606F;&#x548C;&#x672C;&#x5730;&#x4E8B;&#x52A1;&#x653E;&#x5728;&#x4E00;&#x4E2A;&#x4E8B;&#x52A1;&#x4E2D;&#xFF0C;&#x5E76;&#x4E14;&#x53EA;&#x4FDD;&#x8BC1;&#x6700;&#x7EC8;&#x4E00;&#x81F4;&#x6027;&#xFF0C;&#x65E0;&#x6CD5;&#x4FDD;&#x8BC1;&#x5F3A;&#x4E00;&#x81F4;&#x6027;&#x3002;</p>
<p>&#x539F;&#x56E0;&#x6709;&#x4E24;&#x70B9;&#xFF1A;</p>
<ol>
<li>&#x6267;&#x884C;&#x5B8C;&#x6210;&#x672C;&#x5730;&#x4E8B;&#x52A1;&#x540E;&#xFF0C;&#x5728;commit&#x4E8B;&#x52A1;&#x6D88;&#x606F;&#x4E4B;&#x524D;&#xFF0C;&#x8FD9;&#x6BB5;&#x65F6;&#x95F4;&#x5185;&#x6570;&#x636E;&#x662F;&#x4E0D;&#x4E00;&#x81F4;&#x7684;&#xFF0C;&#x6240;&#x4EE5;&#x53EA;&#x662F;&#x4FDD;&#x8BC1;&#x4E86;&#x53D1;&#x9001;&#x6D88;&#x606F;&#x548C;&#x672C;&#x5730;&#x4E8B;&#x52A1;&#x7684;&#x6700;&#x7EC8;&#x4E00;&#x81F4;&#x6027;&#x3002;</li>
<li>&#x5728;commit&#x4E8B;&#x52A1;&#x6D88;&#x606F;&#x4E4B;&#x540E;&#xFF0C;&#x7136;&#x540E;&#x628A;&#x6D88;&#x606F;&#x6295;&#x9012;&#x7ED9;&#x6D88;&#x8D39;&#x8005;&#x3002;&#x81F3;&#x4E8E;&#x6D88;&#x8D39;&#x8005;&#x662F;&#x5426;&#x6D88;&#x8D39;&#x6D88;&#x606F;&#xFF0C;&#x4EC0;&#x4E48;&#x65F6;&#x5019;&#x6D88;&#x8D39;&#xFF1F;&#x4E5F;&#x90FD;&#x662F;&#x4E0D;&#x53EF;&#x63A7;&#x7684;&#xFF0C;&#x6240;&#x4EE5;&#x4E5F;&#x53EA;&#x80FD;&#x5C3D;&#x91CF;&#x4FDD;&#x8BC1;&#x6570;&#x636E;&#x6700;&#x7EC8;&#x4E00;&#x81F4;&#x6027;&#x3002;</li>
</ol>
<p><strong>&#x672C;&#x6587;&#x8F6C;&#x8F7D;&#x81EA;:</strong> <a href="/external_links/e01956ab668279a4cb975506d1a1aafe.html" target="blank" rel="noopener">&#x6398;&#x91D1;</a></p>
<p><em><a href="https://dev.newban.cn/">&#x5F00;&#x53D1;&#x8005;&#x535A;&#x5BA2; &#x2013; &#x548C;&#x5F00;&#x53D1;&#x76F8;&#x5173;&#x7684; &#x8FD9;&#x91CC;&#x5168;&#x90FD;&#x6709;</a></em></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://dev.newban.cn../../7361976432250028047.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="开发者博客">
      <meta itemprop="description" content>
      <meta itemprop="image" content="../../images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="开发者博客 – IT技术 尽在开发者博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="../../7361976432250028047.html" itemprop="url">观察SwiftUI ScrollView的内容偏移量 观察S</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2024-04-26T16:24:39+08:00">
                2024-04-26
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="&#x89C2;&#x5BDF;SwiftUI-ScrollView&#x7684;&#x5185;&#x5BB9;&#x504F;&#x79FB;&#x91CF;"><a href="#&#x89C2;&#x5BDF;SwiftUI-ScrollView&#x7684;&#x5185;&#x5BB9;&#x504F;&#x79FB;&#x91CF;" class="headerlink" title="&#x89C2;&#x5BDF;SwiftUI ScrollView&#x7684;&#x5185;&#x5BB9;&#x504F;&#x79FB;&#x91CF;"></a>&#x89C2;&#x5BDF;SwiftUI ScrollView&#x7684;&#x5185;&#x5BB9;&#x504F;&#x79FB;&#x91CF;</h1><p>hudson &#x8BD1; <a href="/external_links/a2d42f58c37905e19d9a8d6a9d3bbc04.html" target="blank" rel="noopener">&#x539F;&#x6587;</a></p>
<p>&#x5728;&#x6784;&#x5EFA;&#x5404;&#x79CD;&#x53EF;&#x6EDA;&#x52A8;UI&#x65F6;&#xFF0C;&#x901A;&#x5E38;&#x5E0C;&#x671B;&#x89C2;&#x5BDF;&#x5F53;&#x524D;&#x6EDA;&#x52A8;&#x4F4D;&#x7F6E;&#xFF08;<code>UIScrollView</code>&#x79F0;&#x4E4B;&#x4E3A;&#x5185;&#x5BB9;&#x504F;&#x79FB;&#xFF09;&#xFF0C;&#x4EE5;&#x89E6;&#x53D1;&#x5E03;&#x5C40;&#x66F4;&#x6539;&#xFF0C;&#x5728;&#x9700;&#x8981;&#x65F6;&#x52A0;&#x8F7D;&#x5176;&#x4ED6;&#x6570;&#x636E;&#xFF0C;&#x6216;&#x6839;&#x636E;&#x7528;&#x6237;&#x5F53;&#x524D;&#x6B63;&#x5728;&#x67E5;&#x770B;&#x7684;&#x5185;&#x5BB9;&#x6267;&#x884C;&#x5176;&#x4ED6;&#x7C7B;&#x578B;&#x7684;&#x64CD;&#x4F5C;&#x3002;</p>
<p>&#x7136;&#x800C;&#xFF0C;&#x5F53;&#x6D89;&#x53CA;&#x5230;SwiftUI&#x7684;<code>ScrollView</code>&#x65F6;&#xFF0C;&#x76EE;&#x524D;&#xFF08;&#x5728;&#x64B0;&#x5199;&#x672C;&#x6587;&#x65F6;&#xFF09;&#x6CA1;&#x6709;&#x5185;&#x7F6E;&#x7684;&#x65B9;&#x5F0F;&#x6765;&#x6267;&#x884C;&#x6B64;&#x7C7B;&#x6EDA;&#x52A8;&#x89C2;&#x5BDF;&#x3002;&#x867D;&#x7136;&#x5728;&#x6EDA;&#x52A8;&#x89C6;&#x56FE;&#x4E2D;&#x5D4C;&#x5165;<code>ScrollViewReader</code>&#x786E;&#x5B9E;&#x80FD;&#x591F;&#x5728;&#x4EE3;&#x7801;&#x4E2D;&#x7684;&#x66F4;&#x6539;&#x6EDA;&#x52A8;&#x4F4D;&#x7F6E;&#xFF0C;&#x4F46;&#x5947;&#x602A;&#x7684;&#x662F;&#xFF08;&#x7279;&#x522B;&#x662F;&#x8003;&#x8651;&#x5230;&#x5B83;&#x7684;&#x540D;&#x79F0;&#xFF09;&#xFF0C;&#x5B83;&#x4E0D;&#x5141;&#x8BB8;&#x6211;&#x4EEC;&#x4EE5;&#x4EFB;&#x4F55;&#x65B9;&#x5F0F;&#x8BFB;&#x53D6;&#x5F53;&#x524D;(&#x6EDA;&#x52A8;)&#x5185;&#x5BB9;&#x504F;&#x79FB;&#x91CF;&#x3002;</p>
<p>&#x89E3;&#x51B3;&#x8FD9;&#x4E2A;&#x95EE;&#x9898;&#x7684;&#x4E00;&#x79CD;&#x65B9;&#x6CD5;&#x662F;&#x5229;&#x7528;UIKit&#x7684;<code>UIScrollView</code>&#x7684;&#x4E30;&#x5BCC;&#x529F;&#x80FD;&#xFF0C;&#x7531;&#x4E8E;&#x5176;&#x4EE3;&#x7406;&#x534F;&#x8BAE;&#x548C;<code>scrollViewDidScroll</code>&#x65B9;&#x6CD5;&#xFF0C;&#x5B83;&#x63D0;&#x4F9B;&#x4E86;&#x4E00;&#x79CD;&#x5728;&#x53D1;&#x751F;&#x4EFB;&#x4F55;&#x7C7B;&#x578B;&#x7684;&#x6EDA;&#x52A8;&#x65F6;&#x83B7;&#x5F97;&#x901A;&#x77E5;&#x7684;&#x7B80;&#x5355;&#x65B9;&#x6CD5;&#x3002;&#x7136;&#x800C;&#xFF0C;&#x5C3D;&#x7BA1;&#x6211;&#x901A;&#x5E38;&#x975E;&#x5E38;&#x559C;&#x6B22;&#x4F7F;&#x7528;<code>UIViewRepresentable</code>&#x548C;&#x5176;&#x4ED6; SwiftUI/UIKit&#x4E92;&#x64CD;&#x4F5C;&#x6027;&#x673A;&#x5236;&#xFF0C;&#x4F46;&#x5728;&#x8FD9;&#x79CD;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;&#x6211;&#x4EEC;&#x5FC5;&#x987B;&#x7F16;&#x5199;&#x76F8;&#x5F53;&#x591A;&#x7684;&#x989D;&#x5916;&#x4EE3;&#x7801;&#x6765;&#x5F25;&#x5408;&#x4E24;&#x4E2A;&#x6846;&#x67B6;&#x4E4B;&#x95F4;&#x7684;&#x5DEE;&#x8DDD;&#x3002;</p>
<p>&#x8FD9;&#x4E3B;&#x8981;&#x662F;&#x56E0;&#x4E3A;&#x2014;&#x2014;&#x81F3;&#x5C11;&#x5728;iOS&#x4E0A;&#x2014;&#x2014;&#x6211;&#x4EEC;&#x53EA;&#x80FD;&#x5C06;SwiftUI&#x5185;&#x5BB9;&#x5D4C;&#x5165;&#x5230;<code>UIHostingController</code>&#x4E2D;&#xFF0C;&#x800C;&#x4E0D;&#x662F;&#x5728;&#x81EA;&#x6211;&#x7BA1;&#x7406;&#x7684;<code>UIView</code>&#x4E2D;&#x3002;&#x56E0;&#x6B64;&#xFF0C;&#x5982;&#x679C;&#x6211;&#x4EEC;&#x60F3;&#x4F7F;&#x7528;<code>UIScrollView</code>&#x6784;&#x5EFA;&#x4E00;&#x4E2A;&#x81EA;&#x5B9A;&#x4E49;&#x7684;&#x3001;&#x53EF;&#x89C2;&#x5BDF;&#x7684;<code>ScrollView</code>&#x7248;&#x672C;&#xFF0C;&#x90A3;&#x4E48;&#x6211;&#x4EEC;&#x5FC5;&#x987B;&#x5C06;&#x8BE5;&#x5B9E;&#x73B0;&#x5305;&#x88C5;&#x5728;&#x89C6;&#x56FE;&#x63A7;&#x5236;&#x5668;&#x4E2D;&#xFF0C;&#x7136;&#x540E;&#x7BA1;&#x7406;&#x6211;&#x4EEC;&#x7684;<code>UIHostingController</code>&#x4E0E;&#x952E;&#x76D8;&#x3001;&#x6EDA;&#x52A8;&#x89C6;&#x56FE;&#x7684;&#x5185;&#x5BB9;&#x5927;&#x5C0F;&#x3001;&#x5B89;&#x5168;&#x533A;&#x57DF;&#x5D4C;&#x5165;&#x7B49;&#x4E4B;&#x95F4;&#x7684;&#x5173;&#x7CFB;&#x3002;&#x867D;&#x7136;&#x4E0D;&#x662F;&#x4E0D;&#x53EF;&#x80FD;&#xFF0C;&#x4F46;&#x4ECD;&#x7136;&#x6709;&#x76F8;&#x5F53;&#x591A;&#x7684;&#x989D;&#x5916;&#x5DE5;&#x4F5C;&#x548C;&#x590D;&#x6742;&#x6027;&#x3002;</p>
<p>&#x56E0;&#x6B64;&#xFF0C;&#x8BA9;&#x6211;&#x4EEC;&#x770B;&#x770B;&#x662F;&#x5426;&#x80FD;&#x627E;&#x5230;&#x4E00;&#x79CD;&#x5B8C;&#x5168;SwiftUI&#x539F;&#x751F;&#x7684;&#x65B9;&#x5F0F;&#x6765;&#x6267;&#x884C;&#x6B64;&#x7C7B;&#x5185;&#x5BB9;&#x504F;&#x79FB;&#x89C2;&#x6D4B;&#x3002;</p>
<h2 id="&#x4F7F;&#x7528;GeometryReader&#x89E3;&#x6790;&#x6846;&#x67B6;"><a href="#&#x4F7F;&#x7528;GeometryReader&#x89E3;&#x6790;&#x6846;&#x67B6;" class="headerlink" title="&#x4F7F;&#x7528;GeometryReader&#x89E3;&#x6790;&#x6846;&#x67B6;"></a>&#x4F7F;&#x7528;GeometryReader&#x89E3;&#x6790;&#x6846;&#x67B6;</h2><p>&#x5728;&#x5F00;&#x59CB;&#x4E4B;&#x524D;&#xFF0C;&#x8981;&#x610F;&#x8BC6;&#x5230;&#x7684;&#x5173;&#x952E;&#x4E00;&#x70B9;&#x662F;&#xFF0C;<code>UIScrollView</code>&#x548C;SwiftUI&#x7684;<code>ScrollView</code>&#x90FD;&#x901A;&#x8FC7;&#x4FEE;&#x6539;&#x4E00;&#x4E2A;&#x5BB9;&#x5668;&#x504F;&#x79FB;&#x6267;&#x884C;&#x6EDA;&#x52A8;&#xFF0C;&#x8BE5;&#x5BB9;&#x5668;&#x6258;&#x7BA1;&#x5B9E;&#x9645;&#x53EF;&#x6EDA;&#x52A8;&#x5185;&#x5BB9;&#x3002;&#x7136;&#x540E;&#xFF0C;&#x4ED6;&#x4EEC;&#x5C06;&#x8BE5;&#x5BB9;&#x5668;&#x88C1;&#x526A;&#x5230;&#x8FB9;&#x754C;&#x4E0A;&#xFF0C;&#x4EE5;&#x4EA7;&#x751F;&#x89C6;&#x53E3;&#x79FB;&#x52A8;&#x7684;&#x9519;&#x89C9;&#x3002;&#x56E0;&#x6B64;&#xFF0C;&#x5982;&#x679C;&#x80FD;&#x627E;&#x5230;&#x89C2;&#x5BDF;&#x8BE5;&#x5BB9;&#x5668;&#x6846;&#x67B6;&#xFF08;frame&#xFF09;&#x7684;&#x65B9;&#x6CD5;&#xFF0C;&#x90A3;&#x4E48;&#x57FA;&#x672C;&#x4E0A;&#x4E5F;&#x4F1A;&#x627E;&#x5230;&#x89C2;&#x5BDF;&#x6EDA;&#x52A8;&#x89C6;&#x56FE;&#x5185;&#x5BB9;&#x504F;&#x79FB;&#x7684;&#x65B9;&#x6CD5;&#x3002;</p>
<p>&#x8FD9;&#x5C31;&#x662F;&#x6211;&#x4EEC;&#x7684;&#x8001;&#x670B;&#x53CB;<code>GeometryReader</code>&#x53D1;&#x6325;&#x4F5C;&#x7528;&#x7684;&#x5730;&#x65B9;&#xFF08;&#x6CA1;&#x6709;&#x5B83;&#xFF0C;&#x5C31;&#x4E0D;&#x4F1A;&#x662F;&#x4E00;&#x4E2A;&#x5408;&#x9002;&#x7684;SwiftUI&#x5E03;&#x5C40;&#x89E3;&#x51B3;&#x65B9;&#x6CD5;&#xFF0C;&#x5BF9;&#x5417;&#xFF1F;&#xFF09;&#x3002;&#x867D;&#x7136;<code>GeometryReader</code>&#x4E3B;&#x8981;&#x7528;&#x4E8E;&#x8BBF;&#x95EE;&#x5B83;&#x6240;&#x6258;&#x7BA1;&#x7684;&#x89C6;&#x56FE;&#x7684;<code>size</code>&#x5927;&#x5C0F;&#xFF08;&#x6216;&#x8005;&#x66F4;&#x51C6;&#x786E;&#x5730;&#x8BF4;&#xFF0C;&#x8BE5;&#x89C6;&#x56FE;&#x7684;&#x62DF;&#x8BAE;&#x5927;&#x5C0F;&#xFF09;&#xFF0C;&#x4F46;&#x5B83;&#x8FD8;&#x6709;&#x53E6;&#x4E00;&#x4E2A;&#x5DE7;&#x5999;&#x7684;&#x6280;&#x5DE7;&#x2014;&#x2014;&#x53EF;&#x4EE5;&#x8981;&#x6C42;&#x5B83;&#x8BFB;&#x53D6;&#x76F8;&#x5BF9;&#x4E8E;&#x7ED9;&#x5B9A;&#x5750;&#x6807;&#x7CFB;&#x7684;&#x5F53;&#x524D;&#x89C6;&#x56FE;&#x7684;<code>frame</code>&#x6846;&#x67B6;&#x3002;</p>
<p>&#x8981;&#x4F7F;&#x7528;&#x8BE5;&#x529F;&#x80FD;&#xFF0C;&#x8BA9;&#x6211;&#x4EEC;&#x4ECE;&#x521B;&#x5EFA;&#x4E00;&#x4E2A;<code>PositionObservingView</code>&#x5F00;&#x59CB;&#xFF0C;&#x5B83;&#x5141;&#x8BB8;&#x5C06;<code>CGPoint</code>&#x503C;&#x7ED1;&#x5B9A;&#x5230;&#x8BE5;&#x89C6;&#x56FE;&#x76F8;&#x5BF9;&#x4E8E; <code>CoordinateSpace</code>&#x7684;&#x5F53;&#x524D;&#x4F4D;&#x7F6E;&#xFF0C;&#x6211;&#x4EEC;&#x4E5F;&#x5C06;&#x5C06;&#x5176;&#x4F5C;&#x4E3A;&#x53C2;&#x6570;&#x4F20;&#x9012;&#x3002;&#x7136;&#x540E;&#xFF0C;&#x65B0;&#x89C6;&#x56FE;&#x5C06;&#x5D4C;&#x5165;&#x4E00;&#x4E2A;<code>GeometryReader</code>&#x4F5C;&#x4E3A;&#x80CC;&#x666F;&#xFF08;&#x8FD9;&#x5C06;&#x4F7F;&#x8BE5;<code>GeometryReader</code>&#x5177;&#x6709;&#x4E0E;&#x89C6;&#x56FE;&#x672C;&#x8EAB;&#x76F8;&#x540C;&#x7684;&#x5927;&#x5C0F;&#xFF09;&#xFF0C;&#x5E76;&#x5C06;&#x4F7F;&#x7528;&#x9996;&#x9009;&#x9879;&#x952E;&#x5C06;&#x5DF2;&#x7ECF;&#x89E3;&#x6790;&#x7684;&#x6846;&#x67B6;&#x7684;<code>origin</code>&#x539F;&#x70B9;&#x8BBE;&#x7F6E;&#x4E3A;&#x504F;&#x79FB;&#x91CF;&#x2014;&#x2014;&#x50CF;&#x8FD9;&#x6837;&#xFF1A;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">swift&#x590D;&#x5236;&#x4EE3;&#x7801;struct PositionObservingView&lt;Content: View&gt;: View {</span><br><span class="line">    var coordinateSpace: CoordinateSpace</span><br><span class="line">@Binding var position: CGPoint</span><br><span class="line">    @ViewBuilder var content: () -&gt; Content</span><br><span class="line"></span><br><span class="line">    var body: some View {</span><br><span class="line">        content()</span><br><span class="line">            .background(GeometryReader { geometry in</span><br><span class="line">                Color.clear.preference(</span><br><span class="line">    key: PreferenceKey.self,</span><br><span class="line">    value: geometry.frame(in: coordinateSpace).origin</span><br><span class="line">)</span><br><span class="line">            })</span><br><span class="line">            .onPreferenceChange(PreferenceKey.self) { position in</span><br><span class="line">                self.position = position</span><br><span class="line">            }</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></table></figure>

<blockquote>
<p>&#x8981;&#x4E86;&#x89E3;&#x5982;&#x4F55;&#x4F7F;&#x7528;<code>@ViewBuilder</code>&#x5C5E;&#x6027;&#x6784;&#x5EFA;&#x81EA;&#x5B9A;&#x4E49;SwiftUI&#x5BB9;&#x5668;&#x89C6;&#x56FE;&#x7684;&#x66F4;&#x591A;&#x4FE1;&#x606F;&#xFF0C;&#x8BF7;&#x67E5;&#x770B;<a href="/external_links/c6122c19a4e5222f3805ac7770efa2b4.html" target="blank" rel="noopener">&#x8FD9;&#x7BC7;&#x6587;&#x7AE0;</a>&#x3002;</p>
</blockquote>
<p>&#x4E0A;&#x9762;&#x4EE3;&#x7801;&#x4E2D;&#x4F7F;&#x7528;SwiftUI&#x7684;&#x9996;&#x9009;&#x9879;&#x7CFB;&#x7EDF;&#x7684;&#x539F;&#x56E0;&#x662F;&#xFF0C;<code>GeometryReader</code>&#x5C06;&#x4F5C;&#x4E3A;&#x89C6;&#x56FE;&#x66F4;&#x65B0;&#x8FC7;&#x7A0B;&#x7684;&#x4E00;&#x90E8;&#x5206;&#x88AB;&#x8C03;&#x7528;&#xFF0C;&#x5728;&#x6B64;&#x8FC7;&#x7A0B;&#x4E2D;,&#x4E0D;&#x5141;&#x8BB8;&#x76F4;&#x63A5;&#x6539;&#x53D8;&#x89C6;&#x56FE;&#x7684;&#x72B6;&#x6001;&#x3002;&#x56E0;&#x6B64;&#xFF0C;&#x901A;&#x8FC7;&#x4F7F;&#x7528;&#x9996;&#x9009;&#x9879;&#xFF0C;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x4EE5;&#x5F02;&#x6B65;&#x65B9;&#x5F0F;&#x5C06;<code>CGPoint</code>&#x503C;&#x4F20;&#x9012;&#x5230;&#x89C6;&#x56FE;&#xFF0C;&#x7136;&#x540E;&#x5C06;&#x8FD9;&#x4E9B;&#x503C;&#x5206;&#x914D;&#x7ED9;<code>position</code> &#x7ED1;&#x5B9A;&#x53D8;&#x91CF;&#x3002;</p>
<p>&#x73B0;&#x5728;&#xFF0C;&#x9700;&#x8981;&#x505A;&#x7684;&#x5C31;&#x662F;&#x5B9E;&#x73B0;&#x4E0A;&#x9762;&#x4F7F;&#x7528;&#x7684;<code>PreferenceKey</code>&#x7C7B;&#x578B;&#xFF0C;&#x5982;&#x4E0B;&#xFF1A;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">swift&#x590D;&#x5236;&#x4EE3;&#x7801;private extension PositionObservingView {</span><br><span class="line">    struct PreferenceKey: SwiftUI.PreferenceKey {</span><br><span class="line">        static var defaultValue: CGPoint { .zero }</span><br><span class="line"></span><br><span class="line">        static func reduce(value: inout CGPoint, nextValue: () -&gt; CGPoint) {</span><br><span class="line">            // No-op</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></table></figure>

<blockquote>
<p>&#x5B9E;&#x9645;&#x4E0A;&#x4E0D;&#x9700;&#x8981;&#x5B9E;&#x73B0;&#x4E0A;&#x8FF0;&#x4EFB;&#x4F55;&#x7C7B;&#x578B;&#x7684;<code>reduce</code>&#x7B97;&#x6CD5;&#xFF0C;&#x56E0;&#x4E3A;&#x53EA;&#x6709;&#x5355;&#x4E2A;&#x89C6;&#x56FE;&#x5728;&#x4EFB;&#x4F55;&#x7ED9;&#x5B9A;&#x7684;&#x5C42;&#x6B21;&#x7ED3;&#x6784;&#x4E2D;&#x4F7F;&#x7528;&#x8BE5;&#x9996;&#x9009;&#x9879;&#x952E;&#x7684;&#x4F20;&#x9012;&#x503C;&#xFF08;&#x56E0;&#x4E3A;&#x4E0A;&#x8FF0;&#x5B9E;&#x73B0;&#x5B8C;&#x5168;&#x5305;&#x542B;&#x5728;<code>PositionObservingView</code>&#x4E2D;&#xFF09;&#x3002;</p>
</blockquote>
<p>&#x597D;&#x5427;&#xFF0C;&#x73B0;&#x5728;&#x6709;&#x4E86;&#x4E00;&#x4E2A;&#x80FD;&#x591F;&#x8BFB;&#x53D6;&#x548C;&#x89C2;&#x5BDF;&#x81EA;&#x5DF1;&#x5728;&#x7ED9;&#x5B9A;&#x5750;&#x6807;&#x7CFB;&#x4E2D;&#x4F4D;&#x7F6E;&#x7684;&#x89C6;&#x56FE;&#x3002;&#x8BA9;&#x6211;&#x4EEC;&#x4F7F;&#x7528;&#x8BE5;&#x89C6;&#x56FE;&#x6784;&#x5EFA;&#x4E00;&#x4E2A;<code>ScrollView</code>&#x5305;&#x88C5;&#x5668;&#xFF0C; &#x5B9E;&#x73B0;&#x6211;&#x4EEC;&#x7684;&#x539F;&#x59CB;&#x76EE;&#x6807;&#x2014;&#x2014;&#x80FD;&#x591F;&#x5728;&#x6B64;&#x7C7B;&#x6EDA;&#x52A8;&#x89C6;&#x56FE;&#x4E2D;&#x8BFB;&#x53D6;&#x5F53;&#x524D;&#x5185;&#x5BB9;&#x504F;&#x79FB;&#x91CF;&#x3002;</p>
<h2 id="&#x4ECE;&#x4F4D;&#x7F6E;&#x5230;&#x5185;&#x5BB9;&#x504F;&#x79FB;"><a href="#&#x4ECE;&#x4F4D;&#x7F6E;&#x5230;&#x5185;&#x5BB9;&#x504F;&#x79FB;" class="headerlink" title="&#x4ECE;&#x4F4D;&#x7F6E;&#x5230;&#x5185;&#x5BB9;&#x504F;&#x79FB;"></a>&#x4ECE;&#x4F4D;&#x7F6E;&#x5230;&#x5185;&#x5BB9;&#x504F;&#x79FB;</h2><p>&#x65B0;&#x7684;<code>ScrollView</code>&#x5305;&#x88C5;&#x5668;&#x57FA;&#x672C;&#x4E0A;&#x5C06;&#x6709;&#x4E24;&#x4E2A;&#x804C;&#x8D23;&#x2014;&#x2014;&#x4E00;&#xFF0C;&#x5B83;&#x9700;&#x8981;&#x5C06;&#x5185;&#x90E8;<code>PositionObservingView</code>&#x7684;&#x4F4D;&#x7F6E;&#x8F6C;&#x6362;&#x4E3A;&#x5F53;&#x524D;&#x6EDA;&#x52A8;&#x4F4D;&#x7F6E;&#xFF08;&#x6216;&#x5185;&#x5BB9;&#x504F;&#x79FB;&#xFF09;&#xFF0C;&#x4E8C;&#xFF0C;&#x5B83;&#x8FD8;&#x9700;&#x8981;&#x5B9A;&#x4E49;&#x4E00;&#x4E2A;<code>CordinateSpace</code>&#x5750;&#x6807;&#x7A7A;&#x95F4;&#xFF0C;&#x5185;&#x90E8;&#x89C6;&#x56FE;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#x5B83;&#x6765;&#x89E3;&#x6790;&#x5176;&#x4F4D;&#x7F6E;&#x3002;&#x9664;&#x6B64;&#x4E4B;&#x5916;&#xFF0C;&#x5B83;&#x53EA;&#x9700;&#x5C06;&#x5176;&#x914D;&#x7F6E;&#x53C2;&#x6570;&#x8F6C;&#x53D1;&#x5230;&#x5176;&#x5E95;&#x5C42;&#x7684;<code>ScrollView</code>&#xFF0C; &#x4EE5;&#x51B3;&#x5B9A;&#x6EDA;&#x52A8;&#x89C6;&#x56FE;&#x5728;&#x54EA;&#x4E9B;&#x8F74;&#x4E0A;&#x8FD0;&#x884C;&#xFF0C;&#x4EE5;&#x53CA;&#x662F;&#x5426;&#x663E;&#x793A;&#x6EDA;&#x52A8;&#x6307;&#x793A;&#x5668;&#x3002;</p>
<p>&#x597D;&#x6D88;&#x606F;&#x662F;&#xFF0C;&#x5C06;&#x5185;&#x90E8;&#x89C6;&#x56FE;&#x7684;&#x4F4D;&#x7F6E;&#x8F6C;&#x6362;&#x4E3A;&#x5185;&#x5BB9;&#x504F;&#x79FB;&#x5C31;&#x50CF;&#x7ED9;<code>CGPoint</code>&#x7684;x&#x548C;y&#x5206;&#x91CF;&#x53D6;&#x8D1F;&#x4E00;&#x6837;&#x7B80;&#x5355;&#x3002;&#x8FD9;&#x662F;&#x56E0;&#x4E3A;&#xFF0C;&#x5982;&#x524D;&#x6240;&#x8FF0;&#xFF0C;&#x6EDA;&#x52A8;&#x89C6;&#x56FE;&#x7684;&#x5185;&#x5BB9;&#x504F;&#x79FB;&#x91CF;&#x672C;&#x8D28;&#x4E0A;&#x53EA;&#x662F;&#x5BB9;&#x5668;&#x76F8;&#x5BF9;&#x4E8E;&#x6EDA;&#x52A8;&#x89C6;&#x56FE;&#x8FB9;&#x754C;&#x79FB;&#x52A8;&#x7684;&#x8DDD;&#x79BB;&#x3002;</p>
<p>&#x56E0;&#x6B64;&#xFF0C;&#x7EE7;&#x7EED;&#x5B9E;&#x65BD;&#x6211;&#x4EEC;&#x7684;&#x81EA;&#x5B9A;&#x4E49;&#x6EDA;&#x52A8;&#x89C6;&#x56FE;&#xFF0C;&#x5C06;&#x5176;&#x547D;&#x540D;&#x4E3A;<code>OffsetObservingScrollView</code>&#xFF08;&#x8FD9;&#x79CD;&#x60C5;&#x51B5;&#x4E0B;&#x62FC;&#x5199;&#x51FA;<code>ContentOffset</code>&#x786E;&#x5B9E;&#x6709;&#x70B9;&#x592A;&#x5197;&#x957F;&#x4E86;&#xFF09;&#xFF1A;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">swift&#x590D;&#x5236;&#x4EE3;&#x7801;struct OffsetObservingScrollView&lt;Content: View&gt;: View {</span><br><span class="line">    var axes: Axis.Set = [.vertical]</span><br><span class="line">    var showsIndicators = true</span><br><span class="line">    @Binding var offset: CGPoint</span><br><span class="line">    @ViewBuilder var content: () -&gt; Content</span><br><span class="line"></span><br><span class="line">    // The name of our coordinate space doesn&#x2019;t have to be</span><br><span class="line">    // stable between view updates (it just needs to be</span><br><span class="line">    // consistent within this view), so we&#x2019;ll simply use a</span><br><span class="line">    // plain UUID for it:</span><br><span class="line">    private let coordinateSpaceName = UUID()</span><br><span class="line"></span><br><span class="line">    var body: some View {</span><br><span class="line">        ScrollView(axes, showsIndicators: showsIndicators) {</span><br><span class="line">            PositionObservingView(</span><br><span class="line">                coordinateSpace: .named(coordinateSpaceName),</span><br><span class="line">                position: Binding(</span><br><span class="line">                    get: { offset },</span><br><span class="line">                    set: { newOffset in</span><br><span class="line">                        offset = CGPoint(</span><br><span class="line">    x: -newOffset.x,</span><br><span class="line">    y: -newOffset.y</span><br><span class="line">)</span><br><span class="line">                    }</span><br><span class="line">                ),</span><br><span class="line">                content: content</span><br><span class="line">            )</span><br><span class="line">        }</span><br><span class="line">        .coordinateSpace(name: coordinateSpaceName)</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></table></figure>

<blockquote>
<p>&#x6CE8;&#x610F;&#x6211;&#x4EEC;&#x5982;&#x4F55;&#x901A;&#x8FC7;&#x4F7F;&#x7528;&#x95ED;&#x5305;&#x5B9A;&#x4E49;getter&#x548C;setter&#xFF0C;&#x4E3A;&#x5185;&#x90E8;&#x89C6;&#x56FE;&#x7684;&#x4F4D;&#x7F6E;&#x53C2;&#x6570;&#x521B;&#x5EFA;&#x5B8C;&#x5168;&#x81EA;&#x5B9A;&#x4E49;&#x7684;&#x7ED1;&#x5B9A;&#x3002;&#x5982;&#x4E0A;&#x8FF0;&#x60C5;&#x51B5;&#xFF0C;&#x5728;&#x5C06;&#x4E00;&#x4E2A;&#x503C;&#x5206;&#x914D;&#x7ED9;&#x53E6;&#x4E00;&#x4E2A;&#x7ED1;&#x5B9A;&#x4E4B;&#x524D;&#x9700;&#x8FDB;&#x884C;&#x8F6C;&#x6362;&#x65F6;&#xFF0C;&#x81EA;&#x5B9A;&#x4E49;&#x7684;&#x7ED1;&#x5B9A;&#x662F;&#x4E00;&#x4E2A;&#x5F88;&#x597D;&#x7684;&#x9009;&#x62E9;&#x3002;</p>
</blockquote>
<p>&#x5C31;&#x662F;&#x8FD9;&#x6837;&#xFF01;&#x73B0;&#x5728;&#x6709;&#x4E86;&#x4E00;&#x4E2A;SwiftUI&#x5185;&#x7F6E;ScrollView&#x7684;&#x4E34;&#x65F6;&#x66FF;&#x4EE3;&#x54C1;&#xFF0C;&#x5B83;&#x80FD;&#x591F;&#x89C2;&#x5BDF;&#x5F53;&#x524D;&#x5185;&#x5BB9;&#x504F;&#x79FB;&#x91CF;&#x2014;&#x2014;&#x53EF;&#x4EE5;&#x5C06;&#x5176;&#x7ED1;&#x5B9A;&#x5230;&#x4EFB;&#x4F55;&#x72B6;&#x6001;&#x5C5E;&#x6027;&#xFF0C;&#x4F8B;&#x5982;&#x66F4;&#x6539;&#x5934;&#x90E8;&#x89C6;&#x56FE;&#x7684;&#x5E03;&#x5C40;&#xFF0C;&#x5411;&#x670D;&#x52A1;&#x5668;&#x62A5;&#x544A;&#x5206;&#x6790;&#x4E8B;&#x4EF6;&#xFF0C;&#x6216;&#x6267;&#x884C;&#x4EFB;&#x4F55;&#x5176;&#x4ED6;&#x7C7B;&#x578B;&#x7684;&#x57FA;&#x4E8E;&#x6EDA;&#x52A8;&#x4F4D;&#x7F6E;&#x7684;&#x64CD;&#x4F5C;&#x3002;&#x4F60;&#x53EF;&#x4EE5;<a href="/external_links/8f28edf80e67ea9fed81a4b2ec9ddaaa.html" target="blank" rel="noopener">&#x5728;&#x8FD9;&#x91CC;</a>&#x627E;&#x5230;&#x4E00;&#x4E2A;&#x4F7F;&#x7528;&#x4E0A;&#x8FF0;<code>OffsetObservingScrollView</code>&#x7684;&#x5B8C;&#x6574;&#x793A;&#x4F8B;&#xFF0C;&#x4EE5;&#x5B9E;&#x73B0;&#x53EF;&#x6298;&#x53E0;&#x7684;&#x5934;&#x90E8;&#x89C6;&#x56FE;&#x3002;</p>
<p>&#x6211;&#x5E0C;&#x671B;&#x4F60;&#x53D1;&#x73B0;&#x8FD9;&#x7BC7;&#x6587;&#x7AE0;&#x6709;&#x8DA3;&#x4E14;&#x6709;&#x7528;&#x3002;&#x5982;&#x679C;&#x6709;&#x4EFB;&#x4F55;&#x95EE;&#x9898;&#x3001;&#x8BC4;&#x8BBA;&#x6216;&#x53CD;&#x9988;&#xFF0C;&#x8BF7;&#x968F;&#x65F6;&#x5728;<a href="/external_links/8e5c799654a19438e5227c36b1324f29.html" target="blank" rel="noopener">Mastodon</a> &#x4E0A;&#x627E;&#x5230;&#x6211;&#xFF0C;&#x6216;&#x901A;&#x8FC7;<a href="/external_links/c0cfbcc80903de1b1832379311c681f0.html" target="blank" rel="noopener">&#x7535;&#x5B50;&#x90AE;&#x4EF6;</a>&#x4E0E;&#x6211;&#x8054;&#x7CFB;&#x3002;</p>
<p>&#x611F;&#x8C22;&#x60A8;&#x7684;&#x9605;&#x8BFB;&#xFF01;</p>
<p><strong>&#x672C;&#x6587;&#x8F6C;&#x8F7D;&#x81EA;:</strong> <a href="/external_links/5bf12bcc5b1e99e3fdfdab611e3cf250.html" target="blank" rel="noopener">&#x6398;&#x91D1;</a></p>
<p><em><a href="https://dev.newban.cn/">&#x5F00;&#x53D1;&#x8005;&#x535A;&#x5BA2; &#x2013; &#x548C;&#x5F00;&#x53D1;&#x76F8;&#x5173;&#x7684; &#x8FD9;&#x91CC;&#x5168;&#x90FD;&#x6709;</a></em></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://dev.newban.cn../../7361943620931141684.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="开发者博客">
      <meta itemprop="description" content>
      <meta itemprop="image" content="../../images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="开发者博客 – IT技术 尽在开发者博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="../../7361943620931141684.html" itemprop="url">SwiftUI视图与修饰符 SwiftUI视图与修饰符</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2024-04-26T16:23:14+08:00">
                2024-04-26
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="SwiftUI&#x89C6;&#x56FE;&#x4E0E;&#x4FEE;&#x9970;&#x7B26;"><a href="#SwiftUI&#x89C6;&#x56FE;&#x4E0E;&#x4FEE;&#x9970;&#x7B26;" class="headerlink" title="SwiftUI&#x89C6;&#x56FE;&#x4E0E;&#x4FEE;&#x9970;&#x7B26;"></a>SwiftUI&#x89C6;&#x56FE;&#x4E0E;&#x4FEE;&#x9970;&#x7B26;</h1><p>hudson &#x8BD1; <a href="/external_links/d3393aec0726870d1f0eb3747c537ee8.html" target="blank" rel="noopener">&#x539F;&#x6587;</a></p>
<p>&#x81F3;&#x5C11;&#x4ECE;&#x67B6;&#x6784;&#x7684;&#x89D2;&#x5EA6;&#x6765;&#x770B;&#xFF0C;SwiftUI&#x6700;&#x6709;&#x8DA3;&#x7684;&#x65B9;&#x9762;&#x4E4B;&#x4E00;&#x662F;&#x5B83;&#x672C;&#x8D28;&#x4E0A;&#x5982;&#x4F55;&#x5C06;&#x89C6;&#x56FE;&#x89C6;&#x4E3A;&#x6570;&#x636E;&#x3002;&#x6BD5;&#x7ADF;&#xFF0C;SwiftUI&#x89C6;&#x56FE;&#x4E0D;&#x662F;&#x5C4F;&#x5E55;&#x4E0A;&#x6E32;&#x67D3;&#x7684;&#x50CF;&#x7D20;&#x7684;&#x76F4;&#x63A5;&#x8868;&#x793A;&#xFF0C;&#x800C;&#x662F;&#x5BF9;&#x7ED9;&#x5B9A;UI&#x5E94;&#x8BE5;&#x5982;&#x4F55;&#x5DE5;&#x4F5C;&#x3001;&#x5916;&#x89C2;&#x548C;&#x884C;&#x4E3A;&#x7684;&#x63CF;&#x8FF0;&#x3002;</p>
<p>&#x5728;&#x5982;&#x4F55;&#x6784;&#x5EFA;&#x89C6;&#x56FE;&#x4EE3;&#x7801;&#x65F6;&#xFF0C;&#x8FD9;&#x79CD;&#x975E;&#x5E38;&#x6570;&#x636E;&#x9A71;&#x52A8;&#x7684;&#x65B9;&#x6CD5;&#x7ED9;&#x4E86;&#x6211;&#x4EEC;&#x5F88;&#x5927;&#x7684;&#x7075;&#x6D3B;&#x6027;&#x2014;&#x2014;&#x4EE5;&#x81F3;&#x4E8E;&#x4EBA;&#x4EEC;&#x751A;&#x81F3;&#x53EF;&#x80FD;&#x4F1A;&#x5F00;&#x59CB;&#x8D28;&#x7591;&#x5C06;&#x4E00;&#x4E2A;UI&#x5B9A;&#x4E49;&#x4E3A;&#x89C6;&#x56FE;&#x7C7B;&#x578B;&#x4E0E;&#x5C06;&#x76F8;&#x540C;&#x7684;&#x4EE3;&#x7801;&#x4F5C;&#x4E3A;&#x4FEE;&#x9970;&#x7B26;&#x5B9E;&#x73B0;&#x4E4B;&#x95F4;&#x5230;&#x5E95;&#x6709;&#x4EC0;&#x4E48;&#x533A;&#x522B;&#x3002;</p>
<p>&#x4EE5;&#x4E0B;&#x9762;<code>FeaturedLabel</code>&#x89C6;&#x56FE;&#x4E3A;&#x4F8B;&#x2014;&#x2014;&#x5B83;&#x5728;&#x5C06;&#x661F;&#x5F62;&#x56FE;&#x7247;&#x6DFB;&#x52A0;&#x5230;&#x7ED9;&#x5B9A;&#x6587;&#x672C;&#x524D;&#x9762;&#xFF0C;&#x5E76;&#x5E94;&#x7528;&#x7279;&#x5B9A;&#x7684;&#x524D;&#x666F;&#x8272;&#x548C;&#x5B57;&#x4F53;&#xFF0C;&#x4F7F;&#x8BE5;&#x6587;&#x672C;&#x8131;&#x9896;&#x800C;&#x51FA;&#xFF0C;&#x6210;&#x4E3A;&#x201C;&#x7279;&#x8272;&#x201D;&#xFF1A;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">swift&#x590D;&#x5236;&#x4EE3;&#x7801;struct FeaturedLabel: View {</span><br><span class="line">    var text: String</span><br><span class="line"></span><br><span class="line">    var body: some View {</span><br><span class="line">        HStack {</span><br><span class="line">            Image(systemName: &#x201D;star&#x201C;)</span><br><span class="line">            Text(text)</span><br><span class="line">        }</span><br><span class="line">        .foregroundColor(.orange)</span><br><span class="line">        .font(.headline)</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></table></figure>

<p>&#x867D;&#x7136;&#x4E0A;&#x8FF0;&#x5185;&#x5BB9;&#x53EF;&#x80FD;&#x770B;&#x8D77;&#x6765;&#x50CF;&#x5178;&#x578B;&#x7684;&#x81EA;&#x5B9A;&#x4E49;&#x89C6;&#x56FE;&#xFF0C;&#x4F46;&#x4F7F;&#x7528;&#x201C;&#x4FEE;&#x6539;&#x5668;&#x98CE;&#x683C;&#x201D;&#x7684;<code>View</code> &#x6269;&#x5C55;,&#x4E5F;&#x53EF;&#x4EE5;&#x8F7B;&#x677E;&#x5B9E;&#x73B0;&#x5B8C;&#x5168;&#x76F8;&#x540C;&#x7684;&#x754C;&#x9762;&#x6548;&#x679C;&#x2014;&#x2014;&#x50CF;&#x8FD9;&#x6837;&#xFF1A;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">swift&#x590D;&#x5236;&#x4EE3;&#x7801;extension View {</span><br><span class="line">    func featured() -&gt; some View {</span><br><span class="line">        HStack {</span><br><span class="line">            Image(systemName: &#x201D;star&#x201C;)</span><br><span class="line">            self</span><br><span class="line">        }</span><br><span class="line">        .foregroundColor(.orange)</span><br><span class="line">        .font(.headline)</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></table></figure>

<p>&#x5F53;&#x653E;&#x5728;&#x793A;&#x4F8B;<code>ContentView</code>&#x4E2D;&#x65F6;&#xFF0C;&#x8FD9;&#x4E24;&#x4E2A;&#x4E0D;&#x540C;&#x7684;&#x89E3;&#x51B3;&#x65B9;&#x6848;&#x5E76;&#x6392;&#x770B;&#x8D77;&#x6765;&#x5982;&#x4E0B;&#xFF1A;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">swift&#x590D;&#x5236;&#x4EE3;&#x7801;struct ContentView: View {</span><br><span class="line">    var body: some View {</span><br><span class="line">        VStack {</span><br><span class="line">            // View-based version:</span><br><span class="line">            FeaturedLabel(text: &#x201D;Hello, world!&#x201C;)</span><br><span class="line"></span><br><span class="line">            // Modifier-based version:</span><br><span class="line">            Text(&#x201D;Hello, world!&#x201C;).featured()</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></table></figure>

<p>&#x4E24;&#x79CD;&#x89E3;&#x51B3;&#x65B9;&#x6848;&#x4E4B;&#x95F4;&#x7684;&#x4E00;&#x4E2A;&#x5173;&#x952E;&#x533A;&#x522B;&#x662F;&#xFF0C;&#x540E;&#x8005;&#x53EF;&#x4EE5;&#x5E94;&#x7528;&#x4E8E;&#x4EFB;&#x4F55;&#x89C6;&#x56FE;&#xFF0C;&#x800C;&#x524D;&#x8005;&#x53EA;&#x5141;&#x8BB8;&#x6211;&#x4EEC;&#x521B;&#x5EFA;&#x57FA;&#x4E8E;<code>String</code>&#x7684;&#x7279;&#x8272;&#x6807;&#x7B7E;&#x3002;&#x4E0D;&#x8FC7;&#xFF0C;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;&#x5C06;&#x6211;&#x4EEC;&#x7684;<code>FeaturedLabel</code>&#x8F6C;&#x6362;&#x4E3A;&#x81EA;&#x5B9A;&#x4E49;&#x5BB9;&#x5668;&#x89C6;&#x56FE;&#x6765;&#x89E3;&#x51B3;&#x8FD9;&#x4E2A;&#x95EE;&#x9898;&#xFF0C;&#x8BE5;&#x89C6;&#x56FE;&#x63A5;&#x53D7;&#x4EFB;&#x4F55;&#x7B26;&#x5408;&#x89C6;&#x56FE;&#x7684;&#x5185;&#x5BB9;&#xFF0C;&#x800C;&#x4E0D;&#x4EC5;&#x4EC5;&#x662F;&#x4E00;&#x4E2A;&#x666E;&#x901A;&#x7684;&#x5B57;&#x7B26;&#x4E32;&#xFF1A;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">swift&#x590D;&#x5236;&#x4EE3;&#x7801;struct FeaturedLabel&lt;Content: View&gt;: View {</span><br><span class="line">    @ViewBuilder var content: () -&gt; Content</span><br><span class="line"></span><br><span class="line">    var body: some View {</span><br><span class="line">        HStack {</span><br><span class="line">            Image(systemName: &#x201D;star&#x201C;)</span><br><span class="line">            content()</span><br><span class="line">        }</span><br><span class="line">        .foregroundColor(.orange)</span><br><span class="line">        .font(.headline)</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></table></figure>

<blockquote>
<p>&#x4E0A;&#x9762;&#xFF0C;&#x6211;&#x4EEC;&#x5C06;<code>ViewBuilder</code>&#x5C5E;&#x6027;&#x6DFB;&#x52A0;&#x5230; <code>content</code>&#x95ED;&#x5305;&#x4E2D;&#xFF0C;&#x4FBF;&#x53EF;&#x4EE5;&#x5229;&#x7528;SwiftUI&#x7684;&#x89C6;&#x56FE;&#x6784;&#x5EFA;API&#x7684;&#x5168;&#x90E8;&#x529F;&#x80FD;&#xFF08;&#x4F8B;&#x5982;&#xFF0C; &#x53EF;&#x4EE5;&#x4E3A;&#x6BCF;&#x4E2A;<code>FeaturedLabel</code>&#x6784;&#x5EFA;&#x5185;&#x5BB9;&#x65F6;&#x4F7F;&#x7528;<code>if</code>&#x548C;<code>switch</code>&#x8BED;&#x53E5;&#xFF09;&#x3002;</p>
</blockquote>
<p>&#x4E0D;&#x8FC7;&#xFF0C;&#x6211;&#x4EEC;&#x53EF;&#x80FD;&#x4ECD;&#x7136;&#x5E0C;&#x671B;&#x4F7F;&#x7528;&#x4E00;&#x4E2A;&#x5B57;&#x7B26;&#x4E32;&#x8F7B;&#x677E;&#x521D;&#x59CB;&#x5316; <code>FeaturedLabel</code> &#x5B9E;&#x4F8B;&#xFF0C;&#x800C;&#x4E0D;&#x662F;&#x603B;&#x662F;&#x4F20;&#x9012;&#x5305;&#x542B;<code>Text</code>&#x89C6;&#x56FE;&#x7684;&#x95ED;&#x5305;&#x3002;&#x8C22;&#x5929;&#x8C22;&#x5730;&#xFF0C;&#x4F7F;&#x7528;&#x7C7B;&#x578B;&#x7EA6;&#x675F;&#xFF0C;&#x53EF;&#x4EE5;&#x8F7B;&#x677E;&#x5B9E;&#x73B0;&#xFF1A;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">swift&#x590D;&#x5236;&#x4EE3;&#x7801;extension FeaturedLabel where Content == Text {</span><br><span class="line">    init(_ text: String) {</span><br><span class="line">        self.init {</span><br><span class="line">            Text(text)</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></table></figure>

<blockquote>
<p>&#x4E0A;&#x56FE;&#x4E2D;&#xFF0C;&#x6211;&#x4EEC;&#x4F7F;&#x7528;&#x4E0B;&#x5212;&#x7EBF;&#x6765;&#x5220;&#x9664;&#x6587;&#x672C;&#x7684;&#x5916;&#x90E8;&#x53C2;&#x6570;&#x6807;&#x7B7E;&#xFF0C;&#x4EE5;&#x6A21;&#x4EFF;SwiftUI&#x81EA;&#x5DF1;&#x7684;&#x5185;&#x7F6E;&#x4FBF;&#x5229;API,&#x5982;<code>Button</code>&#x548C;<code>NavigationLink</code>&#x7B49;&#x7C7B;&#x578B;&#x5DE5;&#x4F5C;&#x7684;&#x65B9;&#x5F0F;&#x3002;</p>
</blockquote>
<p>&#x6709;&#x4E86;&#x8FD9;&#x4E9B;&#x6539;&#x53D8;&#xFF0C;&#x4E24;&#x79CD;&#x89E3;&#x51B3;&#x65B9;&#x6848;&#x73B0;&#x5728;&#x90FD;&#x5177;&#x5907;&#x5B8C;&#x5168;&#x76F8;&#x540C;&#x7684;&#x7075;&#x6D3B;&#x6027;&#xFF0C;&#x5E76;&#x4E14;&#x65E2;&#x53EF;&#x4EE5;&#x8F7B;&#x677E;&#x5730;&#x7528;&#x4E8E;&#x521B;&#x5EFA;&#x57FA;&#x4E8E;&#x6587;&#x672C;&#x7684;&#x6807;&#x7B7E;&#xFF0C;&#x4E5F;&#x53EF;&#x6E32;&#x67D3;&#x4EFB;&#x4F55;&#x7C7B;&#x578B;&#x7684;SwiftUI&#x89C6;&#x56FE;&#x5185;&#x5BB9;&#xFF1A;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">swift&#x590D;&#x5236;&#x4EE3;&#x7801;struct ContentView: View {</span><br><span class="line">    @State private var isToggleOn = false</span><br><span class="line"></span><br><span class="line">    var body: some View {</span><br><span class="line">        VStack {</span><br><span class="line">            // Using texts:</span><br><span class="line">            Group {</span><br><span class="line">                // View-based version:</span><br><span class="line">                FeaturedLabel(&#x201D;Hello, world!&#x201C;)</span><br><span class="line"></span><br><span class="line">                // Modifier-based version:</span><br><span class="line">                Text(&#x201D;Hello, world!&#x201C;).featured()</span><br><span class="line">            }</span><br><span class="line"></span><br><span class="line">            // Using toggles:</span><br><span class="line">            Group {</span><br><span class="line">                // View-based version:</span><br><span class="line">                FeaturedLabel {</span><br><span class="line">                    Toggle(&#x201D;Toggle&#x201C;, isOn: $isToggleOn)</span><br><span class="line">                }</span><br><span class="line"></span><br><span class="line">                // Modifier-based version:</span><br><span class="line">                Toggle(&#x201D;Toggle&#x201C;, isOn: $isToggleOn).featured()</span><br><span class="line">            }</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></table></figure>

<p>&#x6B64;&#x65F6;&#x6211;&#x4EEC;&#x53EF;&#x80FD;&#x4F1A;&#x771F;&#x6B63;&#x5F00;&#x59CB;&#x95EE;&#x81EA;&#x5DF1;&#x2014;&#x2014;&#x5C06;UI&#x5B9A;&#x4E49;&#x4E3A;&#x89C6;&#x56FE;&#x4E0E;&#x4FEE;&#x9970;&#x7B26;&#x5230;&#x5E95;&#x6709;&#x4EC0;&#x4E48;&#x533A;&#x522B;&#xFF1F; &#x9664;&#x4E86;&#x4EE3;&#x7801;&#x98CE;&#x683C;&#x548C;&#x7ED3;&#x6784;&#x5916;&#xFF0C;&#x771F;&#x7684;&#x6709;&#x4EC0;&#x4E48;&#x5B9E;&#x9645;&#x7684;&#x5DEE;&#x5F02;&#x5417;&#xFF1F;</p>
<p>&#x55EF;&#xFF0C;&#x90A3;&#x72B6;&#x6001;&#x5462;&#xFF1F; &#x5047;&#x8BBE;&#x6211;&#x4EEC;&#x60F3;&#x8BA9;&#x65B0;&#x7684;&#x7279;&#x8272;&#x6807;&#x7B7E;&#x5728;&#x9996;&#x6B21;&#x51FA;&#x73B0;&#x65F6;&#x81EA;&#x52A8;&#x6DE1;&#x5165;&#xFF1F; &#x8FD9;&#x9700;&#x8981;&#x6211;&#x4EEC;&#x7528;<code>@State</code>-&#x6765;&#x6807;&#x8BB0;<code>opacity</code>&#x5C5E;&#x6027;&#xFF0C;&#x7136;&#x540E;&#x5728;<code>onAppear</code>&#x95ED;&#x5305;&#x4E2D;&#x5B9E;&#x73B0;&#x52A8;&#x753B;&#x6548;&#x679C;&#x2014;&#x2014;&#x4F8B;&#x5982;&#xFF1A;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">swift&#x590D;&#x5236;&#x4EE3;&#x7801;struct FeaturedLabel&lt;Content: View&gt;: View {</span><br><span class="line">    @ViewBuilder var content: () -&gt; Content</span><br><span class="line">    @State private var opacity = 0.0</span><br><span class="line"></span><br><span class="line">    var body: some View {</span><br><span class="line">        HStack {</span><br><span class="line">            Image(systemName: &#x201D;star&#x201C;)</span><br><span class="line">            content()</span><br><span class="line">        }</span><br><span class="line">        .foregroundColor(.orange)</span><br><span class="line">        .font(.headline)</span><br><span class="line">        .opacity(opacity)</span><br><span class="line">.onAppear {</span><br><span class="line">    withAnimation {</span><br><span class="line">        opacity = 1</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></table></figure>

<p>&#x8D77;&#x521D;&#xFF0C;&#x53C2;&#x4E0E;SwiftUI&#x72B6;&#x6001;&#x7BA1;&#x7406;&#x7CFB;&#x7EDF;&#x4F3C;&#x4E4E;&#x53EA;&#x6709;&#x9002;&#x5F53;&#x7684;&#x89C6;&#x56FE;&#x7C7B;&#x578B;&#x624D;&#x80FD;&#x505A;&#x5230;&#xFF0C;&#x4F46;&#x4E8B;&#x5B9E;&#x8BC1;&#x660E;&#xFF0C;&#x4FEE;&#x9970;&#x7B26;&#x5177;&#x6709;&#x5B8C;&#x5168;&#x76F8;&#x540C;&#x7684;&#x529F;&#x80FD;&#x2014;&#x2014;&#x53EA;&#x8981;&#x6211;&#x4EEC;&#x5C06;&#x6B64;&#x7C7B;&#x4FEE;&#x9970;&#x7B26;&#x5B9A;&#x4E49;&#x4E3A;&#x9002;&#x5F53;&#x7684;&#x7B26;&#x5408; <code>ViewModifier</code>&#x534F;&#x8BAE;&#x7684;&#x7C7B;&#x578B;&#xFF0C;&#x800C;&#x4E0D;&#x4EC5;&#x4EC5;&#x662F;&#x4F7F;&#x7528;<code>View</code>&#x534F;&#x8BAE;&#x6269;&#x5C55;&#xFF1A;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">swift&#x590D;&#x5236;&#x4EE3;&#x7801;struct FeaturedModifier: ViewModifier {</span><br><span class="line">    @State private var opacity = 0.0</span><br><span class="line"></span><br><span class="line">    func body(content: Content) -&gt; some View {</span><br><span class="line">        HStack {</span><br><span class="line">            Image(systemName: &#x201D;star&#x201C;)</span><br><span class="line">            content</span><br><span class="line">        }</span><br><span class="line">        .foregroundColor(.orange)</span><br><span class="line">        .font(.headline)</span><br><span class="line">        .opacity(opacity)</span><br><span class="line">.onAppear {</span><br><span class="line">    withAnimation {</span><br><span class="line">        opacity = 1</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></table></figure>

<p>&#x6709;&#x4E86;&#x4E0A;&#x8FF0;&#x529F;&#x80FD;&#xFF0C;&#x6211;&#x4EEC;&#x73B0;&#x5728;&#x53EF;&#x4EE5;&#x7528;&#x8C03;&#x7528;&#x5C06;&#x65B0;&#x7684; <code>FeaturedModifier</code> &#x6DFB;&#x52A0;&#x5230;&#x5F53;&#x524D;&#x89C6;&#x56FE;&#x4E2D;&#x6765;,&#x53D6;&#x4EE3;&#x4E4B;&#x524D;&#x7684;<code>featured</code>&#x65B9;&#x6CD5;&#x5B9E;&#x73B0;&#x2014;&#x2014;&#x4E24;&#x79CD;&#x65B9;&#x6CD5;&#x518D;&#x6B21;&#x4EA7;&#x751F;&#x5B8C;&#x5168;&#x76F8;&#x540C;&#x7684;&#x6700;&#x7EC8;&#x7ED3;&#x679C;&#xFF1A;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">swift&#x590D;&#x5236;&#x4EE3;&#x7801;extension View {</span><br><span class="line">    func featured() -&gt; some View {</span><br><span class="line">        modifier(FeaturedModifier())</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></table></figure>

<blockquote>
<p>&#x540C;&#x6837;&#x503C;&#x5F97;&#x6CE8;&#x610F;&#x7684;&#x662F;&#xFF0C;&#x5728;<code>ViewModifier</code>&#x7C7B;&#x578B;&#x4E2D;&#x5305;&#x88C5;&#x4EE3;&#x7801;&#x65F6;&#xFF0C;&#x4EE3;&#x7801;&#x662F;&#x5EF6;&#x8FDF;&#x52A0;&#x8F7D;&#x7684;&#xFF0C;&#x5373;&#x5728;&#x9700;&#x8981;&#x65F6;&#x8BA1;&#x7B97;&#x4EE3;&#x7801;&#xFF0C;&#x800C;&#x4E0D;&#x662F;&#x5728;&#x9996;&#x6B21;&#x6DFB;&#x52A0;&#x4FEE;&#x9970;&#x7B26;&#x65F6;&#x5C31;&#x6267;&#x884C;&#x7684;&#xFF0C;&#x67D0;&#x4E9B;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;&#x6027;&#x80FD;&#x53EF;&#x80FD;&#x4F1A;&#x6709;&#x6240;&#x4E0D;&#x540C;&#x3002;</p>
</blockquote>
<p>&#x56E0;&#x6B64;&#xFF0C;&#x65E0;&#x8BBA;&#x6211;&#x4EEC;&#x662F;&#x60F3;&#x66F4;&#x6539;&#x89C6;&#x56FE;&#x7684;&#x6837;&#x5F0F;&#x6216;&#x7ED3;&#x6784;&#xFF0C;&#x8FD8;&#x662F;&#x5F15;&#x5165;&#x65B0;&#x7684;&#x72B6;&#x6001;&#xFF0C;SwiftUI&#x89C6;&#x56FE;&#x548C;&#x4FEE;&#x9970;&#x7B26;&#x90FD;&#x5177;&#x6709;&#x5B8C;&#x5168;&#x76F8;&#x540C;&#x7684;&#x529F;&#x80FD;&#x3002;&#x8FD9;&#x70B9;&#x5F00;&#x59CB;&#x53D8;&#x5F97;&#x660E;&#x663E;&#x3002;&#x4F46;&#x8FD9;&#x8BA9;&#x6211;&#x4EEC;&#x60F3;&#x5230;&#x4E86;&#x4E0B;&#x4E00;&#x4E2A;&#x95EE;&#x9898;&#x2014;&#x2014;&#x5982;&#x679C;&#x8FD9;&#x4E24;&#x79CD;&#x65B9;&#x6CD5;&#x4E4B;&#x95F4;&#x6CA1;&#x6709;&#x5B9E;&#x9645;&#x5DEE;&#x5F02;&#xFF0C;&#x6211;&#x4EEC;&#x5982;&#x4F55;&#x5728;&#x5B83;&#x4EEC;&#x4E4B;&#x95F4;&#x505A;&#x51FA;&#x9009;&#x62E9;&#xFF1F;</p>
<p>&#x81F3;&#x5C11;&#x5BF9;&#x6211;&#x6765;&#x8BF4;&#xFF0C;&#x8FD9;&#x4E00;&#x5207;&#x90FD;&#x5F52;&#x7ED3;&#x4E3A;&#x7ED3;&#x679C;&#x89C6;&#x56FE;&#x5C42;&#x6B21;&#x7ED3;&#x6784;&#x3002;&#x867D;&#x7136;&#x4ECE;&#x6280;&#x672F;&#x4E0A;&#x8BB2;&#xFF0C;&#x5728;<code>HStack</code>&#x4E2D;&#x5305;&#x88C5;&#x4E00;&#x4E2A;&#x7279;&#x8272;&#x6807;&#x7B7E;&#x6539;&#x53D8;&#x4E86;&#x89C6;&#x56FE;&#x5C42;&#x6B21;&#x7ED3;&#x6784;&#xFF0C;&#x4EE5;&#x6DFB;&#x52A0;&#x661F;&#x5F62;&#x56FE;&#x50CF;&#xFF0C;&#x4F46;&#x4ECE;&#x6982;&#x5FF5;&#x4E0A;&#x8BB2;&#xFF0C;&#x8FD9;&#x66F4;&#x591A;&#x7684;&#x662F;&#x5173;&#x4E8E;&#x6837;&#x5F0F;&#xFF0C;&#x800C;&#x4E0D;&#x662F;&#x7ED3;&#x6784;&#x3002;&#x5F53;&#x5C06;<code>featured</code>&#x4FEE;&#x9970;&#x7B26;&#x5E94;&#x7528;&#x4E8E;&#x89C6;&#x56FE;&#x65F6;&#xFF0C;&#x4ECE;&#x4EFB;&#x4F55;&#x6709;&#x610F;&#x4E49;&#x65B9;&#x5F0F;&#x8BF4;&#x4E0A;,&#x5176;&#x5E03;&#x5C40;&#x6216;&#x5728;&#x89C6;&#x56FE;&#x5C42;&#x6B21;&#x7ED3;&#x6784;&#x4E2D;&#x7684;&#x4F4D;&#x7F6E;&#x5E76;&#x6CA1;&#x6709;&#x771F;&#x6B63;&#x6539;&#x53D8; &#x2014;&#x2014;&#x81F3;&#x5C11;&#x4ECE;&#x9AD8;&#x7EA7;&#x7684;&#x89D2;&#x5EA6;&#x6765;&#x770B;&#xFF0C;&#x5B83;&#x4ECD;&#x7136;&#x53EA;&#x662F;&#x5177;&#x6709;&#x5B8C;&#x5168;&#x76F8;&#x540C;&#x6574;&#x4F53;&#x5E03;&#x5C40;&#x7684;&#x5355;&#x4E00;&#x89C6;&#x56FE;&#x3002;</p>
<p>&#x4E0D;&#x8FC7;&#xFF0C;&#x60C5;&#x51B5;&#x5E76;&#x975E;&#x603B;&#x662F;&#x5982;&#x6B64;&#x3002;&#x770B;&#x770B;&#x53E6;&#x4E00;&#x4E2A;&#x4F8B;&#x5B50;&#xFF0C;&#x5B83;&#x5E94;&#x8BE5;&#x66F4;&#x6E05;&#x695A;&#x5730;&#x8BF4;&#x660E;&#x89C6;&#x56FE;&#x548C;&#x4FEE;&#x9970;&#x7B26;&#x4E4B;&#x95F4;&#x7684;&#x6F5C;&#x5728;&#x7ED3;&#x6784;&#x5DEE;&#x5F02;&#x3002;</p>
<p>&#x5728;&#x8FD9;&#x91CC;&#xFF0C;&#x6211;&#x4EEC;&#x7F16;&#x5199;&#x4E86;&#x4E00;&#x4E2A;<code>SplitView</code>&#x5BB9;&#x5668;&#xFF0C;&#x5B83;&#x91C7;&#x7528;&#x4E24;&#x4E2A;&#x89C6;&#x56FE;&#x2014;&#x2014;&#x4E00;&#x4E2A;&#x662F;&#x524D;&#x5BFC;&#x89C6;&#x56FE;&#xFF0C;&#x4E00;&#x4E2A;&#x662F;&#x5C3E;&#x968F;&#x89C6;&#x56FE;&#x2014;&#x2014;&#x7136;&#x540E;&#x5C06;&#x5B83;&#x4EEC;&#x5E76;&#x6392;&#x6E32;&#x67D3;&#xFF0C;&#x4E2D;&#x95F4;&#x662F;&#x4E00;&#x4E2A;&#x5206;&#x9694;&#x7B26;&#x63A7;&#x4EF6;&#xFF0C;&#x540C;&#x65F6;&#x6700;&#x5927;&#x5316;&#x5176;<code>frame</code>&#xFF0C;&#x6700;&#x7EC8;&#x5B83;&#x4EEC;&#x5C06;&#x5E73;&#x5747;&#x5206;&#x9694;&#x53EF;&#x7528;&#x7A7A;&#x95F4;&#xFF1A;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">swift&#x590D;&#x5236;&#x4EE3;&#x7801;struct SplitView&lt;Leading: View, Trailing: View&gt;: View {</span><br><span class="line">    @ViewBuilder var leading: () -&gt; Leading</span><br><span class="line">    @ViewBuilder var trailing: () -&gt; Trailing</span><br><span class="line"></span><br><span class="line">    var body: some View {</span><br><span class="line">        HStack {</span><br><span class="line">            prepareSubview(leading())</span><br><span class="line">            Divider()</span><br><span class="line">            prepareSubview(trailing())</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    private func prepareSubview(_ view: some View) -&gt; some View {</span><br><span class="line">        view.frame(maxWidth: .infinity, maxHeight: .infinity)</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></table></figure>

<p>&#x5C31;&#x50CF;&#x4EE5;&#x524D;&#x4E00;&#x6837;&#xFF0C;&#x7EDD;&#x5BF9;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#x57FA;&#x4E8E;&#x4FEE;&#x9970;&#x7B26;&#x7684;&#x65B9;&#x6CD5;&#x5B9E;&#x73B0;&#x5B8C;&#x5168;&#x76F8;&#x540C;&#x7684;&#x7ED3;&#x679C;&#x2014;&#x2014;&#x8FD9;&#x53EF;&#x80FD;&#x770B;&#x8D77;&#x6765;&#x50CF;&#x8FD9;&#x6837;&#xFF1A;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">swift&#x590D;&#x5236;&#x4EE3;&#x7801;extension View {</span><br><span class="line">    func split(with trailingView: some View) -&gt; some View {</span><br><span class="line">        HStack {</span><br><span class="line">            maximize()</span><br><span class="line">            Divider()</span><br><span class="line">            trailingView.maximize()</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    func maximize() -&gt; some View {</span><br><span class="line">        frame(maxWidth: .infinity, maxHeight: .infinity)</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></table></figure>

<p>&#x7136;&#x800C;&#xFF0C;&#x5982;&#x679C;&#x518D;&#x6B21;&#x5C06;&#x4E24;&#x4E2A;&#x89E3;&#x51B3;&#x65B9;&#x6848;&#x653E;&#x5728;&#x540C;&#x4E00;&#x4E2A;&#x793A;&#x4F8B;<code>ContentView</code>&#x4E2D;&#xFF0C;&#x90A3;&#x4E48;&#x53EF;&#x4EE5;&#x770B;&#x5230;&#xFF0C;&#x8FD9;&#x6B21;&#x8FD9;&#x4E24;&#x79CD;&#x65B9;&#x6CD5;&#x5728;&#x7ED3;&#x6784;&#x548C;&#x6E05;&#x6670;&#x5EA6;&#x65B9;&#x9762;&#x770B;&#x8D77;&#x6765;&#x786E;&#x5B9E;&#x5927;&#x4E0D;&#x76F8;&#x540C;&#xFF1A;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">swift&#x590D;&#x5236;&#x4EE3;&#x7801;struct ContentView: View {</span><br><span class="line">    var body: some View {</span><br><span class="line">        VStack {</span><br><span class="line">            // View-based version:</span><br><span class="line">            SplitView(leading: {</span><br><span class="line">                Text(&#x201D;Leading&#x201C;)</span><br><span class="line">            }, trailing: {</span><br><span class="line">                Text(&#x201D;Trailing&#x201C;)</span><br><span class="line">            })</span><br><span class="line"></span><br><span class="line">            // Modifier-based version:</span><br><span class="line">            Text(&#x201D;Leading&#x201C;).split(with: Text(&#x201D;Trailing&#x201C;))</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></table></figure>

<p>&#x770B;&#x770B;&#x4E0A;&#x9762;&#x7684;&#x57FA;&#x4E8E;&#x89C6;&#x56FE;&#x7684;&#x8C03;&#x7528;&#x65B9;&#x6CD5;&#xFF0C;&#x5F88;&#x660E;&#x663E;&#xFF0C;&#x4E24;&#x4E2A;&#x6587;&#x672C;&#x88AB;&#x5305;&#x88C5;&#x5728;&#x4E00;&#x4E2A;&#x5BB9;&#x5668;&#x4E2D;&#xFF0C;&#x4E5F;&#x5F88;&#x5BB9;&#x6613;&#x5224;&#x65AD;&#x54EA;&#x4E2A;&#x662F;&#x524D;&#x5BFC;&#x89C6;&#x56FE;&#xFF0C;&#x54EA;&#x4E2A;&#x662F;&#x5C3E;&#x968F;&#x89C6;&#x56FE;&#x3002;</p>
<p>&#x4E0D;&#x8FC7;&#x8FD9;&#x6B21;&#xFF0C;&#x4E0D;&#x80FD;&#x5BF9;&#x57FA;&#x4E8E;&#x4FEE;&#x9970;&#x7B26;&#x7684;&#x7248;&#x672C;&#x8BF4;&#x540C;&#x6837;&#x7684;&#x4E8B;&#x60C5;&#xFF0C;&#x6211;&#x4EEC;&#x786E;&#x5B9E;&#x9700;&#x8981;&#x77E5;&#x9053;&#xFF0C;&#x5E94;&#x7528;&#x4FEE;&#x9970;&#x7B26;&#x7684;&#x89C6;&#x56FE; &#x662F;&#x524D;&#x5BFC;&#x89C6;&#x56FE;&#x3002;&#x6B64;&#x5916;&#xFF0C;&#x4E5F;&#x65E0;&#x6CD5;&#x5224;&#x65AD;&#x8FD9;&#x4E24;&#x4E2A;&#x6587;&#x672C;&#x6700;&#x7EC8;&#x4F1A;&#x88AB;&#x5305;&#x88F9;&#x5728;&#x4EC0;&#x4E48;&#x6837;&#x7684;&#x5BB9;&#x5668;&#x4E2D;&#x3002;&#x770B;&#x8D77;&#x6765;&#x66F4;&#x50CF;&#x662F;&#x4F7F;&#x7528;&#x5C3E;&#x968F;&#x6807;&#x7B7E;&#x4EE5;&#x67D0;&#x79CD;&#x65B9;&#x5F0F;&#x4E3A;&#x524D;&#x5BFC;&#x6807;&#x7B7E;&#x589E;&#x52A0;&#x67D0;&#x79CD;&#x98CE;&#x683C; &#xFF0C;&#x4F46;&#x4E8B;&#x5B9E;&#x5E76;&#x975E;&#x5982;&#x6B64;&#x3002;</p>
<p>&#x867D;&#x7136;&#x53EF;&#x4EE5;&#x5C1D;&#x8BD5;&#x7528;&#x66F4;&#x8BE6;&#x7EC6;&#x7684;API&#x547D;&#x540D;&#x6765;&#x89E3;&#x51B3;&#x6E05;&#x6670;&#x5EA6;&#x95EE;&#x9898;&#xFF0C;&#x4F46;&#x6838;&#x5FC3;&#x95EE;&#x9898;&#x4ECD;&#x7136;&#x5B58;&#x5728;&#x2014;&#x2014;&#x5728;&#x8FD9;&#x79CD;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;&#x57FA;&#x4E8E;&#x4FEE;&#x9970;&#x7B26;&#x7684;&#x7248;&#x672C;&#x6CA1;&#x6709;&#x6B63;&#x786E;&#x663E;&#x793A;&#x7ED3;&#x679C;&#x7684;&#x89C6;&#x56FE;&#x5C42;&#x6B21;&#x7ED3;&#x6784;&#x3002;&#x56E0;&#x6B64;&#xFF0C;&#x5728;&#x4E0A;&#x8FF0;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;&#x5F53;&#x6211;&#x4EEC;&#x5728;&#x7236;&#x5BB9;&#x5668;&#x4E2D;&#x5305;&#x88C5;&#x591A;&#x4E2A;&#x5144;&#x5F1F;&#x59D0;&#x59B9;&#x65F6;&#xFF0C;&#x9009;&#x62E9;&#x57FA;&#x4E8E;&#x89C6;&#x56FE;&#x7684;&#x89E3;&#x51B3;&#x65B9;&#x6848;&#x901A;&#x5E38;&#x4F1A;&#x7ED9;&#x6211;&#x4EEC;&#x4E00;&#x4E2A;&#x66F4;&#x6E05;&#x6670;&#x7684;&#x6700;&#x7EC8;&#x7ED3;&#x679C;&#x3002;</p>
<p>&#x53E6;&#x4E00;&#x65B9;&#x9762;&#xFF0C;&#x5982;&#x679C;&#x6211;&#x4EEC;&#x6240;&#x505A;&#x7684;&#x53EA;&#x662F;&#x5C06;&#x4E00;&#x7EC4;&#x6837;&#x5F0F;&#x5E94;&#x7528;&#x4E8E;&#x5355;&#x4E2A;&#x89C6;&#x56FE;&#xFF0C;&#x90A3;&#x4E48;&#x5C06;&#x5176;&#x5B9E;&#x73B0;&#x4E3A;&#x201C;&#x4FEE;&#x6539;&#x5668;&#x7C7B;&#x4F3C;&#x201D;&#x7684;&#x6269;&#x5C55;&#xFF0C;&#x6216;&#x4F7F;&#x7528;&#x6B63;&#x786E;&#x7684;<code>ViewModifier</code>&#x7C7B;&#x578B;&#xFF0C;&#x5C06;&#x662F;&#x6700;&#x5E38;&#x8981;&#x8D70;&#x7684;&#x8DEF;&#x3002;&#x5BF9;&#x4E8E;&#x4ECB;&#x4E8E;&#x4E24;&#x8005;&#x4E4B;&#x95F4;&#x7684;&#x4E00;&#x5207;&#x2014;&#x2014;&#x4F8B;&#x5982;&#x6211;&#x4EEC;&#x65E9;&#x671F;&#x7684;&#x201C;&#x7279;&#x8272;&#x6807;&#x7B7E;&#x201D;&#x793A;&#x4F8B;&#x2014;&#x2014;&#x8FD9;&#x4E00;&#x5207;&#x90FD;&#x5F52;&#x7ED3;&#x4E3A;&#x4EE3;&#x7801;&#x98CE;&#x683C;&#x548C;&#x4E2A;&#x4EBA;&#x504F;&#x597D;&#xFF0C;&#x5373;&#x54EA;&#x79CD;&#x89E3;&#x51B3;&#x65B9;&#x6848;&#x6700;&#x9002;&#x5408;&#x6BCF;&#x4E2A;&#x7ED9;&#x5B9A;&#x9879;&#x76EE;&#x3002;</p>
<p>&#x770B;&#x770B;SwiftUI&#x7684;&#x5185;&#x7F6E;API&#x662F;&#x5982;&#x4F55;&#x8BBE;&#x8BA1;&#x7684;&#x2014;&#x2014;&#x5BB9;&#x5668;&#xFF08;&#x5982;<code>HStack</code>&#x548C;<code>VStack</code>&#xFF09;&#x662F;&#x89C6;&#x56FE;&#xFF0C;&#x800C;&#x6837;&#x5F0F;API&#xFF08;&#x5982;&#x586B;&#x5145;&#x548C;&#x524D;&#x666F;&#x989C;&#x8272;&#xFF09;&#x662F;&#x4F5C;&#x4E3A;&#x4FEE;&#x9970;&#x7B26;&#x5B9E;&#x73B0;&#x7684;&#x3002;&#x56E0;&#x6B64;&#xFF0C;&#x5982;&#x679C;&#x5728;&#x9879;&#x76EE;&#x4E2D;&#x5C3D;&#x53EF;&#x80FD;&#x591A;&#x5730;&#x9075;&#x5FAA;&#x76F8;&#x540C;&#x7684;&#x65B9;&#x6CD5;&#xFF0C;&#x90A3;&#x4E48;&#x6700;&#x7EC8;UI&#x4EE3;&#x7801;&#x53EF;&#x80FD;&#x4F1A;&#x611F;&#x89C9;&#x4E00;&#x81F4;&#xFF0C;&#x4E14;&#x4E0E;SwiftUI&#x672C;&#x8EAB;&#x4E00;&#x81F4;&#x3002;</p>
<p>&#x6211;&#x5E0C;&#x671B;&#x4F60;&#x53D1;&#x73B0;&#x8FD9;&#x7BC7;&#x6587;&#x7AE0;&#x6709;&#x8DA3;&#x4E14;&#x6709;&#x7528;&#x3002;&#x5982;&#x679C;&#x6709;&#x4EFB;&#x4F55;&#x95EE;&#x9898;&#x3001;&#x8BC4;&#x8BBA;&#x6216;&#x53CD;&#x9988;&#xFF0C;&#x8BF7;&#x968F;&#x65F6;&#x5728;<a href="/external_links/8e5c799654a19438e5227c36b1324f29.html" target="blank" rel="noopener">Mastodon</a> &#x4E0A;&#x627E;&#x5230;&#x6211;&#xFF0C;&#x6216;&#x901A;&#x8FC7;<a href="/external_links/c0cfbcc80903de1b1832379311c681f0.html" target="blank" rel="noopener">&#x7535;&#x5B50;&#x90AE;&#x4EF6;</a>&#x4E0E;&#x6211;&#x8054;&#x7CFB;&#x3002;</p>
<p>&#x611F;&#x8C22;&#x60A8;&#x7684;&#x9605;&#x8BFB;&#xFF01;</p>
<p><strong>&#x672C;&#x6587;&#x8F6C;&#x8F7D;&#x81EA;:</strong> <a href="/external_links/1be3a70f025fe308006653dff814df69.html" target="blank" rel="noopener">&#x6398;&#x91D1;</a></p>
<p><em><a href="https://dev.newban.cn/">&#x5F00;&#x53D1;&#x8005;&#x535A;&#x5BA2; &#x2013; &#x548C;&#x5F00;&#x53D1;&#x76F8;&#x5173;&#x7684; &#x8FD9;&#x91CC;&#x5168;&#x90FD;&#x6709;</a></em></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://dev.newban.cn../../7361852837268013083.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="开发者博客">
      <meta itemprop="description" content>
      <meta itemprop="image" content="../../images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="开发者博客 – IT技术 尽在开发者博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="../../7361852837268013083.html" itemprop="url">代码报错不用愁，CodeGeeX一键完成代码修复、错误解释的</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2024-04-26T16:07:21+08:00">
                2024-04-26
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>&#x4F5C;&#x4E3A;&#x4E00;&#x540D;&#x5F00;&#x53D1;&#x8005;&#xFF0C;&#x4F60;&#x4E00;&#x5B9A;&#x9047;&#x5230;&#x8FC7;&#x5728;&#x7F16;&#x5199;&#x4EE3;&#x7801;&#x65F6;&#x51FA;&#x73B0;&#x7684;&#x5404;&#x79CD;&#x9519;&#x8BEF;&#x3002;&#x8FD9;&#x4E9B;&#x9519;&#x8BEF;&#x53EF;&#x80FD;&#x662F;&#x8BED;&#x6CD5;&#x9519;&#x8BEF;&#x3001;&#x8FD0;&#x884C;&#x65F6;&#x9519;&#x8BEF;&#x6216;&#x8005;&#x903B;&#x8F91;&#x9519;&#x8BEF;&#x3002;&#x5904;&#x7406;&#x8FD9;&#x4E9B;&#x9519;&#x8BEF;&#x901A;&#x5E38;&#x9700;&#x8981;&#x82B1;&#x8D39;&#x5927;&#x91CF;&#x7684;&#x65F6;&#x95F4;&#x548C;&#x7CBE;&#x529B;&#xFF0C;&#x7279;&#x522B;&#x662F;&#x5F53;&#x4F60;&#x5BF9;&#x9519;&#x8BEF;&#x7684;&#x539F;&#x56E0;&#x4E00;&#x65E0;&#x6240;&#x77E5;&#x65F6;&#x3002;</p>
<p>CodeGeeX&#x7684;v2.7.4&#x7248;&#x672C;&#x6700;&#x65B0;&#x4E0A;&#x7EBF;&#x7684;&#x4EE3;&#x7801;&#x4FEE;&#x590D;&#x548C;&#x9519;&#x8BEF;&#x89E3;&#x91CA;&#x529F;&#x80FD;&#xFF0C;&#x8BA9;&#x4F60;&#x5728;&#x89E3;&#x51B3;&#x4EE3;&#x7801;&#x9519;&#x8BEF;&#x7684;&#x95EE;&#x9898;&#x4E0A;&#xFF0C;&#x53D8;&#x5F97;&#x66F4;&#x52A0;&#x7B80;&#x5355;&#x548C;&#x9AD8;&#x6548;&#x3002;&#x4E0B;&#x9762;&#x6211;&#x4EEC;&#x8BE6;&#x7EC6;&#x4ECB;&#x7ECD;&#x8FD9;&#x4E2A;&#x529F;&#x80FD;&#x7684;&#x7528;&#x6CD5;&#x548C;&#x9002;&#x7528;&#x573A;&#x666F;&#xFF0C;&#x5FEB;&#x53BB;&#x66F4;&#x65B0;&#x63D2;&#x4EF6;&#x4F53;&#x9A8C;&#x8D77;&#x6765;&#x5427;&#xFF01;</p>
<p>&#x4E00;&#x3001;&#x76F4;&#x63A5;&#x5728;&#x7F16;&#x8F91;&#x5668;&#x4E2D;&#x4FEE;&#x590D;&#x4EE3;&#x7801;&#x9519;&#x8BEF;</p>
<p>&#x5F53;&#x4F60;&#x5728;VSCode&#x3001;JetBrains&#x5168;&#x5BB6;&#x6876;&#x7684;IDE&#x4EE3;&#x7801;&#x7F16;&#x8F91;&#x5668;&#x4E2D;&#x7F16;&#x5199;&#x4EE3;&#x7801;&#x65F6;&#xFF0C;&#x5982;&#x679C;&#x51FA;&#x73B0;&#x4E86;&#x9519;&#x8BEF;&#xFF0C;&#x7F16;&#x8F91;&#x5668;&#x901A;&#x5E38;&#x4F1A;&#x7528;&#x7EA2;&#x7EBF;&#x6765;&#x6807;&#x6CE8;&#x51FA;&#x9519;&#x7684;&#x4EE3;&#x7801;&#x884C;&#x3002;</p>
<p>&#x4F7F;&#x7528;CodeGeeX&#xFF0C;&#x4F60;&#x4E0D;&#x518D;&#x9700;&#x8981;&#x624B;&#x52A8;&#x67E5;&#x627E;&#x9519;&#x8BEF;&#x7684;&#x539F;&#x56E0;&#x6216;&#x8005;&#x7FFB;&#x9605;&#x6587;&#x6863;&#x6765;&#x5BFB;&#x627E;&#x89E3;&#x51B3;&#x65B9;&#x6848;&#x3002;&#x5982;&#x679C;&#x4F60;&#x4F7F;&#x7528;&#x7684;VSCode&#x4E0A;&#x7684;CodeGeeX&#x63D2;&#x4EF6;&#xFF0C;&#x53EA;&#x9700;&#x8981;&#x5728;&#x51FA;&#x73B0;&#x9519;&#x8BEF;&#x7684;&#x4EE3;&#x7801;&#x884C;&#x4E0A;&#x70B9;&#x51FB;&#x9F20;&#x6807;&#x53F3;&#x952E;&#xFF0C;&#x9009;&#x62E9;&#x201C;&#x4F7F;&#x7528;CodeGeeX&#x4FEE;&#x590D;&#x201D;&#x7684;&#x9009;&#x9879;&#xFF0C;CodeGeeX&#x5C06;&#x81EA;&#x52A8;&#x5206;&#x6790;&#x9519;&#x8BEF;&#xFF0C;&#x5E76;&#x63D0;&#x4F9B;&#x4FEE;&#x590D;&#x5EFA;&#x8BAE;&#x3002;</p>
<p>&#x5982;&#x679C;&#x4F60;&#x662F;&#x4F7F;&#x7528;&#x4E86;IDEA&#xFF0C;&#x5728;&#x51FA;&#x73B0;&#x9519;&#x8BEF;&#x7684;&#x7EA2;&#x7EBF;&#x4EE3;&#x7801;&#x5904;&#xFF0C;&#x5148;&#x70B9;&#x51FB;more actions&#xFF0C;&#x7136;&#x540E;&#x9009;&#x62E9;fix by codegeex&#xFF0C;&#x5982;&#x4E0B;&#x56FE;&#x6240;&#x793A;&#xFF1A;</p>
<p><img src="https://gitee.com/songjianzaina/juejin_p3/raw/master/img/14b742af6a43988ac039708303aefcea8a05b437f24c9b39dd0a215a681f3064" alt="&#x89C6;&#x9891;&#x56FE;1.png"></p>
<p><img src="https://gitee.com/songjianzaina/juejin_p3/raw/master/img/b28f14c9e1e36d4ba08128c8ae77761d810d30f87c77ca55918c71783b5b99bf" alt="&#x89C6;&#x9891;&#x56FE;2.png"></p>
<p>&#x4E8C;&#x3001;&#x706F;&#x6CE1;&#x56FE;&#x6807;&#x4E2D;&#x7684;CodeGeeX&#x4FEE;&#x590D;&#x529F;&#x80FD;</p>
<p>&#x9664;&#x4E86;&#x53F3;&#x952E;&#x83DC;&#x5355;&#xFF0C;CodeGeeX&#x8FD8;&#x589E;&#x5F3A;&#x4E86;&#x7F16;&#x8F91;&#x5668;&#x4E2D;&#x7684;&#x706F;&#x6CE1;&#x56FE;&#x6807;&#x529F;&#x80FD;&#x3002;&#x5F53;&#x4F60;&#x70B9;&#x51FB;&#x706F;&#x6CE1;&#x56FE;&#x6807;&#x65F6;&#xFF0C;&#x9664;&#x4E86;&#x7F16;&#x8F91;&#x5668;&#x81EA;&#x5E26;&#x7684;&#x529F;&#x80FD;&#x9009;&#x9879;&#x5916;&#xFF0C;&#x8FD8;&#x4F1A;&#x770B;&#x5230;&#x201C;&#x4F7F;&#x7528;CodeGeeX&#x4FEE;&#x590D;&#x201D;&#x7684;&#x9009;&#x9879;&#x3002;&#x8FD9;&#x610F;&#x5473;&#x7740;&#x4F60;&#x53EF;&#x4EE5;&#x5728;&#x4E0D;&#x79BB;&#x5F00;&#x5F53;&#x524D;&#x7F16;&#x8F91;&#x73AF;&#x5883;&#x7684;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;&#x76F4;&#x63A5;&#x5229;&#x7528;CodeGeeX&#x6765;&#x4FEE;&#x590D;&#x4EE3;&#x7801;&#x9519;&#x8BEF;&#x3002;</p>
<p><img src="https://gitee.com/songjianzaina/juejin_p3/raw/master/img/d9eb6f4147926f524bb6dbbc3277b5c06157881b3ed442f4983f7e937e7f4034" alt="&#x89C6;&#x9891;&#x56FE;3.png"></p>
<p>&#x4E09;&#x3001;&#x7EC8;&#x7AEF;&#x8FD0;&#x884C;&#x65F6;&#x62A5;&#x9519;&#x7684;&#x667A;&#x80FD;&#x89E3;&#x91CA;</p>
<p>&#x5728;&#x7EC8;&#x7AEF;&#x8FD0;&#x884C;&#x4EE3;&#x7801;&#x65F6;&#xFF0C;&#x7ECF;&#x5E38;&#x4F1A;&#x9047;&#x5230;&#x5404;&#x79CD;&#x62A5;&#x9519;&#x4FE1;&#x606F;&#x3002;&#x8FD9;&#x4E9B;&#x4FE1;&#x606F;&#x6709;&#x65F6;&#x53EF;&#x80FD;&#x975E;&#x5E38;&#x590D;&#x6742;&#xFF0C;&#x96BE;&#x4EE5;&#x7406;&#x89E3;&#x3002;&#x73B0;&#x5728;&#xFF0C;&#x5F53;&#x4F60;&#x5728;&#x7EC8;&#x7AEF;&#x9047;&#x5230;&#x9519;&#x8BEF;&#x65F6;&#xFF0C;&#x53EA;&#x9700;&#x901A;&#x8FC7;&#x70B9;&#x51FB;&#x53F3;&#x952E;&#x83DC;&#x5355;&#x547D;&#x4EE4;&#x201C;&#x4F7F;&#x7528;CodeGeeX&#x89E3;&#x91CA;&#x201D;&#xFF08;Windows&#x9700;&#x8981;Shift+&#x53F3;&#x952E;&#xFF09;&#x3002;</p>
<p>IDEA&#x53EA;&#x9700;&#x70B9;&#x51FB;&#x7EC8;&#x7AEF;&#x62A5;&#x9519;&#x884C;&#x65C1;&#x8FB9;&#x7684;&#x6309;&#x94AE;&#xFF0C;&#x5C31;&#x53EF;&#x4EE5;&#x8BA9;CodeGeeX&#x6765;&#x89E3;&#x91CA;&#x8FD9;&#x4E9B;&#x9519;&#x8BEF;&#x3002;CodeGeeX&#x80FD;&#x591F;&#x7406;&#x89E3;&#x9519;&#x8BEF;&#x4FE1;&#x606F;&#xFF0C;&#x5E76;&#x63D0;&#x4F9B;&#x6E05;&#x6670;&#x3001;&#x6613;&#x4E8E;&#x7406;&#x89E3;&#x7684;&#x89E3;&#x91CA;&#xFF0C;&#x751A;&#x81F3;&#x8FD8;&#x80FD;&#x7ED9;&#x51FA;&#x4FEE;&#x590D;&#x6B65;&#x9AA4;&#x3002;&#x8FD9;&#x4F7F;&#x5F97;&#x5373;&#x4F7F;&#x662F;&#x65B0;&#x624B;&#x5F00;&#x53D1;&#x8005;&#x4E5F;&#x80FD;&#x5FEB;&#x901F;&#x7406;&#x89E3;&#x5E76;&#x89E3;&#x51B3;&#x95EE;&#x9898;&#x3002;</p>
<p>&#x9AD8;&#x6548;&#x7684;&#x5F00;&#x53D1;&#x4E0D;&#x4EC5;&#x4EC5;&#x662F;&#x5199;&#x4EE3;&#x7801;&#xFF0C;&#x66F4;&#x5305;&#x62EC;&#x5982;&#x4F55;&#x5FEB;&#x901F;&#x3001;&#x4F18;&#x96C5;&#x5730;&#x89E3;&#x51B3;&#x95EE;&#x9898;&#x3002;</p>
<p>&#x56DB;&#x3001;&#x66F4;&#x591A;&#x4EA4;&#x4E92;&#x4F18;&#x5316;&#xFF0C;&#x63D0;&#x5347;&#x5F00;&#x53D1;&#x6548;&#x7387;</p>
<p>JetBrains&#x5168;&#x5BB6;&#x6876;v2.7.4&#x7248;&#x672C;&#x540E;&#xFF0C;&#x8FD8;&#x6709;&#x54EA;&#x4E9B;&#x503C;&#x5F97;&#x5173;&#x6CE8;&#x7684;&#x529F;&#x80FD;&#x66F4;&#x65B0;&#xFF0C;&#x4E0B;&#x9762;&#x4EE5;IDEA&#x4E3A;&#x4F8B;&#xFF0C;&#x4E00;&#x56FE;&#x770B;&#x61C2;&#x5728;IDEA&#x7684;&#x4FA7;&#x8FB9;&#x680F;&#xFF0C;&#x8FD8;&#x54EA;&#x4E9B;&#x4FBF;&#x6377;&#x7684;&#x667A;&#x80FD;&#x64CD;&#x4F5C;&#x3002;</p>
<p><img src="https://gitee.com/songjianzaina/juejin_p3/raw/master/img/e1818d2589607ac178fab06511f786a59c2b22465672f7aab044531d4cc99560" alt="&#x56FE;1.png"></p>
<p>&#x4FA7;&#x8FB9;&#x680F;&#x9876;&#x90E8;&#x7684;&#x201C;&#x66F4;&#x591A;&#x201D;&#x4E0B;&#x589E;&#x52A0;&#x201D;&#x8BBE;&#x7F6E;&#x201C;&#x83DC;&#x5355;&#x5165;&#x53E3;&#x3002;&#x7C7B;&#x4F3C;&#x4E8E;VSCode&#xFF0C;CodeGeeX&#x5728;JetBrains IDEs&#x5E73;&#x53F0;&#x4E0A;&#x65B0;&#x589E;&#x4E86;&#x9876;&#x90E8;&#x7684;&#x8BBE;&#x7F6E;&#x83DC;&#x5355;&#x5165;&#x53E3;&#xFF0C;&#x7528;&#x6237;&#x53EF;&#x4EE5;&#x66F4;&#x8F7B;&#x677E;&#x7684;&#x6253;&#x5F00;&#x8BBE;&#x7F6E;&#xFF0C;&#x81EA;&#x5B9A;&#x4E49;&#x63D2;&#x4EF6;&#x7684;&#x884C;&#x4E3A;&#x66F4;&#x7B26;&#x5408;&#x81EA;&#x5DF1;&#x7684;&#x4F7F;&#x7528;&#x4E60;&#x60EF;&#x3002;</p>
<p><img src="https://gitee.com/songjianzaina/juejin_p3/raw/master/img/492d5de862d1ead217db8598ca5b8646eb0484c737e00f611b2d747a987126e2" alt="&#x56FE;2.png"></p>
<p>&#x5982;&#x4E0A;&#x56FE;&#x6240;&#x793A;&#xFF0C;&#x5728;CodeGeeX&#x4FA7;&#x8FB9;&#x680F;&#x4E0A;&#x65B9;&#xFF0C;&#x70B9;&#x51FB;&#x201D;&#x2026;&#x201D;&#xFF0C;&#x5F39;&#x51FA;&#x4E0B;&#x62C9;&#x83DC;&#x5355;&#xFF0C;&#x70B9;&#x51FB;&#x201C;&#x8BBE;&#x7F6E;&#x201D;&#x8FDB;&#x5165;&#x9875;&#x9762;&#x3002;</p>
<p><img src="https://gitee.com/songjianzaina/juejin_p3/raw/master/img/124ab499a150f57b1ddad778a64fa5f9cedccb1730d3784143415babc6070aaa" alt="&#x56FE;3.png"></p>
<p>&#x4FA7;&#x8FB9;&#x680F;&#x667A;&#x80FD;&#x95EE;&#x7B54;&#x63D0;&#x4F9B;&#x66F4;&#x591A;&#x76F4;&#x89C2;&#x64CD;&#x4F5C;&#x4EE3;&#x7801;&#x7684;&#x65B9;&#x5F0F;&#x3002;&#x5728;&#x667A;&#x80FD;&#x95EE;&#x7B54;&#x5185;&#x5BB9;&#x751F;&#x6210;&#x6846;&#x4E0A;&#x65B9;&#x7684;&#x201C;&#x66F4;&#x591A;&#x201D;&#x4E2D;&#xFF0C;&#x63D0;&#x4F9B;&#x4E86;&#x5C06;&#x751F;&#x6210;&#x4EE3;&#x7801;&#x63D2;&#x5165;&#x5230;&#x65B0;&#x6587;&#x4EF6;&#x3001;&#x7EC8;&#x7AEF;&#x4E2D;&#x8FD0;&#x884C;&#x3001;&#x4E0E;&#x5F53;&#x524D;&#x6587;&#x4EF6;&#x5BF9;&#x6BD4;&#x3001;&#x4E0E;&#x526A;&#x8D34;&#x677F;&#x5BF9;&#x6BD4;&#x3001;&#x6298;&#x884C;&#x663E;&#x793A;&#x7B49;&#x591A;&#x9879;&#x64CD;&#x4F5C;&#x7684;&#x529F;&#x80FD;&#x3002;</p>
<p><img src="https://gitee.com/songjianzaina/juejin_p3/raw/master/img/e8522a6b6150a644436f07f5c77213862e7c9d21008bde17210d7eaa319ac681" alt="&#x56FE;4.png"></p>
<p>&#x667A;&#x80FD;&#x95EE;&#x7B54;&#x652F;&#x6301;&#x4E00;&#x952E;&#x590D;&#x5236;&#x3002;&#x5728;&#x4FA7;&#x8FB9;&#x680F;&#x4F7F;&#x7528;Ask CodeGeeX&#x667A;&#x80FD;&#x95EE;&#x7B54;&#x65F6;&#xFF0C;&#x9700;&#x8981;&#x540C;&#x65F6;&#x590D;&#x5236;&#x751F;&#x6210;&#x7684;&#x4EE3;&#x7801;&#x548C;&#x6587;&#x672C;&#x5185;&#x5BB9;&#x3002;CodeGeeX&#x63D0;&#x4F9B;&#x4E00;&#x952E;&#x590D;&#x5236;&#x6240;&#x6709;&#x6587;&#x672C;&#x5185;&#x5BB9;&#x7684;&#x6309;&#x94AE;&#xFF0C;&#x5E76;&#x4E14;&#x4F7F;&#x7528;Markdown&#x683C;&#x5F0F;&#x6574;&#x7406;&#x6765;&#x65B9;&#x4FBF;&#x4F7F;&#x7528;&#x3002;</p>
<p><img src="https://gitee.com/songjianzaina/juejin_p3/raw/master/img/58a15d6d6d13db152e08124972d6b2c895fc5f5aacd78795de4c751992a22621" alt="&#x56FE;5.png"></p>
<p>&#x9884;&#x6D4B;&#x540E;&#x7EED;&#x95EE;&#x9898;&#x3002;&#x5728;&#x667A;&#x80FD;&#x95EE;&#x7B54;Ask CodeGeeX&#x4E2D;&#xFF0C;&#x5F53;&#x7528;&#x6237;&#x63D0;&#x51FA;&#x4E00;&#x4E2A;&#x95EE;&#x9898;&#x83B7;&#x5F97;&#x56DE;&#x590D;&#x540E;&#xFF0C;&#x4F1A;&#x7EE7;&#x7EED;&#x751F;&#x6210;&#x63A5;&#x4E0B;&#x6765;&#x7684;&#x540E;&#x7EED;&#x95EE;&#x9898;&#x3002;</p>
<p><img src="https://gitee.com/songjianzaina/juejin_p3/raw/master/img/9ace3d40035f65b55fa421ff35dce296e4c18d59b9998945656c393805a4e618" alt="&#x56FE;6.png"></p>
<p>&#x8FD9;&#x4E9B;&#x63A8;&#x8350;&#x7ED9;&#x7528;&#x6237;&#x7684;&#x540E;&#x7EED;&#x95EE;&#x9898;&#xFF0C;&#x662F;&#x548C;&#x7528;&#x6237;&#x63D0;&#x51FA;&#x7684;&#x95EE;&#x9898;&#x76F8;&#x5173;&#x6027;&#x5F88;&#x5F3A;&#x6216;&#x8005;&#x66F4;&#x8FDB;&#x4E00;&#x6B65;&#x7684;&#x95EE;&#x9898;&#x9884;&#x6D4B;&#x3002;</p>
<p><img src="https://gitee.com/songjianzaina/juejin_p3/raw/master/img/4ac0786e9a7f337b0dd055cdd3826b9190d4f183a026e79b7ebc33a84e362e53" alt="&#x56FE;7.png"></p>
<p>&#x901A;&#x8FC7;&#x68C0;&#x7D22;&#x7B97;&#x6CD5;&#x7684;&#x4F18;&#x5316;&#xFF0C;&#x65B0;&#x7248;&#x672C;&#x4E2D;&#x7684;@repo&#x6548;&#x679C;&#x660E;&#x663E;&#x63D0;&#x5347;&#x3002;&#x540C;&#x65F6;&#xFF0C;&#x6839;&#x636E;&#x7528;&#x6237;&#x53CD;&#x9988;&#xFF0C;&#x65B0;&#x589E;&#x66F4;&#x591A;&#x5F00;&#x6E90;&#x4EE3;&#x7801;&#x4ED3;&#x5E93;&#x7684;&#x652F;&#x6301;&#x3002;(&#x70B9;&#x51FB;&#x2018;@repo&#x2019;&#x56FE;&#x6807;&#x540E;&#xFF0C;&#x8F93;&#x5165;&#x4ED3;&#x5E93;&#x540D;&#x5373;&#x53EF;&#x627E;&#x5230;)</p>
<p><img src="https://gitee.com/songjianzaina/juejin_p3/raw/master/img/a7005cfc56935f391c4064566d8c1ee821f4a89fb7fd3451dc07165e22af203b" alt="&#x56FE;8.png"></p>
<p><img src="https://gitee.com/songjianzaina/juejin_p3/raw/master/img/68e455fddf98bd77ae4bef880b590c6a4988c0a234f2abc9a50bd6bf9cae7014" alt="&#x56FE;9.png"></p>
<p>CodeGeeX&#x6536;&#x5F55;&#x7684;&#x6D41;&#x884C;&#x5F00;&#x6E90;&#x4ED3;&#x5E93;&#x5DF2;&#x7ECF;&#x8D85;&#x8FC7;100+&#x4E2A;&#xFF0C;&#x5728;&#x8F93;&#x5165;&#x4EE3;&#x7801;&#x4ED3;&#x5E93;&#x540D;&#x79F0;&#x7684;&#x540C;&#x65F6;&#xFF0C;&#x5C55;&#x793A;&#x51FA;&#x7684;&#x5F00;&#x6E90;&#x4ED3;&#x5E93;&#x5217;&#x8868;&#x4F1A;&#x6839;&#x636E;&#x68C0;&#x7D22;&#x6536;&#x5F55;&#x7ED3;&#x679C;&#x53D1;&#x751F;&#x53D8;&#x5316;&#x3002;</p>
<p>Diff&#x89C6;&#x56FE;&#x4E0B;&#x65B0;&#x589E;&#x4EE3;&#x7801;&#x5BA1;&#x67E5;&#x529F;&#x80FD;&#x548C;&#x81EA;&#x52A8;&#x751F;&#x6210;Commit Message&#x7684;&#x529F;&#x80FD;</p>
<p><img src="https://gitee.com/songjianzaina/juejin_p3/raw/master/img/b779df84559bdf101b1b094647466e6d9e7da91eae913f679fd5bcf39314a11a" alt="&#x56FE;10.png"></p>
<p>&#x5982;&#x679C;&#x4F60;&#x5BF9;CodeGeeX&#x7684;&#x8FD9;&#x4E00;&#x6CE2;&#x65B0;&#x529F;&#x80FD;&#x611F;&#x5174;&#x8DA3;&#xFF0C;&#x4E00;&#x5B9A;&#x8981;&#x53BB;IDE&#x7684;&#x63D2;&#x4EF6;&#x5E02;&#x573A;&#x66F4;&#x65B0;&#x6700;&#x65B0;&#x7248;&#x7684;CodeGeeX&#x63D2;&#x4EF6;&#x6765;&#x4F7F;&#x7528;&#x3002;</p>
<p><strong>&#x672C;&#x6587;&#x8F6C;&#x8F7D;&#x81EA;:</strong> <a href="/external_links/59bafa0074e9b1ec3144713e33638b55.html" target="blank" rel="noopener">&#x6398;&#x91D1;</a></p>
<p><em><a href="https://dev.newban.cn/">&#x5F00;&#x53D1;&#x8005;&#x535A;&#x5BA2; &#x2013; &#x548C;&#x5F00;&#x53D1;&#x76F8;&#x5173;&#x7684; &#x8FD9;&#x91CC;&#x5168;&#x90FD;&#x6709;</a></em></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://dev.newban.cn../../7361976432249733135.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="开发者博客">
      <meta itemprop="description" content>
      <meta itemprop="image" content="../../images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="开发者博客 – IT技术 尽在开发者博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="../../7361976432249733135.html" itemprop="url">「KMM」、「KMP」？他们到底是什么？</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2024-04-26T15:55:50+08:00">
                2024-04-26
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <blockquote>
<p>Kotlin Multiplatform is a technology that allows you to create applications for various platforms and efficiently reuse code across them while retaining the benefits of native programming. Your multiplatform applications will work on different operating systems, such as iOS, Android, macOS, Windows, Linux, and others. &#x2014;&#x2014; kotlin&#x5B98;&#x7F51;</p>
</blockquote>
<p>&#x4EE5;&#x4E0A;&#x662F;<code>Kotlin Multiplatform</code>&#x5B98;&#x7F51;&#x4E0A;&#x5BF9;&#x4E8E;<code>KMP</code>&#x7684;&#x7B80;&#x8981;&#x6982;&#x62EC;&#xFF0C;&#x7FFB;&#x8BD1;&#x4E00;&#x4E0B;&#xFF0C;&#x5C31;&#x662F;  </p>
<p>&#x201C;<code>Kotlin Multiplatform &#x662F;&#x4E00;&#x79CD;&#x8DE8;&#x5E73;&#x53F0;&#x6280;&#x672F;&#xFF0C;&#x5B83;&#x5141;&#x8BB8;&#x60A8;&#x5728;&#x4E0D;&#x540C;&#x5E73;&#x53F0;&#x4E0A;&#x9AD8;&#x6548;&#x7684;&#x91CD;&#x7528;&#x4EE3;&#x7801;&#x7684;&#x540C;&#x65F6;&#x4FDD;&#x7559;&#x4E0D;&#x540C;&#x5E73;&#x53F0;&#x7684;&#x4EE3;&#x7801;&#x4F18;&#x52BF;&#x3002;&#x4F7F;&#x7528;KMP&#x7F16;&#x5199;&#x7684;&#x7A0B;&#x5E8F;&#x53EF;&#x4EE5;&#x5728;&#x4E0D;&#x540C;&#x7684;&#x64CD;&#x4F5C;&#x7CFB;&#x7EDF;&#x4E0A;&#x8FD0;&#x884C;&#xFF0C;&#x4F8B;&#x5982;iOS&#x3001;Android&#x3001;macOS&#x3001;Windows&#x3001;Linux&#x7B49;</code>&#x201D;&#x3002;</p>
<p><img src="https://gitee.com/songjianzaina/juejin_p3/raw/master/img/10344c66ebc613ae4b76e14c204edb1f309dfa884dcac0ba914aa8c7b042cc8a" alt="image.png"></p>
<h2 id="KMM&#xFF1F;KMP&#xFF1F;"><a href="#KMM&#xFF1F;KMP&#xFF1F;" class="headerlink" title="KMM&#xFF1F;KMP&#xFF1F;"></a>KMM&#xFF1F;KMP&#xFF1F;</h2><p><code>KMM&#xFF08;Kotlin Multiplatform Mobile&#xFF09;</code>&#x548C;<code>KMP&#xFF08;Kotlin Multiplatform&#xFF09;</code>&#x5B9E;&#x9645;&#x4E0A;&#x662F;&#x6307;&#x540C;&#x4E00;&#x4E2A;&#x6982;&#x5FF5;&#x5728;&#x4E0D;&#x540C;&#x8303;&#x56F4;&#x7684;&#x5E94;&#x7528;&#x3002;Kotlin Multiplatform&#x662F;&#x4E00;&#x4E2A;&#x66F4;&#x5E7F;&#x6CDB;&#x7684;&#x672F;&#x8BED;&#xFF0C;&#x800C;Kotlin Multiplatform Mobile&#x4E13;&#x6CE8;&#x4E8E;<code>&#x79FB;&#x52A8;&#x5F00;&#x53D1;</code>&#x3002;</p>
<h3 id="Kotlin-Multiplatform-KMP"><a href="#Kotlin-Multiplatform-KMP" class="headerlink" title="Kotlin Multiplatform (KMP)"></a>Kotlin Multiplatform (KMP)</h3><p>Kotlin Multiplatform&#x662F;&#x4E00;&#x79CD;&#x7F16;&#x7A0B;&#x6280;&#x672F;&#xFF0C;&#x5141;&#x8BB8;&#x5F00;&#x53D1;&#x8005;&#x4F7F;&#x7528;Kotlin&#x8BED;&#x8A00;&#x7F16;&#x5199;&#x8DE8;&#x5E73;&#x53F0;&#x4EE3;&#x7801;&#x3002;&#x8FD9;&#x610F;&#x5473;&#x7740;&#x4F60;&#x53EF;&#x4EE5;&#x7528;&#x540C;&#x4E00;&#x5957;&#x4EE3;&#x7801;&#x903B;&#x8F91;&#x540C;&#x65F6;&#x8FD0;&#x884C;&#x5728;&#x591A;&#x4E2A;&#x5E73;&#x53F0;&#x4E0A;&#xFF08;&#x5982;JVM&#x3001;JavaScript&#x3001;iOS&#x3001;Android&#x3001;Linux&#x3001;Windows&#x3001;MacOS&#x7B49;&#xFF09;&#xFF0C;&#x800C;&#x4E0D;&#x9700;&#x8981;&#x4E3A;&#x6BCF;&#x4E2A;&#x5E73;&#x53F0;&#x91CD;&#x5199;&#x903B;&#x8F91;&#x3002;</p>
<p>KMP&#x7684;&#x76EE;&#x6807;&#x662F;&#x5B9E;&#x73B0;&#x4E1A;&#x52A1;&#x903B;&#x8F91;&#x6216;&#x975E;UI&#x76F8;&#x5173;&#x903B;&#x8F91;&#x7684;&#x5171;&#x4EAB;&#xFF0C;&#x4EE5;&#x51CF;&#x5C11;&#x91CD;&#x590D;&#x4EE3;&#x7801;&#x548C;&#x63D0;&#x9AD8;&#x5F00;&#x53D1;&#x6548;&#x7387;&#x3002;&#x5BF9;&#x4E8E;UI&#x90E8;&#x5206;&#xFF0C;&#x901A;&#x5E38;&#x8FD8;&#x662F;&#x9700;&#x8981;&#x4F7F;&#x7528;&#x5404;&#x4E2A;&#x5E73;&#x53F0;&#x7684;&#x539F;&#x751F;&#x6280;&#x672F;&#x6216;&#x5176;&#x4ED6;&#x8DE8;&#x5E73;&#x53F0;&#x6846;&#x67B6;&#x3002;</p>
<p>KMP&#x7684;&#x5E94;&#x7528;&#x8303;&#x56F4;&#x975E;&#x5E38;&#x5E7F;&#x6CDB;&#xFF0C;&#x5305;&#x62EC;&#x4F46;&#x4E0D;&#x9650;&#x4E8E;&#x79FB;&#x52A8;&#x5E94;&#x7528;&#x5F00;&#x53D1;&#x3002;&#x5B83;&#x4E5F;&#x53EF;&#x4EE5;&#x7528;&#x4E8E;Web&#x5F00;&#x53D1;&#x3001;&#x670D;&#x52A1;&#x5668;&#x7AEF;&#x5F00;&#x53D1;&#x3001;&#x684C;&#x9762;&#x5E94;&#x7528;&#x5F00;&#x53D1;&#x7B49;&#x3002;</p>
<h3 id="Kotlin-Multiplatform-Mobile-KMM"><a href="#Kotlin-Multiplatform-Mobile-KMM" class="headerlink" title="Kotlin Multiplatform Mobile (KMM)"></a>Kotlin Multiplatform Mobile (KMM)</h3><p>KMM&#x662F;Kotlin Multiplatform&#x5728;&#x79FB;&#x52A8;&#x5F00;&#x53D1;&#x9886;&#x57DF;&#x7684;&#x5E94;&#x7528;&#x3002;&#x5B83;&#x4E13;&#x6CE8;&#x4E8E;&#x4F7F;&#x7528;Kotlin&#x7F16;&#x5199;&#x53EF;&#x4EE5;&#x5728;Android&#x548C;iOS&#x5E73;&#x53F0;&#x4E0A;&#x5171;&#x4EAB;&#x7684;&#x4EE3;&#x7801;&#x3002;</p>
<p>&#x4E0E;KMP&#x7684;&#x5DEE;&#x5F02;&#x4E3B;&#x8981;&#x4F53;&#x73B0;&#x5728;&#x4F7F;&#x7528;&#x8303;&#x56F4;&#x4E0A;&#xFF0C;KMM&#x4E13;&#x95E8;&#x9488;&#x5BF9;&#x79FB;&#x52A8;&#x5E73;&#x53F0;&#xFF0C;&#x5373;iOS&#x548C;Android&#xFF08;&#x4E5F;&#x8BB8;&#xFF0C;maybe&#x672A;&#x6765;&#x4E5F;&#x5305;&#x62EC;&#x9E3F;&#x8499;&#xFF1F;&#xFF09;</p>
<p>Kotlin Multiplatform&#xFF08;&#x65E0;&#x8BBA;&#x662F;KMM&#x8FD8;&#x662F;&#x66F4;&#x5E7F;&#x6CDB;&#x7684;KMP&#xFF09;&#x63D0;&#x4F9B;&#x4E86;&#x4E00;&#x79CD;&#x9AD8;&#x6548;&#x7684;&#x65B9;&#x5F0F;&#x6765;&#x5171;&#x4EAB;&#x8DE8;&#x5E73;&#x53F0;&#x4EE3;&#x7801;&#xFF0C;&#x540C;&#x65F6;&#x5141;&#x8BB8;&#x5F00;&#x53D1;&#x8005;&#x4E3A;&#x6BCF;&#x4E2A;&#x5E73;&#x53F0;&#x63D0;&#x4F9B;&#x6700;&#x4F73;&#x7684;&#x7528;&#x6237;&#x4F53;&#x9A8C;&#xFF0C;&#x5982;&#x679C;&#x4F60;&#x7684;&#x9879;&#x76EE;&#x53EA;&#x6D89;&#x53CA;&#x5230;iOS&#x548C;Android&#x5E94;&#x7528;&#x7684;&#x5F00;&#x53D1;&#xFF0C;KMM&#x662F;&#x4E00;&#x4E2A;&#x5F88;&#x597D;&#x7684;&#x9009;&#x62E9;&#xFF0C;&#x56E0;&#x4E3A;&#x5B83;&#x4E13;&#x4E3A;&#x8FD9;&#x4E2A;&#x76EE;&#x7684;&#x8BBE;&#x8BA1;&#x3002;&#x5982;&#x679C;&#x4F60;&#x5E0C;&#x671B;&#x5728;&#x66F4;&#x5E7F;&#x6CDB;&#x7684;&#x5E73;&#x53F0;&#x4E0A;&#x5171;&#x4EAB;Kotlin&#x4EE3;&#x7801;&#xFF08;&#x5982;Web&#x3001;&#x684C;&#x9762;&#x6216;&#x670D;&#x52A1;&#x5668;&#x7AEF;&#xFF09;&#xFF0C;&#x90A3;&#x4E48;KMP&#x4F1A;&#x662F;&#x66F4;&#x9002;&#x5408;&#x7684;&#x9009;&#x62E9;&#x3002;</p>
<h2 id="&#x53D7;&#x547D;&#x4E8E;&#x5929;&#xFF0C;&#x65E2;&#x5BFF;&#x6C38;&#x660C;&#xFF1A;&#x8C01;&#x624D;&#x662F;&#x8DE8;&#x7AEF;&#x6B63;&#x7EDF;&#xFF1F;"><a href="#&#x53D7;&#x547D;&#x4E8E;&#x5929;&#xFF0C;&#x65E2;&#x5BFF;&#x6C38;&#x660C;&#xFF1A;&#x8C01;&#x624D;&#x662F;&#x8DE8;&#x7AEF;&#x6B63;&#x7EDF;&#xFF1F;" class="headerlink" title="&#x53D7;&#x547D;&#x4E8E;&#x5929;&#xFF0C;&#x65E2;&#x5BFF;&#x6C38;&#x660C;&#xFF1A;&#x8C01;&#x624D;&#x662F;&#x8DE8;&#x7AEF;&#x6B63;&#x7EDF;&#xFF1F;"></a>&#x53D7;&#x547D;&#x4E8E;&#x5929;&#xFF0C;&#x65E2;&#x5BFF;&#x6C38;&#x660C;&#xFF1A;&#x8C01;&#x624D;&#x662F;&#x8DE8;&#x7AEF;&#x6B63;&#x7EDF;&#xFF1F;</h2><p>&#x6253;&#x76D8;&#x53E4;&#x5F00;&#x5929;&#x8F9F;&#x5730;&#x4EE5;&#x6765;&#xFF0C;&#x4EBA;&#x7C7B;&#x5BF9;<code>&#x7EDF;&#x4E00;</code>&#x4E00;&#x76F4;&#x6709;&#x4E00;&#x79CD;&#x83AB;&#x540D;&#x7684;&#x6267;&#x5FF5;&#xFF1A;<strong>&#x975E;&#x6211;&#x65CF;&#x7C7B;&#xFF0C;&#x5176;&#x5FC3;&#x5FC5;&#x5F02;</strong>&#x3002;&#x6240;&#x4EE5;&#x5386;&#x53F2;&#x4E0A;&#x5404;&#x8DEF;&#x82F1;&#x96C4;&#x75AF;&#x4E86;&#x4F3C;&#x7684;&#x90FD;&#x8981;&#x7EDF;&#x4E00;&#x5929;&#x4E0B;&#x3002;<br>&#x524D;&#x7AEF;&#x5F00;&#x53D1;&#x4EA6;&#x662F;&#x5982;&#x6B64;&#xFF1A;&#x660E;&#x660E;&#x90FD;&#x662F;UI&#x5207;&#x56FE;&#x4ED4;&#xFF0C;&#x4E3A;&#x4F55;&#x8FD8;&#x8981;&#x533A;&#x5206;&#x51FA;<code>Android&#x5207;&#x56FE;&#x4ED4;</code>&#x3001;<code>iOS&#x5207;&#x56FE;&#x4ED4;</code>&#x3001;<code>web&#x5207;&#x56FE;&#x4ED4;</code>&#x2026;&#x4E3A;&#x4E86;&#x8FBE;&#x6210;&#x4E00;&#x7EDF;&#x5929;&#x4E0B;&#x7684;&#x76EE;&#x7684;&#xFF0C;&#x524D;&#x7AEF;&#x5386;&#x53F2;&#x4E0A;&#x4E5F;&#x662F;&#x82F1;&#x96C4;&#x8F88;&#x51FA;&#xFF1A;<code>React Native</code>&#x3001;<code>Weex</code>&#x3001;<code>Flutter</code>&#x4EE5;&#x53CA;&#x6211;&#x4EEC;&#x6B64;&#x6B21;&#x8981;&#x8BB2;&#x7684;<code>KMM(KMP)</code>&#x3002;</p>
<blockquote>
<p>&#x4E00;&#x4E2A;&#x56FD;&#x5BB6;&#xFF0C;&#x4E09;&#x4E2A;&#x653F;&#x5E9C;&#xFF0C;&#x8FD9;&#x96BE;&#x9053;&#x4E0D;&#x662F;&#x5206;&#x88C2;&#xFF0C;&#x4E0D;&#x662F;&#x5BF9;&#x5B59;&#x5148;&#x751F;&#x7684;&#x80CC;&#x53DB;&#x5417;&#xFF1F;&#x2014;&#x2014; &#x300A;&#x5EFA;&#x519B;&#x5927;&#x4E1A;&#x300B;</p>
</blockquote>
<p>&#x4E0B;&#x9762;&#x7684;&#x8868;&#x683C;&#x5217;&#x4E3E;&#x51FA;&#x4E86;&#x51E0;&#x4E2A;&#x4E3B;&#x6D41;&#x7684;&#x8DE8;&#x7AEF;&#x65B9;&#x6848;&#x7684;&#x5DEE;&#x5F02;&#x6027;&#xFF1A;</p>
<table>
<thead>
<tr>
<th>&#x7279;&#x5F81;/&#x6280;&#x672F;</th>
<th>Weex</th>
<th>React Native</th>
<th>Flutter</th>
<th>Kotlin Multiplatform (KMP)</th>
</tr>
</thead>
<tbody><tr>
<td><strong>&#x5F00;&#x53D1;&#x8005;/&#x7EF4;&#x62A4;&#x8005;</strong></td>
<td>&#x963F;&#x91CC;&#x5DF4;&#x5DF4;</td>
<td>Meta (&#x524D;Facebook)</td>
<td>Google</td>
<td>JetBrains</td>
</tr>
<tr>
<td><strong>&#x6280;&#x672F;&#x6808;</strong></td>
<td>Vue.js, JavaScript</td>
<td>JavaScript, React</td>
<td>Dart</td>
<td>Kotlin</td>
</tr>
<tr>
<td><strong>UI&#x6E32;&#x67D3;</strong></td>
<td>&#x539F;&#x751F;&#x7EC4;&#x4EF6;</td>
<td>&#x539F;&#x751F;&#x7EC4;&#x4EF6;</td>
<td>&#x81EA;&#x7ED8;UI&#xFF08;&#x901A;&#x8FC7;Skia&#xFF09;</td>
<td>&#x4F9D;&#x8D56;&#x4E8E;&#x5E73;&#x53F0;</td>
</tr>
<tr>
<td><strong>&#x6027;&#x80FD;</strong></td>
<td>&#x63A5;&#x8FD1;&#x539F;&#x751F;</td>
<td>&#x63A5;&#x8FD1;&#x539F;&#x751F;</td>
<td>&#x9AD8;&#xFF08;&#x6027;&#x80FD;&#x66F4;&#x4F18;&#xFF09;</td>
<td>&#x53D6;&#x51B3;&#x4E8E;&#x5E73;&#x53F0;&#xFF0C;&#x903B;&#x8F91;&#x90E8;&#x5206;&#x9AD8;&#x6548;</td>
</tr>
<tr>
<td><strong>&#x8DE8;&#x5E73;&#x53F0;&#x8303;&#x56F4;</strong></td>
<td>iOS, Android</td>
<td>iOS, Android, Web (&#x90E8;&#x5206;&#x652F;&#x6301;)</td>
<td>iOS, Android, Web, Desktop, Embedded</td>
<td>iOS, Android, Web, Desktop</td>
</tr>
<tr>
<td><strong>&#x5B66;&#x4E60;&#x66F2;&#x7EBF;</strong></td>
<td>&#x9002;&#x4E2D;&#xFF0C;&#x9700;&#x8981;&#x4E86;&#x89E3;Vue.js</td>
<td>&#x9002;&#x4E2D;&#xFF0C;&#x9700;&#x8981;&#x4E86;&#x89E3;React</td>
<td>&#x8F83;&#x9661;&#x5CED;&#xFF0C;&#x9700;&#x8981;&#x5B66;&#x4E60;Dart&#x8BED;&#x8A00;</td>
<td>&#x9002;&#x4E2D;&#xFF0C;&#x5BF9;Kotlin&#x5F00;&#x53D1;&#x8005;&#x8F83;&#x4E3A;&#x53CB;&#x597D;</td>
</tr>
<tr>
<td><strong>&#x793E;&#x533A;&#x548C;&#x652F;&#x6301;</strong></td>
<td>&#x9002;&#x4E2D;</td>
<td>&#x5F3A;&#x5927;</td>
<td>&#x5F3A;&#x5927;</td>
<td>&#x589E;&#x957F;&#x4E2D;</td>
</tr>
<tr>
<td><strong>&#x7528;&#x4F8B;</strong></td>
<td>&#x9002;&#x5408;&#x963F;&#x91CC;&#x751F;&#x6001;&#x5708;&#x5185;&#x7684;&#x9879;&#x76EE;</td>
<td>&#x5E7F;&#x6CDB;&#x7684;&#x5E94;&#x7528;&#x573A;&#x666F;&#xFF0C;&#x5C24;&#x5176;&#x662F;&#x9700;&#x8981;&#x5FEB;&#x901F;&#x8FED;&#x4EE3;&#x7684;&#x9879;&#x76EE;</td>
<td>&#x9002;&#x5408;&#x9AD8;&#x6027;&#x80FD;&#x548C;&#x9AD8;&#x5EA6;&#x5B9A;&#x5236;&#x5316;&#x7684;UI&#x8BBE;&#x8BA1;&#x7684;&#x5E94;&#x7528;</td>
<td>&#x9002;&#x5408;&#x903B;&#x8F91;&#x91CD;&#x7528;&#xFF0C;&#x8DE8;&#x591A;&#x5E73;&#x53F0;&#x5171;&#x4EAB;&#x4E1A;&#x52A1;&#x903B;&#x8F91;</td>
</tr>
</tbody></table>
<p>&#x5176;&#x4E2D;<code>React Native</code>&#x3001;<code>Flutter</code>&#x6210;&#x540D;&#x5DF2;&#x4E45;&#xFF0C;&#x4E5F;&#x7B97;&#x662F;&#x8DE8;&#x7AEF;&#x65B9;&#x6848;&#x4E24;&#x79CD;&#x5B9E;&#x73B0;&#x601D;&#x8DEF;&#x7684;&#x4EE3;&#x8868;&#xFF1A;</p>
<ul>
<li>&#x4EE5;<code>React Native</code>&#x4E3A;&#x4EE3;&#x8868;&#x7684;&#x4F7F;&#x7528;&#x5E73;&#x53F0;&#x7684;&#x539F;&#x751F;&#x7EC4;&#x4EF6;&#x6765;&#x6784;&#x5EFA;UI&#x3002;&#x8FD9;&#x5C31;&#x610F;&#x5473;&#x7740;&#x5B83;&#x9700;&#x8981;&#x8BB2;JavaScript&#x4EE3;&#x7801;&#x6865;&#x63A5;&#x5230;&#x539F;&#x751F;&#x4EE3;&#x7801;&#xFF0C;&#x4F7F;&#x7528;&#x539F;&#x751F;&#x63A7;&#x4EF6;&#x6765;&#x6E32;&#x67D3;&#x754C;&#x9762;&#x3002;&#x8FD9;&#x79CD;&#x65B9;&#x6CD5;&#x53EF;&#x4EE5;&#x63D0;&#x4F9B;&#x63A5;&#x8FD1;&#x539F;&#x751F;&#x7684;&#x6027;&#x80FD;&#x548C;&#x5916;&#x89C2;&#xFF0C;&#x4F46;&#x53EF;&#x80FD;&#x4F1A;&#x53D7;&#x9650;&#x4E8E;&#x6846;&#x67B6;&#x5BF9;&#x539F;&#x751F;&#x7EC4;&#x4EF6;&#x7684;&#x652F;&#x6301;&#x3002;&#x4E0E;&#x4E4B;&#x7C7B;&#x4F3C;&#x7684;&#x8FD8;&#x6709;<code>Weex</code>&#x3002;</li>
<li>&#x4EE5;<code>Flutter</code>&#x4E3A;&#x4EE3;&#x8868;&#x7684;&#x4F7F;&#x7528;&#x81EA;&#x5DF1;&#x7684;&#x6E32;&#x67D3;&#x5F15;&#x64CE;&#x7ED8;&#x5236;&#x754C;&#x9762;&#x3001;&#x6784;&#x5EFA;UI&#x3002;&#x8FD9;&#x79CD;&#x65B9;&#x6848;&#x7531;&#x4E8E;&#x907F;&#x514D;&#x4E86;&#x6865;&#x63A5;&#x5F00;&#x9500;&#xFF0C;&#x901A;&#x5E38;&#x53EF;&#x4EE5;&#x63D0;&#x4F9B;&#x66F4;&#x597D;&#x7684;&#x6027;&#x80FD;&#xFF0C;&#x4F7F;&#x5F97;&#x52A8;&#x753B;&#x548C;&#x8FC7;&#x6E21;&#x66F4;&#x52A0;&#x5E73;&#x6ED1;&#xFF0C;&#x54CD;&#x5E94;&#x66F4;&#x5FEB;&#x3002;&#x4E0E;&#x4E4B;&#x7C7B;&#x4F3C;&#x7684;&#x8FD8;&#x6709;<code>Compose Multiplatform</code>&#x3002;</li>
</ul>
<p>React Native&#x867D;&#x7136;&#x53F7;&#x79F0;&#x53EF;&#x4EE5;&#x5B9E;&#x73B0;&#x63A5;&#x8FD1;&#x539F;&#x751F;&#x7684;&#x6027;&#x80FD;&#xFF0C;&#x4F46;&#x7531;&#x4E8E;&#x5176;&#x5929;&#x7136;&#x5B58;&#x5728;&#x7684;&#x6865;&#x63A5;&#x673A;&#x5236;&#xFF08;JavaScript&#x4E0E;&#x539F;&#x751F;&#x4EE3;&#x7801;&#x4E4B;&#x95F4;&#x7684;&#x901A;&#x4FE1;&#xFF09;&#xFF0C;&#x5BF9;&#x4E8E;&#x4E00;&#x4E9B;&#x8981;&#x6C42;&#x9AD8;&#x6027;&#x80FD;&#x7684;&#x5E94;&#x7528;&#x6216;&#x590D;&#x6742;&#x52A8;&#x753B;&#xFF0C;React Native&#x53EF;&#x80FD;&#x65E0;&#x6CD5;&#x4E0E;&#x539F;&#x751F;&#x5E94;&#x7528;&#x76F8;&#x5339;&#x654C;&#x3002;<br>&#x540C;&#x65F6;&#xFF0C;&#x5C3D;&#x7BA1;React Native&#x65E8;&#x5728;&#x652F;&#x6301;&#x8DE8;&#x5E73;&#x53F0;&#x5F00;&#x53D1;&#xFF0C;&#x4F46;&#x5728;&#x5B9E;&#x9645;&#x5F00;&#x53D1;&#x4E2D;&#xFF0C;&#x4ECD;&#x7136;&#x53EF;&#x80FD;&#x9700;&#x8981;&#x7F16;&#x5199;&#x5E73;&#x53F0;&#x7279;&#x5B9A;&#x7684;&#x4EE3;&#x7801;&#x6765;&#x5904;&#x7406;&#x4E0D;&#x540C;&#x64CD;&#x4F5C;&#x7CFB;&#x7EDF;&#x4E4B;&#x95F4;&#x7684;&#x5DEE;&#x5F02;&#x3002;&#x8FD9;&#x53EF;&#x80FD;&#x51CF;&#x5C11;&#x4EE3;&#x7801;&#x590D;&#x7528;&#x7387;&#xFF0C;&#x589E;&#x52A0;&#x5F00;&#x53D1;&#x548C;&#x7EF4;&#x62A4;&#x6210;&#x672C;&#x3002;</p>
<p>&#x81F3;&#x4E8E;Flutter&#x5462;&#xFF0C;&#x6027;&#x80FD;&#x4E0A;&#x5012;&#x662F;&#x548C;&#x539F;&#x751F;&#x6CA1;&#x6709;&#x592A;&#x5927;&#x5DEE;&#x5F02;&#xFF0C;&#x5BF9;&#x4E8E;&#x90A3;&#x4E9B;&#x4E0D;&#x719F;&#x6089;Dart&#x8BED;&#x8A00;&#x7684;&#x5F00;&#x53D1;&#x8005;&#x6765;&#x8BF4;&#xFF0C;Flutter&#x53EF;&#x80FD;&#x6709;&#x4E00;&#x5B9A;&#x7684;&#x5B66;&#x4E60;&#x66F2;&#x7EBF;&#x3002;&#x867D;&#x7136;Dart&#x8BBE;&#x8BA1;&#x4E3A;&#x6613;&#x4E8E;&#x5B66;&#x4E60;&#x7684;&#x8BED;&#x8A00;&#xFF0C;&#x4F46;&#x5B83;&#x5E76;&#x4E0D;&#x662F;&#x4EC0;&#x4E48;&#x5927;&#x4F17;&#x6027;&#x7684;&#x8BED;&#x8A00;&#x3002;&#x5F00;&#x53D1;&#x8005;&#x5F80;&#x5F80;&#x9700;&#x8981;&#x989D;&#x5916;&#x7684;&#x65F6;&#x95F4;&#x548C;&#x8D44;&#x6E90;&#x6765;&#x5B66;&#x4E60;Dart&#x8BED;&#x8A00;&#x53CA;Flutter&#x6846;&#x67B6;&#x3002;</p>
<p>&#x540C;&#x65F6;&#xFF0C;&#x867D;&#x7136;Flutter&#x52AA;&#x529B;&#x63D0;&#x4F9B;&#x4E30;&#x5BCC;&#x7684;&#x63D2;&#x4EF6;&#x6765;&#x652F;&#x6301;&#x5404;&#x79CD;&#x5E73;&#x53F0;&#x7279;&#x5B9A;&#x529F;&#x80FD;&#xFF0C;&#x4F46;&#x65B0;&#x7684;&#x5E73;&#x53F0;&#x529F;&#x80FD;&#x6216;&#x8F83;&#x5C11;&#x4F7F;&#x7528;&#x7684;&#x529F;&#x80FD;&#x53EF;&#x80FD;&#x6CA1;&#x6709;&#x73B0;&#x6210;&#x7684;&#x63D2;&#x4EF6;&#x652F;&#x6301;&#xFF0C;&#x8FD9;&#x4E9B;&#x4E5F;&#x9700;&#x8981;&#x5F00;&#x53D1;&#x8005;&#x81EA;&#x884C;&#x7F16;&#x5199;&#x539F;&#x751F;&#x4EE3;&#x7801;&#x5E76;&#x521B;&#x5EFA;&#x6865;&#x63A5;&#x903B;&#x8F91;&#xFF0C;&#x65E0;&#x7591;&#x589E;&#x52A0;&#x4E86;&#x5F00;&#x53D1;&#x7684;&#x590D;&#x6742;&#x6027;&#x548C;&#x65F6;&#x95F4;&#x6210;&#x672C;&#x3002;</p>
<blockquote>
<p>&#x4EC0;&#x4E48;&#xFF1F;&#x4F60;&#x95EE;&#x6211;&#x300C;Weex&#x300D;&#xFF1F;  </p>
<p>&#x5927;&#x4EBA;&#xFF0C;&#x65F6;&#x4EE3;&#x53D8;&#x4E86;&#xFF0C;&#x5927;&#x6E05;&#x4EA1;&#x4E86;&#x554A;&#xFF01;Weex&#x7684;Github&#x6700;&#x8FD1;&#x7684;&#x4E00;&#x6B21;&#x63D0;&#x4EA4;&#x662F;&#x5728;23&#x5E74;8&#x6708;&#x4EFD;[/&#x54ED;]</p>
</blockquote>
<h2 id="&#x300C;KMP&#x300D;&#x65B0;&#x738B;&#x5F53;&#x7ACB;&#xFF1F;"><a href="#&#x300C;KMP&#x300D;&#x65B0;&#x738B;&#x5F53;&#x7ACB;&#xFF1F;" class="headerlink" title="&#x300C;KMP&#x300D;&#x65B0;&#x738B;&#x5F53;&#x7ACB;&#xFF1F;"></a>&#x300C;KMP&#x300D;&#x65B0;&#x738B;&#x5F53;&#x7ACB;&#xFF1F;</h2><h3 id="&#x66F4;&#x7EC6;&#x7C92;&#x5EA6;&#x3001;&#x6E10;&#x8FDB;&#x5F0F;&#x7684;&#x8DE8;&#x5E73;&#x53F0;"><a href="#&#x66F4;&#x7EC6;&#x7C92;&#x5EA6;&#x3001;&#x6E10;&#x8FDB;&#x5F0F;&#x7684;&#x8DE8;&#x5E73;&#x53F0;" class="headerlink" title="&#x66F4;&#x7EC6;&#x7C92;&#x5EA6;&#x3001;&#x6E10;&#x8FDB;&#x5F0F;&#x7684;&#x8DE8;&#x5E73;&#x53F0;"></a>&#x66F4;&#x7EC6;&#x7C92;&#x5EA6;&#x3001;&#x6E10;&#x8FDB;&#x5F0F;&#x7684;&#x8DE8;&#x5E73;&#x53F0;</h3><p><img src="https://gitee.com/songjianzaina/juejin_p3/raw/master/img/bddf0da83614f1ab3d4e30aa714cabc853807abb7d2ac28f576a0b9ec87ff302" alt="image.png"></p>
<p>&#x4E0E;&#x4F20;&#x7EDF;&#x7684;<code>Flutter</code> or <code>React Native</code>&#x65B9;&#x6848;&#x4E0D;&#x540C;&#xFF0C;<code>KMP</code>&#x5BF9;&#x4E8E;&#x8DE8;&#x5E73;&#x53F0;&#x4EE3;&#x7801;&#x7684;&#x7C92;&#x5EA6;&#x66F4;&#x52A0;&#x7CBE;&#x7EC6;&#xFF0C;&#x5141;&#x8BB8;&#x5F00;&#x53D1;&#x8005; <strong>&#x6E10;&#x8FDB;&#x5F0F;</strong> &#x7684;&#x5B8C;&#x6210;&#x8DE8;&#x5E73;&#x53F0;&#xFF0C;&#x6309;&#x4EE3;&#x7801;&#x7684;&#x91CD;&#x7528;&#x7A0B;&#x5EA6;&#x4E0D;&#x540C;&#x5206;&#x4E3A;3&#x79CD;&#xFF1A;</p>
<ul>
<li>&#x5171;&#x4EAB;&#x90E8;&#x5206;&#x903B;&#x8F91;&#x5C42;&#x4EE3;&#x7801;</li>
</ul>
<p>&#x5728;&#x4FDD;&#x969C;app&#x7684;&#x7A33;&#x5B9A;&#x6027;&#x7684;&#x524D;&#x63D0;&#x4E0B;&#xFF0C;&#x5C06;&#x90E8;&#x5206;&#x5173;&#x952E;&#x4E14;&#x72EC;&#x7ACB;&#x7684;&#x903B;&#x8F91;&#x5C42;&#x4EE3;&#x7801;&#x8FDB;&#x884C;&#x5171;&#x4EAB;&#xFF0C;&#x4F7F;&#x5176;&#x80FD;&#x5728;&#x4E0D;&#x540C;&#x7684;&#x5E73;&#x53F0;&#x4E0A;&#x91CD;&#x7528;&#x8FD9;&#x90E8;&#x5206;&#x7684;&#x4EE3;&#x7801;&#x3002;&#x8FD9;&#x79CD;&#x65B9;&#x5F0F;&#x9002;&#x5408;&#x73B0;&#x6709;&#x9879;&#x76EE;&#x5411;KMP&#x7684;&#x8FC1;&#x79FB;&#xFF0C;&#x6700;&#x5927;&#x7A0B;&#x5EA6;&#x7684;&#x4FDD;&#x8BC1;app&#x7684;&#x7A33;&#x5B9A;&#x6027;&#x3002;</p>
<ul>
<li>&#x903B;&#x8F91;&#x5C42;&#x4EE3;&#x7801;&#x5B8C;&#x5168;&#x8DE8;&#x5E73;&#x53F0;&#xFF0C;UI&#x5C42;&#x4EE3;&#x7801;&#x4FDD;&#x6301;&#x5E73;&#x53F0;&#x72EC;&#x7ACB;&#x6027;</li>
</ul>
<p>&#x903B;&#x8F91;&#x5C42;&#x4EE3;&#x7801;&#x5B8C;&#x5168;&#x5B9E;&#x73B0;&#x8DE8;&#x5E73;&#x53F0;&#xFF0C;&#x4F46;&#x662F;UI&#x90E8;&#x5206;&#x7684;&#x4EE3;&#x7801;&#x4FDD;&#x6301;&#x5E73;&#x53F0;&#x72EC;&#x7ACB;&#x6027;&#x3002;&#x8FD9;&#x79CD;&#x6A21;&#x5F0F;&#x6BD4;&#x8F83;&#x9002;&#x5408;&#x65B0;&#x9879;&#x76EE;&#xFF0C;&#x6CA1;&#x6709;&#x5386;&#x53F2;&#x503A;&#x52A1;&#xFF0C;&#x4ECE;&#x65B0;&#x5F00;&#x59CB;&#x3002;</p>
<ul>
<li>&#x903B;&#x8F91;&#x5C42;&#x548C;UI&#x5C42;&#x5B8C;&#x5168;&#x7684;&#x8DE8;&#x5E73;&#x53F0;&#xFF0C;&#x5373;&#x4EE3;&#x7801;100%&#x91CD;&#x7528;</li>
</ul>
<p>&#x8DE8;&#x5E73;&#x53F0;&#x9879;&#x76EE;&#x7684;&#x5B8C;&#x5168;&#x4F53;&#xFF0C;UI&#x90E8;&#x5206;&#x4F7F;&#x7528;<code>Compose Multiplatform</code>&#x6765;&#x5B8C;&#x6210;&#x8DE8;&#x5E73;&#x53F0;&#x8FBE;&#x5230;&#x91CD;&#x7528;&#x4EE3;&#x7801;&#x7684;&#x76EE;&#x7684;&#x3002;<br><img src="https://gitee.com/songjianzaina/juejin_p3/raw/master/img/4a963d4487d0d72a3529001da47a2d8ad3c9f0142b4d785a9108d056d0994956" alt="&#x4F7F;&#x7528;Compose Multiplatform&#x7F16;&#x5199;&#x7684;&#x8DE8;&#x5E73;&#x53F0;&#x9879;&#x76EE;" title="&#x4F7F;&#x7528;Compose Multiplatform&#x7F16;&#x5199;&#x7684;&#x8DE8;&#x5E73;&#x53F0;&#x9879;&#x76EE;"></p>
<h3 id="&#x6027;&#x80FD;&#x6709;&#x4FDD;&#x969C;&#x7684;&#x8DE8;&#x5E73;&#x53F0;"><a href="#&#x6027;&#x80FD;&#x6709;&#x4FDD;&#x969C;&#x7684;&#x8DE8;&#x5E73;&#x53F0;" class="headerlink" title="&#x6027;&#x80FD;&#x6709;&#x4FDD;&#x969C;&#x7684;&#x8DE8;&#x5E73;&#x53F0;"></a>&#x6027;&#x80FD;&#x6709;&#x4FDD;&#x969C;&#x7684;&#x8DE8;&#x5E73;&#x53F0;</h3><p>&#x901A;&#x8FC7;KMP&#x8DE8;&#x5E73;&#x53F0;&#x800C;&#x5171;&#x4EAB;&#x7684;&#x4EE3;&#x7801;&#xFF0C;&#x6700;&#x7EC8;&#x4F1A;&#x88AB;&#x7F16;&#x8BD1;&#x6210;&#x5BF9;&#x5E94;&#x5E73;&#x53F0;&#x7684;&#x4E8C;&#x8FDB;&#x5236;&#x6587;&#x4EF6;&#x3002;</p>
<p>&#x4EC0;&#x4E48;&#x610F;&#x601D;&#x5462;&#xFF1F;&#x6211;&#x4EEC;&#x4F7F;&#x7528;Kotlin&#x5199;&#x7684;&#x8DE8;&#x5E73;&#x53F0;&#x7684;&#x4EE3;&#x7801;&#xFF0C;&#x6700;&#x7EC8;&#x7F16;&#x8BD1;&#x751F;&#x6210;&#x7684;&#xFF0C;&#x4E0D;&#x4E00;&#x5B9A;&#x662F;.class&#x6587;&#x4EF6;&#x4E86;&#xFF0C;&#x53EF;&#x80FD;&#x662F;js&#x6587;&#x4EF6;&#x3001;.exe&#x3001;.framwork&#x2026;&#x7B49;&#x7B49;&#x90FD;&#x6709;&#x53EF;&#x80FD; &#x2014;&#x2014; &#x8FD9;&#x53D6;&#x51B3;&#x4E8E;&#x76EE;&#x6807;&#x5E73;&#x53F0;&#x3002;</p>
<p>&#x8FD9;&#x4E2A;&#x7279;&#x6027;&#x5929;&#x7136;&#x5C31;&#x51B3;&#x5B9A;&#x4E86;KMP&#x7684;&#x6027;&#x80FD;&#x76F8;&#x5BF9;&#x4E8E;React Native&#x548C;Flutter&#x66F4;&#x597D;&#x3002;&#x7406;&#x8BBA;&#x4E0A;KMP&#x751F;&#x6210;&#x7684;&#x4EE3;&#x7801;&#x548C;&#x539F;&#x751F;&#x4EE3;&#x7801;&#x5728;&#x6027;&#x80FD;&#x4E0A;&#x5E94;&#x8BE5;&#x522B;&#x65E0;&#x4E8C;&#x81F4;&#x3002;</p>
<h3 id="image-png"><a href="#image-png" class="headerlink" title="image.png"></a>image.png</h3><h3 id="&#x8BF4;&#x7684;&#x5929;&#x82B1;&#x4E71;&#x5760;&#xFF0C;&#x90FD;&#x8C01;&#x5728;&#x7528;KMP&#xFF1F;"><a href="#&#x8BF4;&#x7684;&#x5929;&#x82B1;&#x4E71;&#x5760;&#xFF0C;&#x90FD;&#x8C01;&#x5728;&#x7528;KMP&#xFF1F;" class="headerlink" title="&#x8BF4;&#x7684;&#x5929;&#x82B1;&#x4E71;&#x5760;&#xFF0C;&#x90FD;&#x8C01;&#x5728;&#x7528;KMP&#xFF1F;"></a>&#x8BF4;&#x7684;&#x5929;&#x82B1;&#x4E71;&#x5760;&#xFF0C;&#x90FD;&#x8C01;&#x5728;&#x7528;KMP&#xFF1F;</h3><p>&#x5B98;&#x7F51;&#x4E0A;&#x5217;&#x4E3E;&#x4E86;&#x5F88;&#x591A;&#x6848;&#x4F8B;&#xFF1A;</p>
<p><img src="https://gitee.com/songjianzaina/juejin_p3/raw/master/img/1ca6b890389d66ad91e7300ed44b2e48a1cc951c07fd0b6df90bdddd39eb155d" alt></p>
<p>&#x57FA;&#x672C;&#x4E0A;&#x4EE5;&#x56FD;&#x5916;&#x516C;&#x53F8;&#x4E3A;&#x4E3B;&#xFF0C;&#x4E0D;&#x8FC7;&#x636E;&#x6211;&#x6240;&#x77E5;&#xFF0C;&#x56FD;&#x5185;&#x7684;&#x5F88;&#x591A;&#x516C;&#x53F8;&#x4E5F;&#x5DF2;&#x7ECF;&#x5728;&#x751F;&#x4EA7;&#x73AF;&#x5883;&#x4E0A;&#x5C1D;&#x8BD5;KMP&#xFF0C;&#x50CF;<code>&#x5C0F;&#x7834;&#x7AD9;</code>&#x3001;<code>&#x8389;&#x8389;&#x4E1D;</code>&#x3001;<code>&#x7F8E;&#x56E2;</code>&#x7B49;&#x3002;</p>
<p><code>Google</code>&#x4E5F;&#x4E00;&#x76F4;&#x5728;&#x52A0;&#x5927;&#x5BF9;<code>KMP</code>&#x7684;&#x652F;&#x6301;&#x529B;&#x5EA6;&#xFF0C;&#x65E9;&#x5728;2022&#x5E74;10&#x6708;&#x4EFD;&#x5C31;&#x5BA3;&#x5E03;&#x4E86;<code>Jetpack</code>&#x5F00;&#x59CB;&#x652F;&#x6301;KMP&#x4E86;&#xFF1A;</p>
<p><a href="/external_links/8bf1d9229deb0619df980ef8b8902cf9.html" target="blank" rel="noopener">Announcing an Experimental Preview of Jetpack Multiplatform Libraries</a></p>
<p><img src="https://gitee.com/songjianzaina/juejin_p3/raw/master/img/b0a6b250cef0896d589a1418b4fd93df9d09b52eb3b018d0534a92a8eb6dcc4e" alt="Jetpack&#x5F00;&#x59CB;&#x652F;&#x6301;KMP" title="Jetpack&#x5F00;&#x59CB;&#x652F;&#x6301;KMP"></p>
<p>&#x6240;&#x4EE5;&#x5BF9;&#x4E8E;KMP&#x7684;&#x793E;&#x533A;&#x751F;&#x6001;&#x6216;&#x8005;&#x8BF4;&#x662F;&#x5F00;&#x53D1;&#x4F53;&#x9A8C;&#x4E0A;&#xFF0C;&#x6211;&#x662F;&#x4FDD;&#x6301;&#x7740;&#x76F8;&#x5BF9;&#x4E50;&#x89C2;&#x7684;&#x6001;&#x5EA6;&#xFF1A;&#x80CC;&#x9760;Google&#x4EE5;&#x53CA;&#x6700;&#x4F1A;&#x505A;IDE&#x7684;Jetbrains&#xFF0C;&#x6211;&#x76F8;&#x4FE1;KMP&#x7684;&#x751F;&#x6001;&#x4E0D;&#x4F1A;&#x5DEE;&#xFF0C;&#x65F6;&#x95F4;&#x95EE;&#x9898;&#x7F62;&#x4E86;&#x3002;</p>
<h2 id="&#x8BE5;&#x4E0D;&#x8BE5;&#x4F7F;&#x7528;KMP&#xFF1F;"><a href="#&#x8BE5;&#x4E0D;&#x8BE5;&#x4F7F;&#x7528;KMP&#xFF1F;" class="headerlink" title="&#x8BE5;&#x4E0D;&#x8BE5;&#x4F7F;&#x7528;KMP&#xFF1F;"></a>&#x8BE5;&#x4E0D;&#x8BE5;&#x4F7F;&#x7528;KMP&#xFF1F;</h2><p>&#x5F00;&#x6E90;&#x7684;&#x4E16;&#x754C;&#x767E;&#x5BB6;&#x4E89;&#x9E23;&#xFF0C;&#x4F46;&#x662F;&#x843D;&#x5230;&#x5B9E;&#x5904;&#x5F80;&#x5F80;&#x4E5F;&#x662F;&#x6210;&#x738B;&#x8D25;&#x5BC7;&#x3002;&#x4F5C;&#x4E3A;&#x5F00;&#x53D1;&#x8005;&#xFF0C;&#x505A;&#x6280;&#x672F;&#x9009;&#x578B;&#x5C31;&#x66F4;&#x9700;&#x8981;&#x614E;&#x91CD;&#x518D;&#x614E;&#x91CD;&#x4E86;&#x3002;<br>&#x5982;&#x679C;&#x4F60;&#x6709;&#x8DE8;&#x5E73;&#x53F0;&#x7684;&#x8BC9;&#x6C42;&#xFF0C;&#x6211;&#x8BA4;&#x4E3A;KMP&#x5F53;&#x524D;&#x503C;&#x5F97;&#x63A8;&#x8350;&#x3002;</p>
<p>&#x4F5C;&#x4E3A;&#x4E00;&#x4E2A;Android&#x5F00;&#x53D1;&#x8005;&#x3001;Kotlin&#x8BED;&#x8A00;&#x7684;&#x4F7F;&#x7528;&#x8005;&#xFF0C;Kotlin&#x3001;Compose&#x672C;&#x8EAB;&#x5C31;&#x5F88;&#x719F;&#x6089;&#xFF0C;&#x4F7F;&#x7528;KMP&#x51E0;&#x4E4E;&#x6CA1;&#x4EC0;&#x4E48;&#x5B66;&#x4E60;&#x6210;&#x672C;&#x548C;&#x95E8;&#x69DB;&#xFF0C;&#x8DE8;&#x5E73;&#x53F0;&#x7684;&#x80FD;&#x529B;&#x7B80;&#x76F4;&#x7B97;&#x662F;&#x767D;&#x9001;&#x7684;&#x3002;&#x5373;&#x4FBF;&#x4E0D;&#x719F;&#x6089;Compose&#xFF0C;&#x6211;&#x4EEC;&#x4E5F;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;KMM&#x5199;&#x4E00;&#x4E9B;UI&#x65E0;&#x5173;&#x7684;&#x3001;&#x903B;&#x8F91;&#x5C42;&#x7684;&#x4EE3;&#x7801;&#xFF0C;&#x5171;&#x7528;&#x903B;&#x8F91;&#x5C42;&#xFF0C;&#x8FBE;&#x5230;&#x8DE8;&#x5E73;&#x53F0;&#x7684;&#x80FD;&#x529B;&#x3002;&#x6BD4;&#x5982;&#x4F7F;&#x7528;KMP&#x505A;&#x57CB;&#x70B9;&#x6570;&#x636E;&#x4E0A;&#x62A5;&#x3002;</p>
<p>&#x81F3;&#x4E8E;&#x8DE8;&#x5E73;&#x53F0;&#x662F;&#x4E0D;&#x662F;&#x4F2A;&#x9700;&#x6C42;&#xFF0C;&#x6211;&#x89C9;&#x5F97;&#x5E94;&#x8BE5;&#x9AD8;&#x77BB;&#x8FDC;&#x77A9;&#x4E00;&#x4E0B;&#x3002;&#x73B0;&#x6709;&#x4E3B;&#x6D41;&#x7684;&#x79FB;&#x52A8;&#x7AEF;&#x5E73;&#x53F0;&#x53EA;&#x6709;iOS&#x548C;Android&#xFF0C;&#x52A0;&#x4E0A;&#x672A;&#x6765;&#x7684;&#x300C;&#x9E3F;&#x8499;&#x300D;&#x5462;&#xFF1F;&#x4E4B;&#x524D;&#x4E00;&#x5957;&#x903B;&#x8F91;iOS&#x548C;Android&#x5E73;&#x53F0;&#x4E0A;&#x5199;&#x4E24;&#x6B21;&#xFF0C;&#x73B0;&#x5728;&#x52A0;&#x4E0A;&#x9E3F;&#x8499;&#x5199;&#x4E09;&#x904D;&#x4E48;&#xFF1F;&#x5373;&#x4F7F;&#x4F60;&#x80FD;&#x5FCD;&#xFF0C;&#x516C;&#x53F8;&#x80FD;&#x4E0D;&#x80FD;&#x5FCD;&#x5462;&#xFF1F;KMP&#x5BF9;&#x4EBA;&#x6548;&#x7684;&#x63D0;&#x5347;&#x548C;&#x903B;&#x8F91;&#x7684;&#x7EDF;&#x4E00;&#x6027;&#x6211;&#x89C9;&#x5F97;&#x662F;&#x65E0;&#x9700;&#x8D28;&#x7591;&#x7684;&#x3002;</p>
<p><strong>&#x672C;&#x6587;&#x8F6C;&#x8F7D;&#x81EA;:</strong> <a href="/external_links/b5276b698d3ec2cad548d6340851b4b4.html" target="blank" rel="noopener">&#x6398;&#x91D1;</a></p>
<p><em><a href="https://dev.newban.cn/">&#x5F00;&#x53D1;&#x8005;&#x535A;&#x5BA2; &#x2013; &#x548C;&#x5F00;&#x53D1;&#x76F8;&#x5173;&#x7684; &#x8FD9;&#x91CC;&#x5168;&#x90FD;&#x6709;</a></em></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://dev.newban.cn../../7361721070901854259.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="开发者博客">
      <meta itemprop="description" content>
      <meta itemprop="image" content="../../images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="开发者博客 – IT技术 尽在开发者博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="../../7361721070901854259.html" itemprop="url">Mac下SourceTree导出更新文件</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2024-04-26T15:51:47+08:00">
                2024-04-26
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>SourceTree&#x53EF;&#x89C6;&#x5316;git&#x7BA1;&#x7406;&#x5DE5;&#x5177;&#x529F;&#x80FD;&#x5F88;&#x5F3A;&#x5927;&#xFF0C;&#x652F;&#x6301;&#x81EA;&#x5B9A;&#x4E49;&#x64CD;&#x4F5C;&#x53EF;&#x4EE5;&#x5199;&#x811A;&#x672C;&#xFF0C;&#x73B0;&#x5728;&#x6559;&#x5927;&#x5BB6;&#x505A;&#x4E00;&#x4E2A;&#x5BFC;&#x51FA;&#x66F4;&#x65B0;&#x6587;&#x4EF6;&#x7684;&#x811A;&#x672C;&#x5427;!</p>
<h3 id="&#x6DFB;&#x52A0;&#x81EA;&#x5B9A;&#x4E49;&#x64CD;&#x4F5C;"><a href="#&#x6DFB;&#x52A0;&#x81EA;&#x5B9A;&#x4E49;&#x64CD;&#x4F5C;" class="headerlink" title="&#x6DFB;&#x52A0;&#x81EA;&#x5B9A;&#x4E49;&#x64CD;&#x4F5C;"></a>&#x6DFB;&#x52A0;&#x81EA;&#x5B9A;&#x4E49;&#x64CD;&#x4F5C;</h3><p><img src="https://gitee.com/songjianzaina/juejin_p3/raw/master/img/9930380bd33f0d75e347f348f42a3bca1ca93b011eb118ee01964b708ffdcb23" alt="&#x622A;&#x5C4F;2024-04-26&#x4E0B;&#x5348;3.40.32.png"></p>
<h3 id="&#x9009;&#x62E9;&#x81EA;&#x5B9A;&#x4E49;&#x6587;&#x4EF6;&#x5BFC;&#x51FA;"><a href="#&#x9009;&#x62E9;&#x81EA;&#x5B9A;&#x4E49;&#x6587;&#x4EF6;&#x5BFC;&#x51FA;" class="headerlink" title="&#x9009;&#x62E9;&#x81EA;&#x5B9A;&#x4E49;&#x6587;&#x4EF6;&#x5BFC;&#x51FA;"></a>&#x9009;&#x62E9;&#x81EA;&#x5B9A;&#x4E49;&#x6587;&#x4EF6;&#x5BFC;&#x51FA;</h3><p><img src="https://gitee.com/songjianzaina/juejin_p3/raw/master/img/c3aa9738f7e4f0a65307d2a551fd8d1aca840f8f0c8309c105c79eeac7b8ac67" alt="&#x622A;&#x5C4F;2024-04-26&#x4E0B;&#x5348;3.42.33.png"></p>
<p>sourcetree_exports_file.sh</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">sh&#x590D;&#x5236;&#x4EE3;&#x7801;#!/bin/bash</span><br><span class="line">#&#x4ED3;&#x5E93;&#x8DEF;&#x5F84;</span><br><span class="line">REPO_PATH=$1</span><br><span class="line">#&#x5BFC;&#x51FA;&#x6587;&#x4EF6;&#x7684;&#x76EE;&#x5F55;&#x4EE5;&#x53CA;&#x65B0;&#x5EFA;&#x6587;&#x4EF6;&#x5939;&#x8DEF;&#x5F84;</span><br><span class="line">FOLDER=&quot;/Users/nightkid/Downloads&quot;</span><br><span class="line">FOLDER_DATE=`date +%Y%m%d_%H_%M_%S`</span><br><span class="line">PROJECT_NAME=${REPO_PATH##*/}</span><br><span class="line">for arg in &quot;$@&quot;</span><br><span class="line">do</span><br><span class="line">if [ $1 != $arg ]</span><br><span class="line">then</span><br><span class="line">srcfile=&quot;$REPO_PATH/$arg&quot;</span><br><span class="line">echo $arg</span><br><span class="line">cpfile=&quot;$FOLDER/${PROJECT_NAME}_$FOLDER_DATE/$arg&quot;</span><br><span class="line">folder=${cpfile%/*}</span><br><span class="line">`mkdir -p $folder`</span><br><span class="line">result=`cp -f  $srcfile $cpfile`</span><br><span class="line">echo &quot;$arg&quot;</span><br><span class="line">fi</span><br><span class="line">#&#x6253;&#x5F00;&#x5BFC;&#x51FA;&#x6587;&#x4EF6;&#x5939;</span><br><span class="line">open $FOLDER/${PROJECT_NAME}_$FOLDER_DATE</span><br><span class="line">done</span><br></pre></td></tr></table></figure>

<h3 id="&#x9009;&#x62E9;&#x7248;&#x672C;&#x53F7;&#x5185;&#x5BB9;&#x5BFC;&#x51FA;&#x6587;&#x4EF6;"><a href="#&#x9009;&#x62E9;&#x7248;&#x672C;&#x53F7;&#x5185;&#x5BB9;&#x5BFC;&#x51FA;&#x6587;&#x4EF6;" class="headerlink" title="&#x9009;&#x62E9;&#x7248;&#x672C;&#x53F7;&#x5185;&#x5BB9;&#x5BFC;&#x51FA;&#x6587;&#x4EF6;"></a>&#x9009;&#x62E9;&#x7248;&#x672C;&#x53F7;&#x5185;&#x5BB9;&#x5BFC;&#x51FA;&#x6587;&#x4EF6;</h3><p><img src="https://gitee.com/songjianzaina/juejin_p3/raw/master/img/af1371cb0d70280b9c298a5231c6166ae9e18591e7c9946afe92b21e293bf980" alt="&#x622A;&#x5C4F;2024-04-26&#x4E0B;&#x5348;3.42.14.png"></p>
<p>sourcetree_commit_exports.sh</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line">sh&#x590D;&#x5236;&#x4EE3;&#x7801;#!/bin/bash</span><br><span class="line">REPO_PATH=$1</span><br><span class="line">GIT_SHA=$2</span><br><span class="line">#&#x5BFC;&#x51FA;&#x6587;&#x4EF6;&#x4FDD;&#x5B58;&#x8DEF;&#x5F84;</span><br><span class="line">FOLDER=&quot;/Users/nightkid/Downloads&quot;</span><br><span class="line">FOLDER_DATE=`date +%Y%m%d_%H_%M_%S`</span><br><span class="line">PROJECT_NAME=${REPO_PATH##*/}</span><br><span class="line">`mkdir -p $FOLDER`</span><br><span class="line">filepath=$(cd $REPO_PATH; pwd)</span><br><span class="line">split_str=`git show --format= --name-status $GIT_SHA`</span><br><span class="line">echo &quot;$split_str&quot; &gt; &quot;$FOLDER/tmp.txt&quot;</span><br><span class="line"> </span><br><span class="line">split_array=()</span><br><span class="line">split_len=0</span><br><span class="line">while read line</span><br><span class="line">do</span><br><span class="line">split_array[$split_len]=$line</span><br><span class="line">split_len=$split_len+1</span><br><span class="line"> </span><br><span class="line">done &lt; &quot;$FOLDER/tmp.txt&quot;</span><br><span class="line"> </span><br><span class="line">for ((i=0;i&lt;${split_array[@]};i++));do</span><br><span class="line">{</span><br><span class="line">	string=${split_array[$i]}</span><br><span class="line"> </span><br><span class="line">	array=(${string//,/ })</span><br><span class="line">	if [ &quot;$array[0]&quot; != &quot;D&quot; ]</span><br><span class="line">         then</span><br><span class="line">         echo ${array[1]}</span><br><span class="line"> </span><br><span class="line">		srcfile=&quot;$REPO_PATH/${array[1]}&quot;</span><br><span class="line">		cpfile=&quot;$FOLDER/${PROJECT_NAME}_$FOLDER_DATE/${array[1]}&quot;</span><br><span class="line">		folder=${cpfile%/*}</span><br><span class="line">		`mkdir -p $folder`</span><br><span class="line">		`cp -f  $srcfile $cpfile`</span><br><span class="line">	fi</span><br><span class="line">#    for var in ${array[@]}</span><br><span class="line">#    do</span><br><span class="line">#      echo $var</span><br><span class="line">#    done</span><br><span class="line">}</span><br><span class="line">open $FOLDER/${PROJECT_NAME}_$FOLDER_DATE</span><br><span class="line">done</span><br></pre></td></tr></table></figure>

<h3 id="&#x6700;&#x540E;&#x9009;&#x62E9;&#x5BF9;&#x5E94;&#x7684;&#x7248;&#x672C;&#x3001;&#x6587;&#x4EF6;&#x53F3;&#x952E;"><a href="#&#x6700;&#x540E;&#x9009;&#x62E9;&#x5BF9;&#x5E94;&#x7684;&#x7248;&#x672C;&#x3001;&#x6587;&#x4EF6;&#x53F3;&#x952E;" class="headerlink" title="&#x6700;&#x540E;&#x9009;&#x62E9;&#x5BF9;&#x5E94;&#x7684;&#x7248;&#x672C;&#x3001;&#x6587;&#x4EF6;&#x53F3;&#x952E;"></a>&#x6700;&#x540E;&#x9009;&#x62E9;&#x5BF9;&#x5E94;&#x7684;&#x7248;&#x672C;&#x3001;&#x6587;&#x4EF6;&#x53F3;&#x952E;</h3><p><img src="https://gitee.com/songjianzaina/juejin_p3/raw/master/img/feaca5d7627d97d0f5d55b843c394616a3d90fc367cb74a3949df5b3a40adae4" alt="&#x622A;&#x5C4F;2024-04-26&#x4E0B;&#x5348;3.47.58.png"></p>
<h3 id="&#x53EF;&#x80FD;&#x7684;&#x9519;&#x8BEF;"><a href="#&#x53EF;&#x80FD;&#x7684;&#x9519;&#x8BEF;" class="headerlink" title="&#x53EF;&#x80FD;&#x7684;&#x9519;&#x8BEF;"></a>&#x53EF;&#x80FD;&#x7684;&#x9519;&#x8BEF;</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">bash&#x590D;&#x5236;&#x4EE3;&#x7801;&#x5F53;&#x63D0;&#x793A;&#x4E00;&#x4E0B;&#x9519;&#x8BEF;&#xFF1A; </span><br><span class="line">launch path not accessible Completed with errors, see above</span><br><span class="line"></span><br><span class="line">&#x60A8;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;&#x6388;&#x4E88;&#x60A8;&#x7684;&#x7528;&#x6237;&#x6267;&#x884C;&#x8BE5;&#x6587;&#x4EF6;&#x7684;&#x6743;&#x9650;&#x6765;&#x89E3;&#x51B3;&#x6B64;&#x95EE;&#x9898;&#xFF1A;</span><br><span class="line"></span><br><span class="line">chmod +x your-script.sh</span><br></pre></td></tr></table></figure>

<p><strong>&#x672C;&#x6587;&#x8F6C;&#x8F7D;&#x81EA;:</strong> <a href="/external_links/144c28c978c8ddcf181a29f12f746810.html" target="blank" rel="noopener">&#x6398;&#x91D1;</a></p>
<p><em><a href="https://dev.newban.cn/">&#x5F00;&#x53D1;&#x8005;&#x535A;&#x5BA2; &#x2013; &#x548C;&#x5F00;&#x53D1;&#x76F8;&#x5173;&#x7684; &#x8FD9;&#x91CC;&#x5168;&#x90FD;&#x6709;</a></em></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://dev.newban.cn../../7361852837267718171.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="开发者博客">
      <meta itemprop="description" content>
      <meta itemprop="image" content="../../images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="开发者博客 – IT技术 尽在开发者博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="../../7361852837267718171.html" itemprop="url">在 GPU 云上跑 LLama3</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2024-04-26T15:34:34+08:00">
                2024-04-26
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>LLama 3 &#x6A21;&#x578B;&#x5DF2;&#x7ECF;&#x5F00;&#x6E90;&#x4E86;&#xFF0C;&#x611F;&#x89C9;&#x6709;&#x4E00;&#x5927;&#x6CE2; Chinese -LLama 3 &#x6B63;&#x5728;&#x8D76;&#x6765;&#x7684;&#x8DEF;&#x4E0A;&#x3002;&#x5982;&#x679C;&#x4F60;&#x4E5F;&#x60F3;&#x57FA;&#x4E8E; LLama 3 &#x8BAD;&#x7EC3;&#x4E00;&#x4E2A;&#x81EA;&#x5DF1;&#x7684;&#x6A21;&#x578B;&#xFF0C;&#x90A3;&#x8FD9;&#x7BC7;&#x6559;&#x7A0B;&#x5C31;&#x6559;&#x4F60;&#x600E;&#x4E48;&#x6765;&#x505A;&#x3002;</p>
<p>&#x5728;&#x672C;&#x6587;&#x4E2D;&#xFF0C;&#x6211;&#x4EEC;&#x5C06;&#x4ECB;&#x7ECD;LLama 3&#xFF0C;&#x8FD9;&#x662F;&#x4E0B;&#x4E00;&#x4EE3;&#x6700;&#x5148;&#x8FDB;&#x7684;&#x5F00;&#x6E90;&#x5927;&#x578B;&#x8BED;&#x8A00;&#x6A21;&#x578B;&#x3002;&#x6211;&#x4EEC;&#x5C06;&#x4E86;&#x89E3;LLama 3&#x76F8;&#x5BF9;&#x4E8E;LLama 2&#x7684;&#x8FDB;&#x6B65;&#x3002;&#x7136;&#x540E;&#xFF0C;&#x6211;&#x4EEC;&#x5C06;&#x5229;&#x7528; <a href="/external_links/2069d5a1bc685cc29022392b9a224a2f.html" target="blank" rel="noopener">Paperspace GPU &#x4E91;</a>&#x7684;&#x80FD;&#x529B;&#x6765;&#x6DF1;&#x5165;&#x63A2;&#x7D22;&#xFF0C;&#x5E76;&#x5C1D;&#x8BD5;&#x4E0A;&#x624B;&#x8FD9;&#x4E2A;&#x6A21;&#x578B;&#x3002;&#x56E0;&#x4E3A; Paperspace &#x4E0A;&#x6709;&#x5305;&#x62EC; <a href="/external_links/fa1282cd6ec54346bfbaef7520cedf95.html" target="blank" rel="noopener">H100&#x3001;A100 &#x7B49;&#x4E00;&#x7CFB;&#x5217; GPU</a> &#x8D44;&#x6E90;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#x3002;</p>
<h2 id="&#x7B80;&#x5355;&#x804A;&#x804A;-LLama3"><a href="#&#x7B80;&#x5355;&#x804A;&#x804A;-LLama3" class="headerlink" title="&#x7B80;&#x5355;&#x804A;&#x804A; LLama3"></a>&#x7B80;&#x5355;&#x804A;&#x804A; LLama3</h2><p>&#x8FD9;&#x91CC;&#x7ED9;&#x8FD8;&#x672A;&#x4E86;&#x89E3; LLama 3 &#x7684;&#x5F00;&#x53D1;&#x8005;&#x4EEC;&#xFF0C;&#x7B80;&#x8981;&#x5730;&#x4ECB;&#x7ECD;&#x4E00;&#x4E0B;&#x5B83;&#x3002;&#x5982;&#x679C;&#x4F60;&#x5DF2;&#x7ECF;&#x662F; AI &#x5708;&#x7684;&#x8001;&#x624B;&#xFF0C;&#x90A3;&#x4E48;&#x53EF;&#x4EE5;&#x8DF3;&#x8FC7;&#x8FD9;&#x4E2A;&#x7AE0;&#x8282;&#x3002;</p>
<p>Meta &#x6700;&#x8FD1;&#x5BA3;&#x5E03;&#x4E86;LLama 3&#xFF0C;&#x8FD9;&#x662F;&#x4E0B;&#x4E00;&#x4EE3;&#x6700;&#x5148;&#x8FDB;&#x7684;&#x5F00;&#x6E90;&#x5927;&#x578B;&#x8BED;&#x8A00;&#x6A21;&#x578B;&#x3002;</p>
<p>LLama 3 &#x73B0;&#x5728;&#x62E5;&#x6709; 8B&#xFF08;80&#x4EBF;&#xFF09;&#x548C; 70B&#xFF08;700&#x4EBF;&#xFF09;&#x53C2;&#x6570;&#x7684;&#x8BED;&#x8A00;&#x6A21;&#x578B;&#x3002;&#x8BE5;&#x6A21;&#x578B;&#x5DF2;&#x5728;&#x5404;&#x79CD;&#x4EFB;&#x52A1;&#x4E2D;&#x90FD;&#x6709;&#x4E0D;&#x4FD7;&#x7684;&#x8868;&#x73B0;&#xFF0C;&#x5E76;&#x63D0;&#x4F9B;&#x66F4;&#x597D;&#x7684;&#x63A8;&#x7406;&#x80FD;&#x529B;&#x3002;&#x8BE5;&#x6A21;&#x578B;&#x5DF2;&#x7ECF;&#x5F00;&#x6E90;&#xFF0C;&#x53EF;&#x4F9B;&#x5546;&#x4E1A;&#x4F7F;&#x7528;&#xFF0C;&#x5E76;&#x4E14;&#x5F00;&#x53D1;&#x8005;&#x4EEC;&#x53EF;&#x4EE5;&#x5728; AI &#x5E94;&#x7528;&#x3001;&#x5F00;&#x53D1;&#x8005;&#x5DE5;&#x5177;&#x7B49;&#x65B9;&#x9762;&#x8FDB;&#x884C;&#x521B;&#x65B0;&#x3002;</p>
<p>LLama 3 &#x6709;&#x56DB;&#x4E2A;&#x7248;&#x672C;&#x7684;&#x5927;&#x578B;&#x8BED;&#x8A00;&#x6A21;&#x578B;&#xFF08;LLM&#xFF09;&#x3002;&#x8FD9;&#x4E9B;&#x6A21;&#x578B;&#x6709;&#x4E24;&#x79CD;&#x53C2;&#x6570;&#x89C4;&#x6A21;&#xFF1A;8B &#x548C; 70B &#x53C2;&#x6570;&#xFF0C;&#x6BCF;&#x79CD;&#x90FD;&#x6709;&#x57FA;&#x7840;&#xFF08;&#x9884;&#x8BAD;&#x7EC3;&#xFF09;&#x548C; instruct-tuned &#x7248;&#x672C;&#x3002;&#x5B83;&#x4EEC;&#x53EF;&#x4EE5;&#x5728;&#x4E0D;&#x540C;&#x7C7B;&#x578B;&#x7684;&#x6D88;&#x8D39;&#x7EA7;&#x786C;&#x4EF6;&#x4E0A;&#x5E73;&#x7A33;&#x8FD0;&#x884C;&#xFF0C;&#x5E76;&#x652F;&#x6301; 8K&#xFF08;8000&#xFF09;token &#x7684;&#x4E0A;&#x4E0B;&#x6587;&#x957F;&#x5EA6;&#x3002;</p>
<ul>
<li>Meta-Llama-3-8b&#xFF1A;&#x57FA;&#x7840; 8B &#x6A21;&#x578B;</li>
<li>Meta-Llama-3-8b-instruct&#xFF1A;&#x57FA;&#x4E8E; 8B &#x6A21;&#x578B;&#x7684; instruct-tuned &#x7248;&#x672C;</li>
<li>Meta-Llama-3-70b&#xFF1A;&#x57FA;&#x7840; 70B &#x6A21;&#x578B;</li>
<li>Meta-Llama-3-70b-instruct&#xFF1A;&#x57FA;&#x4E8E; 70B &#x6A21;&#x578B;&#x7684; instruct-tuned &#x7248;&#x672C;</li>
</ul>
<h2 id="LLama-3-&#x7684;&#x589E;&#x5F3A;"><a href="#LLama-3-&#x7684;&#x589E;&#x5F3A;" class="headerlink" title="LLama 3 &#x7684;&#x589E;&#x5F3A;"></a>LLama 3 &#x7684;&#x589E;&#x5F3A;</h2><p>&#x6700;&#x65B0;&#x7684; 8B &#x548C; 70B &#x53C2;&#x6570;&#x7684; LLama 3 &#x6A21;&#x578B;&#xFF0C;&#x76F8;&#x6BD4; LLama 2 &#x6709;&#x663E;&#x8457;&#x8FDB;&#x6B65;&#x3002;&#x6709;&#x4E00;&#x4E9B;&#x4EBA;&#x8868;&#x793A;&#xFF0C;&#x8FD9;&#x662F;&#x4E3A;&#x5927;&#x578B;&#x8BED;&#x8A00;&#x6A21;&#x578B;&#x8BBE;&#x5B9A;&#x4E86;&#x65B0;&#x7684;&#x6807;&#x51C6;&#x3002;&#x7531;&#x4E8E;&#x66F4;&#x597D;&#x7684;&#x9884;&#x8BAD;&#x7EC3;&#x548C;&#x5FAE;&#x8C03;&#x65B9;&#x6CD5;&#xFF0C;&#x5B83;&#x4EEC;&#x5DF2;&#x6210;&#x4E3A;&#x540C;&#x7C7B;&#x6A21;&#x578B;&#x4E2D;&#x7684;&#x9876;&#x7EA7;&#x5B58;&#x5728;&#x3002;&#x540E;&#x8BAD;&#x7EC3;&#x589E;&#x5F3A;&#x4E2D;&#x9519;&#x8BEF;&#x660E;&#x663E;&#x51CF;&#x5C11;&#x4E86;&#xFF0C;&#x5E76;&#x63D0;&#x9AD8;&#x4E86;&#x6A21;&#x578B;&#x5728;&#x63A8;&#x7406;&#x3001;&#x751F;&#x6210;&#x4EE3;&#x7801;&#x548C;&#x9075;&#x5FAA;&#x6307;&#x4EE4;&#x65B9;&#x9762;&#x7684;&#x6027;&#x80FD;&#x3002;&#x7B80;&#x800C;&#x8A00;&#x4E4B;&#xFF0C;LLama 3 &#x6BD4;&#x4E4B;&#x524D;&#x7684;&#x5F88;&#x591A;&#x6A21;&#x578B;&#x90FD;&#x66F4;&#x5148;&#x8FDB;&#x3001;&#x66F4;&#x7075;&#x6D3B;&#x3002;&#x4E0B;&#x56FE;&#x662F;&#x6E90;&#x81EA; <a href="/external_links/d01f744e1989644be92d10b7175c756b.html" target="blank" rel="noopener">Meta &#x5B98;&#x65B9;&#x7684;&#x6570;&#x636E;</a>&#x3002;</p>
<p><img src="https://gitee.com/songjianzaina/juejin_p3/raw/master/img/962c62a185b923fcad80753c8b801f058b5e6082a299150e6be480ad329733b8" alt></p>
<p>&#x56FE;&#xFF1A;LLama 3 &#x6027;&#x80FD;&#x57FA;&#x51C6;</p>
<p>&#x5728;&#x5F00;&#x53D1; LLama 3&#x65F6;&#xFF0C;&#x4E3B;&#x8981;&#x5173;&#x6CE8;&#x70B9;&#x662F;&#x6A21;&#x578B;&#x5728;&#x73B0;&#x5B9E;&#x751F;&#x6D3B;&#x60C5;&#x5883;&#x4E2D;&#x7684;&#x4F18;&#x5316;&#x3002;&#x4E3A;&#x6B64;&#xFF0C;&#x4ED6;&#x4EEC;&#x521B;&#x5EFA;&#x4E86;&#x4E00;&#x4E2A;&#x8BC4;&#x4F30;&#x96C6;&#xFF0C;&#x5305;&#x542B; 1800 &#x4E2A; prompt&#xFF0C;&#x6DB5;&#x76D6; 12 &#x4E2A;&#x5173;&#x952E;&#x4EFB;&#x52A1;&#xFF1A;&#x5BFB;&#x6C42;&#x5EFA;&#x8BAE;&#x3001;&#x7F16;&#x7801;&#x548C;&#x603B;&#x7ED3;&#x3002;&#x6B64;&#x5916;&#xFF0C;&#x9A8C;&#x8BC1;&#x6570;&#x636E;&#x96C6;&#x4E5F;&#x88AB;&#x7981;&#x6B62;&#x7814;&#x53D1;&#x56E2;&#x961F;&#x8BBF;&#x95EE;&#xFF0C;&#x4EE5;&#x9632;&#x6B62;&#x6A21;&#x578B;&#x8FC7;&#x62DF;&#x5408;&#x3002;&#x5C06; LLama 3 &#x4E0E; Claude Sonnet&#x3001;Mistral Medium &#x548C; GPT-3.5 &#x8FDB;&#x884C;&#x4EBA;&#x5DE5;&#x8BC4;&#x4F30;&#x540E;&#xFF0C;&#x53D1;&#x73B0;&#x5B83;&#x5728;&#x5404;&#x79CD;&#x4EFB;&#x52A1;&#x548C;&#x573A;&#x666F;&#x4E2D;&#x7684;&#x7ED3;&#x679C;&#x90FD;&#x6709;&#x4E0D;&#x9519;&#x7684;&#x8868;&#x73B0;&#x3002;</p>
<p><img src="https://gitee.com/songjianzaina/juejin_p3/raw/master/img/7a2a7924ef9ac92c5ec1b5fbe9e396f39d1cf27a621665cd4c2a2ae8150c7b68" alt></p>
<p>&#x56FE;&#xFF1A;&#x663E;&#x793A;&#x4E86;&#x4EBA;&#x5DE5;&#x8BC4;&#x4F30;&#x5728;&#x51E0;&#x4E2A;&#x7C7B;&#x522B;&#x548C;&#x63D0;&#x793A;&#x4E0B;&#x7684;&#x7ED3;&#x679C;</p>
<p>&#x4E3A;&#x4E86;&#x589E;&#x5F3A; LLama 3 &#x7684;&#x80FD;&#x529B;&#xFF0C;Meta &#x4E13;&#x6CE8;&#x4E8E;&#x6269;&#x5927;&#x9884;&#x8BAD;&#x7EC3;&#x89C4;&#x6A21;&#x548C;&#x5B8C;&#x5584;&#x540E;&#x8BAD;&#x7EC3;&#x6280;&#x672F;&#x3002;</p>
<p>&#x4ED6;&#x4EEC;&#x6269;&#x5927;&#x4E86;&#x9884;&#x8BAD;&#x7EC3;&#x89C4;&#x6A21;&#xFF0C;&#x5E76;&#x5236;&#x5B9A;&#x4E86;&#x4E00;&#x7CFB;&#x5217;&#x8BE6;&#x7EC6;&#x7684; scaling laws&#xFF0C;&#x4EE5;&#x4F18;&#x5316;&#x8BA1;&#x7B97;&#x6027;&#x80FD;&#x3002;&#x4EE4;&#x4EBA;&#x60CA;&#x8BB6;&#x7684;&#x662F;&#xFF0C;&#x5373;&#x4F7F;&#x5728;&#x8BAD;&#x7EC3;&#x4E86;&#x5927;&#x91CF;&#x6570;&#x636E;&#x2014;&#x2014;&#x9AD8;&#x8FBE; 15T&#xFF08;&#x4E07;&#x4EBF;&#xFF09; &#x4E2A; token &#x4E4B;&#x540E;&#x2014;&#x2014;&#x5176;&#x6027;&#x80FD;&#x4ECD;&#x5448;&#x5BF9;&#x6570;&#x7EBF;&#x6027;&#x589E;&#x957F;&#x3002;&#x7ED3;&#x5408;&#x4F7F;&#x7528;&#x5404;&#x79CD;&#x5E76;&#x884C;&#x5316;&#x65B9;&#x6CD5;&#x548C;&#x5B9A;&#x5236;&#x7684; GPU &#x96C6;&#x7FA4;&#xFF0C;&#x4E0E;LLama 2 &#x76F8;&#x6BD4;&#xFF0C;&#x8BAD;&#x7EC3;&#x6548;&#x7387;&#x6709;&#x6548;&#x63D0;&#x9AD8;&#x4E86;&#x4E09;&#x500D;&#x3002;</p>
<p>&#x5BF9;&#x4E8E;&#x6307;&#x4EE4;&#x5FAE;&#x8C03;&#xFF0C;Meta &#x8003;&#x8651;&#x4E86;&#x4E0D;&#x540C;&#x7684;&#x6280;&#x672F;&#xFF0C;&#x5982;&#x76D1;&#x7763;&#x5FAE;&#x8C03;&#x548C;&#x504F;&#x597D;&#x4F18;&#x5316;&#x3002;&#x6B64;&#x5916;&#xFF0C;&#x8BE6;&#x7EC6;&#x5236;&#x5B9A;&#x4E86;&#x8BAD;&#x7EC3;&#x6570;&#x636E;&#x548C;&#x4ECE;&#x504F;&#x597D;&#x6392;&#x540D;&#x4E2D;&#x5B66;&#x4E60;&#xFF0C;&#x8FD9;&#x6709;&#x6548;&#x63D0;&#x9AD8;&#x4E86;&#x6A21;&#x578B;&#x7684;&#x6027;&#x80FD;&#xFF0C;&#x7279;&#x522B;&#x662F;&#x5728;&#x63A8;&#x7406;&#x548C;&#x7F16;&#x7801;&#x4EFB;&#x52A1;&#x4E2D;&#x3002;&#x8FD9;&#x4E9B;&#x6539;&#x8FDB;&#x4F7F;&#x6A21;&#x578B;&#x80FD;&#x591F;&#x66F4;&#x597D;&#x5730;&#x7406;&#x89E3;&#x548C;&#x54CD;&#x5E94;&#x590D;&#x6742;&#x4EFB;&#x52A1;&#x3002;</p>
<h2 id="&#x6A21;&#x578B;&#x67B6;&#x6784;"><a href="#&#x6A21;&#x578B;&#x67B6;&#x6784;" class="headerlink" title="&#x6A21;&#x578B;&#x67B6;&#x6784;"></a>&#x6A21;&#x578B;&#x67B6;&#x6784;</h2><p>&#x5728;&#x8BBE;&#x8BA1; LLama 3 &#x65F6;&#xFF0C;&#x91C7;&#x7528;&#x6807;&#x51C6;&#x7684;&#x89E3;&#x7801;&#x5668;&#x53EA;&#x6709;&#x53D8;&#x6362;&#x5668;&#x67B6;&#x6784;&#xFF0C;&#x4F18;&#x5316;&#x4E86;&#x7F16;&#x7801;&#x6548;&#x7387;&#x548C;&#x63A8;&#x7406;&#x6548;&#x7387;&#x3002;&#x4E0E;LLama 2&#x76F8;&#x6BD4;&#xFF0C;&#x91C7;&#x7528;&#x4E86;&#x6709; 128K &#x4E2A;&#x6807;&#x8BB0;&#x8BCD;&#x6C47;&#x8868;&#x7684;&#x5206;&#x8BCD;&#x5668;&#xFF0C;&#x80FD;&#x66F4;&#x6709;&#x6548;&#x5730;&#x5BF9;&#x8BED;&#x8A00;&#x8FDB;&#x884C;&#x7F16;&#x7801;&#x3002;&#x6B64;&#x5916;&#xFF0C;&#x4E3A;&#x4E86;&#x5728;&#x63A8;&#x7406;&#x671F;&#x95F4;&#x8BA9; LLama 3 &#x6A21;&#x578B;&#x66F4;&#x5FEB;&#xFF0C;&#x8FD8;&#x5F15;&#x5165;&#x4E86;&#x4E0D;&#x540C;&#x5927;&#x5C0F;&#x7684;&#x5206;&#x7EC4;&#x67E5;&#x8BE2;&#x6CE8;&#x610F;&#x529B;&#xFF08;GQA&#xFF09;&#x3002;&#x5728;&#x8BAD;&#x7EC3;&#x671F;&#x95F4;&#xFF0C;&#x4F7F;&#x7528;&#x4E86; 8192 &#x4E2A; token &#x7684;&#x5E8F;&#x5217;&#x548C;&#x4E00;&#x79CD;&#x63A9;&#x7801;&#x6280;&#x672F;&#xFF0C;&#x4EE5;&#x4FDD;&#x6301;&#x6587;&#x6863;&#x8FB9;&#x754C;&#x5185;&#x7684;&#x6CE8;&#x610F;&#x529B;&#x3002;</p>
<p>LLama 3 &#x5728;&#x8D85;&#x8FC7; 15T token &#x7684;&#x516C;&#x5F00;&#x6570;&#x636E;&#x96C6;&#x4E0A;&#x8FDB;&#x884C;&#x4E86;&#x9884;&#x8BAD;&#x7EC3;&#x2014;&#x2014;&#x6BD4; LLama 2 &#x4F7F;&#x7528;&#x7684;&#x6570;&#x636E;&#x5927; 7 &#x500D;&#xFF0C;&#x800C;&#x4E14;&#x4EE3;&#x7801;&#x91CF;&#x4E5F;&#x5927;&#x4E86; 4 &#x500D;&#x3002;&#x8BE5;&#x6A21;&#x578B;&#x5305;&#x542B;&#x8D85;&#x8FC7; 5% &#x7684;&#x975E;&#x82F1;&#x8BED;&#x6570;&#x636E;&#xFF0C;&#x6DB5;&#x76D6; 30 &#x79CD;&#x8BED;&#x8A00;&#xFF0C;&#x4EE5;&#x4FBF;&#x5B9E;&#x73B0;&#x652F;&#x6301;&#x591A;&#x8BED;&#x8A00;&#x3002;</p>
<p>&#x4E3A;&#x4E86;&#x4FDD;&#x6301;&#x5728;&#x9AD8;&#x8D28;&#x91CF;&#x7684;&#x6570;&#x636E;&#x4E0A;&#x8FDB;&#x884C;&#x8BAD;&#x7EC3;&#xFF0C;Meta &#x8FD8;&#x6784;&#x5EFA;&#x4E86;&#x4E00;&#x7CFB;&#x5217;&#x6570;&#x636E;&#x8FC7;&#x6EE4;&#x7BA1;&#x9053;&#xFF0C;&#x8FD8;&#x4F7F;&#x7528;&#x4E86;&#x542F;&#x53D1;&#x5F0F;&#x8FC7;&#x6EE4;&#x5668;&#x548C;&#x6587;&#x672C;&#x5206;&#x7C7B;&#x5668;&#x7B49;&#xFF0C;&#x76EE;&#x7684;&#x5C31;&#x662F;&#x4E3A;&#x4E86;&#x63D0;&#x9AD8;&#x4E86;&#x6A21;&#x578B;&#x6027;&#x80FD;&#x3002;</p>
<h2 id="&#x8FD0;&#x884C;-LLama-3-Demo"><a href="#&#x8FD0;&#x884C;-LLama-3-Demo" class="headerlink" title="&#x8FD0;&#x884C; LLama 3 Demo"></a>&#x8FD0;&#x884C; LLama 3 Demo</h2><p>&#x5728;&#x6211;&#x4EEC;&#x5F00;&#x59CB;&#x4E4B;&#x524D;&#xFF0C;&#x8BF7;&#x786E;&#x4FDD;&#x5728; huggingface.co &#x4E0A;&#x83B7;&#x5F97;&#x5BF9;&#x201C;meta-llama/Meta-Llama-3-70B&#x201D;&#x6A21;&#x578B;&#x7684;&#x8BBF;&#x95EE;&#x6743;&#x9650;&#x3002;&#x53E6;&#x5916;&#xFF0C;&#x6211;&#x4EEC;&#x5728;&#x8FD9;&#x91CC;&#x4F7F;&#x7528;&#x7684;&#x662F; <a href="/external_links/2069d5a1bc685cc29022392b9a224a2f.html" target="blank" rel="noopener">Paperspace &#x5E73;&#x53F0;&#x4E0A;&#x7684; GPU</a>&#xFF0C;&#x5982;&#x679C;&#x4F60;&#x624B;&#x4E0A;&#x8FD8;&#x6CA1;&#x6709;&#x5408;&#x9002;&#x7684; GPU &#x548C;&#x673A;&#x5668;&#xFF0C;&#x53EF;&#x4EE5;&#x8003;&#x8651;&#x8FD9;&#x4E2A;&#x5E73;&#x53F0;&#x3002;</p>
<p>&#x8981;&#x4F7F;&#x7528; Llama 3&#xFF0C;&#x6211;&#x4EEC;&#x9996;&#x5148;&#x8981;&#x5347;&#x7EA7; transformers &#x5305;&#x3002;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">lua&#x590D;&#x5236;&#x4EE3;&#x7801;#upgrade the transformer package</span><br><span class="line">pip install -U &quot;transformers==4.40.0&quot; --upgrade</span><br></pre></td></tr></table></figure>

<p>&#x63A5;&#x4E0B;&#x6765;&#xFF0C;&#x8FD0;&#x884C;&#x4EE5;&#x4E0B;&#x4EE3;&#x7801;&#x6BB5;&#x3002;&#x6839;&#x636E; Hugging Face &#x535A;&#x5BA2;&#x7684;&#x63D0;&#x793A;&#xFF0C;&#x8BE5;&#x6A21;&#x578B;&#x901A;&#x5E38;&#x9700;&#x8981;&#x5927;&#x7EA6; 16GB &#x7684; RAM&#xFF0C;&#x5305;&#x62EC;&#x50CF; 3090 &#x6216; 4090 &#x8FD9;&#x6837;&#x7684; GPU&#x3002;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">ini&#x590D;&#x5236;&#x4EE3;&#x7801;import transformers</span><br><span class="line">import torch</span><br><span class="line"></span><br><span class="line">model_id = &quot;meta-llama/Meta-Llama-3-8B-Instruct&quot;</span><br><span class="line"></span><br><span class="line">pipeline = transformers.pipeline(</span><br><span class="line">  &quot;text-generation&quot;,</span><br><span class="line">  model=&quot;meta-llama/Meta-Llama-3-8B-Instruct&quot;,</span><br><span class="line">  model_kwargs={&quot;torch_dtype&quot;: torch.bfloat16},</span><br><span class="line">  device=&quot;cuda&quot;,</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">pipeline(&quot;Hey how are you doing today?&quot;)</span><br></pre></td></tr></table></figure>

<p>&#x5982;&#x679C;&#x4F60;&#x6536;&#x5230;&#x9519;&#x8BEF;&#x4FE1;&#x606F; &#x201C;RuntimeError: cutlassF: no kernel found to launch!&#x201D;&#xFF0C;&#x8BF7;&#x5C1D;&#x8BD5;&#x4E0B;&#x9762;&#x7684;&#x4EE3;&#x7801;&#xFF0C;&#x5E76;&#x518D;&#x6B21;&#x8FD0;&#x884C;&#x8BE5;cell&#x3002;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">python&#x590D;&#x5236;&#x4EE3;&#x7801;torch.backends.cuda.enable_mem_efficient_sdp(False)</span><br><span class="line">torch.backends.cuda.enable_flash_sdp(False)</span><br></pre></td></tr></table></figure>

<p>&#x751F;&#x6210;&#x7684;&#x6587;&#x672C;&#xFF1A;&#x201C;Hey how are you doing today? I hope you&#x2019;re having a great day so far! I just&#x201D;</p>
<p>&#x5728;&#x8FD9;&#x91CC;&#x9700;&#x8981;&#x6CE8;&#x610F;&#x51E0;&#x4EF6;&#x4E8B;&#x60C5;&#xFF1A;</p>
<ul>
<li>&#x5728;&#x6211;&#x4EEC;&#x7684;&#x793A;&#x4F8B;&#x6848;&#x4F8B;&#x4E2D;&#xFF0C;&#x6211;&#x4EEC;&#x4F7F;&#x7528;&#x4E86;&#x2019;bfloat16&#x2019;&#x6765;&#x52A0;&#x8F7D;&#x6A21;&#x578B;&#x3002;&#x6700;&#x521D;&#xFF0C;Meta &#x4F7F;&#x7528;&#x7684;&#x662F;&#x2019;bfloat16&#x2019;&#x3002;&#x56E0;&#x6B64;&#xFF0C;&#x8FD9;&#x662F;&#x4E00;&#x79CD;&#x5B98;&#x65B9;&#x63A8;&#x8350;&#x7684;&#x8FD0;&#x884C;&#x65B9;&#x5F0F;&#xFF0C;&#x53EF;&#x4EE5;&#x786E;&#x4FDD;&#x6700;&#x4F73;&#x7CBE;&#x5EA6;&#x6216;&#x8FDB;&#x884C;&#x8BC4;&#x4F30;&#x3002;&#x5F53;&#x7136;&#xFF0C;&#x4F60;&#x4E5F;&#x53EF;&#x4EE5;&#x5C1D;&#x8BD5;&#x4F7F;&#x7528; float16&#xFF0C;&#x6839;&#x636E;&#x4F60;&#x786C;&#x4EF6;&#x914D;&#x7F6E;&#x7684;&#x60C5;&#x51B5;&#xFF0C;&#x8FD9;&#x53EF;&#x80FD;&#x4F1A;&#x66F4;&#x5FEB;&#x3002;</li>
<li>&#x4F60;&#x8FD8;&#x53EF;&#x4EE5;&#x81EA;&#x52A8;&#x538B;&#x7F29;&#x6A21;&#x578B;&#xFF0C;&#x5C06;&#x5176;&#x52A0;&#x8F7D;&#x4E3A; 8 &#x4F4D;&#x6216; 4 &#x4F4D;&#x6A21;&#x5F0F;&#x3002;&#x5728; 4 &#x4F4D;&#x6A21;&#x5F0F;&#x4E0B;&#x8FD0;&#x884C;&#x9700;&#x8981;&#x7684;&#x5185;&#x5B58;&#x66F4;&#x5C11;&#xFF0C;&#x4F7F;&#x5176;&#x80FD;&#x517C;&#x5BB9;&#x8BB8;&#x591A;&#x6D88;&#x8D39;&#x7EA7;GPU &#x548C;&#x6027;&#x80FD;&#x8F83;&#x5F31;&#x7684; GPU&#x3002;&#x4EE5;&#x4E0B;&#x662F;&#x5982;&#x4F55;&#x4EE5;4&#x4F4D;&#x6A21;&#x5F0F;&#x52A0;&#x8F7D;&#x793A;&#x4F8B;&#x4EE3;&#x7801;&#x6BB5;&#x3002;</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">python&#x590D;&#x5236;&#x4EE3;&#x7801;pipeline = transformers.pipeline(</span><br><span class="line">    &quot;text-generation&quot;,</span><br><span class="line">    model=&quot;meta-llama/Meta-Llama-3-8B-Instruct&quot;,</span><br><span class="line">    model_kwargs={</span><br><span class="line">        &quot;torch_dtype&quot;: torch.float16,</span><br><span class="line">        &quot;quantization_config&quot;: {&quot;load_in_4bit&quot;: True},</span><br><span class="line">        &quot;low_cpu_mem_usage&quot;: True,</span><br><span class="line">    },</span><br><span class="line">)</span><br></pre></td></tr></table></figure>

<h2 id="LLama-3&#x7684;&#x672A;&#x6765;"><a href="#LLama-3&#x7684;&#x672A;&#x6765;" class="headerlink" title="LLama 3&#x7684;&#x672A;&#x6765;"></a>LLama 3&#x7684;&#x672A;&#x6765;</h2><p>&#x5C3D;&#x7BA1;&#x5F53;&#x524D;&#x7684; 8B&#xFF08;80&#x4EBF;&#xFF09;&#x548C; 70B&#xFF08;700&#x4EBF;&#xFF09;&#x53C2;&#x6570;&#x6A21;&#x578B;&#x7ED9;&#x4EBA;&#x7559;&#x4E0B;&#x4E86;&#x6DF1;&#x523B;&#x5370;&#x8C61;&#xFF0C;&#x4F46; Meta &#x7684;&#x5DE5;&#x7A0B;&#x5E08;&#x6B63;&#x5728;&#x7814;&#x7A76;&#x652F;&#x6301;&#x8D85;&#x8FC7; 400B&#xFF08;4000&#x4EBF;&#xFF09;&#x53C2;&#x6570;&#x7684;&#x66F4;&#x5927;&#x6A21;&#x578B;&#x3002;&#x8FD9;&#x4E9B;&#x6A21;&#x578B;&#x4ECD;&#x5728;&#x8BAD;&#x7EC3;&#x4E2D;&#x3002;&#x5728;&#x672A;&#x6765;&#x51E0;&#x4E2A;&#x6708;&#x91CC;&#xFF0C;&#x5B83;&#x4EEC;&#x5C06;&#x66F4;&#x5F3A;&#x7684;&#x65B0;&#x529F;&#x80FD;&#xFF0C;&#x5982;&#x591A;&#x6A21;&#x6001;&#x6027;&#x3001;&#x591A;&#x8BED;&#x8A00;&#x5BF9;&#x8BDD;&#x80FD;&#x529B;&#x3001;&#x66F4;&#x957F;&#x7684;&#x4E0A;&#x4E0B;&#x6587;&#x7406;&#x89E3;&#x80FD;&#x529B;&#x4EE5;&#x53CA;&#x6574;&#x4F53;&#x66F4;&#x5F3A;&#x7684;&#x80FD;&#x529B;&#x3002;</p>
<p><img src="https://gitee.com/songjianzaina/juejin_p3/raw/master/img/8d7554c9ace37269f374d9a4dafcc4d1ce3e0d258c5cf6211b2d4250d8d3297b" alt></p>
<p>Meta&#x7684;LLama 3 &#x6700;&#x5F15;&#x4EBA;&#x6CE8;&#x76EE;&#x7684;&#x4E00;&#x70B9;&#x5C31;&#x662F;&#x5F00;&#x6E90;&#x3002;&#x53D1;&#x5E03;&#x7684;&#x57FA;&#x4E8E;&#x6587;&#x672C;&#x7684;&#x6A21;&#x578B;&#x662F;LLama 3&#x7CFB;&#x5217;&#x6A21;&#x578B;&#x4E2D;&#x7684;&#x7B2C;&#x4E00;&#x6279;&#x3002;&#x6B63;&#x5982; Meta &#x6240;&#x8BF4;&#xFF0C;&#x4ED6;&#x4EEC;&#x7684;&#x4E3B;&#x8981;&#x76EE;&#x6807;&#x662F;&#x4F7F; LLama 3 &#x591A;&#x8BED;&#x8A00;&#x548C;&#x591A;&#x6A21;&#x6001;&#xFF0C;&#x62E5;&#x6709;&#x66F4;&#x957F;&#x7684;&#x4E0A;&#x4E0B;&#x6587;&#x652F;&#x6301;&#xFF0C;&#x5E76;&#x6301;&#x7EED;&#x6539;&#x8FDB;&#x6838;&#x5FC3;&#x5927;&#x578B;&#x8BED;&#x8A00;&#x6A21;&#x578B;&#xFF08;LLM&#xFF09;&#x80FD;&#x529B;&#xFF08;&#x5982;&#x63A8;&#x7406;&#x548C;&#x7F16;&#x7801;&#xFF09;&#x7684;&#x6574;&#x4F53;&#x6027;&#x80FD;&#x3002;</p>
<p>&#x6211;&#x4EEC;&#x8FEB;&#x4E0D;&#x53CA;&#x5F85;&#x5730;&#x60F3;&#x770B;&#x770B; GenAI &#x9886;&#x57DF;&#x7684;&#x4E0B;&#x4E00;&#x4E2A;&#x70ED;&#x70B9;&#x4F1A;&#x662F;&#x4EC0;&#x4E48;&#x4E86;&#x3002;</p>
<p>&#x6700;&#x540E;&#xFF0C;&#x5982;&#x679C;&#x4F60;&#x6B63;&#x5728;&#x8BA1;&#x5212;&#x8BAD;&#x7EC3;&#x81EA;&#x5DF1;&#x7684;&#x5927;&#x8BED;&#x8A00;&#x6A21;&#x578B;&#xFF0C;&#x6B22;&#x8FCE;&#x6CE8;&#x518C;&#x4F53;&#x9A8C; DigitalOcean &#x65D7;&#x4E0B;&#x7684; GPU &#x4E91;&#x670D;&#x52A1; &#x201C;<a href="/external_links/7a3b0726f7e4bf47493a86cf85153ee5.html" target="blank" rel="noopener">Paperspace</a>&#x201D;&#xFF0C;&#x652F;&#x6301;&#x5305;&#x62EC; H100&#x3001;A100&#x3001;4090 &#x7B49;&#x591A;&#x79CD; GPU&#xFF0C;&#x5E76;&#x9884;&#x88C5; ML &#x6846;&#x67B6;&#x3002;&#x968F;&#x65F6;&#x6269;&#x5C55;&#xFF0C;&#x6309;&#x9700;&#x505C;&#x6B62;&#xFF0C;&#x53EA;&#x9700;&#x6309;&#x4F7F;&#x7528;&#x91CF;&#x4ED8;&#x8D39;&#x3002;</p>
<p>&#x5982;&#x679C;&#x9700;&#x8981;&#x9884;&#x7EA6;&#x66F4;&#x591A; GPU &#x8D44;&#x6E90;&#x6216;&#x5E0C;&#x671B;&#x4E86;&#x89E3;&#x65B9;&#x6848;&#x8BE6;&#x60C5;&#xFF0C;&#x53EF;&#x4EE5;&#x4E0E; <a href="/external_links/2069d5a1bc685cc29022392b9a224a2f.html" target="blank" rel="noopener">DigitalOcean &#x4E2D;&#x56FD;&#x533A;&#x72EC;&#x5BB6;&#x6218;&#x7565;&#x5408;&#x4F5C;&#x4F19;&#x4F34;&#x5353;&#x666E;&#x4E91;</a>&#x54A8;&#x8BE2;&#x3002;</p>
<p><strong>&#x672C;&#x6587;&#x8F6C;&#x8F7D;&#x81EA;:</strong> <a href="/external_links/d3432c3b737c09478bc73a55ae22887a.html" target="blank" rel="noopener">&#x6398;&#x91D1;</a></p>
<p><em><a href="https://dev.newban.cn/">&#x5F00;&#x53D1;&#x8005;&#x535A;&#x5BA2; &#x2013; &#x548C;&#x5F00;&#x53D1;&#x76F8;&#x5173;&#x7684; &#x8FD9;&#x91CC;&#x5168;&#x90FD;&#x6709;</a></em></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://dev.newban.cn../../7361976432249503759.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="开发者博客">
      <meta itemprop="description" content>
      <meta itemprop="image" content="../../images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="开发者博客 – IT技术 尽在开发者博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="../../7361976432249503759.html" itemprop="url">【高级RAG技巧】使用二阶段检索器平衡检索的效率和精度 一</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2024-04-26T15:27:30+08:00">
                2024-04-26
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="&#x4E00;-&#x4F20;&#x7EDF;&#x65B9;&#x6CD5;"><a href="#&#x4E00;-&#x4F20;&#x7EDF;&#x65B9;&#x6CD5;" class="headerlink" title="&#x4E00; &#x4F20;&#x7EDF;&#x65B9;&#x6CD5;"></a>&#x4E00; &#x4F20;&#x7EDF;&#x65B9;&#x6CD5;</h1><p>&#x4E4B;&#x524D;&#x7684;&#x6587;&#x7AE0;&#x5DF2;&#x7ECF;&#x4ECB;&#x7ECD;&#x8FC7;&#x5411;&#x91CF;&#x6570;&#x636E;&#x5E93;&#x5728;RAG&#xFF08;Retrieval Augmented Generative&#xFF09;&#x4E2D;&#x7684;&#x5E94;&#x7528;&#xFF0C;&#x672C;&#x6587;&#x5C06;&#x4F1A;&#x8BA8;&#x8BBA;&#x53E6;&#x4E00;&#x4E2A;&#x91CD;&#x8981;&#x7684;&#x5DE5;&#x5177;-Embedding&#x6A21;&#x578B;&#x3002;<br><img src="https://gitee.com/songjianzaina/juejin_p3/raw/master/img/60729e9ce953c5124e0efad6719c339a6717a369510eafc384341c5664b96d29" alt="&#x5728;&#x8FD9;&#x91CC;&#x63D2;&#x5165;&#x56FE;&#x7247;&#x63CF;&#x8FF0;">&#x4E00;&#x822C;&#x6765;&#x8BF4;&#xFF0C;&#x6784;&#x5EFA;&#x751F;&#x4EA7;&#x73AF;&#x5883;&#x4E0B;&#x7684;RAG&#x7CFB;&#x7EDF;&#x662F;&#x76F4;&#x63A5;&#x4F7F;&#x7528;Embedding&#x6A21;&#x578B;&#x5BF9;&#x7528;&#x6237;&#x8F93;&#x5165;&#x7684;Query&#x8FDB;&#x884C;&#x5411;&#x91CF;&#x5316;&#x8868;&#x793A;&#xFF0C;&#x5E76;&#x4E14;&#x4ECE;&#x5DF2;&#x7ECF;&#x6784;&#x5EFA;&#x597D;&#x7684;&#x5411;&#x91CF;&#x6570;&#x636E;&#x5E93;&#x4E2D;&#x68C0;&#x7D22;&#x51FA;&#x76F8;&#x5173;&#x7684;&#x6BB5;&#x843D;&#x7528;&#x6237;&#x5927;&#x6A21;&#x578B;&#x751F;&#x6210;&#x3002;&#x4F46;&#x662F;&#x8FD9;&#x79CD;&#x65B9;&#x6CD5;&#x5F88;&#x660E;&#x663E;&#x4F1A;&#x53D7;&#x5230;Embedding&#x6A21;&#x578B;&#x6027;&#x80FD;&#x7684;&#x5F71;&#x54CD;&#xFF0C;&#x6BD4;&#x5982;&#x662F;&#x5426;&#x652F;&#x6301;&#x591A;&#x8BED;&#x8A00;&#x3001;&#x8DE8;&#x8BED;&#x8A00;&#x68C0;&#x7D22;&#x3001;&#x8BAD;&#x7EC3;&#x6570;&#x636E;&#x7684;&#x8D28;&#x91CF;&#x7B49;&#x3002;&#x56E0;&#x6B64;&#xFF0C;&#x4EE5;&#x6539;&#x8FDB;Embedding&#x6A21;&#x578B;&#x4E3A;&#x76EE;&#x6807;&#x63D0;&#x5347;RAG&#x7CFB;&#x7EDF;&#x6027;&#x80FD;&#x4E00;&#x822C;&#x4F1A;&#x6709;&#x4E24;&#x79CD;&#x505A;&#x6CD5;&#xFF1A;</p>
<p>&#x65B9;&#x6CD5;1&#xFF0C;&#x5728;&#x4F7F;&#x7528;&#x5411;&#x91CF;&#x6A21;&#x578B;&#x83B7;&#x53D6;&#x5BC6;&#x96C6;&#x5411;&#x91CF;&#x540E;&#xFF0C;&#x518D;&#x4F7F;&#x7528;Cross-encoder&#x4F5C;&#x4E3A;&#x7CBE;&#x6392;&#x6A21;&#x578B;&#xFF0C;&#x5BF9;&#x7B2C;&#x4E00;&#x6B21;&#x53EC;&#x56DE;&#x7684;&#x7ED3;&#x679C;&#x8FDB;&#x884C;&#x91CD;&#x6392;&#xFF0C;&#x4EE5;&#x63D0;&#x9AD8;&#x6700;&#x7EC8;&#x7ED3;&#x679C;&#x7684;&#x8D28;&#x91CF;&#x3002;<br>&#x65B9;&#x6CD5;2&#xFF0C;&#x4F7F;&#x7528;&#x7A00;&#x758F;&#x5411;&#x91CF;&#x642D;&#x914D;&#x5BC6;&#x96C6;&#x5411;&#x91CF;&#x8FDB;&#x884C;&#x53EC;&#x56DE;&#x3002;&#x5BC6;&#x96C6;&#x5411;&#x91CF;&#x5373;&#x5BF9;&#x6574;&#x4E2A;&#x6587;&#x672C;&#x8FDB;&#x884C;&#x5411;&#x91CF;&#x5316;&#x8868;&#x793A;&#x4EA7;&#x751F;&#x7684;&#x5411;&#x91CF;&#xFF0C;&#x7A00;&#x758F;&#x5411;&#x91CF;&#x5219;&#x662F;&#x5BF9;&#x539F;&#x59CB;&#x6587;&#x672C;&#x7684;&#x7F16;&#x7801;&#x8868;&#x793A;&#xFF0C;&#x5982;TF-IDF&#xFF0C;BM25&#x7B49;&#x3002;&#x5176;&#x4E2D;&#xFF0C;&#x7A00;&#x758F;&#x5411;&#x91CF;&#x53EF;&#x4EE5;&#x5E2E;&#x52A9;&#x8BC6;&#x522B;&#x548C;&#x6355;&#x6349;&#x7279;&#x5B9A;&#x7684;&#x8BED;&#x4E49;&#x4FE1;&#x606F;&#xFF0C;&#x6BD4;&#x5982;&#x6587;&#x672C;&#x4E2D;&#x7684;&#x5173;&#x952E;&#x8BCD;&#xFF0C;&#x800C;&#x5BC6;&#x96C6;&#x5411;&#x91CF;&#x5219;&#x53EF;&#x4EE5;&#x63D0;&#x4F9B;&#x66F4;&#x4E30;&#x5BCC;&#x7684;&#x8BED;&#x4E49;&#x8868;&#x8FBE;&#xFF0C;&#x662F;&#x901A;&#x8FC7;&#x5927;&#x91CF;&#x957F;&#x6587;&#x672C;&#x5B66;&#x4E60;&#x800C;&#x6765;&#x7684;&#x3002;&#x901A;&#x8FC7;&#x540C;&#x65F6;&#x5C06;&#x8FD9;&#x4E24;&#x79CD;&#x5411;&#x91CF;&#x8FDB;&#x884C;&#x53EC;&#x56DE;&#xFF0C;&#x53EF;&#x4EE5;&#x83B7;&#x5F97;&#x66F4;&#x4E30;&#x5BCC;&#x3001;&#x66F4;&#x5168;&#x9762;&#x7684;&#x4FE1;&#x606F;&#xFF0C;&#x4ECE;&#x800C;&#x63D0;&#x5347; RAG &#x7684;&#x6548;&#x679C;&#x3002;</p>
<p>&#x65B9;&#x6CD5;1&#x548C;&#x65B9;&#x6CD5;2&#x65E2;&#x53EF;&#x4EE5;&#x72EC;&#x7ACB;&#x4F7F;&#x7528;&#xFF0C;&#x4E5F;&#x53EF;&#x4EE5;&#x642D;&#x914D;&#x4F7F;&#x7528;&#xFF0C;&#x8FD9;&#x5C31;&#x5927;&#x5927;&#x589E;&#x52A0;&#x4E86;&#x7B97;&#x6CD5;&#x5DE5;&#x7A0B;&#x5E08;&#x7684;&#x6B66;&#x5668;&#x5E93;&#xFF0C;&#x901A;&#x8FC7;&#x642D;&#x79EF;&#x6728;&#x7684;&#x65B9;&#x5F0F;&#x6765;&#x63D0;&#x9AD8;RAG&#x7CFB;&#x7EDF;&#x7684;&#x6548;&#x679C;&#x3002;</p>
<h1 id="&#x4E8C;-Reranker&#x6A21;&#x578B;&#x5256;&#x6790;"><a href="#&#x4E8C;-Reranker&#x6A21;&#x578B;&#x5256;&#x6790;" class="headerlink" title="&#x4E8C; Reranker&#x6A21;&#x578B;&#x5256;&#x6790;"></a>&#x4E8C; Reranker&#x6A21;&#x578B;&#x5256;&#x6790;</h1><p>&#x672C;&#x6587;&#x4E3B;&#x8981;&#x8BA8;&#x8BBA;&#x4E8C;&#x9636;&#x6BB5;&#x68C0;&#x7D22;&#x7684;&#x65B9;&#x6CD5;&#xFF0C;&#x5BF9;&#x4E8E;&#x7A00;&#x758F;&#x5411;&#x91CF;&#x7684;&#x8BA8;&#x8BBA;&#x4E0D;&#x5728;&#x672C;&#x6587;&#x8303;&#x56F4;&#x4E4B;&#x5185;&#x3002;</p>
<h2 id="&#x4F7F;&#x7528;&#x7CBE;&#x6392;&#x6A21;&#x578B;&#x7684;&#x539F;&#x56E0;"><a href="#&#x4F7F;&#x7528;&#x7CBE;&#x6392;&#x6A21;&#x578B;&#x7684;&#x539F;&#x56E0;" class="headerlink" title="&#x4F7F;&#x7528;&#x7CBE;&#x6392;&#x6A21;&#x578B;&#x7684;&#x539F;&#x56E0;"></a>&#x4F7F;&#x7528;&#x7CBE;&#x6392;&#x6A21;&#x578B;&#x7684;&#x539F;&#x56E0;</h2><p>&#x539F;&#x56E0;&#x4E4B;&#x4E00;&#xFF0C;&#x5411;&#x91CF;&#x6570;&#x636E;&#x5E93;&#x4E2D;&#x5B58;&#x50A8;&#x5927;&#x91CF;&#x7684;&#x5411;&#x91CF;&#x6570;&#x636E;&#xFF0C;&#x800C;&#x60F3;&#x8981;&#x4ECE;&#x5927;&#x91CF;&#x6570;&#x636E;&#x4E2D;&#x7CBE;&#x786E;&#x5730;&#x68C0;&#x7D22;&#x51FA;&#x6700;&#x76F8;&#x4F3C;&#x7684;&#x5411;&#x91CF;&#x52BF;&#x5FC5;&#x4F1A;&#x5E26;&#x6765;&#x6781;&#x5927;&#x7684;&#x5EF6;&#x8FDF;&#xFF0C;&#x8FD9;&#x5728;&#x4EFB;&#x4F55;&#x5E94;&#x7528;&#x4E2D;&#x90FD;&#x662F;&#x65E0;&#x6CD5;&#x63A5;&#x53D7;&#x7684;&#xFF0C;&#x56E0;&#x6B64;&#x5411;&#x91CF;&#x6570;&#x636E;&#x5E93;&#x4E00;&#x822C;&#x90FD;&#x4F1A;&#x901A;&#x8FC7;&#x5EFA;&#x7ACB;&#x7D22;&#x5F15;&#x6765;&#x4F18;&#x5316;&#x67E5;&#x627E;&#x8FC7;&#x7A0B;&#xFF0C;&#x8FD9;&#x5B9E;&#x9645;&#x4E0A;&#x662F;&#x4E00;&#x79CD;<strong>&#x8FD1;&#x4F3C;&#x68C0;&#x7D22;</strong>&#x800C;&#x975E;&#x7CBE;&#x786E;&#x68C0;&#x7D22;&#xFF0C;&#x662F;&#x51C6;&#x786E;&#x4E0E;&#x6548;&#x7387;&#x7684;&#x6298;&#x8877;&#x65B9;&#x6848;&#x3002;&#x5982;&#x679C;&#x6570;&#x636E;&#x5E93;&#x4E2D;&#x6CA1;&#x6709;&#x90A3;&#x4E48;&#x591A;&#x7684;&#x5411;&#x91CF;&#xFF0C;&#x6216;&#x8005;&#x5168;&#x8868;&#x68C0;&#x7D22;&#x7684;&#x65F6;&#x95F4;&#x635F;&#x8017;&#x80FD;&#x591F;&#x63A5;&#x53D7;&#xFF0C;&#x5219;&#x5B8C;&#x5168;&#x6CA1;&#x5FC5;&#x8981;&#x7528;&#x8FD1;&#x4F3C;&#x68C0;&#x7D22;&#xFF0C;&#x4F46;&#x8FD9;&#x5728;&#x5B9E;&#x9645;&#x751F;&#x4EA7;&#x7CFB;&#x7EDF;&#x4E2D;&#x662F;&#x4E0D;&#x53EF;&#x80FD;&#x7684;&#x3002;</p>
<p>&#x5176;&#x4E8C;&#xFF0C;LLM&#x53D7;&#x9650;&#x4E8E;&#x4E0A;&#x4E0B;&#x6587;&#x957F;&#x5EA6;&#x7684;&#x9650;&#x5236;&#xFF0C;&#x6240;&#x4EE5;&#x80FD;&#x5229;&#x7528;&#x5230;&#x7684;&#x5411;&#x91CF;&#x7247;&#x6BB5;&#x6570;&#x91CF;&#x662F;&#x6709;&#x9650;&#x7684;&#xFF0C;&#x5C3D;&#x7BA1;&#x73B0;&#x5728;&#x8D8A;&#x6765;&#x8D8A;&#x591A;&#x7684;&#x7814;&#x7A76;&#x4F7F;&#x5F97;LLM&#x7684;&#x4E0A;&#x4E0B;&#x6587;&#x7A97;&#x53E3;&#x8D8A;&#x6765;&#x8D8A;&#x957F;&#xFF0C;&#x5982;&#x6539;&#x8FDB;&#x4F4D;&#x7F6E;&#x7F16;&#x7801;&#x6216;&#x8005;&#x6CE8;&#x610F;&#x529B;&#x673A;&#x5236;&#x7B49;&#xFF0C;&#x4F46;&#x4E5F;&#x6709;&#x5B9E;&#x9A8C;&#x8868;&#x660E;&#x518D;&#x957F;&#x7684;&#x4E0A;&#x4E0B;&#x6587;&#x8F93;&#x5165;&#x7ED9;&#x5927;&#x6A21;&#x578B;&#x603B;&#x4F1A;&#x7531;&#x9057;&#x5931;&#x6216;&#x8005;&#x5904;&#x7406;&#x4E0D;&#x597D;&#x7684;&#x60C5;&#x51B5;&#xFF0C;&#x79F0;&#x4E3A;&#x201C;Lost in middle&#x201D;&#x73B0;&#x8C61;&#x3002;&#x56E0;&#x6B64;&#xFF0C;&#x66F4;&#x597D;&#x7684;&#x529E;&#x6CD5;&#x662F;&#x628A;&#x66F4;&#x6709;&#x7528;&#x7684;&#x4E0A;&#x4E0B;&#x6587;&#x7B5B;&#x9009;&#x51FA;&#x6765;&#xFF0C;&#x91CD;&#x70B9;&#x5728;&#x4E8E;&#x63D0;&#x5347;&#x8D28;&#x800C;&#x4E0D;&#x662F;&#x91CF;&#x3002;</p>
<h2 id="&#x7CBE;&#x6392;&#x6A21;&#x578B;&#x7ED3;&#x6784;"><a href="#&#x7CBE;&#x6392;&#x6A21;&#x578B;&#x7ED3;&#x6784;" class="headerlink" title="&#x7CBE;&#x6392;&#x6A21;&#x578B;&#x7ED3;&#x6784;"></a>&#x7CBE;&#x6392;&#x6A21;&#x578B;&#x7ED3;&#x6784;</h2><p>&#x4E0B;&#x9762;&#x6709;&#x4E24;&#x4E2A;&#x6A21;&#x578B;&#xFF0C;&#x5206;&#x522B;&#x662F;Bi-Encoder&#x548C;Cross-Encoder&#x3002;&#x5DE6;&#x8FB9;&#x7684;Bi-Encoder&#x5B9E;&#x9645;&#x4E0A;&#x5C31;&#x662F;&#x6211;&#x4EEC;&#x5E38;&#x89C1;&#x7684;&#x5411;&#x91CF;&#x5316;&#x6A21;&#x578B;&#xFF0C;&#x9700;&#x8981;&#x6CE8;&#x610F;&#x7684;&#x662F;&#x6A21;&#x578B;&#x7684;&#x7ED3;&#x6784;&#x5E76;&#x4E0D;&#x662F;&#x6709;2&#x4E2A;Bert&#xFF0C;&#x800C;&#x662F;&#x53EA;&#x6709;1&#x4E2A;Bert&#x6A21;&#x578B;&#xFF0C;&#x4F46;&#x662F;&#x5BF9;&#x4E8E;&#x4E24;&#x4E2A;&#x53E5;&#x5B50;&#x5206;&#x522B;&#x505A;&#x4E86;&#x5411;&#x91CF;&#x5316;&#x8868;&#x793A;&#xFF0C;&#x6700;&#x7EC8;&#x6BD4;&#x8F83;&#x8FD9;&#x4E24;&#x4E2A;&#x5411;&#x91CF;&#x7684;&#x76F8;&#x4F3C;&#x5EA6;&#x3002;<strong>&#x8FD9;&#x91CC;&#x2018;Bi&#x2019;&#x8868;&#x793A;&#x7684;&#x662F;&#x5904;&#x7406;&#x7684;&#x8FC7;&#x7A0B;&#xFF0C;&#x800C;&#x4E0D;&#x662F;&#x5B9E;&#x9645;&#x7684;&#x7ED3;&#x6784;</strong>&#x3002;</p>
<p><img src="https://gitee.com/songjianzaina/juejin_p3/raw/master/img/6628404daa0e88ce170a6a6fd6695d0de13111b7991f4dd3f97443ed27b8d79f" alt="&#x5728;&#x8FD9;&#x91CC;&#x63D2;&#x5165;&#x56FE;&#x7247;&#x63CF;&#x8FF0;"></p>
<p>&#x800C;&#x7CBE;&#x6392;&#x6A21;&#x578B;&#x7528;&#x5230;&#x7684;Cross-Encoder&#x7ED3;&#x6784;&#x5219;&#x662F;&#x628A;&#x4E24;&#x4E2A;&#x53E5;&#x5B50;&#x7684;&#x8F93;&#x5165;concat&#x5230;&#x4E00;&#x8D77;&#xFF0C;&#x6700;&#x7EC8;&#x9884;&#x6D4B;&#x8FD9;&#x4E24;&#x4E2A;&#x53E5;&#x5B50;&#x662F;&#x5426;&#x76F8;&#x5173;&#xFF0C;&#x6709;&#x70B9;&#x7C7B;&#x4F3C;&#x4E8E;Bert&#x8BAD;&#x7EC3;&#x65F6;&#x7684;next sentence prediction&#xFF08;NSP&#xFF09;&#x3002;&#x4E0D;&#x96BE;&#x53D1;&#x73B0;&#xFF0C;&#x8FD9;&#x5B9E;&#x9645;&#x4E0A;&#x5C31;&#x662F;&#x4E00;&#x4E2A;&#x5206;&#x7C7B;&#x6A21;&#x578B;&#xFF0C;&#x800C;&#x4E14;&#x5E76;&#x4E0D;&#x4F1A;&#x4EA7;&#x751F;&#x5177;&#x4F53;&#x7684;&#x5411;&#x91CF;&#x8868;&#x793A;&#xFF0C;&#x53EA;&#x4F1A;&#x4EA7;&#x751F;&#x4E00;&#x4E2A;&#x4ECB;&#x4E8E;0&#x548C;1&#x4E4B;&#x95F4;&#x7684;&#x503C;&#xFF0C;&#x7528;&#x4E8E;&#x8868;&#x793A;&#x53E5;&#x5B50;&#x5BF9;&#x7684;&#x76F8;&#x4F3C;&#x6027;&#x3002;&#x800C;&#x4E14;&#xFF0C;&#x5728;&#x4F7F;&#x7528;&#x65F6;&#xFF0C;&#x9700;&#x8981;&#x5C06;Query&#x4E0E;&#x5F85;&#x67E5;&#x8BE2;&#x7684;&#x53E5;&#x5B50;&#x62FC;&#x63A5;&#x5230;&#x4E00;&#x8D77;&#x518D;&#x8F93;&#x5165;&#x7ED9;&#x6A21;&#x578B;&#xFF0C;&#x6240;&#x4EE5;&#x8FD9;&#x5C31;&#x51B3;&#x5B9A;&#x4E86;&#x8F93;&#x5165;&#x7684;&#x53E5;&#x5B50;&#x5BF9;&#x6570;&#x91CF;&#x4E0D;&#x80FD;&#x592A;&#x591A;&#xFF0C;&#x5426;&#x5219;&#x5E26;&#x6765;&#x7684;&#x8BA1;&#x7B97;&#x8017;&#x65F6;&#x5C06;&#x4F1A;&#x662F;&#x65E0;&#x6CD5;&#x4F30;&#x91CF;&#x7684;&#x3002;</p>
<h2 id="&#x7CBE;&#x6392;&#x6A21;&#x578B;&#x7684;&#x672C;&#x8D28;"><a href="#&#x7CBE;&#x6392;&#x6A21;&#x578B;&#x7684;&#x672C;&#x8D28;" class="headerlink" title="&#x7CBE;&#x6392;&#x6A21;&#x578B;&#x7684;&#x672C;&#x8D28;"></a>&#x7CBE;&#x6392;&#x6A21;&#x578B;&#x7684;&#x672C;&#x8D28;</h2><p>&#x76F4;&#x89C2;&#x4E0A;&#x6765;&#x8BB2;&#xFF0C;&#x7528;Bi-Encoder&#x201C;&#x76EE;&#x7684;&#x66F4;&#x52A0;&#x901A;&#x7528;&#x201D;&#xFF0C;&#x662F;&#x4E3A;&#x4E86;&#x5F97;&#x5230;&#x8F93;&#x5165;&#x7684;&#x5411;&#x91CF;&#x5316;&#x8868;&#x793A;&#xFF0C;&#x8FD9;&#x4E9B;&#x5411;&#x91CF;&#x4E0D;&#x4EC5;&#x6709;&#x5927;&#x5C0F;&#xFF0C;&#x8FD8;&#x6709;&#x65B9;&#x5411;&#xFF0C;&#x56E0;&#x6B64;&#x5C31;&#x6709;&#x8FD9;&#x4E48;&#x4E00;&#x4E2A;&#x5B66;&#x4E60;&#x5411;&#x91CF;&#x5316;&#x65F6;&#x9047;&#x5230;&#x7684;&#x7ECF;&#x5178;&#x4F8B;&#x5B50;&#xFF1A;&#x56FD;&#x738B;&#x2212;&#x7537;&#x4EBA;=&#x5973;&#x738B;&#x2212;&#x5973;&#x4EBA;&#x56FD;&#x738B;-&#x7537;&#x4EBA;=&#x5973;&#x738B;-&#x5973;&#x4EBA;&#x56FD;&#x738B;&#x2212;&#x7537;&#x4EBA;=&#x5973;&#x738B;&#x2212;&#x5973;&#x4EBA;&#x3002;</p>
<p>&#x800C;&#x4F7F;&#x7528;&#x4E86;Cross-Encoder&#x7684;&#x7CBE;&#x6392;&#x6A21;&#x578B;&#xFF0C;&#x56E0;&#x4E3A;&#x8F93;&#x5165;&#x90E8;&#x5206;&#x5305;&#x542B;&#x4E86;&#x4E24;&#x4E2A;&#x539F;&#x59CB;&#x7684;&#x53E5;&#x5B50;&#xFF0C;&#x56E0;&#x6B64;&#x662F;&#x4ECE;&#x6587;&#x672C;&#x7A7A;&#x95F4;&#x76F4;&#x63A5;&#x8868;&#x793A;&#x53E5;&#x5B50;&#x7684;&#x76F8;&#x4F3C;&#x5EA6;&#xFF0C;&#x800C;&#x4E0D;&#x662F;&#x5230;&#x4E86;&#x5411;&#x91CF;&#x7A7A;&#x95F4;&#x518D;&#x8868;&#x793A;&#x3002;&#x5177;&#x4F53;&#x800C;&#x8A00;&#x5C31;&#x662F;&#xFF1A;&#x4F20;&#x7EDF;&#x7684;&#x5411;&#x91CF;&#x662F;&#x7ECF;&#x8FC7;&#x4E86;&#x6A21;&#x578B;&#x8F93;&#x51FA;&#x4E4B;&#x540E;&#x518D;&#x6839;&#x636E;&#x4E0D;&#x540C;&#x7684;&#x7B97;&#x5B50;&#x8BA1;&#x7B97;&#x5411;&#x91CF;&#x4E4B;&#x95F4;&#x7684;&#x76F8;&#x4F3C;&#x5EA6;&#xFF0C;&#x800C;&#x8FD9;&#x4E2A;&#x6A21;&#x578B;&#x662F;&#x53E5;&#x5B50;&#x5BF9;&#x7531;&#x6A21;&#x578B;&#x5F97;&#x5230;&#x7AEF;&#x5230;&#x7AEF;&#x7684;&#x7ED3;&#x679C;&#x3002;</p>
<p><strong>&#x80FD;&#x5426;&#x518D;&#x4F7F;&#x7528;&#x4E00;&#x6B21;&#x5411;&#x91CF;&#x6BD4;&#x8F83;&#xFF1F;&#x6216;&#x8005;&#x8BF4;&#x4E00;&#x9636;&#x6BB5;&#x540E;&#x518D;&#x5BF9;&#x68C0;&#x7D22;&#x51FA;&#x7684;&#x5411;&#x91CF;&#x8BA1;&#x7B97;&#x7CBE;&#x786E;&#x7684;&#x76F8;&#x4F3C;&#x5EA6;&#x6709;&#x610F;&#x4E49;&#x5417;&#xFF1F;</strong><br>&#x610F;&#x4E49;&#x4E0D;&#x5927;&#x3002;&#x56E0;&#x4E3A;&#x8FD9;&#x65F6;&#x5019;&#x5C31;&#x7B97;&#x518D;&#x8BA1;&#x7B97;&#x7CBE;&#x786E;&#x7684;&#x5411;&#x91CF;&#x76F8;&#x4F3C;&#x5EA6;&#xFF0C;&#x4E5F;&#x53EA;&#x662F;&#x5728;&#x7ECF;&#x8FC7;&#x8F6C;&#x6362;&#x540E;&#x7684;&#x5411;&#x91CF;&#x7A7A;&#x95F4;&#x8FDB;&#x884C;&#x6BD4;&#x8F83;&#xFF0C;&#x56E0;&#x4E3A;&#x8FD9;&#x4E2A;&#x7A7A;&#x95F4;&#x6BD4;&#x8F83;&#x201C;&#x901A;&#x7528;&#x201D;&#xFF0C;&#x5FC5;&#x5B9A;&#x6709;&#x6240;&#x635F;&#x5931;&#xFF0C;&#x65E0;&#x6CD5;&#x5728;&#x67D0;&#x79CD;&#x7A0B;&#x5EA6;&#x4E0A;&#x51C6;&#x786E;&#x8868;&#x793A;&#x6240;&#x6709;&#x7684;&#x5411;&#x91CF;&#x3002;</p>
<p><strong>&#x7CBE;&#x6392;&#x6A21;&#x578B;&#x4E3A;&#x4EC0;&#x4E48;&#x51C6;&#x5462;&#xFF1F;</strong><br>&#x5982;&#x524D;&#x9762;&#x8BF4;&#x7684;&#xFF0C;Bi-Encoder&#x5FC5;&#x987B;&#x5C06;&#x6240;&#x6709;&#x7684;&#x6587;&#x6863;&#x90FD;&#x6620;&#x5C04;&#x5230;&#x4E00;&#x4E2A;&#x5411;&#x91CF;&#x4E2D;&#xFF0C;&#x8FD9;&#x4E2A;&#x8FC7;&#x7A0B;&#x4F1A;&#x4E22;&#x5931;&#x4FE1;&#x606F;&#x3002;&#x800C;&#x4E14;&#xFF0C;&#x68C0;&#x7D22;&#x65F6;query&#x548C;&#x5DF2;&#x6709;&#x7684;&#x5411;&#x91CF;&#x662F;&#x6CA1;&#x6709;&#x4EA4;&#x4E92;&#x7684;&#xFF0C;&#x662F;&#x79BB;&#x7EBF;&#x7684;&#x72B6;&#x6001;&#xFF0C;&#x53EA;&#x662F;&#x901A;&#x8FC7;&#x989D;&#x5916;&#x7684;&#x76F8;&#x4F3C;&#x5EA6;&#x8BA1;&#x7B97;&#x65B9;&#x6CD5;&#x5F97;&#x5230;&#x6BD4;&#x8F83;&#x76F8;&#x4F3C;&#x7684;&#x5411;&#x91CF;&#xFF0C;&#x5BF9;query&#x6765;&#x8BF4;&#xFF0C;&#x7F3A;&#x4E4F;&#x5FC5;&#x8981;&#x7684;&#x4E0A;&#x4E0B;&#x6587;&#x4FE1;&#x606F;&#x3002;</p>
<p>&#x800C;&#x521A;&#x597D;&#x7CBE;&#x6392;&#x6A21;&#x578B;&#x662F;&#x540C;&#x65F6;&#x5BF9;&#x4E24;&#x4E2A;&#x53E5;&#x5B50;&#x8FDB;&#x884C;&#x7F16;&#x7801;&#x7684;&#xFF0C;&#x8FD9;&#x65F6;&#x5019;&#x5BF9;query&#x6765;&#x8BF4;&#x4F1A;&#x542B;&#x6709;&#x4E0A;&#x4E0B;&#x6587;&#x4FE1;&#x606F;&#xFF0C;&#x800C;&#x4E14;&#x4ECE;&#x539F;&#x59CB;&#x7A7A;&#x95F4;&#x6620;&#x5C04;&#x5230;&#x9690;&#x7A7A;&#x95F4;&#x662F;&#x4E00;&#x4E2A;&#x53E5;&#x5B50;&#x5BF9;&#x800C;&#x4E0D;&#x662F;&#x5355;&#x72EC;&#x7684;&#x53E5;&#x5B50;&#xFF0C;&#x4E5F;&#x66F4;&#x4FDD;&#x8BC1;&#x6700;&#x7EC8;&#x5F97;&#x5230;&#x7684;&#x76F8;&#x4F3C;&#x5EA6;&#x5305;&#x542B;&#x7528;&#x6237;&#x67E5;&#x8BE2;&#x7684;&#x6587;&#x6863;&#x4FE1;&#x606F;&#x3002;&#x4F46;&#x662F;&#x76F8;&#x5BF9;&#x7684;&#xFF0C;&#x7CBE;&#x6392;&#x6A21;&#x578B;&#x7684;&#x7ED3;&#x6784;&#x51B3;&#x5B9A;&#x4E86;&#x5B83;&#x7684;&#x8BA1;&#x7B97;&#x662F;&#x5B9E;&#x65F6;&#x7684;&#xFF0C;&#x800C;&#x4E14;&#x8BA1;&#x7B97;&#x91CF;&#x4F1A;&#x6BD4;&#x5355;&#x7EAF;&#x7684;&#x76F8;&#x4F3C;&#x5EA6;&#x8BA1;&#x7B97;&#x5927;&#x4E0D;&#x5C11;&#x3002;</p>
<h2 id="&#x73B0;&#x6709;&#x7684;&#x7CBE;&#x6392;&#x6A21;&#x578B;"><a href="#&#x73B0;&#x6709;&#x7684;&#x7CBE;&#x6392;&#x6A21;&#x578B;" class="headerlink" title="&#x73B0;&#x6709;&#x7684;&#x7CBE;&#x6392;&#x6A21;&#x578B;"></a>&#x73B0;&#x6709;&#x7684;&#x7CBE;&#x6392;&#x6A21;&#x578B;</h2><p>&#x73B0;&#x6709;&#x5F00;&#x6E90;&#x7684;Reranker&#x6A21;&#x578B;&#x5DF2;&#x7ECF;&#x975E;&#x5E38;&#x591A;&#x4E86;&#xFF0C;&#x56FD;&#x5185;&#x6BD4;&#x8F83;&#x51FA;&#x95E8;&#x7684;&#x6709;Jina-8k&#x3001;bge-reranker&#x4EE5;&#x53CA;bce-reranker&#x7B49;&#xFF0C;&#x4E14;&#x66F4;&#x65B0;&#x5F97;&#x975E;&#x5E38;&#x5FEB;&#xFF0C;&#x76EE;&#x524D;&#x770B;&#x8D77;&#x6765;&#x5C31;&#x662F;&#x54EA;&#x4E2A;&#x6700;&#x65B0;&#x7528;&#x54EA;&#x4E2A;&#xFF0C;&#x57FA;&#x672C;&#x5DEE;&#x5F02;&#x4E0D;&#x5927;&#x3002;&#x503C;&#x5F97;&#x4E00;&#x63D0;&#x7684;&#x662F;Jina&#x7684;&#x6A21;&#x578B;&#x662F;&#x57FA;&#x4E8E;Alibi&#x6539;&#x8FDB;&#x7684;&#x6CE8;&#x610F;&#x529B;&#x673A;&#x5236;&#xFF0C;&#x6240;&#x4EE5;&#x80FD;&#x652F;&#x6301;8K&#x7684;&#x4E0A;&#x4E0B;&#x6587;&#x7A97;&#x53E3;&#xFF0C;&#x800C;bce&#x672C;&#x8EAB;&#x53EA;&#x652F;&#x6301;512k&#x7684;&#x4E0A;&#x4E0B;&#x6587;&#x7A97;&#x53E3;&#xFF0C;&#x4F46;&#x662F;&#x5BF9;&#x8F83;&#x957F;&#x7684;&#x4E0A;&#x4E0B;&#x6587;&#x8FDB;&#x884C;&#x5207;&#x5206;&#xFF0C;&#x5E76;&#x4E14;&#x4EE5;&#x5176;&#x4E2D;&#x4E00;&#x6BB5;&#x6700;&#x597D;&#x7684;&#x5F97;&#x5206;&#x4F5C;&#x4E3A;&#x6700;&#x7EC8;&#x7684;&#x76F8;&#x4F3C;&#x5EA6;&#x3002;bge&#x6A21;&#x578B;&#x6CA1;&#x770B;&#x8FC7;&#x6E90;&#x7801;&#xFF0C;&#x7B49;&#x4EE5;&#x540E;&#x6709;&#x65F6;&#x95F4;&#x9488;&#x5BF9;&#x8FD9;&#x51E0;&#x4E2A;&#x6A21;&#x578B;&#x518D;&#x7814;&#x7A76;&#x4E00;&#x756A;&#x3002;</p>
<h1 id="&#x603B;&#x7ED3;"><a href="#&#x603B;&#x7ED3;" class="headerlink" title="&#x603B;&#x7ED3;"></a>&#x603B;&#x7ED3;</h1><p>&#x867D;&#x7136;&#x76EE;&#x524D;&#x4E8C;&#x9636;&#x6BB5;&#x65B9;&#x6CD5;&#x7528;&#x6765;&#x63D0;&#x5347;RAG&#x7684;&#x6027;&#x80FD;&#x8868;&#x73B0;&#x8D8A;&#x6765;&#x8D8A;&#x53D7;&#x5230;&#x5173;&#x6CE8;&#xFF0C;&#x4F46;&#x662F;&#x5177;&#x4F53;&#x6765;&#x770B;&#xFF0C;&#x5176;&#x4E2D;&#x6240;&#x542B;&#x7684;&#x6280;&#x672F;&#x90FD;&#x662F;&#x65E9;&#x5C31;&#x6709;&#x7684;&#x5185;&#x5BB9;&#x3002;Cross-Encoder&#x8FD9;&#x79CD;&#x67B6;&#x6784;&#x5728;&#x5F53;&#x65F6;&#x663E;&#x5F97;&#x6BD4;&#x8F83;&#x9E21;&#x808B;&#xFF0C;&#x53EA;&#x80FD;&#x7528;&#x6765;&#x6BD4;&#x8F83;&#x53E5;&#x5B50;&#x7684;&#x76F8;&#x4F3C;&#x5EA6;&#xFF0C;&#x751A;&#x81F3;&#x65E0;&#x6CD5;&#x8F93;&#x51FA;&#x5411;&#x91CF;&#xFF0C;&#x5728;&#x5927;&#x90E8;&#x5206;&#x81EA;&#x7136;&#x8BED;&#x8A00;&#x5904;&#x7406;&#x573A;&#x666F;&#x4E2D;&#x90FD;&#x4E0D;&#x53D7;&#x5F85;&#x89C1;&#xFF0C;&#x8C01;&#x80FD;&#x60F3;&#x5230;&#x5728;&#x5982;&#x4ECA;&#x53C8;&#x7115;&#x53D1;&#x751F;&#x673A;&#x4E86;&#x5462;&#xFF1F;</p>
<p><strong>&#x672C;&#x6587;&#x8F6C;&#x8F7D;&#x81EA;:</strong> <a href="/external_links/9695c829a0d2491958383c6eb99d6645.html" target="blank" rel="noopener">&#x6398;&#x91D1;</a></p>
<p><em><a href="https://dev.newban.cn/">&#x5F00;&#x53D1;&#x8005;&#x535A;&#x5BA2; &#x2013; &#x548C;&#x5F00;&#x53D1;&#x76F8;&#x5173;&#x7684; &#x8FD9;&#x91CC;&#x5168;&#x90FD;&#x6709;</a></em></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://dev.newban.cn../../7361715712992935975.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="开发者博客">
      <meta itemprop="description" content>
      <meta itemprop="image" content="../../images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="开发者博客 – IT技术 尽在开发者博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="../../7361715712992935975.html" itemprop="url">微软一面：订单超时未支付，如何自动关闭？ 方案1  定时器</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2024-04-26T15:06:10+08:00">
                2024-04-26
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>hi&#xFF0C;&#x4F60;&#x597D;&#xFF0C;&#x6211;&#x662F;&#x733F;java</p>
<p>&#x6700;&#x8FD1;&#xFF0C;&#x6709;&#x5C0F;&#x4F19;&#x4F34;&#x79C1;&#x4FE1;&#x53CD;&#x9988;&#x5FAE;&#x8F6F;&#x4E00;&#x9762;&#x7684;&#x7CFB;&#x7EDF;&#x8BBE;&#x8BA1;&#x9898;&#xFF1A;&#x8BA2;&#x5355;&#x8D85;&#x65F6;&#x672A;&#x652F;&#x4ED8;&#xFF0C;&#x5982;&#x4F55;&#x81EA;&#x52A8;&#x5173;&#x95ED;&#xFF1F;</p>
<p>&#x8BF4;&#x5B9E;&#x8BDD;&#xFF0C;&#x5FAE;&#x8F6F;&#x80FD;&#x95EE;&#x51FA;&#x8FD9;&#x79CD;&#x9762;&#x8BD5;&#x9898;&#x786E;&#x5B9E;&#x5F88;&#x8BE7;&#x5F02;&#xFF0C;&#x96BE;&#x9053;&#x662F;&#x4E92;&#x8054;&#x7F51;&#x4EBA;&#x5DF2;&#x7ECF;&#x5927;&#x91CF;&#x6D8C;&#x8FDB;&#x4E86;&#x5FAE;&#x8F6F;&#x8FD9;&#x4E2A;&#x517B;&#x8001;&#x57FA;&#x5730;&#xFF0C;&#x5F00;&#x59CB;&#x5377;&#x5B83;&#xFF1F;&#x8A00;&#x5F52;&#x6B63;&#x4F20;&#xFF0C;&#x6709;&#x7F51;&#x8D2D;&#x7ECF;&#x9A8C;&#x7684;&#x5C0F;&#x4F19;&#x4F34;&#x5E94;&#x8BE5;&#x77E5;&#x9053;&#xFF0C;&#x5982;&#x679C;&#x8BA2;&#x5355;&#x5728;&#x89C4;&#x5B9A;&#x7684;&#x65F6;&#x95F4;&#x5185;&#x6CA1;&#x6709;&#x652F;&#x4ED8;&#xFF0C;&#x8BA2;&#x5355;&#x5C31;&#x4F1A;&#x88AB;&#x7CFB;&#x7EDF;&#x81EA;&#x52A8;&#x5173;&#x95ED;&#xFF0C;&#x4F5C;&#x4E3A;&#x6280;&#x672F;&#x4EBA;&#x5458;&#xFF0C;&#x8BE5;&#x5982;&#x4F55;&#x8BBE;&#x8BA1;&#x8FD9;&#x4E2A;&#x529F;&#x80FD;&#xFF0C;&#x4ECA;&#x5929;&#x6211;&#x4EEC;&#x6765;&#x5206;&#x6790; 4&#x79CD;&#x6709;&#x6982;&#x62EC;&#x6027;&#x7684;&#x65B9;&#x6848;&#x3002;</p>
<p>&#x8BF4;&#x660E;&#xFF1A;</p>
<ul>
<li>&#x89C4;&#x5B9A;&#x7684;&#x65F6;&#x95F4;&#xFF1A;&#x5373;&#x8D85;&#x65F6;&#x65F6;&#x95F4;&#xFF0C;&#x8FD9;&#x4E2A;&#x56E0;&#x5E73;&#x53F0;&#x800C;&#x5F02;&#xFF0C;&#x6709;&#x7684;&#x573A;&#x666F;&#x662F; 10&#x5206;&#x949F;&#x8D85;&#x65F6;&#xFF0C;&#x6BD4;&#x5982; 12306 &#x8D2D;&#x7968;&#xFF0C;&#x6709;&#x7684;&#x5E73;&#x53F0;&#x662F; 15&#x5206;&#x949F;&#x6216;&#x8005; 30&#x5206;&#x949F;&#x8D85;&#x65F6;&#xFF0C;&#x6709;&#x4E9B;&#x79D2;&#x6740;&#x573A;&#x666F;&#x662F; 1&#x5206;&#x949F;&#x8D85;&#x65F6;&#xFF0C;&#x5177;&#x4F53;&#x8D85;&#x65F6;&#x503C;&#x9700;&#x8981;&#x6839;&#x636E;&#x5177;&#x4F53;&#x7684;&#x4E1A;&#x52A1;&#x6765;&#x5B9A;&#x3002;</li>
<li>&#x81EA;&#x52A8;&#x5173;&#x95ED;&#x7684;&#x539F;&#x56E0;&#xFF1A;&#x5BF9;&#x4E8E;&#x6709;&#x5E93;&#x5B58;&#x7684;&#x4E1A;&#x52A1;&#xFF0C;&#x9700;&#x8981;&#x91CA;&#x653E;&#x5E93;&#x5B58;&#xFF0C;&#x5426;&#x5219;&#x5BB9;&#x6613;&#x5BFC;&#x81F4;&#x5C11;&#x5356;&#x3002;</li>
</ul>
<h1 id="&#x65B9;&#x6848;1-&#x5B9A;&#x65F6;&#x5668;"><a href="#&#x65B9;&#x6848;1-&#x5B9A;&#x65F6;&#x5668;" class="headerlink" title="&#x65B9;&#x6848;1: &#x5B9A;&#x65F6;&#x5668;"></a>&#x65B9;&#x6848;1: &#x5B9A;&#x65F6;&#x5668;</h1><p>&#x5B9A;&#x65F6;&#x5668;&#x5E94;&#x8BE5;&#x662F;&#x6211;&#x4EEC;&#x6700;&#x53EF;&#x80FD;&#x60F3;&#x5230;&#x7684;&#x65B9;&#x6848;&#xFF0C;&#x901A;&#x8FC7;&#x5B9A;&#x65F6;&#x5668;&#x53BB;&#x6570;&#x636E;&#x5E93;&#x8F6E;&#x8BE2;&#x5F85;&#x652F;&#x4ED8;&#x7684;&#x8BA2;&#x5355;&#x4FE1;&#x606F;&#xFF0C;&#x7136;&#x540E;&#x5728;&#x4E1A;&#x52A1;&#x4EE3;&#x7801;&#x4E2D;&#x5224;&#x65AD;&#x8BA2;&#x5355;&#x662F;&#x5426;&#x8D85;&#x65F6;&#xFF0C;&#x66F4;&#x65B0;&#x8BA2;&#x5355;&#x72B6;&#x6001;&#x3002;</p>
<h2 id="&#x5B9E;&#x73B0;&#x601D;&#x8DEF;"><a href="#&#x5B9E;&#x73B0;&#x601D;&#x8DEF;" class="headerlink" title="&#x5B9E;&#x73B0;&#x601D;&#x8DEF;"></a>&#x5B9E;&#x73B0;&#x601D;&#x8DEF;</h2><p>&#x4E0B;&#x5355;&#x7684;&#x65F6;&#x5019;&#x628A;&#x8D85;&#x65F6;&#x9700;&#x8981;&#x5173;&#x95ED;&#x8BA2;&#x5355;&#x7684;&#x5177;&#x4F53;&#x65F6;&#x95F4;&#x503C;&#xFF08;pay_expire_time&#xFF09;&#x4FDD;&#x5B58;&#x5230;&#x8868;&#x91CC;&#xFF0C;&#x7ED9;<code>pay_expire_time</code>&#x5B57;&#x6BB5;&#x6DFB;&#x52A0;&#x4E00;&#x4E2A;&#x7D22;&#x5F15;&#xFF0C;&#x7136;&#x540E;&#x8BBE;&#x7F6E;&#x4E00;&#x4E2A;&#x5B9A;&#x65F6;&#x5668;&#xFF0C;&#x6BCF; 3s/5s &#x53BB;&#x6570;&#x636E;&#x5E93;&#x67E5;&#x8BE2;&#x4E00;&#x6B21;&#x6570;&#x636E;&#xFF0C;&#x67E5;&#x8BE2; SQL &#x5982;&#x4E0B;&#xFF1A;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sql&#x590D;&#x5236;&#x4EE3;&#x7801;select id from order where order_status = &apos;&#x5F85;&#x652F;&#x4ED8;&apos; &amp;&amp; pay_expire_time &gt; now()</span><br></pre></td></tr></table></figure>

<h2 id="&#x4F18;&#x70B9;"><a href="#&#x4F18;&#x70B9;" class="headerlink" title="&#x4F18;&#x70B9;"></a>&#x4F18;&#x70B9;</h2><p>&#x5B9A;&#x65F6;&#x5668;&#x65B9;&#x6848;&#x6700;&#x5927;&#x7684;&#x4F18;&#x70B9;&#x5C31;&#x662F;&#x5B9E;&#x73B0;&#x7B80;&#x5355;</p>
<h2 id="&#x7F3A;&#x70B9;"><a href="#&#x7F3A;&#x70B9;" class="headerlink" title="&#x7F3A;&#x70B9;"></a>&#x7F3A;&#x70B9;</h2><ol>
<li>&#x9700;&#x8981;&#x5B9A;&#x65F6;&#x4ECE;&#x6570;&#x636E;&#x5E93;&#x62C9;&#x53D6;&#x6570;&#x636E;&#xFF0C;&#x5BF9;&#x6570;&#x636E;&#x5E93;&#x4F1A;&#x4EA7;&#x751F;&#x4E00;&#x5B9A;&#x7684;&#x538B;&#x529B;</li>
<li>&#x9700;&#x8981;&#x5C06;&#x6570;&#x636E;&#x52A0;&#x8F7D;&#x5230;&#x5185;&#x5B58;&#x4E2D;&#x8FDB;&#x884C;&#x4E1A;&#x52A1;&#x903B;&#x8F91;&#x5904;&#x7406;&#xFF0C;&#x5982;&#x679C;&#x62C9;&#x53D6;&#x7684;&#x6570;&#x636E;&#x91CF;&#x6BD4;&#x8F83;&#x5927;&#xFF0C;&#x53EF;&#x80FD;&#x4F1A;&#x6D88;&#x8017;&#x8FC7;&#x591A;&#x7684;&#x5185;&#x5B58;&#x5BFC;&#x81F4;OOM</li>
<li>&#x5B9A;&#x65F6;&#x5668;&#x662F;&#x5468;&#x671F;&#x6027;&#x7684;&#xFF0C;&#x5BF9;&#x4E8E;&#x8D85;&#x65F6;&#x8BA2;&#x5355;&#x7684;&#x5173;&#x95ED;&#x53EF;&#x80FD;&#x5B58;&#x5728;&#x5EF6;&#x65F6;</li>
</ol>
<h2 id="&#x9002;&#x7528;&#x573A;&#x666F;"><a href="#&#x9002;&#x7528;&#x573A;&#x666F;" class="headerlink" title="&#x9002;&#x7528;&#x573A;&#x666F;"></a>&#x9002;&#x7528;&#x573A;&#x666F;</h2><p>&#x9002;&#x7528;&#x4E8E;&#x6570;&#x636E;&#x91CF;&#x6BD4;&#x8F83;&#x5C0F;&#x7684;&#x4E1A;&#x52A1;&#x573A;&#x666F;&#xFF0C;&#x6BD4;&#x5982;&#xFF0C;&#x5F88;&#x591A;&#x5C0F;&#x516C;&#x53F8;&#x5728;&#x4E1A;&#x52A1;&#x5904;&#x4E8E; 0-1 &#x7684;&#x8FC7;&#x7A0B;&#x4E2D;&#xFF0C;&#x8BE5;&#x65B9;&#x6848;&#x6BD4;&#x8F83;&#x5E38;&#x89C1;&#x3002;</p>
<h1 id="&#x65B9;&#x6848;2-&#x88AB;&#x52A8;&#x5173;&#x95ED;"><a href="#&#x65B9;&#x6848;2-&#x88AB;&#x52A8;&#x5173;&#x95ED;" class="headerlink" title="&#x65B9;&#x6848;2: &#x88AB;&#x52A8;&#x5173;&#x95ED;"></a>&#x65B9;&#x6848;2: &#x88AB;&#x52A8;&#x5173;&#x95ED;</h1><p>&#x670D;&#x52A1;&#x5668;&#x4E0D;&#x505A;&#x8BA2;&#x5355;&#x7684;&#x4E3B;&#x52A8;&#x5173;&#x95ED;&#xFF0C;&#x800C;&#x662F;&#x5728;&#x5BA2;&#x6237;&#x7AEF;&#x62C9;&#x53D6;&#x8BA2;&#x5355;&#x65F6;&#x6309;&#x9700;&#x88AB;&#x52A8;&#x5173;&#x95ED;&#x8BA2;&#x5355;&#xFF0C;&#x6BD4;&#x5982;&#xFF0C;&#x5BA2;&#x6237;&#x7AEF;&#x901A;&#x8FC7;&#x63A5;&#x53E3;&#x83B7;&#x53D6;&#x670D;&#x52A1;&#x5668;&#x7684;&#x65F6;&#x95F4;&#x4EE5;&#x53CA;&#x8BA2;&#x5355;&#x8D85;&#x65F6;&#x65F6;&#x95F4;&#xFF0C;&#x7136;&#x540E;&#x8BA1;&#x7B97;&#x5E76;&#x5224;&#x65AD;&#x8BA2;&#x5355;&#x662F;&#x5426;&#x8D85;&#x65F6;&#xFF0C;&#x5982;&#x679C;&#x8D85;&#x65F6;&#xFF0C;&#x5C06;&#x8BA2;&#x5355;&#x663E;&#x793A;&#x6210;&#x8D85;&#x65F6;&#x7684;&#x6837;&#x5F0F;&#xFF0C;<br>&#x5E76;&#x9690;&#x5F0F;&#x5411;&#x670D;&#x52A1;&#x5668;&#x53D1;&#x9001;&#x4E00;&#x4E2A;&#x8BA2;&#x5355;&#x8D85;&#x65F6;&#x5173;&#x95ED;&#x7684;&#x8BF7;&#x6C42;&#xFF0C;&#x670D;&#x52A1;&#x5668;&#x518D;&#x505A;&#x76F8;&#x5E94;&#x7684;&#x903B;&#x8F91;&#x5904;&#x7406;&#x3002;</p>
<h2 id="&#x4F18;&#x70B9;-1"><a href="#&#x4F18;&#x70B9;-1" class="headerlink" title="&#x4F18;&#x70B9;"></a>&#x4F18;&#x70B9;</h2><ul>
<li>&#x5B9E;&#x73B0;&#x7B80;&#x5355;</li>
<li>&#x6309;&#x9700;&#x5904;&#x7406;&#x8BA2;&#x5355;&#x8D85;&#x65F6;&#xFF0C;&#x5BA2;&#x6237;&#x7AEF;&#x9700;&#x8981;&#x7528;&#x5230;&#x6570;&#x636E;&#x518D;&#x505A;&#x5224;&#x65AD;</li>
</ul>
<h2 id="&#x7F3A;&#x70B9;-1"><a href="#&#x7F3A;&#x70B9;-1" class="headerlink" title="&#x7F3A;&#x70B9;"></a>&#x7F3A;&#x70B9;</h2><ul>
<li>&#x8BA2;&#x5355;&#x957F;&#x65F6;&#x95F4;&#x672A;&#x5173;&#x95ED;&#xFF0C;&#x5728;&#x4E1A;&#x52A1;&#x610F;&#x4E49;&#x4E0A;&#x53EF;&#x80FD;&#x662F;&#x810F;&#x6570;&#x636E;</li>
<li>&#x5BA2;&#x6237;&#x7AEF;&#x9700;&#x8981;&#x505A;&#x8D85;&#x65F6;&#x7684;&#x903B;&#x8F91;&#x5224;&#x65AD;&#x5E76;&#x4E14;&#x53D1;&#x9001;&#x8D85;&#x65F6;&#x5173;&#x95ED;&#x8BF7;&#x6C42;</li>
</ul>
<h2 id="&#x9002;&#x7528;&#x573A;&#x666F;-1"><a href="#&#x9002;&#x7528;&#x573A;&#x666F;-1" class="headerlink" title="&#x9002;&#x7528;&#x573A;&#x666F;"></a>&#x9002;&#x7528;&#x573A;&#x666F;</h2><p>&#x9002;&#x7528;&#x4E8E;&#x6570;&#x636E;&#x91CF;&#x6BD4;&#x8F83;&#x5C0F;&#x7684;&#x4E1A;&#x52A1;&#x573A;&#x666F;&#xFF0C;&#x88AB;&#x52A8;&#x5173;&#x95ED;&#x901A;&#x5E38;&#x4F1A;&#x7ED3;&#x5408;&#x5B9A;&#x65F6;&#x5668;&#x65B9;&#x6848;&#x4F7F;&#x7528;&#x3002;</p>
<h1 id="&#x65B9;&#x6848;3-MQ&#x5EF6;&#x65F6;&#x6D88;&#x606F;"><a href="#&#x65B9;&#x6848;3-MQ&#x5EF6;&#x65F6;&#x6D88;&#x606F;" class="headerlink" title="&#x65B9;&#x6848;3: MQ&#x5EF6;&#x65F6;&#x6D88;&#x606F;"></a>&#x65B9;&#x6848;3: MQ&#x5EF6;&#x65F6;&#x6D88;&#x606F;</h1><p>&#x6709;&#x4E9B; MQ&#x6709;&#x5EF6;&#x65F6;&#x6D88;&#x606F;&#x7684;&#x7279;&#x6027;&#xFF0C;&#x6BD4;&#x5982;&#x963F;&#x91CC;&#x5F00;&#x6E90;&#x7684; RocketMQ&#xFF0C;&#x7528;&#x6237;&#x521B;&#x5EFA;&#x8BA2;&#x5355;&#x65F6;&#xFF0C;&#x540C;&#x65F6;&#x5F80; MQ&#x4E2D;&#x53D1;&#x9001;&#x4E00;&#x6761;&#x5EF6;&#x65F6;&#x6D88;&#x606F;&#xFF0C;&#x7528;&#x6237;&#x652F;&#x4ED8;&#x6210;&#x529F;&#x540E;&#xFF0C;&#x5220;&#x9664;&#x5BF9;&#x5E94;&#x7684;&#x5EF6;&#x65F6;&#x6D88;&#x606F;&#xFF08;&#x5F00;&#x6E90;&#x7248;&#x672C;&#x7684;&#x6CA1;&#x6709;&#x6B64;&#x529F;&#x80FD;&#xFF09;<br>&#xFF0C;&#x5F53;&#x6D88;&#x8D39;&#x8005;&#x6D88;&#x8D39;&#x5230;&#x6D88;&#x606F;&#x65F6;&#x518D;&#x505A;&#x8D85;&#x65F6;&#x7684;&#x76F8;&#x5173;&#x5904;&#x7406;</p>
<h2 id="&#x4F18;&#x70B9;-2"><a href="#&#x4F18;&#x70B9;-2" class="headerlink" title="&#x4F18;&#x70B9;"></a>&#x4F18;&#x70B9;</h2><ul>
<li>&#x5229;&#x7528;&#x4E2D;&#x95F4;&#x4EF6; MQ&#x7684;&#x7279;&#x6027;&#xFF0C;&#x907F;&#x514D;&#x4E1A;&#x52A1;&#x7AEF;&#x81EA;&#x5DF1;&#x5B9E;&#x73B0;</li>
</ul>
<h2 id="&#x7F3A;&#x70B9;-2"><a href="#&#x7F3A;&#x70B9;-2" class="headerlink" title="&#x7F3A;&#x70B9;"></a>&#x7F3A;&#x70B9;</h2><ul>
<li>&#x5F00;&#x6E90;&#x7684; RocketMQ &#x6D88;&#x606F;&#x5EF6;&#x65F6;&#x53EA;&#x6709;&#x7279;&#x5B9A;&#x7684;&#x51E0;&#x4E2A;&#x7EA7;&#x522B;&#xFF0C;&#x6240;&#x4EE5;&#x4E1A;&#x52A1;&#x7684;&#x8D85;&#x65F6;&#x65F6;&#x95F4;&#x8981;&#x548C; RocketMQ&#x7684;&#x5EF6;&#x65F6;&#x7EA7;&#x522B;&#x76F8;&#x5339;&#x914D;&#x624D;&#x80FD;&#x4F7F;&#x7528;</li>
<li>&#x5F3A;&#x4F9D;&#x8D56;&#x4E2D;&#x95F4;&#x4EF6; MQ&#xFF0C;&#x6240;&#x4EE5; MQ&#x7684;&#x7A33;&#x5B9A;&#x6027;&#x4EE5;&#x53CA;&#x662F;&#x5426;&#x4E22;&#x6D88;&#x606F;&#x76F4;&#x63A5;&#x5F71;&#x54CD;&#x8BE5;&#x529F;&#x80FD;</li>
<li>&#x4F7F;&#x7528;&#x5F00;&#x6E90;&#x7248;&#x7684; RocketMQ&#xFF0C;&#x6CA1;&#x6709;&#x5220;&#x9664;&#x5EF6;&#x65F6;&#x6D88;&#x606F;&#x7684;&#x529F;&#x80FD;&#xFF0C;&#x56E0;&#x6B64;&#x9700;&#x8981;&#x5BF9;&#x6BCF;&#x6761;&#x6D88;&#x606F;&#x90FD;&#x505A;&#x8D85;&#x65F6;&#x5224;&#x65AD;&#xFF0C;&#x589E;&#x52A0;&#x4E86;&#x5F88;&#x591A;&#x65E0;&#x6548;&#x7684;&#x6570;&#x636E;&#x5904;&#x7406;</li>
<li>&#x5982;&#x679C;&#x6570;&#x636E;&#x91CF;&#x6BD4;&#x8F83;&#x5927;&#xFF0C;MQ&#x53EF;&#x80FD;&#x4F1A;&#x5806;&#x79EF;&#x4EA7;&#x751F;&#x5EF6;&#x65F6;</li>
</ul>
<h2 id="&#x9002;&#x7528;&#x573A;&#x666F;-2"><a href="#&#x9002;&#x7528;&#x573A;&#x666F;-2" class="headerlink" title="&#x9002;&#x7528;&#x573A;&#x666F;"></a>&#x9002;&#x7528;&#x573A;&#x666F;</h2><p>&#x9002;&#x7528;&#x4E8E;&#x642D;&#x5EFA;&#x4E86; RocketMQ&#x7684;&#x516C;&#x53F8;&#xFF0C;&#x60F3;&#x5229;&#x7528; RocketMQ&#x7684;&#x5EF6;&#x65F6;&#x6D88;&#x606F;&#x6765;&#x5B9E;&#x73B0;&#x8BE5;&#x529F;&#x80FD;</p>
<h1 id="&#x65B9;&#x6848;4-&#x8D85;&#x65F6;&#x4E2D;&#x5FC3;"><a href="#&#x65B9;&#x6848;4-&#x8D85;&#x65F6;&#x4E2D;&#x5FC3;" class="headerlink" title="&#x65B9;&#x6848;4: &#x8D85;&#x65F6;&#x4E2D;&#x5FC3;"></a>&#x65B9;&#x6848;4: &#x8D85;&#x65F6;&#x4E2D;&#x5FC3;</h1><p>&#x5F88;&#x591A;&#x5927;&#x5382;&#x90FD;&#x6709;&#x81EA;&#x5DF1;&#x7684;&#x5206;&#x5E03;&#x5F0F;&#x8D85;&#x65F6;&#x7CFB;&#x7EDF; TOC&#xFF08;Timeout Coordinator System&#xFF09;&#xFF0C;&#x4E0D;&#x540C;&#x7684;&#x516C;&#x53F8;&#x53EF;&#x80FD;&#x53EB;&#x6CD5;&#x4E0D;&#x4E00;&#x6837;&#xFF0C;&#x8FD9;&#x91CC;&#x7ED9;&#x51FA;&#x4E00;&#x79CD;&#x5B9E;&#x73B0;&#x601D;&#x8DEF;&#xFF1A;</p>
<h2 id="&#x5B9E;&#x73B0;&#x601D;&#x8DEF;-1"><a href="#&#x5B9E;&#x73B0;&#x601D;&#x8DEF;-1" class="headerlink" title="&#x5B9E;&#x73B0;&#x601D;&#x8DEF;"></a>&#x5B9E;&#x73B0;&#x601D;&#x8DEF;</h2><p><strong>1. &#x8BA2;&#x5355;&#x521B;&#x5EFA;</strong></p>
<ul>
<li>&#x7528;&#x6237;&#x901A;&#x8FC7;&#x524D;&#x7AEF;&#x4E0B;&#x5355;&#xFF0C;&#x8BF7;&#x6C42;&#x53D1;&#x9001;&#x5230;OMS&#xFF08;Order Management System&#xFF09;&#x8BA2;&#x5355;&#x7BA1;&#x7406;&#x7CFB;&#x7EDF;</li>
<li>OMS&#x521B;&#x5EFA;&#x8BA2;&#x5355;&#xFF0C;&#x5E76;&#x5C06;&#x8BA2;&#x5355;&#x72B6;&#x6001;&#x8BBE;&#x7F6E;&#x4E3A;&#x201C;&#x5F85;&#x652F;&#x4ED8;&#x201D;&#x6216;&#x7C7B;&#x4F3C;&#x7684;&#x521D;&#x59CB;&#x72B6;&#x6001;</li>
</ul>
<p><strong>2. &#x6CE8;&#x518C;&#x8D85;&#x65F6;&#x4E8B;&#x4EF6;</strong></p>
<ul>
<li>&#x5728;&#x8BA2;&#x5355;&#x521B;&#x5EFA;&#x7684;&#x540C;&#x65F6;&#xFF0C;OMS&#x5411; TOC&#x6CE8;&#x518C;&#x4E00;&#x4E2A;&#x8D85;&#x65F6;&#x4E8B;&#x4EF6;</li>
<li>&#x8D85;&#x65F6;&#x4E8B;&#x4EF6;&#x5305;&#x542B;&#x4E86;&#x8BA2;&#x5355;ID&#x3001;&#x8D85;&#x65F6;&#x65F6;&#x95F4;&#xFF08;&#x4F8B;&#x5982;30&#x5206;&#x949F;&#xFF09;&#x548C;&#x8D85;&#x65F6;&#x540E;&#x9700;&#x8981;&#x6267;&#x884C;&#x7684;&#x52A8;&#x4F5C;&#xFF08;&#x4F8B;&#x5982;&#x5173;&#x95ED;&#x8BA2;&#x5355;&#xFF09;</li>
</ul>
<p><strong>3. &#x8D85;&#x65F6;&#x76D1;&#x63A7;</strong></p>
<ul>
<li>TOC&#x7CFB;&#x7EDF;&#x5F00;&#x59CB;&#x76D1;&#x63A7;&#x8FD9;&#x4E2A;&#x8BA2;&#x5355;&#x7684;&#x8D85;&#x65F6;&#x4E8B;&#x4EF6;</li>
<li>&#x5982;&#x679C;&#x5728;&#x8BBE;&#x5B9A;&#x7684;&#x8D85;&#x65F6;&#x65F6;&#x95F4;&#x5185;&#xFF0C;&#x7528;&#x6237;&#x5B8C;&#x6210;&#x4E86;&#x652F;&#x4ED8;&#xFF0C;OMS&#x4F1A;&#x66F4;&#x65B0;&#x8BA2;&#x5355;&#x72B6;&#x6001;&#x5E76;&#x901A;&#x77E5; TOC&#x53D6;&#x6D88;&#x8D85;&#x65F6;&#x4E8B;&#x4EF6;</li>
</ul>
<p><strong>4. &#x8D85;&#x65F6;&#x5904;&#x7406;</strong></p>
<ul>
<li>&#x5982;&#x679C;&#x8D85;&#x65F6;&#x65F6;&#x95F4;&#x5230;&#x8FBE;&#xFF0C;&#x800C;&#x8BA2;&#x5355;&#x72B6;&#x6001;&#x4ECD;&#x7136;&#x662F;&#x201C;&#x5F85;&#x652F;&#x4ED8;&#x201D;&#xFF0C;TOC&#x5C06;&#x89E6;&#x53D1;&#x8D85;&#x65F6;&#x52A8;&#x4F5C;</li>
<li>TOC&#x901A;&#x77E5; OMS&#x8BA2;&#x5355;&#x5DF2;&#x8D85;&#x65F6;</li>
</ul>
<p><strong>5. &#x8BA2;&#x5355;&#x5173;&#x95ED;</strong></p>
<ul>
<li>OMS&#x6536;&#x5230; OTC&#x8D85;&#x65F6;&#x901A;&#x77E5;&#x540E;&#xFF0C;&#x6267;&#x884C;&#x8BA2;&#x5355;&#x5173;&#x95ED;&#x64CD;&#x4F5C;</li>
<li>OMS&#x5C06;&#x8BA2;&#x5355;&#x72B6;&#x6001;&#x66F4;&#x65B0;&#x4E3A;&#x201C;&#x5DF2;&#x5173;&#x95ED;&#x201D;&#x6216;&#x201C;&#x8D85;&#x65F6;&#x5173;&#x95ED;&#x201D;</li>
</ul>
<p><strong>6. &#x8D85;&#x65F6;&#x540E;&#x5904;&#x7406;</strong></p>
<ul>
<li>OMS&#x53EF;&#x80FD;&#x9700;&#x8981;&#x5904;&#x7406;&#x4E00;&#x4E9B;&#x540E;&#x7EED;&#x4EFB;&#x52A1;&#xFF0C;&#x5982;&#x91CA;&#x653E;&#x5E93;&#x5B58;&#x3001;&#x9000;&#x8FD8;&#x4F18;&#x60E0;&#x5238;&#x7B49;</li>
<li>&#x5B8C;&#x6210;&#x8FD9;&#x4E9B;&#x64CD;&#x4F5C;&#x540E;&#xFF0C;&#x8BE5;&#x8BA2;&#x5355;&#x7684;&#x8D85;&#x65F6;&#x5904;&#x7406;&#x6D41;&#x7A0B;&#x7ED3;&#x675F;</li>
</ul>
<h2 id="&#x4F18;&#x70B9;-3"><a href="#&#x4F18;&#x70B9;-3" class="headerlink" title="&#x4F18;&#x70B9;"></a>&#x4F18;&#x70B9;</h2><ul>
<li>&#x4E13;&#x95E8;&#x7684;&#x4EBA;&#x505A;&#x4E13;&#x95E8;&#x7684;&#x4E8B;&#xFF0C;&#x6027;&#x80FD;&#xFF0C;&#x7A33;&#x5B9A;&#x6027;&#xFF0C;&#x6269;&#x5C55;&#x6027;&#x6709;&#x4FDD;&#x969C;</li>
<li>&#x53EF;&#x4EE5;&#x5904;&#x7406;&#x6D77;&#x91CF;&#x6570;&#x636E;</li>
</ul>
<h2 id="&#x7F3A;&#x70B9;-3"><a href="#&#x7F3A;&#x70B9;-3" class="headerlink" title="&#x7F3A;&#x70B9;"></a>&#x7F3A;&#x70B9;</h2><ul>
<li>&#x5B9E;&#x73B0;&#x548C;&#x7EF4;&#x62A4;&#x6210;&#x672C;&#x6BD4;&#x8F83;&#x9AD8;</li>
<li>&#x5B9E;&#x73B0;&#x590D;&#x6742;&#x5EA6;&#x6BD4;&#x8F83;&#x9AD8;&#xFF0C;&#x65B9;&#x6848;&#x4E2D;&#x53EF;&#x80FD;&#x4F1A;&#x6D89;&#x53CA;&#x5206;&#x5E03;&#x5F0F;&#x8C03;&#x5EA6;&#xFF0C;MQ&#x7B49;&#x6280;&#x672F;&#x6808;</li>
</ul>
<h2 id="&#x9002;&#x7528;&#x573A;&#x666F;-3"><a href="#&#x9002;&#x7528;&#x573A;&#x666F;-3" class="headerlink" title="&#x9002;&#x7528;&#x573A;&#x666F;"></a>&#x9002;&#x7528;&#x573A;&#x666F;</h2><p>&#x9002;&#x5408;&#x6570;&#x636E;&#x91CF;&#x6BD4;&#x8F83;&#x5927;&#x7684;&#x4E2D;&#x5927;&#x578B;&#x516C;&#x53F8;&#xFF0C;&#x9700;&#x8981;&#x4E13;&#x95E8;&#x7684;&#x56E2;&#x961F;&#x8D1F;&#x8D23;</p>
<h1 id="&#x5982;&#x4F55;&#x9009;&#x62E9;&#xFF1F;"><a href="#&#x5982;&#x4F55;&#x9009;&#x62E9;&#xFF1F;" class="headerlink" title="&#x5982;&#x4F55;&#x9009;&#x62E9;&#xFF1F;"></a>&#x5982;&#x4F55;&#x9009;&#x62E9;&#xFF1F;</h1><p>&#x67B6;&#x6784;&#x9886;&#x57DF;&#x6709;&#x53E5;&#x7ECF;&#x5178;&#x540D;&#x8A00;&#xFF1A;<strong>&#x6CA1;&#x6709;&#x6700;&#x597D;&#x7684;&#x67B6;&#x6784;&#xFF0C;&#x53EA;&#x6709;&#x591F;&#x7528;&#xFF08;&#x5408;&#x9002;&#xFF09;&#x7684;&#x67B6;&#x6784;&#x3002;</strong></p>
<p>&#x8FD9;&#x4E2A;&#x7406;&#x8BBA;&#x7528;&#x4E8E;&#x8BA2;&#x5355;&#x8D85;&#x65F6;&#x5173;&#x95ED;&#x573A;&#x666F;&#x540C;&#x6837;&#x9002;&#x7528;&#xFF0C;&#x5206;&#x5E03;&#x5F0F;&#x8D85;&#x65F6;&#x4E2D;&#x5FC3;&#x65B9;&#x6848;&#x770B;&#x8D77;&#x6765;&#x9AD8;&#x5927;&#x4E0A;&#xFF0C;&#x800C;&#x4E14;&#x80FD;&#x5904;&#x7406;&#x6D77;&#x91CF;&#x6570;&#x636E;&#xFF0C;&#x4F46;&#x662F;&#xFF0C;&#x5982;&#x679C;&#x628A;&#x8FD9;&#x5957;&#x65B9;&#x6848;&#x7528;&#x4E8E;&#x51E0;&#x4E2A;&#x4EBA;&#x7684;&#x56E2;&#x961F;&#xFF0C;&#x6709;&#x4E00;&#x79CD;&#x6740;&#x9E21;&#x7528;&#x725B;&#x5200;&#x7684;&#x67B6;&#x52BF;&#xFF0C;&#x53EF;&#x80FD;&#x4E0D;&#x4F46;&#x89E3;&#x51B3;&#x4E0D;&#x4E86;&#x95EE;&#x9898;&#xFF0C;&#x8FD8;&#x4F1A;&#x7ED9;&#x56E2;&#x961F;&#x5E26;&#x6765;&#x6280;&#x672F;&#x96BE;&#x9898;&#x548C;&#x6210;&#x672C;&#x8D1F;&#x62C5;&#x3002;</p>
<p>&#x56E0;&#x6B64;&#xFF0C;&#x67B6;&#x6784;&#x4E00;&#x5B9A;&#x8981;&#x57FA;&#x4E8E;&#x4E1A;&#x52A1;&#xFF0C;&#x65B9;&#x6848;&#x4E5F;&#x4E00;&#x5B9A;&#x8981;&#x57FA;&#x4E8E;&#x4E1A;&#x52A1;&#x3002;</p>
<p>&#x5BF9;&#x4E8E;&#x5B9A;&#x65F6;&#x5668;&#x65B9;&#x6CD5;&#xFF0C;&#x770B;&#x8D77;&#x6765;&#x7B80;&#x5355;&#x7C97;&#x66B4;&#xFF0C;&#x4F46;&#x662F;&#x5F88;&#x591A;&#x516C;&#x53F8;&#x7684;&#x4E1A;&#x52A1;&#x5728; 0-1&#x7684;&#x8FC7;&#x7A0B;&#x4E2D;&#xFF0C;&#x5B83;&#x5C31;&#x662F;&#x9996;&#x9009;&#xFF0C;&#x56E0;&#x4E3A;&#x5B9E;&#x73B0;&#x7684;&#x6210;&#x672C;&#x5F88;&#x4F4E;&#xFF0C;&#x6CA1;&#x6709;&#x4EC0;&#x4E48;&#x6280;&#x672F;&#x96BE;&#x70B9;&#xFF0C;<br>&#x5047;&#x8BBE;&#x6BCF;&#x6761;&#x8BA2;&#x5355;&#x7684;&#x6570;&#x636E;&#x5927;&#x5C0F;&#x662F; 1K&#xFF0C;5&#x4E07;&#x6761;&#x8BA2;&#x5355;&#x7684;&#x6570;&#x636E;&#x5927;&#x6982;&#x5728; 50M&#x5DE6;&#x53F3;&#xFF0C;&#x7528;&#x5B9A;&#x65F6;&#x5668;&#x628A;&#x6570;&#x636E;&#x52A0;&#x8F7D;&#x5230;&#x5185;&#x5B58;&#x4E2D;&#x5904;&#x7406;&#x4E5F;&#x662F;ok&#x7684;&#xFF0C;&#x6240;&#x4EE5;&#x8BE5;&#x65B9;&#x6848;&#x9002;&#x5408;&#x6BCF;&#x5929;&#x7684;&#x8BA2;&#x5355;&#x91CF;&#x5728;&#x4E07;&#x7EA7;&#x522B;&#xFF0C;&#x6216;&#x8005;&#x518D;&#x4FDD;&#x5B88;&#x4E00;&#x4E9B;&#xFF0C;&#x6BCF;&#x65E5;&#x8BA2;&#x5355;&#x603B;&#x91CF;&#x5728; 1&#x4E07;&#x4EE5;&#x4E0B;&#x3002;</p>
<p>&#x5BF9;&#x4E8E; MQ&#x5EF6;&#x65F6;&#x6D88;&#x606F;&#x65B9;&#x6848;&#xFF0C;&#x9996;&#x5148;&#x9700;&#x8981;&#x8003;&#x8651;&#x81EA;&#x5EFA; MQ &#x8FD8;&#x662F;&#x8D2D;&#x4E70; MQ&#x4E91;&#x4EA7;&#x54C1;&#xFF0C;&#x4EE5;&#x53CA;&#x4E24;&#x79CD;&#x65B9;&#x6848;&#x5E26;&#x6765;&#x7684;&#x6280;&#x672F;&#x96BE;&#x70B9;&#x6216;&#x8005;&#x8D2D;&#x4E70;&#x6210;&#x672C;&#xFF0C;&#x57FA;&#x4E8E;&#x5148;&#x6709; MQ&#x8FD9;&#x4E2A;&#x6761;&#x4EF6;&#x518D;&#x770B;&#x5B83;&#x9002;&#x5408;&#x7684;&#x4E1A;&#x52A1;&#x573A;&#x666F;&#xFF0C;&#x5728;&#x6839;&#x636E;&#x6BCF;&#x65E5;&#x7684;&#x8BA2;&#x5355;&#x91CF;&#x662F;&#x767E;&#x4E07;&#x7EA7;&#x522B;&#xFF0C;&#x5341;&#x4E07;&#x7EA7;&#x522B;&#x8FD8;&#x662F;&#x4E07;&#x7EA7;&#x522B;&#x6765;&#x9009;&#x62E9; MQ&#x7684;&#x914D;&#x7F6E;&#x3002;</p>
<p>&#x5206;&#x5E03;&#x5F0F;&#x8D85;&#x65F6;&#x4E2D;&#x5FC3;&#x65B9;&#x6848;&#x6280;&#x672F;&#x96BE;&#x5EA6;&#x548C;&#x7EF4;&#x62A4;&#x6210;&#x672C;&#x90FD;&#x6BD4;&#x8F83;&#x9AD8;&#xFF0C;&#x4E00;&#x822C;&#x9002;&#x5408;&#x4E00;&#x4E9B;&#x72EC;&#x89D2;&#x517D;&#x4F01;&#x4E1A;&#xFF0C;&#x5927;&#x5382;&#x6216;&#x8005;&#x8D22;&#x529B;&#x548C;&#x6280;&#x672F;&#x80FD;&#x529B;&#x90FD;&#x4E0D;&#x9519;&#x7684;&#x516C;&#x53F8;&#x3002;</p>
<h1 id="&#x603B;&#x7ED3;"><a href="#&#x603B;&#x7ED3;" class="headerlink" title="&#x603B;&#x7ED3;"></a>&#x603B;&#x7ED3;</h1><p>&#x672C;&#x6587;&#x5206;&#x6790;&#x4E86;&#x5177;&#x6709;&#x6982;&#x62EC;&#x6027;&#x7684; 4&#x79CD;&#x8BA2;&#x5355;&#x8D85;&#x65F6;&#x5173;&#x95ED;&#x65B9;&#x6848;&#xFF0C;&#x4E5F;&#x662F;&#x4E1A;&#x5185;&#x4F7F;&#x7528;&#x6BD4;&#x8F83;&#x591A;&#x7684;&#x65B9;&#x6848;&#xFF0C;&#x53EF;&#x80FD;&#x6BCF;&#x4E2A;&#x516C;&#x53F8;&#x5B9E;&#x73B0;&#x7684;&#x7EC6;&#x8282;&#x6216;&#x8005;&#x53EB;&#x6CD5;&#x7565;&#x6709;&#x5DEE;&#x5F02;&#xFF0C;&#x4F46;&#x662F;&#x601D;&#x60F3;&#x662F;&#x76F8;&#x901A;&#x7684;&#x3002;</p>
<p>&#x5F53;&#x7136;&#x8FD8;&#x6709;&#x5176;&#x4ED6;&#x65B9;&#x6848;&#x5B9E;&#x73B0;&#xFF0C;&#x6BD4;&#x5982; Redis&#xFF0C;&#x4F46;&#x662F;&#x4E0D;&#x63A8;&#x8350;</p>
<p>&#x901A;&#x8FC7;&#x672C;&#x6587;&#xFF0C;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x6839;&#x636E;&#x4E0D;&#x540C;&#x7684;&#x4E1A;&#x52A1;&#x4F53;&#x91CF;&#x7ED9;&#x51FA;&#x4E0D;&#x540C;&#x7684;&#x65B9;&#x6848;&#x6216;&#x8005;&#x8BBE;&#x8BA1;&#x601D;&#x8DEF;&#xFF0C;&#x4EE5;&#x53CA;&#x5404;&#x4E2A;&#x65B9;&#x6848;&#x7684;&#x4F18;&#x7F3A;&#x70B9;&#xFF0C;&#x5177;&#x4F53;&#x7EC6;&#x8282;&#x53EF;&#x4EE5;&#x7ED3;&#x5408;&#x5177;&#x4F53;&#x4E1A;&#x52A1;&#x7EC6;&#x8282;&#x3002;</p>
<p>&#x6CA1;&#x6709;&#x6700;&#x597D;&#x7684;&#x67B6;&#x6784;&#xFF0C;&#x53EA;&#x6709;&#x591F;&#x7528;&#xFF08;&#x9002;&#x5408;&#xFF09;&#x7684;&#x67B6;&#x6784;&#xFF0C;&#x5F88;&#x591A;&#x65F6;&#x5019;&#x5728;&#x9009;&#x62E9;&#x65B9;&#x6848;&#x7684;&#x65F6;&#x5019;&#x4E00;&#x5B9A;&#x8981;&#x7ED3;&#x5408;&#x5B9E;&#x9645;&#x4E1A;&#x52A1;&#xFF0C;&#x5207;&#x52FF;&#x8FC7;&#x5EA6;&#x8BBE;&#x8BA1;&#xFF0C;&#x4F46;&#x662F;&#x4E5F;&#x4E0D;&#x80FD;&#x7F3A;&#x4E4F;&#x8BBE;&#x8BA1;&#x7684;&#x80FD;&#x529B;</p>
<h2 id="&#x539F;&#x521B;&#x597D;&#x6587;"><a href="#&#x539F;&#x521B;&#x597D;&#x6587;" class="headerlink" title="&#x539F;&#x521B;&#x597D;&#x6587;"></a>&#x539F;&#x521B;&#x597D;&#x6587;</h2><ul>
<li><a href="/external_links/12e94b0eb6e065b6200852afcc62d01b.html" target="blank" rel="noopener">&#x5B57;&#x8282; 2&#x9762;&#xFF1A;MySQL&#x679A;&#x4E3E;&#x7C7B;&#x578B;&#x8BE5;&#x5982;&#x4F55;&#x5B9A;&#x4E49;&#xFF1F; enum&#xFF1F;tinyint&#xFF1F;char&#xFF1F;varchar&#xFF1F;</a></li>
<li><a href="/external_links/12e94b0eb6e065b6200852afcc62d01b.html" target="blank" rel="noopener">&#x817E;&#x8BAF;&#x5973;&#x540E;&#x7AEF;&#x8BBE;&#x8BA1;&#x4E86;&#x4E00;&#x5957;&#x77ED;&#x94FE;&#x7CFB;&#x7EDF;&#xFF0C;&#x5F53;&#x573A;&#x5C31;&#x60F3;&#x7ED9;&#x5979;offer&#xFF01;</a></li>
<li><a href="/external_links/12e94b0eb6e065b6200852afcc62d01b.html" target="blank" rel="noopener">&#x809D;&#x4E86;&#x4E00;&#x5468;&#xFF0C;&#x5F7B;&#x5E95;&#x5F04;&#x61C2;&#x4E86; CMS&#x6536;&#x96C6;&#x5668;&#x539F;&#x7406;&#xFF0C;&#x8FD9;&#x4E2A;&#x8F6E;&#x5B50;&#x9020;&#x7684;&#x771F;&#x503C;&#xFF01;</a></li>
<li><a href="/external_links/12e94b0eb6e065b6200852afcc62d01b.html" target="blank" rel="noopener">9&#x6B3E;&#x5E38;&#x89C1;&#x7684; JVM&#x5783;&#x573E;&#x56DE;&#x6536;&#x5668;</a></li>
<li><a href="/external_links/12e94b0eb6e065b6200852afcc62d01b.html" target="blank" rel="noopener">&#x7F8E;&#x56E2;&#x4E00;&#x9762;&#xFF1A;Git &#x662F;&#x5982;&#x4F55;&#x5DE5;&#x4F5C;&#x7684;&#xFF1F;(&#x63A8;&#x8350;&#x9605;&#x8BFB;&#xFF09;</a></li>
<li><a href="/external_links/475d7a8029ffd100531bc36509c3041f.html" target="blank" rel="noopener">&#x963F;&#x91CC; P7&#x4E8C;&#x9762;&#xFF1A;Redis &#x6267;&#x884C; Lua&#xFF0C;&#x80FD;&#x4FDD;&#x8BC1;&#x539F;&#x5B50;&#x6027;&#x5417;&#xFF1F;</a></li>
<li><a href="/external_links/475d7a8029ffd100531bc36509c3041f.html" target="blank" rel="noopener">&#x5F53;&#x4E0B;&#x73AF;&#x5883;&#xFF0C;&#x7A0B;&#x5E8F;&#x5458;&#x9700;&#x8981;&#x4FEE;&#x70BC;&#x7684; 3&#x9879;&#x6280;&#x80FD;</a></li>
<li><a href="/external_links/475d7a8029ffd100531bc36509c3041f.html" target="blank" rel="noopener">AI&#x662F;&#x6253;&#x5DE5;&#x4EBA;&#x7684;&#x4E0B;&#x4E00;&#x4E2A;&#x5C31;&#x4E1A;&#x98CE;&#x53E3;&#x5417;?</a></li>
<li><a href="/external_links/475d7a8029ffd100531bc36509c3041f.html" target="blank" rel="noopener">&#x548C;&#x65AF;&#x5766;&#x798F;&#x535A;&#x58EB;&#x5199;&#x4EE3;&#x7801;&#x7684;&#x4E00;&#x4E2A;&#x6708;</a></li>
<li><a href="/external_links/475d7a8029ffd100531bc36509c3041f.html" target="blank" rel="noopener">&#x809D;&#x4E86;&#x4E00;&#x5468;&#xFF0C;&#x8FD9;&#x4E0B;&#x5F7B;&#x5E95;&#x628A; MySQL&#x7684;&#x9501;&#x641E;&#x61C2;&#x4E86;</a></li>
</ul>
<p><strong>&#x672C;&#x6587;&#x8F6C;&#x8F7D;&#x81EA;:</strong> <a href="/external_links/ff9003c9bb0b208b5258ad620944e2cf.html" target="blank" rel="noopener">&#x6398;&#x91D1;</a></p>
<p><em><a href="https://dev.newban.cn/">&#x5F00;&#x53D1;&#x8005;&#x535A;&#x5BA2; &#x2013; &#x548C;&#x5F00;&#x53D1;&#x76F8;&#x5173;&#x7684; &#x8FD9;&#x91CC;&#x5168;&#x90FD;&#x6709;</a></em></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://dev.newban.cn../../7361852837267554331.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="开发者博客">
      <meta itemprop="description" content>
      <meta itemprop="image" content="../../images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="开发者博客 – IT技术 尽在开发者博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="../../7361852837267554331.html" itemprop="url">《斋藤康毅-深度学习入门》读书笔记04-神经网络的学习 深度</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2024-04-26T14:59:05+08:00">
                2024-04-26
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <blockquote>
<p>I&#x2019;m a very very quick learner. &#x2013; Lou Bloom, <em>Nightcrawler</em></p>
</blockquote>
<p>&#x672C;&#x7AE0;&#x4E3B;&#x9898;&#x662F;&#x795E;&#x7ECF;&#x7F51;&#x7EDC;&#x5982;&#x4F55;&#x81EA;&#x4E3B;&#x5730;&#x4ECE;&#x6570;&#x636E;&#x4E2D;&#x5B66;&#x4E60;&#xFF0C;&#x4ECE;&#x800C;&#x5F97;&#x5230;&#x6700;&#x4F18;<code>&#x6743;&#x91CD;</code>&#x548C;<code>&#x504F;&#x7F6E;</code>&#x53C2;&#x6570;&#x503C;&#x3002;&#x7531;&#x6B64;&#x5F15;&#x5165;&#x4E86;<code>&#x635F;&#x5931;&#x51FD;&#x6570;</code>&#x7684;&#x6982;&#x5FF5;&#xFF0C;&#x7528;&#x6765;&#x91CF;&#x5316;&#x5F53;&#x524D;&#x7684;&#x6743;&#x91CD;&#x53C2;&#x6570;&#x7684;<code>&#x4E0D;&#x5408;&#x9002;&#x5EA6;</code>&#xFF0C;&#x5B66;&#x4E60;&#x7684;&#x76EE;&#x6807;&#x5C31;&#x662F;&#x627E;&#x5230;&#x8BA9;&#x635F;&#x5931;&#x51FD;&#x6570;&#x6700;&#x5C0F;&#x7684;&#x90A3;&#x4E00;&#x7EC4;&#x53C2;&#x6570;&#x503C;&#xFF0C;&#x4F7F;&#x7528;&#x7684;&#x65B9;&#x6CD5;&#x662F;<code>&#x68AF;&#x5EA6;&#x6CD5;</code>&#x3002;</p>
<h1 id="&#x6DF1;&#x5EA6;&#x5B66;&#x4E60;&#x7684;&#x610F;&#x4E49;"><a href="#&#x6DF1;&#x5EA6;&#x5B66;&#x4E60;&#x7684;&#x610F;&#x4E49;" class="headerlink" title="&#x6DF1;&#x5EA6;&#x5B66;&#x4E60;&#x7684;&#x610F;&#x4E49;"></a>&#x6DF1;&#x5EA6;&#x5B66;&#x4E60;&#x7684;&#x610F;&#x4E49;</h1><p>&#x7531;&#x4E8E;&#x5B9E;&#x9645;&#x7684;&#x795E;&#x7ECF;&#x7F51;&#x7EDC;&#x5177;&#x6709;&#x6D77;&#x91CF;&#x7684;&#x5C42;&#x6570;&#x548C;&#x53C2;&#x6570;&#xFF0C;&#x53C2;&#x6570;&#x53EF;&#x8FBE;&#x6210;&#x5343;&#x4E0A;&#x4E07;&#x4E43;&#x81F3;&#x4E0A;&#x4EBF;&#x4E2A;&#xFF0C;&#x51ED;&#x4EBA;&#x529B;&#x6839;&#x672C;&#x65E0;&#x6CD5;&#x8FDB;&#x884C;&#x8BA1;&#x7B97;&#xFF0C;&#x56E0;&#x6B64;&#x9700;&#x8981;&#x6DF1;&#x5EA6;&#x5B66;&#x4E60;&#x6765;&#x786E;&#x5B9A;&#x53C2;&#x6570;&#x3002;</p>
<p>&#x5BF9;&#x4E8E;&#x673A;&#x5668;&#x5B66;&#x4E60;&#x6765;&#x8BF4;&#xFF0C;&#x5728;&#x8BC6;&#x522B;&#x624B;&#x5199;&#x6570;&#x5B57;&#x7684;&#x573A;&#x666F;&#x91CC;&#xFF0C;&#x901A;&#x5E38;&#x9700;&#x8981;&#x5148;&#x4ECE;&#x56FE;&#x50CF;&#x4E2D;&#x63D0;&#x53D6;<code>&#x7279;&#x5F81;&#x91CF;</code>&#xFF08;&#x8868;&#x73B0;&#x4E3A;&#x5411;&#x91CF;&#x7684;&#x5F62;&#x5F0F;&#xFF09;&#xFF0C;&#x7136;&#x540E;&#x901A;&#x8FC7;&#x673A;&#x5668;&#x5B66;&#x4E60;&#x6280;&#x672F;&#x6765;&#x5B66;&#x4E60;&#x8FD9;&#x4E9B;&#x7279;&#x5F81;&#x91CF;&#x7684;&#x6A21;&#x5F0F;&#x3002;&#x7279;&#x5F81;&#x91CF;&#x7528;&#x6765;&#x628A;&#x56FE;&#x7247;&#x8F6C;&#x6362;&#x4E3A;&#x5411;&#x91CF;&#x3002;</p>
<p>&#x800C;&#x5BF9;&#x4E8E;&#x6DF1;&#x5EA6;&#x5B66;&#x4E60;&#x800C;&#x8A00;&#xFF0C;<code>&#x63D0;&#x53D6;&#x7279;&#x5F81;&#x91CF;</code>&#x8FD9;&#x4E00;&#x64CD;&#x4F5C;&#x4E5F;&#x662F;&#x7531;&#x673A;&#x5668;&#x5B66;&#x4E60;&#x5B8C;&#x6210;&#x7684;&#x3002;</p>
<p><img src="https://gitee.com/songjianzaina/juejin_p3/raw/master/img/34aea4db65ab52151fc1e20216619e69f4387fcbcf2c5137d496f90785593410" alt="image.png"><br>&#x56FE;&#xFF1A;&#x4EBA;&#x5DE5;&#x5B66;&#x4E60;-&gt;&#x673A;&#x5668;&#x5B66;&#x4E60;-&gt;&#x6DF1;&#x5EA6;&#x5B66;&#x4E60;</p>
<h1 id="&#x8FC7;&#x62DF;&#x5408;-over-fitting"><a href="#&#x8FC7;&#x62DF;&#x5408;-over-fitting" class="headerlink" title="&#x8FC7;&#x62DF;&#x5408; over fitting"></a>&#x8FC7;&#x62DF;&#x5408; over fitting</h1><p>&#x6307;&#x53C2;&#x6570;&#x5BF9;&#x67D0;&#x4E00;&#x4E2A;&#x6570;&#x636E;&#x96C6;&#x8FC7;&#x5EA6;&#x62DF;&#x5408;&#x7684;&#x60C5;&#x51B5;&#xFF0C;&#x5373;&#x5BF9;&#x8BE5;&#x6570;&#x636E;&#x96C6;&#x7CBE;&#x786E;&#x5EA6;&#x5F88;&#x9AD8;&#xFF0C;&#x4F46;&#x5BF9;&#x5176;&#x5B83;&#x6570;&#x636E;&#x96C6;&#x5219;&#x4E0D;&#x7136;&#x3002;</p>
<p>&#x8FC7;&#x62DF;&#x5408;&#x662F;&#x6DF1;&#x5EA6;&#x5B66;&#x4E60;&#x4E2D;&#x7ECF;&#x5E38;&#x8981;&#x9762;&#x5BF9;&#x7684;&#x4E00;&#x4E2A;&#x95EE;&#x9898;&#x3002;</p>
<h1 id="&#x635F;&#x5931;&#x51FD;&#x6570;-loss-function"><a href="#&#x635F;&#x5931;&#x51FD;&#x6570;-loss-function" class="headerlink" title="&#x635F;&#x5931;&#x51FD;&#x6570; loss function"></a>&#x635F;&#x5931;&#x51FD;&#x6570; loss function</h1><p>&#x795E;&#x7ECF;&#x7F51;&#x7EDC;&#x4EE5;&#x635F;&#x5931;&#x51FD;&#x6570;&#x4F5C;&#x4E3A;&#x91CF;&#x5316;&#x6307;&#x6807;&#xFF0C;&#x6765;&#x5BFB;&#x627E;&#x6700;&#x4F18;&#x6743;&#x91CD;&#x53C2;&#x6570;&#xFF0C;&#x4E00;&#x822C;&#x91C7;&#x7528;<code>&#x5747;&#x65B9;&#x8BEF;&#x5DEE;</code>&#x548C;<code>&#x4EA4;&#x53C9;&#x71B5;&#x8BEF;&#x5DEE;</code>&#x3002;</p>
<h2 id="&#x5747;&#x65B9;&#x8BEF;&#x5DEE;-mean-squared-error"><a href="#&#x5747;&#x65B9;&#x8BEF;&#x5DEE;-mean-squared-error" class="headerlink" title="&#x5747;&#x65B9;&#x8BEF;&#x5DEE; mean squared error"></a>&#x5747;&#x65B9;&#x8BEF;&#x5DEE; mean squared error</h2><p><img src="https://gitee.com/songjianzaina/juejin_p3/raw/master/img/f0dce255fb86bf2129148b7b47a12cd5df01dd392c6324ede589ba15e32b7d89" alt="image.png"><br>&#x56FE;&#xFF1A;&#x5747;&#x65B9;&#x8BEF;&#x5DEE;&#x7B97;&#x5F0F;</p>
<p>&#x5404;&#x53C2;&#x6570;&#x8BF4;&#x660E;&#x5982;&#x4E0B;&#xFF1A;</p>
<ul>
<li><strong>yk</strong>&#xFF1A;&#x795E;&#x7ECF;&#x7F51;&#x7EDC;&#x8F93;&#x51FA;</li>
<li><strong>tk</strong>&#xFF1A;&#x76D1;&#x7763;&#x6570;&#x636E;</li>
<li><strong>k</strong>&#xFF1A;&#x6570;&#x636E;&#x7EF4;&#x5EA6;</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">py&#x590D;&#x5236;&#x4EE3;&#x7801;# &#x5747;&#x65B9;&#x8BEF;&#x5DEE;</span><br><span class="line">def mean_squared_error(y, t):</span><br><span class="line">    return 0.5 * np.sum((y-t)**2)</span><br></pre></td></tr></table></figure>

<h3 id="one-hot&#x8868;&#x793A;"><a href="#one-hot&#x8868;&#x793A;" class="headerlink" title="one-hot&#x8868;&#x793A;"></a>one-hot&#x8868;&#x793A;</h3><p>&#x5C06;&#x6B63;&#x786E;&#x89E3;&#x6807;&#x7B7E;&#x8868;&#x793A;&#x4E3A;<code>1</code>&#xFF0C;&#x5176;&#x4ED6;&#x6807;&#x7B7E;&#x8868;&#x793A;&#x4E3A;<code>0</code>&#x3002;&#x5982;&#x5728;&#x6570;&#x5B57;&#x8BC6;&#x522B;&#x7684;&#x4F8B;&#x5B50;&#x91CC;&#xFF0C;&#x4E00;&#x6761;&#x76D1;&#x7763;&#x6570;&#x636E;&#x662F;<code>[0,0,1,0,0,0,0,0,0,0]</code>&#xFF0C;&#x8868;&#x793A;&#x5F53;&#x524D;&#x6570;&#x5B57;&#x4E3A;<code>2</code>&#x3002;&#x5982;&#x679C;&#x4F7F;&#x7528;&#x975E;<code>one-hot</code>&#x8868;&#x793A;&#xFF0C;&#x5219;t&#x76F4;&#x63A5;&#x5C31;&#x662F;<code>2</code>&#x3002;</p>
<h2 id="&#x4EA4;&#x53C9;&#x71B5;&#x8BEF;&#x5DEE;-cross-entropy-error"><a href="#&#x4EA4;&#x53C9;&#x71B5;&#x8BEF;&#x5DEE;-cross-entropy-error" class="headerlink" title="&#x4EA4;&#x53C9;&#x71B5;&#x8BEF;&#x5DEE; cross entropy error"></a>&#x4EA4;&#x53C9;&#x71B5;&#x8BEF;&#x5DEE; cross entropy error</h2><p><img src="https://gitee.com/songjianzaina/juejin_p3/raw/master/img/4774876b2c6d8df76f0507ec33ee15c4c419db35f5c57d82b26e2c8bd9f97c49" alt="image.png"><br>&#x56FE;&#xFF1A;&#x4EA4;&#x53C9;&#x71B5;&#x8BEF;&#x5DEE;&#x7684;&#x7B97;&#x5F0F;</p>
<p>&#x89E3;&#x6807;&#x7B7E;<code>tk</code>&#x91C7;&#x7528;<code>one-hot</code>&#x8868;&#x793A;&#xFF0C;&#x53EA;&#x6709;&#x6B63;&#x786E;&#x89E3;&#x4E3A;<code>1</code>&#xFF0C;&#x5176;&#x5B83;&#x503C;&#x4E3A;<code>0</code>&#x3002;&#x56E0;&#x6B64;&#x4E0A;&#x5F0F;&#x53EF;&#x4EE5;&#x7B80;&#x5316;&#x4E3A;<code>E=-logyk</code>&#x3002;&#x81EA;&#x7136;&#x5BF9;&#x6570;log&#x662F;&#x5728;<code>(0,1]</code>&#x533A;&#x95F4;&#x5355;&#x8C03;&#x9012;&#x589E;&#x7684;&#xFF0C;&#x9012;&#x589E;&#x8303;&#x56F4;&#x662F;<code>&#x8D1F;&#x65E0;&#x7A77;&#x5927;~0</code>&#xFF0C;&#x56E0;&#x6B64;<code>yk</code>&#x8D8A;&#x63A5;&#x8FD1;<code>1</code>&#xFF0C;<code>E</code>&#x7684;&#x503C;&#x8D8A;&#x5C0F;&#xFF0C;&#x4E5F;&#x5C31;&#x8868;&#x660E;&#x8D8A;&#x63A5;&#x8FD1;&#x6B63;&#x786E;&#xFF08;&#x6700;&#x4F73;&#xFF09;&#x7ED3;&#x679C;&#x3002;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">py&#x590D;&#x5236;&#x4EE3;&#x7801;# &#x4EA4;&#x53C9;&#x71B5;&#x8BEF;&#x5DEE;</span><br><span class="line">def cross_entropy_error(y, t):</span><br><span class="line">    delta = 1e-7</span><br><span class="line">    return -np.sum(t * np.log(y + delta))</span><br></pre></td></tr></table></figure>

<p>&#x4F5C;&#x4E3A;&#x4FDD;&#x62A4;&#x6027;&#x5BF9;&#x7B56;&#xFF0C;&#x589E;&#x52A0;&#x4E00;&#x4E2A;&#x6781;&#x5C0F;&#x503C;<code>delta</code>&#x9632;&#x6B62;&#x51FA;&#x73B0;<code>log(0)</code>&#x7684;&#x8FB9;&#x7F18;&#x573A;&#x666F;&#x3002;</p>
<h1 id="mini-batch-&#x5B66;&#x4E60;"><a href="#mini-batch-&#x5B66;&#x4E60;" class="headerlink" title="mini-batch &#x5B66;&#x4E60;"></a>mini-batch &#x5B66;&#x4E60;</h1><p>&#x4E3A;&#x4E86;&#x5728;&#x4E00;&#x6B21;&#x8FD0;&#x7B97;&#x4E2D;&#x4F7F;&#x7528;&#x66F4;&#x591A;&#x6570;&#x636E;&#x9A8C;&#x8BC1;&#x53C2;&#x6570;&#x7684;&#x635F;&#x5931;&#x503C;&#xFF0C;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;<code>mini-batch</code>&#x7684;&#x601D;&#x8DEF;&#xFF0C;&#x5373;&#x6BCF;&#x6B21;&#x5BF9;&#x6279;&#x91CF;&#x6570;&#x636E;&#x8BA1;&#x7B97;&#x635F;&#x5931;&#x51FD;&#x6570;&#xFF0C;&#x5148;&#x6C42;&#x548C;&#x518D;&#x5E73;&#x5747;&#xFF0C;&#x5DF2;&#x8FDB;&#x884C;&#x6B63;&#x89C4;&#x5316;&#x3002;</p>
<p><img src="https://gitee.com/songjianzaina/juejin_p3/raw/master/img/0b525eb495e7c0060c978cfd2eace22354c7e99adcfbcc0dfc7dcb3e059a110a" alt="image.png"><br>&#x56FE;&#xFF1A;&#x6279;&#x91CF;&#x8BA1;&#x7B97;&#x4EA4;&#x53C9;&#x71B5;&#x8BEF;&#x5DEE;</p>
<p>&#x53EB;<code>mini-batch</code>&#x662F;&#x56E0;&#x4E3A;&#x76F8;&#x5BF9;&#x4E8E;&#x5B8C;&#x6574;&#x7684;&#x6570;&#x636E;&#x96C6;&#xFF0C;&#x53EA;&#x9009;&#x53D6;&#x5176;&#x4E2D;&#x7684;&#x4E00;&#x5C0F;&#x90E8;&#x5206;(<code>mini</code>)&#x8FDB;&#x884C;&#x8BA1;&#x7B97;&#x3002;&#x9632;&#x6B62;&#x8BA1;&#x7B97;&#x91CF;&#x8FC7;&#x5927;&#x3002;&#x53EF;&#x4EE5;&#x7406;&#x89E3;&#x4E3A;&#x62BD;&#x6837;&#x8C03;&#x67E5;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">py&#x590D;&#x5236;&#x4EE3;&#x7801;# &#x901A;&#x8FC7;numpy&#x8FDB;&#x884C;&#x62BD;&#x6837;</span><br><span class="line">train_size = x_train_.shape[0] # 60000&#x6761;</span><br><span class="line">batch_size = 10</span><br><span class="line">batch_mask = np.random.choice(train_size, batch_size) # &#x968F;&#x673A;&#x62BD;&#x53D6;10&#x4E2A;&#x4E0B;&#x6807;</span><br><span class="line">x_batch = x_train[batch_mask]</span><br><span class="line">t_batch = t_train[batch_mask]</span><br></pre></td></tr></table></figure>

<blockquote>
<p>&#x8FD9;&#x6BB5;&#x903B;&#x8F91;&#x7528;&#x5982;&#x679C;&#x7528;Java&#x4E5F;&#x80FD;&#x5B9E;&#x73B0;&#xFF0C;&#x4F46;&#x80AF;&#x5B9A;&#x6BD4;&#x4E0D;&#x4E0A;python&#x7B80;&#x6D01;</p>
</blockquote>
<h2 id="numpy&#x4E2D;&#x5173;&#x4E8E;array&#x7684;&#x7EF4;&#x5EA6;&#x64CD;&#x4F5C;"><a href="#numpy&#x4E2D;&#x5173;&#x4E8E;array&#x7684;&#x7EF4;&#x5EA6;&#x64CD;&#x4F5C;" class="headerlink" title="numpy&#x4E2D;&#x5173;&#x4E8E;array&#x7684;&#x7EF4;&#x5EA6;&#x64CD;&#x4F5C;"></a>numpy&#x4E2D;&#x5173;&#x4E8E;array&#x7684;&#x7EF4;&#x5EA6;&#x64CD;&#x4F5C;</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">py&#x590D;&#x5236;&#x4EE3;&#x7801;# nparray_test.py &#x6D4B;&#x8BD5;</span><br><span class="line">import numpy as np</span><br><span class="line"></span><br><span class="line">a = np.array([[11,22,33], [44,55,66]])</span><br><span class="line">print(a.ndim) # 2</span><br><span class="line">print(a.size) # 6&#xFF0C;&#x5373;&#x6570;&#x7EC4;&#x5185;&#x5143;&#x7D20;&#x4E2A;&#x6570;</span><br><span class="line">b = a.reshape(1, a.size)</span><br><span class="line">print(b) # [[11 22 33 44 55 66]]</span><br><span class="line">print(b.ndim) # 2&#xFF0C;&#x4ECD;&#x7136;&#x662F;&#x4E8C;&#x7EF4;</span><br><span class="line">print(b.size) # 6&#xFF0C;&#x5143;&#x7D20;&#x6570;&#x4E0D;&#x53D8;</span><br><span class="line">print(b.shape) # (1,6)</span><br></pre></td></tr></table></figure>

<h1 id="&#x6570;&#x503C;&#x5FAE;&#x5206;"><a href="#&#x6570;&#x503C;&#x5FAE;&#x5206;" class="headerlink" title="&#x6570;&#x503C;&#x5FAE;&#x5206;"></a>&#x6570;&#x503C;&#x5FAE;&#x5206;</h1><p>&#x5BFC;&#x6570;&#x7528;&#x6765;&#x8868;&#x793A;&#x67D0;&#x4E2A;&#x77AC;&#x95F4;&#x7684;&#x53D8;&#x5316;&#x91CF;&#xFF0C;&#x5373;&#x77AC;&#x65F6;&#x901F;&#x5EA6;&#x3002;</p>
<p><img src="https://gitee.com/songjianzaina/juejin_p3/raw/master/img/164c1474ab0f1d4290ab631ecfe04f4d334db3d0542c7664b6ef3d417531d0fc" alt="image.png"><br>&#x56FE;&#xFF1A;&#x5BFC;&#x6570;</p>
<ul>
<li><strong>&#x524D;&#x5411;&#x5DEE;&#x5206;</strong>&#xFF1A;<code>f(x+h)</code>&#x4E0E;<code>f(x)</code>&#x4E4B;&#x95F4;&#x7684;&#x5DEE;&#x5206;&#xFF0C;&#x56E0;&#x4E3A;&#x504F;&#x79BB;&#x6240;&#x4EE5;&#x6709;&#x8BEF;&#x5DEE;</li>
<li><strong>&#x4E2D;&#x5FC3;&#x5DEE;&#x5206;</strong>&#xFF1A;<code>f(x+h)</code>&#x4E0E;<code>f(x-h)</code>&#x4E4B;&#x95F4;&#x7684;&#x5DEE;&#x5206;&#xFF0C;&#x66F4;&#x63A5;&#x8FD1;&#x771F;&#x5B9E;&#x503C;</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">py&#x590D;&#x5236;&#x4EE3;&#x7801;# &#x4E2D;&#x5FC3;&#x5DEE;&#x5206;</span><br><span class="line">def numerical_diff(f, x)</span><br><span class="line">    h = 1e-4 # 0.0001</span><br><span class="line">    return (f(x+h)-f(x-h))/(2*h)</span><br></pre></td></tr></table></figure>

<h2 id="&#x6570;&#x503C;&#x5FAE;&#x5206;&#x4F8B;&#x5B50;"><a href="#&#x6570;&#x503C;&#x5FAE;&#x5206;&#x4F8B;&#x5B50;" class="headerlink" title="&#x6570;&#x503C;&#x5FAE;&#x5206;&#x4F8B;&#x5B50;"></a>&#x6570;&#x503C;&#x5FAE;&#x5206;&#x4F8B;&#x5B50;</h2><p>&#x5BF9;&#x4E8E;&#x4E0B;&#x8FF0;&#x4E8C;&#x6B21;&#x51FD;&#x6570;&#xFF0C;&#x901A;&#x8FC7;python&#x4EE3;&#x7801;&#x8BA1;&#x7B97;&#x5176;&#x5FAE;&#x5206;&#xFF0C;&#x4EE5;&#x53CA;&#x5728;&#x51FD;&#x6570;&#x4E0A;<code>x=5</code>&#x5904;&#x7684;&#x659C;&#x7387;&#xFF0C;&#x5E76;&#x7ED8;&#x56FE;&#x3002;</p>
<p><img src="https://gitee.com/songjianzaina/juejin_p3/raw/master/img/a50225323e344cb9952f1727e08aa67c8f47ac779cf4fbc4b7603c2ebc2a0ca4" alt="image.png"></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">py&#x590D;&#x5236;&#x4EE3;&#x7801;import numpy as np</span><br><span class="line">import matplotlib.pylab as plt</span><br><span class="line"></span><br><span class="line">def numerical_diff(f, x):</span><br><span class="line">    h = 1e-4 # 0.0001</span><br><span class="line">    return (f(x+h) - f(x-h)) / (2*h)</span><br><span class="line"></span><br><span class="line">def function_1(x):</span><br><span class="line">    return 0.01*x**2 + 0.1*x </span><br><span class="line"></span><br><span class="line">def tangent_line(f, x):</span><br><span class="line">    d = numerical_diff(f, x)</span><br><span class="line">    print(d)</span><br><span class="line">    y = f(x) - d*x</span><br><span class="line">    return lambda t: d*t + y</span><br><span class="line">     </span><br><span class="line">x = np.arange(0.0, 20.0, 0.1)</span><br><span class="line">y = function_1(x)</span><br><span class="line">plt.xlabel(&quot;x&quot;)</span><br><span class="line">plt.ylabel(&quot;f(x)&quot;)</span><br><span class="line"></span><br><span class="line">tf = tangent_line(function_1, 5)</span><br><span class="line">y2 = tf(x)</span><br><span class="line"></span><br><span class="line">plt.plot(x, y)</span><br><span class="line">plt.plot(x, y2)</span><br></pre></td></tr></table></figure>

<p><img src="https://gitee.com/songjianzaina/juejin_p3/raw/master/img/c7bb881d2a5c1025610decd7ef9284711f0f98c7a75a6937f73f052c9d1a4a31" alt="image.png"></p>
<h2 id="&#x504F;&#x5BFC;&#x6570;"><a href="#&#x504F;&#x5BFC;&#x6570;" class="headerlink" title="&#x504F;&#x5BFC;&#x6570;"></a>&#x504F;&#x5BFC;&#x6570;</h2><p>&#x542B;&#x6709;&#x591A;&#x4E2A;&#x53D8;&#x91CF;&#x7684;&#x51FD;&#x6570;&#x7684;&#x5BFC;&#x6570;&#x79F0;&#x4E3A;&#x504F;&#x5BFC;&#x6570;&#xFF0C;&#x5728;&#x4F7F;&#x7528;&#x65F6;&#x5E94;&#x5F53;&#x58F0;&#x660E;&#x662F;&#x5BF9;&#x5176;&#x4E2D;&#x54EA;&#x4E00;&#x4E2A;&#x53D8;&#x91CF;&#x6C42;&#x5BFC;&#x3002;</p>
<p><img src="https://gitee.com/songjianzaina/juejin_p3/raw/master/img/7d9728e9de19eaca3fc0a68b23d29345570b6f8c31c96def22b26d6f0b6176ee" alt="image.png"></p>
<p>&#x4E0A;&#x5F0F;&#x7684;python&#x5B9E;&#x73B0;&#x4E3A;&#xFF1A;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">py&#x590D;&#x5236;&#x4EE3;&#x7801;def function_2(x):</span><br><span class="line">    return x[0]**2 + x[1]**2</span><br><span class="line">    # &#x6216; return np.sum(x**2)</span><br></pre></td></tr></table></figure>

<p>&#x5BF9;&#x5E94;&#x56FE;&#x50CF;&#x662F;&#xFF1A;</p>
<p><img src="https://gitee.com/songjianzaina/juejin_p3/raw/master/img/1984c342c0c95376df96d98ab0b9239113cb99f6933ab0736c1a6571269e528e" alt="image.png"></p>
<p>&#x5176;&#x4E2D;&#x5BF9;<code>x0</code>&#x3001;<code>x1</code>&#x6C42;&#x5BFC;&#x5206;&#x522B;&#x5199;&#x4F5C;&#xFF1A;</p>
<p><img src="https://gitee.com/songjianzaina/juejin_p3/raw/master/img/0955d08839702be2306becd2354cab52db9ba2ac81e684b2193eaa4ad1bd3be0" alt="image.png"></p>
<p>&#x5728;&#x6C42;&#x5BFC;&#x65F6;&#xFF0C;&#x5C06;&#x5DF2;&#x77E5;&#x53C2;&#x6570;&#x503C;&#x5E26;&#x5165;&#xFF0C;&#x5BF9;&#x672A;&#x77E5;&#x53C2;&#x6570;&#x8FDB;&#x884C;&#x4E2D;&#x5FC3;&#x5DEE;&#x5206;&#x6C42;&#x5BFC;&#xFF0C;&#x4F8B;&#x5982;&#x6C42;x0=3&#x3001;x1=4&#x65F6;&#x5173;&#x4E8E;x0&#x7684;&#x504F;&#x5BFC;&#x6570;&#xFF1A;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">py&#x590D;&#x5236;&#x4EE3;&#x7801;def function_tmp1(x0):</span><br><span class="line">    return x0**2 + 4.0**2.0</span><br><span class="line"></span><br><span class="line">numerical_diff(function_tmp1, 3.0) # 6.00000</span><br></pre></td></tr></table></figure>

<h1 id="&#x68AF;&#x5EA6;"><a href="#&#x68AF;&#x5EA6;" class="headerlink" title="&#x68AF;&#x5EA6;"></a>&#x68AF;&#x5EA6;</h1><p>&#x5BFC;&#x6570;&#x4EE3;&#x8868;&#x67D0;&#x4E2A;&#x65F6;&#x95F4;&#x7684;&#x77AC;&#x65F6;&#x901F;&#x5EA6;&#xFF0C;&#x5BF9;&#x4E8E;&#x591A;&#x7EF4;&#x5411;&#x91CF;&#x6BCF;&#x4E00;&#x7EF4;&#x6C42;&#x5BFC;&#xFF0C;&#x5219;&#x5F97;&#x5230;&#x4E86;&#x5B83;&#x7684;&#x68AF;&#x5EA6;&#xFF08;gradient&#xFF09;&#x3002;&#x5F53;&#x6211;&#x4EEC;&#x58F0;&#x660E;&#x68AF;&#x5EA6;&#x65F6;&#xFF0C;&#x9700;&#x8981;&#x8BF4;&#x660E;&#x662F;&#x5728;<code>x0=?&#x3001;x1=?&#x3001;...xn=?</code>&#x6240;&#x6709;&#x53D8;&#x91CF;&#x5904;&#x7684;&#x68AF;&#x5EA6;&#x3002;</p>
<p><img src="https://gitee.com/songjianzaina/juejin_p3/raw/master/img/c3667155b1a0c20ab50f1f0f6d416e28f75fde1152116f081a34bcdc782d07a1" alt="image.png"></p>
<p>&#x5BF9;&#x4E8E;&#x51FD;&#x6570;f&#x548C;&#x591A;&#x7EF4;&#x53C2;&#x6570;x&#x8BA1;&#x7B97;&#x68AF;&#x5EA6;&#x7684;&#x65B9;&#x6CD5;&#x5982;&#x4E0B;&#xFF08;&#x542B;&#x6279;&#x5904;&#x7406;&#xFF09;&#xFF1A;</p>
<blockquote>
<p>&#x8C28;&#x8BB0;&#xFF1A;x&#x662F;&#x4E00;&#x4E2A;&#x591A;&#x7EF4;&#x5411;&#x91CF;&#xFF08;&#x5373;&#x5F20;&#x91CF;&#xFF09;</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line">py&#x590D;&#x5236;&#x4EE3;&#x7801;import numpy as np</span><br><span class="line">import matplotlib.pylab as plt</span><br><span class="line">from mpl_toolkits.mplot3d import Axes3D</span><br><span class="line"></span><br><span class="line">def _numerical_gradient_no_batch(f, x):</span><br><span class="line">    h = 1e-4 # 0.0001</span><br><span class="line">    grad = np.zeros_like(x)</span><br><span class="line">    </span><br><span class="line">    for idx in range(x.size):</span><br><span class="line">        tmp_val = x[idx]</span><br><span class="line">        x[idx] = float(tmp_val) + h</span><br><span class="line">        fxh1 = f(x) # f(x+h)</span><br><span class="line">        </span><br><span class="line">        x[idx] = tmp_val - h </span><br><span class="line">        fxh2 = f(x) # f(x-h)</span><br><span class="line">        grad[idx] = (fxh1 - fxh2) / (2*h)</span><br><span class="line">        </span><br><span class="line">        x[idx] = tmp_val # &#x8FD8;&#x539F;&#x503C;</span><br><span class="line">        </span><br><span class="line">    return grad</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">def numerical_gradient(f, X):</span><br><span class="line">    if X.ndim == 1:</span><br><span class="line">        return _numerical_gradient_no_batch(f, X)</span><br><span class="line">    else:</span><br><span class="line">        grad = np.zeros_like(X)</span><br><span class="line">        </span><br><span class="line">        for idx, x in enumerate(X):</span><br><span class="line">            grad[idx] = _numerical_gradient_no_batch(f, x)</span><br><span class="line">        </span><br><span class="line">        return grad</span><br></pre></td></tr></table></figure>

<p>&#x68AF;&#x5EA6;&#x6307;&#x5411;&#x5404;&#x70B9;&#x5904;&#x51FD;&#x6570;&#x503C;<strong>&#x51CF;&#x5C0F;&#x6700;&#x5FEB;</strong>&#x7684;&#x65B9;&#x5411;&#x3002;</p>
<p><img src="https://gitee.com/songjianzaina/juejin_p3/raw/master/img/8ec079aad6f736176aff4d6aafe53d9c29e1ab2f08c0185fa4ba71e1701b30fa" alt="image.png"></p>
<h2 id="&#x68AF;&#x5EA6;&#x6CD5;"><a href="#&#x68AF;&#x5EA6;&#x6CD5;" class="headerlink" title="&#x68AF;&#x5EA6;&#x6CD5;"></a>&#x68AF;&#x5EA6;&#x6CD5;</h2><p>&#x68AF;&#x5EA6;&#x6CD5;&#x5C31;&#x662F;&#x5229;&#x7528;&#x68AF;&#x5EA6;&#x7684;&#x6982;&#x5FF5;&#x6765;&#x5BFB;&#x627E;&#x51FD;&#x6570;&#x6700;&#x5C0F;&#x503C;&#x7684;&#x65B9;&#x6CD5;&#xFF0C;&#x901A;&#x8FC7;&#x4E0D;&#x65AD;&#x6CBF;&#x7740;&#x68AF;&#x5EA6;&#x65B9;&#x5411;&#x524D;&#x8FDB;&#xFF0C;&#x8FDB;&#x800C;&#x4E0D;&#x65AD;&#x7F29;&#x5C0F;&#x635F;&#x5931;&#x51FD;&#x6570;&#x503C;&#x3002;</p>
<ul>
<li><strong>&#x6781;&#x5C0F;&#x503C;</strong>&#xFF1A;&#x5C40;&#x90E8;&#x6700;&#x5C0F;&#x503C;</li>
<li><strong>&#x6700;&#x5C0F;&#x503C;</strong>&#xFF1A;&#x5168;&#x5C40;&#x6700;&#x5C0F;&#x503C;</li>
<li><strong>&#x978D;&#x70B9;</strong>&#xFF1A;&#x4ECE;&#x67D0;&#x4E2A;&#x65B9;&#x5411;&#x770B;&#x662F;&#x6781;&#x5C0F;&#x503C;&#xFF0C;&#x4ECE;&#x53E6;&#x4E00;&#x65B9;&#x5411;&#x770B;&#x662F;&#x6781;&#x5927;&#x503C;</li>
</ul>
<blockquote>
<p>&#x5BFB;&#x627E;&#x6700;&#x5C0F;&#x503C;&#x7684;&#x68AF;&#x5EA6;&#x6CD5;&#x79F0;&#x4E3A;&#x68AF;&#x5EA6;&#x4E0B;&#x964D;&#x6CD5;&#xFF08;gradient descent method&#xFF09;&#xFF0C;&#x5BFB;&#x627E;&#x6700;&#x5927;&#x503C;&#x7684;&#x68AF;&#x5EA6;&#x6CD5;&#x79F0;&#x4E3A;&#x68AF;&#x5EA6;&#x4E0A;&#x5347;&#x6CD5;&#xFF08;gradient ascent method&#xFF09;&#x3002;&#x4E00;&#x822C;&#x6765;&#x8BF4;&#x795E;&#x7ECF;&#x7F51;&#x7EDC;&#x4E2D;&#x68AF;&#x5EA6;&#x6CD5;&#x662F;&#x6307;&#x68AF;&#x5EA6;&#x4E0B;&#x964D;&#x6CD5;&#x3002;</p>
</blockquote>
<p>&#x5728;&#x67D0;&#x4E00;&#x70B9;&#x4E0A;&#x6839;&#x636E;&#x68AF;&#x5EA6;&#x65B9;&#x5411;&#x524D;&#x8FDB;&#xFF0C;&#x8FD9;&#x5C31;&#x662F;&#x68AF;&#x5EA6;&#x6CD5;&#x7684;&#x5927;&#x767D;&#x8BDD;&#x8868;&#x8FF0;&#x3002;&#x524D;&#x8FDB;&#x7684;&#x6B65;&#x957F;&#x7528;<code>&#x3B7;</code>&#x8868;&#x793A;&#xFF0C;&#x79F0;&#x4E3A;&#x5B66;&#x4E60;&#x7387;&#xFF08;<code>learning rate</code>&#xFF09;&#x3002;&#x5B66;&#x4E60;&#x7387;&#x51B3;&#x5B9A;&#x5728;&#x4E00;&#x6B21;&#x5B66;&#x4E60;&#xFF08;&#x524D;&#x8FDB;&#xFF09;&#x4E2D;&#xFF0C;&#x5E94;&#x5F53;&#x5B66;&#x4E60;&#x591A;&#x5C11;&#xFF0C;&#x4EE5;&#x53CA;&#x5728;&#x591A;&#x5927;&#x7A0B;&#x5EA6;&#x4E0A;&#x66F4;&#x65B0;&#x53C2;&#x6570;&#x3002;&#x50CF;&#x5B66;&#x4E60;&#x7387;&#x8FD9;&#x6837;&#x5F71;&#x54CD;&#x6DF1;&#x5EA6;&#x5B66;&#x4E60;&#x7684;&#x503C;&#xFF0C;&#x79F0;&#x4E3A;<code>&#x8D85;&#x53C2;&#x6570;</code>&#xFF0C;&#x4EE5;&#x4E0E;&#x6743;&#x91CD;&#x7B49;&#x666E;&#x901A;&#x53C2;&#x6570;&#x533A;&#x5206;&#x3002;</p>
<p><img src="https://gitee.com/songjianzaina/juejin_p3/raw/master/img/4efac3bee30efa0739fa40494951c0fba5c8c930c2eb92948933552cf24bed8e" alt="image.png"><br>&#x56FE;&#xFF1A;&#x66F4;&#x65B0;&#xFF08;&#x5B66;&#x4E60;&#xFF09;&#x4E00;&#x6B21;</p>
<p>&#x5B66;&#x4E60;&#x7387;&#x8FC7;&#x5927;&#x6216;&#x8005;&#x8FC7;&#x5C0F;&#xFF0C;&#x90FD;&#x65E0;&#x6CD5;&#x62B5;&#x8FBE;&#x4E00;&#x4E2A;&#x201C;&#x597D;&#x7684;&#x4F4D;&#x7F6E;&#x201D;&#xFF0C;&#x5728;&#x795E;&#x7ECF;&#x7F51;&#x7EDC;&#x4E2D;&#x4E00;&#x822C;&#x4F1A;&#x4E00;&#x8FB9;&#x6539;&#x53D8;&#x5B66;&#x4E60;&#x7387;&#x7684;&#x503C;&#x4E00;&#x534A;&#x5C1D;&#x8BD5;&#x5B66;&#x4E60;&#xFF0C;&#x4EE5;&#x4FBF;&#x786E;&#x8BA4;&#x5B66;&#x4E60;&#x662F;&#x5426;&#x6B63;&#x5E38;&#x8FDB;&#x884C;&#x3002;</p>
<ul>
<li><strong>&#x5B66;&#x4E60;&#x7387;&#x8FC7;&#x5927;</strong>&#xFF1A;&#x5F97;&#x5230;&#x4E00;&#x4E2A;&#x5F88;&#x5927;&#x7684;&#x53D1;&#x6563;&#x7684;&#x503C;</li>
<li><strong>&#x5B66;&#x4E60;&#x7387;&#x8FC7;&#x5C0F;</strong>&#xFF1A;&#x6CA1;&#x5B66;&#x5B8C;&#x5C31;&#x7ED3;&#x675F;&#x4E86;</li>
</ul>
<p>&#x68AF;&#x5EA6;&#x4E0B;&#x964D;&#x6CD5;&#x7684;python&#x5B9E;&#x73B0;&#xFF1A;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">py&#x590D;&#x5236;&#x4EE3;&#x7801;def gradient_descent(f, init_x, lr=0.01, step_num=100):</span><br><span class="line">    x = init_x</span><br><span class="line"></span><br><span class="line">    for i in range(step_num): # &#x524D;&#x8FDB;&#x6B65;&#x6570;</span><br><span class="line">        grad = numerical_gradient(f, x) # &#x8BE5;&#x70B9;&#x68AF;&#x5EA6;</span><br><span class="line">        x -= lr * grad # &#x5411;&#x68AF;&#x5EA6;&#x65B9;&#x5411;&#x524D;&#x8FDB;</span><br><span class="line"></span><br><span class="line">    return x</span><br></pre></td></tr></table></figure>

<h2 id="&#x795E;&#x7ECF;&#x7F51;&#x7EDC;&#x7684;&#x68AF;&#x5EA6;"><a href="#&#x795E;&#x7ECF;&#x7F51;&#x7EDC;&#x7684;&#x68AF;&#x5EA6;" class="headerlink" title="&#x795E;&#x7ECF;&#x7F51;&#x7EDC;&#x7684;&#x68AF;&#x5EA6;"></a>&#x795E;&#x7ECF;&#x7F51;&#x7EDC;&#x7684;&#x68AF;&#x5EA6;</h2><p>&#x5728;&#x4F7F;&#x7528;&#x795E;&#x7ECF;&#x7F51;&#x7EDC;&#x65F6;&#xFF0C;&#x9700;&#x8981;&#x5F97;&#x51FA;&#x6700;&#x4F18;&#x7684;&#x6743;&#x91CD;&#x77E9;&#x9635;&#xFF0C;&#x5229;&#x7528;&#x68AF;&#x5EA6;&#x6CD5;&#x53EF;&#x4EE5;&#x5BF9;&#x8FD9;&#x4E2A;&#x77E9;&#x9635;&#x8FDB;&#x884C;&#x8BA1;&#x7B97;&#xFF0C;&#x6743;&#x91CD;<code>W</code>&#x795E;&#x7ECF;&#x7F51;&#x7EDC;&#x548C;&#x68AF;&#x5EA6;&#x8868;&#x793A;&#x5982;&#x4E0B;&#xFF1A;</p>
<p><img src="https://gitee.com/songjianzaina/juejin_p3/raw/master/img/9f4aedc9a97f82fd704636ab8317f8d2d0c3058afe62960d4a194c80cbd2283e" alt="image.png"></p>
<p>&#x7531;&#x4E0A;&#x4F8B;&#xFF0C;&#x5B9A;&#x4E49;&#x4E00;&#x4E2A;<code>simpleNet</code>&#x7684;&#x7B80;&#x5355;&#x795E;&#x7ECF;&#x7F51;&#x7EDC;&#xFF1A;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">py&#x590D;&#x5236;&#x4EE3;&#x7801;import sys, os</span><br><span class="line">sys.path.append(os.pardir)  # &#x4E3A;&#x4E86;&#x5BFC;&#x5165;&#x7236;&#x76EE;&#x5F55;&#x4E2D;&#x7684;&#x6587;&#x4EF6;&#x800C;&#x8FDB;&#x884C;&#x7684;&#x8BBE;&#x5B9A;</span><br><span class="line">import numpy as np</span><br><span class="line">from common.functions import softmax, cross_entropy_error</span><br><span class="line">from common.gradient import numerical_gradient</span><br><span class="line"></span><br><span class="line">class simpleNet:</span><br><span class="line">    def __init__(self):</span><br><span class="line">        self.W = np.random.randn(2,3) # &#x9884;&#x5B9A;&#x4E00;&#x4E2A;&#x968F;&#x673A;&#x53C2;&#x6570;&#x795E;&#x7ECF;&#x7F51;&#x7EDC;</span><br><span class="line"></span><br><span class="line">    def predict(self, x): # &#x8BA1;&#x7B97;&#x7F51;&#x7EDC;&#x8F93;&#x51FA;</span><br><span class="line">        return np.dot(x, self.W)</span><br><span class="line"></span><br><span class="line">    def loss(self, x, t): # &#x8BA1;&#x7B97;&#x4EA4;&#x53C9;&#x71B5;&#x635F;&#x5931;&#x503C;</span><br><span class="line">        z = self.predict(x)</span><br><span class="line">        y = softmax(z)</span><br><span class="line">        loss = cross_entropy_error(y, t)</span><br><span class="line"></span><br><span class="line">        return loss</span><br><span class="line"></span><br><span class="line">x = np.array([0.6, 0.9]) // &#x8F93;&#x5165;</span><br><span class="line">t = np.array([0, 0, 1]) // &#x6807;&#x7B7E;&#x96C6;</span><br><span class="line"></span><br><span class="line">net = simpleNet()</span><br><span class="line"></span><br><span class="line">f = lambda w: net.loss(x, t) # &#x4F7F;&#x7528;lambda&#x7B80;&#x5316;&#x51FD;&#x6570;&#x5199;&#x6CD5;</span><br><span class="line">dW = numerical_gradient(f, net.W)</span><br><span class="line"></span><br><span class="line">print(dW) # &#x6253;&#x5370;&#x795E;&#x7ECF;&#x7F51;&#x7EDC;&#x7684;&#x68AF;&#x5EA6;</span><br></pre></td></tr></table></figure>

<p>&#x6709;&#x4E86;&#x4E0A;&#x9762;&#x7684;&#x68AF;&#x5EA6;&#x7B97;&#x6CD5;&#xFF0C;&#x5C31;&#x53EF;&#x4EE5;&#x8BBE;&#x7F6E;&#x6B65;&#x957F;&#x548C;&#x6B65;&#x6570;&#xFF0C;&#x7ECF;&#x8FC7;&#x8FED;&#x4EE3;&#x5F97;&#x5230;&#x6700;&#x5C0F;&#x635F;&#x5931;&#x51FD;&#x6570;&#x3002;</p>
<h1 id="&#x5B66;&#x4E60;&#x7B97;&#x6CD5;&#x5B9E;&#x73B0;"><a href="#&#x5B66;&#x4E60;&#x7B97;&#x6CD5;&#x5B9E;&#x73B0;" class="headerlink" title="&#x5B66;&#x4E60;&#x7B97;&#x6CD5;&#x5B9E;&#x73B0;"></a>&#x5B66;&#x4E60;&#x7B97;&#x6CD5;&#x5B9E;&#x73B0;</h1><p>&#x8C03;&#x6574;&#x6743;&#x91CD;&#x548C;&#x504F;&#x7F6E;&#x4EE5;&#x4FBF;&#x62DF;&#x5408;&#x8BAD;&#x7EC3;&#x6570;&#x636E;&#x7684;&#x8FC7;&#x7A0B;&#x79F0;&#x4E3A;&#x5B66;&#x4E60;&#xFF0C;&#x5206;&#x4E3A;&#x4EE5;&#x4E0B;&#x6B65;&#x9AA4;&#xFF1A;&#xFF08;&#x7531;&#x4E8E;&#x7B2C;&#x4E00;&#x6B65;&#x662F;&#x968F;&#x673A;&#x62BD;&#x6837;&#xFF0C;&#x56E0;&#x6B64;&#x8BE5;&#x65B9;&#x6CD5;&#x4E5F;&#x79F0;&#x4E3A;&#x968F;&#x673A;&#x68AF;&#x5EA6;&#x4E0B;&#x964D;&#x6CD5; stochastic gradient descent&#xFF09;</p>
<ol>
<li><strong>&#x62BD;&#x6837; mini-batch</strong>&#xFF1A;&#x4ECE;&#x8BAD;&#x7EC3;&#x6570;&#x636E;&#x4E2D;&#x968F;&#x673A;&#x9009;&#x51FA;&#x4E00;&#x90E8;&#x5206;&#x6570;&#x636E;&#xFF0C;&#x7528;&#x8FD9;&#x90E8;&#x5206;&#x6570;&#x636E;&#x8FDB;&#x884C;&#x5B66;&#x4E60;</li>
<li><strong>&#x8BA1;&#x7B97;&#x68AF;&#x5EA6;</strong>&#xFF1A;&#x968F;&#x673A;&#x8BBE;&#x5B9A;&#x6743;&#x91CD;&#xFF0C;&#x8BA1;&#x7B97;&#x5404;&#x4E2A;&#x6743;&#x91CD;&#x53C2;&#x6570;&#x68AF;&#x5EA6;&#xFF0C;&#x68AF;&#x5EA6;&#x8868;&#x793A;&#x635F;&#x5931;&#x51FD;&#x6570;&#x7684;&#x503C;&#x51CF;&#x5C0F;&#x6700;&#x591A;&#x7684;&#x65B9;&#x5411;</li>
<li><strong>&#x66F4;&#x65B0;&#x53C2;&#x6570;</strong>&#xFF1A;&#x7531;&#x4E0A;&#x4E00;&#x6B65;&#x5F97;&#x51FA;&#x7684;&#x68AF;&#x5EA6;&#x8BA1;&#x7B97;&#x65B0;&#x7684;&#x6743;&#x91CD;&#x53C2;&#x6570;</li>
<li><strong>&#x91CD;&#x590D;1~3&#x6B65;</strong></li>
</ol>
<h2 id="&#x7C7B;&#x5B9A;&#x4E49;&#xFF1A;&#x53CC;&#x5C42;&#x795E;&#x7ECF;&#x7F51;&#x7EDC;-TwoLayerNet"><a href="#&#x7C7B;&#x5B9A;&#x4E49;&#xFF1A;&#x53CC;&#x5C42;&#x795E;&#x7ECF;&#x7F51;&#x7EDC;-TwoLayerNet" class="headerlink" title="&#x7C7B;&#x5B9A;&#x4E49;&#xFF1A;&#x53CC;&#x5C42;&#x795E;&#x7ECF;&#x7F51;&#x7EDC; TwoLayerNet"></a>&#x7C7B;&#x5B9A;&#x4E49;&#xFF1A;&#x53CC;&#x5C42;&#x795E;&#x7ECF;&#x7F51;&#x7EDC; TwoLayerNet</h2><p>&#x9996;&#x5148;&#x5B9A;&#x4E49;&#x53CC;&#x5C42;&#x7F51;&#x7EDC;&#x7684;&#x7ED3;&#x6784;&#xFF0C;&#x5B83;&#x5305;&#x542B;&#x6BCF;&#x4E00;&#x5C42;&#x7684;&#x6743;&#x91CD;&#x548C;&#x504F;&#x7F6E;&#xFF0C;&#x5E76;&#x4E14;&#x63D0;&#x4F9B;&#x8BA1;&#x7B97;&#x8F93;&#x51FA;&#x7684;<code>predict</code>&#x51FD;&#x6570;&#xFF0C;&#x8BA1;&#x7B97;&#x4EA4;&#x53C9;&#x71B5;&#x635F;&#x5931;&#x7684;<code>loss</code>&#x51FD;&#x6570;&#xFF0C;&#x8BA1;&#x7B97;&#x6279;&#x91CF;&#x7CBE;&#x786E;&#x5EA6;&#x7684;<code>accuracy</code>&#x51FD;&#x6570;&#xFF0C;&#x4EE5;&#x53CA;&#x751F;&#x6210;&#x68AF;&#x5EA6;&#x77E9;&#x9635;&#x7684;<code>numerical_gradient</code>&#x51FD;&#x6570;&#x3002;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br></pre></td><td class="code"><pre><span class="line">py&#x590D;&#x5236;&#x4EE3;&#x7801;# coding: utf-8</span><br><span class="line">import sys, os</span><br><span class="line">sys.path.append(os.pardir)  # &#x4E3A;&#x4E86;&#x5BFC;&#x5165;&#x7236;&#x76EE;&#x5F55;&#x7684;&#x6587;&#x4EF6;&#x800C;&#x8FDB;&#x884C;&#x7684;&#x8BBE;&#x5B9A;</span><br><span class="line">from common.functions import *</span><br><span class="line">from common.gradient import numerical_gradient</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">class TwoLayerNet:</span><br><span class="line"></span><br><span class="line">    # hidden_size &#x9690;&#x85CF;&#x5C42;&#xFF08;&#x7B2C;1&#x5C42;&#xFF09;&#x7684;&#x795E;&#x7ECF;&#x5143;&#x6570;</span><br><span class="line">    # weight_init_std &#x521D;&#x59CB;&#x6743;&#x91CD;</span><br><span class="line">    def __init__(self, input_size, hidden_size, output_size, weight_init_std=0.01):</span><br><span class="line">        # &#x521D;&#x59CB;&#x5316;&#x6743;&#x91CD;</span><br><span class="line">        self.params = {}</span><br><span class="line">        self.params[&apos;W1&apos;] = weight_init_std * np.random.randn(input_size, hidden_size) # &#x7EF4;&#x5EA6;&#x4E3A;input_size * hidden_size</span><br><span class="line">        self.params[&apos;b1&apos;] = np.zeros(hidden_size) # &#x504F;&#x7F6E;&#x521D;&#x59CB;&#x5316;&#x4E3A;0</span><br><span class="line">        self.params[&apos;W2&apos;] = weight_init_std * np.random.randn(hidden_size, output_size) # hidden_size * output_size</span><br><span class="line">        self.params[&apos;b2&apos;] = np.zeros(output_size)</span><br><span class="line"></span><br><span class="line">    # &#x6839;&#x636E;&#x5B9A;&#x4E49;&#x8BA1;&#x7B97;&#x8F93;&#x51FA;</span><br><span class="line">    def predict(self, x):</span><br><span class="line">        W1, W2 = self.params[&apos;W1&apos;], self.params[&apos;W2&apos;]</span><br><span class="line">        b1, b2 = self.params[&apos;b1&apos;], self.params[&apos;b2&apos;]</span><br><span class="line">    </span><br><span class="line">        a1 = np.dot(x, W1) + b1</span><br><span class="line">        z1 = sigmoid(a1) # &#x9690;&#x85CF;&#x5C42;&#x6FC0;&#x6D3B;&#x7528;sigmoid</span><br><span class="line">        a2 = np.dot(z1, W2) + b2</span><br><span class="line">        y = softmax(a2) # &#x8F93;&#x51FA;&#x5C42;&#x6FC0;&#x6D3B;&#x7528;softmax</span><br><span class="line">        </span><br><span class="line">        return y</span><br><span class="line">        </span><br><span class="line">    # x:&#x8F93;&#x5165;&#x6570;&#x636E;, t:&#x76D1;&#x7763;&#x6570;&#x636E;</span><br><span class="line">    def loss(self, x, t):</span><br><span class="line">        y = self.predict(x)</span><br><span class="line">        </span><br><span class="line">        return cross_entropy_error(y, t)</span><br><span class="line">    </span><br><span class="line">    # &#x8FD9;&#x91CC;x&#x53EF;&#x4EE5;&#x662F;batch&#x8F93;&#x5165;</span><br><span class="line">    def accuracy(self, x, t):</span><br><span class="line">        y = self.predict(x)</span><br><span class="line">        y = np.argmax(y, axis=1)</span><br><span class="line">        t = np.argmax(t, axis=1)</span><br><span class="line">        </span><br><span class="line">        accuracy = np.sum(y == t) / float(x.shape[0])</span><br><span class="line">        return accuracy</span><br><span class="line">        </span><br><span class="line">    # x:&#x8F93;&#x5165;&#x6570;&#x636E;, t:&#x76D1;&#x7763;&#x6570;&#x636E;</span><br><span class="line">    def numerical_gradient(self, x, t):</span><br><span class="line">        loss_W = lambda W: self.loss(x, t) # &#x635F;&#x5931;</span><br><span class="line">        </span><br><span class="line">        grads = {}</span><br><span class="line">        grads[&apos;W1&apos;] = numerical_gradient(loss_W, self.params[&apos;W1&apos;])</span><br><span class="line">        grads[&apos;b1&apos;] = numerical_gradient(loss_W, self.params[&apos;b1&apos;])</span><br><span class="line">        grads[&apos;W2&apos;] = numerical_gradient(loss_W, self.params[&apos;W2&apos;])</span><br><span class="line">        grads[&apos;b2&apos;] = numerical_gradient(loss_W, self.params[&apos;b2&apos;])</span><br><span class="line">        </span><br><span class="line">        return grads # &#x635F;&#x5931;&#x7684;&#x68AF;&#x5EA6;</span><br><span class="line">        </span><br><span class="line">    # &#x8BA1;&#x7B97;&#x68AF;&#x5EA6;</span><br><span class="line">    def gradient(self, x, t):</span><br><span class="line">        W1, W2 = self.params[&apos;W1&apos;], self.params[&apos;W2&apos;]</span><br><span class="line">        b1, b2 = self.params[&apos;b1&apos;], self.params[&apos;b2&apos;]</span><br><span class="line">        grads = {} # &#x521D;&#x59CB;&#x5316;&#x4E3A;Map</span><br><span class="line">        </span><br><span class="line">        batch_num = x.shape[0]</span><br><span class="line">        </span><br><span class="line">        # forward &#x524D;&#x5411;&#x8F93;&#x51FA;</span><br><span class="line">        a1 = np.dot(x, W1) + b1</span><br><span class="line">        z1 = sigmoid(a1)</span><br><span class="line">        a2 = np.dot(z1, W2) + b2</span><br><span class="line">        y = softmax(a2)</span><br><span class="line">        </span><br><span class="line">        # backward</span><br><span class="line">        dy = (y - t) / batch_num</span><br><span class="line">        grads[&apos;W2&apos;] = np.dot(z1.T, dy)</span><br><span class="line">        grads[&apos;b2&apos;] = np.sum(dy, axis=0)</span><br><span class="line">        </span><br><span class="line">        da1 = np.dot(dy, W2.T)</span><br><span class="line">        dz1 = sigmoid_grad(a1) * da1</span><br><span class="line">        grads[&apos;W1&apos;] = np.dot(x.T, dz1)</span><br><span class="line">        grads[&apos;b1&apos;] = np.sum(dz1, axis=0)</span><br><span class="line"></span><br><span class="line">        return grads</span><br></pre></td></tr></table></figure>

<h2 id="&#x5B9E;&#x73B0;&#x6DF1;&#x5EA6;&#x5B66;&#x4E60;"><a href="#&#x5B9E;&#x73B0;&#x6DF1;&#x5EA6;&#x5B66;&#x4E60;" class="headerlink" title="&#x5B9E;&#x73B0;&#x6DF1;&#x5EA6;&#x5B66;&#x4E60;"></a>&#x5B9E;&#x73B0;&#x6DF1;&#x5EA6;&#x5B66;&#x4E60;</h2><p>&#x5F15;&#x5165;<code>epoch</code>&#x7684;&#x6982;&#x5FF5;&#xFF0C;&#x5B83;&#x662F;&#x4E00;&#x4E2A;&#x5355;&#x4F4D;&#xFF0C;&#x8868;&#x793A;<code>&#x8BAD;&#x7EC3;&#x96C6;&#x4E2D;&#x5168;&#x90E8;&#x6570;&#x636E;&#x5747;&#x88AB;&#x4F7F;&#x7528;&#x8FC7;&#x4E00;&#x6B21;&#x65F6;&#x7684;&#x66F4;&#x65B0;&#x6B21;&#x6570;</code>&#x3002;&#x5BF9;&#x4E8E;<code>10000</code>&#x6761;&#x6570;&#x636E;&#x7684;&#x8BAD;&#x7EC3;&#x96C6;&#x6765;&#x8BF4;&#xFF0C;&#x5982;&#x679C;&#x6BCF;&#x4E2A;<code>mini-batch</code>&#x5B66;&#x4E60;<code>100</code>&#x6761;&#xFF0C;&#x5219;<code>epoch=100</code>&#x3002;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br></pre></td><td class="code"><pre><span class="line">py&#x590D;&#x5236;&#x4EE3;&#x7801;# coding: utf-8</span><br><span class="line">import sys, os</span><br><span class="line">sys.path.append(os.pardir)  # &#x4E3A;&#x4E86;&#x5BFC;&#x5165;&#x7236;&#x76EE;&#x5F55;&#x7684;&#x6587;&#x4EF6;&#x800C;&#x8FDB;&#x884C;&#x7684;&#x8BBE;&#x5B9A;</span><br><span class="line">import numpy as np</span><br><span class="line">import matplotlib.pyplot as plt</span><br><span class="line">from dataset.mnist import load_mnist</span><br><span class="line">from two_layer_net import TwoLayerNet</span><br><span class="line"></span><br><span class="line"># &#x8BFB;&#x5165;&#x6570;&#x636E;</span><br><span class="line">(x_train, t_train), (x_test, t_test) = load_mnist(normalize=True, one_hot_label=True)</span><br><span class="line"></span><br><span class="line">network = TwoLayerNet(input_size=784, hidden_size=50, output_size=10) # </span><br><span class="line"></span><br><span class="line">iters_num = 10000  # &#x9002;&#x5F53;&#x8BBE;&#x5B9A;&#x5FAA;&#x73AF;&#x7684;&#x6B21;&#x6570;</span><br><span class="line">train_size = x_train.shape[0]</span><br><span class="line">batch_size = 100</span><br><span class="line">learning_rate = 0.1 # &#x6B65;&#x957F;</span><br><span class="line"></span><br><span class="line">train_loss_list = [] # &#x5217;&#x8868;&#x8BB0;&#x5F55;&#x635F;&#x5931;&#x4E0B;&#x964D;</span><br><span class="line">train_acc_list = [] # &#x5217;&#x8868;&#x8BB0;&#x5F55;&#x7CBE;&#x5EA6;&#x4E0A;&#x5347;</span><br><span class="line">test_acc_list = []</span><br><span class="line"></span><br><span class="line">iter_per_epoch = max(train_size / batch_size, 1)</span><br><span class="line"></span><br><span class="line">for i in range(iters_num):</span><br><span class="line">    # &#x53D6;mini-batch</span><br><span class="line">    batch_mask = np.random.choice(train_size, batch_size)</span><br><span class="line">    x_batch = x_train[batch_mask]</span><br><span class="line">    t_batch = t_train[batch_mask]</span><br><span class="line">    </span><br><span class="line">    # &#x8BA1;&#x7B97;&#x68AF;&#x5EA6;</span><br><span class="line">    #grad = network.numerical_gradient(x_batch, t_batch)</span><br><span class="line">    grad = network.gradient(x_batch, t_batch) # &#x6BCF;&#x6B21;&#x5B66;&#x4E60;&#x90FD;&#x66F4;&#x65B0;&#x4E00;&#x904D;&#x68AF;&#x5EA6;</span><br><span class="line">    </span><br><span class="line">    # &#x66F4;&#x65B0;&#x53C2;&#x6570;</span><br><span class="line">    for key in (&apos;W1&apos;, &apos;b1&apos;, &apos;W2&apos;, &apos;b2&apos;):</span><br><span class="line">        network.params[key] -= learning_rate * grad[key]</span><br><span class="line">    </span><br><span class="line">    loss = network.loss(x_batch, t_batch)</span><br><span class="line">    train_loss_list.append(loss)</span><br><span class="line">    </span><br><span class="line">    if i % iter_per_epoch == 0:</span><br><span class="line">        train_acc = network.accuracy(x_train, t_train)</span><br><span class="line">        test_acc = network.accuracy(x_test, t_test)</span><br><span class="line">        train_acc_list.append(train_acc)</span><br><span class="line">        test_acc_list.append(test_acc)</span><br><span class="line">        print(&quot;train acc : {:.4f}, test acc : {:.4f}&quot;.format(train_acc, test_acc))</span><br><span class="line"></span><br><span class="line"># &#x7ED8;&#x5236;&#x56FE;&#x5F62;</span><br><span class="line">markers = {&apos;train&apos;: &apos;o&apos;, &apos;test&apos;: &apos;s&apos;}</span><br><span class="line">x = np.arange(len(train_acc_list))</span><br><span class="line">plt.plot(x, train_acc_list, label=&apos;train acc&apos;)</span><br><span class="line">plt.plot(x, test_acc_list, label=&apos;test acc&apos;, linestyle=&apos;--&apos;)</span><br><span class="line">plt.xlabel(&quot;epochs&quot;)</span><br><span class="line">plt.ylabel(&quot;accuracy&quot;)</span><br><span class="line">plt.ylim(0, 1.0)</span><br><span class="line">plt.legend(loc=&apos;lower right&apos;)</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>

<p>&#x5728;&#x6BCF;&#x4E2A;<code>epoch</code>&#x91CC;&#xFF0C;&#x8BA1;&#x7B97;&#x4E00;&#x6B21;&#x8BAD;&#x7EC3;&#x96C6;&#x548C;&#x6D4B;&#x8BD5;&#x96C6;&#x7684;&#x7CBE;&#x5EA6;<code>accuracy</code>&#xFF0C;&#x5E76;&#x4E14;&#x663E;&#x793A;&#x5728;&#x56FE;&#x50CF;&#x4E0A;&#xFF0C;&#x4E24;&#x6761;&#x66F2;&#x7EBF;&#x543B;&#x5408;&#xFF0C;&#x8BF4;&#x660E;&#x6CA1;&#x6709;&#x53D1;&#x751F;&#x8FC7;&#x62DF;&#x5408;&#x3002;</p>
<p><img src="https://gitee.com/songjianzaina/juejin_p3/raw/master/img/c0d50214e46fc08695914c6dad6b5291ce06a64a247db719a0b62cda61a65429" alt="image.png"><br>&#x56FE;&#xFF1A;&#x672A;&#x53D1;&#x751F;&#x8FC7;&#x62DF;&#x5408;</p>
<p><strong>&#x672C;&#x6587;&#x8F6C;&#x8F7D;&#x81EA;:</strong> <a href="/external_links/8d2ae6fc28a23aeef37292859194b5a1.html" target="blank" rel="noopener">&#x6398;&#x91D1;</a></p>
<p><em><a href="https://dev.newban.cn/">&#x5F00;&#x53D1;&#x8005;&#x535A;&#x5BA2; &#x2013; &#x548C;&#x5F00;&#x53D1;&#x76F8;&#x5173;&#x7684; &#x8FD9;&#x91CC;&#x5168;&#x90FD;&#x6709;</a></em></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
  </section>

  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="../11/"><i class="fa fa-angle-left"></i></a><a class="page-number" href="../../">1</a><span class="space">&hellip;</span><a class="page-number" href="../11/">11</a><span class="page-number current">12</span><a class="page-number" href="../13/">13</a><span class="space">&hellip;</span><a class="page-number" href="../399/">399</a><a class="extend next" rel="next" href="../13/"><i class="fa fa-angle-right"></i></a>
  </nav>



          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      

      <section class="site-overview-wrap sidebar-panel sidebar-panel-active">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <p class="site-author-name" itemprop="name">开发者博客</p>
              <p class="site-description motion-element" itemprop="description"></p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="https://dev.newban.cn/archives/">
              
                  <span class="site-state-item-count">3990</span>
                  <span class="site-state-item-name">日志</span>
                </a>
              </div>
            

            

            
              
              
              <div class="site-state-item site-state-tags">
                
                  <span class="site-state-item-count">1304</span>
                  <span class="site-state-item-name">标签</span>
                
              </div>
            

          </nav>

          
            <div class="feed-link motion-element">
              <a href="../../atom.xml" rel="alternate">
                <i class="fa fa-rss"></i>
                RSS
              </a>
            </div>
          

          

          
          

          
          

          

        </div>
      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2024</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">开发者博客</span>
  <div>
  <script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
  <span id="busuanzi_container_site_pv">本站总访问量<span id="busuanzi_value_site_pv"></span>次</span>
  </div>
  
</div>


  <div class="powered-by">由 <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a> 强力驱动</div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">主题 &mdash; <a class="theme-link" target="_blank" href="https://github.com/iissnan/hexo-theme-next">NexT.Muse</a> v5.1.4</div>




  <script type="text/javascript" async src="js/src/mermaid.min.js"></script>
  <script>
  if (window.mermaid) {
        var mermaid_config = {
            startOnLoad: true,
            theme: 'default',
            flowchart:{
                useMaxWidth: false,
                htmlLabels: true
            }                
        }
        mermaid.initialize(mermaid_config);
  }
  </script>
  

        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
          <span id="scrollpercent"><span>0</span>%</span>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  
    <script type="text/javascript" src="../../lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="../../lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="../../lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="../../lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="../../lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="../../lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  


  


  <script type="text/javascript" src="../../js/src/utils.js?v=5.1.4"></script>

  <script type="text/javascript" src="../../js/src/motion.js?v=5.1.4"></script>



  
  

  

  


  <script type="text/javascript" src="../../js/src/bootstrap.js?v=5.1.4"></script>



  


  




	





  





  












  

  <script type="text/javascript">
    // Popup Window;
    var isfetched = false;
    var isXml = true;
    // Search DB path;
    var search_path = "search.xml";
    if (search_path.length === 0) {
      search_path = "search.xml";
    } else if (/json$/i.test(search_path)) {
      isXml = false;
    }
    var path = "/" + search_path;
    // monitor main search box;

    var onPopupClose = function (e) {
      $('.popup').hide();
      $('#local-search-input').val('');
      $('.search-result-list').remove();
      $('#no-result').remove();
      $(".local-search-pop-overlay").remove();
      $('body').css('overflow', '');
    }

    function proceedsearch() {
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay"></div>')
        .css('overflow', 'hidden');
      $('.search-popup-overlay').click(onPopupClose);
      $('.popup').toggle();
      var $localSearchInput = $('#local-search-input');
      $localSearchInput.attr("autocapitalize", "none");
      $localSearchInput.attr("autocorrect", "off");
      $localSearchInput.focus();
    }

    // search function;
    var searchFunc = function(path, search_id, content_id) {
      'use strict';

      // start loading animation
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay">' +
          '<div id="search-loading-icon">' +
          '<i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>' +
          '</div>' +
          '</div>')
        .css('overflow', 'hidden');
      $("#search-loading-icon").css('margin', '20% auto 0 auto').css('text-align', 'center');

      $.ajax({
        url: path,
        dataType: isXml ? "xml" : "json",
        async: true,
        success: function(res) {
          // get the contents from search data
          isfetched = true;
          $('.popup').detach().appendTo('.header-inner');
          var datas = isXml ? $("entry", res).map(function() {
            return {
              title: $("title", this).text(),
              content: $("content",this).text(),
              url: $("url" , this).text()
            };
          }).get() : res;
          var input = document.getElementById(search_id);
          var resultContent = document.getElementById(content_id);
          var inputEventFunction = function() {
            var searchText = input.value.trim().toLowerCase();
            var keywords = searchText.split(/[\s\-]+/);
            if (keywords.length > 1) {
              keywords.push(searchText);
            }
            var resultItems = [];
            if (searchText.length > 0) {
              // perform local searching
              datas.forEach(function(data) {
                var isMatch = false;
                var hitCount = 0;
                var searchTextCount = 0;
                var title = data.title.trim();
                var titleInLowerCase = title.toLowerCase();
                var content = data.content.trim().replace(/<[^>]+>/g,"");
                var contentInLowerCase = content.toLowerCase();
                var articleUrl = decodeURIComponent(data.url);
                var indexOfTitle = [];
                var indexOfContent = [];
                // only match articles with not empty titles
                if(title != '') {
                  keywords.forEach(function(keyword) {
                    function getIndexByWord(word, text, caseSensitive) {
                      var wordLen = word.length;
                      if (wordLen === 0) {
                        return [];
                      }
                      var startPosition = 0, position = [], index = [];
                      if (!caseSensitive) {
                        text = text.toLowerCase();
                        word = word.toLowerCase();
                      }
                      while ((position = text.indexOf(word, startPosition)) > -1) {
                        index.push({position: position, word: word});
                        startPosition = position + wordLen;
                      }
                      return index;
                    }

                    indexOfTitle = indexOfTitle.concat(getIndexByWord(keyword, titleInLowerCase, false));
                    indexOfContent = indexOfContent.concat(getIndexByWord(keyword, contentInLowerCase, false));
                  });
                  if (indexOfTitle.length > 0 || indexOfContent.length > 0) {
                    isMatch = true;
                    hitCount = indexOfTitle.length + indexOfContent.length;
                  }
                }

                // show search results

                if (isMatch) {
                  // sort index by position of keyword

                  [indexOfTitle, indexOfContent].forEach(function (index) {
                    index.sort(function (itemLeft, itemRight) {
                      if (itemRight.position !== itemLeft.position) {
                        return itemRight.position - itemLeft.position;
                      } else {
                        return itemLeft.word.length - itemRight.word.length;
                      }
                    });
                  });

                  // merge hits into slices

                  function mergeIntoSlice(text, start, end, index) {
                    var item = index[index.length - 1];
                    var position = item.position;
                    var word = item.word;
                    var hits = [];
                    var searchTextCountInSlice = 0;
                    while (position + word.length <= end && index.length != 0) {
                      if (word === searchText) {
                        searchTextCountInSlice++;
                      }
                      hits.push({position: position, length: word.length});
                      var wordEnd = position + word.length;

                      // move to next position of hit

                      index.pop();
                      while (index.length != 0) {
                        item = index[index.length - 1];
                        position = item.position;
                        word = item.word;
                        if (wordEnd > position) {
                          index.pop();
                        } else {
                          break;
                        }
                      }
                    }
                    searchTextCount += searchTextCountInSlice;
                    return {
                      hits: hits,
                      start: start,
                      end: end,
                      searchTextCount: searchTextCountInSlice
                    };
                  }

                  var slicesOfTitle = [];
                  if (indexOfTitle.length != 0) {
                    slicesOfTitle.push(mergeIntoSlice(title, 0, title.length, indexOfTitle));
                  }

                  var slicesOfContent = [];
                  while (indexOfContent.length != 0) {
                    var item = indexOfContent[indexOfContent.length - 1];
                    var position = item.position;
                    var word = item.word;
                    // cut out 100 characters
                    var start = position - 20;
                    var end = position + 80;
                    if(start < 0){
                      start = 0;
                    }
                    if (end < position + word.length) {
                      end = position + word.length;
                    }
                    if(end > content.length){
                      end = content.length;
                    }
                    slicesOfContent.push(mergeIntoSlice(content, start, end, indexOfContent));
                  }

                  // sort slices in content by search text's count and hits' count

                  slicesOfContent.sort(function (sliceLeft, sliceRight) {
                    if (sliceLeft.searchTextCount !== sliceRight.searchTextCount) {
                      return sliceRight.searchTextCount - sliceLeft.searchTextCount;
                    } else if (sliceLeft.hits.length !== sliceRight.hits.length) {
                      return sliceRight.hits.length - sliceLeft.hits.length;
                    } else {
                      return sliceLeft.start - sliceRight.start;
                    }
                  });

                  // select top N slices in content

                  var upperBound = parseInt('1');
                  if (upperBound >= 0) {
                    slicesOfContent = slicesOfContent.slice(0, upperBound);
                  }

                  // highlight title and content

                  function highlightKeyword(text, slice) {
                    var result = '';
                    var prevEnd = slice.start;
                    slice.hits.forEach(function (hit) {
                      result += text.substring(prevEnd, hit.position);
                      var end = hit.position + hit.length;
                      result += '<b class="search-keyword">' + text.substring(hit.position, end) + '</b>';
                      prevEnd = end;
                    });
                    result += text.substring(prevEnd, slice.end);
                    return result;
                  }

                  var resultItem = '';

                  if (slicesOfTitle.length != 0) {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + highlightKeyword(title, slicesOfTitle[0]) + "</a>";
                  } else {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + title + "</a>";
                  }

                  slicesOfContent.forEach(function (slice) {
                    resultItem += "<a href='" + articleUrl + "'>" +
                      "<p class=\"search-result\">" + highlightKeyword(content, slice) +
                      "...</p>" + "</a>";
                  });

                  resultItem += "</li>";
                  resultItems.push({
                    item: resultItem,
                    searchTextCount: searchTextCount,
                    hitCount: hitCount,
                    id: resultItems.length
                  });
                }
              })
            };
            if (keywords.length === 1 && keywords[0] === "") {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-search fa-5x" /></div>'
            } else if (resultItems.length === 0) {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-frown-o fa-5x" /></div>'
            } else {
              resultItems.sort(function (resultLeft, resultRight) {
                if (resultLeft.searchTextCount !== resultRight.searchTextCount) {
                  return resultRight.searchTextCount - resultLeft.searchTextCount;
                } else if (resultLeft.hitCount !== resultRight.hitCount) {
                  return resultRight.hitCount - resultLeft.hitCount;
                } else {
                  return resultRight.id - resultLeft.id;
                }
              });
              var searchResultList = '<ul class=\"search-result-list\">';
              resultItems.forEach(function (result) {
                searchResultList += result.item;
              })
              searchResultList += "</ul>";
              resultContent.innerHTML = searchResultList;
            }
          }

          if ('auto' === 'auto') {
            input.addEventListener('input', inputEventFunction);
          } else {
            $('.search-icon').click(inputEventFunction);
            input.addEventListener('keypress', function (event) {
              if (event.keyCode === 13) {
                inputEventFunction();
              }
            });
          }

          // remove loading animation
          $(".local-search-pop-overlay").remove();
          $('body').css('overflow', '');

          proceedsearch();
        }
      });
    }

    // handle and trigger popup window;
    $('.popup-trigger').click(function(e) {
      e.stopPropagation();
      if (isfetched === false) {
        searchFunc(path, 'local-search-input', 'local-search-result');
      } else {
        proceedsearch();
      };
    });

    $('.popup-btn-close').click(onPopupClose);
    $('.popup').click(function(e){
      e.stopPropagation();
    });
    $(document).on('keyup', function (event) {
      var shouldDismissSearchPopup = event.which === 27 &&
        $('.search-popup').is(':visible');
      if (shouldDismissSearchPopup) {
        onPopupClose();
      }
    });
  </script>





  

  

  

  
  

  

  

  

</body>
</html>
