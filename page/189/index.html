<!DOCTYPE html>



  


<html class="theme-next muse use-motion" lang="zh-Hans">
<head><meta name="generator" content="Hexo 3.9.0">
  <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
<meta name="theme-color" content="#222">
<meta name="referrer" content="never">









<meta http-equiv="Cache-Control" content="no-transform">
<meta http-equiv="Cache-Control" content="no-siteapp">
















  
  
  <link href="../../lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css">







<link href="../../lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css">

<link href="../../css/main.css?v=5.1.4" rel="stylesheet" type="text/css">


  <link rel="apple-touch-icon" sizes="180x180" href="../../images/apple-touch-icon-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="32x32" href="../../images/favicon-32x32-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="16x16" href="../../images/favicon-16x16-next.png?v=5.1.4">


  <link rel="mask-icon" href="../../images/logo.svg?v=5.1.4" color="#222">





  <meta name="keywords" content="Hexo, NexT">





  <link rel="alternate" href="../../atom.xml" title="开发者博客 – IT技术 尽在开发者博客" type="application/atom+xml">






<meta property="og:type" content="website">
<meta property="og:title" content="开发者博客 – IT技术 尽在开发者博客">
<meta property="og:url" content="https://dev.newban.cn/page/189/index.html">
<meta property="og:site_name" content="开发者博客 – IT技术 尽在开发者博客">
<meta property="og:locale" content="zh-Hans">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="开发者博客 – IT技术 尽在开发者博客">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Muse',
    version: '5.1.4',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":true,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>
<!--谷歌广告验证代码-->
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({
          google_ad_client: "ca-pub-2626449904708114",
          enable_page_level_ads: true
     });
</script>
<!--谷歌广告验证代码-->



  <link rel="canonical" href="https://dev.newban.cn/page/189/">





  <title>开发者博客 – IT技术 尽在开发者博客</title>
  








</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  
  
    
  

  <div class="container sidebar-position-left 
  page-home">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">开发者博客 – IT技术 尽在开发者博客</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle">开发者博客 – 科技是第一生产力</p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="http://dev.newban.cn/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br>
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="https://dev.newban.cn/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br>
            
            归档
          </a>
        </li>
      

      
        <li class="menu-item menu-item-search">
          
            <a href="javascript:;" class="popup-trigger">
          
            
              <i class="menu-item-icon fa fa-search fa-fw"></i> <br>
            
            搜索
          </a>
        </li>
      
    </ul>
  

  
    <div class="site-search">
      
  <div class="popup search-popup local-search-popup">
  <div class="local-search-header clearfix">
    <span class="search-icon">
      <i class="fa fa-search"></i>
    </span>
    <span class="popup-btn-close">
      <i class="fa fa-times-circle"></i>
    </span>
    <div class="local-search-input-wrapper">
      <input autocomplete="off" placeholder="搜索..." spellcheck="false" type="text" id="local-search-input">
    </div>
  </div>
  <div id="local-search-result"></div>
</div>



    </div>
  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://dev.newban.cn../../7034440871646855204.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="开发者博客">
      <meta itemprop="description" content>
      <meta itemprop="image" content="../../images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="开发者博客 – IT技术 尽在开发者博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="../../7034440871646855204.html" itemprop="url">用虚拟机模拟远程服务器-固定 IP 地址</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2021-11-25T17:44:03+08:00">
                2021-11-25
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>&#x5728;<a href="https://dev.newban.cn/7033680284566421511">&#x4E0A;&#x4E00;&#x7BC7;&#x6587;&#x7AE0;</a>&#x4E2D;&#x6211;&#x4EEC;&#x901A;&#x8FC7; VMware Player &#x548C; Ubuntu Server &#x5B8C;&#x6210;&#x4E86;&#x670D;&#x52A1;&#x5668;&#x7684;&#x5B89;&#x88C5;&#xFF0C;&#x4F46;&#x8DDD;&#x79BB;&#x8FDC;&#x7A0B;&#x670D;&#x52A1;&#x5668;&#x642D;&#x5EFA;&#x5B8C;&#x6210;&#x8FD8;&#x6709;&#x4E00;&#x6BB5;&#x8DEF;&#x7A0B;&#x8981;&#x8D70;&#x3002;&#x5728;&#x8FD9;&#x7BC7;&#x6587;&#x7AE0;&#x4E2D;&#x6211;&#x4EEC;&#x5C06;&#x5F00;&#x59CB;&#x8FDB;&#x884C;&#x670D;&#x52A1;&#x5668;&#x7684;&#x7F51;&#x7EDC;&#x914D;&#x7F6E;&#xFF0C;&#x4E3A;&#x670D;&#x52A1;&#x5668;&#x901A;&#x8FC7;&#x7F51;&#x7EDC;&#x7ED9;&#x7528;&#x6237;&#x63D0;&#x4F9B;&#x670D;&#x52A1;&#x6253;&#x4E0B;&#x57FA;&#x7840;&#xFF01;</p>
<h2 id="&#x7F51;&#x7EDC;&#x7ED3;&#x6784;"><a href="#&#x7F51;&#x7EDC;&#x7ED3;&#x6784;" class="headerlink" title="&#x7F51;&#x7EDC;&#x7ED3;&#x6784;"></a>&#x7F51;&#x7EDC;&#x7ED3;&#x6784;</h2><p>&#x5728;&#x5F00;&#x59CB;&#x914D;&#x7F6E;&#x7F51;&#x7EDC;&#x524D;&#xFF0C;&#x6211;&#x4EEC;&#x5148;&#x5206;&#x6790;&#x4E00;&#x4E0B; VMware Player &#x63D0;&#x4F9B;&#x7684;&#x9ED8;&#x8BA4; NAT &#x7F51;&#x7EDC;&#x7684;&#x7ED3;&#x6784;</p>
<p><img src="https://gitee.com/songjianzaina/juejin_p7/raw/master/img/abda5cb3ab87a26949819b6ff157a627c04cbe22e1bbea8bf2d1ba9940c64f8b" alt="NAT.png"></p>
<ul>
<li>&#x865A;&#x62DF;&#x673A;&#xFF1A;&#x6211;&#x4EEC;&#x521B;&#x5EFA;&#x7684;&#x670D;&#x52A1;&#x5668;</li>
<li>DHCP &#x670D;&#x52A1;&#x5668;&#xFF1A;&#x4E3A;&#x865A;&#x62DF;&#x7F51;&#x7EDC;&#x5185;&#x7684;&#x8BA1;&#x7B97;&#x673A;&#x52A8;&#x6001;&#x63D0;&#x4F9B; IP &#x5730;&#x5740;&#x7B49;&#x8FDE;&#x63A5;&#x7F51;&#x7EDC;&#x6240;&#x9700;&#x4FE1;&#x606F;</li>
<li>NAT &#x8BBE;&#x5907;&#xFF1A;&#x5F53;&#x4F4D;&#x4E8E;&#x865A;&#x62DF;&#x7F51;&#x7EDC;&#x5185;&#x90E8;&#x7684;&#x865A;&#x62DF;&#x673A;&#x9700;&#x8981;&#x8BBF;&#x95EE;&#x5916;&#x90E8;&#x7F51;&#x7EDC;&#x65F6;&#xFF0C;&#x4F1A;&#x5C06;&#x8BF7;&#x6C42;&#x53D1;&#x9001;&#x7ED9; NAT &#x8BBE;&#x5907;&#xFF1B;NAT &#x8BBE;&#x5907;&#x6536;&#x5230;&#x8BF7;&#x6C42;&#x540E;&#xFF0C;&#x4F1A;&#x5C06;&#x8BF7;&#x6C42;&#x4E2D;&#x865A;&#x62DF;&#x673A;&#x7684; IP &#x5730;&#x5740;&#x8F6C;&#x6362;&#x4E3A;&#x5BBF;&#x4E3B;&#x673A;&#x7684; IP &#x5730;&#x5740;&#xFF1B;&#x7531;&#x4E8E;&#x5BBF;&#x4E3B;&#x673A;&#x7684; IP &#x5730;&#x5740;&#x4E8E;&#x5916;&#x90E8;&#x7F51;&#x7EDC;&#x53EF;&#x89C1;&#xFF0C;&#x4ECE;&#x800C;&#x5B9E;&#x73B0;&#x865A;&#x62DF;&#x7F51;&#x7EDC;&#x5185;&#x90E8;&#x865A;&#x62DF;&#x673A;&#x5BF9;&#x5916;&#x90E8;&#x7F51;&#x7EDC;&#x7684;&#x8BBF;&#x95EE;</li>
</ul>
<p>&#x4ECE;&#x9ED8;&#x8BA4; NAT &#x7F51;&#x7EDC;&#x7684;&#x7ED3;&#x6784;&#x53EF;&#x4EE5;&#x77E5;&#x9053;&#xFF0C;&#x6211;&#x4EEC;&#x7684;&#x670D;&#x52A1;&#x5668;&#x5728;&#x865A;&#x62DF;&#x7F51;&#x7EDC;&#x4E2D;&#x7684;&#x901A;&#x4FE1;&#x662F;&#x57FA;&#x4E8E; DHCP &#x670D;&#x52A1;&#x5668;&#x5206;&#x914D;&#x7684;&#x52A8;&#x6001; IP&#xFF0C;&#x8BBF;&#x95EE;&#x5916;&#x90E8;&#x7F51;&#x7EDC;&#x5219;&#x662F;&#x5C06;&#x8BF7;&#x6C42;&#x53D1;&#x9001;&#x7ED9; NAT &#x8BBE;&#x5907;&#x3002;</p>
<p>&#x4F46;&#x670D;&#x52A1;&#x5668;&#x63D0;&#x4F9B;&#x670D;&#x52A1;&#x7684;&#x524D;&#x63D0;&#x662F;&#x7528;&#x6237;&#x80FD;&#x5728;&#x4E00;&#x4E2A;&#x56FA;&#x5B9A;&#x7684;&#x5730;&#x65B9;&#x627E;&#x5230;&#x670D;&#x52A1;&#x5668;&#xFF0C;&#x663E;&#x7136;&#x52A8;&#x6001;&#x53D8;&#x5316;&#x7684; IP &#x5730;&#x5740;&#x662F;&#x4E0D;&#x80FD;&#x6EE1;&#x8DB3;&#x8981;&#x6C42;&#x7684;&#x3002;&#x6240;&#x4EE5;&#x6211;&#x4EEC;&#x9700;&#x8981;&#x5C06;&#x670D;&#x52A1;&#x5668;&#x5728;&#x865A;&#x62DF;&#x7F51;&#x7EDC;&#x4E2D;&#x7684; IP &#x5730;&#x5740;&#x56FA;&#x5B9A;&#xFF0C;&#x5B9E;&#x73B0;&#x5BA2;&#x6237;&#x5BF9;&#x670D;&#x52A1;&#x5668;&#x7684;&#x7A33;&#x5B9A;&#x8BBF;&#x95EE;&#x3002;</p>
<h2 id="&#x56FA;&#x5B9A;-IP-&#x5730;&#x5740;"><a href="#&#x56FA;&#x5B9A;-IP-&#x5730;&#x5740;" class="headerlink" title="&#x56FA;&#x5B9A; IP &#x5730;&#x5740;"></a>&#x56FA;&#x5B9A; IP &#x5730;&#x5740;</h2><p>Ubuntu Server &#x7684;&#x7F51;&#x7EDC;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x4F4D;&#x4E8E; <code>/etc/netplan</code> &#x4E0B;&#xFF0C;&#x4EE5; <code>.yaml</code> &#x4E3A;&#x540E;&#x7F00;&#xFF0C;&#x5E38;&#x7528;&#x7F51;&#x7EDC;&#x914D;&#x7F6E;&#x6A21;&#x677F;&#x53EF;&#x4EE5;&#x5728; <a href="/external_links/21501afbb801b674f60e83f5300d7d31.html" target="blank" rel="noopener">netplan</a> &#x627E;&#x5230;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">YAML&#x590D;&#x5236;&#x4EE3;&#x7801;network:</span><br><span class="line">  version: 2</span><br><span class="line">  renderer: networkd</span><br><span class="line">  ethernets:</span><br><span class="line">    &lt;&#x7F51;&#x5361;&#x540D;&#x79F0;&gt;:</span><br><span class="line">      addresses:</span><br><span class="line">        - &lt;&#x9759;&#x6001; IP&gt;</span><br><span class="line">      nameservers:</span><br><span class="line">        addresses: [&lt;DNS &#x670D;&#x52A1;&#x5668; IP&gt;]</span><br><span class="line">      routes:</span><br><span class="line">        - to: 0.0.0.0/0</span><br><span class="line">          via: &lt;&#x8DEF;&#x7531;&#x5668; IP&gt;</span><br></pre></td></tr></table></figure>

<p>&#x4F46;&#x6709;&#x4E9B;&#x9EBB;&#x70E6;&#x7684;&#x662F;&#xFF0C;VMware Player &#x6CA1;&#x6709;&#x5F00;&#x653E;&#x5BF9;&#x865A;&#x62DF;&#x7F51;&#x7EDC;&#x8FDB;&#x884C;&#x81EA;&#x5B9A;&#x4E49;&#x7684;&#x529F;&#x80FD;&#xFF08;&#x8BE5;&#x529F;&#x80FD;&#x5728;&#x4ED8;&#x8D39;&#x7684; VMware Workstation Pro &#x4E0A;&#x5F00;&#x653E;&#xFF09;&#xFF0C;&#x6240;&#x4EE5;&#x6211;&#x4EEC;&#x9700;&#x8981;&#x67E5;&#x8BE2;&#x9ED8;&#x8BA4; NAT &#x865A;&#x62DF;&#x7F51;&#x7EDC;&#x4E2D;&#x4F7F;&#x7528;&#x7684;&#x76F8;&#x5173;&#x7F51;&#x7EDC;&#x4FE1;&#x606F;&#xFF0C;&#x5E76;&#x4F9D;&#x636E;&#x8FD9;&#x4E9B;&#x4FE1;&#x606F;&#x586B;&#x5145;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x3002;</p>
<ol>
<li>&#x67E5;&#x8BE2;&#x670D;&#x52A1;&#x5668;&#x7F51;&#x5361;&#x540D;&#x79F0;&#x548C;&#x5F53;&#x524D; IP &#x5730;&#x5740;&#xFF1A;<code>ip address</code></li>
</ol>
<p><img src="https://gitee.com/songjianzaina/juejin_p7/raw/master/img/fc82bb49d2459818b8e4eaf013b0e70d5ee5e469fffdbaacc0328ba6466aa627" alt="IP.png"></p>
<pre><code>* &#x7F51;&#x5361;&#x540D;&#x79F0;&#xFF1A;`ens32`
* &#x670D;&#x52A1;&#x5668; IP &#x5730;&#x5740;&#xFF1A;`192.168.70.128/24`&#xFF08;&#x56E0;&#x4E3A;&#x865A;&#x62DF;&#x7F51;&#x7EDC;&#x7684;&#x89C4;&#x6A21;&#x5F88;&#x5C0F;&#xFF0C;&#x6211;&#x4EEC;&#x53EA;&#x914D;&#x7F6E; IPv4&#xFF09;</code></pre><ol start="2">
<li>&#x67E5;&#x8BE2; NAT &#x8BBE;&#x5907;&#x4FE1;&#x606F;&#xFF1A;<code>ip router</code></li>
</ol>
<p><img src="https://gitee.com/songjianzaina/juejin_p7/raw/master/img/78d433177e14e29509ffe571366d2555657da8d12f70695914baf8d7823ea1ad" alt="route.png"></p>
<pre><code>* NAT &#x8BBE;&#x5907; IP &#x5730;&#x5740;&#xFF1A;`192.168.70.2`</code></pre><ol start="3">
<li>&#x586B;&#x5199;&#x7F51;&#x5361;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#xFF1A;<code>sudo vim /etc/netplan/*.yaml</code>&#xFF08;&#x8FD9;&#x91CC;&#x6211;&#x4F7F;&#x7528;&#x7684;&#x662F; vim&#xFF0C;&#x5927;&#x5BB6;&#x4E5F;&#x53EF;&#x4EE5;&#x4F7F;&#x7528; nano &#x7B49;&#x5176;&#x5B83;&#x7F16;&#x8F91;&#x5668;&#xFF09;</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">YAML&#x590D;&#x5236;&#x4EE3;&#x7801;network:</span><br><span class="line">  version: 2</span><br><span class="line">  renderer: networkd</span><br><span class="line">  ethernets:</span><br><span class="line">    ens32:</span><br><span class="line">      addresses:</span><br><span class="line">        - 192.168.70.128/24</span><br><span class="line">      nameservers:</span><br><span class="line">        # &#x963F;&#x91CC;&#x516C;&#x5171; DNS</span><br><span class="line">        addresses: [223.5.5.5, 223.6.6.6]</span><br><span class="line">      routes:</span><br><span class="line">        - to: 0.0.0.0/0</span><br><span class="line">          via: 192.168.70.2</span><br></pre></td></tr></table></figure>

<p><img src="https://gitee.com/songjianzaina/juejin_p7/raw/master/img/73da761c3a589067bc9849491c77efcade1add27af9e043bdda536e92c2a28f0" alt="&#x4FEE;&#x6539;&#x914D;&#x7F6E;.png"><br>&#x6CE8;&#x610F;&#x8BE5;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x5BF9;&#x7F29;&#x8FDB;&#x7684;&#x8981;&#x6C42;&#x975E;&#x5E38;&#x9AD8;&#xFF0C;&#x5927;&#x5BB6;&#x5728;&#x586B;&#x5199;&#x7684;&#x65F6;&#x5019;&#x4E00;&#x5B9A;&#x8981;&#x4ED4;&#x7EC6;<br>4. &#x6D4B;&#x8BD5;&#x7F51;&#x7EDC;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x4E2D;&#x662F;&#x5426;&#x5B58;&#x5728;&#x9519;&#x8BEF;: <code>sudo netplan try</code>&#xFF08;&#x82E5;&#x4E0D;&#x5B58;&#x5728;&#x9519;&#x8BEF;&#x5219;&#x4F1A;&#x63D0;&#x793A;&#x662F;&#x5426;&#x5E94;&#x7528;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#xFF09;</p>
<p><img src="https://gitee.com/songjianzaina/juejin_p7/raw/master/img/d003340577af64c987fb5039f5008d95fced3316a05ccf40b18a1138619867ba" alt="&#x5C1D;&#x8BD5;&#x914D;&#x7F6E;.png"><br>5. &#x67E5;&#x770B;&#x914D;&#x7F6E;&#x662F;&#x5426;&#x751F;&#x6548;&#xFF08;&#x56E0;&#x4E3A;&#x5927;&#x90E8;&#x5206;&#x7F51;&#x7EDC;&#x4FE1;&#x606F;&#x90FD;&#x662F;&#x4FDD;&#x6301;&#x539F;&#x72B6;&#xFF0C;&#x6211;&#x4EEC;&#x901A;&#x8FC7;&#x67E5;&#x770B; DNS &#x4FE1;&#x606F;&#x6765;&#x5224;&#x65AD;&#xFF09;&#xFF1A;<code>systemd-resolve --status</code></p>
<p><img src="https://gitee.com/songjianzaina/juejin_p7/raw/master/img/acd57f89557d2bda6ee30f55c081587a484ad539c6144da3989e29c0bb972f0e" alt="DNS.png"><br>6. &#x4E3A;&#x4E86;&#x4FDD;&#x9669;&#x8D77;&#x89C1;&#xFF0C;&#x6211;&#x5C06;&#x670D;&#x52A1;&#x5668;&#x91CD;&#x542F;&#x540E;&#x518D;&#x6D4B;&#x8BD5;&#x7F51;&#x7EDC;&#x60C5;&#x51B5;</p>
<pre><code>* IP &#x5730;&#x5740;&#xFF1A;


![&#x91CD;&#x542F;IP.png](https://gitee.com/songjianzaina/juejin_p7/raw/master/img/85b214394238ce94688ad8d8b4b0f5e0f69a24091367bb23aa74ab21a8c1e7d2)
* DNS &#x670D;&#x52A1;&#x5668;&#xFF1A;


![&#x91CD;&#x542F;DNS.png](https://gitee.com/songjianzaina/juejin_p7/raw/master/img/cbbb9817cebbeae06c2c09bc097c3f6ef19963ccc50a9d4dd8d85b25710dba0b)
* &#x8BBF;&#x95EE;&#x5916;&#x90E8;&#x7F51;&#x7EDC;&#xFF1A;


![&#x5916;&#x90E8;&#x7F51;&#x7EDC;.png](https://gitee.com/songjianzaina/juejin_p7/raw/master/img/413373170fb39f5cdd393b1918bf6bcf85f4193797c9d911e6aaa309c339fcbe)
* &#x4E3B;&#x673A;&#x8BBF;&#x95EE;&#xFF1A;


![&#x5BBF;&#x4E3B;&#x673A;&#x8BBF;&#x95EE;.png](https://gitee.com/songjianzaina/juejin_p7/raw/master/img/e072bd76fccafb9fa35ba0d9253821b526d01ac21d466aee76493fb49721f24a)</code></pre><h2 id="&#x603B;&#x7ED3;"><a href="#&#x603B;&#x7ED3;" class="headerlink" title="&#x603B;&#x7ED3;"></a>&#x603B;&#x7ED3;</h2><p>&#x5728;&#x672C;&#x7BC7;&#x6587;&#x7AE0;&#x4E2D;&#xFF0C;&#x6211;&#x4EEC;&#x4ECE;&#x5206;&#x6790;&#x7F51;&#x7EDC;&#x7ED3;&#x6784;&#x5F00;&#x59CB;&#xFF0C;&#x4E00;&#x6B65;&#x6B65;&#x5730;&#x6210;&#x529F;&#x5C06;&#x670D;&#x52A1;&#x5668;&#x5728;&#x865A;&#x62DF;&#x7F51;&#x7EDC;&#x4E2D;&#x7684; IP &#x5730;&#x5740;&#x56FA;&#x5B9A;&#xFF01;&#x73B0;&#x5728;&#x4F4D;&#x4E8E;&#x865A;&#x62DF;&#x7F51;&#x7EDC;&#x4E2D;&#x7684;&#x4EFB;&#x4F55;&#x7528;&#x6237;&#x90FD;&#x53EF;&#x4EE5;&#x901A;&#x8FC7; <code>192.168.70.128</code> &#x8FD9;&#x4E2A; IP &#x5730;&#x5740;&#x5BF9;&#x6211;&#x4EEC;&#x7684;&#x670D;&#x52A1;&#x5668;&#x8FDB;&#x884C;&#x8BBF;&#x95EE;&#x3002;&#x4F46;&#x5728;&#x670D;&#x52A1;&#x5668;&#x4E3A;&#x7528;&#x6237;&#x63D0;&#x4F9B;&#x670D;&#x52A1;&#x4E4B;&#x524D;&#xFF0C;&#x6211;&#x4EEC;&#x5148;&#x5F97;&#x914D;&#x7F6E;&#x597D;&#x6211;&#x4EEC;&#x5F00;&#x53D1;&#x8005;&#x9700;&#x8981;&#x7684;&#x670D;&#x52A1;&#x3002;</p>
<p>&#x5728;&#x4E0B;&#x4E00;&#x7BC7;&#x6587;&#x7AE0;&#x4E2D;&#xFF0C;&#x6211;&#x4EEC;&#x5C06;&#x901A;&#x8FC7; SSH &#x5B9E;&#x73B0;&#x672C;&#x5730;&#x673A;&#x5668;&#x5BF9;&#x670D;&#x52A1;&#x5668;&#x7684;&#x8FDC;&#x7A0B;&#x767B;&#x5F55;&#x8BBF;&#x95EE;&#xFF0C;&#x5C31;&#x50CF;&#x5B9E;&#x9645;&#x5F00;&#x53D1;&#x4E2D;&#x8BBF;&#x95EE;&#x670D;&#x52A1;&#x5668;&#x4E00;&#x6837;&#xFF01;</p>
<p><strong>&#x672C;&#x6587;&#x8F6C;&#x8F7D;&#x81EA;:</strong> <a href="/external_links/f45785b9319800d713f7564fec435b9f.html" target="blank" rel="noopener">&#x6398;&#x91D1;</a></p>
<p><em><a href="https://dev.newban.cn/">&#x5F00;&#x53D1;&#x8005;&#x535A;&#x5BA2; &#x2013; &#x548C;&#x5F00;&#x53D1;&#x76F8;&#x5173;&#x7684; &#x8FD9;&#x91CC;&#x5168;&#x90FD;&#x6709;</a></em></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://dev.newban.cn../../7034425307255963662.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="开发者博客">
      <meta itemprop="description" content>
      <meta itemprop="image" content="../../images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="开发者博客 – IT技术 尽在开发者博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="../../7034425307255963662.html" itemprop="url">刷了点力扣，来看看Arrayssort的原理吧</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2021-11-25T16:44:02+08:00">
                2021-11-25
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>&#x300C;&#x8FD9;&#x662F;&#x6211;&#x53C2;&#x4E0E;11&#x6708;&#x66F4;&#x6587;&#x6311;&#x6218;&#x7684;&#x7B2C;5&#x5929;&#xFF0C;&#x6D3B;&#x52A8;&#x8BE6;&#x60C5;&#x67E5;&#x770B;&#xFF1A;<a href="https://dev.newban.cn/7023643374569816095/">2021&#x6700;&#x540E;&#x4E00;&#x6B21;&#x66F4;&#x6587;&#x6311;&#x6218;</a>&#x300D;</p>
<p>hi &#xFF0C;&#x5927;&#x5BB6;&#x597D;&#xFF0C;&#x6211;&#x662F;&#x4E09;&#x5929;&#x6253;&#x9C7C;&#xFF0C;&#x4E24;&#x5929;&#x6652;&#x7F51;&#x7684;&#x5C0F;&#x516D;&#x516D;</p>
<h2 id="&#x524D;&#x8A00;"><a href="#&#x524D;&#x8A00;" class="headerlink" title="&#x524D;&#x8A00;"></a>&#x524D;&#x8A00;</h2><blockquote>
<p>&#x6587;&#x672C;&#x5DF2;&#x6536;&#x5F55;&#x81F3;&#x6211;&#x7684;GitHub&#x4ED3;&#x5E93;&#xFF0C;&#x6B22;&#x8FCE;Star&#xFF1A;<a href="/external_links/a9c01380b24af585d8489da99541be9e.html" target="blank" rel="noopener">github.com/bin39232820&#x2026;</a>  </p>
<p><strong>&#x79CD;&#x4E00;&#x68F5;&#x6811;&#x6700;&#x597D;&#x7684;&#x65F6;&#x95F4;&#x662F;&#x5341;&#x5E74;&#x524D;&#xFF0C;&#x5176;&#x6B21;&#x662F;&#x73B0;&#x5728;</strong></p>
</blockquote>
<p>&#x6700;&#x8FD1;&#x5C0F;&#x516D;&#x516D;&#x4E1A;&#x4F59;&#x65F6;&#x95F4;&#x90FD;&#x4F1A;&#x5237;&#x70B9;&#x7B97;&#x6CD5;&#xFF0C;&#x81F3;&#x4E8E;&#x539F;&#x56E0;&#x5F53;&#x7136;&#x662F;&#x5C0F;&#x516D;&#x516D;&#x592A;&#x83DC;&#x4E86;&#xFF0C;&#x54C8;&#x54C8;&#xFF0C;&#x662F;&#x771F;&#x7684;&#x83DC;&#xFF0C;&#x4E0D;&#x8FC7;&#x5237;&#x4E86;&#x4E00;&#x4E9B;&#x9898;&#x540E;&#xFF0C;&#x53D1;&#x73B0;&#x81EA;&#x5DF1;&#x7684;&#x8111;&#x5B50;&#x4E0D;&#x90A3;&#x4E48;&#x50BB;&#x4E86;&#xFF0C;&#x770B;&#x6765;&#x5237;&#x529B;&#x6263;&#x8FD8;&#x662F;&#x6709;&#x52A9;&#x4E8E;&#x601D;&#x7EF4;&#x7684;&#x63D0;&#x5347;&#xFF0C;&#x5EFA;&#x8BAE;&#x5927;&#x5BB6;&#x4E1A;&#x4F59;&#x7684;&#x65F6;&#x5019;&#x5237;&#x5237;&#xFF0C;&#x5F53;&#x7136;&#x7B97;&#x6CD5;&#x601D;&#x7EF4;&#x5BF9;&#x4E8E;&#x6211;&#x4EEC;&#x5199;&#x7684;&#x4EE3;&#x7801;&#x7684;&#x6027;&#x80FD;&#x4E5F;&#x662F;&#x6709;&#x5E2E;&#x52A9;&#x7684;&#x5462;&#xFF1F;&#x5237;&#x529B;&#x6263;&#x7684;&#x8FC7;&#x7A0B;&#x4E2D;&#xFF0C;&#x7ECF;&#x5E38;&#x4F1A;&#x7528;&#x5230;Arrays.sort&#x8FD9;&#x4E2A;&#x65B9;&#x6CD5;&#xFF0C;&#x4ECA;&#x5929;&#x5C0F;&#x516D;&#x516D;&#x5C31;&#x7ED9;&#x5927;&#x5BB6;&#x5206;&#x4EAB;&#x5206;&#x4EAB;&#x8FD9;&#x4E2A;&#x65B9;&#x6CD5;&#xFF0C;&#x770B;&#x770B;Java&#x7684;JDK&#x662F;&#x600E;&#x4E48;&#x53BB;&#x505A;&#x6392;&#x5E8F;&#x7684;</p>
<p><img src="https://gitee.com/songjianzaina/juejin_p6/raw/master/img/fa564c665ac42a576f80325e9d8580c29e9a880f53178918a6c0ea8c7c984931" alt="image.png"></p>
<h2 id="&#x5E38;&#x89C1;&#x7684;&#x6392;&#x5E8F;&#x7B97;&#x6CD5;"><a href="#&#x5E38;&#x89C1;&#x7684;&#x6392;&#x5E8F;&#x7B97;&#x6CD5;" class="headerlink" title="&#x5E38;&#x89C1;&#x7684;&#x6392;&#x5E8F;&#x7B97;&#x6CD5;"></a>&#x5E38;&#x89C1;&#x7684;&#x6392;&#x5E8F;&#x7B97;&#x6CD5;</h2><p>&#x8981;&#x4E86;&#x89E3;Arrays.sort&#x7684;&#x5E95;&#x5C42;&#x539F;&#x7406;&#xFF0C;&#x6211;&#x4EEC;&#x5148;&#x6765;&#x770B;&#x770B;&#x6211;&#x4EEC;&#x8033;&#x719F;&#x80FD;&#x8BE6;&#x7684;&#x6392;&#x5E8F;&#x7B97;&#x6CD5;&#x5427;&#xFF0C;&#x8FD9;&#x8FB9;&#x53EA;&#x662F;&#x5927;&#x6982;&#x7684;&#x63D0;&#x63D0;&#x8FD9;&#x4E9B;&#x7B97;&#x6CD5;&#xFF0C;&#x6211;&#x4EEC;&#x4E00;&#x822C;&#x5728;&#x5F00;&#x53D1;&#x7684;&#x8FC7;&#x7A0B;&#x4E2D;&#xFF0C;&#x4F1A;&#x78B0;&#x5230;&#x4EE5;&#x4E0B;&#x7684;&#x6392;&#x5E8F;&#x7B97;&#x6CD5;</p>
<h3 id="&#x7B97;&#x6CD5;&#x4E00;&#xFF1A;&#x63D2;&#x5165;&#x6392;&#x5E8F;"><a href="#&#x7B97;&#x6CD5;&#x4E00;&#xFF1A;&#x63D2;&#x5165;&#x6392;&#x5E8F;" class="headerlink" title="&#x7B97;&#x6CD5;&#x4E00;&#xFF1A;&#x63D2;&#x5165;&#x6392;&#x5E8F;"></a><strong>&#x7B97;&#x6CD5;&#x4E00;&#xFF1A;&#x63D2;&#x5165;&#x6392;&#x5E8F;</strong></h3><p>&#x63D2;&#x5165;&#x6392;&#x5E8F;&#x793A;&#x610F;&#x56FE;</p>
<p><img src="https://gitee.com/songjianzaina/juejin_p6/raw/master/img/0af31d5f21ffd28349b33b2dfa2f717f01d8028fa8a9d4f839cd6500b36c9051" alt="g7pk0bpfgb.gif"></p>
<p>&#x63D2;&#x5165;&#x6392;&#x5E8F;&#x662F;&#x4E00;&#x79CD;&#x6700;&#x7B80;&#x5355;&#x76F4;&#x89C2;&#x7684;&#x6392;&#x5E8F;&#x7B97;&#x6CD5;&#xFF0C;&#x5B83;&#x7684;&#x5DE5;&#x4F5C;&#x539F;&#x7406;&#x662F;&#x901A;&#x8FC7;&#x6784;&#x5EFA;&#x6709;&#x5E8F;&#x5E8F;&#x5217;&#xFF0C;&#x5BF9;&#x4E8E;&#x672A;&#x6392;&#x5E8F;&#x6570;&#x636E;&#xFF0C;&#x5728;&#x5DF2;&#x6392;&#x5E8F;&#x5E8F;&#x5217;&#x4E2D;&#x4ECE;&#x540E;&#x5411;&#x524D;&#x626B;&#x63CF;&#xFF0C;&#x627E;&#x5230;&#x76F8;&#x5E94;&#x4F4D;&#x7F6E;&#x5E76;&#x63D2;&#x5165;&#x3002;</p>
<p><strong>&#x7B97;&#x6CD5;&#x6B65;&#x9AA4;&#xFF1A;</strong></p>
<p>1&#xFF09;&#x5C06;&#x7B2C;&#x4E00;&#x5F85;&#x6392;&#x5E8F;&#x5E8F;&#x5217;&#x7B2C;&#x4E00;&#x4E2A;&#x5143;&#x7D20;&#x770B;&#x505A;&#x4E00;&#x4E2A;&#x6709;&#x5E8F;&#x5E8F;&#x5217;&#xFF0C;&#x628A;&#x7B2C;&#x4E8C;&#x4E2A;&#x5143;&#x7D20;&#x5230;&#x6700;&#x540E;&#x4E00;&#x4E2A;&#x5143;&#x7D20;&#x5F53;&#x6210;&#x662F;&#x672A;&#x6392;&#x5E8F;&#x5E8F;&#x5217;&#x3002;</p>
<p>2&#xFF09;&#x4ECE;&#x5934;&#x5230;&#x5C3E;&#x4F9D;&#x6B21;&#x626B;&#x63CF;&#x672A;&#x6392;&#x5E8F;&#x5E8F;&#x5217;&#xFF0C;&#x5C06;&#x626B;&#x63CF;&#x5230;&#x7684;&#x6BCF;&#x4E2A;&#x5143;&#x7D20;&#x63D2;&#x5165;&#x6709;&#x5E8F;&#x5E8F;&#x5217;&#x7684;&#x9002;&#x5F53;&#x4F4D;&#x7F6E;&#x3002;&#xFF08;&#x5982;&#x679C;&#x5F85;&#x63D2;&#x5165;&#x7684;&#x5143;&#x7D20;&#x4E0E;&#x6709;&#x5E8F;&#x5E8F;&#x5217;&#x4E2D;&#x7684;&#x67D0;&#x4E2A;&#x5143;&#x7D20;&#x76F8;&#x7B49;&#xFF0C;&#x5219;&#x5C06;&#x5F85;&#x63D2;&#x5165;&#x5143;&#x7D20;&#x63D2;&#x5165;&#x5230;&#x76F8;&#x7B49;&#x5143;&#x7D20;&#x7684;&#x540E;&#x9762;&#x3002;&#xFF09;</p>
<h3 id="&#x7B97;&#x6CD5;&#x4E8C;&#xFF1A;&#x9009;&#x62E9;&#x6392;&#x5E8F;"><a href="#&#x7B97;&#x6CD5;&#x4E8C;&#xFF1A;&#x9009;&#x62E9;&#x6392;&#x5E8F;" class="headerlink" title="&#x7B97;&#x6CD5;&#x4E8C;&#xFF1A;&#x9009;&#x62E9;&#x6392;&#x5E8F;"></a><strong>&#x7B97;&#x6CD5;&#x4E8C;&#xFF1A;&#x9009;&#x62E9;&#x6392;&#x5E8F;</strong></h3><p>&#x9009;&#x62E9;&#x6392;&#x5E8F;&#x793A;&#x610F;&#x56FE;</p>
<p><img src="https://gitee.com/songjianzaina/juejin_p6/raw/master/img/8cb27a1becb7304969f2ee9109bcf300e4e24472815eaefc7fd782ce20d03883" alt="c3kk4nrkcz.gif"></p>
<p><strong>&#x9009;&#x62E9;&#x6392;&#x5E8F;</strong><br>(Selection sort)&#x4E5F;&#x662F;&#x4E00;&#x79CD;&#x7B80;&#x5355;&#x76F4;&#x89C2;&#x7684;&#x6392;&#x5E8F;&#x7B97;&#x6CD5;&#x3002;</p>
<p><strong>&#x7B97;&#x6CD5;&#x6B65;&#x9AA4;&#xFF1A;</strong></p>
<p>1&#xFF09;&#x9996;&#x5148;&#x5728;&#x672A;&#x6392;&#x5E8F;&#x5E8F;&#x5217;&#x4E2D;&#x627E;&#x5230;&#x6700;&#x5C0F;&#xFF08;&#x5927;&#xFF09;&#x5143;&#x7D20;&#xFF0C;&#x5B58;&#x653E;&#x5230;&#x6392;&#x5E8F;&#x5E8F;&#x5217;&#x7684;&#x8D77;&#x59CB;&#x4F4D;&#x7F6E;</p>
<p>2&#xFF09;&#x518D;&#x4ECE;&#x5269;&#x4F59;&#x672A;&#x6392;&#x5E8F;&#x5143;&#x7D20;&#x4E2D;&#x7EE7;&#x7EED;&#x5BFB;&#x627E;&#x6700;&#x5C0F;&#xFF08;&#x5927;&#xFF09;&#x5143;&#x7D20;&#xFF0C;&#x7136;&#x540E;&#x653E;&#x5230;&#x5DF2;&#x6392;&#x5E8F;&#x5E8F;&#x5217;&#x7684;&#x672B;&#x5C3E;&#x3002;</p>
<p>3&#xFF09;&#x91CD;&#x590D;&#x7B2C;&#x4E8C;&#x6B65;&#xFF0C;&#x76F4;&#x5230;&#x6240;&#x6709;&#x5143;&#x7D20;&#x5747;&#x6392;&#x5E8F;&#x5B8C;&#x6BD5;&#x3002;</p>
<h3 id="&#x7B97;&#x6CD5;&#x4E09;&#xFF1A;&#x5192;&#x6CE1;&#x6392;&#x5E8F;"><a href="#&#x7B97;&#x6CD5;&#x4E09;&#xFF1A;&#x5192;&#x6CE1;&#x6392;&#x5E8F;" class="headerlink" title="&#x7B97;&#x6CD5;&#x4E09;&#xFF1A;&#x5192;&#x6CE1;&#x6392;&#x5E8F;"></a><strong>&#x7B97;&#x6CD5;&#x4E09;&#xFF1A;&#x5192;&#x6CE1;&#x6392;&#x5E8F;</strong></h3><p>&#x5192;&#x6CE1;&#x6392;&#x5E8F;&#x793A;&#x610F;&#x56FE;</p>
<p><img src="https://gitee.com/songjianzaina/juejin_p6/raw/master/img/eed29c60e53821722d7576487f30d4d4604226ce091c8bf841dc7de2996cae01" alt="j6bz6vne4q.gif"></p>
<p><strong>&#x5192;&#x6CE1;&#x6392;&#x5E8F;</strong>&#xFF08;Bubble Sort&#xFF09;&#x4E5F;&#x662F;&#x4E00;&#x79CD;&#x7B80;&#x5355;&#x76F4;&#x89C2;&#x7684;&#x6392;&#x5E8F;&#x7B97;&#x6CD5;&#x3002;&#x5B83;&#x91CD;&#x590D;&#x5730;&#x8D70;&#x8BBF;&#x8FC7;&#x8981;&#x6392;&#x5E8F;&#x7684;&#x6570;&#x5217;&#xFF0C;&#x4E00;&#x6B21;&#x6BD4;&#x8F83;&#x4E24;&#x4E2A;&#x5143;&#x7D20;&#xFF0C;&#x5982;&#x679C;&#x4ED6;&#x4EEC;&#x7684;&#x987A;&#x5E8F;&#x9519;&#x8BEF;&#x5C31;&#x628A;&#x4ED6;&#x4EEC;&#x4EA4;&#x6362;&#x8FC7;&#x6765;&#x3002;&#x8D70;&#x8BBF;&#x6570;&#x5217;&#x7684;&#x5DE5;&#x4F5C;&#x662F;&#x91CD;&#x590D;&#x5730;&#x8FDB;&#x884C;&#x76F4;&#x5230;&#x6CA1;&#x6709;&#x518D;&#x9700;&#x8981;&#x4EA4;&#x6362;&#xFF0C;&#x4E5F;&#x5C31;&#x662F;&#x8BF4;&#x8BE5;&#x6570;&#x5217;&#x5DF2;&#x7ECF;&#x6392;&#x5E8F;&#x5B8C;&#x6210;&#x3002;&#x8FD9;&#x4E2A;&#x7B97;&#x6CD5;&#x7684;&#x540D;&#x5B57;&#x7531;&#x6765;&#x662F;&#x56E0;&#x4E3A;&#x8D8A;&#x5C0F;&#x7684;&#x5143;&#x7D20;&#x4F1A;&#x7ECF;&#x7531;&#x4EA4;&#x6362;&#x6162;&#x6162;&#x201C;&#x6D6E;&#x201D;&#x5230;&#x6570;&#x5217;&#x7684;&#x9876;&#x7AEF;&#x3002;</p>
<p><strong>&#x7B97;&#x6CD5;&#x6B65;&#x9AA4;&#xFF1A;</strong></p>
<p>1&#xFF09;&#x6BD4;&#x8F83;&#x76F8;&#x90BB;&#x7684;&#x5143;&#x7D20;&#x3002;&#x5982;&#x679C;&#x7B2C;&#x4E00;&#x4E2A;&#x6BD4;&#x7B2C;&#x4E8C;&#x4E2A;&#x5927;&#xFF0C;&#x5C31;&#x4EA4;&#x6362;&#x4ED6;&#x4EEC;&#x4E24;&#x4E2A;&#x3002;</p>
<p>2&#xFF09;&#x5BF9;&#x6BCF;&#x4E00;&#x5BF9;&#x76F8;&#x90BB;&#x5143;&#x7D20;&#x4F5C;&#x540C;&#x6837;&#x7684;&#x5DE5;&#x4F5C;&#xFF0C;&#x4ECE;&#x5F00;&#x59CB;&#x7B2C;&#x4E00;&#x5BF9;&#x5230;&#x7ED3;&#x5C3E;&#x7684;&#x6700;&#x540E;&#x4E00;&#x5BF9;&#x3002;&#x8FD9;&#x6B65;&#x505A;&#x5B8C;&#x540E;&#xFF0C;&#x6700;&#x540E;&#x7684;&#x5143;&#x7D20;&#x4F1A;&#x662F;&#x6700;&#x5927;&#x7684;&#x6570;&#x3002;</p>
<p>3&#xFF09;&#x9488;&#x5BF9;&#x6240;&#x6709;&#x7684;&#x5143;&#x7D20;&#x91CD;&#x590D;&#x4EE5;&#x4E0A;&#x7684;&#x6B65;&#x9AA4;&#xFF0C;&#x9664;&#x4E86;&#x6700;&#x540E;&#x4E00;&#x4E2A;&#x3002;</p>
<p>4&#xFF09;&#x6301;&#x7EED;&#x6BCF;&#x6B21;&#x5BF9;&#x8D8A;&#x6765;&#x8D8A;&#x5C11;&#x7684;&#x5143;&#x7D20;&#x91CD;&#x590D;&#x4E0A;&#x9762;&#x7684;&#x6B65;&#x9AA4;&#xFF0C;&#x76F4;&#x5230;&#x6CA1;&#x6709;&#x4EFB;&#x4F55;&#x4E00;&#x5BF9;&#x6570;&#x5B57;&#x9700;&#x8981;&#x6BD4;&#x8F83;&#x3002;</p>
<h3 id="&#x7B97;&#x6CD5;&#x56DB;&#xFF1A;&#x5F52;&#x5E76;&#x6392;&#x5E8F;"><a href="#&#x7B97;&#x6CD5;&#x56DB;&#xFF1A;&#x5F52;&#x5E76;&#x6392;&#x5E8F;" class="headerlink" title="&#x7B97;&#x6CD5;&#x56DB;&#xFF1A;&#x5F52;&#x5E76;&#x6392;&#x5E8F;"></a><strong>&#x7B97;&#x6CD5;&#x56DB;&#xFF1A;&#x5F52;&#x5E76;&#x6392;&#x5E8F;</strong></h3><p>&#x5F52;&#x5E76;&#x6392;&#x5E8F;&#x793A;&#x610F;&#x56FE;</p>
<p><img src="https://gitee.com/songjianzaina/juejin_p6/raw/master/img/5915a5318180b957e6d7591bbfe60ca675de5008e90143b126d66ac828e945e6" alt="s79zjg4atb.gif"></p>
<p><strong>&#x5F52;&#x5E76;&#x6392;&#x5E8F;</strong>&#xFF08;Merge sort&#xFF09;&#x662F;&#x5EFA;&#x7ACB;&#x5728;&#x5F52;&#x5E76;&#x64CD;&#x4F5C;&#x4E0A;&#x7684;&#x4E00;&#x79CD;&#x6709;&#x6548;&#x7684;&#x6392;&#x5E8F;&#x7B97;&#x6CD5;&#x3002;&#x8BE5;&#x7B97;&#x6CD5;&#x662F;&#x91C7;&#x7528;&#x5206;&#x6CBB;&#x6CD5;&#xFF08;Divide and Conquer&#xFF09;&#x7684;&#x4E00;&#x4E2A;&#x975E;&#x5E38;&#x5178;&#x578B;&#x7684;&#x5E94;&#x7528;&#x3002;</p>
<p><strong>&#x7B97;&#x6CD5;&#x6B65;&#x9AA4;&#xFF1A;</strong></p>
<ol>
<li>&#x7533;&#x8BF7;&#x7A7A;&#x95F4;&#xFF0C;&#x4F7F;&#x5176;&#x5927;&#x5C0F;&#x4E3A;&#x4E24;&#x4E2A;&#x5DF2;&#x7ECF;&#x6392;&#x5E8F;&#x5E8F;&#x5217;&#x4E4B;&#x548C;&#xFF0C;&#x8BE5;&#x7A7A;&#x95F4;&#x7528;&#x6765;&#x5B58;&#x653E;&#x5408;&#x5E76;&#x540E;&#x7684;&#x5E8F;&#x5217;</li>
<li>&#x8BBE;&#x5B9A;&#x4E24;&#x4E2A;&#x6307;&#x9488;&#xFF0C;&#x6700;&#x521D;&#x4F4D;&#x7F6E;&#x5206;&#x522B;&#x4E3A;&#x4E24;&#x4E2A;&#x5DF2;&#x7ECF;&#x6392;&#x5E8F;&#x5E8F;&#x5217;&#x7684;&#x8D77;&#x59CB;&#x4F4D;&#x7F6E;</li>
<li>&#x6BD4;&#x8F83;&#x4E24;&#x4E2A;&#x6307;&#x9488;&#x6240;&#x6307;&#x5411;&#x7684;&#x5143;&#x7D20;&#xFF0C;&#x9009;&#x62E9;&#x76F8;&#x5BF9;&#x5C0F;&#x7684;&#x5143;&#x7D20;&#x653E;&#x5165;&#x5230;&#x5408;&#x5E76;&#x7A7A;&#x95F4;&#xFF0C;&#x5E76;&#x79FB;&#x52A8;&#x6307;&#x9488;&#x5230;&#x4E0B;&#x4E00;&#x4F4D;&#x7F6E;</li>
<li>&#x91CD;&#x590D;&#x6B65;&#x9AA4;3&#x76F4;&#x5230;&#x67D0;&#x4E00;&#x6307;&#x9488;&#x8FBE;&#x5230;&#x5E8F;&#x5217;&#x5C3E;</li>
<li>&#x5C06;&#x53E6;&#x4E00;&#x5E8F;&#x5217;&#x5269;&#x4E0B;&#x7684;&#x6240;&#x6709;&#x5143;&#x7D20;&#x76F4;&#x63A5;&#x590D;&#x5236;&#x5230;&#x5408;&#x5E76;&#x5E8F;&#x5217;&#x5C3E;</li>
</ol>
<h3 id="&#x7B97;&#x6CD5;&#x4E94;&#xFF1A;&#x5FEB;&#x901F;&#x6392;&#x5E8F;"><a href="#&#x7B97;&#x6CD5;&#x4E94;&#xFF1A;&#x5FEB;&#x901F;&#x6392;&#x5E8F;" class="headerlink" title="&#x7B97;&#x6CD5;&#x4E94;&#xFF1A;&#x5FEB;&#x901F;&#x6392;&#x5E8F;"></a><strong>&#x7B97;&#x6CD5;&#x4E94;&#xFF1A;&#x5FEB;&#x901F;&#x6392;&#x5E8F;</strong></h3><p>&#x5FEB;&#x901F;&#x6392;&#x5E8F;&#x793A;&#x610F;&#x56FE;</p>
<p><img src="https://gitee.com/songjianzaina/juejin_p6/raw/master/img/3a2b2523b4110a762afd2152d5cc5d64e6dd6853d2381348cca20d2e9c9fa505" alt="mwh79s0eqx.gif"></p>
<p><strong>&#x5FEB;&#x901F;&#x6392;&#x5E8F;</strong>&#x662F;&#x7531;&#x4E1C;&#x5C3C;&#xB7;&#x970D;&#x5C14;&#x6240;&#x53D1;&#x5C55;&#x7684;&#x4E00;&#x79CD;&#x6392;&#x5E8F;&#x7B97;&#x6CD5;&#x3002;&#x5728;&#x5E73;&#x5747;&#x72B6;&#x51B5;&#x4E0B;&#xFF0C;&#x6392;&#x5E8F; n &#x4E2A;&#x9879;&#x76EE;&#x8981;&#x39F;(n log n)&#x6B21;&#x6BD4;&#x8F83;&#x3002;&#x5728;&#x6700;&#x574F;&#x72B6;&#x51B5;&#x4E0B;&#x5219;&#x9700;&#x8981;&#x39F;(n2)&#x6B21;&#x6BD4;&#x8F83;&#xFF0C;&#x4F46;&#x8FD9;&#x79CD;&#x72B6;&#x51B5;&#x5E76;&#x4E0D;&#x5E38;&#x89C1;&#x3002;&#x4E8B;&#x5B9E;&#x4E0A;&#xFF0C;&#x5FEB;&#x901F;&#x6392;&#x5E8F;&#x901A;&#x5E38;&#x660E;&#x663E;&#x6BD4;&#x5176;&#x4ED6;&#x39F;(n log n) &#x7B97;&#x6CD5;&#x66F4;&#x5FEB;&#xFF0C;&#x56E0;&#x4E3A;&#x5B83;&#x7684;&#x5185;&#x90E8;&#x5FAA;&#x73AF;&#xFF08;inner loop&#xFF09;&#x53EF;&#x4EE5;&#x5728;&#x5927;&#x90E8;&#x5206;&#x7684;&#x67B6;&#x6784;&#x4E0A;&#x5F88;&#x6709;&#x6548;&#x7387;&#x5730;&#x88AB;&#x5B9E;&#x73B0;&#x51FA;&#x6765;&#x3002;</p>
<p>&#x5FEB;&#x901F;&#x6392;&#x5E8F;&#x4F7F;&#x7528;&#x5206;&#x6CBB;&#x6CD5;&#xFF08;Divide and conquer&#xFF09;&#x7B56;&#x7565;&#x6765;&#x628A;&#x4E00;&#x4E2A;&#x4E32;&#x884C;&#xFF08;list&#xFF09;&#x5206;&#x4E3A;&#x4E24;&#x4E2A;&#x5B50;&#x4E32;&#x884C;&#xFF08;sub-lists&#xFF09;&#x3002;</p>
<p><strong>&#x7B97;&#x6CD5;&#x6B65;&#x9AA4;&#xFF1A;</strong></p>
<p>1 &#x4ECE;&#x6570;&#x5217;&#x4E2D;&#x6311;&#x51FA;&#x4E00;&#x4E2A;&#x5143;&#x7D20;&#xFF0C;&#x79F0;&#x4E3A; &#x201C;&#x57FA;&#x51C6;&#x201D;&#xFF08;pivot&#xFF09;&#xFF0C;</p>
<p>2 &#x91CD;&#x65B0;&#x6392;&#x5E8F;&#x6570;&#x5217;&#xFF0C;&#x6240;&#x6709;&#x5143;&#x7D20;&#x6BD4;&#x57FA;&#x51C6;&#x503C;&#x5C0F;&#x7684;&#x6446;&#x653E;&#x5728;&#x57FA;&#x51C6;&#x524D;&#x9762;&#xFF0C;&#x6240;&#x6709;&#x5143;&#x7D20;&#x6BD4;&#x57FA;&#x51C6;&#x503C;&#x5927;&#x7684;&#x6446;&#x5728;&#x57FA;&#x51C6;&#x7684;&#x540E;&#x9762;&#xFF08;&#x76F8;&#x540C;&#x7684;&#x6570;&#x53EF;&#x4EE5;&#x5230;&#x4EFB;&#x4E00;&#x8FB9;&#xFF09;&#x3002;&#x5728;&#x8FD9;&#x4E2A;&#x5206;&#x533A;&#x9000;&#x51FA;&#x4E4B;&#x540E;&#xFF0C;&#x8BE5;&#x57FA;&#x51C6;&#x5C31;&#x5904;&#x4E8E;&#x6570;&#x5217;&#x7684;&#x4E2D;&#x95F4;&#x4F4D;&#x7F6E;&#x3002;&#x8FD9;&#x4E2A;&#x79F0;&#x4E3A;&#x5206;&#x533A;&#xFF08;partition&#xFF09;&#x64CD;&#x4F5C;&#x3002;</p>
<p>3 &#x9012;&#x5F52;&#x5730;&#xFF08;recursive&#xFF09;&#x628A;&#x5C0F;&#x4E8E;&#x57FA;&#x51C6;&#x503C;&#x5143;&#x7D20;&#x7684;&#x5B50;&#x6570;&#x5217;&#x548C;&#x5927;&#x4E8E;&#x57FA;&#x51C6;&#x503C;&#x5143;&#x7D20;&#x7684;&#x5B50;&#x6570;&#x5217;&#x6392;&#x5E8F;&#x3002;</p>
<p>&#x9012;&#x5F52;&#x7684;&#x6700;&#x5E95;&#x90E8;&#x60C5;&#x5F62;&#xFF0C;&#x662F;&#x6570;&#x5217;&#x7684;&#x5927;&#x5C0F;&#x662F;&#x96F6;&#x6216;&#x4E00;&#xFF0C;&#x4E5F;&#x5C31;&#x662F;&#x6C38;&#x8FDC;&#x90FD;&#x5DF2;&#x7ECF;&#x88AB;&#x6392;&#x5E8F;&#x597D;&#x4E86;&#x3002;&#x867D;&#x7136;&#x4E00;&#x76F4;&#x9012;&#x5F52;&#x4E0B;&#x53BB;&#xFF0C;&#x4F46;&#x662F;&#x8FD9;&#x4E2A;&#x7B97;&#x6CD5;&#x603B;&#x4F1A;&#x9000;&#x51FA;&#xFF0C;&#x56E0;&#x4E3A;&#x5728;&#x6BCF;&#x6B21;&#x7684;&#x8FED;&#x4EE3;&#xFF08;iteration&#xFF09;&#x4E2D;&#xFF0C;&#x5B83;&#x81F3;&#x5C11;&#x4F1A;&#x628A;&#x4E00;&#x4E2A;&#x5143;&#x7D20;&#x6446;&#x5230;&#x5B83;&#x6700;&#x540E;&#x7684;&#x4F4D;&#x7F6E;&#x53BB;&#x3002;</p>
<blockquote>
<p>&#x5F53;&#x7136;&#x8FD8;&#x6709;&#x5176;&#x4ED6;&#x7684;&#x51E0;&#x79CD;&#x6392;&#x5E8F;&#x7B97;&#x6CD5;&#xFF0C;&#x5927;&#x5BB6;&#x4E5F;&#x53BB;&#x4E86;&#x89E3;&#x4E0B;&#xFF0C;&#x4F46;&#x662F;&#x6211;&#x4EEC;&#x5E38;&#x7528;&#x7684;&#x5C31;&#x4E0A;&#x9762;5&#x79CD;&#x4E86;</p>
</blockquote>
<h2 id="&#x6765;&#x770B;&#x770B;Arrays-sort&#x548C;Collections-sort&#x5B9E;&#x73B0;&#x539F;&#x7406;&#x89E3;&#x6790;"><a href="#&#x6765;&#x770B;&#x770B;Arrays-sort&#x548C;Collections-sort&#x5B9E;&#x73B0;&#x539F;&#x7406;&#x89E3;&#x6790;" class="headerlink" title="&#x6765;&#x770B;&#x770B;Arrays.sort&#x548C;Collections.sort&#x5B9E;&#x73B0;&#x539F;&#x7406;&#x89E3;&#x6790;"></a>&#x6765;&#x770B;&#x770B;Arrays.sort&#x548C;Collections.sort&#x5B9E;&#x73B0;&#x539F;&#x7406;&#x89E3;&#x6790;</h2><ol>
<li>&#x4E8B;&#x5B9E;&#x4E0A;Collections.sort&#x65B9;&#x6CD5;&#x5E95;&#x5C42;&#x5C31;&#x662F;&#x8C03;&#x7528;&#x7684;array.sort&#x65B9;&#x6CD5;&#xFF0C;&#x800C;&#x4E14;&#x4E0D;&#x8BBA;&#x662F;Collections.sort&#x6216;&#x8005;&#x662F;Arrays.sort&#x65B9;&#x6CD5;&#xFF0C;</li>
<li>&#x8DDF;&#x8E2A;&#x4E0B;&#x6E90;&#x4EE3;&#x7801;&#x5427;&#xFF0C;&#x9996;&#x5148;&#x6211;&#x4EEC;&#x5199;&#x4E2A;demo</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">ini&#x590D;&#x5236;&#x4EE3;&#x7801;</span><br><span class="line">Arrays.sort(nums1);</span><br><span class="line">Arrays.sort(nums2);</span><br><span class="line">int length1 = nums1.length, length2 = nums2.length;</span><br><span class="line">int[] intersection = new int[Math.min(length1, length2)];</span><br><span class="line">int index1 = 0, index2 = 0, index = 0;</span><br><span class="line">while (index1 &lt; length1 &amp;&amp; index2 &lt; length2) {</span><br><span class="line">    if (nums1[index1] &lt; nums2[index2]) {</span><br><span class="line">        index1++;</span><br><span class="line">    } else if (nums1[index1] &gt; nums2[index2]) {</span><br><span class="line">        index2++;</span><br><span class="line">    } else {</span><br><span class="line">        intersection[index] = nums1[index1];</span><br><span class="line">        index1++;</span><br><span class="line">        index2++;</span><br><span class="line">        index++;</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line">return Arrays.copyOfRange(intersection, 0, index);</span><br></pre></td></tr></table></figure>

<ol start="2">
<li>&#x70B9;&#x8FDB;&#x53BB;&#x770B;&#x770B;<br>&#x4E0A;&#x9762;&#x7684;&#x82F1;&#x6587;&#x6CE8;&#x91CA;&#x89E3;&#x91CA;&#xFF1A;<br>&#x5C06;&#x6307;&#x5B9A;&#x7684;&#x6570;&#x7EC4;&#x6309;&#x5347;&#x5E8F;&#x6570;&#x5B57;&#x6392;&#x5E8F;&#x3002;<br>&#x5B9E;&#x73B0;&#x8BF4;&#x660E;:&#x6392;&#x5E8F;&#x7B97;&#x6CD5;&#x662F;&#x7531;Vladimir Yaroslavskiy, Jon Bentley&#x548C;Joshua Bloch&#x8BBE;&#x8BA1;&#x7684;&#x53CC;&#x67A2;&#x8F74;&#x5FEB;&#x901F;&#x6392;&#x5E8F;&#x3002;&#x8BE5;&#x7B97;&#x6CD5;&#x5728;&#x8BB8;&#x591A;&#x6570;&#x636E;&#x96C6;&#x4E0A;&#x63D0;&#x4F9B;&#x4E86;O(n log(n))&#x7684;&#x6027;&#x80FD;&#xFF0C;&#x8FD9;&#x5BFC;&#x81F4;&#x5176;&#x4ED6;&#x5FEB;&#x901F;&#x6392;&#x5E8F;&#x7684;&#x6027;&#x80FD;&#x4E0B;&#x964D;&#x5230;&#x4E8C;&#x6B21;&#x7684;&#x6027;&#x80FD;&#xFF0C;&#x800C;&#x4E14;&#x901A;&#x5E38;&#x6BD4;&#x4F20;&#x7EDF;&#x7684;(&#x5355;&#x8F74;)&#x5FEB;&#x901F;&#x6392;&#x5E8F;&#x5B9E;&#x73B0;&#x66F4;&#x5FEB;&#x3002;</li>
</ol>
<p><img src="https://gitee.com/songjianzaina/juejin_p6/raw/master/img/8d097ca69aaa0069e038b8d42c8294380195bf2e653f376b448e99837c60d6b3" alt="image.png"></p>
<ul>
<li>&#x5FEB;&#x901F;&#x6392;&#x5E8F;&#x4F7F;&#x7528;&#x7684;&#x662F;&#x5206;&#x6CBB;&#x601D;&#x60F3;&#xFF0C;&#x5C06;&#x539F;&#x95EE;&#x9898;&#x5206;&#x6210;&#x82E5;&#x5E72;&#x4E2A;&#x5B50;&#x95EE;&#x9898;&#x8FDB;&#x884C;&#x9012;&#x5F52;&#x89E3;&#x51B3;&#x3002;&#x9009;&#x62E9;&#x4E00;&#x4E2A;&#x5143;&#x7D20;&#x4F5C;&#x4E3A;&#x8F74;(pivot)&#xFF0C;&#x901A;&#x8FC7;&#x4E00;&#x8D9F;&#x6392;&#x5E8F;&#x5C06;&#x8981;&#x6392;&#x5E8F;&#x7684;&#x6570;&#x636E;&#x5206;&#x5272;&#x6210;&#x72EC;&#x7ACB;&#x7684;&#x4E24;&#x90E8;&#x5206;&#xFF0C;&#x5176;&#x4E2D;&#x4E00;&#x90E8;&#x5206;&#x7684;&#x6240;&#x6709;&#x6570;&#x636E;&#x90FD;&#x6BD4;&#x8F74;&#x5143;&#x7D20;&#x5C0F;&#xFF0C;&#x53E6;&#x5916;&#x4E00;&#x90E8;&#x5206;&#x7684;&#x6240;&#x6709;&#x6570;&#x636E;&#x90FD;&#x6BD4;&#x8F74;&#x5143;&#x7D20;&#x5927;&#xFF0C;&#x7136;&#x540E;&#x518D;&#x6309;&#x6B64;&#x65B9;&#x6CD5;&#x5BF9;&#x8FD9;&#x4E24;&#x90E8;&#x5206;&#x6570;&#x636E;&#x5206;&#x522B;&#x8FDB;&#x884C;&#x5FEB;&#x901F;&#x6392;&#x5E8F;&#xFF0C;&#x6574;&#x4E2A;&#x6392;&#x5E8F;&#x8FC7;&#x7A0B;&#x53EF;&#x4EE5;&#x9012;&#x5F52;&#x8FDB;&#x884C;&#xFF0C;&#x4EE5;&#x6B64;&#x8FBE;&#x5230;&#x6574;&#x4E2A;&#x6570;&#x636E;&#x53D8;&#x6210;&#x6709;&#x5E8F;&#x5E8F;&#x5217;&#x3002;</li>
<li>&#x53CC;&#x8F74;&#x5FEB;&#x6392;(DualPivotQuicksort)&#xFF0C;&#x987E;&#x540D;&#x601D;&#x4E49;&#x6709;&#x4E24;&#x4E2A;&#x8F74;&#x5143;&#x7D20;pivot1&#xFF0C;pivot2&#xFF0C;&#x4E14;pivot &#x2264;pivot2&#xFF0C;&#x5C06;&#x5E8F;&#x5217;&#x5206;&#x6210;&#x4E09;&#x6BB5;&#xFF1A;x &lt; pivot1&#x3001;pivot1 &#x2264; x &#x2264; pivot2&#x3001;x &gt;pivot2&#xFF0C;&#x7136;&#x540E;&#x5206;&#x522B;&#x5BF9;&#x4E09;&#x6BB5;&#x8FDB;&#x884C;&#x9012;&#x5F52;&#x3002;&#x8FD9;&#x4E2A;&#x7B97;&#x6CD5;&#x901A;&#x5E38;&#x4F1A;&#x6BD4;&#x4F20;&#x7EDF;&#x7684;&#x5FEB;&#x6392;&#x6548;&#x7387;&#x66F4;&#x9AD8;&#xFF0C;&#x4E5F;&#x56E0;&#x6B64;&#x88AB;&#x4F5C;&#x4E3A;Arrays.java&#x4E2D;&#x7ED9;&#x57FA;&#x672C;&#x7C7B;&#x578B;&#x7684;&#x6570;&#x636E;&#x6392;&#x5E8F;&#x7684;&#x5177;&#x4F53;&#x5B9E;&#x73B0;&#x3002;</li>
</ul>
<ol start="3">
<li>&#x63A5;&#x7740;&#x770B;&#x6211;&#x4EEC;&#x91CD;&#x8981;&#x7684;sort&#x65B9;&#x6CD5;</li>
</ol>
<ul>
<li>&#x5224;&#x65AD;&#x6570;&#x7EC4;&#x7684;&#x957F;&#x5EA6;&#x662F;&#x5426;&#x5927;&#x4E8E;286&#xFF0C;&#x5927;&#x4E8E;&#x5219;&#x4F7F;&#x7528;&#x5F52;&#x5E76;&#x6392;&#x5E8F;(merge sort)&#xFF0C;&#x5426;&#x5219;&#x6267;&#x884C;&#x4E0B;&#x4E00;&#x6B65;</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">kotlin&#x590D;&#x5236;&#x4EE3;&#x7801;// Use Quicksort on small arrays</span><br><span class="line">if (right - left &lt; QUICKSORT_THRESHOLD)</span><br><span class="line">{</span><br><span class="line">       //QUICKSORT_THRESHOLD = 286</span><br><span class="line">        sort(a, left, right, true);</span><br><span class="line">        return;</span><br><span class="line"> }</span><br></pre></td></tr></table></figure>

<ul>
<li>&#x5C0F;&#x8FC7;&#x8FD9;&#x4E2A;&#x9600;&#x503C;&#x7684;&#x8FDB;&#x5165;Quicksort &#xFF08;&#x5FEB;&#x901F;&#x6392;&#x5E8F;&#xFF09;&#xFF0C;&#x5176;&#x5B9E;&#x5E76;&#x4E0D;&#x5168;&#x662F;&#xFF0C;&#x70B9;&#x8FDB;&#x53BB;sort(a, left, right, true);&#x65B9;&#x6CD5;&#xFF1A;</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">scss&#x590D;&#x5236;&#x4EE3;&#x7801;// Use insertion sort on tiny arrays</span><br><span class="line">if (length &lt; INSERTION_SORT_THRESHOLD)</span><br><span class="line">{</span><br><span class="line">    if (leftmost)</span><br><span class="line">    {</span><br><span class="line">        ......</span><br></pre></td></tr></table></figure>

<ul>
<li>&#x70B9;&#x8FDB;&#x53BB;&#x540E;&#x6211;&#x4EEC;&#x770B;&#x5230;&#x7B2C;&#x4E8C;&#x4E2A;&#x9600;&#x503C;INSERTION_SORT_THRESHOLD&#xFF08;47&#xFF09;&#xFF0C;&#x5982;&#x679C;&#x5143;&#x7D20;&#x5C11;&#x4E8E;47&#x8FD9;&#x4E2A;&#x9600;&#x503C;&#xFF0C;&#x5C31;&#x7528;&#x63D2;&#x5165;&#x6392;&#x5E8F;&#xFF0C;&#x5F80;&#x4E0B;&#x770B;&#x786E;&#x5B9E;&#x5982;&#x6B64;&#xFF1A;</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">css&#x590D;&#x5236;&#x4EE3;&#x7801;/*</span><br><span class="line"> * Traditional (without sentinel) insertion sort,</span><br><span class="line"> * optimized for server VM, is used in case of</span><br><span class="line"> * the leftmost part.</span><br><span class="line"> */</span><br><span class="line">for (int i = left, j = i; i &lt; right; j = ++i)</span><br><span class="line">{</span><br><span class="line">     int ai = a[i + 1];</span><br><span class="line">     while (ai &lt; a[j])</span><br><span class="line">     {</span><br><span class="line">          a[j + 1] = a[j];</span><br><span class="line">          if (j-- == left)</span><br><span class="line">          {</span><br><span class="line">               break;</span><br><span class="line">           }</span><br><span class="line">      }</span><br><span class="line">      a[j + 1] = ai;</span><br></pre></td></tr></table></figure>

<ul>
<li>&#x8FD9;&#x662F;&#x5C11;&#x4E8E;&#x9600;&#x503C;QUICKSORT_THRESHOLD&#xFF08;286&#xFF09;&#x7684;&#x4E24;&#x79CD;&#x60C5;&#x51B5;&#xFF0C;&#x81F3;&#x4E8E;&#x5927;&#x4E8E;286&#x7684;&#xFF0C;&#x5B83;&#x4F1A;&#x8FDB;&#x5165;&#x5F52;&#x5E76;&#x6392;&#x5E8F;&#xFF08;Merge Sort&#xFF09;&#xFF0C;&#x4F46;&#x5728;&#x6B64;&#x4E4B;&#x524D;&#xFF0C;&#x5B83;&#x6709;&#x4E2A;&#x5C0F;&#x52A8;&#x4F5C;&#xFF1A;</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">css&#x590D;&#x5236;&#x4EE3;&#x7801;</span><br><span class="line">// Check if the array is nearly sorted</span><br><span class="line">    for (int k = left; k &lt; right; run[count] = k) {        if (a[k] &lt; a[k + 1]) { // ascending</span><br><span class="line">            while (++k &lt;= right &amp;&amp; a[k - 1] &lt;= a[k]);</span><br><span class="line">        } else if (a[k] &gt; a[k + 1]) { // descending</span><br><span class="line">            while (++k &lt;= right &amp;&amp; a[k - 1] &gt;= a[k]);            for (int lo = run[count] - 1, hi = k; ++lo &lt; --hi; ) {                int t = a[lo]; a[lo] = a[hi]; a[hi] = t;</span><br><span class="line">            }</span><br><span class="line">        } else { // equal</span><br><span class="line">            for (int m = MAX_RUN_LENGTH; ++k &lt;= right &amp;&amp; a[k - 1] == a[k]; ) {                if (--m == 0) {</span><br><span class="line">                    sort(a, left, right, true);                    return;</span><br><span class="line">                }</span><br><span class="line">            }</span><br><span class="line">        }        /*</span><br><span class="line">         * The array is not highly structured,</span><br><span class="line">         * use Quicksort instead of merge sort.</span><br><span class="line">         */</span><br><span class="line">        if (++count == MAX_RUN_COUNT) {</span><br><span class="line">            sort(a, left, right, true);            return;</span><br><span class="line">        }</span><br><span class="line">    }</span><br></pre></td></tr></table></figure>

<h2 id="&#x603B;&#x7ED3;"><a href="#&#x603B;&#x7ED3;" class="headerlink" title="&#x603B;&#x7ED3;"></a>&#x603B;&#x7ED3;</h2><p>&#x6211;&#x4EEC;&#x6765;&#x770B;&#x770B;Arrays.sort&#x6574;&#x4E00;&#x4E2A;&#x6D41;&#x7A0B;&#x56FE;&#x5427;</p>
<p><img src="https://gitee.com/songjianzaina/juejin_p6/raw/master/img/86199e3c81c0807d2f0caed749838bbe8f7ebd2ecb71584f74ca45ac3626147d" alt="image.png"></p>
<p>O(nlogn)&#x53EA;&#x4EE3;&#x8868;&#x589E;&#x957F;&#x91CF;&#x7EA7;&#xFF0C;&#x540C;&#x4E00;&#x4E2A;&#x91CF;&#x7EA7;&#x524D;&#x9762;&#x7684;&#x5E38;&#x6570;&#x4E5F;&#x53EF;&#x4EE5;&#x4E0D;&#x4E00;&#x6837;&#xFF0C;&#x4E0D;&#x540C;&#x6570;&#x91CF;&#x4E0B;&#x9762;&#x7684;&#x5B9E;&#x9645;&#x8FD0;&#x7B97;&#x65F6;&#x95F4;&#x4E5F;&#x53EF;&#x4EE5;&#x4E0D;&#x4E00;&#x6837;&#x3002;</p>
<p>&#x6570;&#x91CF;&#x975E;&#x5E38;&#x5C0F;&#x7684;&#x60C5;&#x51B5;&#x4E0B;&#xFF08;&#x5C31;&#x50CF;&#x4E0A;&#x9762;&#x8BF4;&#x5230;&#x7684;&#xFF0C;&#x5C11;&#x4E8E;47&#x7684;&#xFF09;&#xFF0C;&#x63D2;&#x5165;&#x6392;&#x5E8F;&#x7B49;&#x53EF;&#x80FD;&#x4F1A;&#x6BD4;&#x5FEB;&#x901F;&#x6392;&#x5E8F;&#x66F4;&#x5FEB;&#x3002; &#x6240;&#x4EE5;&#x6570;&#x7EC4;&#x5C11;&#x4E8E;47&#x7684;&#x4F1A;&#x8FDB;&#x5165;&#x63D2;&#x5165;&#x6392;&#x5E8F;&#x3002;  </p>
<p>&#x5FEB;&#x6392;&#x6570;&#x636E;&#x8D8A;&#x65E0;&#x5E8F;&#x8D8A;&#x5FEB;&#xFF08;&#x52A0;&#x5165;&#x968F;&#x673A;&#x5316;&#x540E;&#x57FA;&#x672C;&#x4E0D;&#x4F1A;&#x9000;&#x5316;&#xFF09;&#xFF0C;&#x5E73;&#x5747;&#x5E38;&#x6570;&#x6700;&#x5C0F;&#xFF0C;&#x4E0D;&#x9700;&#x8981;&#x989D;&#x5916;&#x7A7A;&#x95F4;&#xFF0C;&#x4E0D;&#x7A33;&#x5B9A;&#x6392;&#x5E8F;&#x3002;</p>
<p>&#x5F52;&#x6392;&#x901F;&#x5EA6;&#x7A33;&#x5B9A;&#xFF0C;&#x5E38;&#x6570;&#x6BD4;&#x5FEB;&#x6392;&#x7565;&#x5927;&#xFF0C;&#x9700;&#x8981;&#x989D;&#x5916;&#x7A7A;&#x95F4;&#xFF0C;&#x7A33;&#x5B9A;&#x6392;&#x5E8F;&#x3002;</p>
<p>&#x6240;&#x4EE5;&#x5927;&#x4E8E;&#x6216;&#x7B49;&#x4E8E;47&#x6216;&#x5C11;&#x4E8E;286&#x4F1A;&#x8FDB;&#x5165;&#x5FEB;&#x6392;&#xFF0C;&#x800C;&#x5728;&#x5927;&#x4E8E;&#x6216;&#x7B49;&#x4E8E;286&#x540E;&#xFF0C;&#x4F1A;&#x6709;&#x4E2A;&#x5C0F;&#x52A8;&#x4F5C;&#xFF1A;&#x201C;// Check if the array is nearly sorted&#x201D;&#x3002;&#x8FD9;&#x91CC;&#x7B2C;&#x4E00;&#x4E2A;&#x4F5C;&#x7528;&#x662F;&#x5148;&#x68B3;&#x7406;&#x4E00;&#x4E0B;&#x6570;&#x636E;&#x65B9;&#x4FBF;&#x540E;&#x7EED;&#x7684;&#x53CC;&#x67A2;&#x8F74;&#x5F52;&#x5E76;&#x6392;&#x5E8F;&#xFF0C;&#x7B2C;&#x4E8C;&#x4E2A;&#x4F5C;&#x7528;&#x5C31;&#x662F;&#x5373;&#x4FBF;&#x5927;&#x4E8E;286&#xFF0C;&#x4F46;&#x5728;&#x964D;&#x5E8F;&#x7EC4;&#x592A;&#x591A;&#x7684;&#x65F6;&#x5019;&#xFF08;&#x88AB;&#x5224;&#x65AD;&#x4E3A;&#x6CA1;&#x6709;&#x7ED3;&#x6784;&#x7684;&#x6570;&#x636E;&#xFF0C;The array is not highly structured,use Quicksort instead of merge sort.&#xFF09;&#xFF0C;&#x8981;&#x8F6C;&#x56DE;&#x5FEB;&#x901F;&#x6392;&#x5E8F;&#x3002;</p>
<h2 id="&#x53C2;&#x8003;"><a href="#&#x53C2;&#x8003;" class="headerlink" title="&#x53C2;&#x8003;"></a>&#x53C2;&#x8003;</h2><ul>
<li><a href="/external_links/3e11c2c23ce70b463929d780b44f9c59.html" target="blank" rel="noopener">&#x6392;&#x5E8F;&#x7B97;&#x6CD5;&#x8BE6;&#x89E3;</a></li>
</ul>
<p><strong>&#x672C;&#x6587;&#x8F6C;&#x8F7D;&#x81EA;:</strong> <a href="/external_links/c0e20853cbe30de65abddbd2a87f37f2.html" target="blank" rel="noopener">&#x6398;&#x91D1;</a></p>
<p><em><a href="https://dev.newban.cn/">&#x5F00;&#x53D1;&#x8005;&#x535A;&#x5BA2; &#x2013; &#x548C;&#x5F00;&#x53D1;&#x76F8;&#x5173;&#x7684; &#x8FD9;&#x91CC;&#x5168;&#x90FD;&#x6709;</a></em></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://dev.newban.cn../../7034424262756663326.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="开发者博客">
      <meta itemprop="description" content>
      <meta itemprop="image" content="../../images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="开发者博客 – IT技术 尽在开发者博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="../../7034424262756663326.html" itemprop="url">Redis 缓存过期处理与内存淘汰机制</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2021-11-25T16:39:29+08:00">
                2021-11-25
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h3 id="&#x5DF2;&#x8FC7;&#x671F;&#x7684;key&#x5982;&#x4F55;&#x5904;&#x7406;&#xFF1F;"><a href="#&#x5DF2;&#x8FC7;&#x671F;&#x7684;key&#x5982;&#x4F55;&#x5904;&#x7406;&#xFF1F;" class="headerlink" title="&#x5DF2;&#x8FC7;&#x671F;&#x7684;key&#x5982;&#x4F55;&#x5904;&#x7406;&#xFF1F;"></a>&#x5DF2;&#x8FC7;&#x671F;&#x7684;key&#x5982;&#x4F55;&#x5904;&#x7406;&#xFF1F;</h3><p>&#x8BBE;&#x7F6E;&#x4E86;expire&#x7684;key&#x7F13;&#x5B58;&#x8FC7;&#x671F;&#x4E86;&#xFF0C;&#x4F46;&#x662F;&#x670D;&#x52A1;&#x5668;&#x7684;&#x5185;&#x5B58;&#x8FD8;&#x662F;&#x4F1A;&#x88AB;&#x5360;&#x7528;&#xFF0C;&#x8FD9;&#x662F;&#x56E0;&#x4E3A;redis&#x6240;&#x57FA;&#x4E8E;&#x7684;&#x4E24;&#x79CD;&#x5220;&#x9664;&#x7B56;&#x7565;  </p>
<p>redis&#x6709;&#x4E24;&#x79CD;&#x7B56;&#x7565;&#xFF1A;</p>
<ol>
<li>&#xFF08;&#x4E3B;&#x52A8;&#xFF09;&#x5B9A;&#x65F6;&#x5220;&#x9664;<ul>
<li>&#x5B9A;&#x65F6;&#x968F;&#x673A;&#x7684;&#x68C0;&#x67E5;&#x8FC7;&#x671F;&#x7684;key&#xFF0C;&#x5982;&#x679C;&#x8FC7;&#x671F;&#x5219;&#x6E05;&#x7406;&#x5220;&#x9664;&#x3002;&#xFF08;&#x6BCF;&#x79D2;&#x68C0;&#x67E5;&#x6B21;&#x6570;&#x5728;redis.conf&#x4E2D;&#x7684;hz&#x914D;&#x7F6E;&#xFF09;</li>
</ul>
</li>
<li>&#xFF08;&#x88AB;&#x52A8;&#xFF09;&#x60F0;&#x6027;&#x5220;&#x9664;<ul>
<li>&#x5F53;&#x5BA2;&#x6237;&#x7AEF;&#x8BF7;&#x6C42;&#x4E00;&#x4E2A;&#x5DF2;&#x7ECF;&#x8FC7;&#x671F;&#x7684;key&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x90A3;&#x4E48;redis&#x4F1A;&#x68C0;&#x67E5;&#x8FD9;&#x4E2A;key&#x662F;&#x5426;&#x8FC7;&#x671F;&#xFF0C;&#x5982;&#x679C;&#x8FC7;&#x671F;&#x4E86;&#xFF0C;&#x5219;&#x5220;&#x9664;&#xFF0C;&#x7136;&#x540E;&#x8FD4;&#x56DE;&#x4E00;&#x4E2A;nil&#x3002;&#x8FD9;&#x79CD;&#x7B56;&#x7565;&#x5BF9;cpu&#x6BD4;&#x8F83;&#x53CB;&#x597D;&#xFF0C;&#x4E0D;&#x4F1A;&#x6709;&#x592A;&#x591A;&#x7684;&#x635F;&#x8017;&#xFF0C;&#x4F46;&#x662F;&#x5185;&#x5B58;&#x5360;&#x7528;&#x4F1A;&#x6BD4;&#x8F83;&#x9AD8;&#x3002;</li>
</ul>
</li>
</ol>
<p>&#x6240;&#x4EE5;&#xFF0C;&#x867D;&#x7136;key&#x8FC7;&#x671F;&#x4E86;&#xFF0C;&#x4F46;&#x662F;&#x53EA;&#x8981;&#x6CA1;&#x6709;&#x88AB;redis&#x6E05;&#x7406;&#xFF0C;&#x90A3;&#x4E48;&#x5176;&#x5B9E;&#x5185;&#x5B58;&#x8FD8;&#x662F;&#x4F1A;&#x88AB;&#x5360;&#x7528;&#x7740;&#x7684;&#x3002;</p>
<h3 id="&#x90A3;&#x4E48;&#x5982;&#x679C;&#x5185;&#x5B58;&#x88AB;Redis&#x7F13;&#x5B58;&#x5360;&#x7528;&#x6162;&#x4E86;&#x548B;&#x529E;&#xFF1F;"><a href="#&#x90A3;&#x4E48;&#x5982;&#x679C;&#x5185;&#x5B58;&#x88AB;Redis&#x7F13;&#x5B58;&#x5360;&#x7528;&#x6162;&#x4E86;&#x548B;&#x529E;&#xFF1F;" class="headerlink" title="&#x90A3;&#x4E48;&#x5982;&#x679C;&#x5185;&#x5B58;&#x88AB;Redis&#x7F13;&#x5B58;&#x5360;&#x7528;&#x6162;&#x4E86;&#x548B;&#x529E;&#xFF1F;"></a>&#x90A3;&#x4E48;&#x5982;&#x679C;&#x5185;&#x5B58;&#x88AB;Redis&#x7F13;&#x5B58;&#x5360;&#x7528;&#x6162;&#x4E86;&#x548B;&#x529E;&#xFF1F;</h3><p>&#x5185;&#x5B58;&#x5360;&#x6EE1;&#x4E86;&#xFF0C;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#x786C;&#x76D8;&#xFF0C;&#x6765;&#x4FDD;&#x5B58;&#xFF0C;&#x4F46;&#x662F;&#x6CA1;&#x610F;&#x4E49;&#xFF0C;&#x56E0;&#x4E3A;&#x786C;&#x76D8;&#x6CA1;&#x6709;&#x5185;&#x5B58;&#x5FEB;&#xFF0C;&#x4F1A;&#x5F71;&#x54CD;redis&#x6027;&#x80FD;&#x3002;  </p>
<p>&#x6240;&#x4EE5;&#xFF0C;&#x5F53;&#x5185;&#x5B58;&#x5360;&#x7528;&#x6EE1;&#x4E86;&#x4EE5;&#x540E;&#xFF0C;redis&#x63D0;&#x4F9B;&#x4E86;&#x4E00;&#x5957;&#x7F13;&#x5B58;&#x6DD8;&#x6C70;&#x673A;&#x5236;&#xFF1A;MEMORY MANAGEMENT</p>
<p><code>maxmemory</code>&#xFF1A;&#x5F53;&#x5185;&#x5B58;&#x5DF2;&#x4F7F;&#x7528;&#x7387;&#x5230;&#x8FBE;&#xFF0C;&#x5219;&#x5F00;&#x59CB;&#x6E05;&#x7406;&#x7F13;&#x5B58;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">markdown&#x590D;&#x5236;&#x4EE3;&#x7801;* noeviction&#xFF1A;&#x65E7;&#x7F13;&#x5B58;&#x6C38;&#x4E0D;&#x8FC7;&#x671F;&#xFF0C;&#x65B0;&#x7F13;&#x5B58;&#x8BBE;&#x7F6E;&#x4E0D;&#x4E86;&#xFF0C;&#x8FD4;&#x56DE;&#x9519;&#x8BEF;</span><br><span class="line">* allkeys-lru&#xFF1A;&#x6E05;&#x9664;&#x6700;&#x5C11;&#x7528;&#x7684;&#x65E7;&#x7F13;&#x5B58;&#xFF0C;&#x7136;&#x540E;&#x4FDD;&#x5B58;&#x65B0;&#x7684;&#x7F13;&#x5B58;&#xFF08;&#x63A8;&#x8350;&#x4F7F;&#x7528;&#xFF09;</span><br><span class="line">* allkeys-random&#xFF1A;&#x5728;&#x6240;&#x6709;&#x7684;&#x7F13;&#x5B58;&#x4E2D;&#x968F;&#x673A;&#x5220;&#x9664;&#xFF08;&#x4E0D;&#x63A8;&#x8350;&#xFF09;</span><br><span class="line">* volatile-lru&#xFF1A;&#x5728;&#x90A3;&#x4E9B;&#x8BBE;&#x7F6E;&#x4E86;expire&#x8FC7;&#x671F;&#x65F6;&#x95F4;&#x7684;&#x7F13;&#x5B58;&#x4E2D;&#xFF0C;&#x6E05;&#x9664;&#x6700;&#x5C11;&#x7528;&#x7684;&#x65E7;&#x7F13;&#x5B58;&#xFF0C;&#x7136;&#x540E;&#x4FDD;&#x5B58;&#x65B0;&#x7684;&#x7F13;&#x5B58;</span><br><span class="line">* volatile-random&#xFF1A;&#x5728;&#x90A3;&#x4E9B;&#x8BBE;&#x7F6E;&#x4E86;expire&#x8FC7;&#x671F;&#x65F6;&#x95F4;&#x7684;&#x7F13;&#x5B58;&#x4E2D;&#xFF0C;&#x968F;&#x673A;&#x5220;&#x9664;&#x7F13;&#x5B58;</span><br><span class="line">* volatile-ttl&#xFF1A;&#x5728;&#x90A3;&#x4E9B;&#x8BBE;&#x7F6E;&#x4E86;expire&#x8FC7;&#x671F;&#x65F6;&#x95F4;&#x7684;&#x7F13;&#x5B58;&#x4E2D;&#xFF0C;&#x5220;&#x9664;&#x5373;&#x5C06;&#x8FC7;&#x671F;&#x7684;`</span><br></pre></td></tr></table></figure>

<p><strong>&#x672C;&#x6587;&#x8F6C;&#x8F7D;&#x81EA;:</strong> <a href="/external_links/1a0053b2e648f3e60ba0f8c05edf3f86.html" target="blank" rel="noopener">&#x6398;&#x91D1;</a></p>
<p><em><a href="https://dev.newban.cn/">&#x5F00;&#x53D1;&#x8005;&#x535A;&#x5BA2; &#x2013; &#x548C;&#x5F00;&#x53D1;&#x76F8;&#x5173;&#x7684; &#x8FD9;&#x91CC;&#x5168;&#x90FD;&#x6709;</a></em></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://dev.newban.cn../../7034411051152048136.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="开发者博客">
      <meta itemprop="description" content>
      <meta itemprop="image" content="../../images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="开发者博客 – IT技术 尽在开发者博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="../../7034411051152048136.html" itemprop="url">LeetCode 79 单词搜索【c++/java详细题解</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2021-11-25T15:49:29+08:00">
                2021-11-25
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>&#x300C;&#x8FD9;&#x662F;&#x6211;&#x53C2;&#x4E0E;11&#x6708;&#x66F4;&#x6587;&#x6311;&#x6218;&#x7684;&#x7B2C;25&#x5929;&#xFF0C;&#x6D3B;&#x52A8;&#x8BE6;&#x60C5;&#x67E5;&#x770B;&#xFF1A;<a href="https://dev.newban.cn/7023643374569816095/">2021&#x6700;&#x540E;&#x4E00;&#x6B21;&#x66F4;&#x6587;&#x6311;&#x6218;</a>&#x300D;&#x3002; &#x6765;&#x6E90;&#x4E8E;&#x6E56;&#x79D1;&#x5927;&#x6559;&#x4E66;&#x5320;</p>
<h3 id="1&#x3001;&#x9898;&#x76EE;"><a href="#1&#x3001;&#x9898;&#x76EE;" class="headerlink" title="1&#x3001;&#x9898;&#x76EE;"></a>1&#x3001;&#x9898;&#x76EE;</h3><p>&#x7ED9;&#x5B9A;&#x4E00;&#x4E2A; <code>m x n</code> &#x4E8C;&#x7EF4;&#x5B57;&#x7B26;&#x7F51;&#x683C; <code>board</code> &#x548C;&#x4E00;&#x4E2A;&#x5B57;&#x7B26;&#x4E32;&#x5355;&#x8BCD; <code>word</code> &#x3002;&#x5982;&#x679C; <code>word</code> &#x5B58;&#x5728;&#x4E8E;&#x7F51;&#x683C;&#x4E2D;&#xFF0C;&#x8FD4;&#x56DE; <code>true</code> &#xFF1B;&#x5426;&#x5219;&#xFF0C;&#x8FD4;&#x56DE; <code>false</code> &#x3002;</p>
<p>&#x5355;&#x8BCD;&#x5FC5;&#x987B;&#x6309;&#x7167;&#x5B57;&#x6BCD;&#x987A;&#x5E8F;&#xFF0C;&#x901A;&#x8FC7;&#x76F8;&#x90BB;&#x7684;&#x5355;&#x5143;&#x683C;&#x5185;&#x7684;&#x5B57;&#x6BCD;&#x6784;&#x6210;&#xFF0C;&#x5176;&#x4E2D;&#x201C;&#x76F8;&#x90BB;&#x201D;&#x5355;&#x5143;&#x683C;&#x662F;&#x90A3;&#x4E9B;&#x6C34;&#x5E73;&#x76F8;&#x90BB;&#x6216;&#x5782;&#x76F4;&#x76F8;&#x90BB;&#x7684;&#x5355;&#x5143;&#x683C;&#x3002;&#x540C;&#x4E00;&#x4E2A;&#x5355;&#x5143;&#x683C;&#x5185;&#x7684;&#x5B57;&#x6BCD;&#x4E0D;&#x5141;&#x8BB8;&#x88AB;&#x91CD;&#x590D;&#x4F7F;&#x7528;&#x3002;</p>
<p><strong>&#x793A;&#x4F8B; 1&#xFF1A;</strong></p>
<p><img src="https://gitee.com/songjianzaina/juejin_p6/raw/master/img/53191ccb9324e9c986bb9146f5164106ce03814bec1b3793ca006b72d0ed15eb" alt></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">arduino&#x590D;&#x5236;&#x4EE3;&#x7801;&#x8F93;&#x5165;&#xFF1A;board = [[&quot;A&quot;,&quot;B&quot;,&quot;C&quot;,&quot;E&quot;],[&quot;S&quot;,&quot;F&quot;,&quot;C&quot;,&quot;S&quot;],[&quot;A&quot;,&quot;D&quot;,&quot;E&quot;,&quot;E&quot;]], word = &quot;ABCCED&quot;</span><br><span class="line">&#x8F93;&#x51FA;&#xFF1A;true</span><br></pre></td></tr></table></figure>

<p><strong>&#x793A;&#x4F8B; 2&#xFF1A;</strong></p>
<p><img src="https://gitee.com/songjianzaina/juejin_p6/raw/master/img/d526f6bcf1e6fab9df70aad3527536332efda7d0179b49dd407c244a51620ce1" alt></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">arduino&#x590D;&#x5236;&#x4EE3;&#x7801;&#x8F93;&#x5165;&#xFF1A;board = [[&quot;A&quot;,&quot;B&quot;,&quot;C&quot;,&quot;E&quot;],[&quot;S&quot;,&quot;F&quot;,&quot;C&quot;,&quot;S&quot;],[&quot;A&quot;,&quot;D&quot;,&quot;E&quot;,&quot;E&quot;]], word = &quot;SEE&quot;</span><br><span class="line">&#x8F93;&#x51FA;&#xFF1A;true</span><br></pre></td></tr></table></figure>

<p><strong>&#x793A;&#x4F8B; 3&#xFF1A;</strong><br><img src="https://gitee.com/songjianzaina/juejin_p6/raw/master/img/2a5243219e151e8c43d53476ad5d1eb5aa4357743b38d96f735836b9ab4d3faf" alt></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">arduino&#x590D;&#x5236;&#x4EE3;&#x7801;&#x8F93;&#x5165;&#xFF1A;board = [[&quot;A&quot;,&quot;B&quot;,&quot;C&quot;,&quot;E&quot;],[&quot;S&quot;,&quot;F&quot;,&quot;C&quot;,&quot;S&quot;],[&quot;A&quot;,&quot;D&quot;,&quot;E&quot;,&quot;E&quot;]], word = &quot;ABCB&quot;</span><br><span class="line">&#x8F93;&#x51FA;&#xFF1A;false</span><br></pre></td></tr></table></figure>

<p><strong>&#x63D0;&#x793A;&#xFF1A;</strong></p>
<ul>
<li><code>m == board.length</code></li>
<li><code>n = board[i].length</code></li>
<li><code>1 &lt;= m, n &lt;= 6</code></li>
<li><code>1 &lt;= word.length &lt;= 15</code></li>
<li><code>board</code> &#x548C; <code>word</code> &#x4EC5;&#x7531;&#x5927;&#x5C0F;&#x5199;&#x82F1;&#x6587;&#x5B57;&#x6BCD;&#x7EC4;&#x6210;</li>
</ul>
<h3 id="2&#x3001;&#x601D;&#x8DEF;"><a href="#2&#x3001;&#x601D;&#x8DEF;" class="headerlink" title="2&#x3001;&#x601D;&#x8DEF;"></a>2&#x3001;&#x601D;&#x8DEF;</h3><p><strong>(&#x56DE;&#x6EAF;)</strong> O(n23k)O(n^2 3^k)O(n23k)</p>
<p>&#x6DF1;&#x5EA6;&#x4F18;&#x5148;&#x641C;&#x7D22;&#xFF0C;&#x6211;&#x4EEC;&#x5B9A;&#x4E49;&#x8FD9;&#x6837;&#x4E00;&#x79CD;&#x641C;&#x7D22;&#x987A;&#x5E8F;&#xFF0C;&#x5373;&#x5148;&#x679A;&#x4E3E;&#x5355;&#x8BCD;&#x7684;&#x8D77;&#x70B9;&#xFF0C;&#x7136;&#x540E;&#x4F9D;&#x6B21;&#x679A;&#x4E3E;&#x5355;&#x8BCD;&#x7684;&#x6BCF;&#x4E2A;&#x5B57;&#x6BCD;&#x3002;&#x5728;&#x8FD9;&#x4E2A;&#x8FC7;&#x7A0B;&#x4E2D;&#x9700;&#x8981;&#x5C06;&#x5DF2;&#x7ECF;&#x4F7F;&#x7528;&#x8FC7;&#x7684;&#x5B57;&#x6BCD;&#x6539;&#x6210;&#x4E00;&#x4E2A;&#x7279;&#x6B8A;&#x5B57;&#x6BCD;&#xFF0C;&#x4EE5;&#x907F;&#x514D;&#x91CD;&#x590D;&#x4F7F;&#x7528;&#x5B57;&#x7B26;&#x3002;</p>
<p><img src="https://gitee.com/songjianzaina/juejin_p6/raw/master/img/48ce911249f017ac93b9708bf69e10167b320c486808e58deaa38784a25a0ed0" alt><br><strong>&#x9012;&#x5F52;&#x51FD;&#x6570;&#x8BBE;&#x8BA1;&#xFF1A;</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">c&#x590D;&#x5236;&#x4EE3;&#x7801;bool dfs(vector&lt;vector&lt;char&gt;&gt;&amp; board, string&amp; word,int u,int x,int y)</span><br></pre></td></tr></table></figure>

<p><code>u</code>&#x4EE3;&#x8868;&#x5F53;&#x524D;&#x679A;&#x4E3E;&#x5230;&#x4E86;&#x76EE;&#x6807;&#x5355;&#x8BCD;<code>word</code>&#x7B2C;<code>u</code>&#x4E2A;&#x4F4D;&#x7F6E;&#x3002;</p>
<p><code>x</code>&#xFF0C;<code>y</code>&#x662F;&#x5F53;&#x524D;&#x641C;&#x7D22;&#x5230;&#x7684;&#x4E8C;&#x7EF4;&#x5B57;&#x7B26;&#x7F51;&#x683C;&#x7684;&#x6A2A;&#x7EB5;&#x5750;&#x6807;&#x3002;</p>
<p><strong>&#x641C;&#x7D22;&#x8FC7;&#x7A0B;&#x5982;&#x4E0B;&#xFF1A;</strong></p>
<ul>
<li>1&#x3001;&#x5728;&#x4E8C;&#x7EF4;&#x5B57;&#x7B26;&#x7F51;&#x683C;&#x4E2D;&#x679A;&#x4E3E;&#x6BCF;&#x4E2A;&#x5355;&#x8BCD;&#x7684;&#x8D77;&#x70B9;&#x3002;</li>
<li>2&#x3001;&#x4ECE;&#x8BE5;&#x8D77;&#x70B9;&#x51FA;&#x53D1;&#x5411;&#x56DB;&#x5468;&#x641C;&#x7D22;&#x5355;&#x8BCD;<code>word</code>&#xFF0C;&#x5E76;&#x8BB0;&#x5F55;&#x6B64;&#x65F6;&#x679A;&#x4E3E;&#x5230;&#x5355;&#x8BCD;<code>word</code>&#x7684;&#x7B2C;<code>u</code>&#x4E2A;&#x4F4D;&#x7F6E; ( <code>u</code>&#x4ECE;<code>0</code>&#x5F00;&#x59CB;)&#x3002;</li>
<li>3&#x3001;&#x5982;&#x679C;&#x5F53;&#x524D;&#x641C;&#x7D22;&#x7684;&#x4F4D;&#x7F6E;<code>(x,y)</code>&#x7684;&#x5143;&#x7D20;<code>board[x][y] == word[u]</code>,&#x5219;&#x7EE7;&#x7EED;&#x5411;&#x56DB;&#x5468;&#x641C;&#x7D22;&#x3002;</li>
<li>4&#x3001;&#x76F4;&#x5230;&#x679A;&#x4E3E;&#x5230;&#x5355;&#x8BCD;<code>word</code>&#x7684;&#x6700;&#x540E;&#x4E00;&#x4E2A;&#x5B57;&#x6BCD;&#x8FD4;&#x56DE;<code>ture</code>&#xFF0C;&#x5426;&#x5219;&#x8FD4;&#x56DE;<code>false</code>&#x3002;</li>
</ul>
<p><strong>&#x9012;&#x5F52;&#x8FB9;&#x754C;&#xFF1A;</strong></p>
<ul>
<li>1&#x3001;&#x5F53;&#x641C;&#x7D22;&#x8FC7;&#x7A0B;&#x51FA;&#x73B0;&#x5F53;&#x524D;&#x4F4D;&#x7F6E;<code>board[x][y] != word[u]</code> &#xFF0C;&#x8BF4;&#x660E;&#x5F53;&#x524D;&#x8DEF;&#x5F84;&#x4E0D;&#x5408;&#x6CD5;&#xFF0C;&#x8FD4;&#x56DE;<code>false</code>&#x3002;</li>
<li>2&#x3001;<code>u == word.size() - 1</code>,&#x6210;&#x529F;&#x641C;&#x7D22;&#x5230;&#x5355;&#x8BCD;&#x672B;&#x5C3E;&#xFF0C;&#x8FD4;&#x56DE;<code>true</code>&#x3002;</li>
</ul>
<p><strong>&#x5B9E;&#x73B0;&#x7EC6;&#x8282;&#xFF1A;</strong></p>
<ul>
<li>1&#x3001;&#x641C;&#x7D22;&#x8FC7;&#x7684;&#x4F4D;&#x7F6E;&#x7EE7;&#x7EED;&#x641C;&#x7D22;&#x4E0B;&#x4E00;&#x5C42;&#x65F6;&#xFF0C;&#x9700;&#x8981;&#x5BF9;&#x5F53;&#x524D;&#x4F4D;&#x7F6E;&#x8FDB;&#x884C;&#x6807;&#x8BC6;&#xFF0C;&#x8868;&#x793A;&#x5DF2;&#x7ECF;&#x641C;&#x7D22;</li>
<li>2&#x3001;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#x504F;&#x79FB;&#x6570;&#x7EC4;&#x6765;&#x7B80;&#x5316;&#x4EE3;&#x7801;&#x3002;</li>
</ul>
<p><img src="https://gitee.com/songjianzaina/juejin_p6/raw/master/img/c98d6bf3dc83714d446a5473922613264faad53bcd73e16a8050c7d8d5ee7ad3" alt><br><strong>&#x65F6;&#x95F4;&#x590D;&#x6742;&#x5EA6;&#x5206;&#x6790;&#xFF1A;</strong> &#x5355;&#x8BCD;&#x8D77;&#x70B9;&#x4E00;&#x5171;&#x6709; n2n^2n2 &#x4E2A;&#xFF0C;&#x5355;&#x8BCD;&#x7684;&#x6BCF;&#x4E2A;&#x5B57;&#x6BCD;&#x4E00;&#x5171;&#x6709;&#x4E0A;&#x4E0B;&#x5DE6;&#x53F3;&#x56DB;&#x4E2A;&#x65B9;&#x5411;&#x53EF;&#x4EE5;&#x9009;&#x62E9;&#xFF0C;&#x4F46;&#x7531;&#x4E8E;&#x4E0D;&#x80FD;&#x8D70;&#x56DE;&#x5934;&#x8DEF;&#xFF0C;&#x6240;&#x4EE5;&#x9664;&#x4E86;&#x5355;&#x8BCD;&#x9996;&#x5B57;&#x6BCD;&#x5916;&#xFF0C;&#x4EC5;&#x6709;&#x4E09;&#x79CD;&#x9009;&#x62E9;&#x3002;&#x6240;&#x4EE5;&#x603B;&#x65F6;&#x95F4;&#x590D;&#x6742;&#x5EA6;&#x662F; O(n23k)O(n^2 3^k)O(n23k) &#x3002;</p>
<h3 id="3&#x3001;c-&#x4EE3;&#x7801;"><a href="#3&#x3001;c-&#x4EE3;&#x7801;" class="headerlink" title="3&#x3001;c++&#x4EE3;&#x7801;"></a>3&#x3001;c++&#x4EE3;&#x7801;</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">c&#x590D;&#x5236;&#x4EE3;&#x7801;class Solution {</span><br><span class="line">public:</span><br><span class="line">    bool exist(vector&lt;vector&lt;char&gt;&gt;&amp; board, string word) {</span><br><span class="line">        for(int i = 0; i &lt; board.size(); i++)</span><br><span class="line">            for(int j = 0; j &lt; board[i].size(); j++)</span><br><span class="line">                if(dfs(board,word,0,i,j)) return true;</span><br><span class="line">        return false;        </span><br><span class="line">    }</span><br><span class="line">    int dx[4] = {-1,0,1,0}, dy[4] = {0,1,0,-1}; //&#x65B9;&#x5411;&#x6570;&#x7EC4;</span><br><span class="line">    bool dfs(vector&lt;vector&lt;char&gt;&gt;&amp; board, string&amp; word,int u,int x,int y)</span><br><span class="line">    {</span><br><span class="line">        if(board[x][y] != word[u]) return false;</span><br><span class="line">        if(u == word.size() - 1)   return true;</span><br><span class="line">        char t = board[x][y];</span><br><span class="line">        board[x][y] = &apos;.&apos;;</span><br><span class="line">        for(int i = 0; i &lt; 4; i++)</span><br><span class="line">        {</span><br><span class="line">            int a = x + dx[i], b = y + dy[i];</span><br><span class="line">            //&#x51FA;&#x754C;&#x6216;&#x8005;&#x8D70;&#x5230;&#x5DF2;&#x7ECF;&#x641C;&#x7D22;&#x8FC7;&#x7684;&#x4F4D;&#x7F6E;</span><br><span class="line">            if(a &lt; 0 || a &gt;= board.size() || b &lt; 0 || b &gt;= board[0].size() || board[a][b] == &apos;.&apos;)  continue;</span><br><span class="line">            if(dfs(board,word,u+1,a,b)) return true;</span><br><span class="line">        }</span><br><span class="line">        board[x][y] = t;</span><br><span class="line">        return false;</span><br><span class="line">    }</span><br><span class="line">};</span><br></pre></td></tr></table></figure>

<h3 id="4&#x3001;java&#x4EE3;&#x7801;"><a href="#4&#x3001;java&#x4EE3;&#x7801;" class="headerlink" title="4&#x3001;java&#x4EE3;&#x7801;"></a>4&#x3001;java&#x4EE3;&#x7801;</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">java&#x590D;&#x5236;&#x4EE3;&#x7801;class Solution {</span><br><span class="line">    public boolean exist(char[][] board, String word) {</span><br><span class="line">        for(int i = 0; i &lt; board.length; i++)</span><br><span class="line">            for(int j = 0; j &lt; board[i].length; j++)</span><br><span class="line">                if(dfs(board,word,0,i,j)) return true;</span><br><span class="line">        return false;   </span><br><span class="line">    }</span><br><span class="line">    int[] dx = new int[]{-1,0,1,0}, dy = new int[]{0,1,0,-1};</span><br><span class="line">    boolean dfs(char[][] board, String word,int u,int x,int y)</span><br><span class="line">    {</span><br><span class="line">        if(board[x][y] != word.charAt(u)) return false;</span><br><span class="line">        if(u == word.length() - 1)   return true;</span><br><span class="line">        char t = board[x][y];</span><br><span class="line">        board[x][y] = &apos;.&apos;;</span><br><span class="line">        for(int i = 0; i &lt; 4; i++)</span><br><span class="line">        {</span><br><span class="line">            int a = x + dx[i], b = y + dy[i];</span><br><span class="line">            if(a &lt; 0 || a &gt;= board.length|| b &lt; 0 || b &gt;= board[0].length || board[a][b] == &apos;.&apos;)  continue;</span><br><span class="line">            if(dfs(board,word,u+1,a,b)) return true;</span><br><span class="line">        }</span><br><span class="line">        board[x][y] = t;</span><br><span class="line">        return false;</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></table></figure>

<p><strong>&#x539F;&#x9898;&#x94FE;&#x63A5;&#xFF1A;</strong><a href="/external_links/4a3cf316abd8c9acdb9328c5e8c1a20e.html" target="blank" rel="noopener">79. &#x5355;&#x8BCD;&#x641C;&#x7D22;</a><br><img src="https://gitee.com/songjianzaina/juejin_p6/raw/master/img/c202d375721524a0221485d08e7713cde77596ab2b35fce8f076ecfab4bea844" alt="&#x5728;&#x8FD9;&#x91CC;&#x63D2;&#x5165;&#x56FE;&#x7247;&#x63CF;&#x8FF0;"></p>
<p><strong>&#x672C;&#x6587;&#x8F6C;&#x8F7D;&#x81EA;:</strong> <a href="/external_links/36b941f204423f0857dd877aab39421b.html" target="blank" rel="noopener">&#x6398;&#x91D1;</a></p>
<p><em><a href="https://dev.newban.cn/">&#x5F00;&#x53D1;&#x8005;&#x535A;&#x5BA2; &#x2013; &#x548C;&#x5F00;&#x53D1;&#x76F8;&#x5173;&#x7684; &#x8FD9;&#x91CC;&#x5168;&#x90FD;&#x6709;</a></em></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://dev.newban.cn../../7034409447048871944.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="开发者博客">
      <meta itemprop="description" content>
      <meta itemprop="image" content="../../images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="开发者博客 – IT技术 尽在开发者博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="../../7034409447048871944.html" itemprop="url">程序环境和预处理 真正的认识C语言 程序环境和预处理</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2021-11-25T15:42:12+08:00">
                2021-11-25
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>&#x300C;&#x8FD9;&#x662F;&#x6211;&#x53C2;&#x4E0E;11&#x6708;&#x66F4;&#x6587;&#x6311;&#x6218;&#x7684;&#x7B2C;25&#x5929;&#xFF0C;&#x6D3B;&#x52A8;&#x8BE6;&#x60C5;&#x67E5;&#x770B;&#xFF1A;<a href="https://dev.newban.cn/7023643374569816095">2021&#x6700;&#x540E;&#x4E00;&#x6B21;&#x66F4;&#x6587;&#x6311;&#x6218;</a>&#x300D;</p>
<h1 id="&#x7A0B;&#x5E8F;&#x73AF;&#x5883;&#x548C;&#x9884;&#x5904;&#x7406;"><a href="#&#x7A0B;&#x5E8F;&#x73AF;&#x5883;&#x548C;&#x9884;&#x5904;&#x7406;" class="headerlink" title="&#x7A0B;&#x5E8F;&#x73AF;&#x5883;&#x548C;&#x9884;&#x5904;&#x7406;"></a>&#x7A0B;&#x5E8F;&#x73AF;&#x5883;&#x548C;&#x9884;&#x5904;&#x7406;</h1><h2 id="&#x7A0B;&#x5E8F;&#x7684;&#x7FFB;&#x8BD1;&#x73AF;&#x5883;&#x548C;&#x6267;&#x884C;&#x73AF;&#x5883;"><a href="#&#x7A0B;&#x5E8F;&#x7684;&#x7FFB;&#x8BD1;&#x73AF;&#x5883;&#x548C;&#x6267;&#x884C;&#x73AF;&#x5883;" class="headerlink" title="&#x7A0B;&#x5E8F;&#x7684;&#x7FFB;&#x8BD1;&#x73AF;&#x5883;&#x548C;&#x6267;&#x884C;&#x73AF;&#x5883;"></a>&#x7A0B;&#x5E8F;&#x7684;&#x7FFB;&#x8BD1;&#x73AF;&#x5883;&#x548C;&#x6267;&#x884C;&#x73AF;&#x5883;</h2><p><strong>&#x5728;ANSI C&#x7684;&#x4EFB;&#x4F55;&#x4E00;&#x79CD;&#x5B9E;&#x73B0;&#x4E2D;&#xFF0C;&#x5B58;&#x5728;&#x4E24;&#x4E2A;&#x4E0D;&#x540C;&#x7684;&#x73AF;&#x5883;</strong></p>
<p>&#x7B2C;&#x4E00;&#x79CD;&#x662F;&#x7FFB;&#x8BD1;&#x73AF;&#x5883;&#xFF0C;&#x5728;&#x8FD9;&#x4E2A;&#x73AF;&#x5883;&#x4E2D;&#x6E90;&#x4EE3;&#x7801;&#x88AB;&#x8F6C;&#x6362;&#x4E3A;&#x53EF;&#x6267;&#x884C;&#x7684;&#x673A;&#x5668;&#x6307;&#x4EE4;</p>
<p>&#x7B2C;&#x4E8C;&#x79CD;&#x662F;&#x6267;&#x884C;&#x73AF;&#x5883;&#xFF0C;&#x4ED6;&#x7528;&#x4E8E;&#x5B9E;&#x9645;&#x6267;&#x884C;&#x4EE3;&#x7801;</p>
<p><img src="https://gitee.com/songjianzaina/juejin_p6/raw/master/img/7df58787e953036cb7dc090e6aeb2e2cedd7a2146777975e064c1672142dbdd6" alt>image-20210929062446170  </p>
<h2 id="&#x8BE6;&#x89E3;&#x7F16;&#x8BD1;-&#x94FE;&#x63A5;"><a href="#&#x8BE6;&#x89E3;&#x7F16;&#x8BD1;-&#x94FE;&#x63A5;" class="headerlink" title="&#x8BE6;&#x89E3;&#x7F16;&#x8BD1;+&#x94FE;&#x63A5;"></a>&#x8BE6;&#x89E3;&#x7F16;&#x8BD1;+&#x94FE;&#x63A5;</h2><h3 id="&#x7F16;&#x8BD1;&#x73AF;&#x5883;"><a href="#&#x7F16;&#x8BD1;&#x73AF;&#x5883;" class="headerlink" title="&#x7F16;&#x8BD1;&#x73AF;&#x5883;"></a>&#x7F16;&#x8BD1;&#x73AF;&#x5883;</h3><p><img src="https://gitee.com/songjianzaina/juejin_p6/raw/master/img/6f86ba6711b941858f6a71631fdd267a2d923a3828b2ded6ec6cf6b80f90341e" alt>image-20210929063247796  </p>
<p>&#x7EC4;&#x6210;&#x4E00;&#x4E2A;&#x7A0B;&#x5E8F;&#x7684;&#x6BCF;&#x4E2A;&#x6E90;&#x6587;&#x4EF6;&#x901A;&#x8FC7;&#x7F16;&#x8BD1;&#x8FC7;&#x7A0B;&#x5206;&#x522B;&#x8F6C;&#x6362;&#x6210;&#x76EE;&#x6807;&#x4EE3;&#x7801;&#xFF08;object code&#xFF09;&#x3002;<br>&#x6BCF;&#x4E2A;&#x76EE;&#x6807;&#x6587;&#x4EF6;&#x7531;&#x94FE;&#x63A5;&#x5668;&#xFF08;linker&#xFF09;&#x6346;&#x7ED1;&#x5728;&#x4E00;&#x8D77;&#xFF0C;&#x5F62;&#x6210;&#x4E00;&#x4E2A;&#x5355;&#x4E00;&#x800C;&#x5B8C;&#x6574;&#x7684;&#x53EF;&#x6267;&#x884C;&#x7A0B;&#x5E8F;&#x3002;<br>&#x94FE;&#x63A5;&#x5668;&#x540C;&#x65F6;&#x4E5F;&#x4F1A;&#x5F15;&#x5165;&#x6807;&#x51C6;C&#x51FD;&#x6570;&#x5E93;&#x4E2D;&#x4EFB;&#x4F55;&#x88AB;&#x8BE5;&#x7A0B;&#x5E8F;&#x6240;&#x7528;&#x5230;&#x7684;&#x51FD;&#x6570;&#xFF0C;&#x800C;&#x4E14;&#x5B83;&#x53EF;&#x4EE5;&#x641C;&#x7D22;&#x7A0B;&#x5E8F;&#x5458;&#x4E2A;&#x4EBA;&#x7684;&#x7A0B;&#x5E8F;&#x5E93;&#xFF0C;&#x5C06;&#x5176;&#x9700;&#x8981;&#x7684;&#x51FD;&#x6570;&#x4E5F;&#x94FE;&#x63A5;&#x5230;&#x7A0B;&#x5E8F;&#x4E2D;&#x3002;</p>
<p><img src="https://gitee.com/songjianzaina/juejin_p6/raw/master/img/4713da69c72651787468587956f697c35cad4028799270a70a60898a58088f26" alt>image-20210929063311384  </p>
<p><img src="https://gitee.com/songjianzaina/juejin_p6/raw/master/img/4ee470ef6897c31626489e6e1becee5185a0c572cdd1a1ac88f70740b21294b3" alt>image-20210929081838170  </p>
<h2 id="&#x9884;&#x5904;&#x7406;&#x8BE6;&#x89E3;"><a href="#&#x9884;&#x5904;&#x7406;&#x8BE6;&#x89E3;" class="headerlink" title="&#x9884;&#x5904;&#x7406;&#x8BE6;&#x89E3;"></a>&#x9884;&#x5904;&#x7406;&#x8BE6;&#x89E3;</h2><h3 id="&#x9884;&#x5B9A;&#x4E49;&#x7B26;&#x53F7;"><a href="#&#x9884;&#x5B9A;&#x4E49;&#x7B26;&#x53F7;" class="headerlink" title="&#x9884;&#x5B9A;&#x4E49;&#x7B26;&#x53F7;"></a>&#x9884;&#x5B9A;&#x4E49;&#x7B26;&#x53F7;</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">c&#x590D;&#x5236;&#x4EE3;&#x7801;__FILE__ &#xA0;&#xA0;&#xA0;//&#x8FDB;&#x884C;&#x7F16;&#x8BD1;&#x7684;&#x6E90;&#x6587;&#x4EF6;</span><br><span class="line">__LINE__ &#xA0;&#xA0;//&#x6587;&#x4EF6;&#x5F53;&#x524D;&#x7684;&#x884C;&#x53F7;</span><br><span class="line">__DATE__ &#xA0;&#xA0;//&#x6587;&#x4EF6;&#x88AB;&#x7F16;&#x8BD1;&#x7684;&#x65E5;&#x671F;</span><br><span class="line">__TIME__ &#xA0;&#xA0;//&#x6587;&#x4EF6;&#x88AB;&#x7F16;&#x8BD1;&#x7684;&#x65F6;&#x95F4;</span><br><span class="line">__STDC__ &#xA0;&#xA0;//&#x5982;&#x679C;&#x7F16;&#x8BD1;&#x5668;&#x9075;&#x5FAA;ANSI C&#xFF0C;&#x5176;&#x503C;&#x4E3A;1&#xFF0C;&#x5426;&#x5219;&#x672A;&#x5B9A;&#x4E49;</span><br></pre></td></tr></table></figure>

<p><strong>&#x8FD9;&#x4E9B;&#x9884;&#x5B9A;&#x4E49;&#x7B26;&#x53F7;&#x90FD;&#x662F;&#x8BED;&#x8A00;&#x5185;&#x7F6E;&#x7684;</strong></p>
<p><img src="https://gitee.com/songjianzaina/juejin_p6/raw/master/img/9184d8e0e975948ed171192065f5688025c0790d6403be96290eee49b4d2d5de" alt>image-20211009050748724  </p>
<p><img src="https://gitee.com/songjianzaina/juejin_p6/raw/master/img/7e19db2ca464ad4eb39df93b99c7cf504edf1b674042cb0ed0a918e9193a3471" alt>image-20211009051336290  </p>
<p>&#x4F46;&#x662F;gcc&#x662F;&#x652F;&#x6301;&#x7684; gcc&#x5BF9;c&#x8BED;&#x8A00;&#x7684;&#x652F;&#x6301;&#x975E;&#x5E38;&#x597D;</p>
<h3 id="define"><a href="#define" class="headerlink" title="#define"></a>#define</h3><p>&#x5728;c&#x8BED;&#x8A00;&#x4E2D;#define&#x662F;&#x53EF;&#x4EE5;&#x505A;&#x4E24;&#x4EF6;&#x4E8B;&#x7684;</p>
<h3 id="define-&#x5B9A;&#x4E49;&#x7B26;&#x53F7;"><a href="#define-&#x5B9A;&#x4E49;&#x7B26;&#x53F7;" class="headerlink" title="#define &#x5B9A;&#x4E49;&#x7B26;&#x53F7;"></a><strong>#define &#x5B9A;&#x4E49;&#x7B26;&#x53F7;</strong></h3><p>&#x8BED;&#x6CD5;&#xFF1A;#define name stuff</p>
<p><img src="https://gitee.com/songjianzaina/juejin_p6/raw/master/img/363c5c1411ad1b4fa82a767ad5f9a6ddc2a57ea749ed5291e7c907fb1c2cf9da" alt>image-20211009052438743  </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">c&#x590D;&#x5236;&#x4EE3;&#x7801;#define MAX 1000</span><br><span class="line">#define reg register &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;//&#x4E3A; register&#x8FD9;&#x4E2A;&#x5173;&#x952E;&#x5B57;&#xFF0C;&#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x7B80;&#x77ED;&#x7684;&#x540D;&#x5B57;</span><br><span class="line">#define do_forever for(;;) &#xA0;&#xA0;//&#x7528;&#x66F4;&#x5F62;&#x8C61;&#x7684;&#x7B26;&#x53F7;&#x6765;&#x66FF;&#x6362;&#x4E00;&#x79CD;&#x5B9E;&#x73B0;</span><br><span class="line">#define CASE break;case &#xA0;&#xA0;&#xA0;&#xA0;//&#x5728;&#x5199;case&#x8BED;&#x53E5;&#x7684;&#x65F6;&#x5019;&#x81EA;&#x52A8;&#x628A; break&#x5199;&#x4E0A;&#x3002;</span><br><span class="line">// &#x5982;&#x679C;&#x5B9A;&#x4E49;&#x7684; stuff&#x8FC7;&#x957F;&#xFF0C;&#x53EF;&#x4EE5;&#x5206;&#x6210;&#x51E0;&#x884C;&#x5199;&#xFF0C;&#x9664;&#x4E86;&#x6700;&#x540E;&#x4E00;&#x884C;&#x5916;&#xFF0C;&#x6BCF;&#x884C;&#x7684;&#x540E;&#x9762;&#x90FD;&#x52A0;&#x4E00;&#x4E2A;&#x53CD;&#x659C;&#x6760;(&#x7EED;&#x884C;&#x7B26;)&#x3002;</span><br><span class="line">#define DEBUG_PRINT printf(&quot;file:%s\tline:%d\t \</span><br><span class="line">&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;date:%s\ttime:%s\n&quot; ,\</span><br><span class="line">&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;__FILE__,__LINE__ , &#xA0;&#xA0;&#xA0;\</span><br><span class="line">&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;__DATE__,__TIME__ )</span><br></pre></td></tr></table></figure>

<p><img src="https://gitee.com/songjianzaina/juejin_p6/raw/master/img/4fa3640a28b6cb88e5e1f14eb8b4dbdbd275ad2df71c2cd54d63ba97c642f7b3" alt>image-20211009053424387  </p>
<h4 id="&#x6CE8;&#x610F;"><a href="#&#x6CE8;&#x610F;" class="headerlink" title="&#x6CE8;&#x610F;"></a><strong>&#x6CE8;&#x610F;</strong></h4><p><strong>&#x5728;define&#x5B9A;&#x4E49;&#x6807;&#x8BC6;&#x7B26;&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x8981;&#x4E0D;&#x8981;&#x5728;&#x6700;&#x540E;&#x52A0;&#x4E0A;&#xFF1B;</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">c&#x590D;&#x5236;&#x4EE3;&#x7801;#define MAX 1000;</span><br><span class="line">#define MAX 1000</span><br></pre></td></tr></table></figure>

<p><img src="https://gitee.com/songjianzaina/juejin_p6/raw/master/img/59f45b2219c6af49df0542518a3aee2764a6a23d880344639015c51db919093d" alt>image-20211009055130245  </p>
<h3 id="define-&#x5B9A;&#x4E49;&#x5B8F;"><a href="#define-&#x5B9A;&#x4E49;&#x5B8F;" class="headerlink" title="#define &#x5B9A;&#x4E49;&#x5B8F;"></a><strong>#define &#x5B9A;&#x4E49;&#x5B8F;</strong></h3><p><img src="https://gitee.com/songjianzaina/juejin_p6/raw/master/img/60fc7f60e7bfa08a1973b54d867d1b40b9c7576b5fcef7c12c6de4c0ea46ccab" alt>image-20211009063939832  </p>
<p>#define &#x673A;&#x5236;&#x5305;&#x62EC;&#x4E86;&#x4E00;&#x4E2A;&#x89C4;&#x5B9A;&#xFF0C;&#x5141;&#x8BB8;&#x628A;&#x53C2;&#x6570;&#x66FF;&#x6362;&#x5230;&#x6587;&#x672C;&#x4E2D;&#xFF0C;&#x8FD9;&#x79CD;&#x5B9E;&#x73B0;&#x901A;&#x5E38;&#x79F0;&#x4E3A;&#x5B8F;&#xFF08;macro&#xFF09;&#x6216;&#x5B9A;&#x4E49;&#x5B8F;&#xFF08;define macro&#xFF09;&#x3002;</p>
<p><img src="https://gitee.com/songjianzaina/juejin_p6/raw/master/img/87595af03ec6d5938fdb79ba72860bf623bd533693b23769ef202b685b7ab30d" alt>image-20211009061225500  </p>
<p>&#x6211;&#x5B8F;&#x4E0D;&#x52A0;&#x62EC;&#x53F7;&#x4F1A;&#x548B;&#x6837;</p>
<p><img src="https://gitee.com/songjianzaina/juejin_p6/raw/master/img/1d304315f74104123ccf3a1945dd446334df1827221e7377ffeed5bca7aa6228" alt>image-20211009062353419  </p>
<p>&#x662F;&#x4E0D;&#x662F;&#x89C9;&#x7684;&#x53EF;&#x4EE5;&#x4E86;&#xFF0C;&#x597D;&#x6211;&#x4EEC;&#x5C31;&#x7528;&#x4F60;&#x90A3;&#x4E2A;&#x62EC;&#x53F7;&#x770B;&#x770B;&#x5C11;&#x4E86;&#x4EC0;&#x4E48;</p>
<p><img src="https://gitee.com/songjianzaina/juejin_p6/raw/master/img/59d112942f5a77b0427be655b13f1d58e1541092456a971b1008d886c0f09caf" alt>image-20211009063624841  </p>
<p><strong>&#x8FD9;&#x6070;&#x6070;&#x4E5F;&#x5C31;&#x8BC1;&#x660E;&#x4E86;&#x9884;&#x5904;&#x7406;(&#x7F16;&#x8BD1;)&#x53EA;&#x662F;&#x8FDB;&#x884C;&#x6587;&#x672C;&#x64CD;&#x4F5C;</strong></p>
<h4 id="&#x6CE8;&#x610F;-1"><a href="#&#x6CE8;&#x610F;-1" class="headerlink" title="&#x6CE8;&#x610F;"></a><strong>&#x6CE8;&#x610F;</strong></h4><p>&#x53C2;&#x6570;&#x5217;&#x8868;&#x7684;&#x5DE6;&#x62EC;&#x53F7;&#x5FC5;&#x987B;&#x4E0E;name&#x7D27;&#x90BB;&#x3002;&#x5982;&#x679C;&#x4E24;&#x8005;&#x4E4B;&#x95F4;&#x6709;&#x4EFB;&#x4F55;&#x7A7A;&#x767D;&#x5B58;&#x5728;&#xFF0C;&#x53C2;&#x6570;&#x5217;&#x8868;&#x5C31;&#x4F1A;&#x88AB;&#x89E3;&#x91CA;&#x4E3A;stuff&#x7684;&#x4E00;&#x90E8;&#x5206;&#x3002;</p>
<p><img src="https://gitee.com/songjianzaina/juejin_p6/raw/master/img/c0aa184f6121e722b16f8a15ff78a0dcba633290619ff2151557c19dae808028" alt>image-20211009064654448  </p>
<h3 id="define&#x548C;typedef&#x7684;&#x533A;&#x522B;"><a href="#define&#x548C;typedef&#x7684;&#x533A;&#x522B;" class="headerlink" title="define&#x548C;typedef&#x7684;&#x533A;&#x522B;"></a>define&#x548C;typedef&#x7684;&#x533A;&#x522B;</h3><p>&#x4E00;&#x4E2A;&#x662F;&#x66FF;&#x6362;&#x53E6;&#x4E00;&#x4E2A;&#x662F;&#x91CD;&#x5B9A;&#x4E49;</p>
<p><img src="https://gitee.com/songjianzaina/juejin_p6/raw/master/img/b4256d15a57ff3e84de21ce4ddb0f72cd452da5e71c7b4f36960ff46304a1c2c" alt>image-20211009071624043  </p>
<p>&#x6709;&#x4E00;&#x4E2A;&#x9898;&#x76EE;</p>
<p><img src="https://gitee.com/songjianzaina/juejin_p6/raw/master/img/b62fbd82fe6c34d0bff52ea295c740262871644ab50302ffefe2980fc491c27f" alt>image-20211009072823622  </p>
<h3 id="define&#x66FF;&#x6362;&#x89C4;&#x5219;"><a href="#define&#x66FF;&#x6362;&#x89C4;&#x5219;" class="headerlink" title="#define&#x66FF;&#x6362;&#x89C4;&#x5219;"></a>#define&#x66FF;&#x6362;&#x89C4;&#x5219;</h3><p>&#x5728;&#x7A0B;&#x5E8F;&#x4E2D;&#x6269;&#x5C55;#define&#x5B9A;&#x4E49;&#x7B26;&#x53F7;&#x548C;&#x5B8F;&#x65F6;&#xFF0C;&#x9700;&#x8981;&#x6D89;&#x53CA;&#x51E0;&#x4E2A;&#x6B65;&#x9AA4;&#x3002;</p>
<ol>
<li>&#x5728;&#x8C03;&#x7528;&#x5B8F;&#x65F6;&#xFF0C;&#x9996;&#x5148;&#x5BF9;&#x53C2;&#x6570;&#x8FDB;&#x884C;&#x68C0;&#x67E5;&#xFF0C;&#x770B;&#x770B;&#x662F;&#x5426;&#x5305;&#x542B;&#x4EFB;&#x4F55;&#x7531;#define&#x5B9A;&#x4E49;&#x7684;&#x7B26;&#x53F7;&#x3002;&#x5982;&#x679C;&#x662F;&#xFF0C;&#x5B83;&#x4EEC;&#x9996;&#x5148;&#x88AB;&#x66FF;&#x6362;&#x3002;</li>
<li>&#x66FF;&#x6362;&#x6587;&#x672C;&#x968F;&#x540E;&#x88AB;&#x63D2;&#x5165;&#x5230;&#x7A0B;&#x5E8F;&#x4E2D;&#x539F;&#x6765;&#x6587;&#x672C;&#x7684;&#x4F4D;&#x7F6E;&#x3002;&#x5BF9;&#x4E8E;&#x5B8F;&#xFF0C;&#x53C2;&#x6570;&#x540D;&#x88AB;&#x4ED6;&#x4EEC;&#x7684;&#x503C;&#x66FF;&#x6362;&#x3002;</li>
<li>&#x6700;&#x540E;&#xFF0C;&#x518D;&#x6B21;&#x5BF9;&#x7ED3;&#x679C;&#x6587;&#x4EF6;&#x8FDB;&#x884C;&#x626B;&#x63CF;&#xFF0C;&#x770B;&#x770B;&#x5B83;&#x662F;&#x5426;&#x5305;&#x542B;&#x4EFB;&#x4F55;&#x7531;#define&#x5B9A;&#x4E49;&#x7684;&#x7B26;&#x53F7;&#x3002;&#x5982;&#x679C;&#x662F;&#xFF0C;&#x5C31;&#x91CD;&#x590D;&#x4E0A;&#x8FF0;&#x5904;&#x7406;&#x8FC7;&#x7A0B;&#x3002;</li>
</ol>
<h4 id="&#x6CE8;&#x610F;-2"><a href="#&#x6CE8;&#x610F;-2" class="headerlink" title="&#x6CE8;&#x610F;"></a>&#x6CE8;&#x610F;</h4><ol>
<li>&#x5B8F;&#x53C2;&#x6570;&#x548C;#define &#x5B9A;&#x4E49;&#x4E2D;&#x53EF;&#x4EE5;&#x51FA;&#x73B0;&#x5176;&#x4ED6;#define&#x5B9A;&#x4E49;&#x7684;&#x53D8;&#x91CF;&#x3002;&#x4F46;&#x662F;&#x5BF9;&#x4E8E;&#x5B8F;&#xFF0C;&#x4E0D;&#x80FD;&#x51FA;&#x73B0;&#x9012;&#x5F52;&#x3002;</li>
<li>&#x5F53;&#x9884;&#x5904;&#x7406;&#x5668;&#x641C;&#x7D22;#define&#x5B9A;&#x4E49;&#x7684;&#x7B26;&#x53F7;&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x5B57;&#x7B26;&#x4E32;&#x5E38;&#x91CF;&#x7684;&#x5185;&#x5BB9;&#x5E76;&#x4E0D;&#x88AB;&#x641C;&#x7D22;&#x3002;</li>
</ol>
<p><img src alt>image-20211009081444979  </p>
<h2 id="&#x548C;"><a href="#&#x548C;" class="headerlink" title="#&#x548C;##"></a>#&#x548C;##</h2><p>&#x5982;&#x4F55;&#x628A;&#x53C2;&#x6570;&#x63D2;&#x5165;&#x5230;&#x5B57;&#x7B26;&#x4E32;&#x4E2D;&#xFF1F;</p>
<p><strong>&#x4F7F;&#x7528;#&#xFF0C;&#x628A;&#x4E00;&#x4E2A;&#x5B8F;&#x53C2;&#x6570;&#x53D8;&#x6210;&#x5BF9;&#x5E94;&#x7684;&#x5B57;&#x7B26;&#x4E32;&#x3002;</strong></p>
<p><img src="https://gitee.com/songjianzaina/juejin_p6/raw/master/img/fe1f52fa40d669149b96daceb4903c1af40711ad949fac11ba3b0f9cbc428888" alt>image-20211009103630360  </p>
<p>&#x4F7F;&#x7528;##</p>
<p>##&#x4E8E;&#x5B83;&#x4E24;&#x8FB9;&#x7684;&#x7B26;&#x53F7;&#x5408;&#x6210;&#x4E00;&#x4E2A;&#x7B26;&#x53F7;&#x3002;<br>&#x5B83;&#x5141;&#x8BB8;&#x5B8F;&#x5B9A;&#x4E49;&#x4ECE;&#x5206;&#x79BB;&#x7684;&#x6587;&#x672C;&#x7247;&#x6BB5;&#x521B;&#x5EFA;&#x6807;&#x8BC6;&#x7B26;&#x3002;</p>
<p><img src="https://gitee.com/songjianzaina/juejin_p6/raw/master/img/324716b94acd1ec17791a2b86d091fbb434de0e508171ebe55cea85657f1aed3" alt>image-20211009104721452  </p>
<h2 id="&#x5E26;&#x526F;&#x4F5C;&#x7528;&#x7684;&#x5B8F;&#x53C2;&#x6570;"><a href="#&#x5E26;&#x526F;&#x4F5C;&#x7528;&#x7684;&#x5B8F;&#x53C2;&#x6570;" class="headerlink" title="&#x5E26;&#x526F;&#x4F5C;&#x7528;&#x7684;&#x5B8F;&#x53C2;&#x6570;"></a>&#x5E26;&#x526F;&#x4F5C;&#x7528;&#x7684;&#x5B8F;&#x53C2;&#x6570;</h2><p>&#x5F53;&#x5B8F;&#x53C2;&#x6570;&#x5728;&#x5B8F;&#x7684;&#x5B9A;&#x4E49;&#x4E2D;&#x51FA;&#x73B0;&#x8D85;&#x8FC7;&#x4E00;&#x6B21;&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x5982;&#x679C;&#x53C2;&#x6570;&#x5E26;&#x6709;&#x526F;&#x4F5C;&#x7528;&#xFF0C;&#x90A3;&#x4E48;&#x4F60;&#x5728;&#x4F7F;&#x7528;&#x8FD9;&#x4E2A;&#x5B8F;&#x7684;&#x65F6;&#x5019;&#x5C31;&#x53EF;&#x80FD;&#x51FA;&#x73B0;&#x5371;&#x9669;&#xFF0C;&#x5BFC;&#x81F4;&#x4E0D;&#x53EF;&#x9884;&#x6D4B;&#x7684;&#x540E;&#x679C;&#x3002;&#x526F;&#x4F5C;&#x7528;&#x5C31;&#x662F;&#x8868;&#x8FBE;&#x5F0F;&#x6C42;&#x503C;&#x7684;&#x65F6;&#x5019;&#x51FA;&#x73B0;&#x7684;&#x6C38;&#x4E45;&#x6027;&#x6548;&#x679C;&#x3002;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">c&#x590D;&#x5236;&#x4EE3;&#x7801;x+1;//&#x4E0D;&#x5E26;&#x526F;&#x4F5C;&#x7528;</span><br><span class="line">x++;//&#x5E26;&#x6709;&#x526F;&#x4F5C;&#x7528;</span><br></pre></td></tr></table></figure>

<p><img src="https://gitee.com/songjianzaina/juejin_p6/raw/master/img/e5d953c94179d45af7eb5176b479411a1152d3c55fac1c5007e02acacf588d8e" alt>image-20211009110209148  </p>
<p><img src="https://gitee.com/songjianzaina/juejin_p6/raw/master/img/83449698d0943d60128da9881fe412c00ad337a6a6af0cd26764dc8cf44c5107" alt>image-20211009113746199  </p>
<h2 id="&#x5B8F;&#x548C;&#x51FD;&#x6570;&#x5BF9;&#x6BD4;"><a href="#&#x5B8F;&#x548C;&#x51FD;&#x6570;&#x5BF9;&#x6BD4;" class="headerlink" title="&#x5B8F;&#x548C;&#x51FD;&#x6570;&#x5BF9;&#x6BD4;"></a>&#x5B8F;&#x548C;&#x51FD;&#x6570;&#x5BF9;&#x6BD4;</h2><p>&#x5B8F;&#x901A;&#x5E38;&#x88AB;&#x5E94;&#x7528;&#x4E8E;&#x6267;&#x884C;&#x7B80;&#x5355;&#x7684;&#x8FD0;&#x7B97;&#x3002;&#x6BD4;&#x5982;&#x5728;&#x4E24;&#x4E2A;&#x6570;&#x4E2D;&#x627E;&#x51FA;&#x8F83;&#x5927;&#x7684;&#x4E00;&#x4E2A;&#x3002;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">c&#x590D;&#x5236;&#x4EE3;&#x7801;#define MAX(a, b) ((a)&gt;(b)?(a):(b))</span><br></pre></td></tr></table></figure>

<h4 id="&#x90A3;&#x4E3A;&#x4EC0;&#x4E48;&#x4E0D;&#x7528;&#x51FD;&#x6570;&#x6765;&#x5B8C;&#x6210;&#x8FD9;&#x4E2A;&#x4EFB;&#x52A1;&#xFF1F;"><a href="#&#x90A3;&#x4E3A;&#x4EC0;&#x4E48;&#x4E0D;&#x7528;&#x51FD;&#x6570;&#x6765;&#x5B8C;&#x6210;&#x8FD9;&#x4E2A;&#x4EFB;&#x52A1;&#xFF1F;" class="headerlink" title="&#x90A3;&#x4E3A;&#x4EC0;&#x4E48;&#x4E0D;&#x7528;&#x51FD;&#x6570;&#x6765;&#x5B8C;&#x6210;&#x8FD9;&#x4E2A;&#x4EFB;&#x52A1;&#xFF1F;"></a><strong>&#x90A3;&#x4E3A;&#x4EC0;&#x4E48;&#x4E0D;&#x7528;&#x51FD;&#x6570;&#x6765;&#x5B8C;&#x6210;&#x8FD9;&#x4E2A;&#x4EFB;&#x52A1;&#xFF1F;</strong></h4><h5 id="&#x539F;&#x56E0;&#x6709;&#x4E8C;&#xFF1A;"><a href="#&#x539F;&#x56E0;&#x6709;&#x4E8C;&#xFF1A;" class="headerlink" title="&#x539F;&#x56E0;&#x6709;&#x4E8C;&#xFF1A;"></a>&#x539F;&#x56E0;&#x6709;&#x4E8C;&#xFF1A;</h5><ol>
<li>&#x7528;&#x4E8E;&#x8C03;&#x7528;&#x51FD;&#x6570;&#x548C;&#x4ECE;&#x51FD;&#x6570;&#x8FD4;&#x56DE;&#x7684;&#x4EE3;&#x7801;&#x53EF;&#x80FD;&#x6BD4;&#x5B9E;&#x9645;&#x6267;&#x884C;&#x8FD9;&#x4E2A;&#x5C0F;&#x578B;&#x8BA1;&#x7B97;&#x5DE5;&#x4F5C;&#x6240;&#x9700;&#x8981;&#x7684;&#x65F6;&#x95F4;&#x66F4;&#x591A;&#x3002;&#x6240;&#x4EE5;&#x5B8F;&#x6BD4;&#x51FD;&#x6570;&#x5728;&#x7A0B;&#x5E8F;&#x7684;&#x89C4;&#x6A21;&#x548C;&#x901F;&#x5EA6;&#x65B9;&#x9762;&#x66F4;&#x80DC;&#x4E00;&#x7B79;&#x3002;</li>
<li>&#x66F4;&#x4E3A;&#x91CD;&#x8981;&#x7684;&#x662F;&#x51FD;&#x6570;&#x7684;&#x53C2;&#x6570;&#x5FC5;&#x987B;&#x58F0;&#x660E;&#x4E3A;&#x7279;&#x5B9A;&#x7684;&#x7C7B;&#x578B;&#x3002;&#x6240;&#x4EE5;&#x51FD;&#x6570;&#x53EA;&#x80FD;&#x5728;&#x7C7B;&#x578B;&#x5408;&#x9002;&#x7684;&#x8868;&#x8FBE;&#x5F0F;&#x4E0A;&#x4F7F;&#x7528;&#x3002;&#x53CD;&#x4E4B;&#x8FD9;&#x4E2A;&#x5B8F;&#x600E;&#x53EF;&#x4EE5;&#x9002;&#x7528;&#x4E8E;&#x6574;&#x5F62;&#x3001;&#x957F;&#x6574;&#x578B;&#x3001;&#x6D6E;&#x70B9;&#x578B;&#x7B49;&#x53EF;&#x4EE5;&#x7528;&#x4E8E;&gt;&#x6765;&#x6BD4;&#x8F83;&#x7684;&#x7C7B;&#x578B;&#x3002;&#x5B8F;&#x662F;&#x7C7B;&#x578B;&#x65E0;&#x5173;&#x7684;&#x3002;</li>
</ol>
<h5 id="&#x5F53;&#x7136;&#x548C;&#x51FD;&#x6570;&#x76F8;&#x6BD4;&#x5B8F;&#x4E5F;&#x6709;&#x52A3;&#x52BF;&#x7684;&#x5730;&#x65B9;&#xFF1A;"><a href="#&#x5F53;&#x7136;&#x548C;&#x51FD;&#x6570;&#x76F8;&#x6BD4;&#x5B8F;&#x4E5F;&#x6709;&#x52A3;&#x52BF;&#x7684;&#x5730;&#x65B9;&#xFF1A;" class="headerlink" title="&#x5F53;&#x7136;&#x548C;&#x51FD;&#x6570;&#x76F8;&#x6BD4;&#x5B8F;&#x4E5F;&#x6709;&#x52A3;&#x52BF;&#x7684;&#x5730;&#x65B9;&#xFF1A;"></a>&#x5F53;&#x7136;&#x548C;&#x51FD;&#x6570;&#x76F8;&#x6BD4;&#x5B8F;&#x4E5F;&#x6709;&#x52A3;&#x52BF;&#x7684;&#x5730;&#x65B9;&#xFF1A;</h5><ol>
<li>&#x6BCF;&#x6B21;&#x4F7F;&#x7528;&#x5B8F;&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x4E00;&#x4EFD;&#x5B8F;&#x5B9A;&#x4E49;&#x7684;&#x4EE3;&#x7801;&#x5C06;&#x63D2;&#x5165;&#x5230;&#x7A0B;&#x5E8F;&#x4E2D;&#x3002;&#x9664;&#x975E;&#x5B8F;&#x6BD4;&#x8F83;&#x77ED;&#xFF0C;&#x5426;&#x5219;&#x53EF;&#x80FD;&#x5927;&#x5E45;&#x5EA6;&#x589E;&#x52A0;&#x7A0B;&#x5E8F;&#x7684;&#x957F;&#x5EA6;&#x3002;</li>
<li>&#x5B8F;&#x662F;&#x6CA1;&#x6CD5;&#x8C03;&#x8BD5;&#x7684;&#x3002;<strong>(&#x56E0;&#x4E3A;&#x6211;&#x4EEC;&#x8C03;&#x8BD5;&#x662F;&#x5728;&#x8FD0;&#x884C;&#x9636;&#x6BB5;&#x8C03;&#x8BD5;&#x7684;&#xFF0C;&#x5B8F;&#x662F;&#x5728;&#x7F16;&#x8BD1;&#x9636;&#x6BB5;&#x5C31;&#x66FF;&#x6362;&#x4E86;)</strong></li>
<li>&#x5B8F;&#x7531;&#x4E8E;&#x7C7B;&#x578B;&#x65E0;&#x5173;&#xFF0C;&#x4E5F;&#x5C31;&#x4E0D;&#x591F;&#x4E25;&#x8C28;&#x3002;</li>
<li>&#x5B8F;&#x53EF;&#x80FD;&#x4F1A;&#x5E26;&#x6765;&#x8FD0;&#x7B97;&#x7B26;&#x4F18;&#x5148;&#x7EA7;&#x7684;&#x95EE;&#x9898;&#xFF0C;&#x5BFC;&#x81F4;&#x7A0B;&#x5BB9;&#x6613;&#x51FA;&#x73B0;&#x9519;&#x3002;</li>
</ol>
<p><strong>&#x5B8F;&#x6709;&#x65F6;&#x5019;&#x53EF;&#x4EE5;&#x505A;&#x51FD;&#x6570;&#x505A;&#x4E0D;&#x5230;&#x7684;&#x4E8B;&#x60C5;&#x3002;&#x6BD4;&#x5982;&#xFF1A;&#x5B8F;&#x7684;&#x53C2;&#x6570;&#x53EF;&#x4EE5;&#x51FA;&#x73B0;&#x7C7B;&#x578B;&#xFF0C;&#x4F46;&#x662F;&#x51FD;&#x6570;&#x505A;&#x4E0D;&#x5230;&#x3002;</strong></p>
<p><img src="https://gitee.com/songjianzaina/juejin_p6/raw/master/img/75ad057ad0c03b3c445216d14e7702b919b30a051015b521f67b654428e47ff0" alt>image-20211009145318151  </p>
<h2 id="&#x5B8F;&#x548C;&#x51FD;&#x6570;&#x7684;&#x4E00;&#x4E2A;&#x5BF9;&#x6BD4;"><a href="#&#x5B8F;&#x548C;&#x51FD;&#x6570;&#x7684;&#x4E00;&#x4E2A;&#x5BF9;&#x6BD4;" class="headerlink" title="&#x5B8F;&#x548C;&#x51FD;&#x6570;&#x7684;&#x4E00;&#x4E2A;&#x5BF9;&#x6BD4;"></a>&#x5B8F;&#x548C;&#x51FD;&#x6570;&#x7684;&#x4E00;&#x4E2A;&#x5BF9;&#x6BD4;</h2><table>
<thead>
<tr>
<th>&#x5C5E;&#x6027;</th>
<th>#define&#x5B9A;&#x4E49;&#x5B8F;</th>
<th>&#x51FD;&#x6570;</th>
</tr>
</thead>
<tbody><tr>
<td>&#x4EE3;&#x7801;&#x957F;&#x5EA6;</td>
<td>&#x6BCF;&#x6B21;&#x4F7F;&#x7528;&#x65F6;&#xFF0C;&#x5B8F;&#x4EE3;&#x7801;&#x90FD;&#x4F1A;&#x88AB;&#x63D2;&#x5165;&#x5230;&#x7A0B;&#x5E8F;&#x4E2D;&#x3002;&#x9664;&#x4E86;&#x975E;&#x5E38;&#x5C0F;&#x7684;&#x5B8F;&#x4E4B;&#x5916;&#xFF0C;&#x7A0B;&#x5E8F;&#x7684;&#x957F;&#x5EA6;&#x4F1A;&#x5927;&#x5E45;&#x5EA6;&#x589E;&#x957F;</td>
<td>&#x51FD;&#x6570;&#x4EE3;&#x7801;&#x53EA;&#x51FA;&#x73B0;&#x4E8E;&#x4E00;&#x4E2A;&#x5730;&#x65B9;&#xFF1B;&#x6BCF;&#x6B21;&#x4F7F;&#x7528;&#x8FD9;&#x4E2A;&#x51FD;&#x6570;&#x65F6;&#xFF0C;&#x90FD;&#x8C03;&#x7528;&#x90A3;&#x4E2A;&#x5730;&#x65B9;&#x7684;&#x540C;&#x4E00;&#x4EFD;&#x4EE3;&#x7801;</td>
</tr>
<tr>
<td>&#x6267;&#x884C;&#x901F;&#x5EA6;</td>
<td>&#x66F4;&#x5FEB;</td>
<td>&#x5B58;&#x5728;&#x51FD;&#x6570;&#x7684;&#x8C03;&#x7528;&#x548C;&#x8FD4;&#x56DE;&#x7684;&#x989D;&#x5916;&#x5F00;&#x9500;&#xFF0C;&#x6240;&#x4EE5;&#x76F8;&#x5BF9;&#x6162;&#x4E00;&#x4E9B;</td>
</tr>
<tr>
<td>&#x64CD;&#x4F5C;&#x7B26;&#x4F18;&#x5148;&#x7EA7;</td>
<td>&#x5B8F;&#x53C2;&#x6570;&#x7684;&#x6C42;&#x503C;&#x662F;&#x5728;&#x6240;&#x6709;&#x5468;&#x56F4;&#x8868;&#x8FBE;&#x5F0F;&#x7684;&#x4E0A;&#x4E0B;&#x6587;&#x73AF;&#x5883;&#x91CC;&#xFF0C;&#x9664;&#x975E;&#x52A0;&#x4E0A;&#x62EC;&#x53F7;&#xFF0C;&#x5426;&#x5219;&#x90BB;&#x8FD1;&#x64CD;&#x4F5C;&#x7B26;&#x7684;&#x4F18;&#x5148;&#x7EA7;&#x53EF;&#x80FD;&#x4F1A;&#x4EA7;&#x751F;&#x4E0D;&#x53EF;&#x9884;&#x6599;&#x7684;&#x540E;&#x679C;&#xFF0C;&#x6240;&#x4EE5;&#x5EFA;&#x8BAE;&#x5B8F;&#x5728;&#x4E66;&#x5199;&#x7684;&#x65F6;&#x5019;&#x591A;&#x4E9B;&#x62EC;&#x53F7;&#x3002;</td>
<td>&#x51FD;&#x6570;&#x53C2;&#x6570;&#x53EA;&#x5728;&#x51FD;&#x6570;&#x8C03;&#x7528;&#x7684;&#x65F6;&#x5019;&#x6C42;&#x503C;&#x4E00;&#x6B21;&#xFF0C;&#x5B83;&#x7684;&#x7ED3;&#x679C;&#x503C;&#x4F20;&#x9012;&#x7ED9;&#x51FD;&#x6570;&#x3002;&#x8868;&#x8FBE;&#x5F0F;&#x7684;&#x6C42;&#x503C;&#x7ED3;&#x679C;&#x66F4;&#x5BB9;&#x6613;&#x9884;&#x6D4B;&#x3002;</td>
</tr>
<tr>
<td>&#x5E26;&#x6709;&#x526F;&#x4F5C;&#x7528;&#x7684;&#x53C2;&#x6570;</td>
<td>&#x53C2;&#x6570;&#x53EF;&#x80FD;&#x88AB;&#x66FF;&#x6362;&#x5230;&#x5B8F;&#x4F53;&#x4E2D;&#x7684;&#x591A;&#x4E2A;&#x4F4D;&#x7F6E;&#xFF0C;&#x6240;&#x4EE5;&#x5E26;&#x6709;&#x526F;&#x4F5C;&#x7528;&#x7684;&#x53C2;&#x6570;&#x6C42;&#x503C;&#x53EF;&#x80FD;&#x4F1A;&#x4EA7;&#x751F;&#x4E0D;&#x53EF;&#x9884;&#x6599;&#x7684;&#x7ED3;&#x679C;&#x3002;</td>
<td>&#x51FD;&#x6570;&#x53C2;&#x6570;&#x53EA;&#x5728;&#x4F20;&#x53C2;&#x7684;&#x65F6;&#x5019;&#x6C42;&#x503C;&#x4E00;&#x6B21;&#xFF0C;&#x7ED3;&#x679C;&#x66F4;&#x5BB9;&#x6613;&#x63A7;&#x5236;&#x3002;</td>
</tr>
<tr>
<td>&#x53C2;&#x6570;&#x7C7B;&#x578B;</td>
<td>&#x5B8F;&#x7684;&#x53C2;&#x6570;&#x4E0E;&#x7C7B;&#x578B;&#x65E0;&#x5173;&#xFF0C;&#x53EA;&#x8981;&#x5BF9;&#x53C2;&#x6570;&#x7684;&#x64CD;&#x4F5C;&#x662F;&#x5408;&#x6CD5;&#x7684;&#xFF0C;&#x5B83;&#x5C31;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#x4E8E;&#x4EFB;&#x4F55;&#x53C2;&#x6570;&#x7C7B;&#x578B;&#x3002;</td>
<td>&#x51FD;&#x6570;&#x7684;&#x53C2;&#x6570;&#x662F;&#x4E0E;&#x7C7B;&#x578B;&#x6709;&#x5173;&#x7684;&#xFF0C;&#x5982;&#x679C;&#x53C2;&#x6570;&#x7684;&#x7C7B;&#x578B;&#x4E0D;&#x540C;&#xFF0C;&#x5C31;&#x9700;&#x8981;&#x4E0D;&#x540C;&#x7684;&#x51FD;&#x6570;&#xFF0C;&#x5373;&#x4F7F;&#x4ED6;&#x4EEC;&#x6267;&#x884C;&#x7684;&#x4EFB;&#x52A1;&#x662F;&#x4E0D;&#x540C;&#x3002;</td>
</tr>
<tr>
<td>&#x8C03;&#x8BD5;</td>
<td>&#x5B8F;&#x662F;&#x4E0D;&#x65B9;&#x4FBF;&#x8C03;&#x8BD5;&#x7684;</td>
<td>&#x51FD;&#x6570;&#x662F;&#x53EF;&#x4EE5;&#x9010;&#x8BED;&#x53E5;&#x8C03;&#x8BD5;&#x7684;</td>
</tr>
<tr>
<td>&#x9012;&#x5F52;</td>
<td>&#x5B8F;&#x662F;&#x4E0D;&#x80FD;&#x9012;&#x5F52;&#x7684;</td>
<td>&#x51FD;&#x6570;&#x662F;&#x53EF;&#x4EE5;&#x9012;&#x5F52;&#x7684;</td>
</tr>
</tbody></table>
<h2 id="&#x547D;&#x540D;&#x7EA6;&#x5B9A;"><a href="#&#x547D;&#x540D;&#x7EA6;&#x5B9A;" class="headerlink" title="&#x547D;&#x540D;&#x7EA6;&#x5B9A;"></a>&#x547D;&#x540D;&#x7EA6;&#x5B9A;</h2><p>&#x4E00;&#x822C;&#x6765;&#x8BB2;&#x51FD;&#x6570;&#x7684;&#x5B8F;&#x7684;&#x4F7F;&#x7528;&#x8BED;&#x6CD5;&#x5F88;&#x76F8;&#x4F3C;&#x3002;&#x6240;&#x4EE5;&#x8BED;&#x8A00;&#x672C;&#x8EAB;&#x6CA1;&#x6CD5;&#x5E2E;&#x6211;&#x4EEC;&#x533A;&#x5206;&#x4E8C;&#x8005;&#x3002;<br>&#x90A3;&#x6211;&#x4EEC;&#x5E73;&#x65F6;&#x7684;&#x4E00;&#x4E2A;&#x4E60;&#x60EF;&#x662F;&#xFF1A;<br><strong>&#x628A;&#x5B8F;&#x540D;&#x5168;&#x90E8;&#x5927;&#x5199;</strong><br><strong>&#x51FD;&#x6570;&#x540D;&#x4E0D;&#x8981;&#x5168;&#x90E8;&#x5927;&#x5199;</strong></p>
<h2 id="undef"><a href="#undef" class="headerlink" title="#undef"></a>#undef</h2><p>&#x8FD9;&#x6761;&#x6307;&#x4EE4;&#x7528;&#x4E8E;&#x79FB;&#x9664;&#x4E00;&#x4E2A;&#x5B8F;&#x5B9A;&#x4E49;</p>
<p><img src="https://gitee.com/songjianzaina/juejin_p6/raw/master/img/4e94f3e5a9dca5aa43c4e22d15f36b9edae879e325396925593a1b846f162f2a" alt>image-20211009155513895  </p>
<h2 id="&#x547D;&#x4EE4;&#x884C;&#x5B9A;&#x4E49;&#xFF08;VS&#x4E0D;&#x652F;&#x6301;&#xFF0C;linux&#x8FD9;&#x4E2A;&#x7535;&#x8111;&#x6CA1;&#x6709;&#x54C8;&#x54C8;&#x4E0B;&#x9762;&#x5C31;&#x662F;&#x6982;&#x5FF5;&#x81EA;&#x5DF1;&#x770B;&#xFF09;"><a href="#&#x547D;&#x4EE4;&#x884C;&#x5B9A;&#x4E49;&#xFF08;VS&#x4E0D;&#x652F;&#x6301;&#xFF0C;linux&#x8FD9;&#x4E2A;&#x7535;&#x8111;&#x6CA1;&#x6709;&#x54C8;&#x54C8;&#x4E0B;&#x9762;&#x5C31;&#x662F;&#x6982;&#x5FF5;&#x81EA;&#x5DF1;&#x770B;&#xFF09;" class="headerlink" title="&#x547D;&#x4EE4;&#x884C;&#x5B9A;&#x4E49;&#xFF08;VS&#x4E0D;&#x652F;&#x6301;&#xFF0C;linux&#x8FD9;&#x4E2A;&#x7535;&#x8111;&#x6CA1;&#x6709;&#x54C8;&#x54C8;&#x4E0B;&#x9762;&#x5C31;&#x662F;&#x6982;&#x5FF5;&#x81EA;&#x5DF1;&#x770B;&#xFF09;"></a>&#x547D;&#x4EE4;&#x884C;&#x5B9A;&#x4E49;&#xFF08;VS&#x4E0D;&#x652F;&#x6301;&#xFF0C;linux&#x8FD9;&#x4E2A;&#x7535;&#x8111;&#x6CA1;&#x6709;&#x54C8;&#x54C8;&#x4E0B;&#x9762;&#x5C31;&#x662F;&#x6982;&#x5FF5;&#x81EA;&#x5DF1;&#x770B;&#xFF09;</h2><p>&#x8BB8;&#x591A;C &#x7684;&#x7F16;&#x8BD1;&#x5668;&#x63D0;&#x4F9B;&#x4E86;&#x4E00;&#x79CD;&#x80FD;&#x529B;&#xFF0C;&#x5141;&#x8BB8;&#x5728;&#x547D;&#x4EE4;&#x884C;&#x4E2D;&#x5B9A;&#x4E49;&#x7B26;&#x53F7;&#x3002;&#x7528;&#x4E8E;&#x542F;&#x52A8;&#x7F16;&#x8BD1;&#x8FC7;&#x7A0B;&#x3002;</p>
<p>&#x4F8B;&#x5982;&#xFF1A;&#x5F53;&#x6211;&#x4EEC;&#x6839;&#x636E;&#x540C;&#x4E00;&#x4E2A;&#x6E90;&#x6587;&#x4EF6;&#x8981;&#x7F16;&#x8BD1;&#x51FA;&#x4E0D;&#x540C;&#x7684;&#x4E00;&#x4E2A;&#x7A0B;&#x5E8F;&#x7684;&#x4E0D;&#x540C;&#x7248;&#x672C;&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x8FD9;&#x4E2A;&#x7279;&#x6027;&#x6709;&#x70B9;&#x7528;&#x5904;&#x3002;&#xFF08;&#x5047;&#x5B9A;&#x67D0;&#x4E2A;&#x7A0B;&#x5E8F;&#x4E2D;&#x58F0;&#x660E;&#x4E86;&#x4E00;&#x4E2A;&#x67D0;&#x4E2A;&#x957F;&#x5EA6;&#x7684;&#x6570;&#x7EC4;&#xFF0C;&#x5982;&#x679C;&#x673A;&#x5668;&#x5185;&#x5B58;&#x6709;&#x9650;&#xFF0C;&#x6211;&#x4EEC;&#x9700;&#x8981;&#x4E00;&#x4E2A;&#x5F88;&#x5C0F;&#x7684;&#x6570;&#x7EC4;&#xFF0C;&#x4F46;&#x662F;&#x53E6;&#x5916;&#x4E00;<br>&#x4E2A;&#x673A;&#x5668;&#x5185;&#x5B58;&#x5927;&#x5199;&#xFF0C;&#x6211;&#x4EEC;&#x9700;&#x8981;&#x4E00;&#x4E2A;&#x6570;&#x7EC4;&#x80FD;&#x591F;&#x5927;&#x5199;&#x3002;&#xFF09;</p>
<h2 id="&#x6761;&#x4EF6;&#x7F16;&#x8BD1;"><a href="#&#x6761;&#x4EF6;&#x7F16;&#x8BD1;" class="headerlink" title="&#x6761;&#x4EF6;&#x7F16;&#x8BD1;"></a>&#x6761;&#x4EF6;&#x7F16;&#x8BD1;</h2><p><strong>&#x6EE1;&#x8DB3;&#x6761;&#x4EF6;&#x4EE3;&#x7801;&#x5C31;&#x53C2;&#x4E0E;&#x7F16;&#x8BD1;&#xFF0C;&#x4E0D;&#x6EE1;&#x8DB3;&#x6761;&#x4EF6;&#xFF0C;&#x4EE3;&#x7801;&#x5C31;&#x4E0D;&#x53C2;&#x4E0E;&#x7F16;&#x8BD1;</strong></p>
<h4 id="&#x6BD4;&#x5982;&#x8BF4;&#xFF1A;"><a href="#&#x6BD4;&#x5982;&#x8BF4;&#xFF1A;" class="headerlink" title="&#x6BD4;&#x5982;&#x8BF4;&#xFF1A;"></a>&#x6BD4;&#x5982;&#x8BF4;&#xFF1A;</h4><p>&#x8C03;&#x8BD5;&#x6027;&#x7684;&#x4EE3;&#x7801;&#xFF0C;&#x5220;&#x9664;&#x53EF;&#x60DC;&#xFF0C;&#x4FDD;&#x7559;&#x53C8;&#x788D;&#x4E8B;&#xFF0C;&#x6240;&#x4EE5;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x9009;&#x62E9;&#x6027;&#x7684;&#x7F16;&#x8BD1;&#x3002;</p>
<p><img src="https://gitee.com/songjianzaina/juejin_p6/raw/master/img/8ec9627c8b1522b60751f2edd036ea2eea81e4eaea1e165a2ed9ce51e19fa117" alt>image-20211009161934319  </p>
<h3 id="&#x5E38;&#x89C1;&#x7684;&#x6761;&#x4EF6;&#x7F16;&#x8BD1;&#x6307;&#x4EE4;"><a href="#&#x5E38;&#x89C1;&#x7684;&#x6761;&#x4EF6;&#x7F16;&#x8BD1;&#x6307;&#x4EE4;" class="headerlink" title="&#x5E38;&#x89C1;&#x7684;&#x6761;&#x4EF6;&#x7F16;&#x8BD1;&#x6307;&#x4EE4;"></a>&#x5E38;&#x89C1;&#x7684;&#x6761;&#x4EF6;&#x7F16;&#x8BD1;&#x6307;&#x4EE4;</h3><h4 id="if-&#x5E38;&#x91CF;&#x8868;&#x8FBE;&#x5F0F;"><a href="#if-&#x5E38;&#x91CF;&#x8868;&#x8FBE;&#x5F0F;" class="headerlink" title="#if &#x5E38;&#x91CF;&#x8868;&#x8FBE;&#x5F0F;"></a>#if &#x5E38;&#x91CF;&#x8868;&#x8FBE;&#x5F0F;</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">c&#x590D;&#x5236;&#x4EE3;&#x7801;#if &#x5E38;&#x91CF;&#x8868;&#x8FBE;&#x5F0F;</span><br><span class="line">//...</span><br><span class="line">#endif</span><br></pre></td></tr></table></figure>

<p><img src="https://gitee.com/songjianzaina/juejin_p6/raw/master/img/72ae0b0bc3198c46d2affbd6adea7c60f19d607fb07f894d70f6923e4f590cbb" alt>image-20211009163553953  </p>
<h4 id="&#x6CE8;&#x610F;-3"><a href="#&#x6CE8;&#x610F;-3" class="headerlink" title="&#x6CE8;&#x610F;"></a>&#x6CE8;&#x610F;</h4><p>&#x5FC5;&#x987B;&#x662F;&#x5E38;&#x91CF;&#x8868;&#x8FBE;&#x5F0F;&#xFF0C;&#x53D8;&#x91CF;&#x662F;&#x4E0D;&#x884C;&#x7684;</p>
<p><img src="https://gitee.com/songjianzaina/juejin_p6/raw/master/img/e196760387baf4ac8ded6c89a451e991e5a71966c62ad1115b235ce3ba5c2e59" alt>image-20211009164717300  </p>
<p>&#x81EA;&#x5DF1;&#x60F3;&#x60F3;&#x4E3A;&#x4EC0;&#x4E48;&#x53EA;&#x80FD;&#x662F;&#x5E38;&#x91CF;&#xFF1A;&#x8FD9;&#x4E9B;&#x53D8;&#x91CF;&#x662F;&#x5728;&#x8FD0;&#x884C;&#x7684;&#x65F6;&#x5019;&#x624D;&#x4F1A;&#x521B;&#x5EFA;&#xFF0C;&#x4F46;&#x662F;#if &#x662F;&#x5728;&#x4EC0;&#x4E48;&#x65F6;&#x5019;&#x5904;&#x7406;&#x7684;&#x5462;&#xFF0C;&#x662F;&#x5728;&#x9884;&#x7F16;&#x8BD1;&#x9636;&#x6BB5;&#x5C31;&#x5904;&#x7406;&#x597D;&#x4E86;&#xFF0C;&#x5728;&#x521B;&#x5EFA;&#x8FD9;&#x4E2A;&#x5C40;&#x90E8;&#x53D8;&#x91CF;&#x7684;&#x524D;&#x9762;&#x5C31;&#x5904;&#x7406;&#x597D;&#x4E86;</p>
<h4 id="&#x5E38;&#x91CF;&#x8868;&#x8FBE;&#x5F0F;&#x7531;&#x9884;&#x5904;&#x7406;&#x5668;&#x6C42;&#x503C;&#x3002;"><a href="#&#x5E38;&#x91CF;&#x8868;&#x8FBE;&#x5F0F;&#x7531;&#x9884;&#x5904;&#x7406;&#x5668;&#x6C42;&#x503C;&#x3002;" class="headerlink" title="&#x5E38;&#x91CF;&#x8868;&#x8FBE;&#x5F0F;&#x7531;&#x9884;&#x5904;&#x7406;&#x5668;&#x6C42;&#x503C;&#x3002;"></a>&#x5E38;&#x91CF;&#x8868;&#x8FBE;&#x5F0F;&#x7531;&#x9884;&#x5904;&#x7406;&#x5668;&#x6C42;&#x503C;&#x3002;</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">C&#x590D;&#x5236;&#x4EE3;&#x7801;//&#x5E38;&#x91CF;&#x8868;&#x8FBE;&#x5F0F;&#x7531;&#x9884;&#x5904;&#x7406;&#x5668;&#x6C42;&#x503C;&#x3002;</span><br><span class="line">#define __DEBUG__ 1</span><br><span class="line">#if __DEBUG__</span><br><span class="line">//..</span><br><span class="line">#endif</span><br></pre></td></tr></table></figure>

<p><img src="https://gitee.com/songjianzaina/juejin_p6/raw/master/img/17c8cc9687cf908e2700b7524ac0ed841b3c8f4570b0245feec841a9fd3fd38c" alt>image-20211009164024619  </p>
<h4 id="&#x591A;&#x4E2A;&#x5206;&#x652F;&#x7684;&#x6761;&#x4EF6;&#x7F16;&#x8BD1;"><a href="#&#x591A;&#x4E2A;&#x5206;&#x652F;&#x7684;&#x6761;&#x4EF6;&#x7F16;&#x8BD1;" class="headerlink" title="&#x591A;&#x4E2A;&#x5206;&#x652F;&#x7684;&#x6761;&#x4EF6;&#x7F16;&#x8BD1;"></a>&#x591A;&#x4E2A;&#x5206;&#x652F;&#x7684;&#x6761;&#x4EF6;&#x7F16;&#x8BD1;</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">c&#x590D;&#x5236;&#x4EE3;&#x7801;#if &#x5E38;&#x91CF;&#x8868;&#x8FBE;&#x5F0F;</span><br><span class="line">//...</span><br><span class="line">#elif &#x5E38;&#x91CF;&#x8868;&#x8FBE;&#x5F0F;</span><br><span class="line">//...</span><br><span class="line">#else</span><br><span class="line">//...</span><br><span class="line">#endif</span><br></pre></td></tr></table></figure>

<p><img src="https://gitee.com/songjianzaina/juejin_p6/raw/master/img/ed66be4f3868b0ef83c9cbdf0d3b62e4e522991f9ece1db00348a8b8887c54ab" alt>image-20211009165834094  </p>
<h4 id="&#x5224;&#x65AD;&#x662F;&#x5426;&#x88AB;&#x5B9A;&#x4E49;"><a href="#&#x5224;&#x65AD;&#x662F;&#x5426;&#x88AB;&#x5B9A;&#x4E49;" class="headerlink" title="&#x5224;&#x65AD;&#x662F;&#x5426;&#x88AB;&#x5B9A;&#x4E49;"></a>&#x5224;&#x65AD;&#x662F;&#x5426;&#x88AB;&#x5B9A;&#x4E49;</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">c&#x590D;&#x5236;&#x4EE3;&#x7801;#if defined(symbol)</span><br><span class="line">#ifdef symbol</span><br><span class="line">#if !defined(symbol)</span><br><span class="line">#ifndef symbol</span><br></pre></td></tr></table></figure>

<p><img src="https://gitee.com/songjianzaina/juejin_p6/raw/master/img/5e4170ad78551bd69969c1efbb0cf17c05497119de6ebaf2147eb64bc5cd3f94" alt>image-20211009171023343  </p>
<h4 id="&#x5D4C;&#x5957;&#x6307;&#x4EE4;"><a href="#&#x5D4C;&#x5957;&#x6307;&#x4EE4;" class="headerlink" title="&#x5D4C;&#x5957;&#x6307;&#x4EE4;"></a>&#x5D4C;&#x5957;&#x6307;&#x4EE4;</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">c&#x590D;&#x5236;&#x4EE3;&#x7801;#if defined(OS_UNIX)</span><br><span class="line">#ifdef OPTION1</span><br><span class="line">unix_version_option1();</span><br><span class="line">#endif</span><br><span class="line">#ifdef OPTION2</span><br><span class="line">unix_version_option2();</span><br><span class="line">#endif</span><br><span class="line">#elif defined(OS_MSDOS)</span><br><span class="line">#ifdef OPTION2</span><br><span class="line">msdos_version_option2();</span><br><span class="line">#endif</span><br><span class="line">#endif</span><br></pre></td></tr></table></figure>

<h2 id="&#x6587;&#x4EF6;&#x5305;&#x542B;"><a href="#&#x6587;&#x4EF6;&#x5305;&#x542B;" class="headerlink" title="&#x6587;&#x4EF6;&#x5305;&#x542B;"></a>&#x6587;&#x4EF6;&#x5305;&#x542B;</h2><p>&#x6211;&#x4EEC;&#x5DF2;&#x7ECF;&#x77E5;&#x9053;&#xFF0C; #include &#x6307;&#x4EE4;&#x53EF;&#x4EE5;&#x4F7F;&#x53E6;&#x5916;&#x4E00;&#x4E2A;&#x6587;&#x4EF6;&#x88AB;&#x7F16;&#x8BD1;&#x3002;&#x5C31;&#x50CF;&#x5B83;&#x5B9E;&#x9645;&#x51FA;&#x73B0;&#x4E8E; #include &#x6307;&#x4EE4;&#x7684;&#x5730;&#x65B9;&#x4E00;&#x6837;&#x3002;<br>&#x8FD9;&#x79CD;&#x66FF;&#x6362;&#x7684;&#x65B9;&#x5F0F;&#x5F88;&#x7B80;&#x5355;&#xFF1A;<br>&#x9884;&#x5904;&#x7406;&#x5668;&#x5148;&#x5220;&#x9664;&#x8FD9;&#x6761;&#x6307;&#x4EE4;&#xFF0C;&#x5E76;&#x7528;&#x5305;&#x542B;&#x6587;&#x4EF6;&#x7684;&#x5185;&#x5BB9;&#x66FF;&#x6362;&#x3002;<br>&#x8FD9;&#x6837;&#x4E00;&#x4E2A;&#x6E90;&#x6587;&#x4EF6;&#x88AB;&#x5305;&#x542B;10&#x6B21;&#xFF0C;&#x90A3;&#x5C31;&#x5B9E;&#x9645;&#x88AB;&#x7F16;&#x8BD1;10&#x6B21;&#x3002;</p>
<h3 id="&#x5934;&#x6587;&#x4EF6;&#x88AB;&#x5305;&#x542B;&#x7684;&#x65B9;&#x5F0F;"><a href="#&#x5934;&#x6587;&#x4EF6;&#x88AB;&#x5305;&#x542B;&#x7684;&#x65B9;&#x5F0F;" class="headerlink" title="&#x5934;&#x6587;&#x4EF6;&#x88AB;&#x5305;&#x542B;&#x7684;&#x65B9;&#x5F0F;"></a>&#x5934;&#x6587;&#x4EF6;&#x88AB;&#x5305;&#x542B;&#x7684;&#x65B9;&#x5F0F;</h3><h4 id="&#x672C;&#x5730;&#x6587;&#x4EF6;&#x5305;&#x542B;"><a href="#&#x672C;&#x5730;&#x6587;&#x4EF6;&#x5305;&#x542B;" class="headerlink" title="&#x672C;&#x5730;&#x6587;&#x4EF6;&#x5305;&#x542B;"></a>&#x672C;&#x5730;&#x6587;&#x4EF6;&#x5305;&#x542B;</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">C&#x590D;&#x5236;&#x4EE3;&#x7801;#include &quot;filename&quot;</span><br></pre></td></tr></table></figure>

<p>&#x67E5;&#x627E;&#x7B56;&#x7565;&#xFF1A;&#x5148;&#x5728;&#x6E90;&#x6587;&#x4EF6;&#x6240;&#x5728;&#x76EE;&#x5F55;&#x4E0B;&#x67E5;&#x627E;&#xFF0C;&#x5982;&#x679C;&#x8BE5;&#x5934;&#x6587;&#x4EF6;&#x672A;&#x627E;&#x5230;&#xFF0C;&#x7F16;&#x8BD1;&#x5668;&#x5C31;&#x50CF;&#x67E5;&#x627E;&#x5E93;&#x51FD;&#x6570;&#x5934;&#x6587;&#x4EF6;&#x4E00;&#x6837;&#x5728;&#x6807;&#x51C6;&#x4F4D;&#x7F6E;&#x67E5;&#x627E;&#x5934;&#x6587;&#x4EF6;&#x3002;&#x5982;&#x679C;&#x627E;&#x4E0D;&#x5230;&#x5C31;&#x63D0;&#x793A;&#x7F16;&#x8BD1;&#x9519;&#x8BEF;&#x3002;</p>
<h4 id="&#x5E93;&#x6587;&#x4EF6;&#x5305;&#x542B;"><a href="#&#x5E93;&#x6587;&#x4EF6;&#x5305;&#x542B;" class="headerlink" title="&#x5E93;&#x6587;&#x4EF6;&#x5305;&#x542B;"></a>&#x5E93;&#x6587;&#x4EF6;&#x5305;&#x542B;</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">c&#x590D;&#x5236;&#x4EE3;&#x7801;#include &lt;filename.h&gt;</span><br></pre></td></tr></table></figure>

<p>&#x67E5;&#x627E;&#x5934;&#x6587;&#x4EF6;&#x76F4;&#x63A5;&#x53BB;&#x6807;&#x51C6;&#x8DEF;&#x5F84;&#x4E0B;&#x53BB;&#x67E5;&#x627E;&#xFF0C;&#x5982;&#x679C;&#x627E;&#x4E0D;&#x5230;&#x5C31;&#x63D0;&#x793A;&#x7F16;&#x8BD1;&#x9519;&#x8BEF;&#x3002;<br>&#x8FD9;&#x6837;&#x662F;&#x4E0D;&#x662F;&#x53EF;&#x4EE5;&#x8BF4;&#xFF0C;&#x5BF9;&#x4E8E;&#x5E93;&#x6587;&#x4EF6;&#x4E5F;&#x53EF;&#x4EE5;&#x4F7F;&#x7528; &#x201C;&#x201D; &#x7684;&#x5F62;&#x5F0F;&#x5305;&#x542B;&#xFF1F;<br>&#x7B54;&#x6848;&#x662F;&#x80AF;&#x5B9A;&#x7684;&#xFF0C;&#x53EF;&#x4EE5;&#x3002;<br>&#x4F46;&#x662F;&#x8FD9;&#x6837;&#x505A;&#x67E5;&#x627E;&#x7684;&#x6548;&#x7387;&#x5C31;&#x4F4E;&#x4E9B;&#xFF0C;&#x5F53;&#x7136;&#x8FD9;&#x6837;&#x4E5F;&#x4E0D;&#x5BB9;&#x6613;&#x533A;&#x5206;&#x662F;&#x5E93;&#x6587;&#x4EF6;&#x8FD8;&#x662F;&#x672C;&#x5730;&#x6587;&#x4EF6;&#x4E86;&#x3002;</p>
<h2 id="&#x5D4C;&#x5957;&#x6587;&#x4EF6;&#x5305;&#x542B;"><a href="#&#x5D4C;&#x5957;&#x6587;&#x4EF6;&#x5305;&#x542B;" class="headerlink" title="&#x5D4C;&#x5957;&#x6587;&#x4EF6;&#x5305;&#x542B;"></a>&#x5D4C;&#x5957;&#x6587;&#x4EF6;&#x5305;&#x542B;</h2><p>&#x89C1;&#x6211;&#x5355;&#x7247;&#x673A;&#x90A3;&#x4E00;&#x504F;&#x535A;&#x5BA2;&#x5E94;&#x8BE5;&#x8BE6;&#x7EC6;&#x4E00;&#x70B9;</p>
<p><strong>&#x672C;&#x6587;&#x8F6C;&#x8F7D;&#x81EA;:</strong> <a href="/external_links/045547ad802fc6cd0fcd45625e2d421f.html" target="blank" rel="noopener">&#x6398;&#x91D1;</a></p>
<p><em><a href="https://dev.newban.cn/">&#x5F00;&#x53D1;&#x8005;&#x535A;&#x5BA2; &#x2013; &#x548C;&#x5F00;&#x53D1;&#x76F8;&#x5173;&#x7684; &#x8FD9;&#x91CC;&#x5168;&#x90FD;&#x6709;</a></em></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://dev.newban.cn../../7034408286019551239.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="开发者博客">
      <meta itemprop="description" content>
      <meta itemprop="image" content="../../images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="开发者博客 – IT技术 尽在开发者博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="../../7034408286019551239.html" itemprop="url">Container killed by YARN for e</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2021-11-25T15:37:00+08:00">
                2021-11-25
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>&#x300C;&#x8FD9;&#x662F;&#x6211;&#x53C2;&#x4E0E;11&#x6708;&#x66F4;&#x6587;&#x6311;&#x6218;&#x7684;&#x7B2C;10&#x5929;&#xFF0C;&#x6D3B;&#x52A8;&#x8BE6;&#x60C5;&#x67E5;&#x770B;&#xFF1A;<a href="https://dev.newban.cn/7023643374569816095/">2021&#x6700;&#x540E;&#x4E00;&#x6B21;&#x66F4;&#x6587;&#x6311;&#x6218;</a>&#x300D;</p>
<blockquote>
<p>&#x5927;&#x5BB6;&#x597D;&#xFF0C;&#x6211;&#x662F;&#x6000;&#x747E;&#x63E1;&#x745C;&#xFF0C;&#x4E00;&#x53EA;&#x5927;&#x6570;&#x636E;&#x840C;&#x65B0;&#xFF0C;&#x5BB6;&#x6709;&#x4E24;&#x53EA;&#x541E;&#x91D1;&#x517D;&#xFF0C;&#x5609;&#x4E0E;&#x5609;&#xFF0C;&#x4E0A;&#x80FD;code&#x4E0B;&#x80FD;teach&#x7684;&#x5168;&#x80FD;&#x5976;&#x7238;</p>
<p>&#x5982;&#x679C;&#x60A8;&#x559C;&#x6B22;&#x6211;&#x7684;&#x6587;&#x7AE0;&#xFF0C;&#x53EF;&#x4EE5;[&#x5173;&#x6CE8;&#x2B50;]+[&#x70B9;&#x8D5E;&#x1F44D;]+[&#x8BC4;&#x8BBA;&#x1F4C3;]&#xFF0C;&#x60A8;&#x7684;&#x4E09;&#x8FDE;&#x662F;&#x6211;&#x524D;&#x8FDB;&#x7684;&#x52A8;&#x529B;&#xFF0C;&#x671F;&#x5F85;&#x4E0E;&#x60A8;&#x5171;&#x540C;&#x6210;&#x957F;~</p>
</blockquote>
<hr>
<p>&#x7ECF;&#x5E38;&#x6211;&#x4EEC;&#x63D0;&#x4EA4;&#x4EFB;&#x52A1;&#x5230; yarn&#x4E0A;&#x540E;&#x51FA;&#x73B0; &#x5185;&#x5B58;&#x6EA2;&#x51FA;&#x7684;&#x9519;&#x8BEF; &#x7C7B;&#x4F3C;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">csharp&#x590D;&#x5236;&#x4EE3;&#x7801;ExecutorLostFailure (executor 30 exited caused by one of the running tasks) Reason: Container killed by YARN for exceeding memory limits. 40.2 GB of 40 GB physical memory used. Consider boosting spark.yarn.executor.memoryOverhead.</span><br></pre></td></tr></table></figure>

<p>&#x8FD9;&#x4E2A;&#x9519;&#x8BEF;&#x603B;&#x4F1A;&#x4F7F;&#x4F60;&#x7684;job&#x592D;&#x6298;&#x3002;&#x5B83;&#x7684;&#x610F;&#x601D;&#x662F;&#xFF1A;&#x56E0;&#x4E3A;&#x8D85;&#x51FA;&#x5185;&#x5B58;&#x9650;&#x5236;&#xFF0C;&#x96C6;&#x7FA4;&#x505C;&#x6389;&#x4E86;&#xFF0C;&#x7136;&#x540E;&#x5C31;&#x4F1A;&#x65E0;&#x5C3D;&#x7684;&#x91CD;&#x8BD5;&#x91CD;&#x8BD5;&#xFF0C;&#x76F4;&#x5230;&#x5F7B;&#x5E95;&#x5D29;&#x4E86;</p>
<p>&#x95EE;&#x9898;&#xFF1A;&#x51FA;&#x73B0;&#x4EE5;&#x4E0A;&#x95EE;&#x9898;&#x539F;&#x56E0;.</p>
<p>&#x6570;&#x636E;&#x51FA;&#x73B0;&#x4E86;&#x503E;&#x659C;&#x7B49;&#x539F;&#x56E0;&#x5BFC;&#x81F4;&#x5176;&#x4E2D;&#x4E00;&#x4E2A;contaimer &#x5185;&#x5B58;&#x8D1F;&#x8F7D;&#x592A;&#x5927; &#x8FD0;&#x884C;&#x5931;&#x8D25;  </p>
<p>container &#x5185;&#x5B58;&#x5206;&#x914D;&#x56FE;</p>
<p><img src="https://gitee.com/songjianzaina/juejin_p7/raw/master/img/b63804964c5c280d258aad929b52ca175b81d2f97751067efa08acc2e7c1d88d" alt></p>
<p>&#x5EFA;&#x8BAE;&#x89E3;&#x51B3;&#x65B9;&#x5F0F;</p>
<p>1&#x3001;&#x589E;&#x52A0;&#x5206;&#x533A;&#x6570;&#xFF0C;&#x6216;&#x5BF9;&#x5206;&#x533A;&#x7684;&#x5177;&#x4F53;&#x903B;&#x8F91;&#x4FEE;&#x6539;&#x5462;&#xFF08;&#x6E90;&#x7801;&#xFF09;&#x907F;&#x514D;&#x51FA;&#x73B0;&#x6570;&#x636E;&#x503E;&#x659C;&#x8FD9;&#x4E2A;&#x901A;&#x8FC7;scala &#x8BED;&#x6CD5;&#x8FDB;&#x884C;&#x4FEE;&#x6539;</p>
<p>2&#x3001;&#x4F46;&#x662F;&#x5BF9;spark sql &#x8FDB;&#x884C;&#x4EFB;&#x52A1;&#x8C03;&#x5EA6;&#x65F6;&#x4E00;&#x822C;&#x96BE;&#x63A7;&#x5236;&#xFF0C;&#x53EF;&#x91C7;&#x7528;&#x589E;&#x52A0;spark.yarn.executor.memoryOverhead&#x8BBE;&#x7F6E;&#x4E3A;&#x6700;&#x5927;&#x503C;&#xFF0C;&#x53EF;&#x4EE5;&#x8003;&#x8651;&#x4E00;&#x4E0B;4096&#x3002;&#x8FD9;&#x4E2A;&#x6570;&#x503C;&#x4E00;&#x822C;&#x90FD;&#x662F;2&#x7684;&#x6B21;&#x5E42;</p>
<p>&#x5F71;&#x54CD;&#x5176;&#x51E0;&#x4E2A;&#x53C2;&#x6570;&#xFF1A;</p>
<p>yarn.scheduler.maximum-allocation-mb</p>
<p>&#x8FD9;&#x4E2A;&#x53C2;&#x6570;&#x8868;&#x793A;&#x6BCF;&#x4E2A;container&#x80FD;&#x591F;&#x7533;&#x8BF7;&#x5230;&#x7684;&#x6700;&#x5927;&#x5185;&#x5B58;&#xFF0C;&#x4E00;&#x822C;&#x662F;&#x96C6;&#x7FA4;&#x7EDF;&#x4E00;&#x914D;&#x7F6E;&#x3002;Spark&#x4E2D;&#x7684;executor&#x8FDB;&#x7A0B;&#x662F;&#x8DD1;&#x5728;container&#x4E2D;&#xFF0C;&#x6240;&#x4EE5;container&#x7684;&#x6700;&#x5927;&#x5185;&#x5B58;&#x4F1A;&#x76F4;&#x63A5;&#x5F71;&#x54CD;&#x5230;executor&#x7684;&#x6700;&#x5927;&#x53EF;&#x7528;&#x5185;&#x5B58;&#x3002;&#x5F53;&#x4F60;&#x8BBE;&#x7F6E;&#x4E00;&#x4E2A;&#x6BD4;&#x8F83;&#x5927;&#x7684;&#x5185;&#x5B58;&#x65F6;&#xFF0C;&#x65E5;&#x5FD7;&#x4E2D;&#x4F1A;&#x62A5;&#x9519;&#xFF0C;&#x540C;&#x65F6;&#x4F1A;&#x6253;&#x5370;&#x8FD9;&#x4E2A;&#x53C2;&#x6570;&#x7684;&#x503C;&#x3002;&#x5982;&#x4E0B;&#x56FE; &#xFF0C;6144MB&#xFF0C;&#x5373;6G &#x672C;&#x96C6;&#x7FA4;cm &#x8BBE;&#x7F6E;100G &#x4ECE;&#x524D;ambari &#x4E2D;&#x8BBE;&#x7F6E;10G</p>
<p>spark.yarn.executor.memoryOverhead</p>
<p>executor&#x6267;&#x884C;&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x7528;&#x7684;&#x5185;&#x5B58;&#x53EF;&#x80FD;&#x4F1A;&#x8D85;&#x8FC7;executor-memoy&#xFF0C;&#x6240;&#x4EE5;&#x4F1A;&#x4E3A;executor&#x989D;&#x5916;&#x9884;&#x7559;&#x4E00;&#x90E8;&#x5206;&#x5185;&#x5B58;&#x3002;spark.yarn.executor.memoryOverhead&#x4EE3;&#x8868;&#x4E86;&#x8FD9;&#x90E8;&#x5206;&#x5185;&#x5B58;&#x3002;&#x8FD9;&#x4E2A;&#x53C2;&#x6570;&#x5982;&#x679C;&#x6CA1;&#x6709;&#x8BBE;&#x7F6E;&#xFF0C;&#x4F1A;&#x6709;&#x4E00;&#x4E2A;&#x81EA;&#x52A8;&#x8BA1;&#x7B97;&#x516C;&#x5F0F;(&#x4F4D;&#x4E8E;ClientArguments.scala&#x4E2D;)&#xFF0C;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ini&#x590D;&#x5236;&#x4EE3;&#x7801;--conf spark.yarn.executor.memoryOverhead=4096</span><br></pre></td></tr></table></figure>

<p>&#x5176;&#x4E2D;&#xFF0C;MEMORY_OVERHEAD_FACTOR&#x9ED8;&#x8BA4;&#x4E3A;0.1&#xFF0C;executorMemory&#x4E3A;&#x8BBE;&#x7F6E;&#x7684;executor-memory, MEMORY_OVERHEAD_MIN&#x9ED8;&#x8BA4;&#x4E3A;384m&#x3002;&#x53C2;&#x6570;MEMORY_OVERHEAD_FACTOR&#x548C;MEMORY_OVERHEAD_MIN&#x4E00;&#x822C;&#x4E0D;&#x80FD;&#x76F4;&#x63A5;&#x4FEE;&#x6539;&#xFF0C;&#x662F;Spark&#x4EE3;&#x7801;&#x4E2D;&#x76F4;&#x63A5;&#x5199;&#x6B7B;&#x7684;</p>
<p>executor-memory&#x8BA1;&#x7B97;</p>
<p>val executorMem = args.executorMemory + executorMemoryOverhead</p>
<p>Spark&#x4E2D;executor-memory</p>
<p>&#x7A0B;&#x5E8F;&#x4E2D;&#x53EF;&#x4EE5;&#x901A;&#x8FC7; &#x2013;executor-memory &#x6765;&#x8BBE;&#x7F6E;executor&#x6267;&#x884C;&#x65F6;&#x6240;&#x9700;&#x7684;memory</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">css&#x590D;&#x5236;&#x4EE3;&#x7801;--executor-memory 40G</span><br></pre></td></tr></table></figure>

<p>1&#xFF09; &#x5982;&#x679C;&#x6CA1;&#x6709;&#x8BBE;&#x7F6E;spark.yarn.executor.memoryOverhead,</p>
<p>executorMem= X+max(X*0.1,384)</p>
<p>&#x5982;&#x679C;&#x8BBE;&#x7F6E;&#x4E86;spark.yarn.executor.memoryOverhead&#xFF08;&#x6574;&#x6570;&#xFF0C;&#x5355;&#x4F4D;&#x662F;M&#xFF09;</p>
<p>executorMem=X +spark.yarn.executor.memoryOverhead</p>
<p>&#x8BBE;&#x7F6E;executorMem&#x9700;&#x8981;&#x6EE1;&#x8DB3;&#x7684;&#x6761;&#x4EF6;&#xFF1A;</p>
<p>xecutorMem&lt; yarn.scheduler.maximum-allocation-mb</p>
<hr>
<h1 id="&#x7ED3;&#x675F;&#x8BED;"><a href="#&#x7ED3;&#x675F;&#x8BED;" class="headerlink" title="&#x7ED3;&#x675F;&#x8BED;"></a>&#x7ED3;&#x675F;&#x8BED;</h1><blockquote>
<p>&#x5982;&#x679C;&#x60A8;&#x559C;&#x6B22;&#x6211;&#x7684;&#x6587;&#x7AE0;&#xFF0C;&#x53EF;&#x4EE5;[&#x5173;&#x6CE8;&#x2B50;]+[&#x70B9;&#x8D5E;&#x1F44D;]+[&#x8BC4;&#x8BBA;&#x1F4C3;]&#xFF0C;&#x60A8;&#x7684;&#x4E09;&#x8FDE;&#x662F;&#x6211;&#x524D;&#x8FDB;&#x7684;&#x52A8;&#x529B;&#xFF0C;&#x671F;&#x5F85;&#x4E0E;&#x60A8;&#x5171;&#x540C;&#x6210;&#x957F;~</p>
<p>&#x53EF;&#x5173;&#x6CE8;&#x516C;&#x4F17;&#x53F7;&#x3010;&#x6000;&#x747E;&#x63E1;&#x745C;&#x7684;&#x5609;&#x4E0E;&#x5609;&#x3011;&#xFF0C;&#x83B7;&#x53D6;&#x8D44;&#x6E90;&#x4E0B;&#x8F7D;&#x65B9;&#x5F0F;</p>
</blockquote>
<p><strong>&#x672C;&#x6587;&#x8F6C;&#x8F7D;&#x81EA;:</strong> <a href="/external_links/c5e45d315672d80b26e673a7deb425cb.html" target="blank" rel="noopener">&#x6398;&#x91D1;</a></p>
<p><em><a href="https://dev.newban.cn/">&#x5F00;&#x53D1;&#x8005;&#x535A;&#x5BA2; &#x2013; &#x548C;&#x5F00;&#x53D1;&#x76F8;&#x5173;&#x7684; &#x8FD9;&#x91CC;&#x5168;&#x90FD;&#x6709;</a></em></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://dev.newban.cn../../7034406941925474318.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="开发者博客">
      <meta itemprop="description" content>
      <meta itemprop="image" content="../../images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="开发者博客 – IT技术 尽在开发者博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="../../7034406941925474318.html" itemprop="url">会使用自定义注解 ≈ 好的程序员 ？  教你结合 AOP 切</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2021-11-25T15:33:20+08:00">
                2021-11-25
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="&#x4E00;&#x3001;&#x524D;&#x8A00;"><a href="#&#x4E00;&#x3001;&#x524D;&#x8A00;" class="headerlink" title="&#x4E00;&#x3001;&#x524D;&#x8A00;"></a>&#x4E00;&#x3001;&#x524D;&#x8A00;</h2><blockquote>
<p>&#x8FD9;&#x662F;&#x6211;&#x53C2;&#x4E0E;11&#x6708;&#x66F4;&#x6587;&#x6311;&#x6218;&#x7684;&#x7B2C;6&#x5929;&#xFF0C;&#x6D3B;&#x52A8;&#x8BE6;&#x60C5;&#x67E5;&#x770B;&#xFF1A;<a href="https://dev.newban.cn/7023643374569816095">2021&#x6700;&#x540E;&#x4E00;&#x6B21;&#x66F4;&#x6587;&#x6311;&#x6218;</a> &#x3002;&#x542C;&#x8BF4;&#x6709;&#x4EBA;&#x4E0D;&#x4F1A;&#x81EA;&#x5B9A;&#x4E49;&#x6CE8;&#x89E3;&#xFF1F;&#x4E0D;&#x4F1A;&#x5199;&#x8FD8;&#x4E0D;&#x4F1A; <strong>Copy</strong> &#xFF1F; &#x261E; <a href="https://dev.newban.cn/7033664913373560840">&#x3010;ExcelUtil&#x3011;&#x4E8C;&#x6B21;&#x5C01;&#x88C5;&#xFF0C;&#x6CE8;&#x89E3;&#x9A71;&#x52A8;&#xFF0C;&#x7528;&#x8D77;&#x6765;&#x4E0D;&#x8981;&#x592A;&#x8212;&#x670D;&#xFF01; - &#x6398;&#x91D1; (juejin.cn)</a> &#xFF0C;&#x597D;&#x4E86;&#x4E0D;&#x5F00;&#x73A9;&#x7B11;&#x4E86;&#xFF0C;&#x4ECA;&#x5929;&#x5E05;&#x5C0F;&#x4F19;&#x5C31;&#x5E26;&#x7740;&#x5927;&#x4F19;&#x68B3;&#x7406;&#x4E00;&#x904D;&#x6CE8;&#x89E3;&#x4E5F;&#x5C31;&#x662F; <code>@interface</code> &#x6B63;&#x786E;&#x7684;&#x6253;&#x5F00;&#x65B9;&#x5F0F;&#xFF0C;&#x9664;&#x6B64;&#x4E4B;&#x5916;&#xFF0C;&#x7ED3;&#x5408; <code>AOP</code> &#x5207;&#x9762;&#x7EDF;&#x4E00;&#x6253;&#x5370;&#x51FA;&#x5165;&#x53C2;&#x65E5;&#x5FD7;&#xFF0C;&#x5BF9;&#x4E8E;&#x6BCF;&#x4E2A;&#x8BBF;&#x95EE;&#x6CE8;&#x89E3;&#x7ED1;&#x5B9A;&#x7684;&#x63A5;&#x53E3;&#x65B9;&#x6CD5;&#x7684;&#x8BF7;&#x6C42;&#x90FD;&#x4E00;&#x76EE;&#x4E86;&#x7136;&#xFF0C;&#x4E0D;&#x4EC5;&#x65B9;&#x4FBF;&#x63A5;&#x53E3;&#x7684;&#x8C03;&#x8BD5;&#xFF0C;&#x8FD8;&#x80FD;&#x7ED9;&#x4F60;&#x4E00;&#x4E2A;&#x4F18;&#x96C5;&#x3001;&#x6574;&#x9F50;&#x4E14;&#x5927;&#x65B9;&#x7684;&#x63A7;&#x5236;&#x53F0;&#x65E5;&#x5FD7;&#x8BB0;&#x5F55;&#x3002;</p>
</blockquote>
<h2 id="&#x4E8C;&#x3001;&#x6548;&#x679C;&#x6F14;&#x793A;"><a href="#&#x4E8C;&#x3001;&#x6548;&#x679C;&#x6F14;&#x793A;" class="headerlink" title="&#x4E8C;&#x3001;&#x6548;&#x679C;&#x6F14;&#x793A;"></a>&#x4E8C;&#x3001;&#x6548;&#x679C;&#x6F14;&#x793A;</h2><h3 id="2-1-&#x8BBF;&#x95EE;&#x63A5;&#x53E3;"><a href="#2-1-&#x8BBF;&#x95EE;&#x63A5;&#x53E3;" class="headerlink" title="2.1 &#x8BBF;&#x95EE;&#x63A5;&#x53E3;"></a>2.1 &#x8BBF;&#x95EE;&#x63A5;&#x53E3;</h3><p><img src="https://gitee.com/songjianzaina/juejin_p7/raw/master/img/79dc1204cb3c1218259b1a981d2e3646ce5e93e42f22a4731d8f2d0e558e139e" alt="01.gif"></p>
<h3 id="2-2-&#x63A7;&#x5236;&#x53F0;&#x65E5;&#x5FD7;&#x8F93;&#x51FA;"><a href="#2-2-&#x63A7;&#x5236;&#x53F0;&#x65E5;&#x5FD7;&#x8F93;&#x51FA;" class="headerlink" title="2.2 &#x63A7;&#x5236;&#x53F0;&#x65E5;&#x5FD7;&#x8F93;&#x51FA;"></a>2.2 &#x63A7;&#x5236;&#x53F0;&#x65E5;&#x5FD7;&#x8F93;&#x51FA;</h3><p><img src="https://gitee.com/songjianzaina/juejin_p7/raw/master/img/bc904eff7f547009a6c33b23f32f6728a833de28c1e164831863b8ebdb5a4001" alt="&#x6F14;&#x793A;&#x6548;&#x679C;.png"></p>
<h2 id="&#x4E09;&#x3001;&#x5982;&#x4F55;&#x8BBE;&#x8BA1;&#x4E00;&#x4E2A;&#x6CE8;&#x89E3;"><a href="#&#x4E09;&#x3001;&#x5982;&#x4F55;&#x8BBE;&#x8BA1;&#x4E00;&#x4E2A;&#x6CE8;&#x89E3;" class="headerlink" title="&#x4E09;&#x3001;&#x5982;&#x4F55;&#x8BBE;&#x8BA1;&#x4E00;&#x4E2A;&#x6CE8;&#x89E3;"></a>&#x4E09;&#x3001;&#x5982;&#x4F55;&#x8BBE;&#x8BA1;&#x4E00;&#x4E2A;&#x6CE8;&#x89E3;</h2><h3 id="3-1-&#x6982;&#x5FF5;"><a href="#3-1-&#x6982;&#x5FF5;" class="headerlink" title="3.1 &#x6982;&#x5FF5;"></a>3.1 &#x6982;&#x5FF5;</h3><p>&#x77E5;&#x5176;&#x7136;&#xFF0C;&#x8981;&#x77E5;&#x5176;&#x6240;&#x4EE5;&#x7136;&#xFF0C;&#x6240;&#x4EE5;&#x6211;&#x4EEC;&#x5148;&#x6765;&#x5EB7;&#x5EB7;&#x5B98;&#x65B9;&#x5BF9;&#x6CE8;&#x89E3;&#x7684;&#x63CF;&#x8FF0;&#x662F;&#x4EC0;&#x4E48;&#xFF1A;</p>
<blockquote>
<p>An annotation is a form of metadata, that can be added to Java source code. Classes, methods, variables, parameters and packages may be annotated. Annotations have no direct effect on the operation of the code they annotate.</p>
</blockquote>
<p>&#x7FFB;&#x8BD1;&#x8FC7;&#x6765;&#x7684;&#x5927;&#x610F;&#x662F;&#xFF1A;</p>
<blockquote>
<p>&#x6CE8;&#x91CA;&#x662F;&#x4E00;&#x79CD;&#x5143;&#x6570;&#x636E;&#x7684;&#x5F62;&#x5F0F;&#xFF0C;&#x53EF;&#x4EE5;&#x6DFB;&#x52A0;&#x5230;Java&#x6E90;&#x4EE3;&#x7801;&#x4E2D;&#x3002;&#x7C7B;&#xFF0C;&#x65B9;&#x6CD5;&#xFF0C;&#x53D8;&#x91CF;&#xFF0C;&#x53C2;&#x6570;&#x548C;&#x5305;&#x53EF;&#x4EE5;&#x6CE8;&#x91CA;&#x3002;&#x6CE8;&#x91CA;&#x5BF9;&#x4ED6;&#x4EEC;&#x6CE8;&#x91CA;&#x7684;&#x4EE3;&#x7801;&#x7684;&#x64CD;&#x4F5C;&#x6CA1;&#x6709;&#x76F4;&#x63A5;&#x5F71;&#x54CD;&#x3002;</p>
</blockquote>
<p>&#x7EFC;&#x4E0A;&#x6765;&#x8BF4;&#xFF0C;&#x6CE8;&#x89E3;&#x5176;&#x5B9E;&#x76F8;&#x5F53;&#x4E8E; <code>Java</code> &#x7684;&#x4E00;&#x79CD;&#x7279;&#x6B8A;&#x7684;&#x6570;&#x636E;&#x7C7B;&#x578B;&#xFF0C;&#x4E5F;&#x53EF;&#x4EE5;&#x628A;&#x5B83;&#x5F53;&#x505A;&#x4E00;&#x4E2A;&#x53EF;&#x4EE5;&#x81EA;&#x5B9A;&#x4E49;&#x7684;&#x6807;&#x8BB0;&#x53BB;&#x7406;&#x89E3;&#xFF0C;&#x548C;&#x7C7B;&#x3001;&#x63A5;&#x53E3;&#x3001;&#x679A;&#x4E3E;&#x7C7B;&#x4F3C;&#xFF0C;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#x5728;&#x5F88;&#x591A;&#x4E0D;&#x540C;&#x7684;&#x5730;&#x65B9;&#x5E76;&#x4E14;&#x5BF9;&#x539F;&#x6709;&#x7684;&#x64CD;&#x4F5C;&#x4EE3;&#x7801;&#x6CA1;&#x6709;&#x4EFB;&#x4F55;&#x5F71;&#x54CD;&#xFF0C;&#x4EC5;&#x505A;&#x4E2D;&#x95F4;&#x6536;&#x96C6;&#x548C;&#x5904;&#x7406;&#x3002;</p>
<h3 id="3-2-&#x5C0F;&#x8BD5;&#x725B;&#x5200;"><a href="#3-2-&#x5C0F;&#x8BD5;&#x725B;&#x5200;" class="headerlink" title="3.2 &#x5C0F;&#x8BD5;&#x725B;&#x5200;"></a>3.2 &#x5C0F;&#x8BD5;&#x725B;&#x5200;</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">java&#x590D;&#x5236;&#x4EE3;&#x7801;</span><br><span class="line">@Retention(RetentionPolicy.RUNTIME)</span><br><span class="line">@Target(ElementType.FIELD)</span><br><span class="line">public @interface Excel {</span><br><span class="line"></span><br><span class="line">    public String name();</span><br><span class="line">    </span><br><span class="line">    int sort() default Integer.MAX_VALUE;</span><br><span class="line">    </span><br><span class="line">    ... ...</span><br><span class="line">}</span><br></pre></td></tr></table></figure>

<p><strong>&#x8BF4;&#x660E;&#xFF08;&#x4ECE;&#x4E0A;&#x5F80;&#x4E0B;&#xFF09;&#xFF1A;</strong></p>
<ul>
<li>&#x4F7F;&#x7528;&#x8BE5;&#x6CE8;&#x89E3;&#x5728;&#x7A0B;&#x5E8F;&#x8FD0;&#x884C;&#x65F6;&#x88AB; <code>JVM</code> &#x4FDD;&#x7559;&#xFF0C;&#x5E76;&#x4E14;&#x88AB;&#x7F16;&#x8BD1;&#x5668;&#x8BB0;&#x5F55;&#x5230; <code>class</code> &#x6587;&#x4EF6;&#x4E2D;&#xFF0C;&#x6240;&#x4EE5;&#x80FD;&#x591F;&#x901A;&#x8FC7; <code>Java</code> &#x53CD;&#x5C04;&#x673A;&#x5236;&#x8BFB;&#x53D6;&#x5230;&#x6CE8;&#x89E3;&#x4E2D;&#x7684;&#x5C5E;&#x6027;&#x7B49;</li>
<li>&#x8BE5;&#x6CE8;&#x89E3;&#x4EC5;&#x80FD;&#x4F7F;&#x7528;&#x5728;&#x5B57;&#x6BB5;&#x4E0A;&#xFF0C;&#x4E0D;&#x80FD;&#x7528;&#x5728;&#x7C7B;&#x3001;&#x65B9;&#x6CD5;&#x3001;&#x53D8;&#x91CF;&#x4E0A;</li>
<li>&#x8BE5;&#x6CE8;&#x89E3;&#x6709;&#x4E24;&#x4E2A;&#x5C5E;&#x6027;&#xFF0C;&#x4E00;&#x4E2A;&#x662F; <code>name</code> &#x53E6;&#x4E00;&#x4E2A;&#x662F; <code>sort</code> &#x5C5E;&#x6027;&#xFF0C;&#x5C5E;&#x6027;&#xFF1F;&#x4F60;&#x53EF;&#x80FD;&#x5C31;&#x4F1A;&#x95EE;&#x4E86;&#x540E;&#x8FB9;&#x4E0D;&#x662F;&#x5E26;&#x4E00;&#x5BF9;&#x5706;&#x62EC;&#x53F7;&#x561B;&#xFF0C;&#x4E0D;&#x5E94;&#x8BE5;&#x662F;&#x65B9;&#x6CD5;&#x5417;&#xFF1F;&#x770B;&#x4F3C;&#x63A5;&#x53E3;&#x4E2D;&#x5B9A;&#x4E49;&#x7684;&#x62BD;&#x8C61;&#x65B9;&#x6CD5;&#xFF0C;&#x5B9E;&#x5219;&#x770B;&#x6CA1;&#x770B;&#x5230; <code>default</code> &#x5173;&#x952E;&#x5B57;&#xFF0C;&#x5B98;&#x65B9;&#x7BA1;&#x5B9A;&#x4E49;&#x5728;&#x6CE8;&#x89E3;&#x5185;&#x7684;&#x662F; <strong>&#x6CE8;&#x89E3;&#x7C7B;&#x578B;&#x5143;&#x7D20;</strong> &#xFF0C;&#x4E0D;&#x8FC7;&#x6211;&#x4E60;&#x60EF;&#x7BA1;&#x5B83;&#x4EEC;&#x53EB;&#x5C5E;&#x6027;&#xFF0C;&#x56E0;&#x4E3A;&#x5728;&#x4F7F;&#x7528;&#x6CE8;&#x89E3;&#x65F6;&#xFF0C;&#x603B;&#x662F;&#x4EE5;&#x952E;&#x503C;&#x5BF9;&#x7684;&#x5F62;&#x5F0F;&#x4F20;&#x53C2;</li>
<li>&#x8BBF;&#x95EE;&#x4FEE;&#x9970;&#x7B26;&#x5FC5;&#x987B;&#x4E3A; <code>public</code>&#xFF0C;&#x4E0D;&#x5199;&#x9ED8;&#x8BA4;&#x4E3A; <code>public</code></li>
<li>&#x5706;&#x62EC;&#x53F7;&#x4E0D;&#x662F;&#x5B9A;&#x4E49;&#x65B9;&#x6CD5;&#x53C2;&#x6570;&#x7684;&#x5730;&#x65B9;&#xFF0C;&#x4E5F;&#x4E0D;&#x80FD;&#x5728;&#x62EC;&#x53F7;&#x4E2D;&#x5B9A;&#x4E49;&#x4EFB;&#x4F55;&#x53C2;&#x6570;&#xFF0C;&#x8FD9;&#x4EC5;&#x4EC5;&#x662F;&#x4E00;&#x4E2A;&#x7279;&#x6B8A;&#x7684;&#x5199;&#x6CD5;&#x7F62;&#x4E86;</li>
<li><code>default</code> &#x8868;&#x793A;&#x672A;&#x8BBE;&#x7F6E;&#x8BE5;&#x5C5E;&#x6027;&#x65F6;&#x7684;&#x9ED8;&#x8BA4;&#x503C;&#xFF0C;&#x503C;&#x9700;&#x548C;&#x7C7B;&#x578B;&#x4FDD;&#x6301;&#x4E00;&#x81F4;</li>
<li>&#x5982;&#x679C;&#x6CA1;&#x6709; <code>default</code> &#x9ED8;&#x8BA4;&#x503C;&#xFF0C;&#x8868;&#x793A;&#x8BE5;&#x7C7B;&#x578B;&#x5143;&#x7D20;&#x5FC5;&#x987B;&#x5728;&#x540E;&#x7EED;&#x8D4B;&#x503C;</li>
</ul>
<h3 id="3-3-&#x6CE8;&#x89E3;&#x6CE8;&#x89E3;&#x7684;&#x6CE8;&#x89E3;&#x7C7B;"><a href="#3-3-&#x6CE8;&#x89E3;&#x6CE8;&#x89E3;&#x7684;&#x6CE8;&#x89E3;&#x7C7B;" class="headerlink" title="3.3 &#x6CE8;&#x89E3;&#x6CE8;&#x89E3;&#x7684;&#x6CE8;&#x89E3;&#x7C7B;"></a>3.3 &#x6CE8;&#x89E3;&#x6CE8;&#x89E3;&#x7684;&#x6CE8;&#x89E3;&#x7C7B;</h3><p>&#x6B64;&#x5916;&#xFF0C;&#x5728; <code>JDK</code> &#x4E2D;&#x63D0;&#x4F9B;&#x4E86; <strong>4</strong> &#x4E2A;&#x6807;&#x51C6;&#x7684;&#x7528;&#x6765;&#x5BF9;&#x6CE8;&#x89E3;&#x7C7B;&#x578B;&#x8FDB;&#x884C;&#x6CE8;&#x89E3;&#x7684;&#x6CE8;&#x89E3;&#x7C7B;&#xFF08;&#x5143;&#x6CE8;&#x89E3;&#xFF09;&#xFF0C;&#x5206;&#x522B;&#x662F;:</p>
<ul>
<li><code>@Target</code> &#x662F;&#x4E13;&#x95E8;&#x7528;&#x6765;&#x9650;&#x5B9A;&#x67D0;&#x4E2A;&#x81EA;&#x5B9A;&#x4E49;&#x6CE8;&#x89E3;&#x80FD;&#x591F;&#x88AB;&#x5E94;&#x7528;&#x5728;&#x54EA;&#x4E9B; <code>Java</code> &#x5143;&#x7D20;&#x4E0A;</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line">java&#x590D;&#x5236;&#x4EE3;&#x7801;</span><br><span class="line">public enum ElementType {</span><br><span class="line">    /** Class, interface (including annotation type), or enum declaration */</span><br><span class="line">    /** &#x7C7B;&#xFF0C;&#x63A5;&#x53E3;&#xFF08;&#x5305;&#x62EC;&#x6CE8;&#x91CA;&#x7C7B;&#x578B;&#xFF09;&#x6216;&#x679A;&#x4E3E;&#x58F0;&#x660E; */</span><br><span class="line">    TYPE,</span><br><span class="line"></span><br><span class="line">    /** Field declaration (includes enum constants) */</span><br><span class="line">    /** &#x5B57;&#x6BB5;&#x58F0;&#x660E;(&#x5305;&#x62EC;&#x679A;&#x4E3E;&#x5E38;&#x91CF;) */</span><br><span class="line">    FIELD,</span><br><span class="line"></span><br><span class="line">    /** Method declaration */</span><br><span class="line">    /** &#x65B9;&#x6CD5;&#x58F0;&#x660E; */</span><br><span class="line">    METHOD,</span><br><span class="line"></span><br><span class="line">    /** Formal parameter declaration */</span><br><span class="line">    /** &#x5F62;&#x53C2;&#x58F0;&#x660E; */</span><br><span class="line">    PARAMETER,</span><br><span class="line"></span><br><span class="line">    /** Constructor declaration */</span><br><span class="line">    /** &#x6784;&#x9020;&#x5668;&#x58F0;&#x660E; */</span><br><span class="line">    CONSTRUCTOR,</span><br><span class="line"></span><br><span class="line">    /** Local variable declaration */</span><br><span class="line">    /** &#x672C;&#x5730;&#x53D8;&#x91CF;&#x58F0;&#x660E; */</span><br><span class="line">    LOCAL_VARIABLE,</span><br><span class="line"></span><br><span class="line">    /** Annotation type declaration */</span><br><span class="line">    /** &#x6CE8;&#x89E3;&#x7C7B;&#x578B;&#x58F0;&#x660E; */</span><br><span class="line">    ANNOTATION_TYPE,</span><br><span class="line"></span><br><span class="line">    /** Package declaration */</span><br><span class="line">    /** &#x5305;&#x58F0;&#x660E; */</span><br><span class="line">    PACKAGE,</span><br><span class="line"></span><br><span class="line">    /**</span><br><span class="line">     * Type parameter declaration</span><br><span class="line">     *</span><br><span class="line">     * @since 1.8</span><br><span class="line">     */</span><br><span class="line">    /** &#x7C7B;&#x578B;&#x53C2;&#x6570;&#x58F0;&#x660E; */</span><br><span class="line">    TYPE_PARAMETER,</span><br><span class="line"></span><br><span class="line">    /**</span><br><span class="line">     * Use of a type</span><br><span class="line">     *</span><br><span class="line">     * @since 1.8</span><br><span class="line">     */</span><br><span class="line">    /** &#x4F7F;&#x7528;&#x7C7B;&#x578B; */</span><br><span class="line">    TYPE_USE</span><br><span class="line">}</span><br></pre></td></tr></table></figure>

<ul>
<li><code>@Retention</code> &#x8BE5;&#x6CE8;&#x89E3;&#x6709; &#x201C;&#x4FDD;&#x7559;&#x201D;&#x3001;&#x201C;&#x4FDD;&#x6301;&#x201D; &#x4E4B;&#x4E49;&#xFF0C;&#x7528;&#x6765;&#x5B9A;&#x4E49;&#x6CE8;&#x89E3;&#x7684;&#x7559;&#x5B58;&#x7B56;&#x7565;&#xFF0C;&#x53EF;&#x6307;&#x5B9A;&#x7684;&#x7559;&#x5B58;&#x7B56;&#x7565;&#x53EA;&#x6709; <strong>3</strong> &#x4E2A;&#xFF1A;</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">java&#x590D;&#x5236;&#x4EE3;&#x7801;</span><br><span class="line">public enum RetentionPolicy {</span><br><span class="line">    /**</span><br><span class="line">     * Annotations are to be discarded by the compiler.</span><br><span class="line">     *</span><br><span class="line">     * &#x7F16;&#x8BD1;&#x5668;&#x4E22;&#x5F03;&#x6CE8;&#x89E3;&#xFF0C;&#x5373;&#x88AB;&#x7F16;&#x8BD1;&#x5668;&#x5FFD;&#x7565;</span><br><span class="line">     */</span><br><span class="line">    SOURCE,</span><br><span class="line"></span><br><span class="line">    /**</span><br><span class="line">     * Annotations are to be recorded in the class file by the compiler</span><br><span class="line">     * but need not be retained by the VM at run time.  This is the default</span><br><span class="line">     * behavior.</span><br><span class="line">     *</span><br><span class="line">     * &#x6CE8;&#x91CA;&#x5C06;&#x88AB;&#x7F16;&#x8BD1;&#x5668;&#x8BB0;&#x5F55;&#x5728; class &#x6587;&#x4EF6;&#x4E2D;&#xFF0C;&#x4F46;&#x5728;&#x8FD0;&#x884C;&#x65F6;&#x4E0D;&#x9700;&#x8981;&#x88AB;&#x865A;&#x62DF;&#x673A;&#x4FDD;&#x7559;&#x3002;&#x8FD9;&#x662F;&#x4E00;&#x4E2A;&#x9ED8;&#x8BA4;&#x7684;&#x884C;&#x4E3A;&#x3002;</span><br><span class="line">     */</span><br><span class="line">    CLASS,</span><br><span class="line"></span><br><span class="line">    /**</span><br><span class="line">     * Annotations are to be recorded in the class file by the compiler and</span><br><span class="line">     * retained by the VM at run time, so they may be read reflectively.</span><br><span class="line">     *</span><br><span class="line">     * &#x6CE8;&#x91CA;&#x5C06;&#x7531;&#x7F16;&#x8BD1;&#x5668;&#x8BB0;&#x5F55;&#x5728;&#x7C7B;&#x6587;&#x4EF6;&#x4E2D;&#xFF0C;&#x5E76;&#x5728;&#x8FD0;&#x884C;&#x65F6;&#x7531;&#x865A;&#x62DF;&#x673A;&#x4FDD;&#x7559;&#xFF0C;&#x56E0;&#x6B64;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;&#x53CD;&#x5C04;&#x8BFB;&#x53D6;&#x3002;</span><br><span class="line">     *</span><br><span class="line">     * @see java.lang.reflect.AnnotatedElement</span><br><span class="line">     */</span><br><span class="line">    RUNTIME</span><br><span class="line">}</span><br></pre></td></tr></table></figure>

<p>&#x4E00;&#x822C;&#x4F7F;&#x7528;&#x65E0;&#x7279;&#x6B8A;&#x9700;&#x8981;&#xFF0C;&#x4F7F;&#x7528; <code>RetentionPolicy.RUNTIME</code> &#x5C31;&#x591F;&#x4E86;&#x3002;</p>
<ul>
<li><code>@Documented</code> &#x662F;&#x88AB;&#x7528;&#x6765;&#x6307;&#x5B9A;&#x81EA;&#x5B9A;&#x4E49;&#x6CE8;&#x89E3;&#x662F;&#x5426;&#x80FD;&#x968F;&#x7740;&#x88AB;&#x5B9A;&#x4E49;&#x7684; <code>Java</code> &#x6587;&#x4EF6;&#x751F;&#x6210;&#x5230; <code>JavaDoc</code> &#x6587;&#x6863;&#x5F53;&#x4E2D;</li>
<li><code>@Inherited</code> &#x662F;&#x6307;&#x5B9A;&#x67D0;&#x4E2A;&#x81EA;&#x5B9A;&#x4E49;&#x6CE8;&#x89E3;&#x5982;&#x679C;&#x5199;&#x5728;&#x4E86;&#x7236;&#x7C7B;&#x7684;&#x58F0;&#x660E;&#x90E8;&#x5206;&#xFF0C;&#x90A3;&#x4E48;&#x5B50;&#x7C7B;&#x7684;&#x58F0;&#x660E;&#x90E8;&#x5206;&#x4E5F;&#x80FD;&#x81EA;&#x52A8;&#x62E5;&#x6709;&#x8BE5;&#x6CE8;&#x89E3;</li>
</ul>
<p><strong>&#x6CE8;&#x610F;&#xFF1A;<code>@Inherited</code> &#x6CE8;&#x89E3;&#x53EA;&#x5BF9;&#x90A3;&#x4E9B; <code>@Target</code> &#x88AB;&#x5B9A;&#x4E49;&#x4E3A; <code>ElementType.TYPE</code> &#x7684;&#x81EA;&#x5B9A;&#x4E49;&#x6CE8;&#x89E3;&#x8D77;&#x4F5C;&#x7528;&#x3002;</strong></p>
<h3 id="3-4-&#x4F7F;&#x7528;&#x6D41;&#x7A0B;"><a href="#3-4-&#x4F7F;&#x7528;&#x6D41;&#x7A0B;" class="headerlink" title="3.4 &#x4F7F;&#x7528;&#x6D41;&#x7A0B;"></a>3.4 &#x4F7F;&#x7528;&#x6D41;&#x7A0B;</h3><p><img src="https://gitee.com/songjianzaina/juejin_p7/raw/master/img/5246632db5c7b165f1c23433046de5ec770c52480427de74d7176f9b290e2e53" alt="&#x81EA;&#x5B9A;&#x4E49;&#x6CE8;&#x89E3;&#x4E09;&#x6B65;&#x8D70;.png"></p>
<h2 id="&#x56DB;&#x3001;&#x4EE3;&#x7801;&#x5B9E;&#x73B0;"><a href="#&#x56DB;&#x3001;&#x4EE3;&#x7801;&#x5B9E;&#x73B0;" class="headerlink" title="&#x56DB;&#x3001;&#x4EE3;&#x7801;&#x5B9E;&#x73B0;"></a>&#x56DB;&#x3001;&#x4EE3;&#x7801;&#x5B9E;&#x73B0;</h2><h3 id="4-1-&#x7B2C;&#x4E00;&#x6B65;"><a href="#4-1-&#x7B2C;&#x4E00;&#x6B65;" class="headerlink" title="4.1 &#x7B2C;&#x4E00;&#x6B65;"></a>4.1 &#x7B2C;&#x4E00;&#x6B65;</h3><p>&#x7F16;&#x5199;&#x8BBE;&#x8BA1;&#x6CE8;&#x89E3;&#xFF1A;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">java&#x590D;&#x5236;&#x4EE3;&#x7801;</span><br><span class="line">/**</span><br><span class="line"> * @description: TODO</span><br><span class="line"> * @author: HUALEI</span><br><span class="line"> * @date: 2021-11-19</span><br><span class="line"> * @time: 15:50</span><br><span class="line"> */</span><br><span class="line">@Retention(RetentionPolicy.RUNTIME)</span><br><span class="line">/* &#x6CE8;&#x89E3;&#x7528;&#x5728;&#x65B9;&#x6CD5;&#x4E0A; */</span><br><span class="line">@Target(ElementType.METHOD)</span><br><span class="line">public @interface MyAnnotation {</span><br><span class="line"></span><br><span class="line">    /**</span><br><span class="line">     * &#x63A5;&#x53E3;&#x65B9;&#x6CD5;&#x63CF;&#x8FF0;</span><br><span class="line">     */</span><br><span class="line">    public String description() default &quot;&#x9ED8;&#x8BA4;&#x63CF;&#x8FF0;&quot;;</span><br><span class="line">}</span><br></pre></td></tr></table></figure>

<p>&#x8FD9;&#x6B65;&#x6CA1;&#x4EC0;&#x4E48;&#x597D;&#x8BB2;&#x7684;&#xFF0C;&#x4E0A;&#x9762;&#x7684;&#x6982;&#x5FF5;&#x7406;&#x89E3;&#x638C;&#x63E1;&#x4E86;&#xFF0C;&#x8F7B;&#x8F7B;&#x677E;&#x677E;&#x5199;&#x51FA;&#x8FD9;&#x4E2A;&#x6CE8;&#x89E3;&#x5E94;&#x8BE5;&#x662F;&#x6CA1;&#x6709;&#x4EC0;&#x4E48;&#x95EE;&#x9898;&#xFF01;</p>
<h3 id="4-2-&#x7B2C;&#x4E8C;&#x6B65;"><a href="#4-2-&#x7B2C;&#x4E8C;&#x6B65;" class="headerlink" title="4.2 &#x7B2C;&#x4E8C;&#x6B65;"></a>4.2 &#x7B2C;&#x4E8C;&#x6B65;</h3><p>&#x4F7F;&#x7528;&#x5207;&#x9762;&#x6CE8;&#x89E3;&#x8FDB;&#x884C;&#x6807;&#x8BB0;&#xFF0C;&#x56E0;&#x4E3A;&#x662F;&#x5BF9;&#x8BF7;&#x6C42;&#x76F8;&#x5173;&#x7684;&#x65E5;&#x5FD7;&#x6253;&#x5370;&#xFF0C;&#x6240;&#x4EE5;&#x6211;&#x4EEC;&#x968F;&#x4FBF;&#x5199;&#x4E00;&#x4E2A;&#x63A7;&#x5236;&#x5C42;&#x63A5;&#x53E3;&#x65B9;&#x6CD5;&#x8FDB;&#x884C;&#x6D4B;&#x8BD5;&#xFF1A;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">java&#x590D;&#x5236;&#x4EE3;&#x7801;</span><br><span class="line">/**</span><br><span class="line"> * @description: TODO</span><br><span class="line"> * @author: HUALEI</span><br><span class="line"> * @date: 2021-11-24</span><br><span class="line"> * @time: 13:43</span><br><span class="line"> */</span><br><span class="line">@RestController</span><br><span class="line">@RequestMapping(value = &quot;/test&quot;)</span><br><span class="line">public class TestController {</span><br><span class="line"></span><br><span class="line">    private final static Logger log = LoggerFactory.getLogger(TestController.class);</span><br><span class="line"></span><br><span class="line">    @GetMapping(&quot;/hello/{say}&quot;)</span><br><span class="line">    @MyAnnotation(description = &quot;&#x6D4B;&#x8BD5;&#x63A5;&#x53E3;&quot;)</span><br><span class="line">    public String sayHello(@PathVariable(&quot;say&quot;) String content) {</span><br><span class="line">        log.info(&quot;Client is saying&#xFF1A;{}&quot;, content);</span><br><span class="line">        return content;</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></table></figure>

<h3 id="4-3-&#x7B2C;&#x4E09;&#x6B65;"><a href="#4-3-&#x7B2C;&#x4E09;&#x6B65;" class="headerlink" title="4.3 &#x7B2C;&#x4E09;&#x6B65;"></a>4.3 &#x7B2C;&#x4E09;&#x6B65;</h3><p>&#x6700;&#x540E;&#x4E00;&#x6B65;&#x4E5F;&#x662F;&#x6700;&#x5173;&#x952E;&#x7684;&#x4E00;&#x6B65;&#xFF0C;&#x5728;&#x8FD0;&#x884C;&#x65F6;&#x89E3;&#x6790;&#x6CE8;&#x89E3;&#x6267;&#x884C;&#x5207;&#x9762;&#x64CD;&#x4F5C;&#xFF0C;&#x6240;&#x4EE5;&#x5BF9;&#x5E94;&#x5730;&#x5199;&#x4E00;&#x4E2A;&#x5207;&#x9762;&#x7C7B;&#xFF1A;</p>
<p><img src="https://gitee.com/songjianzaina/juejin_p7/raw/master/img/0a5e0439f1f44331f30e561391fee9dedb9c9c824f57d5b527cffb8fe43c3914" alt="image.png"></p>
<p>&#x65B0;&#x5EFA;&#x5207;&#x9762;&#x7C7B;&#x540E;&#xFF0C;&#x8003;&#x8651;&#x5230;&#x65E5;&#x5FD7;&#x7684;&#x6253;&#x5370;&#xFF0C;&#x8FD9;&#x6BB5;&#x4EE3;&#x7801;&#x5FC5;&#x4E0D;&#x53EF;&#x5C11;&#xFF1A;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">java&#x590D;&#x5236;&#x4EE3;&#x7801;</span><br><span class="line">/**</span><br><span class="line"> * @description: TODO</span><br><span class="line"> * @author: HUALEI</span><br><span class="line"> * @date: 2021-11-19</span><br><span class="line"> * @time: 15:56</span><br><span class="line"> */</span><br><span class="line">@Aspect</span><br><span class="line">@Component</span><br><span class="line">public class MyAnnotationAspect {</span><br><span class="line"></span><br><span class="line">    private static final Logger logger = LoggerFactory.getLogger(MyAnnotationAspect.class);</span><br><span class="line">    </span><br><span class="line">    ......</span><br><span class="line">    ......</span><br><span class="line">}</span><br></pre></td></tr></table></figure>

<p><code>@Aspect</code> &#x548C; <code>@Component</code> &#x6CE8;&#x89E3;&#x5FC5;&#x4E0D;&#x53EF;&#x5C11;&#xFF0C;<code>@Component</code> &#x5927;&#x4F19;&#x5E94;&#x8BE5;&#x5728;&#x719F;&#x6089;&#x4E0D;&#x8FC7;&#x4E86;&#xFF0C;&#x5C06;&#x8BE5;&#x7C7B;&#x6CE8;&#x5165;&#x5230; <code>Spring</code> &#x5BB9;&#x5668;&#x4E2D;&#xFF1B;&#x800C;&#x53E6;&#x4E00;&#x4E2A; <code>@Aspect</code> &#x6CE8;&#x89E3;&#x7684;&#x4F5C;&#x7528;&#x662F;&#x628A;&#x5F53;&#x524D;&#x7C7B;&#x6807;&#x8BC6;&#x6210;&#x4E00;&#x4E2A;&#x5207;&#x9762;&#x4F9B;&#x5BB9;&#x5668;&#x53BB;&#x8BFB;&#x53D6;&#x3002;</p>
<p><strong>&#x6CE8;&#x610F;&#xFF1A;</strong> &#x6253;&#x5370;&#x65E5;&#x5FD7;&#x63A8;&#x8350;&#x4F7F;&#x7528;&#x7684;&#x5305;&#x662F; <code>slf4j.Logger</code> &#x3002;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">java&#x590D;&#x5236;&#x4EE3;&#x7801;</span><br><span class="line">/**</span><br><span class="line"> * &#x914D;&#x7F6E;&#x7EC7;&#x5165;&#x70B9;</span><br><span class="line"> *</span><br><span class="line"> * &#x5207;&#x5230;&#x6240;&#x6709;&#x88AB; @MyAnnotation &#x6CE8;&#x89E3;&#x4FEE;&#x9970;&#x7684;&#x65B9;&#x6CD5;</span><br><span class="line"> */</span><br><span class="line">@Pointcut(&quot;@annotation(com.xxx.xxx.annotation.MyAnnotation)&quot;)</span><br><span class="line">// @annotation(annotationType) &#x5339;&#x914D;&#x6307;&#x5B9A;&#x6CE8;&#x89E3;&#x4E3A;&#x5207;&#x5165;&#x70B9;&#x7684;&#x65B9;&#x6CD5;&#xFF0C;annotationType &#x4E3A;&#x6CE8;&#x89E3;&#x7684;&#x5168;&#x8DEF;&#x5F84;</span><br><span class="line">public void myAnnotationPointCut() {</span><br><span class="line">}</span><br></pre></td></tr></table></figure>

<p>&#x914D;&#x7F6E;&#x7EC7;&#x5165;&#x70B9;&#xFF0C;&#x5207;&#x5230;&#x6240;&#x6709;&#x88AB; <code>@MyAnnotation</code> &#x6CE8;&#x89E3;&#x4FEE;&#x9970;&#x7684;&#x65B9;&#x6CD5;&#xFF0C;&#x4E0D;&#x9700;&#x8981;&#x518D;&#x65B9;&#x6CD5;&#x4F53;&#x5185;&#x7F16;&#x5199;&#x5B9E;&#x9645;&#x7684;&#x4EE3;&#x7801;&#xFF01;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br></pre></td><td class="code"><pre><span class="line">java&#x590D;&#x5236;&#x4EE3;&#x7801;</span><br><span class="line">/**</span><br><span class="line"> * &#x73AF;&#x7ED5;&#x589E;&#x5F3A;&#xFF0C;&#x53EF;&#x81EA;&#x5B9A;&#x4E49;&#x76EE;&#x6807;&#x65B9;&#x6CD5;&#x6267;&#x884C;&#x7684;&#x65F6;&#x673A;</span><br><span class="line"> * &#x5B9E;&#x73B0;&#x8BB0;&#x5F55;&#x6240;&#x6709;&#x88AB; @MyAnnotation &#x6CE8;&#x89E3;&#x4FEE;&#x9970;&#x63A5;&#x53E3;&#x8BF7;&#x6C42;&#x529F;&#x80FD;</span><br><span class="line"> *</span><br><span class="line"> * @param pjp &#x8FDE;&#x63A5;&#x70B9;&#x5BF9;&#x8C61;</span><br><span class="line"> * @return &#x76EE;&#x6807;&#x65B9;&#x6CD5;&#x7684;&#x8FD4;&#x56DE;&#x503C;</span><br><span class="line"> * @throws Throwable &#x5F02;&#x5E38;</span><br><span class="line"> */</span><br><span class="line">@Around(&quot;myAnnotationPointCut()&quot;)</span><br><span class="line">public Object around(ProceedingJoinPoint pjp) throws Throwable {</span><br><span class="line">    // &#x8BF7;&#x6C42;&#x5F00;&#x59CB;&#x65F6;&#x95F4;&#x6233;</span><br><span class="line">    // long begin = System.currentTimeMillis();</span><br><span class="line"></span><br><span class="line">    TimeInterval timer = DateUtil.timer();</span><br><span class="line"></span><br><span class="line">    // &#x901A;&#x8FC7;&#x8BF7;&#x6C42;&#x4E0A;&#x4E0B;&#x6587;&#xFF08;&#x6267;&#x884C;&#x76EE;&#x6807;&#x65B9;&#x6CD5;&#x4E4B;&#x524D;&#xFF09;</span><br><span class="line">    ServletRequestAttributes attributes = (ServletRequestAttributes) RequestContextHolder.getRequestAttributes();</span><br><span class="line"></span><br><span class="line">    HttpServletRequest request = attributes.getRequest();</span><br><span class="line"></span><br><span class="line">    // &#x83B7;&#x53D6;&#x8FDE;&#x63A5;&#x70B9;&#x7684;&#x65B9;&#x6CD5;&#x7B7E;&#x540D;&#x5BF9;&#x8C61;</span><br><span class="line">    Signature signature = pjp.getSignature();</span><br><span class="line">    MethodSignature methodSignature = (MethodSignature) signature;</span><br><span class="line"></span><br><span class="line">    // &#x83B7;&#x53D6;&#x63A5;&#x53E3;&#x65B9;&#x6CD5;</span><br><span class="line">    Method method = methodSignature.getMethod();</span><br><span class="line">    // &#x901A;&#x8FC7;&#x63A5;&#x53E3;&#x65B9;&#x6CD5;&#x83B7;&#x53D6;&#x8BE5;&#x65B9;&#x6CD5;&#x4E0A;&#x7684; @MyAnnotation &#x6CE8;&#x89E3;&#x5BF9;&#x8C61;</span><br><span class="line">    MyAnnotation myAnnotation = method.getAnnotation(MyAnnotation.class);</span><br><span class="line"></span><br><span class="line">    // &#x901A;&#x8FC7;&#x6CE8;&#x89E3;&#x83B7;&#x53D6;&#x63A5;&#x53E3;&#x65B9;&#x6CD5;&#x63CF;&#x8FF0;&#x4FE1;&#x606F;</span><br><span class="line">    String description = myAnnotation.description();</span><br><span class="line"></span><br><span class="line">    // &#x8BF7;&#x6C42;&#x5F00;&#x59CB;&#xFF08;&#x524D;&#x7F6E;&#x901A;&#x77E5;&#xFF09;</span><br><span class="line">    logger.info(&quot;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; &#x8BF7;&#x6C42;&#x5F00;&#x59CB; &lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&quot;);</span><br><span class="line">    // &#x8BF7;&#x6C42;&#x94FE;&#x63A5;</span><br><span class="line">    logger.info(&quot;&#x8BF7;&#x6C42;&#x94FE;&#x63A5;&#xFF1A;{}&quot;, request.getRequestURL().toString());</span><br><span class="line">    // &#x63A5;&#x53E3;&#x65B9;&#x6CD5;&#x63CF;&#x8FF0;&#x4FE1;&#x606F;</span><br><span class="line">    logger.info(&quot;&#x63A5;&#x53E3;&#x63CF;&#x8FF0;&#xFF1A;{}&quot;, description);</span><br><span class="line">    // &#x8BF7;&#x6C42;&#x7C7B;&#x578B;</span><br><span class="line">    logger.info(&quot;&#x8BF7;&#x6C42;&#x7C7B;&#x578B;&#xFF1A;{}&quot;, request.getMethod());</span><br><span class="line">    // &#x8BF7;&#x6C42;&#x65B9;&#x6CD5;</span><br><span class="line">    logger.info(&quot;&#x8BF7;&#x6C42;&#x65B9;&#x6CD5;&#xFF1A;{}.{}&quot;, signature.getDeclaringTypeName(), signature.getName());</span><br><span class="line">    // &#x8BF7;&#x6C42;&#x8FDC;&#x7A0B;&#x5730;&#x5740;</span><br><span class="line">    logger.info(&quot;&#x8BF7;&#x6C42;&#x8FDC;&#x7A0B;&#x5730;&#x5740;&#xFF1A;{}&quot;, request.getRemoteAddr());</span><br><span class="line">    // &#x8BF7;&#x6C42;&#x5165;&#x53C2;</span><br><span class="line">    logger.info(&quot;&#x8BF7;&#x6C42;&#x5165;&#x53C2;&#xFF1A;{}&quot;, JSONUtil.toJsonStr(pjp.getArgs()));</span><br><span class="line"></span><br><span class="line">    // &#x8BF7;&#x6C42;&#x7ED3;&#x675F;&#x65F6;&#x95F4;&#x6233;</span><br><span class="line">    // long end = System.currentTimeMillis();</span><br><span class="line"></span><br><span class="line">    // &#x8BF7;&#x6C42;&#x8017;&#x65F6;</span><br><span class="line">    logger.info(&quot;&#x8BF7;&#x6C42;&#x8017;&#x65F6;&#xFF1A;{}&quot;, timer.intervalPretty());</span><br><span class="line"></span><br><span class="line">    // &#x8BF7;&#x6C42;&#x8FD4;&#x56DE;&#x7ED3;&#x679C;&#xFF08;&#x6267;&#x884C;&#x76EE;&#x6807;&#x65B9;&#x6CD5;&#x4E4B;&#x540E;&#xFF09;</span><br><span class="line">    Object processedResult = pjp.proceed();</span><br><span class="line">    // &#x8BF7;&#x6C42;&#x8FD4;&#x56DE;</span><br><span class="line">    logger.info(&quot;&#x8BF7;&#x6C42;&#x8FD4;&#x56DE;&#xFF1A;{}&quot;, JSONUtil.toJsonStr(processedResult));</span><br><span class="line"></span><br><span class="line">    // &#x8BF7;&#x6C42;&#x7ED3;&#x675F;&#xFF08;&#x540E;&#x7F6E;&#x901A;&#x77E5;&#xFF09;</span><br><span class="line">    logger.info(&quot;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; &#x8BF7;&#x6C42;&#x7ED3;&#x675F; &lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&quot; + System.lineSeparator());</span><br><span class="line"></span><br><span class="line">    return processedResult;</span><br><span class="line">}</span><br></pre></td></tr></table></figure>

<p><code>pjp</code> &#x8FDE;&#x63A5;&#x70B9;&#x5BF9;&#x8C61;&#xFF0C;<code>JoinPoint</code> &#x7684;&#x5B50;&#x63A5;&#x53E3;&#xFF0C;&#x53EF;&#x4EE5;&#x83B7;&#x53D6;&#x5F53;&#x524D;&#x5207;&#x5165;&#x7684;&#x65B9;&#x6CD5;&#x7684;&#x53C2;&#x6570;&#x3001;&#x4EE3;&#x7406;&#x7C7B;&#x7B49;&#x4FE1;&#x606F;&#xFF0C;&#x56E0;&#x6B64;&#x53EF;&#x4EE5;&#x8BB0;&#x5F55;&#x4E00;&#x4E9B;&#x4FE1;&#x606F;&#x3001;&#x9A8C;&#x8BC1;&#x4E00;&#x4E9B;&#x4FE1;&#x606F;&#x7B49;&#xFF0C;&#x5B83;&#x6709;&#x4E24;&#x4E2A;&#x91CD;&#x8981;&#x7684;&#x65B9;&#x6CD5;&#xFF1A;</p>
<ul>
<li><code>Object proceed() throws Throwable</code> &#x6267;&#x884C;&#x76EE;&#x6807;&#x65B9;&#x6CD5;</li>
<li><code>Object proceed(Object[] var1) throws Throwable</code> &#x4F20;&#x5165;&#x7684;&#x65B0;&#x7684;&#x53C2;&#x6570;&#x53BB;&#x6267;&#x884C;&#x76EE;&#x6807;&#x65B9;&#x6CD5;</li>
</ul>
<p>&#x6574;&#x4E2A;&#x4EE3;&#x7801;&#x90FD;&#x6709;&#x6CE8;&#x89E3;&#xFF0C;&#x8FD9;&#x91CC;&#x5C31;&#x4E0D;&#x8D58;&#x8FF0;&#x4EE3;&#x7801;&#x903B;&#x8F91;&#x4E86;&#xFF01;</p>
<p><img src="https://gitee.com/songjianzaina/juejin_p7/raw/master/img/91307a9b3e141b5ba26a02f1434b01fab5087fbf250529c10da97d82848b1e9a" alt="&#x68D2;.gif"></p>
<h3 id="4-4-&#x6269;&#x5C55;"><a href="#4-4-&#x6269;&#x5C55;" class="headerlink" title="4.4 &#x6269;&#x5C55;"></a>4.4 &#x6269;&#x5C55;</h3><p>&#x9664;&#x4E86;&#x4E0A;&#x9762;&#x7528;&#x5230;&#x7684; <code>@PointCut</code> &#x548C; <code>@Around</code> &#x6CE8;&#x89E3;&#xFF0C;&#x8FD8;&#x6709;&#x53E6;&#x5916; <strong>4</strong> &#x4E2A;&#x4F7F;&#x7528; <code>AOP</code> &#x5E38;&#x7528;&#x7684;&#x6CE8;&#x89E3;&#xFF1A;</p>
<ul>
<li><code>@Before</code> &#xFF1A;&#x524D;&#x7F6E;&#x589E;&#x5F3A;&#xFF0C;&#x5728;&#x5207;&#x70B9;&#x4E4B;&#x524D;&#x7EC7;&#x5165;&#x76F8;&#x5173;&#x4EE3;&#x7801;</li>
<li><code>@After</code> &#xFF1A;<code>final</code> &#x589E;&#x5F3A;&#xFF0C;&#x4E0D;&#x7BA1;&#x662F;&#x629B;&#x51FA;&#x5F02;&#x5E38;&#x6216;&#x8005;&#x6B63;&#x5E38;&#x9000;&#x51FA;&#x90FD;&#x4F1A;&#x6267;&#x884C;</li>
<li><code>@AfterReturning</code> &#xFF1A;&#x540E;&#x7F6E;&#x589E;&#x5F3A;&#xFF0C;&#x65B9;&#x6CD5;&#x6B63;&#x5E38;&#x9000;&#x51FA;&#x65F6;&#x6267;&#x884C;</li>
<li><code>@AfterThrowing</code> &#xFF1A;&#x5F02;&#x5E38;&#x629B;&#x51FA;&#x589E;&#x5F3A;&#xFF0C;&#x5207;&#x70B9;&#x65B9;&#x6CD5;&#x629B;&#x51FA;&#x5F02;&#x5E38;&#x65F6;&#x6267;&#x884C;</li>
</ul>
<p>&#x6267;&#x884C;&#x987A;&#x5E8F;&#xFF1A;<code>@Around</code> =&gt; <code>@Before</code> =&gt; &#x6267;&#x884C;&#x63A5;&#x53E3;&#x65B9;&#x6CD5;&#x4E2D;&#x7684;&#x4EE3;&#x7801; =&gt; <code>@After</code> =&gt; <code>@AfterReturning</code></p>
<p>&#x6709;&#x5174;&#x8DA3;&#x7684;&#x540C;&#x5B66;&#xFF0C;&#x53EF;&#x4EE5;&#x73AF;&#x7ED5;&#x589E;&#x5F3A;&#x4E2D;&#x7684;&#x4EE3;&#x7801;&#x62C6;&#x5206;&#x5230;&#x524D;&#x7F6E;&#x548C;&#x540E;&#x7F6E;&#x589E;&#x5F3A;&#x4E2D;&#xFF0C;&#x4EE5;&#x4FBF;&#x66F4;&#x597D;&#x5730;&#x7406;&#x89E3;&#x8FD9;&#x56DB;&#x4E2A;&#x5E38;&#x7528;&#x6CE8;&#x89E3;&#x4F7F;&#x7528;&#x573A;&#x666F;&#xFF01; (&#xE51;&#x2022;&#x300;&#x3142;&#x2022;&#x301;)&#x648;&#x2727;</p>
<h2 id="&#x7ED3;&#x5C3E;"><a href="#&#x7ED3;&#x5C3E;" class="headerlink" title="&#x7ED3;&#x5C3E;"></a>&#x7ED3;&#x5C3E;</h2><blockquote>
<p>&#x64B0;&#x6587;&#x4E0D;&#x6613;&#xFF0C;&#x6B22;&#x8FCE;&#x5927;&#x5BB6;&#x70B9;&#x8D5E;&#x3001;&#x8BC4;&#x8BBA;&#xFF0C;&#x4F60;&#x7684;&#x5173;&#x6CE8;&#x3001;&#x70B9;&#x8D5E;&#x662F;&#x6211;&#x575A;&#x6301;&#x7684;&#x4E0D;&#x61C8;&#x52A8;&#x529B;&#xFF0C;&#x611F;&#x8C22;&#x5927;&#x5BB6;&#x80FD;&#x591F;&#x770B;&#x5230;&#x8FD9;&#x91CC;&#xFF01;Peace &amp; Love&#x3002;</p>
</blockquote>
<p><strong>&#x672C;&#x6587;&#x8F6C;&#x8F7D;&#x81EA;:</strong> <a href="/external_links/fd5383c7b72097a2f5726e827a6d35d7.html" target="blank" rel="noopener">&#x6398;&#x91D1;</a></p>
<p><em><a href="https://dev.newban.cn/">&#x5F00;&#x53D1;&#x8005;&#x535A;&#x5BA2; &#x2013; &#x548C;&#x5F00;&#x53D1;&#x76F8;&#x5173;&#x7684; &#x8FD9;&#x91CC;&#x5168;&#x90FD;&#x6709;</a></em></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://dev.newban.cn../../7034406399312560164.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="开发者博客">
      <meta itemprop="description" content>
      <meta itemprop="image" content="../../images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="开发者博客 – IT技术 尽在开发者博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="../../7034406399312560164.html" itemprop="url">一文带你掌握Mybatis二级缓存源码中Cache标签解析</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2021-11-25T15:29:37+08:00">
                2021-11-25
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>&#x8FD9;&#x662F;&#x6211;&#x53C2;&#x4E0E;11&#x6708;&#x66F4;&#x6587;&#x6311;&#x6218;&#x7684;&#x7B2C;23&#x5929;&#xFF0C;&#x6D3B;&#x52A8;&#x8BE6;&#x60C5;&#x67E5;&#x770B;&#xFF1A;<a href="https://dev.newban.cn/7023643374569816095/">2021&#x6700;&#x540E;&#x4E00;&#x6B21;&#x66F4;&#x6587;&#x6311;&#x6218;</a></p>
<h1 id="Mybatis&#x4E8C;&#x7EA7;&#x7F13;&#x5B58;&#x6E90;&#x7801;&#x4E2D;Cache&#x6807;&#x7B7E;&#x89E3;&#x6790;"><a href="#Mybatis&#x4E8C;&#x7EA7;&#x7F13;&#x5B58;&#x6E90;&#x7801;&#x4E2D;Cache&#x6807;&#x7B7E;&#x89E3;&#x6790;" class="headerlink" title="Mybatis&#x4E8C;&#x7EA7;&#x7F13;&#x5B58;&#x6E90;&#x7801;&#x4E2D;Cache&#x6807;&#x7B7E;&#x89E3;&#x6790;"></a>Mybatis&#x4E8C;&#x7EA7;&#x7F13;&#x5B58;&#x6E90;&#x7801;&#x4E2D;Cache&#x6807;&#x7B7E;&#x89E3;&#x6790;</h1><h2 id="Mybatis&#x7F13;&#x5B58;&#x7ED3;&#x6784;&#x56FE;"><a href="#Mybatis&#x7F13;&#x5B58;&#x7ED3;&#x6784;&#x56FE;" class="headerlink" title="Mybatis&#x7F13;&#x5B58;&#x7ED3;&#x6784;&#x56FE;"></a>Mybatis&#x7F13;&#x5B58;&#x7ED3;&#x6784;&#x56FE;</h2><p><img src="https://gitee.com/songjianzaina/juejin_p7/raw/master/img/a66f7d1c17239e2497757f6a864d73676626d2f4826e867589383d52f1e19e89" alt="image.png"></p>
<p>&#x6709;&#x4E0A;&#x56FE;&#x53EF;&#x77E5;&#xFF1A;&#x2F06;&#x7EA7;&#x7F13;&#x5B58;&#x6784;&#x5EFA;&#x5728;&#x2F00;&#x7EA7;&#x7F13;&#x5B58;&#x4E4B;&#x4E0A;&#xFF0C;&#x5728;&#x6536;&#x5230;&#x67E5;&#x8BE2;&#x8BF7;&#x6C42;&#x65F6;&#xFF0C;MyBatis&#x2FB8;&#x5148;&#x4F1A;&#x67E5;&#x8BE2;&#x2F06;&#x7EA7;&#x7F13;&#x5B58;&#xFF0C;&#x82E5;&#x2F06;&#x7EA7;&#x7F13;&#x5B58;&#x672A;&#x547D;&#x4E2D;&#xFF0C;&#x518D;&#x53BB;&#x67E5;&#x8BE2;&#x2F00;&#x7EA7;&#x7F13;&#x5B58;&#xFF0C;&#x2F00;&#x7EA7;&#x7F13;&#x5B58;&#x6CA1;&#x6709;&#xFF0C;&#x518D;&#x67E5;&#x8BE2;&#x6570;&#x636E;&#x5E93;&#x3002;<br>&#x987A;&#x5E8F;&#x5C31;&#x662F; &#x4E8C;&#x7EA7;&#x7F13;&#x5B58; &#x2014;&#x300B;&#x4E00;&#x7EA7;&#x7F13;&#x5B58; &#x2014;&#x300B;&#x6570;&#x636E;&#x5E93;</p>
<p>&#x4E0E;&#x4E00;&#x7EA7;&#x7F13;&#x5B58;&#x4E0D;&#x540C;&#x7684;&#x662F;&#xFF0C;&#x2F06;&#x7EA7;&#x7F13;&#x5B58;&#x548C;&#x5177;&#x4F53;&#x7684;&#x547D;&#x540D;&#x7A7A;&#x95F4;&#x7ED1;&#x5B9A;&#xFF0C;&#x2F00;&#x4E2A;Mapper&#x4E2D;&#x6709;&#x2F00;&#x4E2A;Cache&#xFF0C;&#x76F8;&#x540C;Mapper&#x4E2D;&#x7684;MappedStatement&#x5171;&#x2F64;&#x2F00;&#x4E2A;Cache&#xFF0C;&#x2F00;&#x7EA7;&#x7F13;&#x5B58;&#x5219;&#x662F;&#x548C;SqlSession&#x7ED1;&#x5B9A;&#x3002;&#x4E00;&#x4E2A;Mapper&#x53EF;&#x80FD;&#x6709;&#x591A;&#x4E2A;SqlSession&#xFF0C;&#x4F46;&#x662F;&#x53EA;&#x6709;&#x4E00;&#x4E2A;Cache&#x3002;</p>
<h2 id="&#x5982;&#x4F55;&#x542F;&#x7528;&#x4E8C;&#x7EA7;&#x7F13;&#x5B58;"><a href="#&#x5982;&#x4F55;&#x542F;&#x7528;&#x4E8C;&#x7EA7;&#x7F13;&#x5B58;" class="headerlink" title="&#x5982;&#x4F55;&#x542F;&#x7528;&#x4E8C;&#x7EA7;&#x7F13;&#x5B58;"></a>&#x5982;&#x4F55;&#x542F;&#x7528;&#x4E8C;&#x7EA7;&#x7F13;&#x5B58;</h2><ul>
<li>&#x5F00;&#x542F;&#x5168;&#x5C40;&#x2F06;&#x7EA7;&#x7F13;&#x5B58;&#x914D;&#x7F6E;</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">xml&#x590D;&#x5236;&#x4EE3;&#x7801;&lt;settings&gt;</span><br><span class="line">&lt;setting name=&quot;cacheEnabled&quot; value=&quot;true&quot;/&gt;</span><br><span class="line">&lt;/settings&gt;</span><br></pre></td></tr></table></figure>

<ul>
<li>&#x5728;&#x9700;&#x8981;&#x4F7F;&#x2F64;&#x2F06;&#x7EA7;&#x7F13;&#x5B58;&#x7684;Mapper&#x914D;&#x7F6E;&#x2F42;&#x4EF6;&#x4E2D;&#x914D;&#x7F6E;&#x6807;&#x7B7E;</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">xml&#x590D;&#x5236;&#x4EE3;&#x7801;&lt;cache&gt;&lt;/cache&gt;</span><br></pre></td></tr></table></figure>

<ul>
<li>&#x5728;&#x5177;&#x4F53;CURD&#x6807;&#x7B7E;&#x4E0A;&#x914D;&#x7F6E;useCache=true</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">xml&#x590D;&#x5236;&#x4EE3;&#x7801;&lt;select id=&quot;findById&quot; resultType=&quot;com.test.pojo.User&quot; useCache=&quot;true&quot;&gt;</span><br><span class="line">select * from user where id = #{id}</span><br><span class="line">&lt;/select&gt;</span><br></pre></td></tr></table></figure>

<h2 id="&#x6807;&#x7B7E;-lt-cache-gt-&#x7684;&#x6E90;&#x7801;&#x89E3;&#x6790;"><a href="#&#x6807;&#x7B7E;-lt-cache-gt-&#x7684;&#x6E90;&#x7801;&#x89E3;&#x6790;" class="headerlink" title="&#x6807;&#x7B7E;&lt; cache /&gt;&#x7684;&#x6E90;&#x7801;&#x89E3;&#x6790;"></a>&#x6807;&#x7B7E;&lt; cache /&gt;&#x7684;&#x6E90;&#x7801;&#x89E3;&#x6790;</h2><h3 id="&#x5982;&#x4F55;&#x89E3;&#x6790;cache&#x6807;&#x7B7E;&#x5C5E;&#x6027;"><a href="#&#x5982;&#x4F55;&#x89E3;&#x6790;cache&#x6807;&#x7B7E;&#x5C5E;&#x6027;" class="headerlink" title="&#x5982;&#x4F55;&#x89E3;&#x6790;cache&#x6807;&#x7B7E;&#x5C5E;&#x6027;"></a>&#x5982;&#x4F55;&#x89E3;&#x6790;cache&#x6807;&#x7B7E;&#x5C5E;&#x6027;</h3><p>&#x6839;&#x636E;Mybatis&#x524D;&#x4E24;&#x7BC7;Mybatis&#x6E90;&#x7801;&#x5256;&#x6790;&#xFF0C;&#x53EF;&#x4EE5;&#x77E5;&#x9053;xml&#x7684;&#x89E3;&#x6790;&#x2F2F;&#x4F5C;&#x4E3B;&#x8981;&#x4EA4;&#x7ED9;XMLConfigBuilder.parse()&#x2F45;&#x6CD5;&#x6765;&#x5B9E;&#x73B0;&#x3002;</p>
<p><img src="https://gitee.com/songjianzaina/juejin_p7/raw/master/img/ced7f557fb58e7616a71c2bd25c779be3b18aea524fb9493078f1b569fad9271" alt="image.png"></p>
<p>&#x56E0;&#x4E3A;&#x6807;&#x7B7E;chache&#x914D;&#x7F6E;&#x5728;mapper&#x7684;&#x6620;&#x5C04;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x4E2D;&#xFF0C;&#x56E0;&#x6B64;&#xFF0C;&#x6211;&#x4EEC;&#x76F4;&#x63A5;&#x770B;&#x5173;&#x4E8E;mappers&#x6807;&#x7B7E;&#x7684;&#x89E3;&#x6790;</p>
<p><img src="https://gitee.com/songjianzaina/juejin_p7/raw/master/img/a529ad7c002cd248333c69c6d7826ba5ef2a8bcffb7f083b0a2131d7d3c25877" alt="image.png"></p>
<p>XMLMapperBuilder&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x7684;&#x4F5C;&#x7528;&#x662F;&#xFF0C;&#x89E3;&#x6790;&#x6620;&#x5C04;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#xFF0C;&#x6267;&#x884C;mapperParser.parse()&#x65B9;&#x6CD5;&#x8FDB;&#x884C;&#x89E3;&#x6790;</p>
<p><img src="https://gitee.com/songjianzaina/juejin_p7/raw/master/img/596778443990bed48f8fbd1b22f4fa458f5ae5d816a44e4c008996aa7f4cad68" alt="image.png"></p>
<p>&#x901A;&#x8FC7;configurationElement&#x65B9;&#x6CD5;&#x4E2D;&#x6709;cache&#x6807;&#x7B7E;&#x7684;&#x89E3;&#x6790;&#x5904;&#x7406;&#x2018;</p>
<p><img src="https://gitee.com/songjianzaina/juejin_p7/raw/master/img/81fab620e525d4657c49a2feef7444eac62e61986f6e469667ec1bb7bedf33f9" alt="image.png"></p>
<p>&#x901A;&#x8FC7;&#x6E90;&#x7801;&#x53EF;&#x77E5;&#xFF1A;&#x9488;&#x5BF9;&#x4E0E;cache&#x76F8;&#x5173;&#x65B9;&#x6CD5;&#x6709;&#x4E24;&#x4E2A;&#xFF0C;&#x4E00;&#x4E2A;&#x662F;cacheRefElement&#x65B9;&#x6CD5;&#xFF0C;&#x4E3B;&#x8981;&#x662F;&#x89E3;&#x6790;cache-ref&#x6807;&#x7B7E;&#xFF0C;&#x8BE5;&#x6807;&#x7B7E;&#x4F5C;&#x7528;&#x662F;&#xFF0C;&#x5728;&#x5F53;&#x524D;mapper&#x4E2D;&#x5F15;&#x5165;&#x5176;&#x4ED6;&#x7F13;&#x5B58;&#xFF0C;&#x4E00;&#x4E2A;&#x662F;cacheRefElement&#x65B9;&#x6CD5;&#xFF0C;&#x4E3B;&#x8981;&#x662F;&#x89E3;&#x6790;cache&#x6807;&#x7B7E;</p>
<p><img src="https://gitee.com/songjianzaina/juejin_p7/raw/master/img/eb4d0ed2d62f281cb33795cd4e2b6fcd8b353976cf7b0247f81f933ae7697c68" alt="image.png"></p>
<p>&#x901A;&#x8FC7;cacheRefElement&#x65B9;&#x6CD5;&#x5C31;&#x53EF;&#x4EE5;&#x89E3;&#x6790;cache&#x6807;&#x7B7E;&#x91CC;&#x9762;&#x6240;&#x6709;&#x7684;&#x5C5E;&#x6027;&#xFF0C;&#x7136;&#x540E;&#x901A;&#x8FC7;&#x8FD9;&#x4E9B;&#x5C5E;&#x6027;&#x4F7F;&#x7528;useNewCache&#x65B9;&#x6CD5;&#x6784;&#x9020;&#x4E00;&#x4E2A;cache&#x5BF9;&#x8C61;&#xFF0C;&#x81F3;&#x6B64;cache&#x6807;&#x7B7E;&#x89E3;&#x6790;&#x5DF2;&#x7ECF;&#x5B8C;&#x6210;</p>
<p><img src="https://gitee.com/songjianzaina/juejin_p7/raw/master/img/3fd5bbc6f93453dca50570e4a39fc1c5c4dec2f05178427fde05aa5906abf96f" alt="image.png"></p>
<h3 id="&#x5982;&#x4F55;&#x6784;&#x5EFA;Cache&#x5BF9;&#x8C61;"><a href="#&#x5982;&#x4F55;&#x6784;&#x5EFA;Cache&#x5BF9;&#x8C61;" class="headerlink" title="&#x5982;&#x4F55;&#x6784;&#x5EFA;Cache&#x5BF9;&#x8C61;"></a>&#x5982;&#x4F55;&#x6784;&#x5EFA;Cache&#x5BF9;&#x8C61;</h3><p><img src="https://gitee.com/songjianzaina/juejin_p7/raw/master/img/2f625d4c820b5cc1605ce893b230c51a76b770ee871575f90050a8e31b6414c6" alt="image.png"></p>
<p>&#x6211;&#x4EEC;&#x770B;&#x5230;&#x2F00;&#x4E2A;Mapper.xml&#x53EA;&#x4F1A;&#x89E3;&#x6790;&#x2F00;&#x6B21;&#x6807;&#x7B7E;&#xFF0C;&#x4E5F;&#x5C31;&#x662F;&#x53EA;&#x521B;&#x5EFA;&#x2F00;&#x6B21;Cache&#x5BF9;&#x8C61;&#xFF0C;&#x653E;&#x8FDB;configuration&#x4E2D;&#xFF0C;&#x5E76;&#x5C06;cache&#x8D4B;&#x503C;&#x7ED9;MapperBuilderAssistant.currentCache</p>
<p>&#x6211;&#x4EEC;&#x770B;&#x5230;&#x5C06;Mapper&#x4E2D;&#x521B;&#x5EFA;&#x7684;Cache&#x5BF9;&#x8C61;&#xFF0C;&#x52A0;&#x2F0A;&#x5230;&#x4E86;&#x6BCF;&#x4E2A;MappedStatement&#x5BF9;&#x8C61;&#x4E2D;&#xFF0C;&#x4E5F;&#x5C31;&#x662F;&#x540C;&#x2F00;&#x4E2A;Mapper&#x4E2D;&#x6240;&#x6709;&#x7684;&#x3002;</p>
<p>&#x81F3;&#x6B64;&#xFF0C;Cache&#x6807;&#x7B7E;&#x6E90;&#x7801;&#x89E3;&#x6790;&#x5DF2;&#x7ECF;&#x5B8C;&#x6210;&#xFF0C;&#x660E;&#x5929;&#x4F1A;&#x8FDB;&#x4E00;&#x6B65;&#x5206;&#x6790;</p>
<p><strong>&#x672C;&#x6587;&#x8F6C;&#x8F7D;&#x81EA;:</strong> <a href="/external_links/cf5c030a3276685a78e1dffa4bb3d1e8.html" target="blank" rel="noopener">&#x6398;&#x91D1;</a></p>
<p><em><a href="https://dev.newban.cn/">&#x5F00;&#x53D1;&#x8005;&#x535A;&#x5BA2; &#x2013; &#x548C;&#x5F00;&#x53D1;&#x76F8;&#x5173;&#x7684; &#x8FD9;&#x91CC;&#x5168;&#x90FD;&#x6709;</a></em></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://dev.newban.cn../../7034395362756411429.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="开发者博客">
      <meta itemprop="description" content>
      <meta itemprop="image" content="../../images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="开发者博客 – IT技术 尽在开发者博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="../../7034395362756411429.html" itemprop="url">【每日算法】力扣350 两个数组的交集 II</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2021-11-25T14:47:17+08:00">
                2021-11-25
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>&#x8FD9;&#x662F;&#x6211;&#x53C2;&#x4E0E;11&#x6708;&#x66F4;&#x6587;&#x6311;&#x6218;&#x7684;&#x7B2C;25&#x5929;&#xFF0C;&#x6D3B;&#x52A8;&#x8BE6;&#x60C5;&#x67E5;&#x770B;&#xFF1A;<a href="https://dev.newban.cn/7023643374569816095/">2021&#x6700;&#x540E;&#x4E00;&#x6B21;&#x66F4;&#x6587;&#x6311;&#x6218;</a>&#x3002;</p>
<h2 id="&#x63CF;&#x8FF0;"><a href="#&#x63CF;&#x8FF0;" class="headerlink" title="&#x63CF;&#x8FF0;"></a>&#x63CF;&#x8FF0;</h2><p>&#x7ED9;&#x5B9A;&#x4E24;&#x4E2A;&#x6570;&#x7EC4;&#xFF0C;&#x7F16;&#x5199;&#x4E00;&#x4E2A;&#x51FD;&#x6570;&#x6765;&#x8BA1;&#x7B97;&#x5B83;&#x4EEC;&#x7684;&#x4EA4;&#x96C6;&#x3002;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">ini&#x590D;&#x5236;&#x4EE3;&#x7801;&#x793A;&#x4F8B; 1&#xFF1A;</span><br><span class="line"></span><br><span class="line">&#x8F93;&#x5165;&#xFF1A;nums1 = [1,2,2,1], nums2 = [2,2]</span><br><span class="line">&#x8F93;&#x51FA;&#xFF1A;[2,2]</span><br><span class="line">&#x793A;&#x4F8B; 2:</span><br><span class="line"></span><br><span class="line">&#x8F93;&#x5165;&#xFF1A;nums1 = [4,9,5], nums2 = [9,4,9,8,4]</span><br><span class="line">&#x8F93;&#x51FA;&#xFF1A;[4,9]</span><br></pre></td></tr></table></figure>

<p>&#x8BF4;&#x660E;&#xFF1A;</p>
<ul>
<li>&#x8F93;&#x51FA;&#x7ED3;&#x679C;&#x4E2D;&#x6BCF;&#x4E2A;&#x5143;&#x7D20;&#x51FA;&#x73B0;&#x7684;&#x6B21;&#x6570;&#xFF0C;&#x5E94;&#x4E0E;&#x5143;&#x7D20;&#x5728;&#x4E24;&#x4E2A;&#x6570;&#x7EC4;&#x4E2D;&#x51FA;&#x73B0;&#x6B21;&#x6570;&#x7684;&#x6700;&#x5C0F;&#x503C;&#x4E00;&#x81F4;&#x3002;</li>
<li>&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x4E0D;&#x8003;&#x8651;&#x8F93;&#x51FA;&#x7ED3;&#x679C;&#x7684;&#x987A;&#x5E8F;&#x3002;</li>
</ul>
<h2 id="&#x505A;&#x9898;"><a href="#&#x505A;&#x9898;" class="headerlink" title="&#x505A;&#x9898;"></a>&#x505A;&#x9898;</h2><p>&#x8FD9;&#x4E2A;&#x8BF4;&#x660E;&#x7684;&#x7B2C;&#x4E00;&#x6761;&#x6211;&#x6CA1;&#x592A;&#x770B;&#x61C2;&#x3002;</p>
<p>&#x4ECE;&#x9898;&#x76EE;&#x201C;&#x4E24;&#x4E2A;&#x6570;&#x7EC4;&#x7684;&#x4EA4;&#x96C6;&#x201D;&#x4E0A;&#x63A8;&#x6D4B;&#xFF0C;&#x5E94;&#x8BE5;&#x662F;&#x4E0D;&#x9700;&#x8981;&#x8003;&#x8651;&#x4E24;&#x4E2A;&#x6570;&#x7EC4;&#x7684;&#x987A;&#x5E8F;&#x3002;</p>
<p>&#x6211;&#x4E00;&#x5F00;&#x59CB;&#x8FD8;&#x4EE5;&#x4E3A;&#xFF0C;&#x8981;&#x8003;&#x8651;&#x4E24;&#x4E2A;&#x6570;&#x7EC4;&#x7684;&#x987A;&#x5E8F;&#xFF0C;&#x50CF; &#x8BD5;&#x4F8B; 2 &#x7684; [4,9] &#x5C31;&#x6709;&#x987A;&#x5E8F;&#xFF0C;&#x90A3;&#x6837;&#x5C31;&#x6BD4;&#x8F83;&#x96BE;&#x505A;&#x4E86;&#xFF0C;&#x552F;&#x4E00;&#x7684;&#x505A;&#x6CD5;&#x53EF;&#x80FD;&#x5C31;&#x662F;&#x4E24;&#x5C42;&#x904D;&#x5386;&#x5FAA;&#x73AF;&#x4E86;&#x3002;</p>
<p>&#x56E0;&#x4E3A;&#x4E0D;&#x9700;&#x8981;&#x8003;&#x8651;&#x7ED3;&#x679C;&#x7684;&#x987A;&#x5E8F;&#xFF0C;&#x6240;&#x4EE5;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x8003;&#x8651;&#x4F7F;&#x7528; map &#x6765;&#x5B58;&#x50A8;&#x6BCF;&#x4E2A;&#x6570;&#x51FA;&#x73B0;&#x7684;&#x4E2A;&#x6570;&#xFF0C;&#x7136;&#x540E;&#x53D6;&#x76F8;&#x540C;&#x7684;&#x6B21;&#x6570;&#x6700;&#x5C11;&#x7684;&#x6570;&#x4F5C;&#x4E3A;&#x7ED3;&#x679C;&#x8FD4;&#x56DE;&#x3002;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line">java&#x590D;&#x5236;&#x4EE3;&#x7801;public int[] intersect(int[] nums1, int[] nums2) {</span><br><span class="line">    Map&lt;Integer,Integer&gt; map1=new HashMap&lt;&gt;();</span><br><span class="line">    Map&lt;Integer,Integer&gt; map2=new HashMap&lt;&gt;();</span><br><span class="line"></span><br><span class="line">    for (int i = 0; i &lt; nums1.length; i++) {</span><br><span class="line">        int num = nums1[i];</span><br><span class="line">        Integer integer = map1.get(num);</span><br><span class="line">        if (integer == null){</span><br><span class="line">            integer = 1;</span><br><span class="line">            map1.put(num,integer);</span><br><span class="line">            continue;</span><br><span class="line">        }</span><br><span class="line">        integer +=1;</span><br><span class="line">        map1.put(num,integer);</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    for (int i = 0; i &lt; nums2.length; i++) {</span><br><span class="line">        int num = nums2[i];</span><br><span class="line">        Integer integer = map2.get(num);</span><br><span class="line">        if (integer == null){</span><br><span class="line">            integer = 1;</span><br><span class="line">            map2.put(num,integer);</span><br><span class="line">            continue;</span><br><span class="line">        }</span><br><span class="line">        integer +=1;</span><br><span class="line">        map2.put(num,integer);</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    List&lt;Integer&gt; list = new ArrayList&lt;&gt;();</span><br><span class="line">    Set&lt;Integer&gt; integers = map1.keySet();</span><br><span class="line">    Iterator&lt;Integer&gt; iterator = integers.iterator();</span><br><span class="line">    while (iterator.hasNext()){</span><br><span class="line">        Integer next = iterator.next();</span><br><span class="line">        Integer integer2 = map2.get(next);</span><br><span class="line">        if (integer2==null){</span><br><span class="line">            continue;</span><br><span class="line">        }</span><br><span class="line">        Integer integer1 = map1.get(next);</span><br><span class="line">        integer1=integer2&gt;integer1?integer1:integer2;</span><br><span class="line">        while (integer1--&gt;0){</span><br><span class="line">            list.add(next);</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">    int[] result = new int[list.size()];</span><br><span class="line">    for (int i = 0; i &lt; list.size(); i++) {</span><br><span class="line">        result[i]=list.get(i);</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    return result;</span><br><span class="line">}</span><br></pre></td></tr></table></figure>

<p><img src="https://gitee.com/songjianzaina/juejin_p7/raw/master/img/cdcf4556381bc5bd3e6ce13532fe9161e2b97cfa31cb968ee79b7e4b716f8fee" alt="image.png"></p>
<p>&#x8DD1;&#x662F;&#x8DD1;&#x901A;&#x4E86;&#x3002;</p>
<p>&#x4F46;&#x662F;&#x6548;&#x7387;&#x597D;&#x4F4E;&#xFF0C;&#x4EE3;&#x7801;&#x4E5F;&#x5F88;&#x957F;&#x3002;</p>
<p>&#x8FD9;&#x90E8;&#x5206;&#x4EE3;&#x7801;&#x4F18;&#x5316;&#x4E00;&#x4E0B;&#xFF0C;&#x628A;&#x5B83;&#x548C;&#x7B2C;&#x4E8C;&#x5FAA;&#x73AF;&#x7ED3;&#x5408;&#x5230;&#x4E00;&#x8D77;&#xFF0C;&#x964D;&#x4F4E;&#x65F6;&#x95F4;&#x590D;&#x6742;&#x5EA6;&#x3002;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line">ini&#x590D;&#x5236;&#x4EE3;&#x7801;public int[] intersect1(int[] nums1, int[] nums2) {</span><br><span class="line">    Map&lt;Integer,Integer&gt; map1=new HashMap&lt;&gt;();</span><br><span class="line">    List&lt;Integer&gt; list = new ArrayList&lt;&gt;();</span><br><span class="line">    for (int i = 0; i &lt; nums1.length; i++) {</span><br><span class="line">        int num = nums1[i];</span><br><span class="line">        Integer integer = map1.get(num);</span><br><span class="line">        if (integer == null){</span><br><span class="line">            integer = 1;</span><br><span class="line">            map1.put(num,integer);</span><br><span class="line">            continue;</span><br><span class="line">        }</span><br><span class="line">        map1.put(num,++integer);</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    for (int i = 0; i &lt; nums2.length; i++) {</span><br><span class="line">        int num = nums2[i];</span><br><span class="line">        Integer integer1 = map1.get(num);</span><br><span class="line">        if (integer1 == null){</span><br><span class="line">            //&#x5F53; integer1 &#x7B49;&#x4E8E; null &#x65F6;&#xFF0C;&#x5C31;&#x4E0D;&#x9700;&#x8981;&#x518D;&#x505A;&#x540E;&#x9762;&#x7684;&#x64CD;&#x4F5C;&#x4E86;</span><br><span class="line">            continue;</span><br><span class="line">        }</span><br><span class="line">        if ( integer1!=0){</span><br><span class="line">            list.add(num);</span><br><span class="line">            map1.put(num,--integer1);</span><br><span class="line">        }</span><br><span class="line"></span><br><span class="line">    }</span><br><span class="line">    int[] result = new int[list.size()];</span><br><span class="line">    for (int i = 0; i &lt; list.size(); i++) {</span><br><span class="line">        result[i]=list.get(i);</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    return result;</span><br><span class="line">}</span><br></pre></td></tr></table></figure>

<p>&#x4E0D;&#x4F18;&#x5316;&#x4E0D;&#x77E5;&#x9053;&#xFF0C;&#x4E00;&#x4F18;&#x5316;&#x5C31;&#x51CF;&#x5C11;&#x4E86;&#x4E8C;&#x5341;&#x591A;&#x884C;&#x4EE3;&#x7801;&#xFF0C;&#x8FD8;&#x628A; map2 &#x4F18;&#x5316;&#x6389;&#x4E86;&#x3002;</p>
<p><img src="https://gitee.com/songjianzaina/juejin_p7/raw/master/img/4a50ba3f15466d448235d3d806e56dc57c4d04e5066e5cdf230ae03a5fa2f9e7" alt="image.png"></p>
<p>&#x4E0D;&#x8FC7;&#x8FD9;&#x4E2A;&#x8FD0;&#x884C;&#x7ED3;&#x679C;&#x600E;&#x4E48;&#x5185;&#x5B58;&#x5360;&#x7528;&#x8FD8;&#x53D8;&#x9AD8;&#x4E86;&#xFF1F;</p>
<p>&#x4ECA;&#x5929;&#x5C31;&#x5230;&#x8FD9;&#x91CC;&#x4E86;&#x3002;</p>
<p>&#x8FD9;&#x91CC;&#x662F;&#x7A0B;&#x5E8F;&#x5458;&#x5F90;&#x5C0F;&#x767D;&#xFF0C;&#x3010;&#x6BCF;&#x65E5;&#x7B97;&#x6CD5;&#x3011;&#x662F;&#x6211;&#x65B0;&#x5F00;&#x7684;&#x4E00;&#x4E2A;&#x4E13;&#x680F;&#xFF0C;&#x5728;&#x8FD9;&#x91CC;&#x4E3B;&#x8981;&#x8BB0;&#x5F55;&#x6211;&#x5B66;&#x4E60;&#x7B97;&#x6CD5;&#x7684;&#x65E5;&#x5E38;&#xFF0C;&#x4E5F;&#x5E0C;&#x671B;&#x6211;&#x80FD;&#x591F;&#x575A;&#x6301;&#x6BCF;&#x65E5;&#x5B66;&#x4E60;&#x7B97;&#x6CD5;&#xFF0C;&#x4E0D;&#x77E5;&#x9053;&#x8FD9;&#x6837;&#x7684;&#x6587;&#x7AE0;&#x98CE;&#x683C;&#x60A8;&#x662F;&#x5426;&#x559C;&#x6B22;&#xFF0C;&#x4E0D;&#x8981;&#x541D;&#x556C;&#x60A8;&#x514D;&#x8D39;&#x7684;&#x8D5E;&#xFF0C;&#x60A8;&#x7684;&#x70B9;&#x8D5E;&#x3001;&#x6536;&#x85CF;&#x4EE5;&#x53CA;&#x8BC4;&#x8BBA;&#x90FD;&#x662F;&#x6211;&#x4E0B;&#x73ED;&#x540E;&#x575A;&#x6301;&#x66F4;&#x6587;&#x7684;&#x52A8;&#x529B;&#x3002;</p>
<p><strong>&#x672C;&#x6587;&#x8F6C;&#x8F7D;&#x81EA;:</strong> <a href="/external_links/ab744d9b1f156a6ec495fde5d5056d5a.html" target="blank" rel="noopener">&#x6398;&#x91D1;</a></p>
<p><em><a href="https://dev.newban.cn/">&#x5F00;&#x53D1;&#x8005;&#x535A;&#x5BA2; &#x2013; &#x548C;&#x5F00;&#x53D1;&#x76F8;&#x5173;&#x7684; &#x8FD9;&#x91CC;&#x5168;&#x90FD;&#x6709;</a></em></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://dev.newban.cn../../7034392893905174542.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="开发者博客">
      <meta itemprop="description" content>
      <meta itemprop="image" content="../../images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="开发者博客 – IT技术 尽在开发者博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="../../7034392893905174542.html" itemprop="url">当springmvc搭上springboot的便车后,tom</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2021-11-25T14:38:30+08:00">
                2021-11-25
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>&#x524D;&#x9762;&#x51E0;&#x7BC7;&#x57FA;&#x672C;&#x4E0A;&#x662F;&#x628A;web&#x5F00;&#x53D1;&#x4ECE;servlet&#x5E26;&#x5230;&#x4E86;springmvc&#xFF0C;&#x5F00;&#x53D1;&#x8D8A;&#x6765;&#x8D8A;&#x7B80;&#x4FBF;&#xFF0C;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x8D8A;&#x6765;&#x8D8A;&#x5C11;&#xFF0C;&#x7D22;&#x6027;&#x53EF;&#x4EE5;&#x76F4;&#x63A5;&#x629B;&#x5F03;&#x4E86;&#xFF0C;&#x4F46;&#x662F;&#x968F;&#x7740;springboot&#x7684;&#x51FA;&#x73B0;&#xFF0C;&#x6211;&#x4EEC;&#x8FD8;&#x80FD;&#x505A;&#x5230;&#x66F4;&#x7B80;&#x4FBF;&#xFF0C;&#x53EA;&#x9700;&#x8981;&#x5F15;&#x5165;&#x4E00;&#x4E2A;&#x4F9D;&#x8D56;,&#x7136;&#x540E;&#x4E00;&#x4E2A;main&#x65B9;&#x6CD5;&#x76F4;&#x63A5;&#x4E00;&#x952E;&#x542F;&#x52A8;web&#x5E94;&#x7528;,&#x800C;&#x4E14;&#x8FDE;tomcat&#x90FD;&#x4E0D;&#x9700;&#x8981;&#x81EA;&#x5DF1;&#x914D;&#x4E86;&#x3002;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">xml&#x590D;&#x5236;&#x4EE3;&#x7801;&lt;dependency&gt;</span><br><span class="line">    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;</span><br><span class="line">    &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;</span><br><span class="line">&lt;/dependency&gt;</span><br></pre></td></tr></table></figure>

<p>&#x4F46;&#x662F;&#x5728;&#x4EAB;&#x53D7;&#x8FD9;&#x79CD;&#x4FBF;&#x6377;&#x7684;&#x540C;&#x65F6;&#x8FD8;&#x662F;&#x9700;&#x8981;&#x4E86;&#x89E3;&#x4E3A;&#x4EC0;&#x4E48;&#xFF0C;&#x53EA;&#x6709;&#x4E86;&#x89E3;&#x4E86;&#x6574;&#x4E2A;&#x6D41;&#x7A0B;&#x624D;&#x80FD;&#x8FD0;&#x7B79;&#x5E37;&#x5E44;&#xFF0C;&#x867D;&#x7136;&#x6211;&#x4E00;&#x76F4;&#x89C9;&#x5F97;&#x77E5;&#x9053;&#x7684;&#x8D8A;&#x591A;&#x4E0D;&#x4F1A;&#x7684;&#x5C31;&#x8D8A;&#x591A;&#xFF08;&#x96BE;&#x53D7;.jpeg&#xFF09;&#x3002;&#x597D;&#x4E86;&#x5E9F;&#x8BDD;&#x4E0D;&#x591A;&#x8BF4;&#xFF0C;&#x6765;&#x770B;&#x4E00;&#x770B;&#x5728;springboot&#x4E2D;tomcat&#x53BB;&#x54EA;&#x4E86;&#x3002;</p>
<h2 id="&#x5185;&#x5D4C;&#x5BB9;&#x5668;&#x7684;&#x542F;&#x52A8;"><a href="#&#x5185;&#x5D4C;&#x5BB9;&#x5668;&#x7684;&#x542F;&#x52A8;" class="headerlink" title="&#x5185;&#x5D4C;&#x5BB9;&#x5668;&#x7684;&#x542F;&#x52A8;"></a>&#x5185;&#x5D4C;&#x5BB9;&#x5668;&#x7684;&#x542F;&#x52A8;</h2><p>&#x9996;&#x5148;&#x6211;&#x4EEC;&#x8FD8;&#x8BB0;&#x5F97;&#x524D;&#x9762;&#x63D0;&#x5230;&#x8FC7;&#x7684;Servlet3.0&#x63D0;&#x4F9B;&#x7684;&#x4E24;&#x4E2A;&#x6269;&#x5C55;&#x63A5;&#x53E3;&#x5427;&#xFF0C;&#x5148;&#x53BB;&#x7785;&#x4E00;&#x7785;&#x5728;springboot&#x4E2D;&#x7684;&#x5B9E;&#x73B0;&#x662F;&#x600E;&#x4E48;&#x6837;&#x7684;,&#x9996;&#x5148;&#x8BD5;&#x4E00;&#x8BD5;&#x8FD8;&#x662F;&#x5728;META-INF&#x4E0B;&#x6309;&#x89C4;&#x5219;&#x521B;&#x4EF6;&#x4E00;&#x4E2A;&#x6587;&#x4EF6;</p>
<p><img src="https://gitee.com/songjianzaina/juejin_p6/raw/master/img/de98cae446d3e99afdc7a6ff204e25ca806d6b251f2482291a1bf9884497485c" alt="image.png"><br>&#x7136;&#x540E;&#x542F;&#x52A8;&#x5E94;&#x7528;&#xFF0C;&#x53D1;&#x73B0;&#x63A7;&#x5236;&#x53F0;&#x5E76;&#x6CA1;&#x6709;&#x6309;&#x7167;&#x9884;&#x671F;&#x548C;&#x524D;&#x9762;&#x8BB2;springmvc&#x90A3;&#x6837;&#x6253;&#x5370;&#x51FA;&#x8FD9;&#x51E0;&#x4E2A;&#x7C7B;&#x7684;&#x540D;&#x5B57;&#xFF0C;&#x8FD9;&#x662F;&#x548B;&#x56DE;&#x4E8B;&#x5462;&#xFF1F;&#x8FD9;&#x91CC;&#x5C31;&#x5E26;&#x7740;&#x8FD9;&#x4E2A;&#x95EE;&#x9898;&#x8FDB;&#x5165;&#x4E3B;&#x9898;&#x3002;<br>&#x70B9;&#x5F00;&#x8FD9;&#x4E2A;<code>ServletContainerInitializer</code>&#x53D1;&#x73B0;&#x4ED6;&#x7684;&#x5B9E;&#x73B0;&#x7C7B;&#x6BD4;&#x8D77;&#x524D;&#x9762;springmvc&#x90A3;&#x4E2A;&#x5B9E;&#x73B0;<code>SpringServletContainerInitializer</code>&#x8FD8;&#x989D;&#x5916;&#x591A;&#x4E86;TomcatStarter,&#x70B9;&#x8FDB;&#x53BB;&#x53D1;&#x73B0;&#x8FD9;&#x662F;springboot&#x7684;&#x5B9E;&#x73B0;,&#x4F46;&#x662F;&#x8FD9;&#x8DDF;&#x524D;&#x9762;&#x90A3;&#x4E2A;&#x4E0D;&#x751F;&#x6548;&#x6709;&#x4EC0;&#x4E48;&#x5173;&#x7CFB;&#x5462;&#x3002;</p>
<p>&#x6211;&#x4EEC;&#x77E5;&#x9053;&#x5F53;&#x6211;&#x95E8;&#x5728;springboot&#x4E2D;&#x5F15;&#x5165;web&#x4F9D;&#x8D56;&#x7684;&#x65F6;&#x5019;&#x53EA;&#x9700;&#x8981;&#x4E00;&#x952E;&#x542F;&#x52A8;&#xFF0C;&#x5E76;&#x4E0D;&#x9700;&#x8981;&#x50CF;&#x8FD0;&#x884C;springmvc&#x5DE5;&#x7A0B;&#x90A3;&#x6837;&#x63D0;&#x524D;&#x914D;&#x7F6E;tomcat,&#x8FD9;&#x662F;&#x56E0;&#x4E3A;&#x5728;web&#x4F9D;&#x8D56;&#x4E2D;&#x5DF2;&#x7ECF;&#x5F15;&#x5165;&#x4E86;tomcat&#x7684;&#x4F9D;&#x8D56;&#xFF0C;&#x8FD9;&#x91CC;&#x4F7F;&#x7528;&#x7684;&#x662F;&#x5185;&#x5D4C;&#x7684;tomcat&#xFF0C;&#x5F53;&#x7136;&#x4E5F;&#x53EF;&#x4EE5;&#x50CF;springmvc&#x90A3;&#x6837;&#x4F7F;&#x7528;&#x5916;&#x90E8;tomcat(&#x540E;&#x9762;&#x518D;&#x8BF4;),&#x90A3;&#x65E2;&#x7136;&#x524D;&#x9762;&#x4F7F;&#x7528;&#x5185;&#x5D4C;&#x5BB9;&#x5668;&#x6548;&#x679C;&#x4E0D;&#x7B26;&#x5408;&#x9884;&#x671F;&#xFF0C;&#x90A3;&#x5C31;&#x6765;&#x5206;&#x6790;&#x4E00;&#x4E0B;&#x542F;&#x52A8;&#x6D41;&#x7A0B;&#xFF0C;&#x76F4;&#x63A5;&#x8FDB;&#x5165;run&#x65B9;&#x6CD5;&#xFF0C;&#x5C31;&#x80FD;&#x770B;&#x5230;springboot&#x542F;&#x52A8;&#x7684;&#x6838;&#x5FC3;&#x6D41;&#x7A0B;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">scss&#x590D;&#x5236;&#x4EE3;&#x7801;ApplicationArguments applicationArguments = new DefaultApplicationArguments(args);</span><br><span class="line">ConfigurableEnvironment environment = prepareEnvironment(listeners, applicationArguments);</span><br><span class="line">configureIgnoreBeanInfo(environment);</span><br><span class="line">Banner printedBanner = printBanner(environment);</span><br><span class="line">context = createApplicationContext();</span><br><span class="line">exceptionReporters = getSpringFactoriesInstances(SpringBootExceptionReporter.class,</span><br><span class="line">      new Class[] { ConfigurableApplicationContext.class }, context);</span><br><span class="line">prepareContext(context, environment, listeners, applicationArguments, printedBanner);</span><br><span class="line">refreshContext(context);</span><br><span class="line">afterRefresh(context, applicationArguments);</span><br><span class="line">stopWatch.stop();</span><br><span class="line">if (this.logStartupInfo) {</span><br><span class="line">   new StartupInfoLogger(this.mainApplicationClass).logStarted(getApplicationLog(), stopWatch);</span><br><span class="line">}</span><br><span class="line">listeners.started(context);</span><br><span class="line">callRunners(context, applicationArguments);</span><br></pre></td></tr></table></figure>

<p>&#x5176;&#x4ED6;&#x7684;&#x6211;&#x4EEC;&#x6682;&#x65F6;&#x4E0D;&#x9700;&#x8981;&#x5173;&#x5FC3;&#xFF0C;&#x524D;&#x9762;&#x51C6;&#x5907;&#x597D;&#x73AF;&#x5883;&#x4E4B;&#x540E;,&#x6765;&#x5230;refreshContext&#x8FD9;&#x4E00;&#x6B65;&#xFF0C;&#x8FD9;&#x91CC;&#x5C31;&#x4F1A;&#x8FDB;&#x5230;AbstractApplicationContext&#x7684;refresh&#x65B9;&#x6CD5;&#xFF0C;&#x77E5;&#x9053;spring&#x7684;&#x4EBA;&#x5E94;&#x8BE5;&#x90FD;&#x77E5;&#x9053;&#x8FD9;&#x4E2A;&#x65B9;&#x6CD5;&#xFF0C;&#x7136;&#x540E;&#x6211;&#x4EEC;&#x6CE8;&#x610F;&#x529B;&#x653E;&#x5728;onfresh()&#x8FD9;&#x4E2A;&#x65B9;&#x6CD5;&#x4E0A;&#xFF0C;&#x6253;&#x4E0A;&#x65AD;&#x70B9;&#xFF0C;&#x76F4;&#x63A5;step into &#x53D1;&#x73B0;&#x8BE5;&#x65B9;&#x6CD5;&#x8FDB;&#x5165;&#x5230;&#x4E86;<code>ServletWebServerApplicationContext</code>&#x4E2D;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">typescript&#x590D;&#x5236;&#x4EE3;&#x7801;@Override</span><br><span class="line">protected void onRefresh() {</span><br><span class="line">   super.onRefresh();</span><br><span class="line">   try {</span><br><span class="line">      createWebServer();</span><br><span class="line">   }</span><br><span class="line">   catch (Throwable ex) {</span><br><span class="line">      throw new ApplicationContextException(&quot;Unable to start web server&quot;, ex);</span><br><span class="line">   }</span><br><span class="line">}</span><br></pre></td></tr></table></figure>

<p>&#x7136;&#x540E;&#x8FD9;&#x91CC;&#x5C31;&#x662F;&#x5173;&#x952E;&#x4E86;&#xFF0C;&#x770B;&#x540D;&#x5B57;&#x5C31;&#x662F;&#x521B;&#x5EFA;server,&#x5728;&#x8FD9;&#x91CC;&#x9ED8;&#x8BA4;&#x5C31;&#x662F;&#x521B;&#x5EFA;&#x5185;&#x5D4C;&#x7684;tomcat,&#x6240;&#x4EE5;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x770B;&#x51FA;&#x6765;springboot&#x548C;springmvc&#x7684;&#x542F;&#x52A8;&#x5BA4;&#x53CB;&#x660E;&#x663E;&#x5DEE;&#x522B;&#x7684;&#xFF0C;&#x524D;&#x8005;&#x662F;&#x4F9D;&#x8D56;spring&#x7684;refresh&#x5E26;&#x52A8;tomcat&#x542F;&#x52A8;&#xFF0C;&#x540E;&#x8005;&#x662F;&#x4F9D;&#x8D56;tomcat&#x542F;&#x52A8;&#x52A0;&#x76D1;&#x542C;&#x5668;&#x6765;&#x5E26;&#x52A8;spring&#x7684;refresh&#xFF0C;&#x7EE7;&#x7EED;&#x8DDF;&#x8FDB;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ini&#x590D;&#x5236;&#x4EE3;&#x7801;this.webServer = factory.getWebServer(getSelfInitializer());</span><br></pre></td></tr></table></figure>

<p>&#x6765;&#x5230;<code>selfInitialize</code>&#x65B9;&#x6CD5;&#xFF0C;&#x8FD9;&#x91CC;&#x5148;&#x8BBE;&#x7F6E;&#x7236;&#x5BB9;&#x5668;&#xFF0C;&#x6240;&#x4EE5;&#x5728;springboot&#x4E2D;&#x4E5F;&#x662F;&#x5B58;&#x5728;&#x7236;&#x5B50;&#x5BB9;&#x5668;&#x7684;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">scss&#x590D;&#x5236;&#x4EE3;&#x7801;private void selfInitialize(ServletContext servletContext) throws ServletException {</span><br><span class="line">   prepareWebApplicationContext(servletContext);</span><br><span class="line">   registerApplicationScope(servletContext);</span><br><span class="line">   WebApplicationContextUtils.registerEnvironmentBeans(getBeanFactory(), servletContext);</span><br><span class="line">   for (ServletContextInitializer beans : getServletContextInitializerBeans()) {</span><br><span class="line">      beans.onStartup(servletContext);</span><br><span class="line">   }</span><br><span class="line">}</span><br></pre></td></tr></table></figure>

<p>&#x7136;&#x540E;&#x5C31;&#x51FA;&#x73B0;&#x4E86;&#x4E00;&#x4E2A;ServletContextInitializer&#xFF0C;&#x662F;&#x4E0D;&#x662F;&#x611F;&#x89C9;&#x4ED6;&#x548C;servlet&#x63D0;&#x4F9B;&#x7684;&#x90A3;&#x4E2A;ServletContainerInitializer&#x5F88;&#x76F8;&#x4F3C;&#xFF0C;&#x4F46;&#x662F;&#x8FD9;&#x662F;springboot&#x63D0;&#x4F9B;&#x7684;&#xFF0C;&#x6211;&#x4EEC;&#x770B;&#x4E00;&#x4E0B;&#x5979;&#x7684;&#x5B9E;&#x73B0;&#x7C7B;&#xFF0C;&#x6709;&#x597D;&#x51E0;&#x4E2A;&#xFF0C;&#x4F46;&#x662F;&#x6211;&#x4EEC;&#x5148;&#x8BB0;&#x4F4F;<code>DispatcherServletRegistrationBean</code>&#xFF0C;&#x770B;&#x540D;&#x5B57;&#x5C31;&#x77E5;&#x9053;&#x4ED6;&#x662F;&#x7528;&#x6765;&#x6CE8;&#x518C;DispatcherServlet&#x7684;&#xFF0C;&#x7136;&#x540E;&#x662F;&#x5728;&#x8FD9;&#x4E00;&#x6B65;&#x6267;&#x884C;&#x8FD9;&#x4E9B;&#x5B9E;&#x73B0;&#x7C7B;&#x7684;onstartup&#x65B9;&#x6CD5;&#x7684;&#xFF0C;&#x8FDE;&#x65B9;&#x6CD5;&#x540D;&#x90FD;&#x4E00;&#x6837;&#xFF0C;&#x503C;&#x5F97;&#x601D;&#x8003;&#x3002;</p>
<p>&#x7EE7;&#x7EED;&#x5F80;&#x4E0B;&#x6765;&#x5230;&#x521B;&#x5EFA;tomcat&#x7684;&#x65B9;&#x6CD5;&#x91CC;&#x9762;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">scss&#x590D;&#x5236;&#x4EE3;&#x7801;@Override</span><br><span class="line">public WebServer getWebServer(ServletContextInitializer... initializers) {</span><br><span class="line">   if (this.disableMBeanRegistry) {</span><br><span class="line">      Registry.disableRegistry();</span><br><span class="line">   }</span><br><span class="line">   Tomcat tomcat = new Tomcat();</span><br><span class="line">   File baseDir = (this.baseDirectory != null) ? this.baseDirectory : createTempDir(&quot;tomcat&quot;);</span><br><span class="line">   tomcat.setBaseDir(baseDir.getAbsolutePath());</span><br><span class="line">   Connector connector = new Connector(this.protocol);</span><br><span class="line">   connector.setThrowOnFailure(true);</span><br><span class="line">   tomcat.getService().addConnector(connector);</span><br><span class="line">   customizeConnector(connector);</span><br><span class="line">   tomcat.setConnector(connector);</span><br><span class="line">   tomcat.getHost().setAutoDeploy(false);</span><br><span class="line">   configureEngine(tomcat.getEngine());</span><br><span class="line">   for (Connector additionalConnector : this.additionalTomcatConnectors) {</span><br><span class="line">      tomcat.getService().addConnector(additionalConnector);</span><br><span class="line">   }</span><br><span class="line">   prepareContext(tomcat.getHost(), initializers);</span><br><span class="line">   return getTomcatWebServer(tomcat);</span><br><span class="line">}</span><br></pre></td></tr></table></figure>

<p>&#x5728;tomcat&#x521B;&#x5EFA;&#x597D;&#x540E;&#x8FDB;&#x5165;prepareContext&#x65B9;&#x6CD5;&#xFF0C;&#x540C;&#x65F6;&#x4F20;&#x5165;&#x4E86;&#x524D;&#x9762;&#x62FF;&#x5230;&#x7684;ServletContextInitializer&#x4EEC;&#xFF0C;&#x7136;&#x540E;&#x8FDB;&#x5165;&#x6700;&#x5173;&#x952E;&#x7684;&#x4E00;&#x6B65;<code>configureContext()</code>,</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">ini&#x590D;&#x5236;&#x4EE3;&#x7801;TomcatStarter starter = new TomcatStarter(initializers);</span><br><span class="line">if (context instanceof TomcatEmbeddedContext) {</span><br><span class="line">   TomcatEmbeddedContext embeddedContext = (TomcatEmbeddedContext) context;</span><br><span class="line">   embeddedContext.setStarter(starter);</span><br><span class="line">   embeddedContext.setFailCtxIfServletStartFails(true);</span><br><span class="line">}</span><br><span class="line">context.addServletContainerInitializer(starter, NO_CLASSES);</span><br></pre></td></tr></table></figure>

<p>&#x8FD9;&#x91CC;&#x521B;&#x5EFA;&#x4E86;TomcatStarter&#xFF0C;&#x6211;&#x4EEC;&#x524D;&#x9762;&#x8BF4;&#x4E86;&#x5979;&#x53C8;springboot&#x63D0;&#x4F9B;,&#x5E76;&#x4E14;&#x662F;&#x5B9E;&#x73B0;&#x4E86;servlet&#x63D0;&#x4F9B;&#x7684;ServletContainerInitializer&#x63A5;&#x53E3;&#x7684;&#xFF0C;&#x6240;&#x4EE5;&#x5230;&#x8FD9;&#x91CC;&#x5C31;&#x5E94;&#x8BE5;&#x5F88;&#x660E;&#x4E86;&#x4E86;&#xFF0C;springboot&#x901A;&#x8FC7;&#x63A7;&#x5236;&#x5185;&#x5D4C;tomcat&#x7684;&#x542F;&#x52A8;&#xFF0C;&#x624B;&#x52A8;&#x7BA1;&#x7406;&#x4E86;ServletContainerInitializer&#x7684;&#x6CE8;&#x518C;&#xFF0C;&#x8FD9;&#x91CC;&#x53EA;&#x6CE8;&#x518C;&#x4E86;TomcatStarter&#x8FD9;&#x4E00;&#x4E2A;&#x5B9E;&#x73B0;&#xFF0C;&#x6240;&#x4EE5;&#x6211;&#x4EEC;&#x73B0;&#x5728;&#x5E94;&#x8BE5;&#x77E5;&#x9053;&#x4E86;&#x4E3A;&#x4EC0;&#x4E48;&#x6211;&#x4EEC;&#x6700;&#x5F00;&#x59CB;&#x5199;&#x7684;&#x90A3;&#x4E2A;&#x4F8B;&#x5B50;&#x4E0D;&#x751F;&#x6548;&#x4E86;&#xFF0C;&#x56E0;&#x4E3A;&#x4EBA;&#x538B;&#x6839;&#x513F;&#x5C31;&#x6CA1;&#x5BDF;&#x89C9;&#x5230;&#x4F60;&#x7684;&#x5B58;&#x5728;&#xFF0C;&#x4ED6;&#x53EA;&#x4F1A;&#x5173;&#x5FC3;TomcatStarter&#x8FD9;&#x4E00;&#x4E2A;&#x5B9E;&#x73B0;&#xFF0C;&#x7136;&#x540E;sprngboot&#x53C8;&#x5728;&#x8FD9;&#x4E2A;&#x5B9E;&#x73B0;&#x91CC;&#x4F20;&#x5165;&#x4E86;&#x81EA;&#x5DF1;&#x63D0;&#x4F9B;&#x7684;&#x6269;&#x5C55;&#x63A5;&#x53E3;ServletContextInitializer&#xFF0C;&#x770B;&#x8D77;&#x6765;&#x5C31;&#x597D;&#x50CF;&#x6548;&#x679C;&#x4E00;&#x6837;&#xFF0C;&#x6211;&#x4EEC;&#x53EA;&#x9700;&#x8981;&#x5B9E;&#x73B0;&#x8FD9;&#x4E2A;&#x63A5;&#x53E3;&#x5C31;&#x80FD;&#x8FBE;&#x5230;&#x4E00;&#x6837;&#x7684;&#x6548;&#x679C;&#xFF0C;&#x800C;&#x4E14;&#x8FD8;&#x4E0D;&#x7528;&#x989D;&#x5916;&#x53BB;&#x6DFB;&#x52A0;&#x4E00;&#x4E2A;META-INF&#x6587;&#x4EF6;&#x4E86;&#x3002;</p>
<p>&#x56DE;&#x8FC7;&#x5934;&#x6765;&#x603B;&#x7ED3;&#x4E00;&#x4E0B;&#x5427;&#xFF0C;&#x9996;&#x5148;&#x662F;sprinboot&#x5E76;&#x6CA1;&#x6709;&#x8BF4;&#x629B;&#x5F03;ServletContainerInitializer,&#x53EA;&#x662F;&#x5979;&#x4E3A;&#x4E86;&#x80FD;&#x66F4;&#x597D;&#x7684;&#x63A7;&#x5236;&#x6574;&#x4E2A;&#x5E94;&#x7528;&#x7684;&#x751F;&#x547D;&#x5468;&#x671F;&#xFF0C;&#x6240;&#x4EE5;&#x5F3A;&#x884C;&#x63D0;&#x4F9B;&#x4E86;&#x4E00;&#x4E2A;&#x7C7B;&#x4F3C;&#x7684;&#x63A5;&#x53E3;ServletContextInitializer,&#x4ED6;&#x4FE9;&#x7684;&#x6548;&#x679C;&#x51E0;&#x4E4E;&#x662F;&#x4E00;&#x6478;&#x4E00;&#x6837;&#x7684;&#xFF0C;&#x4F46;&#x662F;&#x5BF9;&#x4E8E;&#x6211;&#x4EEC;&#x5F00;&#x53D1;&#x8005;&#x6765;&#x8BF4;&#xFF0C;&#x5982;&#x679C;&#x662F;&#x4F7F;&#x7528;&#x4E86;&#x5185;&#x5D4C;&#x5BB9;&#x5668;&#x7684;&#x8FD9;&#x79CD;&#x65B9;&#x5F0F;&#xFF0C;&#x6211;&#x4EEC;&#x7684;&#x5F00;&#x53D1;&#x66F4;&#x4FBF;&#x6377;&#x4E86;&#xFF0C;&#x66F4;&#x52A0;&#x4E0D;&#x7528;&#x8003;&#x8651;&#x5BB9;&#x5668;&#x5E95;&#x5C42;&#x7684;&#x5B9E;&#x73B0;&#x673A;&#x5236;&#x4E86;&#xFF0C;&#x53EA;&#x7528;&#x5173;&#x5FC3;&#x6211;&#x4EEC;&#x7684;&#x4E1A;&#x52A1;&#xFF0C;&#x4F46;&#x662F;&#x80FD;&#x591F;&#x4E86;&#x89E3;&#x8FD9;&#x4E2A;&#x8FC7;&#x7A0B;&#x4E5F;&#x8FD8;&#x662F;&#x5F88;&#x6709;&#x597D;&#x5904;&#x7684;&#x3002;</p>
<h2 id="DispatchServlet"><a href="#DispatchServlet" class="headerlink" title="DispatchServlet"></a>DispatchServlet</h2><p>&#x4F46;&#x51E1;&#x662F;springmvc&#x7684;&#x5E94;&#x7528;&#xFF0C;&#x90FD;&#x79BB;&#x4E0D;&#x5F00;DispatchServlet,&#x5728;&#x5206;&#x6790;springmvc&#x7684;&#x65F6;&#x5019;&#x6211;&#x4EEC;&#x77E5;&#x9053;&#x4E86;&#x4ED6;&#x7684;&#x52A0;&#x8F7D;&#x5B9E;&#x9645;&#xFF08;&#x5206;&#x522B;&#x662F;xml&#x5F62;&#x5F0F;&#x548C;config&#x5F62;&#x5F0F;&#xFF09;,&#x90A3;&#x6211;&#x4EEC;&#x518D;&#x6765;&#x770B;&#x4E00;&#x770B;&#x5728;springboot&#x4E2D;&#x4ED6;&#x53C8;&#x662F;&#x548B;&#x4E2A;&#x52A0;&#x8F7D;&#x7684;&#x3002;<br>&#x4E0A;&#x9762;&#x6211;&#x4EEC;&#x8BA9;&#x6CE8;&#x610F;&#x4E00;&#x4E2A;&#x4E1C;&#x897F;&#xFF0C;&#x5C31;&#x662F;DispatcherServletRegistrationBean,&#x4ED6;&#x662F;ServletContextInitializer&#x7684;&#x5B9E;&#x73B0;&#xFF0C;&#x6240;&#x4EE5;&#x5728;&#x5185;&#x5D4C;&#x5BB9;&#x5668;&#x542F;&#x52A8;&#x7684;&#x65F6;&#x5019;&#x4ED6;&#x5C31;&#x4F1A;&#x6267;&#x884C;onstartup&#x65B9;&#x6CD5;<br>&#x9996;&#x5148;&#x8FDB;&#x5230;&#x8FD9;&#x4E2A;class,&#x501F;&#x52A9;idea&#x7684;&#x63D0;&#x793A;&#xFF0C;&#x5728;class&#x524D;&#x9762;&#x6709;&#x4E00;&#x4E2A;&#x7EFF;&#x8272;&#x7684;&#x5708;&#x5708;&#xFF0C;&#x8868;&#x793A;&#x8FD9;&#x4E2A;class&#x662F;&#x88AB;springboot&#x81EA;&#x52A8;&#x914D;&#x7F6E;&#x8FC7;&#x7684;&#xFF0C;&#x4E5F;&#x5C31;&#x662F;&#x8BF4;springboot&#x5728;&#x81EA;&#x52A8;&#x521B;&#x5EFA;bean&#x7684;&#x65F6;&#x5019;&#x662F;&#x5305;&#x542B;&#x4E86;DispatchServlet&#x76F8;&#x5173;&#x7684;bean&#x7684;&#xFF08;&#x81EA;&#x52A8;&#x914D;&#x7F6E;&#x8FD9;&#x4E9B;&#x4E0D;&#x662F;&#x6211;&#x60F3;&#x8981;&#x8BF4;&#x7684;&#x5185;&#x5BB9;&#xFF0C;&#x9ED8;&#x8BA4;&#x5927;&#x5BB6;&#x90FD;&#x77E5;&#x9053;&#x4E86;&#xFF09;&#xFF0C;&#x4E0D;&#x4FE1;&#x70B9;&#x51FB;&#x90A3;&#x4E2A;&#x7EFF;&#x8272;&#x7684;&#x5708;&#x5708;</p>
<p><img src="https://gitee.com/songjianzaina/juejin_p6/raw/master/img/4c19cfb789a0a984846346dd4eea8a0faf1a31336433e6f0f52ce1048527b36b" alt="image.png"><br>&#x5C31;&#x80FD;&#x8FDB;&#x5165;&#x8FD9;&#x4E2A;&#x81EA;&#x52A8;&#x914D;&#x7F6E;&#x7C7B;<code>DispatcherServletAutoConfiguration</code>,&#x7136;&#x540E;&#x518D;&#x56DE;&#x5934;&#x6765;&#x770B;onstartup&#x7684;&#x5B9E;&#x73B0;&#xFF0C;&#x8FDB;&#x5165;<code>RegistrationBean</code>&#xFF0C;&#x770B;&#x5230;&#x9700;&#x8981;&#x8C03;&#x7528;&#x5B50;&#x7C7B;&#x7684;register&#x65B9;&#x6CD5;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">java&#x590D;&#x5236;&#x4EE3;&#x7801;@Override</span><br><span class="line">protected final void register(String description, ServletContext servletContext) {</span><br><span class="line">   D registration = addRegistration(description, servletContext);</span><br><span class="line">   if (registration == null) {</span><br><span class="line">      logger.info(StringUtils.capitalize(description) + &quot; was not registered (possibly already registered?)&quot;);</span><br><span class="line">      return;</span><br><span class="line">   }</span><br><span class="line">   configure(registration);</span><br><span class="line">}</span><br></pre></td></tr></table></figure>

<p>&#x7EE7;&#x7EED;&#x8FDB;&#x5165;addRegistration&#x65B9;&#x6CD5;&#x6765;&#x5230;<code>ServletRegistrationBean</code>,&#x53D1;&#x73B0;&#x8FD9;&#x662F;&#x4E00;&#x4E2A;&#x6CDB;&#x578B;class</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">scala&#x590D;&#x5236;&#x4EE3;&#x7801;public class ServletRegistrationBean&lt;T extends Servlet&gt; extends DynamicRegistrationBean&lt;ServletRegistration.Dynamic&gt;</span><br></pre></td></tr></table></figure>

<p>&#x5176;&#x5B9E;&#x73B0;&#x7C7B;&#x5C31;&#x662F;&#x524D;&#x9762;&#x63D0;&#x5230;&#x7684;&#x5C31;&#x662F;DispatcherServletRegistrationBean&#xFF0C;&#x63D0;&#x4F9B;&#x7684;&#x6CDB;&#x578B;&#x6070;&#x597D;&#x5C31;&#x662F;<code>DispatcherServlet</code>,so&#xFF1F;bean&#x4E5F;&#x6709;&#x4E86;&#xFF0C;&#x7C7B;&#x578B;&#x4E5F;&#x786E;&#x5B9A;&#x4E86;&#xFF0C;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">typescript&#x590D;&#x5236;&#x4EE3;&#x7801;@Override</span><br><span class="line">protected ServletRegistration.Dynamic addRegistration(String description, ServletContext servletContext) {</span><br><span class="line">   String name = getServletName();</span><br><span class="line">   return servletContext.addServlet(name, this.servlet);</span><br><span class="line">}</span><br></pre></td></tr></table></figure>

<p>&#x90A3;&#x4E48;&#x8FD9;&#x4E2A;&#x653E;&#x6CD5;&#x524D;&#x9762;&#x6211;&#x5DF2;&#x7ECF;&#x6F14;&#x793A;&#x8FC7;&#x4E86;&#xFF0C;&#x53EF;&#x4EE5;&#x52A8;&#x6001;&#x6CE8;&#x518C;servlet&#xFF0C;&#x662F;&#x4E0D;&#x662F;&#x89C9;&#x5F97;&#x81EA;&#x5DF1;&#x7A81;&#x7136;&#x61C2;&#x4E86;&#x4EC0;&#x4E48;&#x3002;&#x3002;&#x3002;</p>
<p>&#x6700;&#x540E;&#x7684;&#x6700;&#x540E;&#xFF0C;&#x8BF7;&#x4E00;&#x5B9A;&#x6CE8;&#x610F;&#xFF0C;&#x8FD9;&#x91CC;&#x9762;&#x8BF4;&#x7684;&#x6240;&#x6709;&#x4E1C;&#x897F;&#x90FD;&#x662F;&#x57FA;&#x4E8E;&#x5185;&#x5D4C;&#x5BB9;&#x5668;&#x6765;&#x8BF4;&#x7684;&#xFF0C;&#x5982;&#x679C;&#x4F7F;&#x7528;&#x4E86;&#x5916;&#x90E8;&#x5BB9;&#x5668;&#xFF0C;&#x6211;&#x4EEC;&#x524D;&#x9762;&#x90A3;&#x4E2A;&#x4F8B;&#x5B50;&#x5C31;&#x4F1A;&#x751F;&#x6548;&#x4E86;&#xFF0C;&#x56E0;&#x4E3A;&#x4ED6;&#x8D70;&#x7684;&#x5C31;&#x662F;&#x4EE5;&#x524D;springmvc&#x7684;&#x6D41;&#x7A0B;</p>
<p><strong>&#x672C;&#x6587;&#x8F6C;&#x8F7D;&#x81EA;:</strong> <a href="/external_links/7d339f5d8626feac3e9d964d81b8a197.html" target="blank" rel="noopener">&#x6398;&#x91D1;</a></p>
<p><em><a href="https://dev.newban.cn/">&#x5F00;&#x53D1;&#x8005;&#x535A;&#x5BA2; &#x2013; &#x548C;&#x5F00;&#x53D1;&#x76F8;&#x5173;&#x7684; &#x8FD9;&#x91CC;&#x5168;&#x90FD;&#x6709;</a></em></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
  </section>

  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="../188/"><i class="fa fa-angle-left"></i></a><a class="page-number" href="../../">1</a><span class="space">&hellip;</span><a class="page-number" href="../188/">188</a><span class="page-number current">189</span><a class="page-number" href="../190/">190</a><span class="space">&hellip;</span><a class="page-number" href="../399/">399</a><a class="extend next" rel="next" href="../190/"><i class="fa fa-angle-right"></i></a>
  </nav>



          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      

      <section class="site-overview-wrap sidebar-panel sidebar-panel-active">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <p class="site-author-name" itemprop="name">开发者博客</p>
              <p class="site-description motion-element" itemprop="description"></p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="https://dev.newban.cn/archives/">
              
                  <span class="site-state-item-count">3990</span>
                  <span class="site-state-item-name">日志</span>
                </a>
              </div>
            

            

            
              
              
              <div class="site-state-item site-state-tags">
                
                  <span class="site-state-item-count">1304</span>
                  <span class="site-state-item-name">标签</span>
                
              </div>
            

          </nav>

          
            <div class="feed-link motion-element">
              <a href="../../atom.xml" rel="alternate">
                <i class="fa fa-rss"></i>
                RSS
              </a>
            </div>
          

          

          
          

          
          

          

        </div>
      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2024</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">开发者博客</span>
  <div>
  <script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
  <span id="busuanzi_container_site_pv">本站总访问量<span id="busuanzi_value_site_pv"></span>次</span>
  </div>
  
</div>


  <div class="powered-by">由 <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a> 强力驱动</div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">主题 &mdash; <a class="theme-link" target="_blank" href="https://github.com/iissnan/hexo-theme-next">NexT.Muse</a> v5.1.4</div>




  <script type="text/javascript" async src="js/src/mermaid.min.js"></script>
  <script>
  if (window.mermaid) {
        var mermaid_config = {
            startOnLoad: true,
            theme: 'default',
            flowchart:{
                useMaxWidth: false,
                htmlLabels: true
            }                
        }
        mermaid.initialize(mermaid_config);
  }
  </script>
  

        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
          <span id="scrollpercent"><span>0</span>%</span>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  
    <script type="text/javascript" src="../../lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="../../lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="../../lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="../../lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="../../lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="../../lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  


  


  <script type="text/javascript" src="../../js/src/utils.js?v=5.1.4"></script>

  <script type="text/javascript" src="../../js/src/motion.js?v=5.1.4"></script>



  
  

  

  


  <script type="text/javascript" src="../../js/src/bootstrap.js?v=5.1.4"></script>



  


  




	





  





  












  

  <script type="text/javascript">
    // Popup Window;
    var isfetched = false;
    var isXml = true;
    // Search DB path;
    var search_path = "search.xml";
    if (search_path.length === 0) {
      search_path = "search.xml";
    } else if (/json$/i.test(search_path)) {
      isXml = false;
    }
    var path = "/" + search_path;
    // monitor main search box;

    var onPopupClose = function (e) {
      $('.popup').hide();
      $('#local-search-input').val('');
      $('.search-result-list').remove();
      $('#no-result').remove();
      $(".local-search-pop-overlay").remove();
      $('body').css('overflow', '');
    }

    function proceedsearch() {
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay"></div>')
        .css('overflow', 'hidden');
      $('.search-popup-overlay').click(onPopupClose);
      $('.popup').toggle();
      var $localSearchInput = $('#local-search-input');
      $localSearchInput.attr("autocapitalize", "none");
      $localSearchInput.attr("autocorrect", "off");
      $localSearchInput.focus();
    }

    // search function;
    var searchFunc = function(path, search_id, content_id) {
      'use strict';

      // start loading animation
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay">' +
          '<div id="search-loading-icon">' +
          '<i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>' +
          '</div>' +
          '</div>')
        .css('overflow', 'hidden');
      $("#search-loading-icon").css('margin', '20% auto 0 auto').css('text-align', 'center');

      $.ajax({
        url: path,
        dataType: isXml ? "xml" : "json",
        async: true,
        success: function(res) {
          // get the contents from search data
          isfetched = true;
          $('.popup').detach().appendTo('.header-inner');
          var datas = isXml ? $("entry", res).map(function() {
            return {
              title: $("title", this).text(),
              content: $("content",this).text(),
              url: $("url" , this).text()
            };
          }).get() : res;
          var input = document.getElementById(search_id);
          var resultContent = document.getElementById(content_id);
          var inputEventFunction = function() {
            var searchText = input.value.trim().toLowerCase();
            var keywords = searchText.split(/[\s\-]+/);
            if (keywords.length > 1) {
              keywords.push(searchText);
            }
            var resultItems = [];
            if (searchText.length > 0) {
              // perform local searching
              datas.forEach(function(data) {
                var isMatch = false;
                var hitCount = 0;
                var searchTextCount = 0;
                var title = data.title.trim();
                var titleInLowerCase = title.toLowerCase();
                var content = data.content.trim().replace(/<[^>]+>/g,"");
                var contentInLowerCase = content.toLowerCase();
                var articleUrl = decodeURIComponent(data.url);
                var indexOfTitle = [];
                var indexOfContent = [];
                // only match articles with not empty titles
                if(title != '') {
                  keywords.forEach(function(keyword) {
                    function getIndexByWord(word, text, caseSensitive) {
                      var wordLen = word.length;
                      if (wordLen === 0) {
                        return [];
                      }
                      var startPosition = 0, position = [], index = [];
                      if (!caseSensitive) {
                        text = text.toLowerCase();
                        word = word.toLowerCase();
                      }
                      while ((position = text.indexOf(word, startPosition)) > -1) {
                        index.push({position: position, word: word});
                        startPosition = position + wordLen;
                      }
                      return index;
                    }

                    indexOfTitle = indexOfTitle.concat(getIndexByWord(keyword, titleInLowerCase, false));
                    indexOfContent = indexOfContent.concat(getIndexByWord(keyword, contentInLowerCase, false));
                  });
                  if (indexOfTitle.length > 0 || indexOfContent.length > 0) {
                    isMatch = true;
                    hitCount = indexOfTitle.length + indexOfContent.length;
                  }
                }

                // show search results

                if (isMatch) {
                  // sort index by position of keyword

                  [indexOfTitle, indexOfContent].forEach(function (index) {
                    index.sort(function (itemLeft, itemRight) {
                      if (itemRight.position !== itemLeft.position) {
                        return itemRight.position - itemLeft.position;
                      } else {
                        return itemLeft.word.length - itemRight.word.length;
                      }
                    });
                  });

                  // merge hits into slices

                  function mergeIntoSlice(text, start, end, index) {
                    var item = index[index.length - 1];
                    var position = item.position;
                    var word = item.word;
                    var hits = [];
                    var searchTextCountInSlice = 0;
                    while (position + word.length <= end && index.length != 0) {
                      if (word === searchText) {
                        searchTextCountInSlice++;
                      }
                      hits.push({position: position, length: word.length});
                      var wordEnd = position + word.length;

                      // move to next position of hit

                      index.pop();
                      while (index.length != 0) {
                        item = index[index.length - 1];
                        position = item.position;
                        word = item.word;
                        if (wordEnd > position) {
                          index.pop();
                        } else {
                          break;
                        }
                      }
                    }
                    searchTextCount += searchTextCountInSlice;
                    return {
                      hits: hits,
                      start: start,
                      end: end,
                      searchTextCount: searchTextCountInSlice
                    };
                  }

                  var slicesOfTitle = [];
                  if (indexOfTitle.length != 0) {
                    slicesOfTitle.push(mergeIntoSlice(title, 0, title.length, indexOfTitle));
                  }

                  var slicesOfContent = [];
                  while (indexOfContent.length != 0) {
                    var item = indexOfContent[indexOfContent.length - 1];
                    var position = item.position;
                    var word = item.word;
                    // cut out 100 characters
                    var start = position - 20;
                    var end = position + 80;
                    if(start < 0){
                      start = 0;
                    }
                    if (end < position + word.length) {
                      end = position + word.length;
                    }
                    if(end > content.length){
                      end = content.length;
                    }
                    slicesOfContent.push(mergeIntoSlice(content, start, end, indexOfContent));
                  }

                  // sort slices in content by search text's count and hits' count

                  slicesOfContent.sort(function (sliceLeft, sliceRight) {
                    if (sliceLeft.searchTextCount !== sliceRight.searchTextCount) {
                      return sliceRight.searchTextCount - sliceLeft.searchTextCount;
                    } else if (sliceLeft.hits.length !== sliceRight.hits.length) {
                      return sliceRight.hits.length - sliceLeft.hits.length;
                    } else {
                      return sliceLeft.start - sliceRight.start;
                    }
                  });

                  // select top N slices in content

                  var upperBound = parseInt('1');
                  if (upperBound >= 0) {
                    slicesOfContent = slicesOfContent.slice(0, upperBound);
                  }

                  // highlight title and content

                  function highlightKeyword(text, slice) {
                    var result = '';
                    var prevEnd = slice.start;
                    slice.hits.forEach(function (hit) {
                      result += text.substring(prevEnd, hit.position);
                      var end = hit.position + hit.length;
                      result += '<b class="search-keyword">' + text.substring(hit.position, end) + '</b>';
                      prevEnd = end;
                    });
                    result += text.substring(prevEnd, slice.end);
                    return result;
                  }

                  var resultItem = '';

                  if (slicesOfTitle.length != 0) {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + highlightKeyword(title, slicesOfTitle[0]) + "</a>";
                  } else {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + title + "</a>";
                  }

                  slicesOfContent.forEach(function (slice) {
                    resultItem += "<a href='" + articleUrl + "'>" +
                      "<p class=\"search-result\">" + highlightKeyword(content, slice) +
                      "...</p>" + "</a>";
                  });

                  resultItem += "</li>";
                  resultItems.push({
                    item: resultItem,
                    searchTextCount: searchTextCount,
                    hitCount: hitCount,
                    id: resultItems.length
                  });
                }
              })
            };
            if (keywords.length === 1 && keywords[0] === "") {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-search fa-5x" /></div>'
            } else if (resultItems.length === 0) {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-frown-o fa-5x" /></div>'
            } else {
              resultItems.sort(function (resultLeft, resultRight) {
                if (resultLeft.searchTextCount !== resultRight.searchTextCount) {
                  return resultRight.searchTextCount - resultLeft.searchTextCount;
                } else if (resultLeft.hitCount !== resultRight.hitCount) {
                  return resultRight.hitCount - resultLeft.hitCount;
                } else {
                  return resultRight.id - resultLeft.id;
                }
              });
              var searchResultList = '<ul class=\"search-result-list\">';
              resultItems.forEach(function (result) {
                searchResultList += result.item;
              })
              searchResultList += "</ul>";
              resultContent.innerHTML = searchResultList;
            }
          }

          if ('auto' === 'auto') {
            input.addEventListener('input', inputEventFunction);
          } else {
            $('.search-icon').click(inputEventFunction);
            input.addEventListener('keypress', function (event) {
              if (event.keyCode === 13) {
                inputEventFunction();
              }
            });
          }

          // remove loading animation
          $(".local-search-pop-overlay").remove();
          $('body').css('overflow', '');

          proceedsearch();
        }
      });
    }

    // handle and trigger popup window;
    $('.popup-trigger').click(function(e) {
      e.stopPropagation();
      if (isfetched === false) {
        searchFunc(path, 'local-search-input', 'local-search-result');
      } else {
        proceedsearch();
      };
    });

    $('.popup-btn-close').click(onPopupClose);
    $('.popup').click(function(e){
      e.stopPropagation();
    });
    $(document).on('keyup', function (event) {
      var shouldDismissSearchPopup = event.which === 27 &&
        $('.search-popup').is(':visible');
      if (shouldDismissSearchPopup) {
        onPopupClose();
      }
    });
  </script>





  

  

  

  
  

  

  

  

</body>
</html>
