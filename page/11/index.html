<!DOCTYPE html>



  


<html class="theme-next muse use-motion" lang="zh-Hans">
<head><meta name="generator" content="Hexo 3.9.0">
  <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
<meta name="theme-color" content="#222">
<meta name="referrer" content="never">









<meta http-equiv="Cache-Control" content="no-transform">
<meta http-equiv="Cache-Control" content="no-siteapp">
















  
  
  <link href="../../lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css">







<link href="../../lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css">

<link href="../../css/main.css?v=5.1.4" rel="stylesheet" type="text/css">


  <link rel="apple-touch-icon" sizes="180x180" href="../../images/apple-touch-icon-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="32x32" href="../../images/favicon-32x32-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="16x16" href="../../images/favicon-16x16-next.png?v=5.1.4">


  <link rel="mask-icon" href="../../images/logo.svg?v=5.1.4" color="#222">





  <meta name="keywords" content="Hexo, NexT">





  <link rel="alternate" href="../../atom.xml" title="开发者博客 – IT技术 尽在开发者博客" type="application/atom+xml">






<meta property="og:type" content="website">
<meta property="og:title" content="开发者博客 – IT技术 尽在开发者博客">
<meta property="og:url" content="https://dev.newban.cn/page/11/index.html">
<meta property="og:site_name" content="开发者博客 – IT技术 尽在开发者博客">
<meta property="og:locale" content="zh-Hans">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="开发者博客 – IT技术 尽在开发者博客">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Muse',
    version: '5.1.4',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":true,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>
<!--谷歌广告验证代码-->
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({
          google_ad_client: "ca-pub-2626449904708114",
          enable_page_level_ads: true
     });
</script>
<!--谷歌广告验证代码-->



  <link rel="canonical" href="https://dev.newban.cn/page/11/">





  <title>开发者博客 – IT技术 尽在开发者博客</title>
  








</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  
  
    
  

  <div class="container sidebar-position-left 
  page-home">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">开发者博客 – IT技术 尽在开发者博客</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle">开发者博客 – 科技是第一生产力</p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="http://dev.newban.cn/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br>
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="https://dev.newban.cn/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br>
            
            归档
          </a>
        </li>
      

      
        <li class="menu-item menu-item-search">
          
            <a href="javascript:;" class="popup-trigger">
          
            
              <i class="menu-item-icon fa fa-search fa-fw"></i> <br>
            
            搜索
          </a>
        </li>
      
    </ul>
  

  
    <div class="site-search">
      
  <div class="popup search-popup local-search-popup">
  <div class="local-search-header clearfix">
    <span class="search-icon">
      <i class="fa fa-search"></i>
    </span>
    <span class="popup-btn-close">
      <i class="fa fa-times-circle"></i>
    </span>
    <div class="local-search-input-wrapper">
      <input autocomplete="off" placeholder="搜索..." spellcheck="false" type="text" id="local-search-input">
    </div>
  </div>
  <div id="local-search-result"></div>
</div>



    </div>
  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://dev.newban.cn../../7361973121789968434.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="开发者博客">
      <meta itemprop="description" content>
      <meta itemprop="image" content="../../images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="开发者博客 – IT技术 尽在开发者博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="../../7361973121789968434.html" itemprop="url">云原生✖️ AI 时代的微服务架构最佳实践—— CloudW</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2024-04-26T17:12:09+08:00">
                2024-04-26
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="&#x6D3B;&#x52A8;&#x4ECB;&#x7ECD;"><a href="#&#x6D3B;&#x52A8;&#x4ECB;&#x7ECD;" class="headerlink" title="&#x6D3B;&#x52A8;&#x4ECB;&#x7ECD;"></a>&#x6D3B;&#x52A8;&#x4ECB;&#x7ECD;</h2><p>CloudWeGo &#x5F00;&#x6E90;&#x4E24;&#x5E74;&#x591A;&#x4EE5;&#x6765;&#xFF0C;&#x793E;&#x533A;&#x53D1;&#x5C55;&#x8FC5;&#x901F;&#xFF0C;&#x751F;&#x6001;&#x65E5;&#x76CA;&#x4E30;&#x5BCC;&#xFF0C;&#x843D;&#x5730;&#x4F01;&#x4E1A;&#x7528;&#x6237;&#x5DF2;&#x8D85;&#x8FC7; <strong>40</strong> &#x5BB6;&#xFF0C;&#x6DB5;&#x76D6; <strong>AI&#x3001;&#x7535;&#x5546;&#x3001;&#x91D1;&#x878D;&#x3001;&#x6E38;&#x620F;</strong> <strong>&#x3001;&#x4E92;&#x8054;&#x7F51;</strong>&#x7B49;&#x591A;&#x4E2A;&#x884C;&#x4E1A;&#x3002;&#x540C;&#x65F6;&#xFF0C;&#x968F;&#x7740;&#x4E91;&#x539F;&#x751F;&#x6280;&#x672F;&#x548C; AI &#x6280;&#x672F;&#x7684;&#x6301;&#x7EED;&#x84EC;&#x52C3;&#x53D1;&#x5C55;&#xFF0C;&#x6211;&#x4EEC;&#x53D1;&#x73B0;&#x4F01;&#x4E1A;&#x7528;&#x6237;&#x4E5F;&#x9762;&#x4E34;&#x7740;&#x8D8A;&#x6765;&#x8D8A;&#x591A;&#x6027;&#x80FD;&#x3001;&#x6210;&#x672C;&#x548C;&#x7A33;&#x5B9A;&#x6027;&#x65B9;&#x9762;&#x7684;&#x6311;&#x6218;&#xFF0C;&#x7CFB;&#x7EDF;&#x9700;&#x8981;&#x652F;&#x6301;&#x5F39;&#x6027;&#x4F38;&#x7F29;&#x548C;&#x6F6E;&#x6C50;&#x6D41;&#x91CF;&#x4E0B;&#x7684;&#x7A33;&#x5B9A;&#x6027;&#xFF0C;&#x56E0;&#x800C;&#x4E5F;&#x8D8A;&#x53D1;&#x9700;&#x8981;&#x4E00;&#x5957;&#x9AD8;&#x6027;&#x80FD;&#x3001;&#x6613;&#x6269;&#x5C55;&#x3001;&#x529F;&#x80FD;&#x4E30;&#x5BCC;&#x7684;&#x5FAE;&#x670D;&#x52A1;&#x67B6;&#x6784;&#x3002;</p>
<p>&#x8BDA;&#x631A;&#x9080;&#x8BF7;&#x4F01;&#x4E1A;&#x7528;&#x6237;&#x548C;&#x5F00;&#x53D1;&#x8005;&#x5171;&#x540C;&#x53C2;&#x4E0E; CloudWeGo &#x6280;&#x672F;&#x6C99;&#x9F99;&#x3002;&#x6D3B;&#x52A8;&#x5C06;&#x4E8E;<strong>2024&#x5E74;5&#x6708;25&#x65E5;&#xFF08;&#x5468;&#x516D;&#xFF09;&#x5728;&#x4E0A;&#x6D77;&#x4E3E;&#x529E;</strong>&#xFF0C;&#x9080;&#x8BF7;&#x5E7F;&#x5927;&#x6280;&#x672F;&#x540C;&#x4EC1;&#x5171;&#x540C;&#x63A2;&#x8BA8;<strong>&#x5728;</strong> <strong>&#x4E91;&#x539F;&#x751F;</strong> <strong>xAI &#x6D6A;&#x6F6E;&#x4E4B;&#x4E0B;&#xFF0C;&#x4F01;&#x4E1A;&#x5982;&#x4F55;&#x6784;&#x5EFA;&#x4E91;&#x539F;&#x751F;&#x5FAE;&#x670D;&#x52A1;&#x67B6;&#x6784;</strong>&#xFF0C;&#x6765;&#x652F;&#x6301;&#x4EA7;&#x54C1;&#x7684;&#x5FEB;&#x901F;&#x8FED;&#x4EE3;&#x4E0E;&#x53D1;&#x5C55;&#x3002;</p>
<ul>
<li>&#x65F6;&#x95F4;&#xFF1A;2024&#x5E74;5&#x6708;25&#x65E5;&#xFF08;&#x5468;&#x516D;&#xFF09;14:00-17:00</li>
<li>&#x5730;&#x70B9;&#xFF1A;&#x4E0A;&#x6D77; &#xB7; &#x6F15;&#x6CB3;&#x6CFE;&#x4E2D;&#x5FC3;D&#x680B;F2</li>
</ul>
<p><img src="https://gitee.com/songjianzaina/juejin_p3/raw/master/img/ebc09e730cb52169767d1222913f1aebbe7e78295a321169175792baf952d7ab" alt></p>
<h2 id="&#x8BAE;&#x9898;&#x7B80;&#x4ECB;"><a href="#&#x8BAE;&#x9898;&#x7B80;&#x4ECB;" class="headerlink" title="&#x8BAE;&#x9898;&#x7B80;&#x4ECB;"></a>&#x8BAE;&#x9898;&#x7B80;&#x4ECB;</h2><p>&#x672C;&#x6B21;&#x6D3B;&#x52A8;&#x5206;&#x4EAB;&#x8BAE;&#x9898;&#x5C06;&#x805A;&#x7126; CloudWeGo &#x76F8;&#x5173;&#x6280;&#x672F;&#x529F;&#x80FD;&#x5B9E;&#x73B0;&#xFF0C;&#x4EE5;&#x53CA;&#x5982;&#x4F55;&#x501F;&#x529B; CloudWeGo &#x5F00;&#x6E90;&#x9879;&#x76EE;&#x5E2E;&#x52A9;&#x4F01;&#x4E1A;&#x6784;&#x5EFA;&#x5FAE;&#x670D;&#x52A1;&#x7B49;&#x8BAE;&#x9898;&#xFF0C;&#x5C06;&#x643A;&#x624B; CSDN &#x3001;infoQ&#x3001;&#x7A00;&#x571F;&#x6398;&#x91D1;&#x3001;&#x706B;&#x5C71;&#x5F15;&#x64CE;&#x5F00;&#x53D1;&#x8005;&#x793E;&#x533A;&#x3001;&#x5B57;&#x8282;&#x8DF3;&#x52A8;&#x6280;&#x672F;&#x56E2;&#x961F;&#x4F5C;&#x4E3A;&#x5408;&#x4F5C;&#x4F19;&#x4F34;&#x540C;&#x6B65;&#x8FDB;&#x884C;&#x5BA3;&#x4F20;&#x548C;&#x76F4;&#x64AD;&#x3002;&#x591A;&#x4F4D; CloudWeGo &#x793E;&#x533A; Maintainer &#x548C; Committer &#x5C06;&#x5206;&#x4EAB;&#x5305;&#x62EC;&#x5FAE;&#x670D;&#x52A1;&#x6846;&#x67B6;&#x7684;&#x5BF9;&#x6BD4;&#x548C;&#x843D;&#x5730;&#x5B9E;&#x8DF5;&#xFF0C;&#x4EE5;&#x53CA;&#x57FA;&#x4E8E; cwgo &#x4EE3;&#x7801;&#x751F;&#x6210;&#x5DE5;&#x5177;&#x7684;&#x5DE5;&#x7A0B;&#x5316;&#x5B9E;&#x8DF5;&#x7B49;&#x4E3B;&#x9898;&#x3002;&#x53E6;&#x5916;&#x6211;&#x4EEC;&#x8FD8;&#x9080;&#x8BF7;&#x4E86;&#x591A;&#x4F4D; CloudWeGo &#x7684;&#x7528;&#x6237;&#x4EE3;&#x8868;&#x8FDB;&#x884C;&#x5206;&#x4EAB;&#x4ED6;&#x4EEC;&#x57FA;&#x4E8E; CloudWeGo &#x7684;&#x843D;&#x5730;&#x5B9E;&#x8DF5;&#x7ECF;&#x9A8C;&#x7B49;&#x7CBE;&#x5F69;&#x8BDD;&#x9898;&#x3002;&#x6700;&#x540E;&#x6211;&#x4EEC;&#x4E5F;&#x4F1A;&#x56F4;&#x7ED5;&#x5FAE;&#x670D;&#x52A1;&#x76F8;&#x5173;&#x70ED;&#x70B9;&#x8BDD;&#x9898;&#x8FDB;&#x884C;&#x5706;&#x684C;&#x8BA8;&#x8BBA;&#xFF0C;&#x548C;&#x73B0;&#x573A;&#x89C2;&#x4F17;&#x8FDB;&#x884C;&#x4E92;&#x52A8;&#x3002;</p>
<p><img src="https://gitee.com/songjianzaina/juejin_p3/raw/master/img/8c7e202869d44b622c345e9ea790e5f0e0bfae336abf1935b56164d21db07b58" alt="image.png"></p>
<h4 id="&#x4E3B;&#x9898;&#x6F14;&#x8BB2;&#xFF1A;&#x5FAE;&#x670D;&#x52A1;&#x6846;&#x67B6;&#x5BF9;&#x6BD4;&#x3001;&#x6D4B;&#x8BD5;&#x4E0E;&#x8FC1;&#x79FB;"><a href="#&#x4E3B;&#x9898;&#x6F14;&#x8BB2;&#xFF1A;&#x5FAE;&#x670D;&#x52A1;&#x6846;&#x67B6;&#x5BF9;&#x6BD4;&#x3001;&#x6D4B;&#x8BD5;&#x4E0E;&#x8FC1;&#x79FB;" class="headerlink" title="&#x4E3B;&#x9898;&#x6F14;&#x8BB2;&#xFF1A;&#x5FAE;&#x670D;&#x52A1;&#x6846;&#x67B6;&#x5BF9;&#x6BD4;&#x3001;&#x6D4B;&#x8BD5;&#x4E0E;&#x8FC1;&#x79FB;"></a><strong>&#x4E3B;&#x9898;&#x6F14;&#x8BB2;&#xFF1A;&#x5FAE;&#x670D;&#x52A1;&#x6846;&#x67B6;&#x5BF9;&#x6BD4;&#x3001;&#x6D4B;&#x8BD5;&#x4E0E;&#x8FC1;&#x79FB;</strong></h4><ul>
<li><strong>&#x8BB2;&#x5E08;&#xFF1A;&#x5468;&#x542F;&#x6052;&#xFF0C;CloudWeGo-Kitex Maintainer&#xFF1B;&#x674E;&#x7EAA;&#x6600;&#xFF0C;CloudWeGo-Web&amp;Doc Reviewer&#xFF0C;CloudWeGo-Hertz Committer</strong></li>
<li><strong>&#x5927;&#x7EB2;&#xFF1A;</strong> CloudWeGo &#x63D0;&#x4F9B;&#x4E86;&#x9AD8;&#x6027;&#x80FD;&#x3001;&#x9AD8;&#x53EF;&#x9760;&#x7684; Go &#x8BED;&#x8A00; RPC &#x6846;&#x67B6; Kitex &#x4EE5;&#x53CA; HTTP &#x6846;&#x67B6; Hertz&#xFF0C;&#x52A9;&#x529B;&#x7528;&#x6237;&#x9AD8;&#x6548;&#x642D;&#x5EFA;&#x5B8C;&#x5907;&#x7684;&#x4F01;&#x4E1A;&#x7EA7;&#x5FAE;&#x670D;&#x52A1;&#x67B6;&#x6784;&#x3002;&#x672C;&#x6B21;&#x5206;&#x4EAB;&#x4E2D;&#xFF0C;&#x6211;&#x4EEC;&#x5C06;&#x4ECE;&#x529F;&#x80FD;&#x548C;&#x6027;&#x80FD;&#x591A;&#x65B9;&#x9762;&#x5BF9;&#x6BD4; CloudWeGo &#x5FAE;&#x670D;&#x52A1;&#x6846;&#x67B6;&#x4E0E;&#x5F00;&#x6E90;&#x6846;&#x67B6; &#xFF0C;&#x5C55;&#x793A; Kitex &#x4E0E; gRPC&#xFF0C;Hertz &#x4E0E; Gin &#x7684;&#x5DEE;&#x5F02;&#x4E0E;&#x4F18;&#x52BF;&#x3002;&#x6B64;&#x5916;&#xFF0C;&#x6211;&#x4EEC;&#x5C06;&#x5206;&#x4EAB;&#x5173;&#x4E8E;&#x6846;&#x67B6;&#x8FC1;&#x79FB;&#x7684;&#x64CD;&#x4F5C;&#x5B9E;&#x8DF5;&#x548C;&#x8FC1;&#x79FB;&#x7684;&#x771F;&#x5B9E;&#x6536;&#x76CA;&#x3002;</li>
</ul>
<h4 id="&#x4E3B;&#x9898;&#x6F14;&#x8BB2;&#xFF1A;&#x57FA;&#x4E8E;-Hertz-&#x7684;&#x5FAE;&#x670D;&#x52A1;&#x843D;&#x5730;&#x5B9E;&#x8DF5;"><a href="#&#x4E3B;&#x9898;&#x6F14;&#x8BB2;&#xFF1A;&#x57FA;&#x4E8E;-Hertz-&#x7684;&#x5FAE;&#x670D;&#x52A1;&#x843D;&#x5730;&#x5B9E;&#x8DF5;" class="headerlink" title="&#x4E3B;&#x9898;&#x6F14;&#x8BB2;&#xFF1A;&#x57FA;&#x4E8E; Hertz &#x7684;&#x5FAE;&#x670D;&#x52A1;&#x843D;&#x5730;&#x5B9E;&#x8DF5;"></a><strong>&#x4E3B;&#x9898;&#x6F14;&#x8BB2;&#xFF1A;&#x57FA;&#x4E8E;</strong> <strong>Hertz</strong> <strong>&#x7684;&#x5FAE;&#x670D;&#x52A1;&#x843D;&#x5730;&#x5B9E;&#x8DF5;</strong></h4><ul>
<li><strong>&#x8BB2;&#x5E08;&#xFF1A;&#x521D;&#x6CFD;&#x826F;&#xFF0C;&#x5B57;&#x8282;&#x8DF3;&#x52A8;&#x897F;&#x74DC;&#x89C6;&#x9891;&#x7814;&#x53D1;&#x5DE5;&#x7A0B;&#x5E08;</strong></li>
<li><strong>&#x5927;&#x7EB2;&#xFF1A;</strong> Hertz &#x662F;&#x4E00;&#x4E2A; Golang &#x5FAE;&#x670D;&#x52A1; HTTP &#x6846;&#x67B6;&#xFF0C;&#x5177;&#x6709;&#x9AD8;&#x6613;&#x7528;&#x6027;&#x3001;&#x9AD8;&#x6027;&#x80FD;&#x3001;&#x9AD8;&#x6269;&#x5C55;&#x6027;&#x7B49;&#x7279;&#x70B9;&#x3002;&#x5728;&#x672C;&#x6B21;&#x6F14;&#x8BB2;&#x4E2D;&#xFF0C;&#x6211;&#x4EEC;&#x5C06;&#x4ECB;&#x7ECD;&#x897F;&#x74DC;&#x89C6;&#x9891;&#x57FA;&#x4E8E; Hertz &#x7684;&#x5FAE;&#x670D;&#x52A1;&#x843D;&#x5730;&#x5B9E;&#x8DF5;&#x3002;&#x6211;&#x4EEC;&#x5C06;&#x4ECB;&#x7ECD;&#x897F;&#x74DC;&#x89C6;&#x9891;&#x5FAE;&#x670D;&#x52A1;&#x67B6;&#x6784;&#x8BBE;&#x8BA1;&#x3001;Hertz &#x6846;&#x67B6;&#x4ECB;&#x7ECD;&#x3001;&#x897F;&#x74DC;&#x89C6;&#x9891;&#x8FC1;&#x79FB; Hertz &#x8FC7;&#x7A0B;&#x53CA;&#x8E29;&#x5751;&#x7ECF;&#x9A8C;&#x3001;&#x843D;&#x5730; Hertz &#x540E;&#x7684;&#x6536;&#x76CA;&#x3002;</li>
</ul>
<h4 id="&#x4E3B;&#x9898;&#x6F14;&#x8BB2;&#xFF1A;&#x4ECE;0&#x5230;1&#x57FA;&#x4E8E;-Kitex-Istio-&#x7684;&#x5FAE;&#x670D;&#x52A1;&#x7CFB;&#x7EDF;&#x5EFA;&#x8BBE;"><a href="#&#x4E3B;&#x9898;&#x6F14;&#x8BB2;&#xFF1A;&#x4ECE;0&#x5230;1&#x57FA;&#x4E8E;-Kitex-Istio-&#x7684;&#x5FAE;&#x670D;&#x52A1;&#x7CFB;&#x7EDF;&#x5EFA;&#x8BBE;" class="headerlink" title="&#x4E3B;&#x9898;&#x6F14;&#x8BB2;&#xFF1A;&#x4ECE;0&#x5230;1&#x57FA;&#x4E8E; Kitex + Istio &#x7684;&#x5FAE;&#x670D;&#x52A1;&#x7CFB;&#x7EDF;&#x5EFA;&#x8BBE;"></a><strong>&#x4E3B;&#x9898;&#x6F14;&#x8BB2;&#xFF1A;&#x4ECE;0&#x5230;1&#x57FA;&#x4E8E;</strong> <strong>Kitex</strong> <strong>+ Istio &#x7684;&#x5FAE;&#x670D;&#x52A1;&#x7CFB;&#x7EDF;&#x5EFA;&#x8BBE;</strong></h4><ul>
<li><strong>&#x8BB2;&#x5E08;&#xFF1A;Jason&#xFF0C;Construct &#x670D;&#x52A1;&#x7AEF;&#x603B;&#x76D1;</strong></li>
<li><strong>&#x5927;&#x7EB2;&#xFF1A;</strong> &#x5728;&#x672C;&#x6B21;&#x6F14;&#x8BB2;&#x4E2D;&#xFF0C;&#x6211;&#x4EEC;&#x5C06;&#x5C55;&#x793A;&#x5982;&#x4F55;&#x4F7F;&#x7528; Kitex &#x548C; Istio &#x4ECE;0&#x5230;1&#x6784;&#x5EFA;&#x5FAE;&#x670D;&#x52A1;&#x67B6;&#x6784;&#xFF0C;&#x63A2;&#x8BA8;&#x6280;&#x672F;&#x6808;&#x548C;&#x67B6;&#x6784;&#x9009;&#x62E9;&#x7684;&#x7406;&#x7531;&#x53CA;&#x5176;&#x5B9E;&#x65BD;&#x7EC6;&#x8282;&#x3002;&#x5185;&#x5BB9;&#x5C06;&#x5305;&#x62EC;&#x7CFB;&#x7EDF;&#x517C;&#x5BB9;&#x6027;&#x7B56;&#x7565;&#x3001;&#x81EA;&#x52A8;&#x5316;&#x6D41;&#x7A0B;&#x3001;&#x6CF3;&#x9053;&#x4EE5;&#x53CA;&#x901A;&#x8FC7;&#x76D1;&#x63A7;&#x548C;&#x5206;&#x5E03;&#x5F0F;&#x8FFD;&#x8E2A;&#x6280;&#x672F;&#x786E;&#x4FDD;&#x5FAE;&#x670D;&#x52A1;&#x53EF;&#x89C2;&#x6D4B;&#x6027;&#x548C;&#x7A33;&#x5B9A;&#x6027;&#x3002;</li>
</ul>
<h4 id="&#x4E3B;&#x9898;&#x6F14;&#x8BB2;&#xFF1A;&#x57FA;&#x4E8E;-cwgo-&#x4EE3;&#x7801;&#x751F;&#x6210;&#x5DE5;&#x5177;&#x7684;&#x5DE5;&#x7A0B;&#x5316;&#x5B9E;&#x8DF5;"><a href="#&#x4E3B;&#x9898;&#x6F14;&#x8BB2;&#xFF1A;&#x57FA;&#x4E8E;-cwgo-&#x4EE3;&#x7801;&#x751F;&#x6210;&#x5DE5;&#x5177;&#x7684;&#x5DE5;&#x7A0B;&#x5316;&#x5B9E;&#x8DF5;" class="headerlink" title="&#x4E3B;&#x9898;&#x6F14;&#x8BB2;&#xFF1A;&#x57FA;&#x4E8E; cwgo &#x4EE3;&#x7801;&#x751F;&#x6210;&#x5DE5;&#x5177;&#x7684;&#x5DE5;&#x7A0B;&#x5316;&#x5B9E;&#x8DF5;"></a><strong>&#x4E3B;&#x9898;&#x6F14;&#x8BB2;&#xFF1A;&#x57FA;&#x4E8E; cwgo &#x4EE3;&#x7801;&#x751F;&#x6210;&#x5DE5;&#x5177;&#x7684;&#x5DE5;&#x7A0B;&#x5316;&#x5B9E;&#x8DF5;</strong></h4><ul>
<li><strong>&#x8BB2;&#x5E08;&#xFF1A;&#x738B;&#x946B;, CloudWeGo-Hertz Committer&#xFF1B;&#x9E7F;&#x745E;&#x8D85;, CloudWeGo-Hertz Reviewer</strong></li>
<li><strong>&#x5927;&#x7EB2;&#xFF1A;</strong> cwgo &#x662F; CloudWeGo All in one &#x4EE3;&#x7801;&#x751F;&#x6210;&#x5DE5;&#x5177;&#xFF0C;&#x6574;&#x5408;&#x4E86;&#x5404;&#x4E2A;&#x7EC4;&#x4EF6;(hz&#xFF0C;kitex)&#x7684;&#x4F18;&#x52BF;&#xFF0C;&#x4EE5;&#x63D0;&#x9AD8;&#x5F00;&#x53D1;&#x8005;&#x7684;&#x4F53;&#x9A8C;&#x3002;&#x5728;&#x672C;&#x6B21;&#x6F14;&#x8BB2;&#x4E2D;&#xFF0C;&#x6211;&#x4EEC;&#x5C06;&#x4ECE;&#x4EE3;&#x7801;&#x751F;&#x6210;&#x80FD;&#x529B;&#x548C;&#x5DE5;&#x7A0B;&#x5316;&#x5B9E;&#x8DF5;&#x4E24;&#x65B9;&#x9762;&#x4ECB;&#x7ECD;cwgo&#xFF0C;&#x4E86;&#x89E3;&#x5982;&#x4F55;&#x901A;&#x8FC7;&#x4F7F;&#x7528; cwgo &#x7B80;&#x5316;&#x4EE3;&#x7801;&#x751F;&#x6210;&#x8FC7;&#x7A0B;&#x548C;&#x63D0;&#x9AD8;&#x5F00;&#x53D1;&#x6548;&#x7387;&#xFF0C;&#x5B9E;&#x73B0;&#x5DE5;&#x7A0B;&#x5316;&#x5F00;&#x53D1;&#x4F53;&#x9A8C;&#x7684;&#x63D0;&#x5347;&#x3002;</li>
</ul>
<h4 id="&#x5706;&#x684C;&#x8BA8;&#x8BBA;"><a href="#&#x5706;&#x684C;&#x8BA8;&#x8BBA;" class="headerlink" title="&#x5706;&#x684C;&#x8BA8;&#x8BBA;"></a><strong>&#x5706;&#x684C;&#x8BA8;&#x8BBA;</strong></h4><ul>
<li><strong>&#x4E3B;&#x6301;&#x4EBA;&#xFF1A;&#x7F57;&#x5E7F;&#x660E;</strong></li>
<li><strong>&#x5706;&#x684C;&#x5609;&#x5BBE;&#xFF1A;&#x521D;&#x6CFD;&#x826F;&#x3001;Jason&#x3001;&#x5468;&#x542F;&#x6052;</strong></li>
<li><strong>&#x5927;&#x7EB2;&#xFF1A;</strong></li>
</ul>
<pre><code>+ &#x5FAE;&#x670D;&#x52A1;&#x6846;&#x67B6;&#x548C;&#x4E2D;&#x95F4;&#x4EF6;&#x6280;&#x672F;&#x9009;&#x578B;&#x5173;&#x6CE8;&#x54EA;&#x4E9B;&#x65B9;&#x9762;&#xFF1F;
+ &#x6D45;&#x8C08;&#x5F00;&#x6E90;&#x6846;&#x67B6;&#x7684;&#x6613;&#x7528;&#x6027;&#x548C;&#x5176;&#x5E26;&#x6765;&#x7684;&#x7814;&#x53D1;&#x6548;&#x7387;&#x5728;&#x4E1A;&#x52A1;&#x56E2;&#x961F;&#x7684;&#x4EF7;&#x503C;
+ &#x6D45;&#x8C08; AI &#x5BF9;&#x5FAE;&#x670D;&#x52A1;&#x6846;&#x67B6;&#x6F14;&#x8FDB;&#x548C;&#x4E1A;&#x52A1;&#x7814;&#x53D1;&#x5E26;&#x6765;&#x7684;&#x5F71;&#x54CD;
+ &#x73B0;&#x573A; Q&amp;A</code></pre><h2 id="&#x7ACB;&#x523B;&#x62A5;&#x540D;"><a href="#&#x7ACB;&#x523B;&#x62A5;&#x540D;" class="headerlink" title="&#x7ACB;&#x523B;&#x62A5;&#x540D;"></a>&#x7ACB;&#x523B;&#x62A5;&#x540D;</h2><p>&#x8BBF;&#x95EE;<a href="/external_links/f849eb787f49384b8c83c61fb93b88ad.html" target="blank" rel="noopener">&#x6D3B;&#x52A8;&#x9875;&#x9762;</a>&#x5373;&#x53EF;&#x62A5;&#x540D;&#x6CE8;&#x518C;&#xFF0C;&#x53C2;&#x4E0E;&#x73B0;&#x573A;&#x4E92;&#x52A8;&#x8FD8;&#x6709;&#x673A;&#x4F1A;&#x83B7;&#x5F97;&#x793E;&#x533A;&#x7CBE;&#x7F8E;&#x5468;&#x8FB9;&#x793C;&#x54C1;&#x3002;&#x4E86;&#x89E3;&#x66F4;&#x591A; CloudWeGo &#x9879;&#x76EE;&#x76F8;&#x5173;&#x4FE1;&#x606F;&#x8BF7;&#x8BBF;&#x95EE; <a href="/external_links/bdcd09cf65ff02044fe501d6d1738188.html" target="blank" rel="noopener">www.cloudwego.cn</a> &#x6216; github.com/cloudwego &#x671F;&#x5F85;&#x60A8;&#x7684;&#x53C2;&#x4E0E;&#xFF01;</p>
<hr>
<p>&#x91CD;&#x78C5;&#xFF0C;&#x7531;&#x5B57;&#x8282;&#x8DF3;&#x52A8;<strong>&#x670D;&#x52A1;&#x6846;&#x67B6;&#x56E2;&#x961F;</strong>&#x8054;&#x5408; <strong>CloudWeGo</strong> <strong>&#x5F00;&#x6E90;&#x793E;&#x533A;</strong>&#x51FA;&#x54C1;&#x7684; &#x300A;CloudWeGo &#x6280;&#x672F;&#x767D;&#x76AE;&#x4E66;: &#x5B57;&#x8282;&#x8DF3;&#x52A8;&#x4E91;&#x539F;&#x751F;&#x5FAE;&#x670D;&#x52A1;&#x67B6;&#x6784;&#x539F;&#x7406;&#x4E0E;&#x5F00;&#x6E90;&#x5B9E;&#x8DF5;&#x300B; &#x73B0;&#x5DF2;&#x6B63;&#x5F0F;&#x5BF9;&#x5916;&#x53D1;&#x5E03;&#xFF01;&#x672C;&#x4E66;&#x603B;&#x7ED3;&#x4E86;&#x5B57;&#x8282;&#x8DF3;&#x52A8;&#x81EA; 2018 &#x5E74;&#x4EE5;&#x6765;&#x7684;&#x5FAE;&#x670D;&#x52A1;&#x67B6;&#x6784;&#x6F14;&#x8FDB;&#x4E4B;&#x8DEF;&#xFF0C;&#x8BB2;&#x8FF0;&#x4E86;&#x5B57;&#x8282;&#x5FAE;&#x670D;&#x52A1;&#x67B6;&#x6784;&#x7684;&#x96BE;&#x70B9;&#x3001;&#x7F16;&#x7A0B;&#x8BED;&#x8A00;&#x7684;&#x9009;&#x62E9;&#x548C;&#x5F00;&#x53D1;&#x6846;&#x67B6;&#x7684;&#x6F14;&#x8FDB;&#xFF0C;&#x4EE5;&#x53CA;&#x6D41;&#x91CF;&#x6FC0;&#x589E;&#x540E;&#x7684;&#x6D41;&#x91CF;&#x6CBB;&#x7406;&#x6A21;&#x5F0F;&#x548C;&#x670D;&#x52A1;&#x7F51;&#x683C;&#x5168;&#x9762;&#x843D;&#x5730;&#x3002;&#x767D;&#x76AE;&#x4E66;&#x4E2D;&#x8FD8;&#x8BE6;&#x7EC6;&#x4ECB;&#x7ECD;&#x4E86;<strong>&#x7535;&#x5546;&#x3001;AI&#x3001;&#x91D1;&#x878D;&#x3001;&#x6E38;&#x620F;</strong>&#x76F8;&#x5173;&#x884C;&#x4E1A;&#x7684;&#x843D;&#x5730;&#x6848;&#x4F8B;&#xFF0C;&#x540C;&#x65F6;&#x63A2;&#x8BA8;&#x4E86;&#x5728;&#x964D;&#x672C;&#x589E;&#x6548;&#x538B;&#x529B;&#x4E0B;&#x5FAE;&#x670D;&#x52A1;&#x7684;&#x6027;&#x80FD;&#x63D0;&#x5347;&#x548C;&#x6210;&#x672C;&#x4F18;&#x5316;&#x89E3;&#x51B3;&#x65B9;&#x6848;&#x3002;&#x4E0B;&#x8F7D;&#x5730;&#x5740;&#xFF1A;</p>
<ul>
<li><a href="/external_links/a3bdc864dcfbf87d90d3980f292b8b37.html" target="blank" rel="noopener">www.cloudwego.cn/zh/</a></li>
<li><a href="/external_links/d4f2863a69153aee7a3b279f089e0aeb.html" target="blank" rel="noopener">www.cloudwego.io/zh/</a></li>
</ul>
<p><strong>&#x672C;&#x6587;&#x8F6C;&#x8F7D;&#x81EA;:</strong> <a href="/external_links/5aa747863b1a309ad24d9f37ca6faa40.html" target="blank" rel="noopener">&#x6398;&#x91D1;</a></p>
<p><em><a href="https://dev.newban.cn/">&#x5F00;&#x53D1;&#x8005;&#x535A;&#x5BA2; &#x2013; &#x548C;&#x5F00;&#x53D1;&#x76F8;&#x5173;&#x7684; &#x8FD9;&#x91CC;&#x5168;&#x90FD;&#x6709;</a></em></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://dev.newban.cn../../7361998447907815435.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="开发者博客">
      <meta itemprop="description" content>
      <meta itemprop="image" content="../../images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="开发者博客 – IT技术 尽在开发者博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="../../7361998447907815435.html" itemprop="url">Redis存储方式大揭秘，让你的数据飞上天！ Redis存储</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2024-04-26T17:10:14+08:00">
                2024-04-26
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="Redis&#x5B58;&#x50A8;&#x65B9;&#x5F0F;&#x5927;&#x63ED;&#x79D8;&#xFF0C;&#x8BA9;&#x4F60;&#x7684;&#x6570;&#x636E;&#x98DE;&#x4E0A;&#x5929;&#xFF01;"><a href="#Redis&#x5B58;&#x50A8;&#x65B9;&#x5F0F;&#x5927;&#x63ED;&#x79D8;&#xFF0C;&#x8BA9;&#x4F60;&#x7684;&#x6570;&#x636E;&#x98DE;&#x4E0A;&#x5929;&#xFF01;" class="headerlink" title="Redis&#x5B58;&#x50A8;&#x65B9;&#x5F0F;&#x5927;&#x63ED;&#x79D8;&#xFF0C;&#x8BA9;&#x4F60;&#x7684;&#x6570;&#x636E;&#x98DE;&#x4E0A;&#x5929;&#xFF01;"></a>Redis&#x5B58;&#x50A8;&#x65B9;&#x5F0F;&#x5927;&#x63ED;&#x79D8;&#xFF0C;&#x8BA9;&#x4F60;&#x7684;&#x6570;&#x636E;&#x98DE;&#x4E0A;&#x5929;&#xFF01;</h1><p>&#x54DF;&#xFF0C;&#x542C;&#x8BF4;&#x4F60;&#x6700;&#x8FD1;&#x7684;&#x9879;&#x76EE;&#x6570;&#x636E;&#x5B58;&#x50A8;&#x9047;&#x5230;&#x4E86;&#x56F0;&#x96BE;&#xFF1F;&#x90A3;&#x4E9B;&#x8001;&#x6389;&#x7259;&#x7684;&#x5173;&#x7CFB;&#x578B;&#x6570;&#x636E;&#x5E93;&#x5DF2;&#x7ECF;&#x8DDF;&#x4E0D;&#x4E0A;&#x4F60;&#x7684;&#x811A;&#x6B65;&#x4E86;&#xFF1F;&#x522B;&#x6015;&#xFF0C;Redis&#x6765;&#x4E86;&#xFF01;&#x8FD9;&#x4F4D;&#x6570;&#x636E;&#x5B58;&#x50A8;&#x754C;&#x7684;&#x201D;&#x7F51;&#x7EA2;&#x201D;&#xFF0C;&#x7EDD;&#x5BF9;&#x80FD;&#x8BA9;&#x4F60;&#x7684;&#x6570;&#x636E;&#x55E8;&#x8D77;&#x6765;&#xFF01;</p>
<p>Redis&#x8FD9;&#x5BB6;&#x4F19;&#x554A;&#xFF0C;&#x5C31;&#x662F;&#x4E00;&#x4E2A;&#x9AD8;&#x6027;&#x80FD;&#x7684;key-value&#x5185;&#x5B58;&#x6570;&#x636E;&#x5E93;&#x3002;&#x5B83;&#x51ED;&#x4EC0;&#x4E48;&#x8FD9;&#x4E48;&#x725B;&#xFF1F;&#x5C31;&#x51ED;&#x5B83;&#x90A3;&#x6050;&#x6016;&#x7684;&#x8BFB;&#x5199;&#x901F;&#x5EA6;&#x548C;&#x82B1;&#x91CC;&#x80E1;&#x54E8;&#x7684;&#x6570;&#x636E;&#x7C7B;&#x578B;&#xFF01;&#x4ECA;&#x5929;&#xFF0C;&#x54B1;&#x4EEC;&#x5C31;&#x4E00;&#x8D77;&#x6252;&#x4E00;&#x6252;Redis&#x5B58;&#x50A8;&#x65B9;&#x5F0F;&#x7684;&#x5E95;&#x88E4;&#xFF0C;&#x770B;&#x770B;&#x5B83;&#x662F;&#x600E;&#x4E48;&#x8BA9;&#x4F60;&#x7684;&#x6570;&#x636E;&#x53C8;&#x5FEB;&#x53C8;&#x597D;&#x5B58;&#x7684;&#xFF01;</p>
<h2 id="&#x5185;&#x5B58;&#x5B58;&#x50A8;&#xFF0C;&#x5C31;&#x662F;&#x8FD9;&#x4E48;&#x4EFB;&#x6027;&#xFF01;"><a href="#&#x5185;&#x5B58;&#x5B58;&#x50A8;&#xFF0C;&#x5C31;&#x662F;&#x8FD9;&#x4E48;&#x4EFB;&#x6027;&#xFF01;" class="headerlink" title="&#x5185;&#x5B58;&#x5B58;&#x50A8;&#xFF0C;&#x5C31;&#x662F;&#x8FD9;&#x4E48;&#x4EFB;&#x6027;&#xFF01;"></a>&#x5185;&#x5B58;&#x5B58;&#x50A8;&#xFF0C;&#x5C31;&#x662F;&#x8FD9;&#x4E48;&#x4EFB;&#x6027;&#xFF01;</h2><p>Redis&#x7684;&#x7B2C;&#x4E00;&#x5927;&#x7279;&#x70B9;&#xFF0C;&#x90A3;&#x5C31;&#x662F;&#x5185;&#x5B58;&#x5B58;&#x50A8;&#xFF01;&#x6CA1;&#x9519;&#xFF0C;&#x4F60;&#x7684;&#x6570;&#x636E;&#x5728;Redis&#x91CC;&#xFF0C;&#x5C31;&#x662F;&#x76F4;&#x63A5;&#x4F4F;&#x5728;&#x5185;&#x5B58;&#x91CC;&#x7684;&#xFF01;&#x8FD9;&#x610F;&#x5473;&#x7740;&#x4EC0;&#x4E48;&#xFF1F;&#x8FD9;&#x610F;&#x5473;&#x7740;Redis&#x8BFB;&#x5199;&#x6570;&#x636E;&#x5FEB;&#x5F97;&#x4E00;&#x6279;&#xFF01;</p>
<p>&#x60F3;&#x60F3;&#x770B;&#xFF0C;&#x786C;&#x76D8;IO&#x901F;&#x5EA6;&#x624D;100MB/s&#x5DE6;&#x53F3;&#xFF0C;&#x800C;&#x5185;&#x5B58;IO&#x901F;&#x5EA6;&#x53EF;&#x4EE5;&#x8FBE;&#x5230;&#x51E0;&#x5341;GB/s&#xFF01;&#x8FD9;&#x5DEE;&#x8DDD;&#xFF0C;&#x4E0D;&#x662F;&#x4E00;&#x822C;&#x7684;&#x5927;&#x554A;&#xFF01;&#x6240;&#x4EE5;&#xFF0C;&#x5F53;Redis&#x5904;&#x7406;&#x6D77;&#x91CF;&#x6570;&#x636E;&#x7684;&#x8BFB;&#x5199;&#x8BF7;&#x6C42;&#x65F6;&#xFF0C;&#x90A3;&#x901F;&#x5EA6;&#xFF0C;&#x55D6;&#x55D6;&#x7684;&#xFF0C;&#x7728;&#x773C;&#x95F4;&#x5C31;&#x5B8C;&#x4E8B;&#x4E86;&#xFF01;</p>
<p>&#x4E3E;&#x4E2A;&#x4F8B;&#x5B50;&#xFF0C;&#x5047;&#x8BBE;&#x4F60;&#x7684;&#x5E94;&#x7528;&#x9700;&#x8981;&#x9891;&#x7E41;&#x5730;&#x8BFB;&#x53D6;&#x7528;&#x6237;&#x7684;&#x57FA;&#x672C;&#x4FE1;&#x606F;&#x3002;&#x5982;&#x679C;&#x4F60;&#x628A;&#x8FD9;&#x4E9B;&#x4FE1;&#x606F;&#x5B58;&#x5728;MySQL&#x91CC;&#xFF0C;&#x6BCF;&#x6B21;&#x8BFB;&#x53D6;&#x90FD;&#x5F97;&#x8D70;&#x4E00;&#x904D;&#x786C;&#x76D8;IO&#xFF0C;&#x90A3;&#x6027;&#x80FD;&#x80AF;&#x5B9A;&#x4E0A;&#x4E0D;&#x53BB;&#x3002;&#x4F46;&#x5982;&#x679C;&#x4F60;&#x628A;&#x8FD9;&#x4E9B;&#x4FE1;&#x606F;&#x7F13;&#x5B58;&#x5728;Redis&#x91CC;&#xFF0C;&#x8BFB;&#x53D6;&#x901F;&#x5EA6;&#x90A3;&#x662F;&#x6760;&#x6760;&#x7684;&#xFF0C;&#x5565;&#x65F6;&#x5EF6;&#x90FD;&#x522B;&#x60F3;&#x6709;&#xFF01;</p>
<p>&#x5F53;&#x7136;&#xFF0C;&#x5185;&#x5B58;&#x5B58;&#x50A8;&#x4E5F;&#x4E0D;&#x662F;&#x5B8C;&#x7F8E;&#x65E0;&#x7F3A;&#x7684;&#x3002;&#x5185;&#x5B58;&#x5BB9;&#x91CF;&#x4E0D;&#x591F;&#x5927;&#xFF0C;&#x4EF7;&#x683C;&#x53C8;&#x8D35;&#x3002;&#x4F46;Redis&#x65E9;&#x5C31;&#x60F3;&#x5230;&#x4E86;&#x8FD9;&#x832C;&#xFF0C;&#x5B83;&#x63D0;&#x4F9B;&#x4E86;&#x4E00;&#x4E9B;&#x673A;&#x5236;&#x6765;&#x89E3;&#x51B3;&#x8FD9;&#x4E9B;&#x95EE;&#x9898;&#xFF0C;&#x6BD4;&#x5982;&#x6570;&#x636E;&#x6DD8;&#x6C70;&#x7B56;&#x7565;&#x548C;&#x6570;&#x636E;&#x6301;&#x4E45;&#x5316;&#xFF0C;&#x54B1;&#x4EEC;&#x4E00;&#x4F1A;&#x513F;&#x518D;&#x8BF4;&#x3002;</p>
<h2 id="&#x6570;&#x636E;&#x7C7B;&#x578B;&#xFF0C;&#x82B1;&#x6837;&#x767E;&#x51FA;&#xFF01;"><a href="#&#x6570;&#x636E;&#x7C7B;&#x578B;&#xFF0C;&#x82B1;&#x6837;&#x767E;&#x51FA;&#xFF01;" class="headerlink" title="&#x6570;&#x636E;&#x7C7B;&#x578B;&#xFF0C;&#x82B1;&#x6837;&#x767E;&#x51FA;&#xFF01;"></a>&#x6570;&#x636E;&#x7C7B;&#x578B;&#xFF0C;&#x82B1;&#x6837;&#x767E;&#x51FA;&#xFF01;</h2><p>Redis&#x7684;&#x53E6;&#x4E00;&#x5927;&#x4EAE;&#x70B9;&#xFF0C;&#x5C31;&#x662F;&#x5B83;&#x90A3;&#x82B1;&#x91CC;&#x80E1;&#x54E8;&#x7684;&#x6570;&#x636E;&#x7C7B;&#x578B;&#x652F;&#x6301;&#x3002;&#x522B;&#x7684;key-value&#x5B58;&#x50A8;&#xFF0C;&#x901A;&#x5E38;&#x5C31;&#x53EA;&#x652F;&#x6301;&#x7B80;&#x5355;&#x7684;&#x5B57;&#x7B26;&#x4E32;&#x7C7B;&#x578B;&#x3002;&#x4F46;Redis&#x53EF;&#x4E0D;&#x662F;&#x5403;&#x7D20;&#x7684;&#xFF0C;&#x5B83;&#x7684;&#x6570;&#x636E;&#x7C7B;&#x578B;&#xFF0C;&#x90A3;&#x662F;&#x76F8;&#x5F53;&#x4E30;&#x5BCC;&#xFF1A;</p>
<ul>
<li>&#x5B57;&#x7B26;&#x4E32;&#xFF08;String&#xFF09;&#xFF1A;&#x8FD9;&#x662F;&#x6700;&#x57FA;&#x7840;&#x7684;&#x7C7B;&#x578B;&#xFF0C;&#x5C31;&#x50CF;Memcached&#x4E00;&#x6837;&#xFF0C;&#x4E00;&#x4E2A;key&#x5BF9;&#x4E00;&#x4E2A;value&#x3002;</li>
<li>&#x54C8;&#x5E0C;&#xFF08;Hash&#xFF09;&#xFF1A;&#x8FD9;&#x4E2A;&#x7C7B;&#x578B;&#x6709;&#x70B9;&#x513F;&#x50CF;Java&#x91CC;&#x7684;Map&#xFF0C;&#x4E00;&#x4E2A;key&#x5BF9;&#x5E94;&#x4E00;&#x4E2A;Map&#x3002;</li>
<li>&#x5217;&#x8868;&#xFF08;List&#xFF09;&#xFF1A;&#x8FD9;&#x4E2A;&#x7C7B;&#x578B;&#x5C31;&#x50CF;&#x4E00;&#x4E2A;&#x53CC;&#x5411;&#x94FE;&#x8868;&#xFF0C;&#x4F60;&#x53EF;&#x4EE5;&#x5728;&#x5217;&#x8868;&#x7684;&#x5934;&#x90E8;&#x6216;&#x5C3E;&#x90E8;&#x6DFB;&#x52A0;&#x5143;&#x7D20;&#x3002;</li>
<li>&#x96C6;&#x5408;&#xFF08;Set&#xFF09;&#xFF1A;&#x8FD9;&#x4E2A;&#x7C7B;&#x578B;&#x8DDF;Java&#x4E2D;&#x7684;HashSet&#x5DEE;&#x4E0D;&#x591A;&#xFF0C;&#x5B83;&#x91CC;&#x9762;&#x7684;&#x952E;&#x503C;&#x5BF9;&#x662F;&#x65E0;&#x5E8F;&#x4E14;&#x552F;&#x4E00;&#x7684;&#x3002;</li>
<li>&#x6709;&#x5E8F;&#x96C6;&#x5408;&#xFF08;Sorted Set&#xFF09;&#xFF1A;&#x8FD9;&#x4E2A;&#x7C7B;&#x578B;&#x8DDF;Set&#x7C7B;&#x4F3C;&#xFF0C;&#x4F46;&#x91CC;&#x9762;&#x7684;&#x5143;&#x7D20;&#x662F;&#x6709;&#x5E8F;&#x7684;&#xFF0C;&#x6BCF;&#x4E2A;&#x5143;&#x7D20;&#x90FD;&#x6709;&#x4E00;&#x4E2A;&#x5206;&#x6570;&#xFF08;score&#xFF09;&#x6765;&#x6392;&#x5E8F;&#x3002;</li>
</ul>
<p>&#x6709;&#x4E86;&#x8FD9;&#x4E00;&#x7BA9;&#x7B50;&#x6570;&#x636E;&#x7C7B;&#x578B;&#xFF0C;Redis&#x5C31;&#x6210;&#x4E86;&#x4E00;&#x4E2A;&#x201D;&#x591A;&#x9762;&#x624B;&#x201D;&#xFF0C;&#x5565;&#x4E1A;&#x52A1;&#x573A;&#x666F;&#x90FD;&#x80FD;&#x5E94;&#x5BF9;&#x3002;</p>
<p>&#x6BD4;&#x5982;&#xFF0C;&#x4F60;&#x53EF;&#x4EE5;&#x7528;String&#x6765;&#x7F13;&#x5B58;&#x4E00;&#x4E9B;&#x5E38;&#x7528;&#x7684;&#x5BF9;&#x8C61;&#xFF0C;&#x63D0;&#x9AD8;&#x7CFB;&#x7EDF;&#x7684;&#x54CD;&#x5E94;&#x901F;&#x5EA6;&#xFF1A;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">// &#x5C06;&#x7528;&#x6237;&#x5BF9;&#x8C61;&#x7F13;&#x5B58;&#x5230;Redis</span><br><span class="line">User user = new User(1, &quot;Tom&quot;, 25);</span><br><span class="line">String key = &quot;user::&quot; + user.getId();</span><br><span class="line">redisTemplate.opsForValue().set(key, JSON.toJSONString(user));</span><br><span class="line"></span><br><span class="line">// &#x4ECE;Redis&#x83B7;&#x53D6;&#x7528;&#x6237;&#x5BF9;&#x8C61;</span><br><span class="line">String userJson = redisTemplate.opsForValue().get(key);</span><br><span class="line">User cachedUser = JSON.parseObject(userJson, User.class);</span><br></pre></td></tr></table></figure>

<p>&#x53C8;&#x6BD4;&#x5982;&#xFF0C;&#x4F60;&#x53EF;&#x4EE5;&#x7528;Hash&#x6765;&#x5B58;&#x50A8;&#x4E00;&#x4E2A;&#x7528;&#x6237;&#x7684;&#x8BE6;&#x7EC6;&#x4FE1;&#x606F;&#xFF1A;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">// &#x5B58;&#x50A8;&#x7528;&#x6237;&#x4FE1;&#x606F;&#x5230;Hash</span><br><span class="line">String userKey = &quot;user::&quot; + userId;</span><br><span class="line">redisTemplate.opsForHash().put(userKey, &quot;name&quot;, &quot;Tom&quot;);</span><br><span class="line">redisTemplate.opsForHash().put(userKey, &quot;age&quot;, 25);</span><br><span class="line">redisTemplate.opsForHash().put(userKey, &quot;city&quot;, &quot;New York&quot;);</span><br><span class="line"></span><br><span class="line">// &#x83B7;&#x53D6;&#x7528;&#x6237;&#x4FE1;&#x606F;&#x4ECE;Hash</span><br><span class="line">String name = (String) redisTemplate.opsForHash().get(userKey, &quot;name&quot;);</span><br><span class="line">int age = (int) redisTemplate.opsForHash().get(userKey, &quot;age&quot;);</span><br><span class="line">String city = (String) redisTemplate.opsForHash().get(userKey, &quot;city&quot;);</span><br></pre></td></tr></table></figure>

<p>&#x518D;&#x6BD4;&#x5982;&#xFF0C;&#x4F60;&#x53EF;&#x4EE5;&#x7528;List&#x6765;&#x5B9E;&#x73B0;&#x4E00;&#x4E2A;&#x7B80;&#x5355;&#x7684;&#x961F;&#x5217;&#xFF1A;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">// &#x6DFB;&#x52A0;&#x5143;&#x7D20;&#x5230;&#x961F;&#x5217;</span><br><span class="line">redisTemplate.opsForList().leftPush(&quot;queue&quot;, &quot;task1&quot;);</span><br><span class="line">redisTemplate.opsForList().leftPush(&quot;queue&quot;, &quot;task2&quot;);</span><br><span class="line"></span><br><span class="line">// &#x4ECE;&#x961F;&#x5217;&#x83B7;&#x53D6;&#x5143;&#x7D20;</span><br><span class="line">String task = redisTemplate.opsForList().rightPop(&quot;queue&quot;);</span><br></pre></td></tr></table></figure>

<p>&#x6216;&#x8005;&#xFF0C;&#x4F60;&#x53EF;&#x4EE5;&#x7528;Set&#x6765;&#x5B9E;&#x73B0;&#x4E00;&#x4E2A;&#x6807;&#x7B7E;&#x7CFB;&#x7EDF;&#xFF1A;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">// &#x6DFB;&#x52A0;&#x6807;&#x7B7E;</span><br><span class="line">redisTemplate.opsForSet().add(&quot;tags::user::1&quot;, &quot;music&quot;, &quot;movie&quot;, &quot;travel&quot;);</span><br><span class="line">redisTemplate.opsForSet().add(&quot;tags::user::2&quot;, &quot;music&quot;, &quot;sports&quot;);</span><br><span class="line"></span><br><span class="line">// &#x83B7;&#x53D6;&#x5171;&#x540C;&#x7684;&#x6807;&#x7B7E;</span><br><span class="line">Set&lt;String&gt; commonTags = redisTemplate.opsForSet().intersect(&quot;tags::user::1&quot;, &quot;tags::user::2&quot;);</span><br></pre></td></tr></table></figure>

<p>&#x8FD8;&#x6709;&#x554A;&#xFF0C;&#x4F60;&#x53EF;&#x4EE5;&#x7528;Sorted Set&#x6765;&#x5B9E;&#x73B0;&#x4E00;&#x4E2A;&#x6392;&#x884C;&#x699C;&#x529F;&#x80FD;&#xFF1A;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">// &#x6DFB;&#x52A0;&#x5206;&#x6570;</span><br><span class="line">redisTemplate.opsForZSet().add(&quot;leaderboard&quot;, &quot;player1&quot;, 100);</span><br><span class="line">redisTemplate.opsForZSet().add(&quot;leaderboard&quot;, &quot;player2&quot;, 90);</span><br><span class="line">redisTemplate.opsForZSet().add(&quot;leaderboard&quot;, &quot;player3&quot;, 110);</span><br><span class="line"></span><br><span class="line">// &#x83B7;&#x53D6;&#x6392;&#x540D;</span><br><span class="line">long rank = redisTemplate.opsForZSet().reverseRank(&quot;leaderboard&quot;, &quot;player2&quot;);</span><br></pre></td></tr></table></figure>

<p>&#x770B;&#x770B;&#xFF0C;Redis&#x7684;&#x5E94;&#x7528;&#x573A;&#x666F;&#xFF0C;&#x662F;&#x4E0D;&#x662F;&#x76F8;&#x5F53;&#x4E30;&#x5BCC;&#xFF1F;</p>
<h2 id="&#x6570;&#x636E;&#x6DD8;&#x6C70;&#xFF0C;&#x4F18;&#x80DC;&#x52A3;&#x6C70;&#xFF01;"><a href="#&#x6570;&#x636E;&#x6DD8;&#x6C70;&#xFF0C;&#x4F18;&#x80DC;&#x52A3;&#x6C70;&#xFF01;" class="headerlink" title="&#x6570;&#x636E;&#x6DD8;&#x6C70;&#xFF0C;&#x4F18;&#x80DC;&#x52A3;&#x6C70;&#xFF01;"></a>&#x6570;&#x636E;&#x6DD8;&#x6C70;&#xFF0C;&#x4F18;&#x80DC;&#x52A3;&#x6C70;&#xFF01;</h2><p>&#x54B1;&#x4EEC;&#x521A;&#x8BF4;&#x4E86;&#xFF0C;&#x5185;&#x5B58;&#x5B58;&#x50A8;&#x7684;&#x4E00;&#x4E2A;&#x95EE;&#x9898;&#x662F;&#x5BB9;&#x91CF;&#x6709;&#x9650;&#x3002;&#x90A3;Redis&#x548B;&#x89E3;&#x51B3;&#x8FD9;&#x4E2A;&#x95EE;&#x9898;&#x5462;&#xFF1F;&#x7B54;&#x6848;&#x5C31;&#x662F;&#xFF1A;&#x6570;&#x636E;&#x6DD8;&#x6C70;&#x7B56;&#x7565;&#xFF01;</p>
<p>&#x5F53;Redis&#x7684;&#x5185;&#x5B58;&#x4F7F;&#x7528;&#x5230;&#x4E86;&#x67D0;&#x4E2A;&#x7A0B;&#x5EA6;&#xFF0C;&#x5B83;&#x5C31;&#x4F1A;&#x81EA;&#x52A8;&#x89E6;&#x53D1;&#x6570;&#x636E;&#x6DD8;&#x6C70;&#x673A;&#x5236;&#x3002;Redis&#x6709;&#x4E00;&#x5806;&#x6570;&#x636E;&#x6DD8;&#x6C70;&#x7B56;&#x7565;&#x8BA9;&#x4F60;&#x6311;&#xFF1A;</p>
<ul>
<li>volatile-lru&#xFF1A;&#x5728;&#x8BBE;&#x7F6E;&#x4E86;&#x8FC7;&#x671F;&#x65F6;&#x95F4;&#x7684;&#x6570;&#x636E;&#x4E2D;&#xFF0C;&#x6311;&#x6700;&#x8FD1;&#x6700;&#x5C11;&#x4F7F;&#x7528;&#x7684;&#x6570;&#x636E;&#x6DD8;&#x6C70;&#x3002;</li>
<li>volatile-ttl&#xFF1A;&#x5728;&#x8BBE;&#x7F6E;&#x4E86;&#x8FC7;&#x671F;&#x65F6;&#x95F4;&#x7684;&#x6570;&#x636E;&#x4E2D;&#xFF0C;&#x6311;&#x5FEB;&#x8981;&#x8FC7;&#x671F;&#x7684;&#x6570;&#x636E;&#x6DD8;&#x6C70;&#x3002;</li>
<li>volatile-random&#xFF1A;&#x5728;&#x8BBE;&#x7F6E;&#x4E86;&#x8FC7;&#x671F;&#x65F6;&#x95F4;&#x7684;&#x6570;&#x636E;&#x4E2D;&#xFF0C;&#x968F;&#x4FBF;&#x6311;&#x6570;&#x636E;&#x6DD8;&#x6C70;&#x3002;</li>
<li>allkeys-lru&#xFF1A;&#x5728;&#x6240;&#x6709;&#x6570;&#x636E;&#x4E2D;&#xFF0C;&#x6311;&#x6700;&#x8FD1;&#x6700;&#x5C11;&#x4F7F;&#x7528;&#x7684;&#x6570;&#x636E;&#x6DD8;&#x6C70;&#x3002;</li>
<li>allkeys-random&#xFF1A;&#x5728;&#x6240;&#x6709;&#x6570;&#x636E;&#x4E2D;&#xFF0C;&#x968F;&#x4FBF;&#x6311;&#x6570;&#x636E;&#x6DD8;&#x6C70;&#x3002;</li>
<li>noeviction&#xFF1A;&#x4E0D;&#x6DD8;&#x6C70;&#x6570;&#x636E;&#xFF0C;&#x5185;&#x5B58;&#x4E0D;&#x591F;&#x65F6;&#xFF0C;&#x65B0;&#x5199;&#x5165;&#x64CD;&#x4F5C;&#x4F1A;&#x62A5;&#x9519;&#x3002;</li>
</ul>
<p>&#x4F60;&#x53EF;&#x4EE5;&#x6839;&#x636E;&#x81EA;&#x5DF1;&#x7684;&#x4E1A;&#x52A1;&#x7279;&#x70B9;&#xFF0C;&#x9009;&#x4E00;&#x4E2A;&#x5408;&#x9002;&#x7684;&#x6DD8;&#x6C70;&#x7B56;&#x7565;&#x3002;&#x6BD4;&#x5982;&#xFF0C;&#x5982;&#x679C;&#x4F60;&#x7684;&#x6570;&#x636E;&#x90FD;&#x80FD;&#x518D;&#x6B21;&#x83B7;&#x53D6;&#xFF0C;&#x90A3;&#x9009;allkeys-lru&#x5C31;&#x4E0D;&#x9519;&#xFF1B;&#x5982;&#x679C;&#x4F60;&#x6709;&#x4E00;&#x4E9B;&#x201D;&#x70ED;&#x70B9;&#x6570;&#x636E;&#x201D;&#xFF0C;&#x90A3;&#x5C31;&#x7528;volatile-lru&#xFF0C;&#x4F18;&#x5148;&#x4FDD;&#x8BC1;&#x8FD9;&#x4E9B;&#x6570;&#x636E;&#x5728;&#x5185;&#x5B58;&#x91CC;&#x5E38;&#x9A7B;&#x3002;</p>
<p>&#x4E3E;&#x4E2A;&#x4F8B;&#x5B50;&#xFF0C;&#x5982;&#x679C;&#x4F60;&#x7528;Redis&#x7F13;&#x5B58;&#x7528;&#x6237;&#x4FE1;&#x606F;&#xFF0C;&#x4F60;&#x53EF;&#x80FD;&#x5E0C;&#x671B;&#x7ECF;&#x5E38;&#x8BBF;&#x95EE;&#x7684;&#x6D3B;&#x8DC3;&#x7528;&#x6237;&#x7684;&#x4FE1;&#x606F;&#x80FD;&#x591F;&#x5E38;&#x9A7B;&#x5185;&#x5B58;&#xFF0C;&#x4E0D;&#x90A3;&#x4E48;&#x6D3B;&#x8DC3;&#x7684;&#x7528;&#x6237;&#x7684;&#x4FE1;&#x606F;&#x5C31;&#x4E0D;&#x90A3;&#x4E48;care&#x4E86;&#x3002;&#x8FD9;&#x65F6;&#x5019;&#xFF0C;&#x4F60;&#x5C31;&#x53EF;&#x4EE5;&#x8FD9;&#x6837;&#x8BBE;&#x7F6E;&#xFF1A;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"># &#x8BBE;&#x7F6E;&#x6DD8;&#x6C70;&#x7B56;&#x7565;&#x4E3A;volatile-lru</span><br><span class="line">redis-cli config set maxmemory-policy volatile-lru</span><br><span class="line"></span><br><span class="line"># &#x8BBE;&#x7F6E;key&#x7684;&#x8FC7;&#x671F;&#x65F6;&#x95F4;</span><br><span class="line">redis-cli expire user::1 3600</span><br><span class="line">redis-cli expire user::2 7200</span><br></pre></td></tr></table></figure>

<p>&#x8FD9;&#x6837;&#xFF0C;Redis&#x5C31;&#x4F1A;&#x5728;&#x5185;&#x5B58;&#x4E0D;&#x591F;&#x65F6;&#xFF0C;&#x4F18;&#x5148;&#x6DD8;&#x6C70;&#x90A3;&#x4E9B;&#x4E0D;&#x600E;&#x4E48;&#x8BBF;&#x95EE;&#x7684;&#x7528;&#x6237;&#x4FE1;&#x606F;&#xFF0C;&#x4FDD;&#x7559;&#x6D3B;&#x8DC3;&#x7528;&#x6237;&#x7684;&#x4FE1;&#x606F;&#x5728;&#x5185;&#x5B58;&#x4E2D;&#x3002;&#x662F;&#x4E0D;&#x662F;&#x5F88;&#x667A;&#x80FD;&#xFF1F;</p>
<h2 id="&#x6570;&#x636E;&#x6301;&#x4E45;&#x5316;&#xFF0C;&#x5B89;&#x5168;&#x7B2C;&#x4E00;&#xFF01;"><a href="#&#x6570;&#x636E;&#x6301;&#x4E45;&#x5316;&#xFF0C;&#x5B89;&#x5168;&#x7B2C;&#x4E00;&#xFF01;" class="headerlink" title="&#x6570;&#x636E;&#x6301;&#x4E45;&#x5316;&#xFF0C;&#x5B89;&#x5168;&#x7B2C;&#x4E00;&#xFF01;"></a>&#x6570;&#x636E;&#x6301;&#x4E45;&#x5316;&#xFF0C;&#x5B89;&#x5168;&#x7B2C;&#x4E00;&#xFF01;</h2><p>&#x9664;&#x4E86;&#x6570;&#x636E;&#x6DD8;&#x6C70;&#x7B56;&#x7565;&#xFF0C;Redis&#x8FD8;&#x63D0;&#x4F9B;&#x4E86;&#x6570;&#x636E;&#x6301;&#x4E45;&#x5316;&#x529F;&#x80FD;&#xFF0C;&#x4FDD;&#x8BC1;&#x6570;&#x636E;&#x5B89;&#x5168;&#x3002;Redis&#x7684;&#x6301;&#x4E45;&#x5316;&#x6709;&#x4E24;&#x79CD;&#x65B9;&#x5F0F;&#xFF1A;RDB&#x548C;AOF&#x3002;</p>
<p>RDB&#xFF08;Redis Database&#xFF09;&#x5C31;&#x662F;&#x6BCF;&#x9694;&#x4E00;&#x6BB5;&#x65F6;&#x95F4;&#xFF0C;&#x628A;&#x5185;&#x5B58;&#x4E2D;&#x7684;&#x6570;&#x636E;&#x5FEB;&#x7167;&#x5199;&#x5230;&#x78C1;&#x76D8;&#x4E0A;&#x3002;&#x8FD9;&#x73A9;&#x610F;&#x513F;&#x9ED8;&#x8BA4;&#x5C31;&#x5F00;&#x542F;&#x4E86;&#xFF0C;&#x4F60;&#x53EF;&#x4EE5;&#x8BBE;&#x7F6E;&#x81EA;&#x52A8;&#x5907;&#x4EFD;&#x7684;&#x65F6;&#x95F4;&#x548C;&#x6587;&#x4EF6;&#x540D;&#x3002;RDB&#x7684;&#x597D;&#x5904;&#x662F;&#x5907;&#x4EFD;&#x901F;&#x5EA6;&#x5FEB;&#xFF0C;&#x9002;&#x5408;&#x5B9A;&#x671F;&#x5907;&#x4EFD;&#xFF1B;&#x574F;&#x5904;&#x662F;&#x4E24;&#x6B21;&#x5907;&#x4EFD;&#x4E4B;&#x95F4;&#x5982;&#x679C;&#x51FA;&#x95EE;&#x9898;&#xFF0C;&#x53EF;&#x80FD;&#x4F1A;&#x4E22;&#x70B9;&#x6570;&#x636E;&#x3002;</p>
<p>&#x4F60;&#x53EF;&#x4EE5;&#x5728;redis.conf&#x91CC;&#x8BBE;&#x7F6E;RDB&#xFF1A;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"># 900&#x79D2;&#x5185;&#x5982;&#x679C;&#x81F3;&#x5C11;&#x6709;1&#x4E2A;key&#x88AB;&#x4FEE;&#x6539;&#xFF0C;&#x5219;&#x6267;&#x884C;bgsave (background save)</span><br><span class="line">save 900 1 &#xA0;</span><br><span class="line"></span><br><span class="line"># 300&#x79D2;&#x5185;&#x5982;&#x679C;&#x81F3;&#x5C11;&#x6709;10&#x4E2A;key&#x88AB;&#x4FEE;&#x6539;&#xFF0C;&#x5219;&#x6267;&#x884C;bgsave &#xA0;</span><br><span class="line">save 300 10</span><br><span class="line"></span><br><span class="line"># 60&#x79D2;&#x5185;&#x5982;&#x679C;&#x81F3;&#x5C11;&#x6709;10000&#x4E2A;key&#x88AB;&#x4FEE;&#x6539;&#xFF0C;&#x5219;&#x6267;&#x884C;bgsave</span><br><span class="line">save 60 10000</span><br></pre></td></tr></table></figure>

<p>AOF&#xFF08;Append Only File&#xFF09;&#x5219;&#x662F;&#x628A;Redis&#x7684;&#x64CD;&#x4F5C;&#x65E5;&#x5FD7;&#x8FFD;&#x52A0;&#x5199;&#x5230;&#x6587;&#x4EF6;&#x91CC;&#x3002;&#x6BCF;&#x6B21;&#x6709;&#x5199;&#x64CD;&#x4F5C;&#xFF0C;AOF&#x5C31;&#x4F1A;&#x540C;&#x6B65;&#x5730;&#x628A;&#x64CD;&#x4F5C;&#x5199;&#x5230;&#x786C;&#x76D8;&#x4E0A;&#x7684;AOF&#x6587;&#x4EF6;&#x91CC;&#x3002;AOF&#x7684;&#x597D;&#x5904;&#x662F;&#x6700;&#x5927;&#x9650;&#x5EA6;&#x4FDD;&#x8BC1;&#x6570;&#x636E;&#x4E0D;&#x4E22;&#xFF0C;&#x574F;&#x5904;&#x662F;&#x5907;&#x4EFD;&#x6587;&#x4EF6;&#x53EF;&#x80FD;&#x5F88;&#x5927;&#xFF0C;&#x6062;&#x590D;&#x901F;&#x5EA6;&#x4E5F;&#x6CA1;RDB&#x5FEB;&#x3002;</p>
<p>&#x4F60;&#x4E5F;&#x53EF;&#x4EE5;&#x5728;redis.conf&#x91CC;&#x8BBE;&#x7F6E;AOF&#xFF1A;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"># &#x5F00;&#x542F;AOF</span><br><span class="line">appendonly yes</span><br><span class="line"></span><br><span class="line"># AOF&#x6587;&#x4EF6;&#x540D;</span><br><span class="line">appendfilename &quot;appendonly.aof&quot;</span><br><span class="line"></span><br><span class="line"># &#x540C;&#x6B65;&#x7B56;&#x7565;&#xFF0C;&#x8FD9;&#x91CC;&#x662F;&#x6BCF;&#x79D2;&#x540C;&#x6B65;&#x4E00;&#x6B21;</span><br><span class="line">appendfsync everysec</span><br></pre></td></tr></table></figure>

<p>&#x5B9E;&#x9645;&#x7528;&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x4F60;&#x53EF;&#x4EE5;&#x6839;&#x636E;&#x81EA;&#x5DF1;&#x7684;&#x4E1A;&#x52A1;&#x9700;&#x6C42;&#x9009;RDB&#x8FD8;&#x662F;AOF&#xFF0C;&#x751A;&#x81F3;&#x53EF;&#x4EE5;&#x4E24;&#x4E2A;&#x4E00;&#x8D77;&#x7528;&#xFF0C;&#x65E2;&#x4FDD;&#x8BC1;&#x6570;&#x636E;&#x5B89;&#x5168;&#xFF0C;&#x53C8;&#x517C;&#x987E;&#x6027;&#x80FD;&#x3002;&#x6BD4;&#x5982;&#xFF0C;&#x4F60;&#x53EF;&#x4EE5;&#x8FD9;&#x6837;&#x8BBE;&#x7F6E;&#xFF1A;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"># &#x5F00;&#x542F;RDB</span><br><span class="line">save 900 1</span><br><span class="line">save 300 10</span><br><span class="line">save 60 10000</span><br><span class="line"></span><br><span class="line"># &#x5F00;&#x542F;AOF</span><br><span class="line">appendonly yes</span><br><span class="line">appendfilename &quot;appendonly.aof&quot;</span><br><span class="line">appendfsync everysec</span><br></pre></td></tr></table></figure>

<p>&#x8FD9;&#x6837;&#xFF0C;Redis&#x5C31;&#x4F1A;&#x65E2;&#x6709;RDB&#x7684;&#x5FEB;&#x7167;&#xFF0C;&#x53C8;&#x6709;AOF&#x7684;&#x64CD;&#x4F5C;&#x65E5;&#x5FD7;&#xFF0C;&#x53CC;&#x4FDD;&#x9669;&#xFF0C;&#x6570;&#x636E;&#x66F4;&#x5B89;&#x5168;&#xFF01;</p>
<h2 id="&#x5C0F;&#x7ED3;"><a href="#&#x5C0F;&#x7ED3;" class="headerlink" title="&#x5C0F;&#x7ED3;"></a>&#x5C0F;&#x7ED3;</h2><p>Redis&#x51ED;&#x501F;&#x5176;&#x98DE;&#x5FEB;&#x7684;&#x6027;&#x80FD;&#x548C;&#x4E00;&#x5927;&#x7968;&#x529F;&#x80FD;&#xFF0C;&#x5DF2;&#x7ECF;&#x6210;&#x4E86;&#x4E92;&#x8054;&#x7F51;&#x5E94;&#x7528;&#x5FC5;&#x5907;&#x7684;&#x795E;&#x5668;&#x3002;&#x4ECA;&#x5929;&#x54B1;&#x4EEC;&#x4E3B;&#x8981;&#x6252;&#x4E86;Redis&#x7684;&#x51E0;&#x5927;&#x5B58;&#x50A8;&#x7279;&#x6027;&#xFF1A;&#x5185;&#x5B58;&#x5B58;&#x50A8;&#x3001;&#x6570;&#x636E;&#x7C7B;&#x578B;&#x652F;&#x6301;&#x3001;&#x6570;&#x636E;&#x6DD8;&#x6C70;&#x7B56;&#x7565;&#x548C;&#x6570;&#x636E;&#x6301;&#x4E45;&#x5316;&#x3002;</p>
<p>&#x5E0C;&#x671B;&#x901A;&#x8FC7;&#x8FD9;&#x7BC7;&#x6587;&#x7AE0;&#xFF0C;&#x4F60;&#x5BF9;Redis&#x7684;&#x5B58;&#x50A8;&#x65B9;&#x5F0F;&#x6709;&#x4E86;&#x66F4;&#x6DF1;&#x5165;&#x7684;&#x4E86;&#x89E3;&#x3002;Redis&#x7B80;&#x5355;&#x6613;&#x7528;&#xFF0C;&#x4F46;&#x4E5F;&#x6709;&#x5F88;&#x591A;&#x9700;&#x8981;&#x6CE8;&#x610F;&#x7684;&#x5730;&#x65B9;&#xFF0C;&#x6BD4;&#x5982;&#x6570;&#x636E;&#x6DD8;&#x6C70;&#x7B56;&#x7565;&#x7684;&#x9009;&#x62E9;&#xFF0C;&#x6301;&#x4E45;&#x5316;&#x65B9;&#x5F0F;&#x7684;&#x6743;&#x8861;&#x7B49;&#x7B49;&#x3002;</p>
<p>&#x5F53;&#x7136;&#xFF0C;Redis&#x7684;&#x7CBE;&#x5F69;&#x8FDC;&#x4E0D;&#x6B62;&#x8FD9;&#x4E9B;&#xFF0C;&#x5B83;&#x8FD8;&#x6709;&#x5F88;&#x591A;&#x9AD8;&#x7EA7;&#x7279;&#x6027;&#x7B49;&#x7740;&#x4F60;&#x53BB;&#x53D1;&#x73B0;&#xFF0C;&#x6BD4;&#x5982;&#x4E3B;&#x4ECE;&#x590D;&#x5236;&#x3001;&#x54E8;&#x5175;&#x673A;&#x5236;&#x3001;&#x96C6;&#x7FA4;&#x6A21;&#x5F0F;&#x7B49;&#x7B49;&#x3002;&#x8FD9;&#x4E9B;&#x90FD;&#x662F;&#x4F18;&#x79C0;&#x7684;&#x5206;&#x5E03;&#x5F0F;&#x89E3;&#x51B3;&#x65B9;&#x6848;&#xFF0C;&#x80FD;&#x8BA9;&#x4F60;&#x7684;&#x5E94;&#x7528;&#x66F4;&#x7A33;&#x5B9A;&#xFF0C;&#x66F4;&#x9AD8;&#x53EF;&#x7528;&#x3002;</p>
<p>&#x8BA9;&#x54B1;&#x4EEC;&#x4E00;&#x8D77;&#x6F5C;&#x5165;Redis&#x7684;&#x4E16;&#x754C;&#xFF0C;&#x7528;Redis&#x7684;&#x529B;&#x91CF;&#x6765;&#x6B66;&#x88C5;&#x6211;&#x4EEC;&#x7684;&#x5E94;&#x7528;&#x5427;&#xFF01;&#x76F8;&#x4FE1;&#x6709;&#x4E86;Redis&#x8FD9;&#x4E2A;&#x5927;&#x6740;&#x5668;&#xFF0C;&#x4F60;&#x7684;&#x9879;&#x76EE;&#x7EDD;&#x5BF9;&#x80FD;&#x66F4;&#x4E0A;&#x4E00;&#x5C42;&#x697C;&#xFF01;&#x8FD8;&#x7B49;&#x5565;&#xFF0C;&#x5FEB;&#x53BB;&#x64B8;&#x4EE3;&#x7801;&#x5427;&#xFF01;</p>
<p><strong>&#x672C;&#x6587;&#x8F6C;&#x8F7D;&#x81EA;:</strong> <a href="/external_links/0e17bfd3a89e0fc2e19b80dff0b75824.html" target="blank" rel="noopener">&#x6398;&#x91D1;</a></p>
<p><em><a href="https://dev.newban.cn/">&#x5F00;&#x53D1;&#x8005;&#x535A;&#x5BA2; &#x2013; &#x548C;&#x5F00;&#x53D1;&#x76F8;&#x5173;&#x7684; &#x8FD9;&#x91CC;&#x5168;&#x90FD;&#x6709;</a></em></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://dev.newban.cn../../7361984486865403954.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="开发者博客">
      <meta itemprop="description" content>
      <meta itemprop="image" content="../../images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="开发者博客 – IT技术 尽在开发者博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="../../7361984486865403954.html" itemprop="url">使用 CXYTableViewExt 来简化 UITable</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2024-04-26T16:51:29+08:00">
                2024-04-26
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="CXYTableViewExt"><a href="#CXYTableViewExt" class="headerlink" title="CXYTableViewExt"></a><a href="/external_links/e4828377712aa32e3792a17c7de2d610.html" target="blank" rel="noopener">CXYTableViewExt</a></h1><p><a href="/external_links/e4828377712aa32e3792a17c7de2d610.html" target="blank" rel="noopener">CXYTableViewExt</a> &#x662F;&#x7528;&#x6765;&#x7B80;&#x5316; UITableView - Cell &#x914D;&#x7F6E;&#x7684;&#x5E93;&#x3002;&#x7279;&#x522B;&#x662F;&#x5BF9;&#x4E8E;&#x62E5;&#x6709;&#x591A;&#x79CD;&#x7C7B;&#x578B;&#x7684; Cell&#xFF0C;&#x903B;&#x8F91;&#x4E0A;&#x5C06;&#x66F4;&#x52A0;&#x6E05;&#x6670;&#xFF0C;&#x6240;&#x89C1;&#x5373;&#x6240;&#x5F97;&#x3002;</p>
<h4 id="&#x51E0;&#x4E4E;&#x5728;&#x4F60;&#x7528;&#x5230;-UITableView-&#x7684;&#x5730;&#x65B9;&#xFF0C;&#x90FD;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;-CXYTableViewExt-&#x6765;&#x7B80;&#x5316;&#x4EE3;&#x7801;&#x548C;&#x903B;&#x8F91;&#x3002;"><a href="#&#x51E0;&#x4E4E;&#x5728;&#x4F60;&#x7528;&#x5230;-UITableView-&#x7684;&#x5730;&#x65B9;&#xFF0C;&#x90FD;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;-CXYTableViewExt-&#x6765;&#x7B80;&#x5316;&#x4EE3;&#x7801;&#x548C;&#x903B;&#x8F91;&#x3002;" class="headerlink" title="&#x51E0;&#x4E4E;&#x5728;&#x4F60;&#x7528;&#x5230; UITableView &#x7684;&#x5730;&#x65B9;&#xFF0C;&#x90FD;&#x53EF;&#x4EE5;&#x4F7F;&#x7528; CXYTableViewExt &#x6765;&#x7B80;&#x5316;&#x4EE3;&#x7801;&#x548C;&#x903B;&#x8F91;&#x3002;"></a>&#x51E0;&#x4E4E;&#x5728;&#x4F60;&#x7528;&#x5230; UITableView &#x7684;&#x5730;&#x65B9;&#xFF0C;&#x90FD;&#x53EF;&#x4EE5;&#x4F7F;&#x7528; CXYTableViewExt &#x6765;&#x7B80;&#x5316;&#x4EE3;&#x7801;&#x548C;&#x903B;&#x8F91;&#x3002;</h4><h2 id="&#x5F00;&#x59CB;&#x4F7F;&#x7528;"><a href="#&#x5F00;&#x59CB;&#x4F7F;&#x7528;" class="headerlink" title="&#x5F00;&#x59CB;&#x4F7F;&#x7528;"></a>&#x5F00;&#x59CB;&#x4F7F;&#x7528;</h2><h4 id="1&#x3001;&#x7B80;&#x5355;&#x4F7F;&#x7528;&#xFF0C;&#x65E0;&#x9700;&#x8BBE;&#x7F6E;-dataSource-&#x548C;-delegate&#xFF0C;&#x4E5F;&#x4E0D;&#x9700;&#x8981;&#x6CE8;&#x518C;-Cell"><a href="#1&#x3001;&#x7B80;&#x5355;&#x4F7F;&#x7528;&#xFF0C;&#x65E0;&#x9700;&#x8BBE;&#x7F6E;-dataSource-&#x548C;-delegate&#xFF0C;&#x4E5F;&#x4E0D;&#x9700;&#x8981;&#x6CE8;&#x518C;-Cell" class="headerlink" title="1&#x3001;&#x7B80;&#x5355;&#x4F7F;&#x7528;&#xFF0C;&#x65E0;&#x9700;&#x8BBE;&#x7F6E; dataSource &#x548C; delegate&#xFF0C;&#x4E5F;&#x4E0D;&#x9700;&#x8981;&#x6CE8;&#x518C; Cell"></a>1&#x3001;&#x7B80;&#x5355;&#x4F7F;&#x7528;&#xFF0C;&#x65E0;&#x9700;&#x8BBE;&#x7F6E; dataSource &#x548C; delegate&#xFF0C;&#x4E5F;&#x4E0D;&#x9700;&#x8981;&#x6CE8;&#x518C; Cell</h4><p><img src="https://gitee.com/songjianzaina/juejin_p3/raw/master/img/180d5eba84c5f29d9a0747595b653701df89fc75197ad4caeb6204bb742c2ca9" alt><br>&#x5982;&#x9700;&#x5B9E;&#x73B0;&#x4E0A;&#x9762;&#x7684;UI&#x754C;&#x9762;&#xFF1A;</p>
<p>1&#x3001;&#x8BA9; ArrowTextCell &#x5B9E;&#x73B0; CXYTableItemProtocol &#x7684;&#x534F;&#x8BAE;&#xFF0C;<strong>Cell &#x53EF;&#x4EE5;&#x662F;&#x7EAF;&#x4EE3;&#x7801; &#x4E5F;&#x53EF;&#x4EE5;&#x662F; Xib</strong>&#x3002;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">objc&#x590D;&#x5236;&#x4EE3;&#x7801;@interface ArrowTextCell ()&lt;CXYTableItemProtocol&gt;</span><br><span class="line">@end</span><br><span class="line">@implementation ArrowTextCell</span><br><span class="line"></span><br><span class="line">#pragma mark - CXYTableItemProtocol</span><br><span class="line">// &#x914D;&#x7F6E;&#x4F60;&#x7684; Cell data</span><br><span class="line">- (void)configData:(id)data {</span><br><span class="line">    self.title.text = data;</span><br><span class="line">}</span><br></pre></td></tr></table></figure>

<p>2&#x3001;&#x7C7B;&#x4F3C; Masonry block &#x5199;&#x6CD5;&#xFF0C; &#x5185;&#x90E8;&#x4F1A;&#x81EA;&#x52A8;&#x5E2E;&#x4F60;&#x6CE8;&#x518C;Cell&#xFF0C;&#x8BBE;&#x7F6E;&#x9ED8;&#x8BA4;&#x4EE3;&#x7406;&#x5BF9;&#x8C61;&#x548C;&#x6570;&#x636E;&#x6E90;&#x3002;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">objc&#x590D;&#x5236;&#x4EE3;&#x7801;// ViewController.m </span><br><span class="line">- (void)bindViewData {</span><br><span class="line"></span><br><span class="line">    [self.tableView.t makeItems:^(CXYTable * _Nonnull make) {</span><br><span class="line"></span><br><span class="line">        [make addCellClass:ArrowTextCell.class data:@&quot;&#x8BBE;&#x7F6E;&#x9875;&#x793A;&#x4F8B;&quot; didSelectBlock:^(id &#xA0;_Nonnull data, NSIndexPath * _Nonnull indexPath) {</span><br><span class="line">           // &#x5904;&#x7406;&#x70B9;&#x51FB;</span><br><span class="line">        }];</span><br><span class="line"></span><br><span class="line">        [make addCellClass:ArrowTextCell.class data:@&quot;&#x8D44;&#x8BAF;&#x5217;&#x8868;&#x793A;&#x4F8B;&quot; didSelectBlock:^(id &#xA0;_Nonnull data, NSIndexPath * _Nonnull indexPath) {</span><br><span class="line"></span><br><span class="line">        }];</span><br><span class="line"></span><br><span class="line">        [make addCellClass:ArrowTextCell.class data:@&quot;Section Header &amp; Footer &#x793A;&#x4F8B;&quot; didSelectBlock:^(id &#xA0;_Nonnull data, NSIndexPath * _Nonnull indexPath) {</span><br><span class="line"></span><br><span class="line">        }];</span><br><span class="line">    }];</span><br><span class="line"></span><br><span class="line">}</span><br></pre></td></tr></table></figure>

<h4 id="2&#x3001;&#x7C7B;&#x8BBE;&#x7F6E;&#x9875;-delegate-&#x65B9;&#x5F0F;&#x8BA9;-ViewController-&#x54CD;&#x5E94;-Cell-&#x7684;&#x64CD;&#x4F5C;"><a href="#2&#x3001;&#x7C7B;&#x8BBE;&#x7F6E;&#x9875;-delegate-&#x65B9;&#x5F0F;&#x8BA9;-ViewController-&#x54CD;&#x5E94;-Cell-&#x7684;&#x64CD;&#x4F5C;" class="headerlink" title="2&#x3001;&#x7C7B;&#x8BBE;&#x7F6E;&#x9875; - delegate &#x65B9;&#x5F0F;&#x8BA9; ViewController &#x54CD;&#x5E94; Cell &#x7684;&#x64CD;&#x4F5C;"></a>2&#x3001;&#x7C7B;&#x8BBE;&#x7F6E;&#x9875; - delegate &#x65B9;&#x5F0F;&#x8BA9; ViewController &#x54CD;&#x5E94; Cell &#x7684;&#x64CD;&#x4F5C;</h4><p><img src="https://gitee.com/songjianzaina/juejin_p3/raw/master/img/84444c3b751080ebb2ea293859dda7416d16e8cb417c867e808a7d50ac27aae9" alt><br>1&#x3001;&#x6709;&#x65F6;&#x6211;&#x4EEC;&#x9700;&#x8981;&#x54CD;&#x5E94; Cell &#x91CC;&#x7684;&#x4E00;&#x4E9B;&#x52A8;&#x4F5C;&#xFF0C;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x5728;&#x914D;&#x7F6E; Cell &#x65F6;&#xFF0C;&#x7ED9;&#x5B83;&#x8BBE;&#x7F6E;&#x4E00;&#x4E2A;&#x4EE3;&#x7406;&#x5BF9;&#x8C61;(<strong>delegate</strong>)</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">objc&#x590D;&#x5236;&#x4EE3;&#x7801;- (void)addCellClass:(Class)cellClass data:(id)data delegate:(id)delegate</span><br></pre></td></tr></table></figure>

<p>2&#x3001;&#x5728; Cell &#x4E2D;&#x5B9A;&#x4E49;&#x4E00;&#x4E9B;&#x4EE3;&#x7406;&#x5BF9;&#x8C61;( <strong>delegate</strong>)&#x9700;&#x8981;&#x5B9E;&#x73B0;&#x7684;&#x534F;&#x8BAE;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">objc&#x590D;&#x5236;&#x4EE3;&#x7801;@protocol SwitchCellDelegate &lt;NSObject&gt;</span><br><span class="line">- (void)switchCellDelegateSwitchChanged:(id)data;</span><br><span class="line">@end</span><br><span class="line"></span><br><span class="line">@interface SwitchCell ()&lt;CXYTableItemProtocol&gt;</span><br><span class="line">@property (nonatomic, weak) id delegate;</span><br><span class="line">@property (nonatomic, strong) SwitchModel *model;</span><br><span class="line">@end</span><br><span class="line"></span><br><span class="line">@implementation SwitchCell</span><br><span class="line"></span><br><span class="line">- (IBAction)onSwitch:(UISwitch*)sender {</span><br><span class="line">    // &#x5F00;&#x5173;&#x64CD;&#x4F5C;</span><br><span class="line">    if ([self.delegate respondsToSelector:@selector(switchCellDelegateSwitchChanged:)]) {</span><br><span class="line">        [self.delegate switchCellDelegateSwitchChanged:self.model];</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line">#pragma mark - CXYTableItemProtocol</span><br><span class="line">- (void)configData:(SwitchModel*)data indexPath:(NSIndexPath *)indexPath delegate:(id)delegate {</span><br><span class="line">    self.model = data;</span><br><span class="line">    self.delegate = delegate; // &#x63A5;&#x6536;&#x4EE3;&#x7406;&#x5BF9;&#x8C61;</span><br><span class="line">    ...</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line">@end</span><br></pre></td></tr></table></figure>

<p>3&#x3001;&#x8BA9;&#x8FD9;&#x4E2A;&#x4EE3;&#x7406;&#x5BF9;&#x8C61;&#x9075;&#x5FAA;&#x4F60;&#x7684;&#x534F;&#x8BAE;&#xFF0C;&#x4ECE;&#x800C;&#x5C06; Cell &#x7684;&#x52A8;&#x4F5C;&#x4F20;&#x9012;&#x7ED9; delegate &#x54CD;&#x5E94;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">objc&#x590D;&#x5236;&#x4EE3;&#x7801;- (void)bindViewData {</span><br><span class="line"></span><br><span class="line">    [self.tableView.t makeItems:^(CXYTable * _Nonnull make) {</span><br><span class="line">        [make addCellClass:HeadTitleCell.class data:@&quot;&#x901A;&#x77E5;&quot;];</span><br><span class="line">        // delegate: self &#x5B9E;&#x73B0; cell &#x91CC;&#x9762;&#x7684;&#x4EA4;&#x4E92;</span><br><span class="line">        [make addCellClass:SwitchCell.class data:[SwitchModel title:@&quot;&#x7CFB;&#x7EDF;&#x6D88;&#x606F;&#x901A;&#x77E5;&quot; isOn:YES] delegate:self];</span><br><span class="line">        [make addCellClass:SwitchCell.class data:[SwitchModel title:@&quot;&#x901A;&#x77E5;&#x663E;&#x793A;&#x6D88;&#x606F;&#x8BE6;&#x60C5;&quot; isOn:NO] delegate:self];</span><br><span class="line">        [make addCellClass:SwitchCell.class data:[SwitchModel title:@&quot;&#x632F;&#x52A8;&quot; isOn:YES] delegate:self];</span><br><span class="line"></span><br><span class="line">        [make addCellClass:HeadTitleCell.class data:@&quot;&#x63D0;&#x793A;&#x97F3;&quot;];</span><br><span class="line">        [make addCellClass:ArrowTextCell.class data:@&quot;&#x6D88;&#x606F;&#x63D0;&#x793A;&#x97F3;&quot; didSelectBlock:^(id &#xA0;_Nonnull data, NSIndexPath * _Nonnull indexPath) {</span><br><span class="line">            // &#x5904;&#x7406;&#x70B9;&#x51FB;</span><br><span class="line">        }];</span><br><span class="line">        [make addCellClass:ArrowTextCell.class data:@&quot;&#x6765;&#x7535;&#x94C3;&#x58F0;&quot; didSelectBlock:^(id &#xA0;_Nonnull data, NSIndexPath * _Nonnull indexPath) {</span><br><span class="line"></span><br><span class="line">        }];</span><br><span class="line">    }];</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line">#pragma mark - SwitchCellDelegate</span><br><span class="line">- (void)switchCellDelegateSwitchChanged:(SwitchModel*)data {</span><br><span class="line">    data.isOn = !data.isOn;</span><br><span class="line">    NSLog(@&quot;%@ %@&quot;,data.title, @(data.isOn));</span><br><span class="line">}</span><br></pre></td></tr></table></figure>

<h4 id="3&#x3001;&#x5217;&#x8868;-&#x4E0B;&#x62C9;&#x5237;&#x65B0;&#x6216;&#x4E0A;&#x62C9;&#x52A0;&#x8F7D;&#x66F4;&#x591A;"><a href="#3&#x3001;&#x5217;&#x8868;-&#x4E0B;&#x62C9;&#x5237;&#x65B0;&#x6216;&#x4E0A;&#x62C9;&#x52A0;&#x8F7D;&#x66F4;&#x591A;" class="headerlink" title="3&#x3001;&#x5217;&#x8868; - &#x4E0B;&#x62C9;&#x5237;&#x65B0;&#x6216;&#x4E0A;&#x62C9;&#x52A0;&#x8F7D;&#x66F4;&#x591A;"></a>3&#x3001;&#x5217;&#x8868; - &#x4E0B;&#x62C9;&#x5237;&#x65B0;&#x6216;&#x4E0A;&#x62C9;&#x52A0;&#x8F7D;&#x66F4;&#x591A;</h4><p><img src="https://gitee.com/songjianzaina/juejin_p3/raw/master/img/b52e6410da8a52e9adbbf596ebf211efecd0dbb30387f980632978a66d970596" alt><br>&#x6BCF;&#x6B21;&#x4F60;&#x7684;&#x6570;&#x636E;&#x53D8;&#x5316;&#x65F6;&#xFF0C;&#x76F4;&#x63A5;&#x91CD;&#x65B0;&#x7ED1;&#x5B9A;&#x6570;&#x636E;&#x5C31;&#x884C;&#x3002;&#x5982;&#x679C;&#x4F60;&#x89C9;&#x5F97;&#x6027;&#x80FD;&#x6709;&#x5F71;&#x54CD;&#xFF0C;&#x90A3;&#x53EF;&#x4EE5;&#x4F7F;&#x7528; CXYTable.h &#x91CC;&#x7684;&#x4E00;&#x4E9B;&#x63D2;&#x5165;&#x3001;&#x6DFB;&#x52A0;&#x3001;&#x66F4;&#x65B0;&#x3001;&#x5220;&#x9664;&#x65B9;&#x6CD5;&#x6765;&#x5B9E;&#x73B0;&#x66F4;&#x65B0;&#x3002;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">objc&#x590D;&#x5236;&#x4EE3;&#x7801;- (void)requestPage:(NSInteger)page {</span><br><span class="line">    // &#x6A21;&#x62DF;&#x8BF7;&#x6C42;&#xFF0C;&#x5047;&#x6570;&#x636E;</span><br><span class="line">    dispatch_after(dispatch_time(DISPATCH_TIME_NOW, (int64_t)(1 * NSEC_PER_SEC)), dispatch_get_main_queue(), ^{</span><br><span class="line">        NSMutableArray *res = @[].mutableCopy;</span><br><span class="line">        for (NSInteger i=0; i&lt;10; i++) {</span><br><span class="line">            NewsModel *model = [NewsModel new];</span><br><span class="line">            model.title = @&quot;&#x65B0;&#x95FB;&#x6807;&#x9898;&quot;;</span><br><span class="line">            model.desc = @&quot;&#x65B0;&#x95FB;&#x6458;&#x8981;&quot;;</span><br><span class="line">            model.img = @&quot;cover&quot;;</span><br><span class="line">            [res addObject:model];</span><br><span class="line">        }</span><br><span class="line"></span><br><span class="line">        if (page==1) {</span><br><span class="line">            self.list = res;</span><br><span class="line">        } else {</span><br><span class="line">            self.list = [self.list arrayByAddingObjectsFromArray:res];</span><br><span class="line">        }</span><br><span class="line">        self.page = page;</span><br><span class="line">        [self bindViewData];</span><br><span class="line">    });</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line">- (void)bindViewData {</span><br><span class="line">    [self.tableView.t makeItems:^(CXYTable * _Nonnull make) {</span><br><span class="line">        [make addCellClass:NewsCell.class dataList:self.list];</span><br><span class="line">    }];</span><br><span class="line">}</span><br></pre></td></tr></table></figure>

<h4 id="4&#x3001;&#x62E5;&#x6709;-Header-amp-Footer"><a href="#4&#x3001;&#x62E5;&#x6709;-Header-amp-Footer" class="headerlink" title="4&#x3001;&#x62E5;&#x6709; Header &amp; Footer"></a>4&#x3001;&#x62E5;&#x6709; Header &amp; Footer</h4><p><img src="https://gitee.com/songjianzaina/juejin_p3/raw/master/img/a7d8ec1c43f61aababf198fde1087f902e8163279e3f4d83e6a3ab9daaf64ead" alt><br>&#x540C;&#x6837;&#xFF0C;&#x4F60;&#x7684; Header &#x548C; Footer &#x4E5F;&#x9700;&#x8981;&#x5B9E;&#x73B0; CXYTableItemProtocol &#x7684;&#x534F;&#x8BAE;&#x3002;&#x4ECE;&#x914D;&#x7F6E;&#x9879;&#x6765;&#x770B;&#xFF0C;&#x51E0;&#x4E4E;&#x662F;&#x6240;&#x89C1;&#x5373;&#x6240;&#x5F97;&#x7684;&#x3002;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">objc&#x590D;&#x5236;&#x4EE3;&#x7801;- (void)bindViewData {</span><br><span class="line">    NSArray *sectionList1 = @[@&quot;1&quot;,@&quot;2&quot;,@&quot;3&quot;,@&quot;4&quot;,@&quot;5&quot;];</span><br><span class="line"></span><br><span class="line">    [self.tableView.t makeItems:^(CXYTable * _Nonnull make) {</span><br><span class="line">        [make addHeaderItem:Header.class data:@&quot;&#x6211;&#x662F;Header1&quot;];</span><br><span class="line">        [make addCellClass:TextCell.class dataList:sectionList1];</span><br><span class="line">        [make addFooterItem:Footer.class data:@&quot;&#x6211;&#x662F;Footer1&quot;];</span><br><span class="line"></span><br><span class="line">        [make addHeaderItem:Header.class data:@&quot;&#x6211;&#x662F;Header2&quot;];</span><br><span class="line">        [make addCellClass:TextCell.class data:@&quot;text-cell&quot;];</span><br><span class="line">        [make addCellClass:TextCell.class data:@&quot;text-cell&quot;];</span><br><span class="line">        [make addFooterItem:Footer.class data:@&quot;&#x6211;&#x662F;Footer1&quot;];</span><br><span class="line">    }];</span><br><span class="line">}</span><br></pre></td></tr></table></figure>

<h2 id="&#x66F4;&#x591A;&#x64CD;&#x4F5C;"><a href="#&#x66F4;&#x591A;&#x64CD;&#x4F5C;" class="headerlink" title="&#x66F4;&#x591A;&#x64CD;&#x4F5C;"></a>&#x66F4;&#x591A;&#x64CD;&#x4F5C;</h2><p>&#x5728; CXYTable.h &#x6587;&#x4EF6;&#x91CC;&#x9762;&#x63D0;&#x4F9B;&#x4E86;&#x5F88;&#x591A;&#x64CD;&#x4F5C;&#x65B9;&#x6CD5;&#xFF1A;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line">objc&#x590D;&#x5236;&#x4EE3;&#x7801;// &#x53EF;&#x4F7F;&#x7528;&#x81EA;&#x5B9A;&#x4E49;&#x7684;</span><br><span class="line">- (void)configDataSource:(id&lt;UITableViewDelegate,UITableViewDataSource&gt;)dataSource;</span><br><span class="line"></span><br><span class="line">// &#x9ED8;&#x8BA4;&#x7684;&#x6570;&#x636E;&#x6E90;&#x548C;&#x4EE3;&#x7406;</span><br><span class="line">- (void)useDefaultDataSource;</span><br><span class="line">// &#x4F7F;&#x7528;&#x9ED8;&#x8BA4;&#x7684;&#x6570;&#x636E;&#x6E90;&#x548C;&#x4EE3;&#x7406;&#xFF0C;cell&#x88AB;&#x70B9;&#x51FB;&#x65F6;&#x8C03;&#x7528;</span><br><span class="line">- (void)defaultDidSelectCell:(void(^)(UITableView *tableView, NSIndexPath *indexPath))didSelect;</span><br><span class="line"></span><br><span class="line">// &#x914D;&#x7F6E;item</span><br><span class="line">- (void)makeItems:(void(NS_NOESCAPE ^)(CXYTable *make))block;</span><br><span class="line">- (void)updateItems:(void(NS_NOESCAPE ^)(CXYTable *make, UITableView *tableView))block;</span><br><span class="line">- (void)removeItems:(void(NS_NOESCAPE ^)(CXYTable *make, UITableView *tableView))block;</span><br><span class="line"></span><br><span class="line">/**</span><br><span class="line"> &#x6DFB;&#x52A0;item</span><br><span class="line"> */</span><br><span class="line">- (void)addCellClass:(Class)cellClass data:(id _Nullable)data;</span><br><span class="line">...</span><br><span class="line"></span><br><span class="line">/**</span><br><span class="line"> &#x63D2;&#x5165;item</span><br><span class="line"> */</span><br><span class="line">- (void)insertCellItem:(Class)cellClass data:(id _Nullable)data indexPath:(NSIndexPath *)indexPath;</span><br><span class="line">...</span><br><span class="line"></span><br><span class="line">/**</span><br><span class="line">  &#x5220;&#x9664; item</span><br><span class="line"> */</span><br><span class="line">- (void)removeCellItem:(NSIndexPath *)indexPath;</span><br><span class="line">...</span><br><span class="line"></span><br><span class="line">/**</span><br><span class="line"> &#x83B7;&#x53D6;item &#x6570;&#x636E;</span><br><span class="line"> */</span><br><span class="line">// header item</span><br><span class="line">- (id)headerItemDataInSection:(NSUInteger)section;</span><br><span class="line">...</span><br><span class="line"></span><br><span class="line">// footer item</span><br><span class="line">- (id)footerItemDataInSection:(NSUInteger)section;</span><br><span class="line">...</span><br><span class="line"></span><br><span class="line">// cell item</span><br><span class="line">- (id)cellItemDataAtIndexPath:(NSIndexPath*)indexPath;</span><br><span class="line">...</span><br></pre></td></tr></table></figure>

<blockquote>
<p>Tip: &#x6709;&#x4E9B;&#x7B2C;&#x4E09;&#x65B9;&#x7EDF;&#x8BA1;SDK&#x53EF;&#x80FD;&#x4F1A; hook UITableView&#xFF0C;&#x9ED8;&#x8BA4;&#x7ED9; tableView.delegate &#x4E00;&#x4E2A;&#x5BF9;&#x8C61;&#x3002;&#x8FD9;&#x4F1A;&#x5F71;&#x54CD;&#x5230; CXYTableViewExt &#x91CC;&#x5185;&#x90E8;&#x8BBE;&#x7F6E;&#x9ED8;&#x8BA4;&#x6570;&#x636E;&#x6E90;&#x5224;&#x65AD;&#xFF0C;&#x8FD9;&#x65F6;&#xFF0C;&#x4F60;&#x9700;&#x8981;&#x624B;&#x52A8;&#x8BBE;&#x7F6E;&#x9ED8;&#x8BA4;&#x7684;&#x6570;&#x636E;&#x6E90;&#x548C;&#x4EE3;&#x7406;&#x3002;</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">objc&#x590D;&#x5236;&#x4EE3;&#x7801;[self.tableView useDefaultDataSource];</span><br></pre></td></tr></table></figure>

<h2 id="&#x6E90;&#x7801;"><a href="#&#x6E90;&#x7801;" class="headerlink" title="&#x6E90;&#x7801;:"></a>&#x6E90;&#x7801;:</h2><p>OC&#x7248;&#xFF1A; <a href="/external_links/e4828377712aa32e3792a17c7de2d610.html" target="blank" rel="noopener">CXYTableViewExt-OC</a></p>
<p>Swift&#x7248;&#xFF1A;<a href="/external_links/6cf61068f788bee9441cd3d5b19cbbb7.html" target="blank" rel="noopener">CXYTableViewExt-Swift</a></p>
<p><strong>&#x672C;&#x6587;&#x8F6C;&#x8F7D;&#x81EA;:</strong> <a href="/external_links/57a76b33a52d6f121b0ef04066d6f1e2.html" target="blank" rel="noopener">&#x6398;&#x91D1;</a></p>
<p><em><a href="https://dev.newban.cn/">&#x5F00;&#x53D1;&#x8005;&#x535A;&#x5BA2; &#x2013; &#x548C;&#x5F00;&#x53D1;&#x76F8;&#x5173;&#x7684; &#x8FD9;&#x91CC;&#x5168;&#x90FD;&#x6709;</a></em></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://dev.newban.cn../../7361934843209269248.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="开发者博客">
      <meta itemprop="description" content>
      <meta itemprop="image" content="../../images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="开发者博客 – IT技术 尽在开发者博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="../../7361934843209269248.html" itemprop="url">Spring Boot项目实战：消息丢失和重复消费问题</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2024-04-26T16:48:47+08:00">
                2024-04-26
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>&#x4F60;&#x597D;&#xFF0C;&#x6211;&#x662F;&#x7530;&#x54E5;</p>
<p>&#x5728;&#x6211;&#x7684;&#x5145;&#x7535;&#x6869;&#x9879;&#x76EE;&#x4E2D;&#xFF0C;&#x6709;&#x4E2A;&#x7528;&#x6237;&#x79EF;&#x5206;&#x6A21;&#x5757;&#xFF0C;&#x539F;&#x578B;&#x56FE;&#x5982;&#x4E0B;&#xFF1A;</p>
<p><img src="https://gitee.com/songjianzaina/juejin_p3/raw/master/img/477251fc5728940b21bad5aa8993e9be7e975012770335d188d5af59ccaf23ad" alt="&#x56FE;&#x7247;"></p>
<p>&#x6211;&#x7684;&#x79EF;&#x5206;</p>
<p>&#x4E0B;&#x9762;&#x6765;&#x804A;&#x804A;&#x8FD9;&#x4E2A;&#x9879;&#x76EE;&#x4E2D;&#xFF0C;&#x79EF;&#x5206;&#x589E;&#x52A0;&#x573A;&#x666F;&#x3002;</p>
<ul>
<li>&#x7528;&#x6237;&#x5145;&#x503C;&#x5B8C;&#x6210;&#x540E;&#xFF0C;&#x8D60;&#x9001;&#x79EF;&#x5206;&#xFF0C;&#x6BD4;&#x5982;&#xFF1A;&#x5145;100&#x5143;&#xFF0C;&#x7ED9;&#x7528;&#x6237;&#x79EF;&#x5206;&#x65B0;&#x589E;100&#x4E2A;&#x3002;</li>
<li>&#x7528;&#x6237;&#x5145;&#x7535;&#x652F;&#x4ED8;&#x5B8C;&#x6210;&#xFF08;&#x975E;&#x4F59;&#x989D;&#x652F;&#x4ED8;&#xFF09;&#xFF0C;&#x8D60;&#x9001;&#x79EF;&#x5206;&#x3002;</li>
<li>&#x7528;&#x6237;&#x9080;&#x8BF7;&#x65B0;&#x4EBA;&#x6CE8;&#x518C;&#xFF0C;&#x8D60;&#x9001;&#x79EF;&#x5206;</li>
<li>&#x65B0;&#x7528;&#x6237;&#x8BA4;&#x8BC1;&#x5B8C;&#x6210;&#xFF0C;&#x8D60;&#x9001;&#x79EF;&#x5206;</li>
<li>&#x2026;.</li>
</ul>
<p>&#x5173;&#x4E8E;&#x79EF;&#x5206;&#x589E;&#x52A0;&#x7B56;&#x7565;&#xFF0C;&#x57FA;&#x672C;&#x4E0A;&#x90FD;&#x662F;&#x7531;&#x8FD0;&#x8425;&#x6765;&#x5B9A;&#xFF0C;&#x603B;&#x4E4B;&#xFF0C;&#x5F88;&#x591A;&#x9879;&#x76EE;&#x4E2D;&#x90FD;&#x6709;&#x8FD9;&#x4E48;&#x4E2A;&#x529F;&#x80FD;&#x3002;</p>
<p>&#x5E38;&#x89C4;&#x7CFB;&#x7EDF;&#x5C31;&#x662F;&#x7528;&#x6237;&#x4E0A;&#x9762;&#x7684;&#x884C;&#x4E3A;&#x4F34;&#x968F;&#x7740;&#x7528;&#x6237;&#x79EF;&#x5206;&#x5904;&#x7406;&#x5B8C;&#x6210;&#xFF08;&#x5728;&#x540C;&#x4E00;&#x4E2A;&#x4E8B;&#x7269;&#x91CC;&#xFF09;&#xFF0C;&#x4F46;&#xFF0C;&#x54B1;&#x4EEC;&#x4E3A;&#x4E86;&#x63D0;&#x5347;&#x7CFB;&#x7EDF;&#x6027;&#x80FD;&#x548C;&#x7528;&#x6237;&#x4F53;&#x9A8C;&#xFF0C;&#x6211;&#x4EEC;&#x901A;&#x5E38;&#x628A;&#x79EF;&#x5206;&#x589E;&#x52A0;&#x8FD9;&#x7C7B;&#x4E1A;&#x52A1;&#x91C7;&#x7528;&#x5F02;&#x6B65;&#x65B9;&#x5F0F;&#x53BB;&#x5B9E;&#x73B0;&#x3002;</p>
<blockquote>
<p>&#x6BD4;&#x5982;&#xFF1A;&#x7EBF;&#x7A0B;&#x6C60;&#x3001;&#x5404;&#x79CD;&#x6D88;&#x606F;&#x961F;&#x5217;&#x7B49;</p>
</blockquote>
<p>&#x5728;&#x6211;&#x4EEC;&#x8FD9;&#x4E2A;&#x7248;&#x672C;&#x4E2D;&#xFF0C;&#x91C7;&#x7528;&#x7684;&#x662F;RabbitMQ&#x6D88;&#x606F;&#x961F;&#x5217;&#x6765;&#x5B9E;&#x73B0;&#x7684;&#x3002;</p>
<h2 id="&#x95EE;&#x9898;"><a href="#&#x95EE;&#x9898;" class="headerlink" title="&#x95EE;&#x9898;"></a>&#x95EE;&#x9898;</h2><p>&#x65E2;&#x7136;&#x4F7F;&#x7528;RabbitMQ&#xFF0C;&#x90A3;&#x6211;&#x4EEC;&#x5C31;&#x4E0D;&#x5F97;&#x4E0D;&#x8003;&#x8651;&#x5173;&#x4E8E;&#x6D88;&#x606F;&#x7684;&#x95EE;&#x9898;&#xFF1A;</p>
<ul>
<li>&#x6D88;&#x606F;&#x4E22;&#x5931;&#x95EE;&#x9898;</li>
<li>&#x91CD;&#x590D;&#x6D88;&#x8D39;&#x95EE;&#x9898;</li>
</ul>
<h4 id="&#x6D88;&#x606F;&#x4E22;&#x5931;&#x95EE;&#x9898;"><a href="#&#x6D88;&#x606F;&#x4E22;&#x5931;&#x95EE;&#x9898;" class="headerlink" title="&#x6D88;&#x606F;&#x4E22;&#x5931;&#x95EE;&#x9898;"></a>&#x6D88;&#x606F;&#x4E22;&#x5931;&#x95EE;&#x9898;</h4><p>&#x8FD9;&#x91CC;&#x5BF9;&#x7528;&#x6237;&#x79EF;&#x5206;&#x589E;&#x52A0;&#xFF0C;&#x5982;&#x679C;&#x628A;&#x6D88;&#x606F;&#x641E;&#x4E22;&#x4E86;&#xFF0C;&#x7528;&#x6237;&#x79EF;&#x5206;&#x6700;&#x7EC8;&#x5E76;&#x4E0D;&#x4F1A;&#x5F97;&#x5230;&#x589E;&#x52A0;&#xFF0C;&#x90A3;&#x7528;&#x6237;&#x80AF;&#x5B9A;&#x4E0D;&#x5E72;&#x4E86;&#xFF0C;&#x4E3A;&#x4E86;&#x9632;&#x6B62;&#x8FD9;&#x7C7B;&#x95EE;&#x9898;&#x51FA;&#x73B0;&#xFF0C;&#x6211;&#x4EEC;&#x91C7;&#x7528;&#x4E0B;&#x9762;&#x7684;&#x89E3;&#x51B3;&#x65B9;&#x6848;&#x3002;</p>
<p>1&#xFF1A;&#x6211;&#x4EEC;&#x91C7;&#x7528;c<strong>onfirm&#x6A21;&#x5F0F;+&#x6301;&#x4E45;&#x5316;+&#x624B;&#x52A8;ack</strong></p>
<p>2&#xFF1A;&#x6D88;&#x606F;&#x4E22;&#x5931;&#x79CD;&#x9E3D;&#x95EE;&#x9898;&#xFF1A;&#x6D88;&#x606F;&#x53D1;&#x9001;&#x5931;&#x8D25;&#xFF0C;&#x6211;&#x4EEC;&#x91C7;&#x7528;&#x5931;&#x8D25;<strong>&#x6D88;&#x606F;&#x8BB0;&#x5F55;&#x8868;</strong></p>
<p>3&#xFF1A;<strong>&#x5B9A;&#x65F6;&#x4EFB;&#x52A1;</strong>&#x8F6E;&#x8BAD;&#x5931;&#x8D25;&#x6D88;&#x606F;&#x8BB0;&#x5F55;&#xFF0C;&#x518D;&#x6B21;&#x53D1;&#x9001;</p>
<blockquote>
<p>&#x8FD9;&#x91CC;&#x4E3A;&#x4E86;&#x9632;&#x6B62;&#x591A;&#x6B21;&#x91CD;&#x8BD5;&#x95EE;&#x9898;&#xFF0C;&#x6240;&#x4EE5;&#x8BBE;&#x7F6E;&#x4E00;&#x4E2A;&#x91CD;&#x8BD5;&#x4E0A;&#x9650;&#xFF0C;&#x5E76;&#x52A0;&#x5165;&#x8B66;&#x544A;&#xFF08;&#x6BD4;&#x5982;&#x4E00;&#x6761;&#x6D88;&#x606F;&#x6700;&#x591A;&#x91CD;&#x53D1;5&#x6B21;&#xFF0C;&#x4E00;&#x65E6;&#x5230;5&#x6B21;&#x4E86;&#xFF0C;&#x5C31;&#x7ED9;&#x8FD0;&#x7EF4;/&#x5F00;&#x53D1;/&#x6D4B;&#x8BD5;&#x53D1;&#x9001;&#x90AE;&#x4EF6;&#x8B66;&#x544A;&#xFF09;&#x3002;</p>
</blockquote>
<h4 id="&#x91CD;&#x590D;&#x6D88;&#x8D39;&#x95EE;&#x9898;"><a href="#&#x91CD;&#x590D;&#x6D88;&#x8D39;&#x95EE;&#x9898;" class="headerlink" title="&#x91CD;&#x590D;&#x6D88;&#x8D39;&#x95EE;&#x9898;"></a>&#x91CD;&#x590D;&#x6D88;&#x8D39;&#x95EE;&#x9898;</h4><p>&#x8FD9;&#x91CC;&#x662F;&#x5BF9;&#x7528;&#x6237;&#x79EF;&#x5206;&#x589E;&#x52A0;&#xFF0C;&#x6240;&#x4EE5;&#xFF0C;&#x7EDD;&#x5BF9;&#x4E0D;&#x80FD;&#x91CD;&#x590D;&#x6D88;&#x8D39;&#xFF0C;&#x4E0D;&#x7136;&#x8FD9;&#x6837;&#x4F1A;&#x5BFC;&#x81F4;&#x7528;&#x6237;&#x79EF;&#x5206;&#x66B4;&#x589E;&#xFF0C;&#x6570;&#x636E;&#x4F1A;&#x51FA;&#x73B0;&#x4E00;&#x81F4;&#x6027;&#x95EE;&#x9898;&#x3002;&#x89E3;&#x51B3;&#xFF1A;</p>
<p>1&#xFF1A;&#x6BCF;&#x4E2A;&#x6D88;&#x606F;&#x6709;&#x4E00;&#x4E2A;&#x552F;&#x4E00;&#x7684;reqId&#xFF0C;reqId=<strong>&#x4E1A;&#x52A1;&#x524D;&#x7F00;+UUID+&#x5E74;&#x6708;&#x65E5;&#x65F6;&#x5206;&#x79D2;&#x6BEB;&#x79D2;&#x7684;&#x65F6;&#x95F4;&#x6233;</strong></p>
<p>2&#xFF1A;&#x5728;&#x5BF9;&#x6BD4;&#x662F;&#x5426;&#x91CD;&#x590D;&#x6D88;&#x8D39;&#x4E4B;&#x524D;&#xFF0C;&#x5BF9;&#x7528;&#x6237;&#x52A0;&#x4E0A;&#x5206;&#x5E03;&#x5F0F;&#x9501;&#xFF0C;key=&#x56FA;&#x5B9A;&#x7528;&#x6237;&#x5206;&#x5E03;&#x5F0F;&#x9501;&#x524D;&#x7F00;+userId</p>
<h3 id="&#x6574;&#x4F53;&#x6D41;&#x7A0B;&#x56FE;"><a href="#&#x6574;&#x4F53;&#x6D41;&#x7A0B;&#x56FE;" class="headerlink" title="&#x6574;&#x4F53;&#x6D41;&#x7A0B;&#x56FE;"></a>&#x6574;&#x4F53;&#x6D41;&#x7A0B;&#x56FE;</h3><p>&#x6807;&#x914D;&#x7248;&#xFF1A;</p>
<p><img src="https://gitee.com/songjianzaina/juejin_p3/raw/master/img/28d34002e32b89e5db30cfc8d35584c457dad0facb9945981e8c729be87e8ccb" alt="&#x56FE;&#x7247;"></p>
<p>&#x6807;&#x914D;&#x7248;</p>
<p>&#x4E3A;&#x4E86;&#x66F4;&#x597D;&#x5730;&#x76D1;&#x63A7;&#x6D88;&#x606F;&#x53D1;&#x9001;&#x5931;&#x8D25;&#x95EE;&#x9898;&#xFF0C;&#x6211;&#x4EEC;&#x8FD8;&#x53EF;&#x4EE5;&#x5BF9;&#x6807;&#x914D;&#x7248;&#x8FDB;&#x884C;&#x5347;&#x7EA7;&#x3002;</p>
<p><img src="https://gitee.com/songjianzaina/juejin_p3/raw/master/img/e29036a27ba92f9057a0ace8c0b98016cc37fa7ac59a2d72c4a79b960b04c244" alt="&#x56FE;&#x7247;"></p>
<p>&#x5347;&#x7EA7;&#x7248;</p>
<h3 id="&#x5176;&#x4ED6;&#x95EE;&#x9898;"><a href="#&#x5176;&#x4ED6;&#x95EE;&#x9898;" class="headerlink" title="&#x5176;&#x4ED6;&#x95EE;&#x9898;"></a>&#x5176;&#x4ED6;&#x95EE;&#x9898;</h3><p>&#x6211;&#x4EEC;&#x4E0A;&#x9762;&#x8BF4;&#x4E86;&#xFF0C;&#x4E3A;&#x4E86;&#x9632;&#x6B62;&#x6D88;&#x606F;&#x4E22;&#x5931;&#xFF0C;&#x91C7;&#x7528;<strong>confirm&#x6A21;&#x5F0F;+&#x6301;&#x4E45;&#x5316;+&#x624B;&#x52A8;ack</strong></p>
<p>&#x4F46;&#xFF0C;&#x5B9E;&#x73B0;&#x8D77;&#x6765;&#x5E76;&#x975E;&#x90A3;&#x4E48;&#x7B80;&#x5355;&#xFF0C;&#x5982;&#x679C;&#x6CA1;&#x6709;&#x505A;&#x8FC7;&#xFF0C;&#x5F88;&#x591A;&#x4E1C;&#x897F;&#x662F;&#x65E0;&#x6CD5;&#x4F53;&#x4F1A;&#x5230;&#x7684;&#x3002;</p>
<p>&#x5728;&#x4F7F;&#x7528;confirm&#x6A21;&#x5F0F;&#x65F6;&#xFF0C;&#x65B0;&#x7684;&#x95EE;&#x9898;&#x6765;&#x4E86;&#x3002;</p>
<p><img src="https://gitee.com/songjianzaina/juejin_p3/raw/master/img/015dad603d78ee2154738df105d1b9acb19c41c8534e4153af51938848e1e9fe" alt="&#x56FE;&#x7247;"></p>
<p>&#x95EE;&#x9898;</p>
<p>&#x6211;&#x4EEC;Spring&#x4E2D;&#xFF0C;&#x4E00;&#x4E2A;Bean&#x9ED8;&#x8BA4;&#x662F;&#x5355;&#x5217;&#x7684;&#xFF0C;&#x8FD9;&#x6837;&#x7684;&#x8BDD;&#x4F1A;&#x9020;&#x6210;&#x4E00;&#x4E2A;RabbitMQTemplate&#x53EA;&#x80FD;&#x7ED1;&#x5B9A;&#x4E00;&#x4E2A;confirm&#xFF0C;&#x8FD9;&#x5C31;&#x4E0D;&#x5BF9;&#x4E86;&#xFF0C;&#x6211;&#x4EEC;&#x9700;&#x8981;RabbitMQTemplate&#x4E0D;&#x53D7;Spring&#x8FD9;&#x4E2A;&#x5F71;&#x54CD;&#xFF0C;&#x5F88;&#x591A;&#x4EBA;&#x7B2C;&#x4E00;&#x5370;&#x8C61;&#x60F3;&#x5230;&#x7684;&#x5C31;&#x662F;&#x91C7;&#x7528;&#x539F;&#x578B;&#x6A21;&#x5F0F;&#x3002;&#x4E5F;&#x5C31;&#x662F;&#x5728;bean&#x4E0A;&#x6DFB;&#x52A0;&#x6CE8;&#x89E3;&#xFF1A;<strong>@Scope(&#x201C;prototype&#x201D;)</strong> &#x4F46;&#xFF0C;&#x95EE;&#x9898;&#x6765;&#x4E86;&#xFF0C;&#x6BD4;&#x5982;&#x5728;&#x4E00;&#x4E2A;producer bean&#x91CC;&#x6CE8;&#x5165;RabbitMQTemplate&#xFF0C;&#x4ED6;&#x6700;&#x7EC8;&#x8FD8;&#x662F;&#x8BA4;&#x4E3A;&#x4F60;&#x8FD9;&#x4E2A;RabbitMQTemplate&#x662F;&#x5355;&#x5217;&#xFF0C;&#x53C8;&#x548C;&#x4E0A;&#x9762;&#x539F;&#x578B;&#x8FDD;&#x80CC;&#x4E86;&#xFF0C;&#x7F51;&#x4E0A;&#x5F88;&#x591A;&#x529E;&#x6CD5;&#x662F;&#x7ED9;&#x8FD9;&#x4E2A;producer&#x4E5F;&#x641E;&#x6210;&#x539F;&#x578B;&#x6A21;&#x5F0F;&#x3002;</p>
<p>&#x8FD9;&#x4E2A;&#x786E;&#x5B9E;&#x80FD;&#x89E3;&#x51B3;&#x8FD9;&#x4E2A;&#x95EE;&#x9898;&#x3002;</p>
<blockquote>
<p>&#x8BF4;&#x767D;&#x4E86;&#x5C31;&#x662F; &#x4ECE;&#x8BF7;&#x6C42;&#x5F00;&#x59CB;&#x7684;bean&#x5F00;&#x59CB;&#x5230;&#x6700;&#x540E;&#x53D1;&#x9001;&#x6D88;&#x606F;&#xFF0C;&#x8FD9;&#x4E2A;&#x8FC7;&#x7A0B;&#x7684;bean&#x8981;&#x90FD;&#x662F;&#x539F;&#x578B;&#x6A21;&#x5F0F;&#x624D;&#x884C;&#x3002;</p>
<p>&#x6BD4;&#x5982;&#xFF1A;controller&#x2013;service&#x2013;producer</p>
</blockquote>
<p>&#x6316;&#x4E86;&#x4E2A;&#x86D0;&#x86D0;&#xFF0C;&#x95EE;&#x9898;&#x53C8;&#x6765;&#x4E86;&#xFF0C;&#x9879;&#x76EE;&#x4E2D;&#x5B9A;&#x65F6;&#x4EFB;&#x52A1;&#x91C7;&#x7528;&#x7684;&#x662F;<strong>xxl-job</strong>&#xFF0C;&#x5B83;&#x7684;&#x6BCF;&#x4E2A;job&#x90FD;&#x5FC5;&#x987B;&#x662F;&#x5355;&#x5217;&#x7684;&#xFF0C;&#x4E0A;&#x9762;&#x7684;&#x529E;&#x6CD5;&#x53C8;&#x4E0D;&#x884C;&#x4E86;&#x3002;</p>
<blockquote>
<p>&#x7EDD;&#x62DB;&#xFF1A;&#x7528;Spring&#x4E2D;&#x7684;ApplicationContext**&#x7684;getBean&#x65B9;&#x6CD5;&#x76F4;&#x63A5;&#x83B7;&#x53D6;&#x5BF9;&#x5E94;&#x7684;Bean&#x5C31;&#x4E0D;&#x5B58;&#x5728;&#x95EE;&#x9898;&#x3002;</p>
</blockquote>
<p><strong>&#x8FD9;&#x91CC;&#x6709;&#x70B9;&#x7ED5;&#x54C8;&#xFF0C;&#x8BF4;&#x767D;&#x4E86;&#x5C31;&#x662F;&#x5FC5;&#x987B;&#x4F7F;&#x7528;&#x539F;&#x578B;&#xFF0C;&#x4E0D;&#x80FD;&#x4F7F;&#x7528;&#x5355;&#x4F8B;&#x3002;</strong></p>
<h3 id="&#x6838;&#x5FC3;&#x4EE3;&#x7801;"><a href="#&#x6838;&#x5FC3;&#x4EE3;&#x7801;" class="headerlink" title="&#x6838;&#x5FC3;&#x4EE3;&#x7801;"></a>&#x6838;&#x5FC3;&#x4EE3;&#x7801;</h3><p>&#x5B9A;&#x4E49;&#x539F;&#x578B;&#x7684;rabbitTemplate&#x3002;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">less&#x590D;&#x5236;&#x4EE3;&#x7801;@Configuration</span><br><span class="line">public&#xA0;class&#xA0;RabbitConfig&#xA0;{</span><br><span class="line">&#xA0;&#xA0;&#xA0;&#xA0;//&#x7701;&#x7565;&#x90E8;&#x5206;&#x975E;&#x6838;&#x5FC3;&#x4EE3;&#x7801;</span><br><span class="line">&#xA0;&#xA0;&#xA0;&#xA0;@Bean</span><br><span class="line">&#xA0;&#xA0;&#xA0;&#xA0;@Scope(&quot;prototype&quot;)</span><br><span class="line">&#xA0;&#xA0;&#xA0;&#xA0;public&#xA0;RabbitTemplate&#xA0;rabbitTemplate(ConnectionFactory&#xA0;connectionFactory)&#xA0;{</span><br><span class="line">&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;RabbitTemplate&#xA0;rabbitTemplate&#xA0;=&#xA0;new&#xA0;RabbitTemplate();</span><br><span class="line">&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;rabbitTemplate.setConnectionFactory(connectionFactory);&#xA0;</span><br><span class="line">&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;rabbitTemplate.setMandatory(true);</span><br><span class="line">&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;return&#xA0;rabbitTemplate;</span><br><span class="line">&#xA0;&#xA0;&#xA0;&#xA0;}</span><br><span class="line">}</span><br></pre></td></tr></table></figure>

<p>confirm&#x6A21;&#x5F0F;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line">scss&#x590D;&#x5236;&#x4EE3;&#x7801;@Component</span><br><span class="line">public&#xA0;class&#xA0;UserPointProducer&#xA0;{&#xA0;</span><br><span class="line">&#xA0;&#xA0;&#xA0;&#xA0;@Resource</span><br><span class="line">&#xA0;&#xA0;&#xA0;&#xA0;private&#xA0;RetryMessageMapper&#xA0;chargeUserMapper;</span><br><span class="line"></span><br><span class="line">&#xA0;&#xA0;&#xA0;&#xA0;public&#xA0;void&#xA0;sendMessage(String&#xA0;message)&#xA0;{</span><br><span class="line">&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;RabbitTemplate&#xA0;rabbitTemplate&#xA0;=&#xA0;ApplicationContextFactory.getBean(RabbitTemplate.class);</span><br><span class="line">&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;CorrelationData&#xA0;correlationId&#xA0;=&#xA0;new&#xA0;CorrelationData(UUID.randomUUID().toString());</span><br><span class="line">&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;rabbitTemplate.setConfirmCallback((correlationData,&#xA0;ack,&#xA0;cause)&#xA0;-&gt;&#xA0;{</span><br><span class="line">&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;if&#xA0;(ack)&#xA0;{</span><br><span class="line">&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;log.info(&quot;UserPointConfirm ConfirmCallback &#x5173;&#x8054;&#x6570;&#x636E;&#xFF1A;{},&#x6295;&#x9012;&#x6210;&#x529F;,&#x786E;&#x8BA4;&#x60C5;&#x51B5;&#xFF1A;{}&quot;,&#xA0;correlationData,&#xA0;ack);</span><br><span class="line">&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;}&#xA0;else&#xA0;{</span><br><span class="line">&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;RetryMessage&#xA0;retryMessage&#xA0;=&#xA0;new&#xA0;RetryMessage();</span><br><span class="line">&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;retryMessage.setContent(message);</span><br><span class="line">&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;retryMessage.setRetry(5);</span><br><span class="line">&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;retryMessage.setCreateTime(new&#xA0;Date());</span><br><span class="line">&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;retryMessage.setStatus(0);</span><br><span class="line">&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;retryMessage.setRetriedTimes(0);</span><br><span class="line">&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;retryMessage.setType(RabbitMQConstantEnum.USER_POINT.getType());</span><br><span class="line">&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;chargeUserMapper.insert(retryMessage);</span><br><span class="line">&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;log.info(&quot;UserPointConfirm ConfirmCallback &#x5173;&#x8054;&#x6570;&#x636E;&#xFF1A;{},&#x6295;&#x9012;&#x5931;&#x8D25;,&#x786E;&#x8BA4;&#x60C5;&#x51B5;&#xFF1A;{}&#xFF0C;&#x539F;&#x56E0;&#xFF1A;{}&quot;,&#xA0;correlationData,&#xA0;ack,&#xA0;cause);</span><br><span class="line">&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;}</span><br><span class="line">&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;});</span><br><span class="line">&#xA0;</span><br><span class="line">&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;//&#x540E;&#x9762;+1&#xA0;&#x4E3B;&#x8981;&#x662F;&#x4E3A;&#x4E86;&#x63A9;&#x9970;&#x6D88;&#x606F;&#x53D1;&#x9001;&#x5931;&#x8D25;</span><br><span class="line">&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;rabbitTemplate.convertAndSend(RabbitMQConstantEnum.USER_POINT.getExchange()+&quot;1&quot;</span><br><span class="line">&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;,&#xA0;RabbitMQConstantEnum.USER_POINT.getRoutingKey(),&#xA0;message,&#xA0;message1&#xA0;-&gt;&#xA0;{</span><br><span class="line">&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;message1.getMessageProperties().setDeliveryMode(MessageDeliveryMode.PERSISTENT);&#xA0;//&#xA0;&#x8BBE;&#x7F6E;&#x6D88;&#x606F;&#x6301;&#x4E45;&#x5316;</span><br><span class="line">&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;return&#xA0;message1;</span><br><span class="line">&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;},&#xA0;correlationId);</span><br><span class="line">&#xA0;&#xA0;&#xA0;&#xA0;}</span><br><span class="line">}</span><br></pre></td></tr></table></figure>

<p>&#x4E0B;&#x9762;&#x6765;&#x5199;&#x4E2A;&#x6D4B;&#x8BD5;&#x53D1;&#x9001;&#x6848;&#x4F8B;&#xFF1A;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">typescript&#x590D;&#x5236;&#x4EE3;&#x7801;/**</span><br><span class="line">&#xA0;*&#xA0;{@code&#xA0;@description:}&#xA0;&#x6D4B;&#x8BD5;&#x6848;&#x4F8B;</span><br><span class="line">&#xA0;*</span><br><span class="line">&#xA0;*&#xA0;@author&#xA0;tianwc &#x516C;&#x4F17;&#x53F7;&#xFF1A;Java&#x540E;&#x7AEF;&#x6280;&#x672F;&#x5168;&#x6808;</span><br><span class="line">&#xA0;*&#xA0;&#x5728;&#x7EBF;&#x5237;&#x9898; 1200+java&#x9762;&#x8BD5;&#x9898;&#x548C;1000+&#x7BC7;&#x6280;&#x672F;&#x6587;&#x7AE0;&#xFF1A;https://woaijava.cc/</span><br><span class="line">&#xA0;*&#xA0;{@code&#xA0;@date:}&#xA0;2024-03-24&#xA0;9:19</span><br><span class="line">&#xA0;*&#xA0;{@code&#xA0;@version:}&#xA0;1.0</span><br><span class="line">&#xA0;*/</span><br><span class="line">@GetMapping(&quot;/send&quot;)</span><br><span class="line">public&#xA0;void&#xA0;send()&#xA0;{</span><br><span class="line">&#xA0;&#xA0;&#xA0;&#xA0;UserPointMessage&#xA0;userPointMessage&#xA0;=&#xA0;new&#xA0;UserPointMessage();</span><br><span class="line">&#xA0;&#xA0;&#xA0;&#xA0;userPointMessage.setType(UserUpdatePointEnum.ADD.getType());</span><br><span class="line">&#xA0;&#xA0;&#xA0;&#xA0;userPointMessage.setUserId(1L);</span><br><span class="line">&#xA0;&#xA0;&#xA0;&#xA0;userPointMessage.setPoint(9);</span><br><span class="line">&#xA0;&#xA0;&#xA0;&#xA0;userPointMessage.setReqId(MessageReqIdPrefixConstant.USER_POINT&#xA0;+&#xA0;UUID.randomUUID()+&#xA0;DateUtils.formatDefaultDateMs());</span><br><span class="line">&#xA0;&#xA0;&#xA0;&#xA0;userPointProducer.sendMessage(JSON.toJSONString(userPointMessage));</span><br><span class="line">}</span><br></pre></td></tr></table></figure>

<p>&#x6D88;&#x8D39;&#x8005;&#xFF1A;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">less&#x590D;&#x5236;&#x4EE3;&#x7801;/**</span><br><span class="line">&#xA0;*&#xA0;{@code&#xA0;@description:}&#xA0;&#x7528;&#x6237;&#x79EF;&#x5206;&#x6D88;&#x606F;&#x6D88;&#x8D39;&#x8005;</span><br><span class="line">&#xA0;*</span><br><span class="line">&#xA0;*&#xA0;@author&#xA0;tianwc &#x516C;&#x4F17;&#x53F7;&#xFF1A;Java&#x540E;&#x7AEF;&#x6280;&#x672F;&#x5168;&#x6808;</span><br><span class="line">&#xA0;*&#xA0;&#x5728;&#x7EBF;&#x5237;&#x9898; 1200+java&#x9762;&#x8BD5;&#x9898;&#x548C;1000+&#x7BC7;&#x6280;&#x672F;&#x6587;&#x7AE0;&#xFF1A;&lt;a href=&quot;https://woaijava.cc/&quot;&gt;&#x535A;&#x5BA2;&#x5730;&#x5740;&lt;/a&gt;</span><br><span class="line">&#xA0;*&#xA0;{@code&#xA0;@date:}&#xA0;2024-03-24&#xA0;9:19</span><br><span class="line">&#xA0;*&#xA0;{@code&#xA0;@version:}&#xA0;1.0</span><br><span class="line">&#xA0;*/</span><br><span class="line">@RabbitListener(queues&#xA0;=&#xA0;&quot;user.point.queue&quot;)</span><br><span class="line">@Component</span><br><span class="line">@Slf4j</span><br><span class="line">public&#xA0;class&#xA0;UserPointConsumer&#xA0;{</span><br><span class="line"></span><br><span class="line">&#xA0;&#xA0;&#xA0;&#xA0;@Resource</span><br><span class="line">&#xA0;&#xA0;&#xA0;&#xA0;private&#xA0;UserPointService&#xA0;userPointService;</span><br><span class="line"></span><br><span class="line">&#xA0;&#xA0;&#xA0;&#xA0;@RabbitHandler</span><br><span class="line">&#xA0;&#xA0;&#xA0;&#xA0;public&#xA0;void&#xA0;process(Object&#xA0;data,&#xA0;Channel&#xA0;channel,&#xA0;Message&#xA0;message)&#xA0;throws&#xA0;IOException&#xA0;{</span><br><span class="line">&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;try&#xA0;{</span><br><span class="line">&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;log.info(&quot;&#x6D88;&#x8D39;&#x8005;&#x63A5;&#x53D7;&#x5230;&#x7684;&#x6D88;&#x606F;&#x662F;&#xFF1A;{},&#x6D88;&#x606F;&#x4F53;&#x4E3A;&#xFF1A;{}&quot;,&#xA0;data,&#xA0;message);</span><br><span class="line">&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;UserPointMessage&#xA0;userPointMessage&#xA0;=&#xA0;JSON.parseObject(new&#xA0;String(message.getBody()),&#xA0;UserPointMessage.class);</span><br><span class="line">&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;userPointService.updateUserPoint(userPointMessage);</span><br><span class="line">&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;channel.basicAck(message.getMessageProperties().getDeliveryTag(),&#xA0;false);</span><br><span class="line">&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;}&#xA0;catch&#xA0;(Exception&#xA0;exception)&#xA0;{</span><br><span class="line">&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;channel.basicNack(message.getMessageProperties().getDeliveryTag(),&#xA0;false,&#xA0;false);</span><br><span class="line">&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;}</span><br><span class="line">&#xA0;&#xA0;&#xA0;&#xA0;}</span><br><span class="line">}</span><br></pre></td></tr></table></figure>

<p>&#x5177;&#x4F53;&#x4E1A;&#x52A1;&#x903B;&#x8F91;&#x5B9E;&#x73B0;&#xFF1A;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line">less&#x590D;&#x5236;&#x4EE3;&#x7801;/**</span><br><span class="line">&#xA0;*&#xA0;{@code&#xA0;@description:}&#xA0;&#x7528;&#x6237;&#x79EF;&#x5206;&#x6263;&#x9664;&#x6D88;&#x8D39;&#x8005;&#x670D;&#x52A1;&#x5B9E;&#x73B0;&#x7C7B;</span><br><span class="line">&#xA0;*</span><br><span class="line">&#xA0;*&#xA0;@author&#xA0;tianwc &#x516C;&#x4F17;&#x53F7;&#xFF1A;Java&#x540E;&#x7AEF;&#x6280;&#x672F;&#x5168;&#x6808;</span><br><span class="line">&#xA0;*&#xA0;&#x5728;&#x7EBF;&#x5237;&#x9898; 1200+java&#x9762;&#x8BD5;&#x9898;&#x548C;1000+&#x7BC7;&#x6280;&#x672F;&#x6587;&#x7AE0;&#xFF1A;&lt;a href=&quot;https://woaijava.cc/&quot;&gt;&#x535A;&#x5BA2;&#x5730;&#x5740;&lt;/a&gt;</span><br><span class="line">&#xA0;*&#xA0;{@code&#xA0;@date:}&#xA0;2024-03-24&#xA0;9:19</span><br><span class="line">&#xA0;*&#xA0;{@code&#xA0;@version:}&#xA0;1.0</span><br><span class="line">&#xA0;*/</span><br><span class="line">@Slf4j</span><br><span class="line">@Service</span><br><span class="line">public&#xA0;class&#xA0;UserPointServiceImpl&#xA0;implements&#xA0;UserPointService&#xA0;{</span><br><span class="line">&#xA0;&#xA0;&#xA0;&#xA0;@Resource</span><br><span class="line">&#xA0;&#xA0;&#xA0;&#xA0;private&#xA0;ChargeUserMapper&#xA0;chargeUserMapper;</span><br><span class="line">&#xA0;&#xA0;&#xA0;&#xA0;@Resource</span><br><span class="line">&#xA0;&#xA0;&#xA0;&#xA0;private&#xA0;RedissonClient&#xA0;redissonClient;</span><br><span class="line">&#xA0;&#xA0;&#xA0;&#xA0;@Resource</span><br><span class="line">&#xA0;&#xA0;&#xA0;&#xA0;private&#xA0;PointsChangeRecordMapper&#xA0;pointsChangeRecordMapper;</span><br><span class="line"></span><br><span class="line">&#xA0;&#xA0;&#xA0;&#xA0;@Transactional(rollbackFor&#xA0;=&#xA0;Exception.class)</span><br><span class="line">&#xA0;&#xA0;&#xA0;&#xA0;@Override</span><br><span class="line">&#xA0;&#xA0;&#xA0;&#xA0;public&#xA0;void&#xA0;updateUserPoint(UserPointMessage&#xA0;userPointMessage)&#xA0;{</span><br><span class="line">&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;RLock&#xA0;lock&#xA0;=&#xA0;redissonClient.getLock(RedisConstantPre.USER_INFO_ID_PRE&#xA0;+&#xA0;userPointMessage.getUserId());</span><br><span class="line">&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;lock.lock();</span><br><span class="line">&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;try&#xA0;{</span><br><span class="line">&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;int&#xA0;count&#xA0;=&#xA0;pointsChangeRecordMapper.selectByReqId(userPointMessage.getReqId());</span><br><span class="line">&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;if&#xA0;(count&#xA0;&gt;&#xA0;0)&#xA0;{</span><br><span class="line">&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;log.info(&quot;&#x6D88;&#x606F;&#x4F53;&#x53C2;&#x6570;&#xA0;&#x3010;&#x91CD;&#x590D;&#x6D88;&#x606F;&#x3011;:{}&quot;,&#xA0;userPointMessage);</span><br><span class="line">&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;return;</span><br><span class="line">&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;}</span><br><span class="line">&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;PointsChangeRecord&#xA0;pointsChangeRecord&#xA0;=&#xA0;new&#xA0;PointsChangeRecord();</span><br><span class="line">&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;pointsChangeRecord.setUserId(userPointMessage.getUserId());</span><br><span class="line">&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;pointsChangeRecord.setPoint(userPointMessage.getPoint());</span><br><span class="line">&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;pointsChangeRecord.setType(userPointMessage.getType());</span><br><span class="line">&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;pointsChangeRecord.setCreateTime(new&#xA0;Date());</span><br><span class="line">&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;pointsChangeRecord.setReqId(userPointMessage.getReqId());</span><br><span class="line">&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;//&#x79EF;&#x5206;&#x53D8;&#x52A8;&#x8BB0;&#x5F55;</span><br><span class="line">&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;pointsChangeRecordMapper.insert(pointsChangeRecord);</span><br><span class="line"></span><br><span class="line">&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;ChargeUser&#xA0;chargeUser&#xA0;=&#xA0;chargeUserMapper.selectByPrimaryKey(userPointMessage.getUserId());</span><br><span class="line">&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;if&#xA0;(userPointMessage.getType()&#xA0;==&#xA0;UserUpdatePointEnum.ADD.getType())&#xA0;{</span><br><span class="line">&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;chargeUser.setPoint(chargeUser.getPoint()&#xA0;+&#xA0;userPointMessage.getPoint());</span><br><span class="line">&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;}&#xA0;else&#xA0;{</span><br><span class="line">&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;chargeUser.setPoint(chargeUser.getPoint()&#xA0;-&#xA0;userPointMessage.getPoint());</span><br><span class="line">&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;}</span><br><span class="line">&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;//&#x7528;&#x6237;&#x79EF;&#x5206;&#x53D8;&#x52A8;</span><br><span class="line">&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;chargeUserMapper.updateByPrimaryKey(chargeUser);</span><br><span class="line">&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;}&#xA0;finally&#xA0;{</span><br><span class="line">&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;lock.unlock();</span><br><span class="line">&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;}</span><br><span class="line">&#xA0;&#xA0;&#xA0;&#xA0;}</span><br><span class="line">}</span><br></pre></td></tr></table></figure>

<p>&#x8FD9;&#x91CC;&#x7684;&#x5206;&#x5E03;&#x5F0F;&#x9501;&#x7684;&#x597D;&#x5904;&#xFF1A;</p>
<ul>
<li>&#x4FDD;&#x8BC1;&#x4E86;&#x8FD9;&#x4E2A;&#x91CD;&#x590D;&#x6D88;&#x8D39;&#x90E8;&#x5206;&#x4EE3;&#x7801;&#x7684;&#x539F;&#x5B50;&#x6027;</li>
<li>&#x4FDD;&#x8BC1;&#x4E86;&#x6B64;&#x65F6;&#x53EA;&#x6709;&#x4E00;&#x4E2A;&#x7EBF;&#x7A0B;&#x5BF9;&#x7528;&#x6237;&#x79EF;&#x5206;&#x8FDB;&#x884C;&#x4FEE;&#x6539;</li>
</ul>
<blockquote>
<p>&#x5176;&#x5B9E;&#xFF0C;&#x6B63;&#x5E38;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;&#x4E0D;&#x4F1A;&#x8D70;&#x5931;&#x8D25;&#x6D88;&#x606F;&#x8BB0;&#x5F55;&#x8868;&#xFF0C;&#x4F46;&#x662F;&#x4F5C;&#x4E3A;&#x7A0B;&#x5E8F;&#x4E0D;&#x5F97;&#x4E0D;&#x591A;&#x8003;&#x8651;&#x70B9;&#x3002;</p>
</blockquote>
<p>&#x5B9A;&#x65F6;&#x4EFB;&#x52A1;&#x90E8;&#x5206;&#x4EE3;&#x7801;&#xFF1A;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">java&#x590D;&#x5236;&#x4EE3;&#x7801;/**</span><br><span class="line">&#xA0;*&#xA0;{@code&#xA0;@description:}&#xA0;&#x7528;&#x6237;&#x79EF;&#x5206;&#x6D88;&#x606F;&#x53D1;&#x9001;job</span><br><span class="line">&#xA0;*</span><br><span class="line">&#xA0;*&#xA0;@author&#xA0;tianwc &#x516C;&#x4F17;&#x53F7;&#xFF1A;Java&#x540E;&#x7AEF;&#x6280;&#x672F;&#x5168;&#x6808;</span><br><span class="line">&#xA0;*&#xA0;&#x5728;&#x7EBF;&#x5237;&#x9898; 1200+java&#x9762;&#x8BD5;&#x9898;&#x548C;1000+&#x7BC7;&#x6280;&#x672F;&#x6587;&#x7AE0;&#xFF1A;https://woaijava.cc/</span><br><span class="line">&#xA0;*&#xA0;{@code&#xA0;@date:}&#xA0;2024-03-24&#xA0;9:19</span><br><span class="line">&#xA0;*&#xA0;{@code&#xA0;@version:}&#xA0;1.0</span><br><span class="line">&#xA0;*/</span><br><span class="line">@Slf4j</span><br><span class="line">@Component</span><br><span class="line">public&#xA0;class&#xA0;UserPointRetryMessageJob&#xA0;{</span><br><span class="line"></span><br><span class="line">&#xA0;&#xA0;&#xA0;&#xA0;@Resource</span><br><span class="line">&#xA0;&#xA0;&#xA0;&#xA0;private&#xA0;RetryMessageMapper&#xA0;retryMessageMapper;</span><br><span class="line">&#xA0;&#xA0;&#xA0;&#xA0;@Resource</span><br><span class="line">&#xA0;&#xA0;&#xA0;&#xA0;private&#xA0;UserPointProducer&#xA0;userPointProducer;</span><br><span class="line"></span><br><span class="line">&#xA0;&#xA0;&#xA0;&#xA0;@XxlJob(&quot;userPointRetryMessageJob&quot;)</span><br><span class="line">&#xA0;&#xA0;&#xA0;&#xA0;public&#xA0;void&#xA0;process()&#xA0;{</span><br><span class="line">&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;log.info(&quot;&#x5F00;&#x59CB;&#x6267;&#x884C;&#xA0;userPointRetryMessageJob&#xA0;&#x5B9A;&#x65F6;&#x4EFB;&#x52A1;&quot;);</span><br><span class="line">&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;XxlJobHelper.log(&quot;start&#xA0;userPointRetryMessageJob&#xA0;job&quot;);</span><br><span class="line">&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;int&#xA0;countRetryMessage&#xA0;=&#xA0;retryMessageMapper.countRetryMessage(0,&#xA0;0);</span><br><span class="line">&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;if&#xA0;(countRetryMessage&#xA0;==&#xA0;0)&#xA0;{</span><br><span class="line">&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;log.info(&quot;&#xA0;&#x6267;&#x884C;&#x7ED3;&#x675F;&#xA0;userPointRetryMessageJob&#xA0;&#x6CA1;&#x6709;&#x6D88;&#x606F;&#x9700;&#x8981;&#x91CD;&#x53D1;&quot;);</span><br><span class="line">&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;}</span><br><span class="line">&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;List&lt;RetryMessage&gt;&#xA0;retryMessages&#xA0;=&#xA0;retryMessageMapper.selectRetryMessage(0,&#xA0;0);</span><br><span class="line">&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;for&#xA0;(RetryMessage&#xA0;retryMessage&#xA0;:&#xA0;retryMessages)&#xA0;{</span><br><span class="line">&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;userPointProducer.sendMessage(retryMessage);</span><br><span class="line">&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;}</span><br><span class="line">&#xA0;&#xA0;&#xA0;&#xA0;}</span><br><span class="line">}</span><br></pre></td></tr></table></figure>

<blockquote>
<p>&#x8FD9;&#x91CC;&#x8FD8;&#x53EF;&#x4EE5;&#x4F18;&#x5316;&#xFF0C;&#x4F60;&#x80FD;&#x60F3;&#x5230;&#x5417;&#xFF1F;</p>
<p><code>List&lt;RetryMessage&gt; retryMessages = retryMessageMapper.selectRetryMessage(0, 0);</code></p>
<p>&#x8FD9;&#x91CC;&#x662F;&#x4E00;&#x6B21;&#x6027;&#x5168;&#x90E8;&#x67E5;&#x51FA;&#x6765;&#x4E86;&#xFF0C;&#x5982;&#x679C;&#x51FA;&#x73B0;&#x5927;&#x91CF;&#x6D88;&#x606F;&#x53D1;&#x9001;&#x5931;&#x8D25;&#xFF0C;&#x4E00;&#x6B21;&#x6027;&#x653E;&#x5230;&#x672C;&#x5730;&#x7F13;&#x5B58;&#x91CC;&#xFF0C;&#x5F88;&#x5BB9;&#x6613;&#x51FA;&#x95EE;&#x9898;&#xFF0C;&#x6240;&#x4EE5;&#xFF0C;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x518D;&#x4F18;&#x5316;&#x6210;&#x5206;&#x9875;&#x8FDB;&#x884C;&#x5904;&#x7406;&#xFF0C;&#x6BD4;&#x5982;&#xFF1A;&#x6BCF;&#x6B21;&#x5904;&#x7406;50&#x6761;&#xFF0C;&#x518D;&#x6839;&#x636E;count&#x6765;&#x8BA1;&#x7B97;&#x9700;&#x8981;&#x8FDB;&#x884C;&#x5206;&#x9875;&#x3002;</p>
</blockquote>
<p>&#x5B9A;&#x65F6;&#x4EFB;&#x52A1;&#x4E2D;&#x751F;&#x4EA7;&#x8005;&#x4EE3;&#x7801;&#x5B9E;&#x73B0;&#xFF1A;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line">scss&#x590D;&#x5236;&#x4EE3;&#x7801;/**</span><br><span class="line">&#xA0;*&#xA0;{@code&#xA0;@description:}&#xA0;&#x7528;&#x6237;&#x79EF;&#x5206;&#x6D88;&#x606F;&#x53D1;&#x9001;&#x751F;&#x4EA7;&#x8005;</span><br><span class="line">&#xA0;*</span><br><span class="line">&#xA0;*&#xA0;@author&#xA0;tianwc &#x516C;&#x4F17;&#x53F7;&#xFF1A;Java&#x540E;&#x7AEF;&#x6280;&#x672F;&#x5168;&#x6808;</span><br><span class="line">&#xA0;*&#xA0;&#x5728;&#x7EBF;&#x5237;&#x9898; 1200+java&#x9762;&#x8BD5;&#x9898;&#x548C;1000+&#x7BC7;&#x6280;&#x672F;&#x6587;&#x7AE0;&#xFF1A;https://woaijava.cc/</span><br><span class="line">&#xA0;*&#xA0;{@code&#xA0;@date:}&#xA0;2024-03-24&#xA0;9:19</span><br><span class="line">&#xA0;*&#xA0;{@code&#xA0;@version:}&#xA0;1.0</span><br><span class="line">&#xA0;*/</span><br><span class="line">@Slf4j</span><br><span class="line">@Component</span><br><span class="line">public&#xA0;class&#xA0;UserPointProducer&#xA0;{</span><br><span class="line">&#xA0;&#xA0;&#xA0;&#xA0;@Resource</span><br><span class="line">&#xA0;&#xA0;&#xA0;&#xA0;private&#xA0;RetryMessageMapper&#xA0;chargeUserMapper;</span><br><span class="line"></span><br><span class="line">&#xA0;&#xA0;&#xA0;&#xA0;public&#xA0;void&#xA0;sendMessage(RetryMessage&#xA0;retryMessage)&#xA0;{</span><br><span class="line">&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;log.info(&quot;&#x7528;&#x6237;&#x79EF;&#x5206;&#x6D88;&#x606F;&#x91CD;&#x8BD5;&#x8865;&#x53D1;,{}&quot;,&#xA0;retryMessage);</span><br><span class="line">&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;String&#xA0;message&#xA0;=&#xA0;retryMessage.getContent();</span><br><span class="line">&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;CorrelationData&#xA0;correlationId&#xA0;=&#xA0;new&#xA0;CorrelationData(UUID.randomUUID().toString());</span><br><span class="line">&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;RabbitTemplate&#xA0;rabbitTemplate&#xA0;=&#xA0;ApplicationContextFactory.getBean(RabbitTemplate.class);</span><br><span class="line">&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;rabbitTemplate.setConfirmCallback((correlationData,&#xA0;ack,&#xA0;cause)&#xA0;-&gt;&#xA0;{</span><br><span class="line">&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;if&#xA0;(ack)&#xA0;{</span><br><span class="line">&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;retryMessage.setStatus(1);</span><br><span class="line">&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;chargeUserMapper.updateByPrimaryKey(retryMessage);</span><br><span class="line">&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;log.info(&quot;UserPointConfirm ConfirmCallback &#x5173;&#x8054;&#x6570;&#x636E;&#xFF1A;{},&#x6295;&#x9012;&#x6210;&#x529F;,&#x786E;&#x8BA4;&#x60C5;&#x51B5;&#xFF1A;{}&quot;,&#xA0;correlationData,&#xA0;ack);</span><br><span class="line">&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;}&#xA0;else&#xA0;{</span><br><span class="line">&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;retryMessage.setRetriedTimes(retryMessage.getRetriedTimes()&#xA0;+&#xA0;1);</span><br><span class="line">&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;chargeUserMapper.updateByPrimaryKey(retryMessage);</span><br><span class="line">&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;log.info(&quot;UserPointConfirm ConfirmCallback &#x5173;&#x8054;&#x6570;&#x636E;&#xFF1A;{},&#x6295;&#x9012;&#x5931;&#x8D25;,&#x786E;&#x8BA4;&#x60C5;&#x51B5;&#xFF1A;{}&#xFF0C;&#x539F;&#x56E0;&#xFF1A;{}&quot;,&#xA0;correlationData,&#xA0;ack,&#xA0;cause);</span><br><span class="line">&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;}</span><br><span class="line">&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;});</span><br><span class="line"></span><br><span class="line">&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;rabbitTemplate.convertAndSend(RabbitMQConstantEnum.USER_POINT.getExchange()</span><br><span class="line">&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;,&#xA0;RabbitMQConstantEnum.USER_POINT.getRoutingKey(),&#xA0;message,&#xA0;message1&#xA0;-&gt;&#xA0;{</span><br><span class="line">&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;message1.getMessageProperties().setDeliveryMode(MessageDeliveryMode.PERSISTENT);&#xA0;//&#xA0;&#x8BBE;&#x7F6E;&#x6D88;&#x606F;&#x6301;&#x4E45;&#x5316;</span><br><span class="line">&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;return&#xA0;message1;</span><br><span class="line">&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;},&#xA0;correlationId);</span><br><span class="line">&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;log.info(&quot;&#x7528;&#x6237;&#x79EF;&#x5206;&#x6D88;&#x606F;&#x91CD;&#x8BD5;&#x8865;&#x53D1;&#x5B8C;&#x6210;&quot;);</span><br><span class="line">&#xA0;&#xA0;&#xA0;&#xA0;}</span><br><span class="line">}</span><br></pre></td></tr></table></figure>

<h4 id="&#x5931;&#x8D25;&#x6D88;&#x606F;&#x8868;"><a href="#&#x5931;&#x8D25;&#x6D88;&#x606F;&#x8868;" class="headerlink" title="&#x5931;&#x8D25;&#x6D88;&#x606F;&#x8868;"></a>&#x5931;&#x8D25;&#x6D88;&#x606F;&#x8868;</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">sql&#x590D;&#x5236;&#x4EE3;&#x7801;CREATE&#xA0;TABLE&#xA0;`retry_message`&#xA0;(</span><br><span class="line">&#xA0;&#xA0;`id`&#xA0;bigint&#xA0;NOT&#xA0;NULL&#xA0;AUTO_INCREMENT,</span><br><span class="line">&#xA0;&#xA0;`type`&#xA0;int&#xA0;DEFAULT&#xA0;NULL,</span><br><span class="line">&#xA0;&#xA0;`content`&#xA0;text,</span><br><span class="line">&#xA0;&#xA0;`retried_times`&#xA0;int&#xA0;DEFAULT&#xA0;NULL,</span><br><span class="line">&#xA0;&#xA0;`retry_limit`&#xA0;int&#xA0;NOT&#xA0;NULL&#xA0;DEFAULT&#xA0;&apos;1&apos;,</span><br><span class="line">&#xA0;&#xA0;`create_time`&#xA0;datetime&#xA0;DEFAULT&#xA0;NULL,</span><br><span class="line">&#xA0;&#xA0;`status`&#xA0;int&#xA0;DEFAULT&#xA0;&apos;0&apos;,</span><br><span class="line">&#xA0;&#xA0;PRIMARY&#xA0;KEY&#xA0;(`id`)</span><br><span class="line">)&#xA0;ENGINE=InnoDB&#xA0;AUTO_INCREMENT=1&#xA0;DEFAULT&#xA0;CHARSET=utf8mb4&#xA0;;</span><br></pre></td></tr></table></figure>

<p>&#x4E00;&#x4E2A;&#x6570;&#x636E;&#x5E93;&#x91CC;&#x5C31;&#x53EA;&#x8981;&#x4E00;&#x5F20;&#x8868;&#x5373;&#x53EF;&#xFF0C;&#x4E13;&#x95E8;&#x7528;&#x6765;&#x5B58;&#x50A8;&#x53D1;&#x9001;&#x5931;&#x8D25;&#x6D88;&#x606F;&#x3002;</p>
<blockquote>
<p>tyep&#xFF1A;&#x4EC0;&#x4E48;&#x4E1A;&#x52A1;&#x573A;&#x666F;</p>
<p>content&#xFF1A;&#x5177;&#x4F53;&#x6D88;&#x606F;&#x5185;&#x5BB9;</p>
<p>retried_times&#xFF1A;&#x5DF2;&#x7ECF;&#x91CD;&#x8BD5;&#x4E86;&#x51E0;&#x6B21;</p>
<p>retry_limit&#xFF1A;&#x91CD;&#x8BD5;&#x6B21;&#x6570;&#x9650;&#x5236;</p>
<p>status&#xFF1A;&#x72B6;&#x6001;&#xFF0C;&#x662F;&#x5426;&#x9700;&#x8981;&#x91CD;&#x8BD5;</p>
</blockquote>
<p>&#x8FD9;&#x91CC;&#x7684;&#x91CD;&#x8BD5;&#x6B21;&#x6570;&#x9650;&#x5236;&#xFF0C;&#x6211;&#x4EEC;&#x4E5F;&#x53EF;&#x4EE5;&#x91C7;&#x7528;&#x914D;&#x7F6E;&#x7684;&#x65B9;&#x5F0F;&#xFF0C;&#x8FD9;&#x6837;&#x5C31;&#x53EF;&#x4EE5;&#x5728;&#x5206;&#x5E03;&#x5F0F;&#x914D;&#x7F6E;&#x4E2D;&#x5FC3;&#x5BF9;&#x6B64;&#x8FDB;&#x884C;&#x52A8;&#x6001;&#x8C03;&#x6574;&#xFF0C;&#x4E0D;&#x8FC7;&#xFF0C;&#x8FD9;&#x4E2A;&#x597D;&#x50CF;&#x6CA1;&#x4EC0;&#x4E48;&#x5FC5;&#x8981;&#xFF0C;&#x56E0;&#x4E3A;&#x4E0D;&#x4F1A;&#x9891;&#x7E41;&#x5730;&#x66F4;&#x6362;&#x8FD9;&#x4E2A;&#x9650;&#x5236;&#x3002;&#x76F4;&#x63A5;&#x5B58;&#x5728;&#x8868;&#x91CC;&#x8FD8;&#x53EF;&#x4EE5;&#x52A8;&#x6001;&#x7684;&#x9488;&#x5BF9;&#x67D0;&#x4E9B;&#x4E1A;&#x52A1;&#x505A;&#x7279;&#x6B8A;&#x5904;&#x7406;&#xFF0C;&#x6BD4;&#x5982;&#x4E1A;&#x52A1;A&#x9650;&#x5236;&#x6B21;&#x6570;2&#x6B21;&#xFF0C;&#x4E1A;&#x52A1;B&#x6B21;&#x6570;&#x6539;&#x6210;3&#x6B21;&#x2026;.</p>
<p>&#x6CA1;&#x6709;&#x5B8C;&#x7F8E;&#x7684;&#x89E3;&#x51B3;&#x65B9;&#x6CD5;&#xFF0C;&#x4F46;&#x603B;&#x6709;&#x76F8;&#x5BF9;&#x5B8C;&#x7F8E;&#x7684;&#x89E3;&#x51B3;&#x65B9;&#x6848;&#x5373;&#x53EF;&#x3002;</p>
<p>&#x5173;&#x4E8E;&#x79EF;&#x5206;&#x6A21;&#x5757;&#xFF0C;&#x5176;&#x5B9E;&#x4E0D;&#x6B62;&#x6709;&#x589E;&#x52A0;&#x79EF;&#x5206;&#xFF0C;&#x8FD8;&#x6709;&#x6263;&#x9664;&#x79EF;&#x5206;&#x3002;</p>
<blockquote>
<p>&#x6BD4;&#x5982;&#xFF1A;&#x7528;&#x6237;&#x4F7F;&#x7528;&#x79EF;&#x5206;&#x5151;&#x6362;&#x4F18;&#x60E0;&#x5238;&#xFF0C;&#x79EF;&#x5206;&#x76EE;&#x524D;&#x8BBE;&#x8BA1;&#x5728;&#x7528;&#x6237;&#x4E2D;&#x5FC3;&#xFF0C;&#x4F18;&#x60E0;&#x5238;&#x53C8;&#x5728;&#x8425;&#x9500;&#x4E2D;&#x5FC3;&#xFF0C;&#x6240;&#x4EE5;&#xFF0C;&#x4F1A;&#x6D89;&#x53CA;&#x5230;&#x5206;&#x5E03;&#x5F0F;&#x4E8B;&#x52A1;&#x95EE;&#x9898;&#x3002;</p>
<p>&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x91C7;&#x7528;Seata&#x3001;Atomikos&#x3001;RockSeataetMQ&#x7B49;&#x6280;&#x672F;&#x6765;&#x89E3;&#x51B3;&#xFF0C;&#x76EE;&#x524D;&#x5145;&#x7535;&#x6869;&#x9879;&#x76EE;&#x4E2D;&#x7528;&#x5230;&#x8FC7;Atomikos&#xFF0C;&#x4F46;&#x662F;&#x4EE3;&#x7801;&#x91CF;&#x5B9E;&#x5728;&#x662F;&#x4F1A;&#x589E;&#x52A0;&#x4E0D;&#x5C11;&#xFF0C;&#x6700;&#x540E;&#x4F7F;&#x7528;&#x4E86;Seata&#x6765;&#x89E3;&#x51B3;&#x5206;&#x5E03;&#x5F0F;&#x4E8B;&#x52A1;&#x95EE;&#x9898;&#x3002;</p>
</blockquote>
<h3 id="&#x6700;&#x540E;"><a href="#&#x6700;&#x540E;" class="headerlink" title="&#x6700;&#x540E;"></a>&#x6700;&#x540E;</h3><p>&#x5E0C;&#x671B;&#x901A;&#x8FC7;&#x672C;&#x6587;&#x5B66;&#x4E60;&#xFF0C;&#x4E0B;&#x6B21;&#x518D;&#x9047;&#x5230;&#x9762;&#x8BD5;&#x5B98;&#x95EE;&#x6D88;&#x606F;&#x961F;&#x5217;&#x7684;&#x4E24;&#x4E2A;&#x95EE;&#x9898;&#xFF0C;&#x5C31;&#x4E0D;&#x518D;&#x662F;&#x80CC;&#x516B;&#x80A1;&#x6587;&#x4E86;&#x3002;</p>
<p>&#x597D;&#x4E86;&#xFF0C;&#x4ECA;&#x5929;&#x5C31;&#x8DDF;&#x5927;&#x5BB6;&#x5206;&#x4EAB;&#x8FD9;&#x4E48;&#x591A;&#xFF0C;&#x5E0C;&#x671B;&#x80FD;&#x7ED9;&#x4F60;&#x5E26;&#x6765;&#x70B9;&#x70B9;&#x5E2E;&#x52A9;&#x3002;</p>
<p>&#x9EBB;&#x70E6;&#x4E2A;&#x4E09;&#x8FDE;&#x5457;&#xFF1A;<strong>&#x70B9;&#x8D5E;&#x3001;&#x8F6C;&#x53D1;&#x3001;&#x518D;&#x770B;</strong>&#xFF0C;&#x8C22;&#x8C22;&#x5566;&#xFF01;</p>
<p><strong>&#x672C;&#x6587;&#x8F6C;&#x8F7D;&#x81EA;:</strong> <a href="/external_links/630a8d46be277e4d7f596e3eb4bdd0ac.html" target="blank" rel="noopener">&#x6398;&#x91D1;</a></p>
<p><em><a href="https://dev.newban.cn/">&#x5F00;&#x53D1;&#x8005;&#x535A;&#x5BA2; &#x2013; &#x548C;&#x5F00;&#x53D1;&#x76F8;&#x5173;&#x7684; &#x8FD9;&#x91CC;&#x5168;&#x90FD;&#x6709;</a></em></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://dev.newban.cn../../7361934843209203712.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="开发者博客">
      <meta itemprop="description" content>
      <meta itemprop="image" content="../../images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="开发者博客 – IT技术 尽在开发者博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="../../7361934843209203712.html" itemprop="url">分布式事务实现方案：一文详解RocketMQ事务消息 实现原</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2024-04-26T16:39:32+08:00">
                2024-04-26
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>&#x5E38;&#x89C1;&#x7684;&#x5206;&#x5E03;&#x5F0F;&#x4E8B;&#x52A1;&#x5B9E;&#x73B0;&#x65B9;&#x6848;&#x6709;&#x4EE5;&#x4E0B;&#x51E0;&#x79CD;&#xFF1A;&#x4E24;&#x9636;&#x6BB5;&#x63D0;&#x4EA4;&#xFF08;2PC&#xFF09;&#x3001;&#x4E24;&#x9636;&#x6BB5;&#x63D0;&#x4EA4;&#xFF08;2PC&#xFF09;&#x3001;&#x8865;&#x507F;&#x4E8B;&#x52A1;&#xFF08;Saga&#xFF09;&#x3001;MQ&#x4E8B;&#x52A1;&#x6D88;&#x606F;&#x7B49;&#x3002;&#x4ECA;&#x5929;&#x5C31;&#x8BB2;&#x4E00;&#x4E0B; RocketMQ &#x7684;&#x4E8B;&#x52A1;&#x6D88;&#x606F;&#xFF0C;&#x662F;&#x4E00;&#x79CD;&#x975E;&#x5E38;&#x7279;&#x6B8A;&#x7684;&#x5206;&#x5E03;&#x5F0F;&#x4E8B;&#x52A1;&#x5B9E;&#x73B0;&#x65B9;&#x6848;&#xFF0C;&#x57FA;&#x4E8E;&#x534A;&#x6D88;&#x606F;&#xFF08;Half Message&#xFF09;&#x673A;&#x5236;&#x5B9E;&#x73B0;&#x7684;&#x3002;</p>
<p>&#x770B;&#x5B8C;&#x8FD9;&#x7BC7;&#x60F3;&#x4E00;&#x4E0B;&#xFF0C;RocketMQ&#x4E8B;&#x52A1;&#x6D88;&#x606F;&#x5230;&#x5E95;&#x80FD;&#x4E0D;&#x80FD;&#x4FDD;&#x8BC1;&#x5206;&#x5E03;&#x5F0F;&#x7CFB;&#x7EDF;&#x4E2D;&#x6570;&#x636E;&#x7684;&#x5F3A;&#x4E00;&#x81F4;&#x6027;&#xFF1F;</p>
<h1 id="&#x5B9E;&#x73B0;&#x539F;&#x7406;"><a href="#&#x5B9E;&#x73B0;&#x539F;&#x7406;" class="headerlink" title="&#x5B9E;&#x73B0;&#x539F;&#x7406;"></a>&#x5B9E;&#x73B0;&#x539F;&#x7406;</h1><p><strong>RocketMQ&#x4E8B;&#x52A1;&#x6D88;&#x606F;&#x6267;&#x884C;&#x6D41;&#x7A0B;&#x5982;&#x4E0B;&#xFF1A;</strong></p>
<ol>
<li>&#x751F;&#x4EA7;&#x8005;&#x5C06;&#x6D88;&#x606F;&#x53D1;&#x9001;&#x81F3;RocketMQ&#x670D;&#x52A1;&#x7AEF;&#x3002;</li>
<li>RocketMQ&#x670D;&#x52A1;&#x7AEF;&#x5C06;&#x6D88;&#x606F;&#x6301;&#x4E45;&#x5316;&#x6210;&#x529F;&#x4E4B;&#x540E;&#xFF0C;&#x5411;&#x751F;&#x4EA7;&#x8005;&#x8FD4;&#x56DE;Ack&#x786E;&#x8BA4;&#x6D88;&#x606F;&#x5DF2;&#x7ECF;&#x53D1;&#x9001;&#x6210;&#x529F;&#xFF0C;&#x6B64;&#x65F6;&#x6D88;&#x606F;&#x88AB;&#x6807;&#x8BB0;&#x4E3A;&#x201D;&#x6682;&#x4E0D;&#x80FD;&#x6295;&#x9012;&#x201D;&#xFF0C;&#x8FD9;&#x79CD;&#x72B6;&#x6001;&#x4E0B;&#x7684;&#x6D88;&#x606F;&#x5373;&#x4E3A;&#x534A;&#x4E8B;&#x52A1;&#x6D88;&#x606F;&#xFF08;Half Message&#xFF09;&#x3002;</li>
<li>&#x751F;&#x4EA7;&#x8005;&#x5F00;&#x59CB;&#x6267;&#x884C;&#x672C;&#x5730;&#x4E8B;&#x52A1;&#x903B;&#x8F91;&#x3002;</li>
<li>&#x751F;&#x4EA7;&#x8005;&#x6839;&#x636E;&#x672C;&#x5730;&#x4E8B;&#x52A1;&#x6267;&#x884C;&#x7ED3;&#x679C;&#x5411;&#x670D;&#x52A1;&#x7AEF;&#x63D0;&#x4EA4;&#x4E8C;&#x6B21;&#x786E;&#x8BA4;&#x7ED3;&#x679C;&#xFF08;Commit&#x6216;&#x662F;Rollback&#xFF09;&#xFF0C;&#x670D;&#x52A1;&#x7AEF;&#x6536;&#x5230;&#x786E;&#x8BA4;&#x7ED3;&#x679C;&#x540E;&#x5904;&#x7406;&#x903B;&#x8F91;&#x5982;&#x4E0B;&#xFF1A;<ul>
<li>&#x4E8C;&#x6B21;&#x786E;&#x8BA4;&#x7ED3;&#x679C;&#x4E3A;Commit&#xFF1A;&#x670D;&#x52A1;&#x7AEF;&#x5C06;&#x534A;&#x4E8B;&#x52A1;&#x6D88;&#x606F;&#x6807;&#x8BB0;&#x4E3A;&#x53EF;&#x6295;&#x9012;&#xFF0C;&#x5E76;&#x6295;&#x9012;&#x7ED9;&#x6D88;&#x8D39;&#x8005;&#x3002;</li>
<li>&#x4E8C;&#x6B21;&#x786E;&#x8BA4;&#x7ED3;&#x679C;&#x4E3A;Rollback&#xFF1A;&#x670D;&#x52A1;&#x7AEF;&#x5C06;&#x56DE;&#x6EDA;&#x4E8B;&#x52A1;&#xFF0C;&#x4E0D;&#x4F1A;&#x5C06;&#x534A;&#x4E8B;&#x52A1;&#x6D88;&#x606F;&#x6295;&#x9012;&#x7ED9;&#x6D88;&#x8D39;&#x8005;&#x3002;</li>
</ul>
</li>
<li>&#x5728;&#x65AD;&#x7F51;&#x6216;&#x8005;&#x662F;&#x751F;&#x4EA7;&#x8005;&#x5E94;&#x7528;&#x91CD;&#x542F;&#x7684;&#x7279;&#x6B8A;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;&#x82E5;&#x670D;&#x52A1;&#x7AEF;&#x672A;&#x6536;&#x5230;&#x53D1;&#x9001;&#x8005;&#x63D0;&#x4EA4;&#x7684;&#x4E8C;&#x6B21;&#x786E;&#x8BA4;&#x7ED3;&#x679C;&#xFF0C;&#x6216;&#x670D;&#x52A1;&#x7AEF;&#x6536;&#x5230;&#x7684;&#x4E8C;&#x6B21;&#x786E;&#x8BA4;&#x7ED3;&#x679C;&#x4E3A;Unknown&#x672A;&#x77E5;&#x72B6;&#x6001;&#xFF0C;&#x7ECF;&#x8FC7;&#x56FA;&#x5B9A;&#x65F6;&#x95F4;&#x540E;&#xFF0C;&#x670D;&#x52A1;&#x7AEF;&#x5C06;&#x5BF9;&#x6D88;&#x606F;&#x751F;&#x4EA7;&#x8005;&#x5373;&#x751F;&#x4EA7;&#x8005;&#x96C6;&#x7FA4;&#x4E2D;&#x4EFB;&#x4E00;&#x751F;&#x4EA7;&#x8005;&#x5B9E;&#x4F8B;&#x53D1;&#x8D77;&#x6D88;&#x606F;&#x56DE;&#x67E5;&#x3002;</li>
<li>&#x751F;&#x4EA7;&#x8005;&#x6536;&#x5230;&#x6D88;&#x606F;&#x56DE;&#x67E5;&#x540E;&#xFF0C;&#x9700;&#x8981;&#x68C0;&#x67E5;&#x5BF9;&#x5E94;&#x6D88;&#x606F;&#x7684;&#x672C;&#x5730;&#x4E8B;&#x52A1;&#x6267;&#x884C;&#x7684;&#x6700;&#x7EC8;&#x7ED3;&#x679C;&#x3002;</li>
<li>&#x751F;&#x4EA7;&#x8005;&#x6839;&#x636E;&#x68C0;&#x67E5;&#x5230;&#x7684;&#x672C;&#x5730;&#x4E8B;&#x52A1;&#x7684;&#x6700;&#x7EC8;&#x72B6;&#x6001;&#x518D;&#x6B21;&#x63D0;&#x4EA4;&#x4E8C;&#x6B21;&#x786E;&#x8BA4;&#xFF0C;&#x670D;&#x52A1;&#x7AEF;&#x4ECD;&#x6309;&#x7167;&#x6B65;&#x9AA4;4&#x5BF9;&#x534A;&#x4E8B;&#x52A1;&#x6D88;&#x606F;&#x8FDB;&#x884C;&#x5904;&#x7406;&#x3002;</li>
</ol>
<p><img src="https://gitee.com/songjianzaina/juejin_p3/raw/master/img/58c58fccc37903a74c95ebc40046ced3b4abf6c362876285ee86b07f704c7cd5" alt="image.png"></p>
<h1 id="&#x4EE3;&#x7801;&#x5B9E;&#x73B0;"><a href="#&#x4EE3;&#x7801;&#x5B9E;&#x73B0;" class="headerlink" title="&#x4EE3;&#x7801;&#x5B9E;&#x73B0;"></a>&#x4EE3;&#x7801;&#x5B9E;&#x73B0;</h1><p>RocketMQ&#x4E8B;&#x52A1;&#x6D88;&#x606F;&#x793A;&#x4F8B;&#x5982;&#x4E0B;&#xFF1A;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br></pre></td><td class="code"><pre><span class="line">java&#x590D;&#x5236;&#x4EE3;&#x7801;//&#x6F14;&#x793A;demo&#xFF0C;&#x6A21;&#x62DF;&#x8BA2;&#x5355;&#x8868;&#x67E5;&#x8BE2;&#x670D;&#x52A1;&#xFF0C;&#x7528;&#x6765;&#x786E;&#x8BA4;&#x8BA2;&#x5355;&#x4E8B;&#x52A1;&#x662F;&#x5426;&#x63D0;&#x4EA4;&#x6210;&#x529F;&#x3002;</span><br><span class="line">private static boolean checkOrderById(String orderId) {</span><br><span class="line">    return true;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line">//&#x6F14;&#x793A;demo&#xFF0C;&#x6A21;&#x62DF;&#x672C;&#x5730;&#x4E8B;&#x52A1;&#x7684;&#x6267;&#x884C;&#x7ED3;&#x679C;&#x3002;</span><br><span class="line">private static boolean doLocalTransaction() {</span><br><span class="line">    return true;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line">public static void main(String[] args) throws ClientException {</span><br><span class="line">    ClientServiceProvider provider = new ClientServiceProvider();</span><br><span class="line">    MessageBuilder messageBuilder = new MessageBuilderImpl();</span><br><span class="line">    //&#x6784;&#x9020;&#x4E8B;&#x52A1;&#x751F;&#x4EA7;&#x8005;&#xFF1A;&#x4E8B;&#x52A1;&#x6D88;&#x606F;&#x9700;&#x8981;&#x751F;&#x4EA7;&#x8005;&#x6784;&#x5EFA;&#x4E00;&#x4E2A;&#x4E8B;&#x52A1;&#x68C0;&#x67E5;&#x5668;&#xFF0C;&#x7528;&#x4E8E;&#x68C0;&#x67E5;&#x786E;&#x8BA4;&#x5F02;&#x5E38;&#x534A;&#x4E8B;&#x52A1;&#x7684;&#x4E2D;&#x95F4;&#x72B6;&#x6001;&#x3002;</span><br><span class="line">    Producer producer = provider.newProducerBuilder()</span><br><span class="line">            .setTransactionChecker(messageView -&gt; {</span><br><span class="line">                /**</span><br><span class="line">                 * &#x4E8B;&#x52A1;&#x68C0;&#x67E5;&#x5668;&#x4E00;&#x822C;&#x662F;&#x6839;&#x636E;&#x4E1A;&#x52A1;&#x7684;ID&#x53BB;&#x68C0;&#x67E5;&#x672C;&#x5730;&#x4E8B;&#x52A1;&#x662F;&#x5426;&#x6B63;&#x786E;&#x63D0;&#x4EA4;&#x8FD8;&#x662F;&#x56DE;&#x6EDA;&#xFF0C;&#x6B64;&#x5904;&#x4EE5;&#x8BA2;&#x5355;ID&#x5C5E;&#x6027;&#x4E3A;&#x4F8B;&#x3002;</span><br><span class="line">                 * &#x5728;&#x8BA2;&#x5355;&#x8868;&#x627E;&#x5230;&#x4E86;&#x8FD9;&#x4E2A;&#x8BA2;&#x5355;&#xFF0C;&#x8BF4;&#x660E;&#x672C;&#x5730;&#x4E8B;&#x52A1;&#x63D2;&#x5165;&#x8BA2;&#x5355;&#x7684;&#x64CD;&#x4F5C;&#x5DF2;&#x7ECF;&#x6B63;&#x786E;&#x63D0;&#x4EA4;&#xFF1B;&#x5982;&#x679C;&#x8BA2;&#x5355;&#x8868;&#x6CA1;&#x6709;&#x8BA2;&#x5355;&#xFF0C;&#x8BF4;&#x660E;&#x672C;&#x5730;&#x4E8B;&#x52A1;&#x5DF2;&#x7ECF;&#x56DE;&#x6EDA;&#x3002;</span><br><span class="line">                 */</span><br><span class="line">                final String orderId = messageView.getProperties().get(&quot;OrderId&quot;);</span><br><span class="line">                if (Strings.isNullOrEmpty(orderId)) {</span><br><span class="line">                    // &#x9519;&#x8BEF;&#x7684;&#x6D88;&#x606F;&#xFF0C;&#x76F4;&#x63A5;&#x8FD4;&#x56DE;Rollback&#x3002;</span><br><span class="line">                    return TransactionResolution.ROLLBACK;</span><br><span class="line">                }</span><br><span class="line">                return checkOrderById(orderId) ? TransactionResolution.COMMIT : TransactionResolution.ROLLBACK;</span><br><span class="line">            })</span><br><span class="line">            .build();</span><br><span class="line">    //&#x5F00;&#x542F;&#x4E8B;&#x52A1;</span><br><span class="line">    final Transaction transaction;</span><br><span class="line">    try {</span><br><span class="line">        transaction = producer.beginTransaction();</span><br><span class="line">    } catch (ClientException e) {</span><br><span class="line">        e.printStackTrace();</span><br><span class="line">        //&#x4E8B;&#x52A1;&#x5F00;&#x542F;&#x5931;&#x8D25;&#xFF0C;&#x76F4;&#x63A5;&#x9000;&#x51FA;&#x3002;</span><br><span class="line">        return;</span><br><span class="line">    }</span><br><span class="line">    Message message = messageBuilder.setTopic(&quot;topic&quot;)</span><br><span class="line">            //&#x8BBE;&#x7F6E;&#x6D88;&#x606F;&#x7D22;&#x5F15;&#x952E;&#xFF0C;&#x53EF;&#x6839;&#x636E;&#x5173;&#x952E;&#x5B57;&#x7CBE;&#x786E;&#x67E5;&#x627E;&#x67D0;&#x6761;&#x6D88;&#x606F;&#x3002;</span><br><span class="line">            .setKeys(&quot;messageKey&quot;)</span><br><span class="line">            //&#x8BBE;&#x7F6E;&#x6D88;&#x606F;Tag&#xFF0C;&#x7528;&#x4E8E;&#x6D88;&#x8D39;&#x7AEF;&#x6839;&#x636E;&#x6307;&#x5B9A;Tag&#x8FC7;&#x6EE4;&#x6D88;&#x606F;&#x3002;</span><br><span class="line">            .setTag(&quot;messageTag&quot;)</span><br><span class="line">            //&#x4E00;&#x822C;&#x4E8B;&#x52A1;&#x6D88;&#x606F;&#x90FD;&#x4F1A;&#x8BBE;&#x7F6E;&#x4E00;&#x4E2A;&#x672C;&#x5730;&#x4E8B;&#x52A1;&#x5173;&#x8054;&#x7684;&#x552F;&#x4E00;ID&#xFF0C;&#x7528;&#x6765;&#x505A;&#x672C;&#x5730;&#x4E8B;&#x52A1;&#x56DE;&#x67E5;&#x7684;&#x6821;&#x9A8C;&#x3002;</span><br><span class="line">            .addProperty(&quot;OrderId&quot;, &quot;xxx&quot;)</span><br><span class="line">            //&#x6D88;&#x606F;&#x4F53;&#x3002;</span><br><span class="line">            .setBody(&quot;messageBody&quot;.getBytes())</span><br><span class="line">            .build();</span><br><span class="line">    //&#x53D1;&#x9001;&#x534A;&#x4E8B;&#x52A1;&#x6D88;&#x606F;</span><br><span class="line">    final SendReceipt sendReceipt;</span><br><span class="line">    try {</span><br><span class="line">        sendReceipt = producer.send(message, transaction);</span><br><span class="line">    } catch (ClientException e) {</span><br><span class="line">        //&#x534A;&#x4E8B;&#x52A1;&#x6D88;&#x606F;&#x53D1;&#x9001;&#x5931;&#x8D25;&#xFF0C;&#x4E8B;&#x52A1;&#x53EF;&#x4EE5;&#x76F4;&#x63A5;&#x9000;&#x51FA;&#x5E76;&#x56DE;&#x6EDA;&#x3002;</span><br><span class="line">        return;</span><br><span class="line">    }</span><br><span class="line">    /**</span><br><span class="line">     * &#x6267;&#x884C;&#x672C;&#x5730;&#x4E8B;&#x52A1;&#xFF0C;&#x5E76;&#x786E;&#x5B9A;&#x672C;&#x5730;&#x4E8B;&#x52A1;&#x7ED3;&#x679C;&#x3002;</span><br><span class="line">     * 1. &#x5982;&#x679C;&#x672C;&#x5730;&#x4E8B;&#x52A1;&#x63D0;&#x4EA4;&#x6210;&#x529F;&#xFF0C;&#x5219;&#x63D0;&#x4EA4;&#x6D88;&#x606F;&#x4E8B;&#x52A1;&#x3002;</span><br><span class="line">     * 2. &#x5982;&#x679C;&#x672C;&#x5730;&#x4E8B;&#x52A1;&#x63D0;&#x4EA4;&#x5931;&#x8D25;&#xFF0C;&#x5219;&#x56DE;&#x6EDA;&#x6D88;&#x606F;&#x4E8B;&#x52A1;&#x3002;</span><br><span class="line">     * 3. &#x5982;&#x679C;&#x672C;&#x5730;&#x4E8B;&#x52A1;&#x672A;&#x77E5;&#x5F02;&#x5E38;&#xFF0C;&#x5219;&#x4E0D;&#x5904;&#x7406;&#xFF0C;&#x7B49;&#x5F85;&#x4E8B;&#x52A1;&#x6D88;&#x606F;&#x56DE;&#x67E5;&#x3002;</span><br><span class="line">     *</span><br><span class="line">     */</span><br><span class="line">    boolean localTransactionOk = doLocalTransaction();</span><br><span class="line">    if (localTransactionOk) {</span><br><span class="line">        try {</span><br><span class="line">            transaction.commit();</span><br><span class="line">        } catch (ClientException e) {</span><br><span class="line">            // &#x4E1A;&#x52A1;&#x53EF;&#x4EE5;&#x81EA;&#x8EAB;&#x5BF9;&#x5B9E;&#x65F6;&#x6027;&#x7684;&#x8981;&#x6C42;&#x9009;&#x62E9;&#x662F;&#x5426;&#x91CD;&#x8BD5;&#xFF0C;&#x5982;&#x679C;&#x653E;&#x5F03;&#x91CD;&#x8BD5;&#xFF0C;&#x53EF;&#x4EE5;&#x4F9D;&#x8D56;&#x4E8B;&#x52A1;&#x6D88;&#x606F;&#x56DE;&#x67E5;&#x673A;&#x5236;&#x8FDB;&#x884C;&#x4E8B;&#x52A1;&#x72B6;&#x6001;&#x7684;&#x63D0;&#x4EA4;&#x3002;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        }</span><br><span class="line">    } else {</span><br><span class="line">        try {</span><br><span class="line">            transaction.rollback();</span><br><span class="line">        } catch (ClientException e) {</span><br><span class="line">            // &#x5EFA;&#x8BAE;&#x8BB0;&#x5F55;&#x5F02;&#x5E38;&#x4FE1;&#x606F;&#xFF0C;&#x56DE;&#x6EDA;&#x5F02;&#x5E38;&#x65F6;&#x53EF;&#x4EE5;&#x65E0;&#x9700;&#x91CD;&#x8BD5;&#xFF0C;&#x4F9D;&#x8D56;&#x4E8B;&#x52A1;&#x6D88;&#x606F;&#x56DE;&#x67E5;&#x673A;&#x5236;&#x8FDB;&#x884C;&#x4E8B;&#x52A1;&#x72B6;&#x6001;&#x7684;&#x63D0;&#x4EA4;&#x3002;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></table></figure>

<p><strong>&#x6CE8;&#x610F;&#x4E8B;&#x9879;</strong></p>
<ul>
<li><strong>&#x5E42;&#x7B49;&#x6027;&#xFF1A;</strong> &#x6D88;&#x8D39;&#x8005;&#x5904;&#x7406;&#x6D88;&#x606F;&#x65F6;&#x9700;&#x8981;&#x786E;&#x4FDD;&#x4E1A;&#x52A1;&#x903B;&#x8F91;&#x7684;&#x5E42;&#x7B49;&#x6027;&#xFF0C;&#x4EE5;&#x5E94;&#x5BF9;&#x6D88;&#x606F;&#x53EF;&#x80FD;&#x7684;&#x91CD;&#x590D;&#x6D88;&#x8D39;&#x3002;</li>
<li><strong>&#x8D85;&#x65F6;&#x548C;&#x76D1;&#x63A7;&#xFF1A;</strong> &#x8BBE;&#x7F6E;&#x5408;&#x7406;&#x7684;&#x8D85;&#x65F6;&#x65F6;&#x95F4;&#xFF0C;&#x5E76;&#x76D1;&#x63A7;&#x4E8B;&#x52A1;&#x6D88;&#x606F;&#x7684;&#x6027;&#x80FD;</li>
</ul>
<h1 id="&#x603B;&#x7ED3;"><a href="#&#x603B;&#x7ED3;" class="headerlink" title="&#x603B;&#x7ED3;"></a>&#x603B;&#x7ED3;</h1><p>RocketMQ &#x4E8B;&#x52A1;&#x6D88;&#x606F;&#x662F;&#x5206;&#x5E03;&#x5F0F;&#x4E8B;&#x52A1;&#x4E2D;&#x4E00;&#x79CD;&#x5E38;&#x89C1;&#x7684;&#x5B9E;&#x73B0;&#x65B9;&#x6848;&#xFF0C;&#x53EA;&#x662F;&#x628A;&#x53D1;&#x9001;&#x6D88;&#x606F;&#x548C;&#x672C;&#x5730;&#x4E8B;&#x52A1;&#x653E;&#x5728;&#x4E00;&#x4E2A;&#x4E8B;&#x52A1;&#x4E2D;&#xFF0C;&#x5E76;&#x4E14;&#x53EA;&#x4FDD;&#x8BC1;&#x6700;&#x7EC8;&#x4E00;&#x81F4;&#x6027;&#xFF0C;&#x65E0;&#x6CD5;&#x4FDD;&#x8BC1;&#x5F3A;&#x4E00;&#x81F4;&#x6027;&#x3002;</p>
<p>&#x539F;&#x56E0;&#x6709;&#x4E24;&#x70B9;&#xFF1A;</p>
<ol>
<li>&#x6267;&#x884C;&#x5B8C;&#x6210;&#x672C;&#x5730;&#x4E8B;&#x52A1;&#x540E;&#xFF0C;&#x5728;commit&#x4E8B;&#x52A1;&#x6D88;&#x606F;&#x4E4B;&#x524D;&#xFF0C;&#x8FD9;&#x6BB5;&#x65F6;&#x95F4;&#x5185;&#x6570;&#x636E;&#x662F;&#x4E0D;&#x4E00;&#x81F4;&#x7684;&#xFF0C;&#x6240;&#x4EE5;&#x53EA;&#x662F;&#x4FDD;&#x8BC1;&#x4E86;&#x53D1;&#x9001;&#x6D88;&#x606F;&#x548C;&#x672C;&#x5730;&#x4E8B;&#x52A1;&#x7684;&#x6700;&#x7EC8;&#x4E00;&#x81F4;&#x6027;&#x3002;</li>
<li>&#x5728;commit&#x4E8B;&#x52A1;&#x6D88;&#x606F;&#x4E4B;&#x540E;&#xFF0C;&#x7136;&#x540E;&#x628A;&#x6D88;&#x606F;&#x6295;&#x9012;&#x7ED9;&#x6D88;&#x8D39;&#x8005;&#x3002;&#x81F3;&#x4E8E;&#x6D88;&#x8D39;&#x8005;&#x662F;&#x5426;&#x6D88;&#x8D39;&#x6D88;&#x606F;&#xFF0C;&#x4EC0;&#x4E48;&#x65F6;&#x5019;&#x6D88;&#x8D39;&#xFF1F;&#x4E5F;&#x90FD;&#x662F;&#x4E0D;&#x53EF;&#x63A7;&#x7684;&#xFF0C;&#x6240;&#x4EE5;&#x4E5F;&#x53EA;&#x80FD;&#x5C3D;&#x91CF;&#x4FDD;&#x8BC1;&#x6570;&#x636E;&#x6700;&#x7EC8;&#x4E00;&#x81F4;&#x6027;&#x3002;</li>
</ol>
<p><strong>&#x672C;&#x6587;&#x8F6C;&#x8F7D;&#x81EA;:</strong> <a href="/external_links/e01956ab668279a4cb975506d1a1aafe.html" target="blank" rel="noopener">&#x6398;&#x91D1;</a></p>
<p><em><a href="https://dev.newban.cn/">&#x5F00;&#x53D1;&#x8005;&#x535A;&#x5BA2; &#x2013; &#x548C;&#x5F00;&#x53D1;&#x76F8;&#x5173;&#x7684; &#x8FD9;&#x91CC;&#x5168;&#x90FD;&#x6709;</a></em></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://dev.newban.cn../../7361976432250028047.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="开发者博客">
      <meta itemprop="description" content>
      <meta itemprop="image" content="../../images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="开发者博客 – IT技术 尽在开发者博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="../../7361976432250028047.html" itemprop="url">观察SwiftUI ScrollView的内容偏移量 观察S</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2024-04-26T16:24:39+08:00">
                2024-04-26
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="&#x89C2;&#x5BDF;SwiftUI-ScrollView&#x7684;&#x5185;&#x5BB9;&#x504F;&#x79FB;&#x91CF;"><a href="#&#x89C2;&#x5BDF;SwiftUI-ScrollView&#x7684;&#x5185;&#x5BB9;&#x504F;&#x79FB;&#x91CF;" class="headerlink" title="&#x89C2;&#x5BDF;SwiftUI ScrollView&#x7684;&#x5185;&#x5BB9;&#x504F;&#x79FB;&#x91CF;"></a>&#x89C2;&#x5BDF;SwiftUI ScrollView&#x7684;&#x5185;&#x5BB9;&#x504F;&#x79FB;&#x91CF;</h1><p>hudson &#x8BD1; <a href="/external_links/a2d42f58c37905e19d9a8d6a9d3bbc04.html" target="blank" rel="noopener">&#x539F;&#x6587;</a></p>
<p>&#x5728;&#x6784;&#x5EFA;&#x5404;&#x79CD;&#x53EF;&#x6EDA;&#x52A8;UI&#x65F6;&#xFF0C;&#x901A;&#x5E38;&#x5E0C;&#x671B;&#x89C2;&#x5BDF;&#x5F53;&#x524D;&#x6EDA;&#x52A8;&#x4F4D;&#x7F6E;&#xFF08;<code>UIScrollView</code>&#x79F0;&#x4E4B;&#x4E3A;&#x5185;&#x5BB9;&#x504F;&#x79FB;&#xFF09;&#xFF0C;&#x4EE5;&#x89E6;&#x53D1;&#x5E03;&#x5C40;&#x66F4;&#x6539;&#xFF0C;&#x5728;&#x9700;&#x8981;&#x65F6;&#x52A0;&#x8F7D;&#x5176;&#x4ED6;&#x6570;&#x636E;&#xFF0C;&#x6216;&#x6839;&#x636E;&#x7528;&#x6237;&#x5F53;&#x524D;&#x6B63;&#x5728;&#x67E5;&#x770B;&#x7684;&#x5185;&#x5BB9;&#x6267;&#x884C;&#x5176;&#x4ED6;&#x7C7B;&#x578B;&#x7684;&#x64CD;&#x4F5C;&#x3002;</p>
<p>&#x7136;&#x800C;&#xFF0C;&#x5F53;&#x6D89;&#x53CA;&#x5230;SwiftUI&#x7684;<code>ScrollView</code>&#x65F6;&#xFF0C;&#x76EE;&#x524D;&#xFF08;&#x5728;&#x64B0;&#x5199;&#x672C;&#x6587;&#x65F6;&#xFF09;&#x6CA1;&#x6709;&#x5185;&#x7F6E;&#x7684;&#x65B9;&#x5F0F;&#x6765;&#x6267;&#x884C;&#x6B64;&#x7C7B;&#x6EDA;&#x52A8;&#x89C2;&#x5BDF;&#x3002;&#x867D;&#x7136;&#x5728;&#x6EDA;&#x52A8;&#x89C6;&#x56FE;&#x4E2D;&#x5D4C;&#x5165;<code>ScrollViewReader</code>&#x786E;&#x5B9E;&#x80FD;&#x591F;&#x5728;&#x4EE3;&#x7801;&#x4E2D;&#x7684;&#x66F4;&#x6539;&#x6EDA;&#x52A8;&#x4F4D;&#x7F6E;&#xFF0C;&#x4F46;&#x5947;&#x602A;&#x7684;&#x662F;&#xFF08;&#x7279;&#x522B;&#x662F;&#x8003;&#x8651;&#x5230;&#x5B83;&#x7684;&#x540D;&#x79F0;&#xFF09;&#xFF0C;&#x5B83;&#x4E0D;&#x5141;&#x8BB8;&#x6211;&#x4EEC;&#x4EE5;&#x4EFB;&#x4F55;&#x65B9;&#x5F0F;&#x8BFB;&#x53D6;&#x5F53;&#x524D;(&#x6EDA;&#x52A8;)&#x5185;&#x5BB9;&#x504F;&#x79FB;&#x91CF;&#x3002;</p>
<p>&#x89E3;&#x51B3;&#x8FD9;&#x4E2A;&#x95EE;&#x9898;&#x7684;&#x4E00;&#x79CD;&#x65B9;&#x6CD5;&#x662F;&#x5229;&#x7528;UIKit&#x7684;<code>UIScrollView</code>&#x7684;&#x4E30;&#x5BCC;&#x529F;&#x80FD;&#xFF0C;&#x7531;&#x4E8E;&#x5176;&#x4EE3;&#x7406;&#x534F;&#x8BAE;&#x548C;<code>scrollViewDidScroll</code>&#x65B9;&#x6CD5;&#xFF0C;&#x5B83;&#x63D0;&#x4F9B;&#x4E86;&#x4E00;&#x79CD;&#x5728;&#x53D1;&#x751F;&#x4EFB;&#x4F55;&#x7C7B;&#x578B;&#x7684;&#x6EDA;&#x52A8;&#x65F6;&#x83B7;&#x5F97;&#x901A;&#x77E5;&#x7684;&#x7B80;&#x5355;&#x65B9;&#x6CD5;&#x3002;&#x7136;&#x800C;&#xFF0C;&#x5C3D;&#x7BA1;&#x6211;&#x901A;&#x5E38;&#x975E;&#x5E38;&#x559C;&#x6B22;&#x4F7F;&#x7528;<code>UIViewRepresentable</code>&#x548C;&#x5176;&#x4ED6; SwiftUI/UIKit&#x4E92;&#x64CD;&#x4F5C;&#x6027;&#x673A;&#x5236;&#xFF0C;&#x4F46;&#x5728;&#x8FD9;&#x79CD;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;&#x6211;&#x4EEC;&#x5FC5;&#x987B;&#x7F16;&#x5199;&#x76F8;&#x5F53;&#x591A;&#x7684;&#x989D;&#x5916;&#x4EE3;&#x7801;&#x6765;&#x5F25;&#x5408;&#x4E24;&#x4E2A;&#x6846;&#x67B6;&#x4E4B;&#x95F4;&#x7684;&#x5DEE;&#x8DDD;&#x3002;</p>
<p>&#x8FD9;&#x4E3B;&#x8981;&#x662F;&#x56E0;&#x4E3A;&#x2014;&#x2014;&#x81F3;&#x5C11;&#x5728;iOS&#x4E0A;&#x2014;&#x2014;&#x6211;&#x4EEC;&#x53EA;&#x80FD;&#x5C06;SwiftUI&#x5185;&#x5BB9;&#x5D4C;&#x5165;&#x5230;<code>UIHostingController</code>&#x4E2D;&#xFF0C;&#x800C;&#x4E0D;&#x662F;&#x5728;&#x81EA;&#x6211;&#x7BA1;&#x7406;&#x7684;<code>UIView</code>&#x4E2D;&#x3002;&#x56E0;&#x6B64;&#xFF0C;&#x5982;&#x679C;&#x6211;&#x4EEC;&#x60F3;&#x4F7F;&#x7528;<code>UIScrollView</code>&#x6784;&#x5EFA;&#x4E00;&#x4E2A;&#x81EA;&#x5B9A;&#x4E49;&#x7684;&#x3001;&#x53EF;&#x89C2;&#x5BDF;&#x7684;<code>ScrollView</code>&#x7248;&#x672C;&#xFF0C;&#x90A3;&#x4E48;&#x6211;&#x4EEC;&#x5FC5;&#x987B;&#x5C06;&#x8BE5;&#x5B9E;&#x73B0;&#x5305;&#x88C5;&#x5728;&#x89C6;&#x56FE;&#x63A7;&#x5236;&#x5668;&#x4E2D;&#xFF0C;&#x7136;&#x540E;&#x7BA1;&#x7406;&#x6211;&#x4EEC;&#x7684;<code>UIHostingController</code>&#x4E0E;&#x952E;&#x76D8;&#x3001;&#x6EDA;&#x52A8;&#x89C6;&#x56FE;&#x7684;&#x5185;&#x5BB9;&#x5927;&#x5C0F;&#x3001;&#x5B89;&#x5168;&#x533A;&#x57DF;&#x5D4C;&#x5165;&#x7B49;&#x4E4B;&#x95F4;&#x7684;&#x5173;&#x7CFB;&#x3002;&#x867D;&#x7136;&#x4E0D;&#x662F;&#x4E0D;&#x53EF;&#x80FD;&#xFF0C;&#x4F46;&#x4ECD;&#x7136;&#x6709;&#x76F8;&#x5F53;&#x591A;&#x7684;&#x989D;&#x5916;&#x5DE5;&#x4F5C;&#x548C;&#x590D;&#x6742;&#x6027;&#x3002;</p>
<p>&#x56E0;&#x6B64;&#xFF0C;&#x8BA9;&#x6211;&#x4EEC;&#x770B;&#x770B;&#x662F;&#x5426;&#x80FD;&#x627E;&#x5230;&#x4E00;&#x79CD;&#x5B8C;&#x5168;SwiftUI&#x539F;&#x751F;&#x7684;&#x65B9;&#x5F0F;&#x6765;&#x6267;&#x884C;&#x6B64;&#x7C7B;&#x5185;&#x5BB9;&#x504F;&#x79FB;&#x89C2;&#x6D4B;&#x3002;</p>
<h2 id="&#x4F7F;&#x7528;GeometryReader&#x89E3;&#x6790;&#x6846;&#x67B6;"><a href="#&#x4F7F;&#x7528;GeometryReader&#x89E3;&#x6790;&#x6846;&#x67B6;" class="headerlink" title="&#x4F7F;&#x7528;GeometryReader&#x89E3;&#x6790;&#x6846;&#x67B6;"></a>&#x4F7F;&#x7528;GeometryReader&#x89E3;&#x6790;&#x6846;&#x67B6;</h2><p>&#x5728;&#x5F00;&#x59CB;&#x4E4B;&#x524D;&#xFF0C;&#x8981;&#x610F;&#x8BC6;&#x5230;&#x7684;&#x5173;&#x952E;&#x4E00;&#x70B9;&#x662F;&#xFF0C;<code>UIScrollView</code>&#x548C;SwiftUI&#x7684;<code>ScrollView</code>&#x90FD;&#x901A;&#x8FC7;&#x4FEE;&#x6539;&#x4E00;&#x4E2A;&#x5BB9;&#x5668;&#x504F;&#x79FB;&#x6267;&#x884C;&#x6EDA;&#x52A8;&#xFF0C;&#x8BE5;&#x5BB9;&#x5668;&#x6258;&#x7BA1;&#x5B9E;&#x9645;&#x53EF;&#x6EDA;&#x52A8;&#x5185;&#x5BB9;&#x3002;&#x7136;&#x540E;&#xFF0C;&#x4ED6;&#x4EEC;&#x5C06;&#x8BE5;&#x5BB9;&#x5668;&#x88C1;&#x526A;&#x5230;&#x8FB9;&#x754C;&#x4E0A;&#xFF0C;&#x4EE5;&#x4EA7;&#x751F;&#x89C6;&#x53E3;&#x79FB;&#x52A8;&#x7684;&#x9519;&#x89C9;&#x3002;&#x56E0;&#x6B64;&#xFF0C;&#x5982;&#x679C;&#x80FD;&#x627E;&#x5230;&#x89C2;&#x5BDF;&#x8BE5;&#x5BB9;&#x5668;&#x6846;&#x67B6;&#xFF08;frame&#xFF09;&#x7684;&#x65B9;&#x6CD5;&#xFF0C;&#x90A3;&#x4E48;&#x57FA;&#x672C;&#x4E0A;&#x4E5F;&#x4F1A;&#x627E;&#x5230;&#x89C2;&#x5BDF;&#x6EDA;&#x52A8;&#x89C6;&#x56FE;&#x5185;&#x5BB9;&#x504F;&#x79FB;&#x7684;&#x65B9;&#x6CD5;&#x3002;</p>
<p>&#x8FD9;&#x5C31;&#x662F;&#x6211;&#x4EEC;&#x7684;&#x8001;&#x670B;&#x53CB;<code>GeometryReader</code>&#x53D1;&#x6325;&#x4F5C;&#x7528;&#x7684;&#x5730;&#x65B9;&#xFF08;&#x6CA1;&#x6709;&#x5B83;&#xFF0C;&#x5C31;&#x4E0D;&#x4F1A;&#x662F;&#x4E00;&#x4E2A;&#x5408;&#x9002;&#x7684;SwiftUI&#x5E03;&#x5C40;&#x89E3;&#x51B3;&#x65B9;&#x6CD5;&#xFF0C;&#x5BF9;&#x5417;&#xFF1F;&#xFF09;&#x3002;&#x867D;&#x7136;<code>GeometryReader</code>&#x4E3B;&#x8981;&#x7528;&#x4E8E;&#x8BBF;&#x95EE;&#x5B83;&#x6240;&#x6258;&#x7BA1;&#x7684;&#x89C6;&#x56FE;&#x7684;<code>size</code>&#x5927;&#x5C0F;&#xFF08;&#x6216;&#x8005;&#x66F4;&#x51C6;&#x786E;&#x5730;&#x8BF4;&#xFF0C;&#x8BE5;&#x89C6;&#x56FE;&#x7684;&#x62DF;&#x8BAE;&#x5927;&#x5C0F;&#xFF09;&#xFF0C;&#x4F46;&#x5B83;&#x8FD8;&#x6709;&#x53E6;&#x4E00;&#x4E2A;&#x5DE7;&#x5999;&#x7684;&#x6280;&#x5DE7;&#x2014;&#x2014;&#x53EF;&#x4EE5;&#x8981;&#x6C42;&#x5B83;&#x8BFB;&#x53D6;&#x76F8;&#x5BF9;&#x4E8E;&#x7ED9;&#x5B9A;&#x5750;&#x6807;&#x7CFB;&#x7684;&#x5F53;&#x524D;&#x89C6;&#x56FE;&#x7684;<code>frame</code>&#x6846;&#x67B6;&#x3002;</p>
<p>&#x8981;&#x4F7F;&#x7528;&#x8BE5;&#x529F;&#x80FD;&#xFF0C;&#x8BA9;&#x6211;&#x4EEC;&#x4ECE;&#x521B;&#x5EFA;&#x4E00;&#x4E2A;<code>PositionObservingView</code>&#x5F00;&#x59CB;&#xFF0C;&#x5B83;&#x5141;&#x8BB8;&#x5C06;<code>CGPoint</code>&#x503C;&#x7ED1;&#x5B9A;&#x5230;&#x8BE5;&#x89C6;&#x56FE;&#x76F8;&#x5BF9;&#x4E8E; <code>CoordinateSpace</code>&#x7684;&#x5F53;&#x524D;&#x4F4D;&#x7F6E;&#xFF0C;&#x6211;&#x4EEC;&#x4E5F;&#x5C06;&#x5C06;&#x5176;&#x4F5C;&#x4E3A;&#x53C2;&#x6570;&#x4F20;&#x9012;&#x3002;&#x7136;&#x540E;&#xFF0C;&#x65B0;&#x89C6;&#x56FE;&#x5C06;&#x5D4C;&#x5165;&#x4E00;&#x4E2A;<code>GeometryReader</code>&#x4F5C;&#x4E3A;&#x80CC;&#x666F;&#xFF08;&#x8FD9;&#x5C06;&#x4F7F;&#x8BE5;<code>GeometryReader</code>&#x5177;&#x6709;&#x4E0E;&#x89C6;&#x56FE;&#x672C;&#x8EAB;&#x76F8;&#x540C;&#x7684;&#x5927;&#x5C0F;&#xFF09;&#xFF0C;&#x5E76;&#x5C06;&#x4F7F;&#x7528;&#x9996;&#x9009;&#x9879;&#x952E;&#x5C06;&#x5DF2;&#x7ECF;&#x89E3;&#x6790;&#x7684;&#x6846;&#x67B6;&#x7684;<code>origin</code>&#x539F;&#x70B9;&#x8BBE;&#x7F6E;&#x4E3A;&#x504F;&#x79FB;&#x91CF;&#x2014;&#x2014;&#x50CF;&#x8FD9;&#x6837;&#xFF1A;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">swift&#x590D;&#x5236;&#x4EE3;&#x7801;struct PositionObservingView&lt;Content: View&gt;: View {</span><br><span class="line">    var coordinateSpace: CoordinateSpace</span><br><span class="line">@Binding var position: CGPoint</span><br><span class="line">    @ViewBuilder var content: () -&gt; Content</span><br><span class="line"></span><br><span class="line">    var body: some View {</span><br><span class="line">        content()</span><br><span class="line">            .background(GeometryReader { geometry in</span><br><span class="line">                Color.clear.preference(</span><br><span class="line">    key: PreferenceKey.self,</span><br><span class="line">    value: geometry.frame(in: coordinateSpace).origin</span><br><span class="line">)</span><br><span class="line">            })</span><br><span class="line">            .onPreferenceChange(PreferenceKey.self) { position in</span><br><span class="line">                self.position = position</span><br><span class="line">            }</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></table></figure>

<blockquote>
<p>&#x8981;&#x4E86;&#x89E3;&#x5982;&#x4F55;&#x4F7F;&#x7528;<code>@ViewBuilder</code>&#x5C5E;&#x6027;&#x6784;&#x5EFA;&#x81EA;&#x5B9A;&#x4E49;SwiftUI&#x5BB9;&#x5668;&#x89C6;&#x56FE;&#x7684;&#x66F4;&#x591A;&#x4FE1;&#x606F;&#xFF0C;&#x8BF7;&#x67E5;&#x770B;<a href="/external_links/c6122c19a4e5222f3805ac7770efa2b4.html" target="blank" rel="noopener">&#x8FD9;&#x7BC7;&#x6587;&#x7AE0;</a>&#x3002;</p>
</blockquote>
<p>&#x4E0A;&#x9762;&#x4EE3;&#x7801;&#x4E2D;&#x4F7F;&#x7528;SwiftUI&#x7684;&#x9996;&#x9009;&#x9879;&#x7CFB;&#x7EDF;&#x7684;&#x539F;&#x56E0;&#x662F;&#xFF0C;<code>GeometryReader</code>&#x5C06;&#x4F5C;&#x4E3A;&#x89C6;&#x56FE;&#x66F4;&#x65B0;&#x8FC7;&#x7A0B;&#x7684;&#x4E00;&#x90E8;&#x5206;&#x88AB;&#x8C03;&#x7528;&#xFF0C;&#x5728;&#x6B64;&#x8FC7;&#x7A0B;&#x4E2D;,&#x4E0D;&#x5141;&#x8BB8;&#x76F4;&#x63A5;&#x6539;&#x53D8;&#x89C6;&#x56FE;&#x7684;&#x72B6;&#x6001;&#x3002;&#x56E0;&#x6B64;&#xFF0C;&#x901A;&#x8FC7;&#x4F7F;&#x7528;&#x9996;&#x9009;&#x9879;&#xFF0C;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x4EE5;&#x5F02;&#x6B65;&#x65B9;&#x5F0F;&#x5C06;<code>CGPoint</code>&#x503C;&#x4F20;&#x9012;&#x5230;&#x89C6;&#x56FE;&#xFF0C;&#x7136;&#x540E;&#x5C06;&#x8FD9;&#x4E9B;&#x503C;&#x5206;&#x914D;&#x7ED9;<code>position</code> &#x7ED1;&#x5B9A;&#x53D8;&#x91CF;&#x3002;</p>
<p>&#x73B0;&#x5728;&#xFF0C;&#x9700;&#x8981;&#x505A;&#x7684;&#x5C31;&#x662F;&#x5B9E;&#x73B0;&#x4E0A;&#x9762;&#x4F7F;&#x7528;&#x7684;<code>PreferenceKey</code>&#x7C7B;&#x578B;&#xFF0C;&#x5982;&#x4E0B;&#xFF1A;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">swift&#x590D;&#x5236;&#x4EE3;&#x7801;private extension PositionObservingView {</span><br><span class="line">    struct PreferenceKey: SwiftUI.PreferenceKey {</span><br><span class="line">        static var defaultValue: CGPoint { .zero }</span><br><span class="line"></span><br><span class="line">        static func reduce(value: inout CGPoint, nextValue: () -&gt; CGPoint) {</span><br><span class="line">            // No-op</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></table></figure>

<blockquote>
<p>&#x5B9E;&#x9645;&#x4E0A;&#x4E0D;&#x9700;&#x8981;&#x5B9E;&#x73B0;&#x4E0A;&#x8FF0;&#x4EFB;&#x4F55;&#x7C7B;&#x578B;&#x7684;<code>reduce</code>&#x7B97;&#x6CD5;&#xFF0C;&#x56E0;&#x4E3A;&#x53EA;&#x6709;&#x5355;&#x4E2A;&#x89C6;&#x56FE;&#x5728;&#x4EFB;&#x4F55;&#x7ED9;&#x5B9A;&#x7684;&#x5C42;&#x6B21;&#x7ED3;&#x6784;&#x4E2D;&#x4F7F;&#x7528;&#x8BE5;&#x9996;&#x9009;&#x9879;&#x952E;&#x7684;&#x4F20;&#x9012;&#x503C;&#xFF08;&#x56E0;&#x4E3A;&#x4E0A;&#x8FF0;&#x5B9E;&#x73B0;&#x5B8C;&#x5168;&#x5305;&#x542B;&#x5728;<code>PositionObservingView</code>&#x4E2D;&#xFF09;&#x3002;</p>
</blockquote>
<p>&#x597D;&#x5427;&#xFF0C;&#x73B0;&#x5728;&#x6709;&#x4E86;&#x4E00;&#x4E2A;&#x80FD;&#x591F;&#x8BFB;&#x53D6;&#x548C;&#x89C2;&#x5BDF;&#x81EA;&#x5DF1;&#x5728;&#x7ED9;&#x5B9A;&#x5750;&#x6807;&#x7CFB;&#x4E2D;&#x4F4D;&#x7F6E;&#x7684;&#x89C6;&#x56FE;&#x3002;&#x8BA9;&#x6211;&#x4EEC;&#x4F7F;&#x7528;&#x8BE5;&#x89C6;&#x56FE;&#x6784;&#x5EFA;&#x4E00;&#x4E2A;<code>ScrollView</code>&#x5305;&#x88C5;&#x5668;&#xFF0C; &#x5B9E;&#x73B0;&#x6211;&#x4EEC;&#x7684;&#x539F;&#x59CB;&#x76EE;&#x6807;&#x2014;&#x2014;&#x80FD;&#x591F;&#x5728;&#x6B64;&#x7C7B;&#x6EDA;&#x52A8;&#x89C6;&#x56FE;&#x4E2D;&#x8BFB;&#x53D6;&#x5F53;&#x524D;&#x5185;&#x5BB9;&#x504F;&#x79FB;&#x91CF;&#x3002;</p>
<h2 id="&#x4ECE;&#x4F4D;&#x7F6E;&#x5230;&#x5185;&#x5BB9;&#x504F;&#x79FB;"><a href="#&#x4ECE;&#x4F4D;&#x7F6E;&#x5230;&#x5185;&#x5BB9;&#x504F;&#x79FB;" class="headerlink" title="&#x4ECE;&#x4F4D;&#x7F6E;&#x5230;&#x5185;&#x5BB9;&#x504F;&#x79FB;"></a>&#x4ECE;&#x4F4D;&#x7F6E;&#x5230;&#x5185;&#x5BB9;&#x504F;&#x79FB;</h2><p>&#x65B0;&#x7684;<code>ScrollView</code>&#x5305;&#x88C5;&#x5668;&#x57FA;&#x672C;&#x4E0A;&#x5C06;&#x6709;&#x4E24;&#x4E2A;&#x804C;&#x8D23;&#x2014;&#x2014;&#x4E00;&#xFF0C;&#x5B83;&#x9700;&#x8981;&#x5C06;&#x5185;&#x90E8;<code>PositionObservingView</code>&#x7684;&#x4F4D;&#x7F6E;&#x8F6C;&#x6362;&#x4E3A;&#x5F53;&#x524D;&#x6EDA;&#x52A8;&#x4F4D;&#x7F6E;&#xFF08;&#x6216;&#x5185;&#x5BB9;&#x504F;&#x79FB;&#xFF09;&#xFF0C;&#x4E8C;&#xFF0C;&#x5B83;&#x8FD8;&#x9700;&#x8981;&#x5B9A;&#x4E49;&#x4E00;&#x4E2A;<code>CordinateSpace</code>&#x5750;&#x6807;&#x7A7A;&#x95F4;&#xFF0C;&#x5185;&#x90E8;&#x89C6;&#x56FE;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#x5B83;&#x6765;&#x89E3;&#x6790;&#x5176;&#x4F4D;&#x7F6E;&#x3002;&#x9664;&#x6B64;&#x4E4B;&#x5916;&#xFF0C;&#x5B83;&#x53EA;&#x9700;&#x5C06;&#x5176;&#x914D;&#x7F6E;&#x53C2;&#x6570;&#x8F6C;&#x53D1;&#x5230;&#x5176;&#x5E95;&#x5C42;&#x7684;<code>ScrollView</code>&#xFF0C; &#x4EE5;&#x51B3;&#x5B9A;&#x6EDA;&#x52A8;&#x89C6;&#x56FE;&#x5728;&#x54EA;&#x4E9B;&#x8F74;&#x4E0A;&#x8FD0;&#x884C;&#xFF0C;&#x4EE5;&#x53CA;&#x662F;&#x5426;&#x663E;&#x793A;&#x6EDA;&#x52A8;&#x6307;&#x793A;&#x5668;&#x3002;</p>
<p>&#x597D;&#x6D88;&#x606F;&#x662F;&#xFF0C;&#x5C06;&#x5185;&#x90E8;&#x89C6;&#x56FE;&#x7684;&#x4F4D;&#x7F6E;&#x8F6C;&#x6362;&#x4E3A;&#x5185;&#x5BB9;&#x504F;&#x79FB;&#x5C31;&#x50CF;&#x7ED9;<code>CGPoint</code>&#x7684;x&#x548C;y&#x5206;&#x91CF;&#x53D6;&#x8D1F;&#x4E00;&#x6837;&#x7B80;&#x5355;&#x3002;&#x8FD9;&#x662F;&#x56E0;&#x4E3A;&#xFF0C;&#x5982;&#x524D;&#x6240;&#x8FF0;&#xFF0C;&#x6EDA;&#x52A8;&#x89C6;&#x56FE;&#x7684;&#x5185;&#x5BB9;&#x504F;&#x79FB;&#x91CF;&#x672C;&#x8D28;&#x4E0A;&#x53EA;&#x662F;&#x5BB9;&#x5668;&#x76F8;&#x5BF9;&#x4E8E;&#x6EDA;&#x52A8;&#x89C6;&#x56FE;&#x8FB9;&#x754C;&#x79FB;&#x52A8;&#x7684;&#x8DDD;&#x79BB;&#x3002;</p>
<p>&#x56E0;&#x6B64;&#xFF0C;&#x7EE7;&#x7EED;&#x5B9E;&#x65BD;&#x6211;&#x4EEC;&#x7684;&#x81EA;&#x5B9A;&#x4E49;&#x6EDA;&#x52A8;&#x89C6;&#x56FE;&#xFF0C;&#x5C06;&#x5176;&#x547D;&#x540D;&#x4E3A;<code>OffsetObservingScrollView</code>&#xFF08;&#x8FD9;&#x79CD;&#x60C5;&#x51B5;&#x4E0B;&#x62FC;&#x5199;&#x51FA;<code>ContentOffset</code>&#x786E;&#x5B9E;&#x6709;&#x70B9;&#x592A;&#x5197;&#x957F;&#x4E86;&#xFF09;&#xFF1A;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">swift&#x590D;&#x5236;&#x4EE3;&#x7801;struct OffsetObservingScrollView&lt;Content: View&gt;: View {</span><br><span class="line">    var axes: Axis.Set = [.vertical]</span><br><span class="line">    var showsIndicators = true</span><br><span class="line">    @Binding var offset: CGPoint</span><br><span class="line">    @ViewBuilder var content: () -&gt; Content</span><br><span class="line"></span><br><span class="line">    // The name of our coordinate space doesn&#x2019;t have to be</span><br><span class="line">    // stable between view updates (it just needs to be</span><br><span class="line">    // consistent within this view), so we&#x2019;ll simply use a</span><br><span class="line">    // plain UUID for it:</span><br><span class="line">    private let coordinateSpaceName = UUID()</span><br><span class="line"></span><br><span class="line">    var body: some View {</span><br><span class="line">        ScrollView(axes, showsIndicators: showsIndicators) {</span><br><span class="line">            PositionObservingView(</span><br><span class="line">                coordinateSpace: .named(coordinateSpaceName),</span><br><span class="line">                position: Binding(</span><br><span class="line">                    get: { offset },</span><br><span class="line">                    set: { newOffset in</span><br><span class="line">                        offset = CGPoint(</span><br><span class="line">    x: -newOffset.x,</span><br><span class="line">    y: -newOffset.y</span><br><span class="line">)</span><br><span class="line">                    }</span><br><span class="line">                ),</span><br><span class="line">                content: content</span><br><span class="line">            )</span><br><span class="line">        }</span><br><span class="line">        .coordinateSpace(name: coordinateSpaceName)</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></table></figure>

<blockquote>
<p>&#x6CE8;&#x610F;&#x6211;&#x4EEC;&#x5982;&#x4F55;&#x901A;&#x8FC7;&#x4F7F;&#x7528;&#x95ED;&#x5305;&#x5B9A;&#x4E49;getter&#x548C;setter&#xFF0C;&#x4E3A;&#x5185;&#x90E8;&#x89C6;&#x56FE;&#x7684;&#x4F4D;&#x7F6E;&#x53C2;&#x6570;&#x521B;&#x5EFA;&#x5B8C;&#x5168;&#x81EA;&#x5B9A;&#x4E49;&#x7684;&#x7ED1;&#x5B9A;&#x3002;&#x5982;&#x4E0A;&#x8FF0;&#x60C5;&#x51B5;&#xFF0C;&#x5728;&#x5C06;&#x4E00;&#x4E2A;&#x503C;&#x5206;&#x914D;&#x7ED9;&#x53E6;&#x4E00;&#x4E2A;&#x7ED1;&#x5B9A;&#x4E4B;&#x524D;&#x9700;&#x8FDB;&#x884C;&#x8F6C;&#x6362;&#x65F6;&#xFF0C;&#x81EA;&#x5B9A;&#x4E49;&#x7684;&#x7ED1;&#x5B9A;&#x662F;&#x4E00;&#x4E2A;&#x5F88;&#x597D;&#x7684;&#x9009;&#x62E9;&#x3002;</p>
</blockquote>
<p>&#x5C31;&#x662F;&#x8FD9;&#x6837;&#xFF01;&#x73B0;&#x5728;&#x6709;&#x4E86;&#x4E00;&#x4E2A;SwiftUI&#x5185;&#x7F6E;ScrollView&#x7684;&#x4E34;&#x65F6;&#x66FF;&#x4EE3;&#x54C1;&#xFF0C;&#x5B83;&#x80FD;&#x591F;&#x89C2;&#x5BDF;&#x5F53;&#x524D;&#x5185;&#x5BB9;&#x504F;&#x79FB;&#x91CF;&#x2014;&#x2014;&#x53EF;&#x4EE5;&#x5C06;&#x5176;&#x7ED1;&#x5B9A;&#x5230;&#x4EFB;&#x4F55;&#x72B6;&#x6001;&#x5C5E;&#x6027;&#xFF0C;&#x4F8B;&#x5982;&#x66F4;&#x6539;&#x5934;&#x90E8;&#x89C6;&#x56FE;&#x7684;&#x5E03;&#x5C40;&#xFF0C;&#x5411;&#x670D;&#x52A1;&#x5668;&#x62A5;&#x544A;&#x5206;&#x6790;&#x4E8B;&#x4EF6;&#xFF0C;&#x6216;&#x6267;&#x884C;&#x4EFB;&#x4F55;&#x5176;&#x4ED6;&#x7C7B;&#x578B;&#x7684;&#x57FA;&#x4E8E;&#x6EDA;&#x52A8;&#x4F4D;&#x7F6E;&#x7684;&#x64CD;&#x4F5C;&#x3002;&#x4F60;&#x53EF;&#x4EE5;<a href="/external_links/8f28edf80e67ea9fed81a4b2ec9ddaaa.html" target="blank" rel="noopener">&#x5728;&#x8FD9;&#x91CC;</a>&#x627E;&#x5230;&#x4E00;&#x4E2A;&#x4F7F;&#x7528;&#x4E0A;&#x8FF0;<code>OffsetObservingScrollView</code>&#x7684;&#x5B8C;&#x6574;&#x793A;&#x4F8B;&#xFF0C;&#x4EE5;&#x5B9E;&#x73B0;&#x53EF;&#x6298;&#x53E0;&#x7684;&#x5934;&#x90E8;&#x89C6;&#x56FE;&#x3002;</p>
<p>&#x6211;&#x5E0C;&#x671B;&#x4F60;&#x53D1;&#x73B0;&#x8FD9;&#x7BC7;&#x6587;&#x7AE0;&#x6709;&#x8DA3;&#x4E14;&#x6709;&#x7528;&#x3002;&#x5982;&#x679C;&#x6709;&#x4EFB;&#x4F55;&#x95EE;&#x9898;&#x3001;&#x8BC4;&#x8BBA;&#x6216;&#x53CD;&#x9988;&#xFF0C;&#x8BF7;&#x968F;&#x65F6;&#x5728;<a href="/external_links/8e5c799654a19438e5227c36b1324f29.html" target="blank" rel="noopener">Mastodon</a> &#x4E0A;&#x627E;&#x5230;&#x6211;&#xFF0C;&#x6216;&#x901A;&#x8FC7;<a href="/external_links/c0cfbcc80903de1b1832379311c681f0.html" target="blank" rel="noopener">&#x7535;&#x5B50;&#x90AE;&#x4EF6;</a>&#x4E0E;&#x6211;&#x8054;&#x7CFB;&#x3002;</p>
<p>&#x611F;&#x8C22;&#x60A8;&#x7684;&#x9605;&#x8BFB;&#xFF01;</p>
<p><strong>&#x672C;&#x6587;&#x8F6C;&#x8F7D;&#x81EA;:</strong> <a href="/external_links/5bf12bcc5b1e99e3fdfdab611e3cf250.html" target="blank" rel="noopener">&#x6398;&#x91D1;</a></p>
<p><em><a href="https://dev.newban.cn/">&#x5F00;&#x53D1;&#x8005;&#x535A;&#x5BA2; &#x2013; &#x548C;&#x5F00;&#x53D1;&#x76F8;&#x5173;&#x7684; &#x8FD9;&#x91CC;&#x5168;&#x90FD;&#x6709;</a></em></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://dev.newban.cn../../7361943620931141684.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="开发者博客">
      <meta itemprop="description" content>
      <meta itemprop="image" content="../../images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="开发者博客 – IT技术 尽在开发者博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="../../7361943620931141684.html" itemprop="url">SwiftUI视图与修饰符 SwiftUI视图与修饰符</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2024-04-26T16:23:14+08:00">
                2024-04-26
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="SwiftUI&#x89C6;&#x56FE;&#x4E0E;&#x4FEE;&#x9970;&#x7B26;"><a href="#SwiftUI&#x89C6;&#x56FE;&#x4E0E;&#x4FEE;&#x9970;&#x7B26;" class="headerlink" title="SwiftUI&#x89C6;&#x56FE;&#x4E0E;&#x4FEE;&#x9970;&#x7B26;"></a>SwiftUI&#x89C6;&#x56FE;&#x4E0E;&#x4FEE;&#x9970;&#x7B26;</h1><p>hudson &#x8BD1; <a href="/external_links/d3393aec0726870d1f0eb3747c537ee8.html" target="blank" rel="noopener">&#x539F;&#x6587;</a></p>
<p>&#x81F3;&#x5C11;&#x4ECE;&#x67B6;&#x6784;&#x7684;&#x89D2;&#x5EA6;&#x6765;&#x770B;&#xFF0C;SwiftUI&#x6700;&#x6709;&#x8DA3;&#x7684;&#x65B9;&#x9762;&#x4E4B;&#x4E00;&#x662F;&#x5B83;&#x672C;&#x8D28;&#x4E0A;&#x5982;&#x4F55;&#x5C06;&#x89C6;&#x56FE;&#x89C6;&#x4E3A;&#x6570;&#x636E;&#x3002;&#x6BD5;&#x7ADF;&#xFF0C;SwiftUI&#x89C6;&#x56FE;&#x4E0D;&#x662F;&#x5C4F;&#x5E55;&#x4E0A;&#x6E32;&#x67D3;&#x7684;&#x50CF;&#x7D20;&#x7684;&#x76F4;&#x63A5;&#x8868;&#x793A;&#xFF0C;&#x800C;&#x662F;&#x5BF9;&#x7ED9;&#x5B9A;UI&#x5E94;&#x8BE5;&#x5982;&#x4F55;&#x5DE5;&#x4F5C;&#x3001;&#x5916;&#x89C2;&#x548C;&#x884C;&#x4E3A;&#x7684;&#x63CF;&#x8FF0;&#x3002;</p>
<p>&#x5728;&#x5982;&#x4F55;&#x6784;&#x5EFA;&#x89C6;&#x56FE;&#x4EE3;&#x7801;&#x65F6;&#xFF0C;&#x8FD9;&#x79CD;&#x975E;&#x5E38;&#x6570;&#x636E;&#x9A71;&#x52A8;&#x7684;&#x65B9;&#x6CD5;&#x7ED9;&#x4E86;&#x6211;&#x4EEC;&#x5F88;&#x5927;&#x7684;&#x7075;&#x6D3B;&#x6027;&#x2014;&#x2014;&#x4EE5;&#x81F3;&#x4E8E;&#x4EBA;&#x4EEC;&#x751A;&#x81F3;&#x53EF;&#x80FD;&#x4F1A;&#x5F00;&#x59CB;&#x8D28;&#x7591;&#x5C06;&#x4E00;&#x4E2A;UI&#x5B9A;&#x4E49;&#x4E3A;&#x89C6;&#x56FE;&#x7C7B;&#x578B;&#x4E0E;&#x5C06;&#x76F8;&#x540C;&#x7684;&#x4EE3;&#x7801;&#x4F5C;&#x4E3A;&#x4FEE;&#x9970;&#x7B26;&#x5B9E;&#x73B0;&#x4E4B;&#x95F4;&#x5230;&#x5E95;&#x6709;&#x4EC0;&#x4E48;&#x533A;&#x522B;&#x3002;</p>
<p>&#x4EE5;&#x4E0B;&#x9762;<code>FeaturedLabel</code>&#x89C6;&#x56FE;&#x4E3A;&#x4F8B;&#x2014;&#x2014;&#x5B83;&#x5728;&#x5C06;&#x661F;&#x5F62;&#x56FE;&#x7247;&#x6DFB;&#x52A0;&#x5230;&#x7ED9;&#x5B9A;&#x6587;&#x672C;&#x524D;&#x9762;&#xFF0C;&#x5E76;&#x5E94;&#x7528;&#x7279;&#x5B9A;&#x7684;&#x524D;&#x666F;&#x8272;&#x548C;&#x5B57;&#x4F53;&#xFF0C;&#x4F7F;&#x8BE5;&#x6587;&#x672C;&#x8131;&#x9896;&#x800C;&#x51FA;&#xFF0C;&#x6210;&#x4E3A;&#x201C;&#x7279;&#x8272;&#x201D;&#xFF1A;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">swift&#x590D;&#x5236;&#x4EE3;&#x7801;struct FeaturedLabel: View {</span><br><span class="line">    var text: String</span><br><span class="line"></span><br><span class="line">    var body: some View {</span><br><span class="line">        HStack {</span><br><span class="line">            Image(systemName: &#x201D;star&#x201C;)</span><br><span class="line">            Text(text)</span><br><span class="line">        }</span><br><span class="line">        .foregroundColor(.orange)</span><br><span class="line">        .font(.headline)</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></table></figure>

<p>&#x867D;&#x7136;&#x4E0A;&#x8FF0;&#x5185;&#x5BB9;&#x53EF;&#x80FD;&#x770B;&#x8D77;&#x6765;&#x50CF;&#x5178;&#x578B;&#x7684;&#x81EA;&#x5B9A;&#x4E49;&#x89C6;&#x56FE;&#xFF0C;&#x4F46;&#x4F7F;&#x7528;&#x201C;&#x4FEE;&#x6539;&#x5668;&#x98CE;&#x683C;&#x201D;&#x7684;<code>View</code> &#x6269;&#x5C55;,&#x4E5F;&#x53EF;&#x4EE5;&#x8F7B;&#x677E;&#x5B9E;&#x73B0;&#x5B8C;&#x5168;&#x76F8;&#x540C;&#x7684;&#x754C;&#x9762;&#x6548;&#x679C;&#x2014;&#x2014;&#x50CF;&#x8FD9;&#x6837;&#xFF1A;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">swift&#x590D;&#x5236;&#x4EE3;&#x7801;extension View {</span><br><span class="line">    func featured() -&gt; some View {</span><br><span class="line">        HStack {</span><br><span class="line">            Image(systemName: &#x201D;star&#x201C;)</span><br><span class="line">            self</span><br><span class="line">        }</span><br><span class="line">        .foregroundColor(.orange)</span><br><span class="line">        .font(.headline)</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></table></figure>

<p>&#x5F53;&#x653E;&#x5728;&#x793A;&#x4F8B;<code>ContentView</code>&#x4E2D;&#x65F6;&#xFF0C;&#x8FD9;&#x4E24;&#x4E2A;&#x4E0D;&#x540C;&#x7684;&#x89E3;&#x51B3;&#x65B9;&#x6848;&#x5E76;&#x6392;&#x770B;&#x8D77;&#x6765;&#x5982;&#x4E0B;&#xFF1A;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">swift&#x590D;&#x5236;&#x4EE3;&#x7801;struct ContentView: View {</span><br><span class="line">    var body: some View {</span><br><span class="line">        VStack {</span><br><span class="line">            // View-based version:</span><br><span class="line">            FeaturedLabel(text: &#x201D;Hello, world!&#x201C;)</span><br><span class="line"></span><br><span class="line">            // Modifier-based version:</span><br><span class="line">            Text(&#x201D;Hello, world!&#x201C;).featured()</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></table></figure>

<p>&#x4E24;&#x79CD;&#x89E3;&#x51B3;&#x65B9;&#x6848;&#x4E4B;&#x95F4;&#x7684;&#x4E00;&#x4E2A;&#x5173;&#x952E;&#x533A;&#x522B;&#x662F;&#xFF0C;&#x540E;&#x8005;&#x53EF;&#x4EE5;&#x5E94;&#x7528;&#x4E8E;&#x4EFB;&#x4F55;&#x89C6;&#x56FE;&#xFF0C;&#x800C;&#x524D;&#x8005;&#x53EA;&#x5141;&#x8BB8;&#x6211;&#x4EEC;&#x521B;&#x5EFA;&#x57FA;&#x4E8E;<code>String</code>&#x7684;&#x7279;&#x8272;&#x6807;&#x7B7E;&#x3002;&#x4E0D;&#x8FC7;&#xFF0C;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;&#x5C06;&#x6211;&#x4EEC;&#x7684;<code>FeaturedLabel</code>&#x8F6C;&#x6362;&#x4E3A;&#x81EA;&#x5B9A;&#x4E49;&#x5BB9;&#x5668;&#x89C6;&#x56FE;&#x6765;&#x89E3;&#x51B3;&#x8FD9;&#x4E2A;&#x95EE;&#x9898;&#xFF0C;&#x8BE5;&#x89C6;&#x56FE;&#x63A5;&#x53D7;&#x4EFB;&#x4F55;&#x7B26;&#x5408;&#x89C6;&#x56FE;&#x7684;&#x5185;&#x5BB9;&#xFF0C;&#x800C;&#x4E0D;&#x4EC5;&#x4EC5;&#x662F;&#x4E00;&#x4E2A;&#x666E;&#x901A;&#x7684;&#x5B57;&#x7B26;&#x4E32;&#xFF1A;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">swift&#x590D;&#x5236;&#x4EE3;&#x7801;struct FeaturedLabel&lt;Content: View&gt;: View {</span><br><span class="line">    @ViewBuilder var content: () -&gt; Content</span><br><span class="line"></span><br><span class="line">    var body: some View {</span><br><span class="line">        HStack {</span><br><span class="line">            Image(systemName: &#x201D;star&#x201C;)</span><br><span class="line">            content()</span><br><span class="line">        }</span><br><span class="line">        .foregroundColor(.orange)</span><br><span class="line">        .font(.headline)</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></table></figure>

<blockquote>
<p>&#x4E0A;&#x9762;&#xFF0C;&#x6211;&#x4EEC;&#x5C06;<code>ViewBuilder</code>&#x5C5E;&#x6027;&#x6DFB;&#x52A0;&#x5230; <code>content</code>&#x95ED;&#x5305;&#x4E2D;&#xFF0C;&#x4FBF;&#x53EF;&#x4EE5;&#x5229;&#x7528;SwiftUI&#x7684;&#x89C6;&#x56FE;&#x6784;&#x5EFA;API&#x7684;&#x5168;&#x90E8;&#x529F;&#x80FD;&#xFF08;&#x4F8B;&#x5982;&#xFF0C; &#x53EF;&#x4EE5;&#x4E3A;&#x6BCF;&#x4E2A;<code>FeaturedLabel</code>&#x6784;&#x5EFA;&#x5185;&#x5BB9;&#x65F6;&#x4F7F;&#x7528;<code>if</code>&#x548C;<code>switch</code>&#x8BED;&#x53E5;&#xFF09;&#x3002;</p>
</blockquote>
<p>&#x4E0D;&#x8FC7;&#xFF0C;&#x6211;&#x4EEC;&#x53EF;&#x80FD;&#x4ECD;&#x7136;&#x5E0C;&#x671B;&#x4F7F;&#x7528;&#x4E00;&#x4E2A;&#x5B57;&#x7B26;&#x4E32;&#x8F7B;&#x677E;&#x521D;&#x59CB;&#x5316; <code>FeaturedLabel</code> &#x5B9E;&#x4F8B;&#xFF0C;&#x800C;&#x4E0D;&#x662F;&#x603B;&#x662F;&#x4F20;&#x9012;&#x5305;&#x542B;<code>Text</code>&#x89C6;&#x56FE;&#x7684;&#x95ED;&#x5305;&#x3002;&#x8C22;&#x5929;&#x8C22;&#x5730;&#xFF0C;&#x4F7F;&#x7528;&#x7C7B;&#x578B;&#x7EA6;&#x675F;&#xFF0C;&#x53EF;&#x4EE5;&#x8F7B;&#x677E;&#x5B9E;&#x73B0;&#xFF1A;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">swift&#x590D;&#x5236;&#x4EE3;&#x7801;extension FeaturedLabel where Content == Text {</span><br><span class="line">    init(_ text: String) {</span><br><span class="line">        self.init {</span><br><span class="line">            Text(text)</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></table></figure>

<blockquote>
<p>&#x4E0A;&#x56FE;&#x4E2D;&#xFF0C;&#x6211;&#x4EEC;&#x4F7F;&#x7528;&#x4E0B;&#x5212;&#x7EBF;&#x6765;&#x5220;&#x9664;&#x6587;&#x672C;&#x7684;&#x5916;&#x90E8;&#x53C2;&#x6570;&#x6807;&#x7B7E;&#xFF0C;&#x4EE5;&#x6A21;&#x4EFF;SwiftUI&#x81EA;&#x5DF1;&#x7684;&#x5185;&#x7F6E;&#x4FBF;&#x5229;API,&#x5982;<code>Button</code>&#x548C;<code>NavigationLink</code>&#x7B49;&#x7C7B;&#x578B;&#x5DE5;&#x4F5C;&#x7684;&#x65B9;&#x5F0F;&#x3002;</p>
</blockquote>
<p>&#x6709;&#x4E86;&#x8FD9;&#x4E9B;&#x6539;&#x53D8;&#xFF0C;&#x4E24;&#x79CD;&#x89E3;&#x51B3;&#x65B9;&#x6848;&#x73B0;&#x5728;&#x90FD;&#x5177;&#x5907;&#x5B8C;&#x5168;&#x76F8;&#x540C;&#x7684;&#x7075;&#x6D3B;&#x6027;&#xFF0C;&#x5E76;&#x4E14;&#x65E2;&#x53EF;&#x4EE5;&#x8F7B;&#x677E;&#x5730;&#x7528;&#x4E8E;&#x521B;&#x5EFA;&#x57FA;&#x4E8E;&#x6587;&#x672C;&#x7684;&#x6807;&#x7B7E;&#xFF0C;&#x4E5F;&#x53EF;&#x6E32;&#x67D3;&#x4EFB;&#x4F55;&#x7C7B;&#x578B;&#x7684;SwiftUI&#x89C6;&#x56FE;&#x5185;&#x5BB9;&#xFF1A;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">swift&#x590D;&#x5236;&#x4EE3;&#x7801;struct ContentView: View {</span><br><span class="line">    @State private var isToggleOn = false</span><br><span class="line"></span><br><span class="line">    var body: some View {</span><br><span class="line">        VStack {</span><br><span class="line">            // Using texts:</span><br><span class="line">            Group {</span><br><span class="line">                // View-based version:</span><br><span class="line">                FeaturedLabel(&#x201D;Hello, world!&#x201C;)</span><br><span class="line"></span><br><span class="line">                // Modifier-based version:</span><br><span class="line">                Text(&#x201D;Hello, world!&#x201C;).featured()</span><br><span class="line">            }</span><br><span class="line"></span><br><span class="line">            // Using toggles:</span><br><span class="line">            Group {</span><br><span class="line">                // View-based version:</span><br><span class="line">                FeaturedLabel {</span><br><span class="line">                    Toggle(&#x201D;Toggle&#x201C;, isOn: $isToggleOn)</span><br><span class="line">                }</span><br><span class="line"></span><br><span class="line">                // Modifier-based version:</span><br><span class="line">                Toggle(&#x201D;Toggle&#x201C;, isOn: $isToggleOn).featured()</span><br><span class="line">            }</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></table></figure>

<p>&#x6B64;&#x65F6;&#x6211;&#x4EEC;&#x53EF;&#x80FD;&#x4F1A;&#x771F;&#x6B63;&#x5F00;&#x59CB;&#x95EE;&#x81EA;&#x5DF1;&#x2014;&#x2014;&#x5C06;UI&#x5B9A;&#x4E49;&#x4E3A;&#x89C6;&#x56FE;&#x4E0E;&#x4FEE;&#x9970;&#x7B26;&#x5230;&#x5E95;&#x6709;&#x4EC0;&#x4E48;&#x533A;&#x522B;&#xFF1F; &#x9664;&#x4E86;&#x4EE3;&#x7801;&#x98CE;&#x683C;&#x548C;&#x7ED3;&#x6784;&#x5916;&#xFF0C;&#x771F;&#x7684;&#x6709;&#x4EC0;&#x4E48;&#x5B9E;&#x9645;&#x7684;&#x5DEE;&#x5F02;&#x5417;&#xFF1F;</p>
<p>&#x55EF;&#xFF0C;&#x90A3;&#x72B6;&#x6001;&#x5462;&#xFF1F; &#x5047;&#x8BBE;&#x6211;&#x4EEC;&#x60F3;&#x8BA9;&#x65B0;&#x7684;&#x7279;&#x8272;&#x6807;&#x7B7E;&#x5728;&#x9996;&#x6B21;&#x51FA;&#x73B0;&#x65F6;&#x81EA;&#x52A8;&#x6DE1;&#x5165;&#xFF1F; &#x8FD9;&#x9700;&#x8981;&#x6211;&#x4EEC;&#x7528;<code>@State</code>-&#x6765;&#x6807;&#x8BB0;<code>opacity</code>&#x5C5E;&#x6027;&#xFF0C;&#x7136;&#x540E;&#x5728;<code>onAppear</code>&#x95ED;&#x5305;&#x4E2D;&#x5B9E;&#x73B0;&#x52A8;&#x753B;&#x6548;&#x679C;&#x2014;&#x2014;&#x4F8B;&#x5982;&#xFF1A;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">swift&#x590D;&#x5236;&#x4EE3;&#x7801;struct FeaturedLabel&lt;Content: View&gt;: View {</span><br><span class="line">    @ViewBuilder var content: () -&gt; Content</span><br><span class="line">    @State private var opacity = 0.0</span><br><span class="line"></span><br><span class="line">    var body: some View {</span><br><span class="line">        HStack {</span><br><span class="line">            Image(systemName: &#x201D;star&#x201C;)</span><br><span class="line">            content()</span><br><span class="line">        }</span><br><span class="line">        .foregroundColor(.orange)</span><br><span class="line">        .font(.headline)</span><br><span class="line">        .opacity(opacity)</span><br><span class="line">.onAppear {</span><br><span class="line">    withAnimation {</span><br><span class="line">        opacity = 1</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></table></figure>

<p>&#x8D77;&#x521D;&#xFF0C;&#x53C2;&#x4E0E;SwiftUI&#x72B6;&#x6001;&#x7BA1;&#x7406;&#x7CFB;&#x7EDF;&#x4F3C;&#x4E4E;&#x53EA;&#x6709;&#x9002;&#x5F53;&#x7684;&#x89C6;&#x56FE;&#x7C7B;&#x578B;&#x624D;&#x80FD;&#x505A;&#x5230;&#xFF0C;&#x4F46;&#x4E8B;&#x5B9E;&#x8BC1;&#x660E;&#xFF0C;&#x4FEE;&#x9970;&#x7B26;&#x5177;&#x6709;&#x5B8C;&#x5168;&#x76F8;&#x540C;&#x7684;&#x529F;&#x80FD;&#x2014;&#x2014;&#x53EA;&#x8981;&#x6211;&#x4EEC;&#x5C06;&#x6B64;&#x7C7B;&#x4FEE;&#x9970;&#x7B26;&#x5B9A;&#x4E49;&#x4E3A;&#x9002;&#x5F53;&#x7684;&#x7B26;&#x5408; <code>ViewModifier</code>&#x534F;&#x8BAE;&#x7684;&#x7C7B;&#x578B;&#xFF0C;&#x800C;&#x4E0D;&#x4EC5;&#x4EC5;&#x662F;&#x4F7F;&#x7528;<code>View</code>&#x534F;&#x8BAE;&#x6269;&#x5C55;&#xFF1A;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">swift&#x590D;&#x5236;&#x4EE3;&#x7801;struct FeaturedModifier: ViewModifier {</span><br><span class="line">    @State private var opacity = 0.0</span><br><span class="line"></span><br><span class="line">    func body(content: Content) -&gt; some View {</span><br><span class="line">        HStack {</span><br><span class="line">            Image(systemName: &#x201D;star&#x201C;)</span><br><span class="line">            content</span><br><span class="line">        }</span><br><span class="line">        .foregroundColor(.orange)</span><br><span class="line">        .font(.headline)</span><br><span class="line">        .opacity(opacity)</span><br><span class="line">.onAppear {</span><br><span class="line">    withAnimation {</span><br><span class="line">        opacity = 1</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></table></figure>

<p>&#x6709;&#x4E86;&#x4E0A;&#x8FF0;&#x529F;&#x80FD;&#xFF0C;&#x6211;&#x4EEC;&#x73B0;&#x5728;&#x53EF;&#x4EE5;&#x7528;&#x8C03;&#x7528;&#x5C06;&#x65B0;&#x7684; <code>FeaturedModifier</code> &#x6DFB;&#x52A0;&#x5230;&#x5F53;&#x524D;&#x89C6;&#x56FE;&#x4E2D;&#x6765;,&#x53D6;&#x4EE3;&#x4E4B;&#x524D;&#x7684;<code>featured</code>&#x65B9;&#x6CD5;&#x5B9E;&#x73B0;&#x2014;&#x2014;&#x4E24;&#x79CD;&#x65B9;&#x6CD5;&#x518D;&#x6B21;&#x4EA7;&#x751F;&#x5B8C;&#x5168;&#x76F8;&#x540C;&#x7684;&#x6700;&#x7EC8;&#x7ED3;&#x679C;&#xFF1A;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">swift&#x590D;&#x5236;&#x4EE3;&#x7801;extension View {</span><br><span class="line">    func featured() -&gt; some View {</span><br><span class="line">        modifier(FeaturedModifier())</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></table></figure>

<blockquote>
<p>&#x540C;&#x6837;&#x503C;&#x5F97;&#x6CE8;&#x610F;&#x7684;&#x662F;&#xFF0C;&#x5728;<code>ViewModifier</code>&#x7C7B;&#x578B;&#x4E2D;&#x5305;&#x88C5;&#x4EE3;&#x7801;&#x65F6;&#xFF0C;&#x4EE3;&#x7801;&#x662F;&#x5EF6;&#x8FDF;&#x52A0;&#x8F7D;&#x7684;&#xFF0C;&#x5373;&#x5728;&#x9700;&#x8981;&#x65F6;&#x8BA1;&#x7B97;&#x4EE3;&#x7801;&#xFF0C;&#x800C;&#x4E0D;&#x662F;&#x5728;&#x9996;&#x6B21;&#x6DFB;&#x52A0;&#x4FEE;&#x9970;&#x7B26;&#x65F6;&#x5C31;&#x6267;&#x884C;&#x7684;&#xFF0C;&#x67D0;&#x4E9B;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;&#x6027;&#x80FD;&#x53EF;&#x80FD;&#x4F1A;&#x6709;&#x6240;&#x4E0D;&#x540C;&#x3002;</p>
</blockquote>
<p>&#x56E0;&#x6B64;&#xFF0C;&#x65E0;&#x8BBA;&#x6211;&#x4EEC;&#x662F;&#x60F3;&#x66F4;&#x6539;&#x89C6;&#x56FE;&#x7684;&#x6837;&#x5F0F;&#x6216;&#x7ED3;&#x6784;&#xFF0C;&#x8FD8;&#x662F;&#x5F15;&#x5165;&#x65B0;&#x7684;&#x72B6;&#x6001;&#xFF0C;SwiftUI&#x89C6;&#x56FE;&#x548C;&#x4FEE;&#x9970;&#x7B26;&#x90FD;&#x5177;&#x6709;&#x5B8C;&#x5168;&#x76F8;&#x540C;&#x7684;&#x529F;&#x80FD;&#x3002;&#x8FD9;&#x70B9;&#x5F00;&#x59CB;&#x53D8;&#x5F97;&#x660E;&#x663E;&#x3002;&#x4F46;&#x8FD9;&#x8BA9;&#x6211;&#x4EEC;&#x60F3;&#x5230;&#x4E86;&#x4E0B;&#x4E00;&#x4E2A;&#x95EE;&#x9898;&#x2014;&#x2014;&#x5982;&#x679C;&#x8FD9;&#x4E24;&#x79CD;&#x65B9;&#x6CD5;&#x4E4B;&#x95F4;&#x6CA1;&#x6709;&#x5B9E;&#x9645;&#x5DEE;&#x5F02;&#xFF0C;&#x6211;&#x4EEC;&#x5982;&#x4F55;&#x5728;&#x5B83;&#x4EEC;&#x4E4B;&#x95F4;&#x505A;&#x51FA;&#x9009;&#x62E9;&#xFF1F;</p>
<p>&#x81F3;&#x5C11;&#x5BF9;&#x6211;&#x6765;&#x8BF4;&#xFF0C;&#x8FD9;&#x4E00;&#x5207;&#x90FD;&#x5F52;&#x7ED3;&#x4E3A;&#x7ED3;&#x679C;&#x89C6;&#x56FE;&#x5C42;&#x6B21;&#x7ED3;&#x6784;&#x3002;&#x867D;&#x7136;&#x4ECE;&#x6280;&#x672F;&#x4E0A;&#x8BB2;&#xFF0C;&#x5728;<code>HStack</code>&#x4E2D;&#x5305;&#x88C5;&#x4E00;&#x4E2A;&#x7279;&#x8272;&#x6807;&#x7B7E;&#x6539;&#x53D8;&#x4E86;&#x89C6;&#x56FE;&#x5C42;&#x6B21;&#x7ED3;&#x6784;&#xFF0C;&#x4EE5;&#x6DFB;&#x52A0;&#x661F;&#x5F62;&#x56FE;&#x50CF;&#xFF0C;&#x4F46;&#x4ECE;&#x6982;&#x5FF5;&#x4E0A;&#x8BB2;&#xFF0C;&#x8FD9;&#x66F4;&#x591A;&#x7684;&#x662F;&#x5173;&#x4E8E;&#x6837;&#x5F0F;&#xFF0C;&#x800C;&#x4E0D;&#x662F;&#x7ED3;&#x6784;&#x3002;&#x5F53;&#x5C06;<code>featured</code>&#x4FEE;&#x9970;&#x7B26;&#x5E94;&#x7528;&#x4E8E;&#x89C6;&#x56FE;&#x65F6;&#xFF0C;&#x4ECE;&#x4EFB;&#x4F55;&#x6709;&#x610F;&#x4E49;&#x65B9;&#x5F0F;&#x8BF4;&#x4E0A;,&#x5176;&#x5E03;&#x5C40;&#x6216;&#x5728;&#x89C6;&#x56FE;&#x5C42;&#x6B21;&#x7ED3;&#x6784;&#x4E2D;&#x7684;&#x4F4D;&#x7F6E;&#x5E76;&#x6CA1;&#x6709;&#x771F;&#x6B63;&#x6539;&#x53D8; &#x2014;&#x2014;&#x81F3;&#x5C11;&#x4ECE;&#x9AD8;&#x7EA7;&#x7684;&#x89D2;&#x5EA6;&#x6765;&#x770B;&#xFF0C;&#x5B83;&#x4ECD;&#x7136;&#x53EA;&#x662F;&#x5177;&#x6709;&#x5B8C;&#x5168;&#x76F8;&#x540C;&#x6574;&#x4F53;&#x5E03;&#x5C40;&#x7684;&#x5355;&#x4E00;&#x89C6;&#x56FE;&#x3002;</p>
<p>&#x4E0D;&#x8FC7;&#xFF0C;&#x60C5;&#x51B5;&#x5E76;&#x975E;&#x603B;&#x662F;&#x5982;&#x6B64;&#x3002;&#x770B;&#x770B;&#x53E6;&#x4E00;&#x4E2A;&#x4F8B;&#x5B50;&#xFF0C;&#x5B83;&#x5E94;&#x8BE5;&#x66F4;&#x6E05;&#x695A;&#x5730;&#x8BF4;&#x660E;&#x89C6;&#x56FE;&#x548C;&#x4FEE;&#x9970;&#x7B26;&#x4E4B;&#x95F4;&#x7684;&#x6F5C;&#x5728;&#x7ED3;&#x6784;&#x5DEE;&#x5F02;&#x3002;</p>
<p>&#x5728;&#x8FD9;&#x91CC;&#xFF0C;&#x6211;&#x4EEC;&#x7F16;&#x5199;&#x4E86;&#x4E00;&#x4E2A;<code>SplitView</code>&#x5BB9;&#x5668;&#xFF0C;&#x5B83;&#x91C7;&#x7528;&#x4E24;&#x4E2A;&#x89C6;&#x56FE;&#x2014;&#x2014;&#x4E00;&#x4E2A;&#x662F;&#x524D;&#x5BFC;&#x89C6;&#x56FE;&#xFF0C;&#x4E00;&#x4E2A;&#x662F;&#x5C3E;&#x968F;&#x89C6;&#x56FE;&#x2014;&#x2014;&#x7136;&#x540E;&#x5C06;&#x5B83;&#x4EEC;&#x5E76;&#x6392;&#x6E32;&#x67D3;&#xFF0C;&#x4E2D;&#x95F4;&#x662F;&#x4E00;&#x4E2A;&#x5206;&#x9694;&#x7B26;&#x63A7;&#x4EF6;&#xFF0C;&#x540C;&#x65F6;&#x6700;&#x5927;&#x5316;&#x5176;<code>frame</code>&#xFF0C;&#x6700;&#x7EC8;&#x5B83;&#x4EEC;&#x5C06;&#x5E73;&#x5747;&#x5206;&#x9694;&#x53EF;&#x7528;&#x7A7A;&#x95F4;&#xFF1A;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">swift&#x590D;&#x5236;&#x4EE3;&#x7801;struct SplitView&lt;Leading: View, Trailing: View&gt;: View {</span><br><span class="line">    @ViewBuilder var leading: () -&gt; Leading</span><br><span class="line">    @ViewBuilder var trailing: () -&gt; Trailing</span><br><span class="line"></span><br><span class="line">    var body: some View {</span><br><span class="line">        HStack {</span><br><span class="line">            prepareSubview(leading())</span><br><span class="line">            Divider()</span><br><span class="line">            prepareSubview(trailing())</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    private func prepareSubview(_ view: some View) -&gt; some View {</span><br><span class="line">        view.frame(maxWidth: .infinity, maxHeight: .infinity)</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></table></figure>

<p>&#x5C31;&#x50CF;&#x4EE5;&#x524D;&#x4E00;&#x6837;&#xFF0C;&#x7EDD;&#x5BF9;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#x57FA;&#x4E8E;&#x4FEE;&#x9970;&#x7B26;&#x7684;&#x65B9;&#x6CD5;&#x5B9E;&#x73B0;&#x5B8C;&#x5168;&#x76F8;&#x540C;&#x7684;&#x7ED3;&#x679C;&#x2014;&#x2014;&#x8FD9;&#x53EF;&#x80FD;&#x770B;&#x8D77;&#x6765;&#x50CF;&#x8FD9;&#x6837;&#xFF1A;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">swift&#x590D;&#x5236;&#x4EE3;&#x7801;extension View {</span><br><span class="line">    func split(with trailingView: some View) -&gt; some View {</span><br><span class="line">        HStack {</span><br><span class="line">            maximize()</span><br><span class="line">            Divider()</span><br><span class="line">            trailingView.maximize()</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    func maximize() -&gt; some View {</span><br><span class="line">        frame(maxWidth: .infinity, maxHeight: .infinity)</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></table></figure>

<p>&#x7136;&#x800C;&#xFF0C;&#x5982;&#x679C;&#x518D;&#x6B21;&#x5C06;&#x4E24;&#x4E2A;&#x89E3;&#x51B3;&#x65B9;&#x6848;&#x653E;&#x5728;&#x540C;&#x4E00;&#x4E2A;&#x793A;&#x4F8B;<code>ContentView</code>&#x4E2D;&#xFF0C;&#x90A3;&#x4E48;&#x53EF;&#x4EE5;&#x770B;&#x5230;&#xFF0C;&#x8FD9;&#x6B21;&#x8FD9;&#x4E24;&#x79CD;&#x65B9;&#x6CD5;&#x5728;&#x7ED3;&#x6784;&#x548C;&#x6E05;&#x6670;&#x5EA6;&#x65B9;&#x9762;&#x770B;&#x8D77;&#x6765;&#x786E;&#x5B9E;&#x5927;&#x4E0D;&#x76F8;&#x540C;&#xFF1A;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">swift&#x590D;&#x5236;&#x4EE3;&#x7801;struct ContentView: View {</span><br><span class="line">    var body: some View {</span><br><span class="line">        VStack {</span><br><span class="line">            // View-based version:</span><br><span class="line">            SplitView(leading: {</span><br><span class="line">                Text(&#x201D;Leading&#x201C;)</span><br><span class="line">            }, trailing: {</span><br><span class="line">                Text(&#x201D;Trailing&#x201C;)</span><br><span class="line">            })</span><br><span class="line"></span><br><span class="line">            // Modifier-based version:</span><br><span class="line">            Text(&#x201D;Leading&#x201C;).split(with: Text(&#x201D;Trailing&#x201C;))</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></table></figure>

<p>&#x770B;&#x770B;&#x4E0A;&#x9762;&#x7684;&#x57FA;&#x4E8E;&#x89C6;&#x56FE;&#x7684;&#x8C03;&#x7528;&#x65B9;&#x6CD5;&#xFF0C;&#x5F88;&#x660E;&#x663E;&#xFF0C;&#x4E24;&#x4E2A;&#x6587;&#x672C;&#x88AB;&#x5305;&#x88C5;&#x5728;&#x4E00;&#x4E2A;&#x5BB9;&#x5668;&#x4E2D;&#xFF0C;&#x4E5F;&#x5F88;&#x5BB9;&#x6613;&#x5224;&#x65AD;&#x54EA;&#x4E2A;&#x662F;&#x524D;&#x5BFC;&#x89C6;&#x56FE;&#xFF0C;&#x54EA;&#x4E2A;&#x662F;&#x5C3E;&#x968F;&#x89C6;&#x56FE;&#x3002;</p>
<p>&#x4E0D;&#x8FC7;&#x8FD9;&#x6B21;&#xFF0C;&#x4E0D;&#x80FD;&#x5BF9;&#x57FA;&#x4E8E;&#x4FEE;&#x9970;&#x7B26;&#x7684;&#x7248;&#x672C;&#x8BF4;&#x540C;&#x6837;&#x7684;&#x4E8B;&#x60C5;&#xFF0C;&#x6211;&#x4EEC;&#x786E;&#x5B9E;&#x9700;&#x8981;&#x77E5;&#x9053;&#xFF0C;&#x5E94;&#x7528;&#x4FEE;&#x9970;&#x7B26;&#x7684;&#x89C6;&#x56FE; &#x662F;&#x524D;&#x5BFC;&#x89C6;&#x56FE;&#x3002;&#x6B64;&#x5916;&#xFF0C;&#x4E5F;&#x65E0;&#x6CD5;&#x5224;&#x65AD;&#x8FD9;&#x4E24;&#x4E2A;&#x6587;&#x672C;&#x6700;&#x7EC8;&#x4F1A;&#x88AB;&#x5305;&#x88F9;&#x5728;&#x4EC0;&#x4E48;&#x6837;&#x7684;&#x5BB9;&#x5668;&#x4E2D;&#x3002;&#x770B;&#x8D77;&#x6765;&#x66F4;&#x50CF;&#x662F;&#x4F7F;&#x7528;&#x5C3E;&#x968F;&#x6807;&#x7B7E;&#x4EE5;&#x67D0;&#x79CD;&#x65B9;&#x5F0F;&#x4E3A;&#x524D;&#x5BFC;&#x6807;&#x7B7E;&#x589E;&#x52A0;&#x67D0;&#x79CD;&#x98CE;&#x683C; &#xFF0C;&#x4F46;&#x4E8B;&#x5B9E;&#x5E76;&#x975E;&#x5982;&#x6B64;&#x3002;</p>
<p>&#x867D;&#x7136;&#x53EF;&#x4EE5;&#x5C1D;&#x8BD5;&#x7528;&#x66F4;&#x8BE6;&#x7EC6;&#x7684;API&#x547D;&#x540D;&#x6765;&#x89E3;&#x51B3;&#x6E05;&#x6670;&#x5EA6;&#x95EE;&#x9898;&#xFF0C;&#x4F46;&#x6838;&#x5FC3;&#x95EE;&#x9898;&#x4ECD;&#x7136;&#x5B58;&#x5728;&#x2014;&#x2014;&#x5728;&#x8FD9;&#x79CD;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;&#x57FA;&#x4E8E;&#x4FEE;&#x9970;&#x7B26;&#x7684;&#x7248;&#x672C;&#x6CA1;&#x6709;&#x6B63;&#x786E;&#x663E;&#x793A;&#x7ED3;&#x679C;&#x7684;&#x89C6;&#x56FE;&#x5C42;&#x6B21;&#x7ED3;&#x6784;&#x3002;&#x56E0;&#x6B64;&#xFF0C;&#x5728;&#x4E0A;&#x8FF0;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;&#x5F53;&#x6211;&#x4EEC;&#x5728;&#x7236;&#x5BB9;&#x5668;&#x4E2D;&#x5305;&#x88C5;&#x591A;&#x4E2A;&#x5144;&#x5F1F;&#x59D0;&#x59B9;&#x65F6;&#xFF0C;&#x9009;&#x62E9;&#x57FA;&#x4E8E;&#x89C6;&#x56FE;&#x7684;&#x89E3;&#x51B3;&#x65B9;&#x6848;&#x901A;&#x5E38;&#x4F1A;&#x7ED9;&#x6211;&#x4EEC;&#x4E00;&#x4E2A;&#x66F4;&#x6E05;&#x6670;&#x7684;&#x6700;&#x7EC8;&#x7ED3;&#x679C;&#x3002;</p>
<p>&#x53E6;&#x4E00;&#x65B9;&#x9762;&#xFF0C;&#x5982;&#x679C;&#x6211;&#x4EEC;&#x6240;&#x505A;&#x7684;&#x53EA;&#x662F;&#x5C06;&#x4E00;&#x7EC4;&#x6837;&#x5F0F;&#x5E94;&#x7528;&#x4E8E;&#x5355;&#x4E2A;&#x89C6;&#x56FE;&#xFF0C;&#x90A3;&#x4E48;&#x5C06;&#x5176;&#x5B9E;&#x73B0;&#x4E3A;&#x201C;&#x4FEE;&#x6539;&#x5668;&#x7C7B;&#x4F3C;&#x201D;&#x7684;&#x6269;&#x5C55;&#xFF0C;&#x6216;&#x4F7F;&#x7528;&#x6B63;&#x786E;&#x7684;<code>ViewModifier</code>&#x7C7B;&#x578B;&#xFF0C;&#x5C06;&#x662F;&#x6700;&#x5E38;&#x8981;&#x8D70;&#x7684;&#x8DEF;&#x3002;&#x5BF9;&#x4E8E;&#x4ECB;&#x4E8E;&#x4E24;&#x8005;&#x4E4B;&#x95F4;&#x7684;&#x4E00;&#x5207;&#x2014;&#x2014;&#x4F8B;&#x5982;&#x6211;&#x4EEC;&#x65E9;&#x671F;&#x7684;&#x201C;&#x7279;&#x8272;&#x6807;&#x7B7E;&#x201D;&#x793A;&#x4F8B;&#x2014;&#x2014;&#x8FD9;&#x4E00;&#x5207;&#x90FD;&#x5F52;&#x7ED3;&#x4E3A;&#x4EE3;&#x7801;&#x98CE;&#x683C;&#x548C;&#x4E2A;&#x4EBA;&#x504F;&#x597D;&#xFF0C;&#x5373;&#x54EA;&#x79CD;&#x89E3;&#x51B3;&#x65B9;&#x6848;&#x6700;&#x9002;&#x5408;&#x6BCF;&#x4E2A;&#x7ED9;&#x5B9A;&#x9879;&#x76EE;&#x3002;</p>
<p>&#x770B;&#x770B;SwiftUI&#x7684;&#x5185;&#x7F6E;API&#x662F;&#x5982;&#x4F55;&#x8BBE;&#x8BA1;&#x7684;&#x2014;&#x2014;&#x5BB9;&#x5668;&#xFF08;&#x5982;<code>HStack</code>&#x548C;<code>VStack</code>&#xFF09;&#x662F;&#x89C6;&#x56FE;&#xFF0C;&#x800C;&#x6837;&#x5F0F;API&#xFF08;&#x5982;&#x586B;&#x5145;&#x548C;&#x524D;&#x666F;&#x989C;&#x8272;&#xFF09;&#x662F;&#x4F5C;&#x4E3A;&#x4FEE;&#x9970;&#x7B26;&#x5B9E;&#x73B0;&#x7684;&#x3002;&#x56E0;&#x6B64;&#xFF0C;&#x5982;&#x679C;&#x5728;&#x9879;&#x76EE;&#x4E2D;&#x5C3D;&#x53EF;&#x80FD;&#x591A;&#x5730;&#x9075;&#x5FAA;&#x76F8;&#x540C;&#x7684;&#x65B9;&#x6CD5;&#xFF0C;&#x90A3;&#x4E48;&#x6700;&#x7EC8;UI&#x4EE3;&#x7801;&#x53EF;&#x80FD;&#x4F1A;&#x611F;&#x89C9;&#x4E00;&#x81F4;&#xFF0C;&#x4E14;&#x4E0E;SwiftUI&#x672C;&#x8EAB;&#x4E00;&#x81F4;&#x3002;</p>
<p>&#x6211;&#x5E0C;&#x671B;&#x4F60;&#x53D1;&#x73B0;&#x8FD9;&#x7BC7;&#x6587;&#x7AE0;&#x6709;&#x8DA3;&#x4E14;&#x6709;&#x7528;&#x3002;&#x5982;&#x679C;&#x6709;&#x4EFB;&#x4F55;&#x95EE;&#x9898;&#x3001;&#x8BC4;&#x8BBA;&#x6216;&#x53CD;&#x9988;&#xFF0C;&#x8BF7;&#x968F;&#x65F6;&#x5728;<a href="/external_links/8e5c799654a19438e5227c36b1324f29.html" target="blank" rel="noopener">Mastodon</a> &#x4E0A;&#x627E;&#x5230;&#x6211;&#xFF0C;&#x6216;&#x901A;&#x8FC7;<a href="/external_links/c0cfbcc80903de1b1832379311c681f0.html" target="blank" rel="noopener">&#x7535;&#x5B50;&#x90AE;&#x4EF6;</a>&#x4E0E;&#x6211;&#x8054;&#x7CFB;&#x3002;</p>
<p>&#x611F;&#x8C22;&#x60A8;&#x7684;&#x9605;&#x8BFB;&#xFF01;</p>
<p><strong>&#x672C;&#x6587;&#x8F6C;&#x8F7D;&#x81EA;:</strong> <a href="/external_links/1be3a70f025fe308006653dff814df69.html" target="blank" rel="noopener">&#x6398;&#x91D1;</a></p>
<p><em><a href="https://dev.newban.cn/">&#x5F00;&#x53D1;&#x8005;&#x535A;&#x5BA2; &#x2013; &#x548C;&#x5F00;&#x53D1;&#x76F8;&#x5173;&#x7684; &#x8FD9;&#x91CC;&#x5168;&#x90FD;&#x6709;</a></em></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://dev.newban.cn../../7361852837268013083.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="开发者博客">
      <meta itemprop="description" content>
      <meta itemprop="image" content="../../images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="开发者博客 – IT技术 尽在开发者博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="../../7361852837268013083.html" itemprop="url">代码报错不用愁，CodeGeeX一键完成代码修复、错误解释的</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2024-04-26T16:07:21+08:00">
                2024-04-26
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>&#x4F5C;&#x4E3A;&#x4E00;&#x540D;&#x5F00;&#x53D1;&#x8005;&#xFF0C;&#x4F60;&#x4E00;&#x5B9A;&#x9047;&#x5230;&#x8FC7;&#x5728;&#x7F16;&#x5199;&#x4EE3;&#x7801;&#x65F6;&#x51FA;&#x73B0;&#x7684;&#x5404;&#x79CD;&#x9519;&#x8BEF;&#x3002;&#x8FD9;&#x4E9B;&#x9519;&#x8BEF;&#x53EF;&#x80FD;&#x662F;&#x8BED;&#x6CD5;&#x9519;&#x8BEF;&#x3001;&#x8FD0;&#x884C;&#x65F6;&#x9519;&#x8BEF;&#x6216;&#x8005;&#x903B;&#x8F91;&#x9519;&#x8BEF;&#x3002;&#x5904;&#x7406;&#x8FD9;&#x4E9B;&#x9519;&#x8BEF;&#x901A;&#x5E38;&#x9700;&#x8981;&#x82B1;&#x8D39;&#x5927;&#x91CF;&#x7684;&#x65F6;&#x95F4;&#x548C;&#x7CBE;&#x529B;&#xFF0C;&#x7279;&#x522B;&#x662F;&#x5F53;&#x4F60;&#x5BF9;&#x9519;&#x8BEF;&#x7684;&#x539F;&#x56E0;&#x4E00;&#x65E0;&#x6240;&#x77E5;&#x65F6;&#x3002;</p>
<p>CodeGeeX&#x7684;v2.7.4&#x7248;&#x672C;&#x6700;&#x65B0;&#x4E0A;&#x7EBF;&#x7684;&#x4EE3;&#x7801;&#x4FEE;&#x590D;&#x548C;&#x9519;&#x8BEF;&#x89E3;&#x91CA;&#x529F;&#x80FD;&#xFF0C;&#x8BA9;&#x4F60;&#x5728;&#x89E3;&#x51B3;&#x4EE3;&#x7801;&#x9519;&#x8BEF;&#x7684;&#x95EE;&#x9898;&#x4E0A;&#xFF0C;&#x53D8;&#x5F97;&#x66F4;&#x52A0;&#x7B80;&#x5355;&#x548C;&#x9AD8;&#x6548;&#x3002;&#x4E0B;&#x9762;&#x6211;&#x4EEC;&#x8BE6;&#x7EC6;&#x4ECB;&#x7ECD;&#x8FD9;&#x4E2A;&#x529F;&#x80FD;&#x7684;&#x7528;&#x6CD5;&#x548C;&#x9002;&#x7528;&#x573A;&#x666F;&#xFF0C;&#x5FEB;&#x53BB;&#x66F4;&#x65B0;&#x63D2;&#x4EF6;&#x4F53;&#x9A8C;&#x8D77;&#x6765;&#x5427;&#xFF01;</p>
<p>&#x4E00;&#x3001;&#x76F4;&#x63A5;&#x5728;&#x7F16;&#x8F91;&#x5668;&#x4E2D;&#x4FEE;&#x590D;&#x4EE3;&#x7801;&#x9519;&#x8BEF;</p>
<p>&#x5F53;&#x4F60;&#x5728;VSCode&#x3001;JetBrains&#x5168;&#x5BB6;&#x6876;&#x7684;IDE&#x4EE3;&#x7801;&#x7F16;&#x8F91;&#x5668;&#x4E2D;&#x7F16;&#x5199;&#x4EE3;&#x7801;&#x65F6;&#xFF0C;&#x5982;&#x679C;&#x51FA;&#x73B0;&#x4E86;&#x9519;&#x8BEF;&#xFF0C;&#x7F16;&#x8F91;&#x5668;&#x901A;&#x5E38;&#x4F1A;&#x7528;&#x7EA2;&#x7EBF;&#x6765;&#x6807;&#x6CE8;&#x51FA;&#x9519;&#x7684;&#x4EE3;&#x7801;&#x884C;&#x3002;</p>
<p>&#x4F7F;&#x7528;CodeGeeX&#xFF0C;&#x4F60;&#x4E0D;&#x518D;&#x9700;&#x8981;&#x624B;&#x52A8;&#x67E5;&#x627E;&#x9519;&#x8BEF;&#x7684;&#x539F;&#x56E0;&#x6216;&#x8005;&#x7FFB;&#x9605;&#x6587;&#x6863;&#x6765;&#x5BFB;&#x627E;&#x89E3;&#x51B3;&#x65B9;&#x6848;&#x3002;&#x5982;&#x679C;&#x4F60;&#x4F7F;&#x7528;&#x7684;VSCode&#x4E0A;&#x7684;CodeGeeX&#x63D2;&#x4EF6;&#xFF0C;&#x53EA;&#x9700;&#x8981;&#x5728;&#x51FA;&#x73B0;&#x9519;&#x8BEF;&#x7684;&#x4EE3;&#x7801;&#x884C;&#x4E0A;&#x70B9;&#x51FB;&#x9F20;&#x6807;&#x53F3;&#x952E;&#xFF0C;&#x9009;&#x62E9;&#x201C;&#x4F7F;&#x7528;CodeGeeX&#x4FEE;&#x590D;&#x201D;&#x7684;&#x9009;&#x9879;&#xFF0C;CodeGeeX&#x5C06;&#x81EA;&#x52A8;&#x5206;&#x6790;&#x9519;&#x8BEF;&#xFF0C;&#x5E76;&#x63D0;&#x4F9B;&#x4FEE;&#x590D;&#x5EFA;&#x8BAE;&#x3002;</p>
<p>&#x5982;&#x679C;&#x4F60;&#x662F;&#x4F7F;&#x7528;&#x4E86;IDEA&#xFF0C;&#x5728;&#x51FA;&#x73B0;&#x9519;&#x8BEF;&#x7684;&#x7EA2;&#x7EBF;&#x4EE3;&#x7801;&#x5904;&#xFF0C;&#x5148;&#x70B9;&#x51FB;more actions&#xFF0C;&#x7136;&#x540E;&#x9009;&#x62E9;fix by codegeex&#xFF0C;&#x5982;&#x4E0B;&#x56FE;&#x6240;&#x793A;&#xFF1A;</p>
<p><img src="https://gitee.com/songjianzaina/juejin_p3/raw/master/img/14b742af6a43988ac039708303aefcea8a05b437f24c9b39dd0a215a681f3064" alt="&#x89C6;&#x9891;&#x56FE;1.png"></p>
<p><img src="https://gitee.com/songjianzaina/juejin_p3/raw/master/img/b28f14c9e1e36d4ba08128c8ae77761d810d30f87c77ca55918c71783b5b99bf" alt="&#x89C6;&#x9891;&#x56FE;2.png"></p>
<p>&#x4E8C;&#x3001;&#x706F;&#x6CE1;&#x56FE;&#x6807;&#x4E2D;&#x7684;CodeGeeX&#x4FEE;&#x590D;&#x529F;&#x80FD;</p>
<p>&#x9664;&#x4E86;&#x53F3;&#x952E;&#x83DC;&#x5355;&#xFF0C;CodeGeeX&#x8FD8;&#x589E;&#x5F3A;&#x4E86;&#x7F16;&#x8F91;&#x5668;&#x4E2D;&#x7684;&#x706F;&#x6CE1;&#x56FE;&#x6807;&#x529F;&#x80FD;&#x3002;&#x5F53;&#x4F60;&#x70B9;&#x51FB;&#x706F;&#x6CE1;&#x56FE;&#x6807;&#x65F6;&#xFF0C;&#x9664;&#x4E86;&#x7F16;&#x8F91;&#x5668;&#x81EA;&#x5E26;&#x7684;&#x529F;&#x80FD;&#x9009;&#x9879;&#x5916;&#xFF0C;&#x8FD8;&#x4F1A;&#x770B;&#x5230;&#x201C;&#x4F7F;&#x7528;CodeGeeX&#x4FEE;&#x590D;&#x201D;&#x7684;&#x9009;&#x9879;&#x3002;&#x8FD9;&#x610F;&#x5473;&#x7740;&#x4F60;&#x53EF;&#x4EE5;&#x5728;&#x4E0D;&#x79BB;&#x5F00;&#x5F53;&#x524D;&#x7F16;&#x8F91;&#x73AF;&#x5883;&#x7684;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;&#x76F4;&#x63A5;&#x5229;&#x7528;CodeGeeX&#x6765;&#x4FEE;&#x590D;&#x4EE3;&#x7801;&#x9519;&#x8BEF;&#x3002;</p>
<p><img src="https://gitee.com/songjianzaina/juejin_p3/raw/master/img/d9eb6f4147926f524bb6dbbc3277b5c06157881b3ed442f4983f7e937e7f4034" alt="&#x89C6;&#x9891;&#x56FE;3.png"></p>
<p>&#x4E09;&#x3001;&#x7EC8;&#x7AEF;&#x8FD0;&#x884C;&#x65F6;&#x62A5;&#x9519;&#x7684;&#x667A;&#x80FD;&#x89E3;&#x91CA;</p>
<p>&#x5728;&#x7EC8;&#x7AEF;&#x8FD0;&#x884C;&#x4EE3;&#x7801;&#x65F6;&#xFF0C;&#x7ECF;&#x5E38;&#x4F1A;&#x9047;&#x5230;&#x5404;&#x79CD;&#x62A5;&#x9519;&#x4FE1;&#x606F;&#x3002;&#x8FD9;&#x4E9B;&#x4FE1;&#x606F;&#x6709;&#x65F6;&#x53EF;&#x80FD;&#x975E;&#x5E38;&#x590D;&#x6742;&#xFF0C;&#x96BE;&#x4EE5;&#x7406;&#x89E3;&#x3002;&#x73B0;&#x5728;&#xFF0C;&#x5F53;&#x4F60;&#x5728;&#x7EC8;&#x7AEF;&#x9047;&#x5230;&#x9519;&#x8BEF;&#x65F6;&#xFF0C;&#x53EA;&#x9700;&#x901A;&#x8FC7;&#x70B9;&#x51FB;&#x53F3;&#x952E;&#x83DC;&#x5355;&#x547D;&#x4EE4;&#x201C;&#x4F7F;&#x7528;CodeGeeX&#x89E3;&#x91CA;&#x201D;&#xFF08;Windows&#x9700;&#x8981;Shift+&#x53F3;&#x952E;&#xFF09;&#x3002;</p>
<p>IDEA&#x53EA;&#x9700;&#x70B9;&#x51FB;&#x7EC8;&#x7AEF;&#x62A5;&#x9519;&#x884C;&#x65C1;&#x8FB9;&#x7684;&#x6309;&#x94AE;&#xFF0C;&#x5C31;&#x53EF;&#x4EE5;&#x8BA9;CodeGeeX&#x6765;&#x89E3;&#x91CA;&#x8FD9;&#x4E9B;&#x9519;&#x8BEF;&#x3002;CodeGeeX&#x80FD;&#x591F;&#x7406;&#x89E3;&#x9519;&#x8BEF;&#x4FE1;&#x606F;&#xFF0C;&#x5E76;&#x63D0;&#x4F9B;&#x6E05;&#x6670;&#x3001;&#x6613;&#x4E8E;&#x7406;&#x89E3;&#x7684;&#x89E3;&#x91CA;&#xFF0C;&#x751A;&#x81F3;&#x8FD8;&#x80FD;&#x7ED9;&#x51FA;&#x4FEE;&#x590D;&#x6B65;&#x9AA4;&#x3002;&#x8FD9;&#x4F7F;&#x5F97;&#x5373;&#x4F7F;&#x662F;&#x65B0;&#x624B;&#x5F00;&#x53D1;&#x8005;&#x4E5F;&#x80FD;&#x5FEB;&#x901F;&#x7406;&#x89E3;&#x5E76;&#x89E3;&#x51B3;&#x95EE;&#x9898;&#x3002;</p>
<p>&#x9AD8;&#x6548;&#x7684;&#x5F00;&#x53D1;&#x4E0D;&#x4EC5;&#x4EC5;&#x662F;&#x5199;&#x4EE3;&#x7801;&#xFF0C;&#x66F4;&#x5305;&#x62EC;&#x5982;&#x4F55;&#x5FEB;&#x901F;&#x3001;&#x4F18;&#x96C5;&#x5730;&#x89E3;&#x51B3;&#x95EE;&#x9898;&#x3002;</p>
<p>&#x56DB;&#x3001;&#x66F4;&#x591A;&#x4EA4;&#x4E92;&#x4F18;&#x5316;&#xFF0C;&#x63D0;&#x5347;&#x5F00;&#x53D1;&#x6548;&#x7387;</p>
<p>JetBrains&#x5168;&#x5BB6;&#x6876;v2.7.4&#x7248;&#x672C;&#x540E;&#xFF0C;&#x8FD8;&#x6709;&#x54EA;&#x4E9B;&#x503C;&#x5F97;&#x5173;&#x6CE8;&#x7684;&#x529F;&#x80FD;&#x66F4;&#x65B0;&#xFF0C;&#x4E0B;&#x9762;&#x4EE5;IDEA&#x4E3A;&#x4F8B;&#xFF0C;&#x4E00;&#x56FE;&#x770B;&#x61C2;&#x5728;IDEA&#x7684;&#x4FA7;&#x8FB9;&#x680F;&#xFF0C;&#x8FD8;&#x54EA;&#x4E9B;&#x4FBF;&#x6377;&#x7684;&#x667A;&#x80FD;&#x64CD;&#x4F5C;&#x3002;</p>
<p><img src="https://gitee.com/songjianzaina/juejin_p3/raw/master/img/e1818d2589607ac178fab06511f786a59c2b22465672f7aab044531d4cc99560" alt="&#x56FE;1.png"></p>
<p>&#x4FA7;&#x8FB9;&#x680F;&#x9876;&#x90E8;&#x7684;&#x201C;&#x66F4;&#x591A;&#x201D;&#x4E0B;&#x589E;&#x52A0;&#x201D;&#x8BBE;&#x7F6E;&#x201C;&#x83DC;&#x5355;&#x5165;&#x53E3;&#x3002;&#x7C7B;&#x4F3C;&#x4E8E;VSCode&#xFF0C;CodeGeeX&#x5728;JetBrains IDEs&#x5E73;&#x53F0;&#x4E0A;&#x65B0;&#x589E;&#x4E86;&#x9876;&#x90E8;&#x7684;&#x8BBE;&#x7F6E;&#x83DC;&#x5355;&#x5165;&#x53E3;&#xFF0C;&#x7528;&#x6237;&#x53EF;&#x4EE5;&#x66F4;&#x8F7B;&#x677E;&#x7684;&#x6253;&#x5F00;&#x8BBE;&#x7F6E;&#xFF0C;&#x81EA;&#x5B9A;&#x4E49;&#x63D2;&#x4EF6;&#x7684;&#x884C;&#x4E3A;&#x66F4;&#x7B26;&#x5408;&#x81EA;&#x5DF1;&#x7684;&#x4F7F;&#x7528;&#x4E60;&#x60EF;&#x3002;</p>
<p><img src="https://gitee.com/songjianzaina/juejin_p3/raw/master/img/492d5de862d1ead217db8598ca5b8646eb0484c737e00f611b2d747a987126e2" alt="&#x56FE;2.png"></p>
<p>&#x5982;&#x4E0A;&#x56FE;&#x6240;&#x793A;&#xFF0C;&#x5728;CodeGeeX&#x4FA7;&#x8FB9;&#x680F;&#x4E0A;&#x65B9;&#xFF0C;&#x70B9;&#x51FB;&#x201D;&#x2026;&#x201D;&#xFF0C;&#x5F39;&#x51FA;&#x4E0B;&#x62C9;&#x83DC;&#x5355;&#xFF0C;&#x70B9;&#x51FB;&#x201C;&#x8BBE;&#x7F6E;&#x201D;&#x8FDB;&#x5165;&#x9875;&#x9762;&#x3002;</p>
<p><img src="https://gitee.com/songjianzaina/juejin_p3/raw/master/img/124ab499a150f57b1ddad778a64fa5f9cedccb1730d3784143415babc6070aaa" alt="&#x56FE;3.png"></p>
<p>&#x4FA7;&#x8FB9;&#x680F;&#x667A;&#x80FD;&#x95EE;&#x7B54;&#x63D0;&#x4F9B;&#x66F4;&#x591A;&#x76F4;&#x89C2;&#x64CD;&#x4F5C;&#x4EE3;&#x7801;&#x7684;&#x65B9;&#x5F0F;&#x3002;&#x5728;&#x667A;&#x80FD;&#x95EE;&#x7B54;&#x5185;&#x5BB9;&#x751F;&#x6210;&#x6846;&#x4E0A;&#x65B9;&#x7684;&#x201C;&#x66F4;&#x591A;&#x201D;&#x4E2D;&#xFF0C;&#x63D0;&#x4F9B;&#x4E86;&#x5C06;&#x751F;&#x6210;&#x4EE3;&#x7801;&#x63D2;&#x5165;&#x5230;&#x65B0;&#x6587;&#x4EF6;&#x3001;&#x7EC8;&#x7AEF;&#x4E2D;&#x8FD0;&#x884C;&#x3001;&#x4E0E;&#x5F53;&#x524D;&#x6587;&#x4EF6;&#x5BF9;&#x6BD4;&#x3001;&#x4E0E;&#x526A;&#x8D34;&#x677F;&#x5BF9;&#x6BD4;&#x3001;&#x6298;&#x884C;&#x663E;&#x793A;&#x7B49;&#x591A;&#x9879;&#x64CD;&#x4F5C;&#x7684;&#x529F;&#x80FD;&#x3002;</p>
<p><img src="https://gitee.com/songjianzaina/juejin_p3/raw/master/img/e8522a6b6150a644436f07f5c77213862e7c9d21008bde17210d7eaa319ac681" alt="&#x56FE;4.png"></p>
<p>&#x667A;&#x80FD;&#x95EE;&#x7B54;&#x652F;&#x6301;&#x4E00;&#x952E;&#x590D;&#x5236;&#x3002;&#x5728;&#x4FA7;&#x8FB9;&#x680F;&#x4F7F;&#x7528;Ask CodeGeeX&#x667A;&#x80FD;&#x95EE;&#x7B54;&#x65F6;&#xFF0C;&#x9700;&#x8981;&#x540C;&#x65F6;&#x590D;&#x5236;&#x751F;&#x6210;&#x7684;&#x4EE3;&#x7801;&#x548C;&#x6587;&#x672C;&#x5185;&#x5BB9;&#x3002;CodeGeeX&#x63D0;&#x4F9B;&#x4E00;&#x952E;&#x590D;&#x5236;&#x6240;&#x6709;&#x6587;&#x672C;&#x5185;&#x5BB9;&#x7684;&#x6309;&#x94AE;&#xFF0C;&#x5E76;&#x4E14;&#x4F7F;&#x7528;Markdown&#x683C;&#x5F0F;&#x6574;&#x7406;&#x6765;&#x65B9;&#x4FBF;&#x4F7F;&#x7528;&#x3002;</p>
<p><img src="https://gitee.com/songjianzaina/juejin_p3/raw/master/img/58a15d6d6d13db152e08124972d6b2c895fc5f5aacd78795de4c751992a22621" alt="&#x56FE;5.png"></p>
<p>&#x9884;&#x6D4B;&#x540E;&#x7EED;&#x95EE;&#x9898;&#x3002;&#x5728;&#x667A;&#x80FD;&#x95EE;&#x7B54;Ask CodeGeeX&#x4E2D;&#xFF0C;&#x5F53;&#x7528;&#x6237;&#x63D0;&#x51FA;&#x4E00;&#x4E2A;&#x95EE;&#x9898;&#x83B7;&#x5F97;&#x56DE;&#x590D;&#x540E;&#xFF0C;&#x4F1A;&#x7EE7;&#x7EED;&#x751F;&#x6210;&#x63A5;&#x4E0B;&#x6765;&#x7684;&#x540E;&#x7EED;&#x95EE;&#x9898;&#x3002;</p>
<p><img src="https://gitee.com/songjianzaina/juejin_p3/raw/master/img/9ace3d40035f65b55fa421ff35dce296e4c18d59b9998945656c393805a4e618" alt="&#x56FE;6.png"></p>
<p>&#x8FD9;&#x4E9B;&#x63A8;&#x8350;&#x7ED9;&#x7528;&#x6237;&#x7684;&#x540E;&#x7EED;&#x95EE;&#x9898;&#xFF0C;&#x662F;&#x548C;&#x7528;&#x6237;&#x63D0;&#x51FA;&#x7684;&#x95EE;&#x9898;&#x76F8;&#x5173;&#x6027;&#x5F88;&#x5F3A;&#x6216;&#x8005;&#x66F4;&#x8FDB;&#x4E00;&#x6B65;&#x7684;&#x95EE;&#x9898;&#x9884;&#x6D4B;&#x3002;</p>
<p><img src="https://gitee.com/songjianzaina/juejin_p3/raw/master/img/4ac0786e9a7f337b0dd055cdd3826b9190d4f183a026e79b7ebc33a84e362e53" alt="&#x56FE;7.png"></p>
<p>&#x901A;&#x8FC7;&#x68C0;&#x7D22;&#x7B97;&#x6CD5;&#x7684;&#x4F18;&#x5316;&#xFF0C;&#x65B0;&#x7248;&#x672C;&#x4E2D;&#x7684;@repo&#x6548;&#x679C;&#x660E;&#x663E;&#x63D0;&#x5347;&#x3002;&#x540C;&#x65F6;&#xFF0C;&#x6839;&#x636E;&#x7528;&#x6237;&#x53CD;&#x9988;&#xFF0C;&#x65B0;&#x589E;&#x66F4;&#x591A;&#x5F00;&#x6E90;&#x4EE3;&#x7801;&#x4ED3;&#x5E93;&#x7684;&#x652F;&#x6301;&#x3002;(&#x70B9;&#x51FB;&#x2018;@repo&#x2019;&#x56FE;&#x6807;&#x540E;&#xFF0C;&#x8F93;&#x5165;&#x4ED3;&#x5E93;&#x540D;&#x5373;&#x53EF;&#x627E;&#x5230;)</p>
<p><img src="https://gitee.com/songjianzaina/juejin_p3/raw/master/img/a7005cfc56935f391c4064566d8c1ee821f4a89fb7fd3451dc07165e22af203b" alt="&#x56FE;8.png"></p>
<p><img src="https://gitee.com/songjianzaina/juejin_p3/raw/master/img/68e455fddf98bd77ae4bef880b590c6a4988c0a234f2abc9a50bd6bf9cae7014" alt="&#x56FE;9.png"></p>
<p>CodeGeeX&#x6536;&#x5F55;&#x7684;&#x6D41;&#x884C;&#x5F00;&#x6E90;&#x4ED3;&#x5E93;&#x5DF2;&#x7ECF;&#x8D85;&#x8FC7;100+&#x4E2A;&#xFF0C;&#x5728;&#x8F93;&#x5165;&#x4EE3;&#x7801;&#x4ED3;&#x5E93;&#x540D;&#x79F0;&#x7684;&#x540C;&#x65F6;&#xFF0C;&#x5C55;&#x793A;&#x51FA;&#x7684;&#x5F00;&#x6E90;&#x4ED3;&#x5E93;&#x5217;&#x8868;&#x4F1A;&#x6839;&#x636E;&#x68C0;&#x7D22;&#x6536;&#x5F55;&#x7ED3;&#x679C;&#x53D1;&#x751F;&#x53D8;&#x5316;&#x3002;</p>
<p>Diff&#x89C6;&#x56FE;&#x4E0B;&#x65B0;&#x589E;&#x4EE3;&#x7801;&#x5BA1;&#x67E5;&#x529F;&#x80FD;&#x548C;&#x81EA;&#x52A8;&#x751F;&#x6210;Commit Message&#x7684;&#x529F;&#x80FD;</p>
<p><img src="https://gitee.com/songjianzaina/juejin_p3/raw/master/img/b779df84559bdf101b1b094647466e6d9e7da91eae913f679fd5bcf39314a11a" alt="&#x56FE;10.png"></p>
<p>&#x5982;&#x679C;&#x4F60;&#x5BF9;CodeGeeX&#x7684;&#x8FD9;&#x4E00;&#x6CE2;&#x65B0;&#x529F;&#x80FD;&#x611F;&#x5174;&#x8DA3;&#xFF0C;&#x4E00;&#x5B9A;&#x8981;&#x53BB;IDE&#x7684;&#x63D2;&#x4EF6;&#x5E02;&#x573A;&#x66F4;&#x65B0;&#x6700;&#x65B0;&#x7248;&#x7684;CodeGeeX&#x63D2;&#x4EF6;&#x6765;&#x4F7F;&#x7528;&#x3002;</p>
<p><strong>&#x672C;&#x6587;&#x8F6C;&#x8F7D;&#x81EA;:</strong> <a href="/external_links/59bafa0074e9b1ec3144713e33638b55.html" target="blank" rel="noopener">&#x6398;&#x91D1;</a></p>
<p><em><a href="https://dev.newban.cn/">&#x5F00;&#x53D1;&#x8005;&#x535A;&#x5BA2; &#x2013; &#x548C;&#x5F00;&#x53D1;&#x76F8;&#x5173;&#x7684; &#x8FD9;&#x91CC;&#x5168;&#x90FD;&#x6709;</a></em></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://dev.newban.cn../../7361976432249733135.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="开发者博客">
      <meta itemprop="description" content>
      <meta itemprop="image" content="../../images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="开发者博客 – IT技术 尽在开发者博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="../../7361976432249733135.html" itemprop="url">「KMM」、「KMP」？他们到底是什么？</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2024-04-26T15:55:50+08:00">
                2024-04-26
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <blockquote>
<p>Kotlin Multiplatform is a technology that allows you to create applications for various platforms and efficiently reuse code across them while retaining the benefits of native programming. Your multiplatform applications will work on different operating systems, such as iOS, Android, macOS, Windows, Linux, and others. &#x2014;&#x2014; kotlin&#x5B98;&#x7F51;</p>
</blockquote>
<p>&#x4EE5;&#x4E0A;&#x662F;<code>Kotlin Multiplatform</code>&#x5B98;&#x7F51;&#x4E0A;&#x5BF9;&#x4E8E;<code>KMP</code>&#x7684;&#x7B80;&#x8981;&#x6982;&#x62EC;&#xFF0C;&#x7FFB;&#x8BD1;&#x4E00;&#x4E0B;&#xFF0C;&#x5C31;&#x662F;  </p>
<p>&#x201C;<code>Kotlin Multiplatform &#x662F;&#x4E00;&#x79CD;&#x8DE8;&#x5E73;&#x53F0;&#x6280;&#x672F;&#xFF0C;&#x5B83;&#x5141;&#x8BB8;&#x60A8;&#x5728;&#x4E0D;&#x540C;&#x5E73;&#x53F0;&#x4E0A;&#x9AD8;&#x6548;&#x7684;&#x91CD;&#x7528;&#x4EE3;&#x7801;&#x7684;&#x540C;&#x65F6;&#x4FDD;&#x7559;&#x4E0D;&#x540C;&#x5E73;&#x53F0;&#x7684;&#x4EE3;&#x7801;&#x4F18;&#x52BF;&#x3002;&#x4F7F;&#x7528;KMP&#x7F16;&#x5199;&#x7684;&#x7A0B;&#x5E8F;&#x53EF;&#x4EE5;&#x5728;&#x4E0D;&#x540C;&#x7684;&#x64CD;&#x4F5C;&#x7CFB;&#x7EDF;&#x4E0A;&#x8FD0;&#x884C;&#xFF0C;&#x4F8B;&#x5982;iOS&#x3001;Android&#x3001;macOS&#x3001;Windows&#x3001;Linux&#x7B49;</code>&#x201D;&#x3002;</p>
<p><img src="https://gitee.com/songjianzaina/juejin_p3/raw/master/img/10344c66ebc613ae4b76e14c204edb1f309dfa884dcac0ba914aa8c7b042cc8a" alt="image.png"></p>
<h2 id="KMM&#xFF1F;KMP&#xFF1F;"><a href="#KMM&#xFF1F;KMP&#xFF1F;" class="headerlink" title="KMM&#xFF1F;KMP&#xFF1F;"></a>KMM&#xFF1F;KMP&#xFF1F;</h2><p><code>KMM&#xFF08;Kotlin Multiplatform Mobile&#xFF09;</code>&#x548C;<code>KMP&#xFF08;Kotlin Multiplatform&#xFF09;</code>&#x5B9E;&#x9645;&#x4E0A;&#x662F;&#x6307;&#x540C;&#x4E00;&#x4E2A;&#x6982;&#x5FF5;&#x5728;&#x4E0D;&#x540C;&#x8303;&#x56F4;&#x7684;&#x5E94;&#x7528;&#x3002;Kotlin Multiplatform&#x662F;&#x4E00;&#x4E2A;&#x66F4;&#x5E7F;&#x6CDB;&#x7684;&#x672F;&#x8BED;&#xFF0C;&#x800C;Kotlin Multiplatform Mobile&#x4E13;&#x6CE8;&#x4E8E;<code>&#x79FB;&#x52A8;&#x5F00;&#x53D1;</code>&#x3002;</p>
<h3 id="Kotlin-Multiplatform-KMP"><a href="#Kotlin-Multiplatform-KMP" class="headerlink" title="Kotlin Multiplatform (KMP)"></a>Kotlin Multiplatform (KMP)</h3><p>Kotlin Multiplatform&#x662F;&#x4E00;&#x79CD;&#x7F16;&#x7A0B;&#x6280;&#x672F;&#xFF0C;&#x5141;&#x8BB8;&#x5F00;&#x53D1;&#x8005;&#x4F7F;&#x7528;Kotlin&#x8BED;&#x8A00;&#x7F16;&#x5199;&#x8DE8;&#x5E73;&#x53F0;&#x4EE3;&#x7801;&#x3002;&#x8FD9;&#x610F;&#x5473;&#x7740;&#x4F60;&#x53EF;&#x4EE5;&#x7528;&#x540C;&#x4E00;&#x5957;&#x4EE3;&#x7801;&#x903B;&#x8F91;&#x540C;&#x65F6;&#x8FD0;&#x884C;&#x5728;&#x591A;&#x4E2A;&#x5E73;&#x53F0;&#x4E0A;&#xFF08;&#x5982;JVM&#x3001;JavaScript&#x3001;iOS&#x3001;Android&#x3001;Linux&#x3001;Windows&#x3001;MacOS&#x7B49;&#xFF09;&#xFF0C;&#x800C;&#x4E0D;&#x9700;&#x8981;&#x4E3A;&#x6BCF;&#x4E2A;&#x5E73;&#x53F0;&#x91CD;&#x5199;&#x903B;&#x8F91;&#x3002;</p>
<p>KMP&#x7684;&#x76EE;&#x6807;&#x662F;&#x5B9E;&#x73B0;&#x4E1A;&#x52A1;&#x903B;&#x8F91;&#x6216;&#x975E;UI&#x76F8;&#x5173;&#x903B;&#x8F91;&#x7684;&#x5171;&#x4EAB;&#xFF0C;&#x4EE5;&#x51CF;&#x5C11;&#x91CD;&#x590D;&#x4EE3;&#x7801;&#x548C;&#x63D0;&#x9AD8;&#x5F00;&#x53D1;&#x6548;&#x7387;&#x3002;&#x5BF9;&#x4E8E;UI&#x90E8;&#x5206;&#xFF0C;&#x901A;&#x5E38;&#x8FD8;&#x662F;&#x9700;&#x8981;&#x4F7F;&#x7528;&#x5404;&#x4E2A;&#x5E73;&#x53F0;&#x7684;&#x539F;&#x751F;&#x6280;&#x672F;&#x6216;&#x5176;&#x4ED6;&#x8DE8;&#x5E73;&#x53F0;&#x6846;&#x67B6;&#x3002;</p>
<p>KMP&#x7684;&#x5E94;&#x7528;&#x8303;&#x56F4;&#x975E;&#x5E38;&#x5E7F;&#x6CDB;&#xFF0C;&#x5305;&#x62EC;&#x4F46;&#x4E0D;&#x9650;&#x4E8E;&#x79FB;&#x52A8;&#x5E94;&#x7528;&#x5F00;&#x53D1;&#x3002;&#x5B83;&#x4E5F;&#x53EF;&#x4EE5;&#x7528;&#x4E8E;Web&#x5F00;&#x53D1;&#x3001;&#x670D;&#x52A1;&#x5668;&#x7AEF;&#x5F00;&#x53D1;&#x3001;&#x684C;&#x9762;&#x5E94;&#x7528;&#x5F00;&#x53D1;&#x7B49;&#x3002;</p>
<h3 id="Kotlin-Multiplatform-Mobile-KMM"><a href="#Kotlin-Multiplatform-Mobile-KMM" class="headerlink" title="Kotlin Multiplatform Mobile (KMM)"></a>Kotlin Multiplatform Mobile (KMM)</h3><p>KMM&#x662F;Kotlin Multiplatform&#x5728;&#x79FB;&#x52A8;&#x5F00;&#x53D1;&#x9886;&#x57DF;&#x7684;&#x5E94;&#x7528;&#x3002;&#x5B83;&#x4E13;&#x6CE8;&#x4E8E;&#x4F7F;&#x7528;Kotlin&#x7F16;&#x5199;&#x53EF;&#x4EE5;&#x5728;Android&#x548C;iOS&#x5E73;&#x53F0;&#x4E0A;&#x5171;&#x4EAB;&#x7684;&#x4EE3;&#x7801;&#x3002;</p>
<p>&#x4E0E;KMP&#x7684;&#x5DEE;&#x5F02;&#x4E3B;&#x8981;&#x4F53;&#x73B0;&#x5728;&#x4F7F;&#x7528;&#x8303;&#x56F4;&#x4E0A;&#xFF0C;KMM&#x4E13;&#x95E8;&#x9488;&#x5BF9;&#x79FB;&#x52A8;&#x5E73;&#x53F0;&#xFF0C;&#x5373;iOS&#x548C;Android&#xFF08;&#x4E5F;&#x8BB8;&#xFF0C;maybe&#x672A;&#x6765;&#x4E5F;&#x5305;&#x62EC;&#x9E3F;&#x8499;&#xFF1F;&#xFF09;</p>
<p>Kotlin Multiplatform&#xFF08;&#x65E0;&#x8BBA;&#x662F;KMM&#x8FD8;&#x662F;&#x66F4;&#x5E7F;&#x6CDB;&#x7684;KMP&#xFF09;&#x63D0;&#x4F9B;&#x4E86;&#x4E00;&#x79CD;&#x9AD8;&#x6548;&#x7684;&#x65B9;&#x5F0F;&#x6765;&#x5171;&#x4EAB;&#x8DE8;&#x5E73;&#x53F0;&#x4EE3;&#x7801;&#xFF0C;&#x540C;&#x65F6;&#x5141;&#x8BB8;&#x5F00;&#x53D1;&#x8005;&#x4E3A;&#x6BCF;&#x4E2A;&#x5E73;&#x53F0;&#x63D0;&#x4F9B;&#x6700;&#x4F73;&#x7684;&#x7528;&#x6237;&#x4F53;&#x9A8C;&#xFF0C;&#x5982;&#x679C;&#x4F60;&#x7684;&#x9879;&#x76EE;&#x53EA;&#x6D89;&#x53CA;&#x5230;iOS&#x548C;Android&#x5E94;&#x7528;&#x7684;&#x5F00;&#x53D1;&#xFF0C;KMM&#x662F;&#x4E00;&#x4E2A;&#x5F88;&#x597D;&#x7684;&#x9009;&#x62E9;&#xFF0C;&#x56E0;&#x4E3A;&#x5B83;&#x4E13;&#x4E3A;&#x8FD9;&#x4E2A;&#x76EE;&#x7684;&#x8BBE;&#x8BA1;&#x3002;&#x5982;&#x679C;&#x4F60;&#x5E0C;&#x671B;&#x5728;&#x66F4;&#x5E7F;&#x6CDB;&#x7684;&#x5E73;&#x53F0;&#x4E0A;&#x5171;&#x4EAB;Kotlin&#x4EE3;&#x7801;&#xFF08;&#x5982;Web&#x3001;&#x684C;&#x9762;&#x6216;&#x670D;&#x52A1;&#x5668;&#x7AEF;&#xFF09;&#xFF0C;&#x90A3;&#x4E48;KMP&#x4F1A;&#x662F;&#x66F4;&#x9002;&#x5408;&#x7684;&#x9009;&#x62E9;&#x3002;</p>
<h2 id="&#x53D7;&#x547D;&#x4E8E;&#x5929;&#xFF0C;&#x65E2;&#x5BFF;&#x6C38;&#x660C;&#xFF1A;&#x8C01;&#x624D;&#x662F;&#x8DE8;&#x7AEF;&#x6B63;&#x7EDF;&#xFF1F;"><a href="#&#x53D7;&#x547D;&#x4E8E;&#x5929;&#xFF0C;&#x65E2;&#x5BFF;&#x6C38;&#x660C;&#xFF1A;&#x8C01;&#x624D;&#x662F;&#x8DE8;&#x7AEF;&#x6B63;&#x7EDF;&#xFF1F;" class="headerlink" title="&#x53D7;&#x547D;&#x4E8E;&#x5929;&#xFF0C;&#x65E2;&#x5BFF;&#x6C38;&#x660C;&#xFF1A;&#x8C01;&#x624D;&#x662F;&#x8DE8;&#x7AEF;&#x6B63;&#x7EDF;&#xFF1F;"></a>&#x53D7;&#x547D;&#x4E8E;&#x5929;&#xFF0C;&#x65E2;&#x5BFF;&#x6C38;&#x660C;&#xFF1A;&#x8C01;&#x624D;&#x662F;&#x8DE8;&#x7AEF;&#x6B63;&#x7EDF;&#xFF1F;</h2><p>&#x6253;&#x76D8;&#x53E4;&#x5F00;&#x5929;&#x8F9F;&#x5730;&#x4EE5;&#x6765;&#xFF0C;&#x4EBA;&#x7C7B;&#x5BF9;<code>&#x7EDF;&#x4E00;</code>&#x4E00;&#x76F4;&#x6709;&#x4E00;&#x79CD;&#x83AB;&#x540D;&#x7684;&#x6267;&#x5FF5;&#xFF1A;<strong>&#x975E;&#x6211;&#x65CF;&#x7C7B;&#xFF0C;&#x5176;&#x5FC3;&#x5FC5;&#x5F02;</strong>&#x3002;&#x6240;&#x4EE5;&#x5386;&#x53F2;&#x4E0A;&#x5404;&#x8DEF;&#x82F1;&#x96C4;&#x75AF;&#x4E86;&#x4F3C;&#x7684;&#x90FD;&#x8981;&#x7EDF;&#x4E00;&#x5929;&#x4E0B;&#x3002;<br>&#x524D;&#x7AEF;&#x5F00;&#x53D1;&#x4EA6;&#x662F;&#x5982;&#x6B64;&#xFF1A;&#x660E;&#x660E;&#x90FD;&#x662F;UI&#x5207;&#x56FE;&#x4ED4;&#xFF0C;&#x4E3A;&#x4F55;&#x8FD8;&#x8981;&#x533A;&#x5206;&#x51FA;<code>Android&#x5207;&#x56FE;&#x4ED4;</code>&#x3001;<code>iOS&#x5207;&#x56FE;&#x4ED4;</code>&#x3001;<code>web&#x5207;&#x56FE;&#x4ED4;</code>&#x2026;&#x4E3A;&#x4E86;&#x8FBE;&#x6210;&#x4E00;&#x7EDF;&#x5929;&#x4E0B;&#x7684;&#x76EE;&#x7684;&#xFF0C;&#x524D;&#x7AEF;&#x5386;&#x53F2;&#x4E0A;&#x4E5F;&#x662F;&#x82F1;&#x96C4;&#x8F88;&#x51FA;&#xFF1A;<code>React Native</code>&#x3001;<code>Weex</code>&#x3001;<code>Flutter</code>&#x4EE5;&#x53CA;&#x6211;&#x4EEC;&#x6B64;&#x6B21;&#x8981;&#x8BB2;&#x7684;<code>KMM(KMP)</code>&#x3002;</p>
<blockquote>
<p>&#x4E00;&#x4E2A;&#x56FD;&#x5BB6;&#xFF0C;&#x4E09;&#x4E2A;&#x653F;&#x5E9C;&#xFF0C;&#x8FD9;&#x96BE;&#x9053;&#x4E0D;&#x662F;&#x5206;&#x88C2;&#xFF0C;&#x4E0D;&#x662F;&#x5BF9;&#x5B59;&#x5148;&#x751F;&#x7684;&#x80CC;&#x53DB;&#x5417;&#xFF1F;&#x2014;&#x2014; &#x300A;&#x5EFA;&#x519B;&#x5927;&#x4E1A;&#x300B;</p>
</blockquote>
<p>&#x4E0B;&#x9762;&#x7684;&#x8868;&#x683C;&#x5217;&#x4E3E;&#x51FA;&#x4E86;&#x51E0;&#x4E2A;&#x4E3B;&#x6D41;&#x7684;&#x8DE8;&#x7AEF;&#x65B9;&#x6848;&#x7684;&#x5DEE;&#x5F02;&#x6027;&#xFF1A;</p>
<table>
<thead>
<tr>
<th>&#x7279;&#x5F81;/&#x6280;&#x672F;</th>
<th>Weex</th>
<th>React Native</th>
<th>Flutter</th>
<th>Kotlin Multiplatform (KMP)</th>
</tr>
</thead>
<tbody><tr>
<td><strong>&#x5F00;&#x53D1;&#x8005;/&#x7EF4;&#x62A4;&#x8005;</strong></td>
<td>&#x963F;&#x91CC;&#x5DF4;&#x5DF4;</td>
<td>Meta (&#x524D;Facebook)</td>
<td>Google</td>
<td>JetBrains</td>
</tr>
<tr>
<td><strong>&#x6280;&#x672F;&#x6808;</strong></td>
<td>Vue.js, JavaScript</td>
<td>JavaScript, React</td>
<td>Dart</td>
<td>Kotlin</td>
</tr>
<tr>
<td><strong>UI&#x6E32;&#x67D3;</strong></td>
<td>&#x539F;&#x751F;&#x7EC4;&#x4EF6;</td>
<td>&#x539F;&#x751F;&#x7EC4;&#x4EF6;</td>
<td>&#x81EA;&#x7ED8;UI&#xFF08;&#x901A;&#x8FC7;Skia&#xFF09;</td>
<td>&#x4F9D;&#x8D56;&#x4E8E;&#x5E73;&#x53F0;</td>
</tr>
<tr>
<td><strong>&#x6027;&#x80FD;</strong></td>
<td>&#x63A5;&#x8FD1;&#x539F;&#x751F;</td>
<td>&#x63A5;&#x8FD1;&#x539F;&#x751F;</td>
<td>&#x9AD8;&#xFF08;&#x6027;&#x80FD;&#x66F4;&#x4F18;&#xFF09;</td>
<td>&#x53D6;&#x51B3;&#x4E8E;&#x5E73;&#x53F0;&#xFF0C;&#x903B;&#x8F91;&#x90E8;&#x5206;&#x9AD8;&#x6548;</td>
</tr>
<tr>
<td><strong>&#x8DE8;&#x5E73;&#x53F0;&#x8303;&#x56F4;</strong></td>
<td>iOS, Android</td>
<td>iOS, Android, Web (&#x90E8;&#x5206;&#x652F;&#x6301;)</td>
<td>iOS, Android, Web, Desktop, Embedded</td>
<td>iOS, Android, Web, Desktop</td>
</tr>
<tr>
<td><strong>&#x5B66;&#x4E60;&#x66F2;&#x7EBF;</strong></td>
<td>&#x9002;&#x4E2D;&#xFF0C;&#x9700;&#x8981;&#x4E86;&#x89E3;Vue.js</td>
<td>&#x9002;&#x4E2D;&#xFF0C;&#x9700;&#x8981;&#x4E86;&#x89E3;React</td>
<td>&#x8F83;&#x9661;&#x5CED;&#xFF0C;&#x9700;&#x8981;&#x5B66;&#x4E60;Dart&#x8BED;&#x8A00;</td>
<td>&#x9002;&#x4E2D;&#xFF0C;&#x5BF9;Kotlin&#x5F00;&#x53D1;&#x8005;&#x8F83;&#x4E3A;&#x53CB;&#x597D;</td>
</tr>
<tr>
<td><strong>&#x793E;&#x533A;&#x548C;&#x652F;&#x6301;</strong></td>
<td>&#x9002;&#x4E2D;</td>
<td>&#x5F3A;&#x5927;</td>
<td>&#x5F3A;&#x5927;</td>
<td>&#x589E;&#x957F;&#x4E2D;</td>
</tr>
<tr>
<td><strong>&#x7528;&#x4F8B;</strong></td>
<td>&#x9002;&#x5408;&#x963F;&#x91CC;&#x751F;&#x6001;&#x5708;&#x5185;&#x7684;&#x9879;&#x76EE;</td>
<td>&#x5E7F;&#x6CDB;&#x7684;&#x5E94;&#x7528;&#x573A;&#x666F;&#xFF0C;&#x5C24;&#x5176;&#x662F;&#x9700;&#x8981;&#x5FEB;&#x901F;&#x8FED;&#x4EE3;&#x7684;&#x9879;&#x76EE;</td>
<td>&#x9002;&#x5408;&#x9AD8;&#x6027;&#x80FD;&#x548C;&#x9AD8;&#x5EA6;&#x5B9A;&#x5236;&#x5316;&#x7684;UI&#x8BBE;&#x8BA1;&#x7684;&#x5E94;&#x7528;</td>
<td>&#x9002;&#x5408;&#x903B;&#x8F91;&#x91CD;&#x7528;&#xFF0C;&#x8DE8;&#x591A;&#x5E73;&#x53F0;&#x5171;&#x4EAB;&#x4E1A;&#x52A1;&#x903B;&#x8F91;</td>
</tr>
</tbody></table>
<p>&#x5176;&#x4E2D;<code>React Native</code>&#x3001;<code>Flutter</code>&#x6210;&#x540D;&#x5DF2;&#x4E45;&#xFF0C;&#x4E5F;&#x7B97;&#x662F;&#x8DE8;&#x7AEF;&#x65B9;&#x6848;&#x4E24;&#x79CD;&#x5B9E;&#x73B0;&#x601D;&#x8DEF;&#x7684;&#x4EE3;&#x8868;&#xFF1A;</p>
<ul>
<li>&#x4EE5;<code>React Native</code>&#x4E3A;&#x4EE3;&#x8868;&#x7684;&#x4F7F;&#x7528;&#x5E73;&#x53F0;&#x7684;&#x539F;&#x751F;&#x7EC4;&#x4EF6;&#x6765;&#x6784;&#x5EFA;UI&#x3002;&#x8FD9;&#x5C31;&#x610F;&#x5473;&#x7740;&#x5B83;&#x9700;&#x8981;&#x8BB2;JavaScript&#x4EE3;&#x7801;&#x6865;&#x63A5;&#x5230;&#x539F;&#x751F;&#x4EE3;&#x7801;&#xFF0C;&#x4F7F;&#x7528;&#x539F;&#x751F;&#x63A7;&#x4EF6;&#x6765;&#x6E32;&#x67D3;&#x754C;&#x9762;&#x3002;&#x8FD9;&#x79CD;&#x65B9;&#x6CD5;&#x53EF;&#x4EE5;&#x63D0;&#x4F9B;&#x63A5;&#x8FD1;&#x539F;&#x751F;&#x7684;&#x6027;&#x80FD;&#x548C;&#x5916;&#x89C2;&#xFF0C;&#x4F46;&#x53EF;&#x80FD;&#x4F1A;&#x53D7;&#x9650;&#x4E8E;&#x6846;&#x67B6;&#x5BF9;&#x539F;&#x751F;&#x7EC4;&#x4EF6;&#x7684;&#x652F;&#x6301;&#x3002;&#x4E0E;&#x4E4B;&#x7C7B;&#x4F3C;&#x7684;&#x8FD8;&#x6709;<code>Weex</code>&#x3002;</li>
<li>&#x4EE5;<code>Flutter</code>&#x4E3A;&#x4EE3;&#x8868;&#x7684;&#x4F7F;&#x7528;&#x81EA;&#x5DF1;&#x7684;&#x6E32;&#x67D3;&#x5F15;&#x64CE;&#x7ED8;&#x5236;&#x754C;&#x9762;&#x3001;&#x6784;&#x5EFA;UI&#x3002;&#x8FD9;&#x79CD;&#x65B9;&#x6848;&#x7531;&#x4E8E;&#x907F;&#x514D;&#x4E86;&#x6865;&#x63A5;&#x5F00;&#x9500;&#xFF0C;&#x901A;&#x5E38;&#x53EF;&#x4EE5;&#x63D0;&#x4F9B;&#x66F4;&#x597D;&#x7684;&#x6027;&#x80FD;&#xFF0C;&#x4F7F;&#x5F97;&#x52A8;&#x753B;&#x548C;&#x8FC7;&#x6E21;&#x66F4;&#x52A0;&#x5E73;&#x6ED1;&#xFF0C;&#x54CD;&#x5E94;&#x66F4;&#x5FEB;&#x3002;&#x4E0E;&#x4E4B;&#x7C7B;&#x4F3C;&#x7684;&#x8FD8;&#x6709;<code>Compose Multiplatform</code>&#x3002;</li>
</ul>
<p>React Native&#x867D;&#x7136;&#x53F7;&#x79F0;&#x53EF;&#x4EE5;&#x5B9E;&#x73B0;&#x63A5;&#x8FD1;&#x539F;&#x751F;&#x7684;&#x6027;&#x80FD;&#xFF0C;&#x4F46;&#x7531;&#x4E8E;&#x5176;&#x5929;&#x7136;&#x5B58;&#x5728;&#x7684;&#x6865;&#x63A5;&#x673A;&#x5236;&#xFF08;JavaScript&#x4E0E;&#x539F;&#x751F;&#x4EE3;&#x7801;&#x4E4B;&#x95F4;&#x7684;&#x901A;&#x4FE1;&#xFF09;&#xFF0C;&#x5BF9;&#x4E8E;&#x4E00;&#x4E9B;&#x8981;&#x6C42;&#x9AD8;&#x6027;&#x80FD;&#x7684;&#x5E94;&#x7528;&#x6216;&#x590D;&#x6742;&#x52A8;&#x753B;&#xFF0C;React Native&#x53EF;&#x80FD;&#x65E0;&#x6CD5;&#x4E0E;&#x539F;&#x751F;&#x5E94;&#x7528;&#x76F8;&#x5339;&#x654C;&#x3002;<br>&#x540C;&#x65F6;&#xFF0C;&#x5C3D;&#x7BA1;React Native&#x65E8;&#x5728;&#x652F;&#x6301;&#x8DE8;&#x5E73;&#x53F0;&#x5F00;&#x53D1;&#xFF0C;&#x4F46;&#x5728;&#x5B9E;&#x9645;&#x5F00;&#x53D1;&#x4E2D;&#xFF0C;&#x4ECD;&#x7136;&#x53EF;&#x80FD;&#x9700;&#x8981;&#x7F16;&#x5199;&#x5E73;&#x53F0;&#x7279;&#x5B9A;&#x7684;&#x4EE3;&#x7801;&#x6765;&#x5904;&#x7406;&#x4E0D;&#x540C;&#x64CD;&#x4F5C;&#x7CFB;&#x7EDF;&#x4E4B;&#x95F4;&#x7684;&#x5DEE;&#x5F02;&#x3002;&#x8FD9;&#x53EF;&#x80FD;&#x51CF;&#x5C11;&#x4EE3;&#x7801;&#x590D;&#x7528;&#x7387;&#xFF0C;&#x589E;&#x52A0;&#x5F00;&#x53D1;&#x548C;&#x7EF4;&#x62A4;&#x6210;&#x672C;&#x3002;</p>
<p>&#x81F3;&#x4E8E;Flutter&#x5462;&#xFF0C;&#x6027;&#x80FD;&#x4E0A;&#x5012;&#x662F;&#x548C;&#x539F;&#x751F;&#x6CA1;&#x6709;&#x592A;&#x5927;&#x5DEE;&#x5F02;&#xFF0C;&#x5BF9;&#x4E8E;&#x90A3;&#x4E9B;&#x4E0D;&#x719F;&#x6089;Dart&#x8BED;&#x8A00;&#x7684;&#x5F00;&#x53D1;&#x8005;&#x6765;&#x8BF4;&#xFF0C;Flutter&#x53EF;&#x80FD;&#x6709;&#x4E00;&#x5B9A;&#x7684;&#x5B66;&#x4E60;&#x66F2;&#x7EBF;&#x3002;&#x867D;&#x7136;Dart&#x8BBE;&#x8BA1;&#x4E3A;&#x6613;&#x4E8E;&#x5B66;&#x4E60;&#x7684;&#x8BED;&#x8A00;&#xFF0C;&#x4F46;&#x5B83;&#x5E76;&#x4E0D;&#x662F;&#x4EC0;&#x4E48;&#x5927;&#x4F17;&#x6027;&#x7684;&#x8BED;&#x8A00;&#x3002;&#x5F00;&#x53D1;&#x8005;&#x5F80;&#x5F80;&#x9700;&#x8981;&#x989D;&#x5916;&#x7684;&#x65F6;&#x95F4;&#x548C;&#x8D44;&#x6E90;&#x6765;&#x5B66;&#x4E60;Dart&#x8BED;&#x8A00;&#x53CA;Flutter&#x6846;&#x67B6;&#x3002;</p>
<p>&#x540C;&#x65F6;&#xFF0C;&#x867D;&#x7136;Flutter&#x52AA;&#x529B;&#x63D0;&#x4F9B;&#x4E30;&#x5BCC;&#x7684;&#x63D2;&#x4EF6;&#x6765;&#x652F;&#x6301;&#x5404;&#x79CD;&#x5E73;&#x53F0;&#x7279;&#x5B9A;&#x529F;&#x80FD;&#xFF0C;&#x4F46;&#x65B0;&#x7684;&#x5E73;&#x53F0;&#x529F;&#x80FD;&#x6216;&#x8F83;&#x5C11;&#x4F7F;&#x7528;&#x7684;&#x529F;&#x80FD;&#x53EF;&#x80FD;&#x6CA1;&#x6709;&#x73B0;&#x6210;&#x7684;&#x63D2;&#x4EF6;&#x652F;&#x6301;&#xFF0C;&#x8FD9;&#x4E9B;&#x4E5F;&#x9700;&#x8981;&#x5F00;&#x53D1;&#x8005;&#x81EA;&#x884C;&#x7F16;&#x5199;&#x539F;&#x751F;&#x4EE3;&#x7801;&#x5E76;&#x521B;&#x5EFA;&#x6865;&#x63A5;&#x903B;&#x8F91;&#xFF0C;&#x65E0;&#x7591;&#x589E;&#x52A0;&#x4E86;&#x5F00;&#x53D1;&#x7684;&#x590D;&#x6742;&#x6027;&#x548C;&#x65F6;&#x95F4;&#x6210;&#x672C;&#x3002;</p>
<blockquote>
<p>&#x4EC0;&#x4E48;&#xFF1F;&#x4F60;&#x95EE;&#x6211;&#x300C;Weex&#x300D;&#xFF1F;  </p>
<p>&#x5927;&#x4EBA;&#xFF0C;&#x65F6;&#x4EE3;&#x53D8;&#x4E86;&#xFF0C;&#x5927;&#x6E05;&#x4EA1;&#x4E86;&#x554A;&#xFF01;Weex&#x7684;Github&#x6700;&#x8FD1;&#x7684;&#x4E00;&#x6B21;&#x63D0;&#x4EA4;&#x662F;&#x5728;23&#x5E74;8&#x6708;&#x4EFD;[/&#x54ED;]</p>
</blockquote>
<h2 id="&#x300C;KMP&#x300D;&#x65B0;&#x738B;&#x5F53;&#x7ACB;&#xFF1F;"><a href="#&#x300C;KMP&#x300D;&#x65B0;&#x738B;&#x5F53;&#x7ACB;&#xFF1F;" class="headerlink" title="&#x300C;KMP&#x300D;&#x65B0;&#x738B;&#x5F53;&#x7ACB;&#xFF1F;"></a>&#x300C;KMP&#x300D;&#x65B0;&#x738B;&#x5F53;&#x7ACB;&#xFF1F;</h2><h3 id="&#x66F4;&#x7EC6;&#x7C92;&#x5EA6;&#x3001;&#x6E10;&#x8FDB;&#x5F0F;&#x7684;&#x8DE8;&#x5E73;&#x53F0;"><a href="#&#x66F4;&#x7EC6;&#x7C92;&#x5EA6;&#x3001;&#x6E10;&#x8FDB;&#x5F0F;&#x7684;&#x8DE8;&#x5E73;&#x53F0;" class="headerlink" title="&#x66F4;&#x7EC6;&#x7C92;&#x5EA6;&#x3001;&#x6E10;&#x8FDB;&#x5F0F;&#x7684;&#x8DE8;&#x5E73;&#x53F0;"></a>&#x66F4;&#x7EC6;&#x7C92;&#x5EA6;&#x3001;&#x6E10;&#x8FDB;&#x5F0F;&#x7684;&#x8DE8;&#x5E73;&#x53F0;</h3><p><img src="https://gitee.com/songjianzaina/juejin_p3/raw/master/img/bddf0da83614f1ab3d4e30aa714cabc853807abb7d2ac28f576a0b9ec87ff302" alt="image.png"></p>
<p>&#x4E0E;&#x4F20;&#x7EDF;&#x7684;<code>Flutter</code> or <code>React Native</code>&#x65B9;&#x6848;&#x4E0D;&#x540C;&#xFF0C;<code>KMP</code>&#x5BF9;&#x4E8E;&#x8DE8;&#x5E73;&#x53F0;&#x4EE3;&#x7801;&#x7684;&#x7C92;&#x5EA6;&#x66F4;&#x52A0;&#x7CBE;&#x7EC6;&#xFF0C;&#x5141;&#x8BB8;&#x5F00;&#x53D1;&#x8005; <strong>&#x6E10;&#x8FDB;&#x5F0F;</strong> &#x7684;&#x5B8C;&#x6210;&#x8DE8;&#x5E73;&#x53F0;&#xFF0C;&#x6309;&#x4EE3;&#x7801;&#x7684;&#x91CD;&#x7528;&#x7A0B;&#x5EA6;&#x4E0D;&#x540C;&#x5206;&#x4E3A;3&#x79CD;&#xFF1A;</p>
<ul>
<li>&#x5171;&#x4EAB;&#x90E8;&#x5206;&#x903B;&#x8F91;&#x5C42;&#x4EE3;&#x7801;</li>
</ul>
<p>&#x5728;&#x4FDD;&#x969C;app&#x7684;&#x7A33;&#x5B9A;&#x6027;&#x7684;&#x524D;&#x63D0;&#x4E0B;&#xFF0C;&#x5C06;&#x90E8;&#x5206;&#x5173;&#x952E;&#x4E14;&#x72EC;&#x7ACB;&#x7684;&#x903B;&#x8F91;&#x5C42;&#x4EE3;&#x7801;&#x8FDB;&#x884C;&#x5171;&#x4EAB;&#xFF0C;&#x4F7F;&#x5176;&#x80FD;&#x5728;&#x4E0D;&#x540C;&#x7684;&#x5E73;&#x53F0;&#x4E0A;&#x91CD;&#x7528;&#x8FD9;&#x90E8;&#x5206;&#x7684;&#x4EE3;&#x7801;&#x3002;&#x8FD9;&#x79CD;&#x65B9;&#x5F0F;&#x9002;&#x5408;&#x73B0;&#x6709;&#x9879;&#x76EE;&#x5411;KMP&#x7684;&#x8FC1;&#x79FB;&#xFF0C;&#x6700;&#x5927;&#x7A0B;&#x5EA6;&#x7684;&#x4FDD;&#x8BC1;app&#x7684;&#x7A33;&#x5B9A;&#x6027;&#x3002;</p>
<ul>
<li>&#x903B;&#x8F91;&#x5C42;&#x4EE3;&#x7801;&#x5B8C;&#x5168;&#x8DE8;&#x5E73;&#x53F0;&#xFF0C;UI&#x5C42;&#x4EE3;&#x7801;&#x4FDD;&#x6301;&#x5E73;&#x53F0;&#x72EC;&#x7ACB;&#x6027;</li>
</ul>
<p>&#x903B;&#x8F91;&#x5C42;&#x4EE3;&#x7801;&#x5B8C;&#x5168;&#x5B9E;&#x73B0;&#x8DE8;&#x5E73;&#x53F0;&#xFF0C;&#x4F46;&#x662F;UI&#x90E8;&#x5206;&#x7684;&#x4EE3;&#x7801;&#x4FDD;&#x6301;&#x5E73;&#x53F0;&#x72EC;&#x7ACB;&#x6027;&#x3002;&#x8FD9;&#x79CD;&#x6A21;&#x5F0F;&#x6BD4;&#x8F83;&#x9002;&#x5408;&#x65B0;&#x9879;&#x76EE;&#xFF0C;&#x6CA1;&#x6709;&#x5386;&#x53F2;&#x503A;&#x52A1;&#xFF0C;&#x4ECE;&#x65B0;&#x5F00;&#x59CB;&#x3002;</p>
<ul>
<li>&#x903B;&#x8F91;&#x5C42;&#x548C;UI&#x5C42;&#x5B8C;&#x5168;&#x7684;&#x8DE8;&#x5E73;&#x53F0;&#xFF0C;&#x5373;&#x4EE3;&#x7801;100%&#x91CD;&#x7528;</li>
</ul>
<p>&#x8DE8;&#x5E73;&#x53F0;&#x9879;&#x76EE;&#x7684;&#x5B8C;&#x5168;&#x4F53;&#xFF0C;UI&#x90E8;&#x5206;&#x4F7F;&#x7528;<code>Compose Multiplatform</code>&#x6765;&#x5B8C;&#x6210;&#x8DE8;&#x5E73;&#x53F0;&#x8FBE;&#x5230;&#x91CD;&#x7528;&#x4EE3;&#x7801;&#x7684;&#x76EE;&#x7684;&#x3002;<br><img src="https://gitee.com/songjianzaina/juejin_p3/raw/master/img/4a963d4487d0d72a3529001da47a2d8ad3c9f0142b4d785a9108d056d0994956" alt="&#x4F7F;&#x7528;Compose Multiplatform&#x7F16;&#x5199;&#x7684;&#x8DE8;&#x5E73;&#x53F0;&#x9879;&#x76EE;" title="&#x4F7F;&#x7528;Compose Multiplatform&#x7F16;&#x5199;&#x7684;&#x8DE8;&#x5E73;&#x53F0;&#x9879;&#x76EE;"></p>
<h3 id="&#x6027;&#x80FD;&#x6709;&#x4FDD;&#x969C;&#x7684;&#x8DE8;&#x5E73;&#x53F0;"><a href="#&#x6027;&#x80FD;&#x6709;&#x4FDD;&#x969C;&#x7684;&#x8DE8;&#x5E73;&#x53F0;" class="headerlink" title="&#x6027;&#x80FD;&#x6709;&#x4FDD;&#x969C;&#x7684;&#x8DE8;&#x5E73;&#x53F0;"></a>&#x6027;&#x80FD;&#x6709;&#x4FDD;&#x969C;&#x7684;&#x8DE8;&#x5E73;&#x53F0;</h3><p>&#x901A;&#x8FC7;KMP&#x8DE8;&#x5E73;&#x53F0;&#x800C;&#x5171;&#x4EAB;&#x7684;&#x4EE3;&#x7801;&#xFF0C;&#x6700;&#x7EC8;&#x4F1A;&#x88AB;&#x7F16;&#x8BD1;&#x6210;&#x5BF9;&#x5E94;&#x5E73;&#x53F0;&#x7684;&#x4E8C;&#x8FDB;&#x5236;&#x6587;&#x4EF6;&#x3002;</p>
<p>&#x4EC0;&#x4E48;&#x610F;&#x601D;&#x5462;&#xFF1F;&#x6211;&#x4EEC;&#x4F7F;&#x7528;Kotlin&#x5199;&#x7684;&#x8DE8;&#x5E73;&#x53F0;&#x7684;&#x4EE3;&#x7801;&#xFF0C;&#x6700;&#x7EC8;&#x7F16;&#x8BD1;&#x751F;&#x6210;&#x7684;&#xFF0C;&#x4E0D;&#x4E00;&#x5B9A;&#x662F;.class&#x6587;&#x4EF6;&#x4E86;&#xFF0C;&#x53EF;&#x80FD;&#x662F;js&#x6587;&#x4EF6;&#x3001;.exe&#x3001;.framwork&#x2026;&#x7B49;&#x7B49;&#x90FD;&#x6709;&#x53EF;&#x80FD; &#x2014;&#x2014; &#x8FD9;&#x53D6;&#x51B3;&#x4E8E;&#x76EE;&#x6807;&#x5E73;&#x53F0;&#x3002;</p>
<p>&#x8FD9;&#x4E2A;&#x7279;&#x6027;&#x5929;&#x7136;&#x5C31;&#x51B3;&#x5B9A;&#x4E86;KMP&#x7684;&#x6027;&#x80FD;&#x76F8;&#x5BF9;&#x4E8E;React Native&#x548C;Flutter&#x66F4;&#x597D;&#x3002;&#x7406;&#x8BBA;&#x4E0A;KMP&#x751F;&#x6210;&#x7684;&#x4EE3;&#x7801;&#x548C;&#x539F;&#x751F;&#x4EE3;&#x7801;&#x5728;&#x6027;&#x80FD;&#x4E0A;&#x5E94;&#x8BE5;&#x522B;&#x65E0;&#x4E8C;&#x81F4;&#x3002;</p>
<h3 id="image-png"><a href="#image-png" class="headerlink" title="image.png"></a>image.png</h3><h3 id="&#x8BF4;&#x7684;&#x5929;&#x82B1;&#x4E71;&#x5760;&#xFF0C;&#x90FD;&#x8C01;&#x5728;&#x7528;KMP&#xFF1F;"><a href="#&#x8BF4;&#x7684;&#x5929;&#x82B1;&#x4E71;&#x5760;&#xFF0C;&#x90FD;&#x8C01;&#x5728;&#x7528;KMP&#xFF1F;" class="headerlink" title="&#x8BF4;&#x7684;&#x5929;&#x82B1;&#x4E71;&#x5760;&#xFF0C;&#x90FD;&#x8C01;&#x5728;&#x7528;KMP&#xFF1F;"></a>&#x8BF4;&#x7684;&#x5929;&#x82B1;&#x4E71;&#x5760;&#xFF0C;&#x90FD;&#x8C01;&#x5728;&#x7528;KMP&#xFF1F;</h3><p>&#x5B98;&#x7F51;&#x4E0A;&#x5217;&#x4E3E;&#x4E86;&#x5F88;&#x591A;&#x6848;&#x4F8B;&#xFF1A;</p>
<p><img src="https://gitee.com/songjianzaina/juejin_p3/raw/master/img/1ca6b890389d66ad91e7300ed44b2e48a1cc951c07fd0b6df90bdddd39eb155d" alt></p>
<p>&#x57FA;&#x672C;&#x4E0A;&#x4EE5;&#x56FD;&#x5916;&#x516C;&#x53F8;&#x4E3A;&#x4E3B;&#xFF0C;&#x4E0D;&#x8FC7;&#x636E;&#x6211;&#x6240;&#x77E5;&#xFF0C;&#x56FD;&#x5185;&#x7684;&#x5F88;&#x591A;&#x516C;&#x53F8;&#x4E5F;&#x5DF2;&#x7ECF;&#x5728;&#x751F;&#x4EA7;&#x73AF;&#x5883;&#x4E0A;&#x5C1D;&#x8BD5;KMP&#xFF0C;&#x50CF;<code>&#x5C0F;&#x7834;&#x7AD9;</code>&#x3001;<code>&#x8389;&#x8389;&#x4E1D;</code>&#x3001;<code>&#x7F8E;&#x56E2;</code>&#x7B49;&#x3002;</p>
<p><code>Google</code>&#x4E5F;&#x4E00;&#x76F4;&#x5728;&#x52A0;&#x5927;&#x5BF9;<code>KMP</code>&#x7684;&#x652F;&#x6301;&#x529B;&#x5EA6;&#xFF0C;&#x65E9;&#x5728;2022&#x5E74;10&#x6708;&#x4EFD;&#x5C31;&#x5BA3;&#x5E03;&#x4E86;<code>Jetpack</code>&#x5F00;&#x59CB;&#x652F;&#x6301;KMP&#x4E86;&#xFF1A;</p>
<p><a href="/external_links/8bf1d9229deb0619df980ef8b8902cf9.html" target="blank" rel="noopener">Announcing an Experimental Preview of Jetpack Multiplatform Libraries</a></p>
<p><img src="https://gitee.com/songjianzaina/juejin_p3/raw/master/img/b0a6b250cef0896d589a1418b4fd93df9d09b52eb3b018d0534a92a8eb6dcc4e" alt="Jetpack&#x5F00;&#x59CB;&#x652F;&#x6301;KMP" title="Jetpack&#x5F00;&#x59CB;&#x652F;&#x6301;KMP"></p>
<p>&#x6240;&#x4EE5;&#x5BF9;&#x4E8E;KMP&#x7684;&#x793E;&#x533A;&#x751F;&#x6001;&#x6216;&#x8005;&#x8BF4;&#x662F;&#x5F00;&#x53D1;&#x4F53;&#x9A8C;&#x4E0A;&#xFF0C;&#x6211;&#x662F;&#x4FDD;&#x6301;&#x7740;&#x76F8;&#x5BF9;&#x4E50;&#x89C2;&#x7684;&#x6001;&#x5EA6;&#xFF1A;&#x80CC;&#x9760;Google&#x4EE5;&#x53CA;&#x6700;&#x4F1A;&#x505A;IDE&#x7684;Jetbrains&#xFF0C;&#x6211;&#x76F8;&#x4FE1;KMP&#x7684;&#x751F;&#x6001;&#x4E0D;&#x4F1A;&#x5DEE;&#xFF0C;&#x65F6;&#x95F4;&#x95EE;&#x9898;&#x7F62;&#x4E86;&#x3002;</p>
<h2 id="&#x8BE5;&#x4E0D;&#x8BE5;&#x4F7F;&#x7528;KMP&#xFF1F;"><a href="#&#x8BE5;&#x4E0D;&#x8BE5;&#x4F7F;&#x7528;KMP&#xFF1F;" class="headerlink" title="&#x8BE5;&#x4E0D;&#x8BE5;&#x4F7F;&#x7528;KMP&#xFF1F;"></a>&#x8BE5;&#x4E0D;&#x8BE5;&#x4F7F;&#x7528;KMP&#xFF1F;</h2><p>&#x5F00;&#x6E90;&#x7684;&#x4E16;&#x754C;&#x767E;&#x5BB6;&#x4E89;&#x9E23;&#xFF0C;&#x4F46;&#x662F;&#x843D;&#x5230;&#x5B9E;&#x5904;&#x5F80;&#x5F80;&#x4E5F;&#x662F;&#x6210;&#x738B;&#x8D25;&#x5BC7;&#x3002;&#x4F5C;&#x4E3A;&#x5F00;&#x53D1;&#x8005;&#xFF0C;&#x505A;&#x6280;&#x672F;&#x9009;&#x578B;&#x5C31;&#x66F4;&#x9700;&#x8981;&#x614E;&#x91CD;&#x518D;&#x614E;&#x91CD;&#x4E86;&#x3002;<br>&#x5982;&#x679C;&#x4F60;&#x6709;&#x8DE8;&#x5E73;&#x53F0;&#x7684;&#x8BC9;&#x6C42;&#xFF0C;&#x6211;&#x8BA4;&#x4E3A;KMP&#x5F53;&#x524D;&#x503C;&#x5F97;&#x63A8;&#x8350;&#x3002;</p>
<p>&#x4F5C;&#x4E3A;&#x4E00;&#x4E2A;Android&#x5F00;&#x53D1;&#x8005;&#x3001;Kotlin&#x8BED;&#x8A00;&#x7684;&#x4F7F;&#x7528;&#x8005;&#xFF0C;Kotlin&#x3001;Compose&#x672C;&#x8EAB;&#x5C31;&#x5F88;&#x719F;&#x6089;&#xFF0C;&#x4F7F;&#x7528;KMP&#x51E0;&#x4E4E;&#x6CA1;&#x4EC0;&#x4E48;&#x5B66;&#x4E60;&#x6210;&#x672C;&#x548C;&#x95E8;&#x69DB;&#xFF0C;&#x8DE8;&#x5E73;&#x53F0;&#x7684;&#x80FD;&#x529B;&#x7B80;&#x76F4;&#x7B97;&#x662F;&#x767D;&#x9001;&#x7684;&#x3002;&#x5373;&#x4FBF;&#x4E0D;&#x719F;&#x6089;Compose&#xFF0C;&#x6211;&#x4EEC;&#x4E5F;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;KMM&#x5199;&#x4E00;&#x4E9B;UI&#x65E0;&#x5173;&#x7684;&#x3001;&#x903B;&#x8F91;&#x5C42;&#x7684;&#x4EE3;&#x7801;&#xFF0C;&#x5171;&#x7528;&#x903B;&#x8F91;&#x5C42;&#xFF0C;&#x8FBE;&#x5230;&#x8DE8;&#x5E73;&#x53F0;&#x7684;&#x80FD;&#x529B;&#x3002;&#x6BD4;&#x5982;&#x4F7F;&#x7528;KMP&#x505A;&#x57CB;&#x70B9;&#x6570;&#x636E;&#x4E0A;&#x62A5;&#x3002;</p>
<p>&#x81F3;&#x4E8E;&#x8DE8;&#x5E73;&#x53F0;&#x662F;&#x4E0D;&#x662F;&#x4F2A;&#x9700;&#x6C42;&#xFF0C;&#x6211;&#x89C9;&#x5F97;&#x5E94;&#x8BE5;&#x9AD8;&#x77BB;&#x8FDC;&#x77A9;&#x4E00;&#x4E0B;&#x3002;&#x73B0;&#x6709;&#x4E3B;&#x6D41;&#x7684;&#x79FB;&#x52A8;&#x7AEF;&#x5E73;&#x53F0;&#x53EA;&#x6709;iOS&#x548C;Android&#xFF0C;&#x52A0;&#x4E0A;&#x672A;&#x6765;&#x7684;&#x300C;&#x9E3F;&#x8499;&#x300D;&#x5462;&#xFF1F;&#x4E4B;&#x524D;&#x4E00;&#x5957;&#x903B;&#x8F91;iOS&#x548C;Android&#x5E73;&#x53F0;&#x4E0A;&#x5199;&#x4E24;&#x6B21;&#xFF0C;&#x73B0;&#x5728;&#x52A0;&#x4E0A;&#x9E3F;&#x8499;&#x5199;&#x4E09;&#x904D;&#x4E48;&#xFF1F;&#x5373;&#x4F7F;&#x4F60;&#x80FD;&#x5FCD;&#xFF0C;&#x516C;&#x53F8;&#x80FD;&#x4E0D;&#x80FD;&#x5FCD;&#x5462;&#xFF1F;KMP&#x5BF9;&#x4EBA;&#x6548;&#x7684;&#x63D0;&#x5347;&#x548C;&#x903B;&#x8F91;&#x7684;&#x7EDF;&#x4E00;&#x6027;&#x6211;&#x89C9;&#x5F97;&#x662F;&#x65E0;&#x9700;&#x8D28;&#x7591;&#x7684;&#x3002;</p>
<p><strong>&#x672C;&#x6587;&#x8F6C;&#x8F7D;&#x81EA;:</strong> <a href="/external_links/b5276b698d3ec2cad548d6340851b4b4.html" target="blank" rel="noopener">&#x6398;&#x91D1;</a></p>
<p><em><a href="https://dev.newban.cn/">&#x5F00;&#x53D1;&#x8005;&#x535A;&#x5BA2; &#x2013; &#x548C;&#x5F00;&#x53D1;&#x76F8;&#x5173;&#x7684; &#x8FD9;&#x91CC;&#x5168;&#x90FD;&#x6709;</a></em></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://dev.newban.cn../../7361852837267718171.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="开发者博客">
      <meta itemprop="description" content>
      <meta itemprop="image" content="../../images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="开发者博客 – IT技术 尽在开发者博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="../../7361852837267718171.html" itemprop="url">在 GPU 云上跑 LLama3</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2024-04-26T15:34:34+08:00">
                2024-04-26
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>LLama 3 &#x6A21;&#x578B;&#x5DF2;&#x7ECF;&#x5F00;&#x6E90;&#x4E86;&#xFF0C;&#x611F;&#x89C9;&#x6709;&#x4E00;&#x5927;&#x6CE2; Chinese -LLama 3 &#x6B63;&#x5728;&#x8D76;&#x6765;&#x7684;&#x8DEF;&#x4E0A;&#x3002;&#x5982;&#x679C;&#x4F60;&#x4E5F;&#x60F3;&#x57FA;&#x4E8E; LLama 3 &#x8BAD;&#x7EC3;&#x4E00;&#x4E2A;&#x81EA;&#x5DF1;&#x7684;&#x6A21;&#x578B;&#xFF0C;&#x90A3;&#x8FD9;&#x7BC7;&#x6559;&#x7A0B;&#x5C31;&#x6559;&#x4F60;&#x600E;&#x4E48;&#x6765;&#x505A;&#x3002;</p>
<p>&#x5728;&#x672C;&#x6587;&#x4E2D;&#xFF0C;&#x6211;&#x4EEC;&#x5C06;&#x4ECB;&#x7ECD;LLama 3&#xFF0C;&#x8FD9;&#x662F;&#x4E0B;&#x4E00;&#x4EE3;&#x6700;&#x5148;&#x8FDB;&#x7684;&#x5F00;&#x6E90;&#x5927;&#x578B;&#x8BED;&#x8A00;&#x6A21;&#x578B;&#x3002;&#x6211;&#x4EEC;&#x5C06;&#x4E86;&#x89E3;LLama 3&#x76F8;&#x5BF9;&#x4E8E;LLama 2&#x7684;&#x8FDB;&#x6B65;&#x3002;&#x7136;&#x540E;&#xFF0C;&#x6211;&#x4EEC;&#x5C06;&#x5229;&#x7528; <a href="/external_links/2069d5a1bc685cc29022392b9a224a2f.html" target="blank" rel="noopener">Paperspace GPU &#x4E91;</a>&#x7684;&#x80FD;&#x529B;&#x6765;&#x6DF1;&#x5165;&#x63A2;&#x7D22;&#xFF0C;&#x5E76;&#x5C1D;&#x8BD5;&#x4E0A;&#x624B;&#x8FD9;&#x4E2A;&#x6A21;&#x578B;&#x3002;&#x56E0;&#x4E3A; Paperspace &#x4E0A;&#x6709;&#x5305;&#x62EC; <a href="/external_links/fa1282cd6ec54346bfbaef7520cedf95.html" target="blank" rel="noopener">H100&#x3001;A100 &#x7B49;&#x4E00;&#x7CFB;&#x5217; GPU</a> &#x8D44;&#x6E90;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#x3002;</p>
<h2 id="&#x7B80;&#x5355;&#x804A;&#x804A;-LLama3"><a href="#&#x7B80;&#x5355;&#x804A;&#x804A;-LLama3" class="headerlink" title="&#x7B80;&#x5355;&#x804A;&#x804A; LLama3"></a>&#x7B80;&#x5355;&#x804A;&#x804A; LLama3</h2><p>&#x8FD9;&#x91CC;&#x7ED9;&#x8FD8;&#x672A;&#x4E86;&#x89E3; LLama 3 &#x7684;&#x5F00;&#x53D1;&#x8005;&#x4EEC;&#xFF0C;&#x7B80;&#x8981;&#x5730;&#x4ECB;&#x7ECD;&#x4E00;&#x4E0B;&#x5B83;&#x3002;&#x5982;&#x679C;&#x4F60;&#x5DF2;&#x7ECF;&#x662F; AI &#x5708;&#x7684;&#x8001;&#x624B;&#xFF0C;&#x90A3;&#x4E48;&#x53EF;&#x4EE5;&#x8DF3;&#x8FC7;&#x8FD9;&#x4E2A;&#x7AE0;&#x8282;&#x3002;</p>
<p>Meta &#x6700;&#x8FD1;&#x5BA3;&#x5E03;&#x4E86;LLama 3&#xFF0C;&#x8FD9;&#x662F;&#x4E0B;&#x4E00;&#x4EE3;&#x6700;&#x5148;&#x8FDB;&#x7684;&#x5F00;&#x6E90;&#x5927;&#x578B;&#x8BED;&#x8A00;&#x6A21;&#x578B;&#x3002;</p>
<p>LLama 3 &#x73B0;&#x5728;&#x62E5;&#x6709; 8B&#xFF08;80&#x4EBF;&#xFF09;&#x548C; 70B&#xFF08;700&#x4EBF;&#xFF09;&#x53C2;&#x6570;&#x7684;&#x8BED;&#x8A00;&#x6A21;&#x578B;&#x3002;&#x8BE5;&#x6A21;&#x578B;&#x5DF2;&#x5728;&#x5404;&#x79CD;&#x4EFB;&#x52A1;&#x4E2D;&#x90FD;&#x6709;&#x4E0D;&#x4FD7;&#x7684;&#x8868;&#x73B0;&#xFF0C;&#x5E76;&#x63D0;&#x4F9B;&#x66F4;&#x597D;&#x7684;&#x63A8;&#x7406;&#x80FD;&#x529B;&#x3002;&#x8BE5;&#x6A21;&#x578B;&#x5DF2;&#x7ECF;&#x5F00;&#x6E90;&#xFF0C;&#x53EF;&#x4F9B;&#x5546;&#x4E1A;&#x4F7F;&#x7528;&#xFF0C;&#x5E76;&#x4E14;&#x5F00;&#x53D1;&#x8005;&#x4EEC;&#x53EF;&#x4EE5;&#x5728; AI &#x5E94;&#x7528;&#x3001;&#x5F00;&#x53D1;&#x8005;&#x5DE5;&#x5177;&#x7B49;&#x65B9;&#x9762;&#x8FDB;&#x884C;&#x521B;&#x65B0;&#x3002;</p>
<p>LLama 3 &#x6709;&#x56DB;&#x4E2A;&#x7248;&#x672C;&#x7684;&#x5927;&#x578B;&#x8BED;&#x8A00;&#x6A21;&#x578B;&#xFF08;LLM&#xFF09;&#x3002;&#x8FD9;&#x4E9B;&#x6A21;&#x578B;&#x6709;&#x4E24;&#x79CD;&#x53C2;&#x6570;&#x89C4;&#x6A21;&#xFF1A;8B &#x548C; 70B &#x53C2;&#x6570;&#xFF0C;&#x6BCF;&#x79CD;&#x90FD;&#x6709;&#x57FA;&#x7840;&#xFF08;&#x9884;&#x8BAD;&#x7EC3;&#xFF09;&#x548C; instruct-tuned &#x7248;&#x672C;&#x3002;&#x5B83;&#x4EEC;&#x53EF;&#x4EE5;&#x5728;&#x4E0D;&#x540C;&#x7C7B;&#x578B;&#x7684;&#x6D88;&#x8D39;&#x7EA7;&#x786C;&#x4EF6;&#x4E0A;&#x5E73;&#x7A33;&#x8FD0;&#x884C;&#xFF0C;&#x5E76;&#x652F;&#x6301; 8K&#xFF08;8000&#xFF09;token &#x7684;&#x4E0A;&#x4E0B;&#x6587;&#x957F;&#x5EA6;&#x3002;</p>
<ul>
<li>Meta-Llama-3-8b&#xFF1A;&#x57FA;&#x7840; 8B &#x6A21;&#x578B;</li>
<li>Meta-Llama-3-8b-instruct&#xFF1A;&#x57FA;&#x4E8E; 8B &#x6A21;&#x578B;&#x7684; instruct-tuned &#x7248;&#x672C;</li>
<li>Meta-Llama-3-70b&#xFF1A;&#x57FA;&#x7840; 70B &#x6A21;&#x578B;</li>
<li>Meta-Llama-3-70b-instruct&#xFF1A;&#x57FA;&#x4E8E; 70B &#x6A21;&#x578B;&#x7684; instruct-tuned &#x7248;&#x672C;</li>
</ul>
<h2 id="LLama-3-&#x7684;&#x589E;&#x5F3A;"><a href="#LLama-3-&#x7684;&#x589E;&#x5F3A;" class="headerlink" title="LLama 3 &#x7684;&#x589E;&#x5F3A;"></a>LLama 3 &#x7684;&#x589E;&#x5F3A;</h2><p>&#x6700;&#x65B0;&#x7684; 8B &#x548C; 70B &#x53C2;&#x6570;&#x7684; LLama 3 &#x6A21;&#x578B;&#xFF0C;&#x76F8;&#x6BD4; LLama 2 &#x6709;&#x663E;&#x8457;&#x8FDB;&#x6B65;&#x3002;&#x6709;&#x4E00;&#x4E9B;&#x4EBA;&#x8868;&#x793A;&#xFF0C;&#x8FD9;&#x662F;&#x4E3A;&#x5927;&#x578B;&#x8BED;&#x8A00;&#x6A21;&#x578B;&#x8BBE;&#x5B9A;&#x4E86;&#x65B0;&#x7684;&#x6807;&#x51C6;&#x3002;&#x7531;&#x4E8E;&#x66F4;&#x597D;&#x7684;&#x9884;&#x8BAD;&#x7EC3;&#x548C;&#x5FAE;&#x8C03;&#x65B9;&#x6CD5;&#xFF0C;&#x5B83;&#x4EEC;&#x5DF2;&#x6210;&#x4E3A;&#x540C;&#x7C7B;&#x6A21;&#x578B;&#x4E2D;&#x7684;&#x9876;&#x7EA7;&#x5B58;&#x5728;&#x3002;&#x540E;&#x8BAD;&#x7EC3;&#x589E;&#x5F3A;&#x4E2D;&#x9519;&#x8BEF;&#x660E;&#x663E;&#x51CF;&#x5C11;&#x4E86;&#xFF0C;&#x5E76;&#x63D0;&#x9AD8;&#x4E86;&#x6A21;&#x578B;&#x5728;&#x63A8;&#x7406;&#x3001;&#x751F;&#x6210;&#x4EE3;&#x7801;&#x548C;&#x9075;&#x5FAA;&#x6307;&#x4EE4;&#x65B9;&#x9762;&#x7684;&#x6027;&#x80FD;&#x3002;&#x7B80;&#x800C;&#x8A00;&#x4E4B;&#xFF0C;LLama 3 &#x6BD4;&#x4E4B;&#x524D;&#x7684;&#x5F88;&#x591A;&#x6A21;&#x578B;&#x90FD;&#x66F4;&#x5148;&#x8FDB;&#x3001;&#x66F4;&#x7075;&#x6D3B;&#x3002;&#x4E0B;&#x56FE;&#x662F;&#x6E90;&#x81EA; <a href="/external_links/d01f744e1989644be92d10b7175c756b.html" target="blank" rel="noopener">Meta &#x5B98;&#x65B9;&#x7684;&#x6570;&#x636E;</a>&#x3002;</p>
<p><img src="https://gitee.com/songjianzaina/juejin_p3/raw/master/img/962c62a185b923fcad80753c8b801f058b5e6082a299150e6be480ad329733b8" alt></p>
<p>&#x56FE;&#xFF1A;LLama 3 &#x6027;&#x80FD;&#x57FA;&#x51C6;</p>
<p>&#x5728;&#x5F00;&#x53D1; LLama 3&#x65F6;&#xFF0C;&#x4E3B;&#x8981;&#x5173;&#x6CE8;&#x70B9;&#x662F;&#x6A21;&#x578B;&#x5728;&#x73B0;&#x5B9E;&#x751F;&#x6D3B;&#x60C5;&#x5883;&#x4E2D;&#x7684;&#x4F18;&#x5316;&#x3002;&#x4E3A;&#x6B64;&#xFF0C;&#x4ED6;&#x4EEC;&#x521B;&#x5EFA;&#x4E86;&#x4E00;&#x4E2A;&#x8BC4;&#x4F30;&#x96C6;&#xFF0C;&#x5305;&#x542B; 1800 &#x4E2A; prompt&#xFF0C;&#x6DB5;&#x76D6; 12 &#x4E2A;&#x5173;&#x952E;&#x4EFB;&#x52A1;&#xFF1A;&#x5BFB;&#x6C42;&#x5EFA;&#x8BAE;&#x3001;&#x7F16;&#x7801;&#x548C;&#x603B;&#x7ED3;&#x3002;&#x6B64;&#x5916;&#xFF0C;&#x9A8C;&#x8BC1;&#x6570;&#x636E;&#x96C6;&#x4E5F;&#x88AB;&#x7981;&#x6B62;&#x7814;&#x53D1;&#x56E2;&#x961F;&#x8BBF;&#x95EE;&#xFF0C;&#x4EE5;&#x9632;&#x6B62;&#x6A21;&#x578B;&#x8FC7;&#x62DF;&#x5408;&#x3002;&#x5C06; LLama 3 &#x4E0E; Claude Sonnet&#x3001;Mistral Medium &#x548C; GPT-3.5 &#x8FDB;&#x884C;&#x4EBA;&#x5DE5;&#x8BC4;&#x4F30;&#x540E;&#xFF0C;&#x53D1;&#x73B0;&#x5B83;&#x5728;&#x5404;&#x79CD;&#x4EFB;&#x52A1;&#x548C;&#x573A;&#x666F;&#x4E2D;&#x7684;&#x7ED3;&#x679C;&#x90FD;&#x6709;&#x4E0D;&#x9519;&#x7684;&#x8868;&#x73B0;&#x3002;</p>
<p><img src="https://gitee.com/songjianzaina/juejin_p3/raw/master/img/7a2a7924ef9ac92c5ec1b5fbe9e396f39d1cf27a621665cd4c2a2ae8150c7b68" alt></p>
<p>&#x56FE;&#xFF1A;&#x663E;&#x793A;&#x4E86;&#x4EBA;&#x5DE5;&#x8BC4;&#x4F30;&#x5728;&#x51E0;&#x4E2A;&#x7C7B;&#x522B;&#x548C;&#x63D0;&#x793A;&#x4E0B;&#x7684;&#x7ED3;&#x679C;</p>
<p>&#x4E3A;&#x4E86;&#x589E;&#x5F3A; LLama 3 &#x7684;&#x80FD;&#x529B;&#xFF0C;Meta &#x4E13;&#x6CE8;&#x4E8E;&#x6269;&#x5927;&#x9884;&#x8BAD;&#x7EC3;&#x89C4;&#x6A21;&#x548C;&#x5B8C;&#x5584;&#x540E;&#x8BAD;&#x7EC3;&#x6280;&#x672F;&#x3002;</p>
<p>&#x4ED6;&#x4EEC;&#x6269;&#x5927;&#x4E86;&#x9884;&#x8BAD;&#x7EC3;&#x89C4;&#x6A21;&#xFF0C;&#x5E76;&#x5236;&#x5B9A;&#x4E86;&#x4E00;&#x7CFB;&#x5217;&#x8BE6;&#x7EC6;&#x7684; scaling laws&#xFF0C;&#x4EE5;&#x4F18;&#x5316;&#x8BA1;&#x7B97;&#x6027;&#x80FD;&#x3002;&#x4EE4;&#x4EBA;&#x60CA;&#x8BB6;&#x7684;&#x662F;&#xFF0C;&#x5373;&#x4F7F;&#x5728;&#x8BAD;&#x7EC3;&#x4E86;&#x5927;&#x91CF;&#x6570;&#x636E;&#x2014;&#x2014;&#x9AD8;&#x8FBE; 15T&#xFF08;&#x4E07;&#x4EBF;&#xFF09; &#x4E2A; token &#x4E4B;&#x540E;&#x2014;&#x2014;&#x5176;&#x6027;&#x80FD;&#x4ECD;&#x5448;&#x5BF9;&#x6570;&#x7EBF;&#x6027;&#x589E;&#x957F;&#x3002;&#x7ED3;&#x5408;&#x4F7F;&#x7528;&#x5404;&#x79CD;&#x5E76;&#x884C;&#x5316;&#x65B9;&#x6CD5;&#x548C;&#x5B9A;&#x5236;&#x7684; GPU &#x96C6;&#x7FA4;&#xFF0C;&#x4E0E;LLama 2 &#x76F8;&#x6BD4;&#xFF0C;&#x8BAD;&#x7EC3;&#x6548;&#x7387;&#x6709;&#x6548;&#x63D0;&#x9AD8;&#x4E86;&#x4E09;&#x500D;&#x3002;</p>
<p>&#x5BF9;&#x4E8E;&#x6307;&#x4EE4;&#x5FAE;&#x8C03;&#xFF0C;Meta &#x8003;&#x8651;&#x4E86;&#x4E0D;&#x540C;&#x7684;&#x6280;&#x672F;&#xFF0C;&#x5982;&#x76D1;&#x7763;&#x5FAE;&#x8C03;&#x548C;&#x504F;&#x597D;&#x4F18;&#x5316;&#x3002;&#x6B64;&#x5916;&#xFF0C;&#x8BE6;&#x7EC6;&#x5236;&#x5B9A;&#x4E86;&#x8BAD;&#x7EC3;&#x6570;&#x636E;&#x548C;&#x4ECE;&#x504F;&#x597D;&#x6392;&#x540D;&#x4E2D;&#x5B66;&#x4E60;&#xFF0C;&#x8FD9;&#x6709;&#x6548;&#x63D0;&#x9AD8;&#x4E86;&#x6A21;&#x578B;&#x7684;&#x6027;&#x80FD;&#xFF0C;&#x7279;&#x522B;&#x662F;&#x5728;&#x63A8;&#x7406;&#x548C;&#x7F16;&#x7801;&#x4EFB;&#x52A1;&#x4E2D;&#x3002;&#x8FD9;&#x4E9B;&#x6539;&#x8FDB;&#x4F7F;&#x6A21;&#x578B;&#x80FD;&#x591F;&#x66F4;&#x597D;&#x5730;&#x7406;&#x89E3;&#x548C;&#x54CD;&#x5E94;&#x590D;&#x6742;&#x4EFB;&#x52A1;&#x3002;</p>
<h2 id="&#x6A21;&#x578B;&#x67B6;&#x6784;"><a href="#&#x6A21;&#x578B;&#x67B6;&#x6784;" class="headerlink" title="&#x6A21;&#x578B;&#x67B6;&#x6784;"></a>&#x6A21;&#x578B;&#x67B6;&#x6784;</h2><p>&#x5728;&#x8BBE;&#x8BA1; LLama 3 &#x65F6;&#xFF0C;&#x91C7;&#x7528;&#x6807;&#x51C6;&#x7684;&#x89E3;&#x7801;&#x5668;&#x53EA;&#x6709;&#x53D8;&#x6362;&#x5668;&#x67B6;&#x6784;&#xFF0C;&#x4F18;&#x5316;&#x4E86;&#x7F16;&#x7801;&#x6548;&#x7387;&#x548C;&#x63A8;&#x7406;&#x6548;&#x7387;&#x3002;&#x4E0E;LLama 2&#x76F8;&#x6BD4;&#xFF0C;&#x91C7;&#x7528;&#x4E86;&#x6709; 128K &#x4E2A;&#x6807;&#x8BB0;&#x8BCD;&#x6C47;&#x8868;&#x7684;&#x5206;&#x8BCD;&#x5668;&#xFF0C;&#x80FD;&#x66F4;&#x6709;&#x6548;&#x5730;&#x5BF9;&#x8BED;&#x8A00;&#x8FDB;&#x884C;&#x7F16;&#x7801;&#x3002;&#x6B64;&#x5916;&#xFF0C;&#x4E3A;&#x4E86;&#x5728;&#x63A8;&#x7406;&#x671F;&#x95F4;&#x8BA9; LLama 3 &#x6A21;&#x578B;&#x66F4;&#x5FEB;&#xFF0C;&#x8FD8;&#x5F15;&#x5165;&#x4E86;&#x4E0D;&#x540C;&#x5927;&#x5C0F;&#x7684;&#x5206;&#x7EC4;&#x67E5;&#x8BE2;&#x6CE8;&#x610F;&#x529B;&#xFF08;GQA&#xFF09;&#x3002;&#x5728;&#x8BAD;&#x7EC3;&#x671F;&#x95F4;&#xFF0C;&#x4F7F;&#x7528;&#x4E86; 8192 &#x4E2A; token &#x7684;&#x5E8F;&#x5217;&#x548C;&#x4E00;&#x79CD;&#x63A9;&#x7801;&#x6280;&#x672F;&#xFF0C;&#x4EE5;&#x4FDD;&#x6301;&#x6587;&#x6863;&#x8FB9;&#x754C;&#x5185;&#x7684;&#x6CE8;&#x610F;&#x529B;&#x3002;</p>
<p>LLama 3 &#x5728;&#x8D85;&#x8FC7; 15T token &#x7684;&#x516C;&#x5F00;&#x6570;&#x636E;&#x96C6;&#x4E0A;&#x8FDB;&#x884C;&#x4E86;&#x9884;&#x8BAD;&#x7EC3;&#x2014;&#x2014;&#x6BD4; LLama 2 &#x4F7F;&#x7528;&#x7684;&#x6570;&#x636E;&#x5927; 7 &#x500D;&#xFF0C;&#x800C;&#x4E14;&#x4EE3;&#x7801;&#x91CF;&#x4E5F;&#x5927;&#x4E86; 4 &#x500D;&#x3002;&#x8BE5;&#x6A21;&#x578B;&#x5305;&#x542B;&#x8D85;&#x8FC7; 5% &#x7684;&#x975E;&#x82F1;&#x8BED;&#x6570;&#x636E;&#xFF0C;&#x6DB5;&#x76D6; 30 &#x79CD;&#x8BED;&#x8A00;&#xFF0C;&#x4EE5;&#x4FBF;&#x5B9E;&#x73B0;&#x652F;&#x6301;&#x591A;&#x8BED;&#x8A00;&#x3002;</p>
<p>&#x4E3A;&#x4E86;&#x4FDD;&#x6301;&#x5728;&#x9AD8;&#x8D28;&#x91CF;&#x7684;&#x6570;&#x636E;&#x4E0A;&#x8FDB;&#x884C;&#x8BAD;&#x7EC3;&#xFF0C;Meta &#x8FD8;&#x6784;&#x5EFA;&#x4E86;&#x4E00;&#x7CFB;&#x5217;&#x6570;&#x636E;&#x8FC7;&#x6EE4;&#x7BA1;&#x9053;&#xFF0C;&#x8FD8;&#x4F7F;&#x7528;&#x4E86;&#x542F;&#x53D1;&#x5F0F;&#x8FC7;&#x6EE4;&#x5668;&#x548C;&#x6587;&#x672C;&#x5206;&#x7C7B;&#x5668;&#x7B49;&#xFF0C;&#x76EE;&#x7684;&#x5C31;&#x662F;&#x4E3A;&#x4E86;&#x63D0;&#x9AD8;&#x4E86;&#x6A21;&#x578B;&#x6027;&#x80FD;&#x3002;</p>
<h2 id="&#x8FD0;&#x884C;-LLama-3-Demo"><a href="#&#x8FD0;&#x884C;-LLama-3-Demo" class="headerlink" title="&#x8FD0;&#x884C; LLama 3 Demo"></a>&#x8FD0;&#x884C; LLama 3 Demo</h2><p>&#x5728;&#x6211;&#x4EEC;&#x5F00;&#x59CB;&#x4E4B;&#x524D;&#xFF0C;&#x8BF7;&#x786E;&#x4FDD;&#x5728; huggingface.co &#x4E0A;&#x83B7;&#x5F97;&#x5BF9;&#x201C;meta-llama/Meta-Llama-3-70B&#x201D;&#x6A21;&#x578B;&#x7684;&#x8BBF;&#x95EE;&#x6743;&#x9650;&#x3002;&#x53E6;&#x5916;&#xFF0C;&#x6211;&#x4EEC;&#x5728;&#x8FD9;&#x91CC;&#x4F7F;&#x7528;&#x7684;&#x662F; <a href="/external_links/2069d5a1bc685cc29022392b9a224a2f.html" target="blank" rel="noopener">Paperspace &#x5E73;&#x53F0;&#x4E0A;&#x7684; GPU</a>&#xFF0C;&#x5982;&#x679C;&#x4F60;&#x624B;&#x4E0A;&#x8FD8;&#x6CA1;&#x6709;&#x5408;&#x9002;&#x7684; GPU &#x548C;&#x673A;&#x5668;&#xFF0C;&#x53EF;&#x4EE5;&#x8003;&#x8651;&#x8FD9;&#x4E2A;&#x5E73;&#x53F0;&#x3002;</p>
<p>&#x8981;&#x4F7F;&#x7528; Llama 3&#xFF0C;&#x6211;&#x4EEC;&#x9996;&#x5148;&#x8981;&#x5347;&#x7EA7; transformers &#x5305;&#x3002;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">lua&#x590D;&#x5236;&#x4EE3;&#x7801;#upgrade the transformer package</span><br><span class="line">pip install -U &quot;transformers==4.40.0&quot; --upgrade</span><br></pre></td></tr></table></figure>

<p>&#x63A5;&#x4E0B;&#x6765;&#xFF0C;&#x8FD0;&#x884C;&#x4EE5;&#x4E0B;&#x4EE3;&#x7801;&#x6BB5;&#x3002;&#x6839;&#x636E; Hugging Face &#x535A;&#x5BA2;&#x7684;&#x63D0;&#x793A;&#xFF0C;&#x8BE5;&#x6A21;&#x578B;&#x901A;&#x5E38;&#x9700;&#x8981;&#x5927;&#x7EA6; 16GB &#x7684; RAM&#xFF0C;&#x5305;&#x62EC;&#x50CF; 3090 &#x6216; 4090 &#x8FD9;&#x6837;&#x7684; GPU&#x3002;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">ini&#x590D;&#x5236;&#x4EE3;&#x7801;import transformers</span><br><span class="line">import torch</span><br><span class="line"></span><br><span class="line">model_id = &quot;meta-llama/Meta-Llama-3-8B-Instruct&quot;</span><br><span class="line"></span><br><span class="line">pipeline = transformers.pipeline(</span><br><span class="line">  &quot;text-generation&quot;,</span><br><span class="line">  model=&quot;meta-llama/Meta-Llama-3-8B-Instruct&quot;,</span><br><span class="line">  model_kwargs={&quot;torch_dtype&quot;: torch.bfloat16},</span><br><span class="line">  device=&quot;cuda&quot;,</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">pipeline(&quot;Hey how are you doing today?&quot;)</span><br></pre></td></tr></table></figure>

<p>&#x5982;&#x679C;&#x4F60;&#x6536;&#x5230;&#x9519;&#x8BEF;&#x4FE1;&#x606F; &#x201C;RuntimeError: cutlassF: no kernel found to launch!&#x201D;&#xFF0C;&#x8BF7;&#x5C1D;&#x8BD5;&#x4E0B;&#x9762;&#x7684;&#x4EE3;&#x7801;&#xFF0C;&#x5E76;&#x518D;&#x6B21;&#x8FD0;&#x884C;&#x8BE5;cell&#x3002;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">python&#x590D;&#x5236;&#x4EE3;&#x7801;torch.backends.cuda.enable_mem_efficient_sdp(False)</span><br><span class="line">torch.backends.cuda.enable_flash_sdp(False)</span><br></pre></td></tr></table></figure>

<p>&#x751F;&#x6210;&#x7684;&#x6587;&#x672C;&#xFF1A;&#x201C;Hey how are you doing today? I hope you&#x2019;re having a great day so far! I just&#x201D;</p>
<p>&#x5728;&#x8FD9;&#x91CC;&#x9700;&#x8981;&#x6CE8;&#x610F;&#x51E0;&#x4EF6;&#x4E8B;&#x60C5;&#xFF1A;</p>
<ul>
<li>&#x5728;&#x6211;&#x4EEC;&#x7684;&#x793A;&#x4F8B;&#x6848;&#x4F8B;&#x4E2D;&#xFF0C;&#x6211;&#x4EEC;&#x4F7F;&#x7528;&#x4E86;&#x2019;bfloat16&#x2019;&#x6765;&#x52A0;&#x8F7D;&#x6A21;&#x578B;&#x3002;&#x6700;&#x521D;&#xFF0C;Meta &#x4F7F;&#x7528;&#x7684;&#x662F;&#x2019;bfloat16&#x2019;&#x3002;&#x56E0;&#x6B64;&#xFF0C;&#x8FD9;&#x662F;&#x4E00;&#x79CD;&#x5B98;&#x65B9;&#x63A8;&#x8350;&#x7684;&#x8FD0;&#x884C;&#x65B9;&#x5F0F;&#xFF0C;&#x53EF;&#x4EE5;&#x786E;&#x4FDD;&#x6700;&#x4F73;&#x7CBE;&#x5EA6;&#x6216;&#x8FDB;&#x884C;&#x8BC4;&#x4F30;&#x3002;&#x5F53;&#x7136;&#xFF0C;&#x4F60;&#x4E5F;&#x53EF;&#x4EE5;&#x5C1D;&#x8BD5;&#x4F7F;&#x7528; float16&#xFF0C;&#x6839;&#x636E;&#x4F60;&#x786C;&#x4EF6;&#x914D;&#x7F6E;&#x7684;&#x60C5;&#x51B5;&#xFF0C;&#x8FD9;&#x53EF;&#x80FD;&#x4F1A;&#x66F4;&#x5FEB;&#x3002;</li>
<li>&#x4F60;&#x8FD8;&#x53EF;&#x4EE5;&#x81EA;&#x52A8;&#x538B;&#x7F29;&#x6A21;&#x578B;&#xFF0C;&#x5C06;&#x5176;&#x52A0;&#x8F7D;&#x4E3A; 8 &#x4F4D;&#x6216; 4 &#x4F4D;&#x6A21;&#x5F0F;&#x3002;&#x5728; 4 &#x4F4D;&#x6A21;&#x5F0F;&#x4E0B;&#x8FD0;&#x884C;&#x9700;&#x8981;&#x7684;&#x5185;&#x5B58;&#x66F4;&#x5C11;&#xFF0C;&#x4F7F;&#x5176;&#x80FD;&#x517C;&#x5BB9;&#x8BB8;&#x591A;&#x6D88;&#x8D39;&#x7EA7;GPU &#x548C;&#x6027;&#x80FD;&#x8F83;&#x5F31;&#x7684; GPU&#x3002;&#x4EE5;&#x4E0B;&#x662F;&#x5982;&#x4F55;&#x4EE5;4&#x4F4D;&#x6A21;&#x5F0F;&#x52A0;&#x8F7D;&#x793A;&#x4F8B;&#x4EE3;&#x7801;&#x6BB5;&#x3002;</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">python&#x590D;&#x5236;&#x4EE3;&#x7801;pipeline = transformers.pipeline(</span><br><span class="line">    &quot;text-generation&quot;,</span><br><span class="line">    model=&quot;meta-llama/Meta-Llama-3-8B-Instruct&quot;,</span><br><span class="line">    model_kwargs={</span><br><span class="line">        &quot;torch_dtype&quot;: torch.float16,</span><br><span class="line">        &quot;quantization_config&quot;: {&quot;load_in_4bit&quot;: True},</span><br><span class="line">        &quot;low_cpu_mem_usage&quot;: True,</span><br><span class="line">    },</span><br><span class="line">)</span><br></pre></td></tr></table></figure>

<h2 id="LLama-3&#x7684;&#x672A;&#x6765;"><a href="#LLama-3&#x7684;&#x672A;&#x6765;" class="headerlink" title="LLama 3&#x7684;&#x672A;&#x6765;"></a>LLama 3&#x7684;&#x672A;&#x6765;</h2><p>&#x5C3D;&#x7BA1;&#x5F53;&#x524D;&#x7684; 8B&#xFF08;80&#x4EBF;&#xFF09;&#x548C; 70B&#xFF08;700&#x4EBF;&#xFF09;&#x53C2;&#x6570;&#x6A21;&#x578B;&#x7ED9;&#x4EBA;&#x7559;&#x4E0B;&#x4E86;&#x6DF1;&#x523B;&#x5370;&#x8C61;&#xFF0C;&#x4F46; Meta &#x7684;&#x5DE5;&#x7A0B;&#x5E08;&#x6B63;&#x5728;&#x7814;&#x7A76;&#x652F;&#x6301;&#x8D85;&#x8FC7; 400B&#xFF08;4000&#x4EBF;&#xFF09;&#x53C2;&#x6570;&#x7684;&#x66F4;&#x5927;&#x6A21;&#x578B;&#x3002;&#x8FD9;&#x4E9B;&#x6A21;&#x578B;&#x4ECD;&#x5728;&#x8BAD;&#x7EC3;&#x4E2D;&#x3002;&#x5728;&#x672A;&#x6765;&#x51E0;&#x4E2A;&#x6708;&#x91CC;&#xFF0C;&#x5B83;&#x4EEC;&#x5C06;&#x66F4;&#x5F3A;&#x7684;&#x65B0;&#x529F;&#x80FD;&#xFF0C;&#x5982;&#x591A;&#x6A21;&#x6001;&#x6027;&#x3001;&#x591A;&#x8BED;&#x8A00;&#x5BF9;&#x8BDD;&#x80FD;&#x529B;&#x3001;&#x66F4;&#x957F;&#x7684;&#x4E0A;&#x4E0B;&#x6587;&#x7406;&#x89E3;&#x80FD;&#x529B;&#x4EE5;&#x53CA;&#x6574;&#x4F53;&#x66F4;&#x5F3A;&#x7684;&#x80FD;&#x529B;&#x3002;</p>
<p><img src="https://gitee.com/songjianzaina/juejin_p3/raw/master/img/8d7554c9ace37269f374d9a4dafcc4d1ce3e0d258c5cf6211b2d4250d8d3297b" alt></p>
<p>Meta&#x7684;LLama 3 &#x6700;&#x5F15;&#x4EBA;&#x6CE8;&#x76EE;&#x7684;&#x4E00;&#x70B9;&#x5C31;&#x662F;&#x5F00;&#x6E90;&#x3002;&#x53D1;&#x5E03;&#x7684;&#x57FA;&#x4E8E;&#x6587;&#x672C;&#x7684;&#x6A21;&#x578B;&#x662F;LLama 3&#x7CFB;&#x5217;&#x6A21;&#x578B;&#x4E2D;&#x7684;&#x7B2C;&#x4E00;&#x6279;&#x3002;&#x6B63;&#x5982; Meta &#x6240;&#x8BF4;&#xFF0C;&#x4ED6;&#x4EEC;&#x7684;&#x4E3B;&#x8981;&#x76EE;&#x6807;&#x662F;&#x4F7F; LLama 3 &#x591A;&#x8BED;&#x8A00;&#x548C;&#x591A;&#x6A21;&#x6001;&#xFF0C;&#x62E5;&#x6709;&#x66F4;&#x957F;&#x7684;&#x4E0A;&#x4E0B;&#x6587;&#x652F;&#x6301;&#xFF0C;&#x5E76;&#x6301;&#x7EED;&#x6539;&#x8FDB;&#x6838;&#x5FC3;&#x5927;&#x578B;&#x8BED;&#x8A00;&#x6A21;&#x578B;&#xFF08;LLM&#xFF09;&#x80FD;&#x529B;&#xFF08;&#x5982;&#x63A8;&#x7406;&#x548C;&#x7F16;&#x7801;&#xFF09;&#x7684;&#x6574;&#x4F53;&#x6027;&#x80FD;&#x3002;</p>
<p>&#x6211;&#x4EEC;&#x8FEB;&#x4E0D;&#x53CA;&#x5F85;&#x5730;&#x60F3;&#x770B;&#x770B; GenAI &#x9886;&#x57DF;&#x7684;&#x4E0B;&#x4E00;&#x4E2A;&#x70ED;&#x70B9;&#x4F1A;&#x662F;&#x4EC0;&#x4E48;&#x4E86;&#x3002;</p>
<p>&#x6700;&#x540E;&#xFF0C;&#x5982;&#x679C;&#x4F60;&#x6B63;&#x5728;&#x8BA1;&#x5212;&#x8BAD;&#x7EC3;&#x81EA;&#x5DF1;&#x7684;&#x5927;&#x8BED;&#x8A00;&#x6A21;&#x578B;&#xFF0C;&#x6B22;&#x8FCE;&#x6CE8;&#x518C;&#x4F53;&#x9A8C; DigitalOcean &#x65D7;&#x4E0B;&#x7684; GPU &#x4E91;&#x670D;&#x52A1; &#x201C;<a href="/external_links/7a3b0726f7e4bf47493a86cf85153ee5.html" target="blank" rel="noopener">Paperspace</a>&#x201D;&#xFF0C;&#x652F;&#x6301;&#x5305;&#x62EC; H100&#x3001;A100&#x3001;4090 &#x7B49;&#x591A;&#x79CD; GPU&#xFF0C;&#x5E76;&#x9884;&#x88C5; ML &#x6846;&#x67B6;&#x3002;&#x968F;&#x65F6;&#x6269;&#x5C55;&#xFF0C;&#x6309;&#x9700;&#x505C;&#x6B62;&#xFF0C;&#x53EA;&#x9700;&#x6309;&#x4F7F;&#x7528;&#x91CF;&#x4ED8;&#x8D39;&#x3002;</p>
<p>&#x5982;&#x679C;&#x9700;&#x8981;&#x9884;&#x7EA6;&#x66F4;&#x591A; GPU &#x8D44;&#x6E90;&#x6216;&#x5E0C;&#x671B;&#x4E86;&#x89E3;&#x65B9;&#x6848;&#x8BE6;&#x60C5;&#xFF0C;&#x53EF;&#x4EE5;&#x4E0E; <a href="/external_links/2069d5a1bc685cc29022392b9a224a2f.html" target="blank" rel="noopener">DigitalOcean &#x4E2D;&#x56FD;&#x533A;&#x72EC;&#x5BB6;&#x6218;&#x7565;&#x5408;&#x4F5C;&#x4F19;&#x4F34;&#x5353;&#x666E;&#x4E91;</a>&#x54A8;&#x8BE2;&#x3002;</p>
<p><strong>&#x672C;&#x6587;&#x8F6C;&#x8F7D;&#x81EA;:</strong> <a href="/external_links/d3432c3b737c09478bc73a55ae22887a.html" target="blank" rel="noopener">&#x6398;&#x91D1;</a></p>
<p><em><a href="https://dev.newban.cn/">&#x5F00;&#x53D1;&#x8005;&#x535A;&#x5BA2; &#x2013; &#x548C;&#x5F00;&#x53D1;&#x76F8;&#x5173;&#x7684; &#x8FD9;&#x91CC;&#x5168;&#x90FD;&#x6709;</a></em></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
  </section>

  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="../10/"><i class="fa fa-angle-left"></i></a><a class="page-number" href="../../">1</a><span class="space">&hellip;</span><a class="page-number" href="../10/">10</a><span class="page-number current">11</span><a class="page-number" href="../12/">12</a><span class="space">&hellip;</span><a class="page-number" href="../298/">298</a><a class="extend next" rel="next" href="../12/"><i class="fa fa-angle-right"></i></a>
  </nav>



          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      

      <section class="site-overview-wrap sidebar-panel sidebar-panel-active">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <p class="site-author-name" itemprop="name">开发者博客</p>
              <p class="site-description motion-element" itemprop="description"></p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="https://dev.newban.cn/archives/">
              
                  <span class="site-state-item-count">2975</span>
                  <span class="site-state-item-name">日志</span>
                </a>
              </div>
            

            

            
              
              
              <div class="site-state-item site-state-tags">
                
                  <span class="site-state-item-count">1162</span>
                  <span class="site-state-item-name">标签</span>
                
              </div>
            

          </nav>

          
            <div class="feed-link motion-element">
              <a href="../../atom.xml" rel="alternate">
                <i class="fa fa-rss"></i>
                RSS
              </a>
            </div>
          

          

          
          

          
          

          

        </div>
      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2024</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">开发者博客</span>
  <div>
  <script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
  <span id="busuanzi_container_site_pv">本站总访问量<span id="busuanzi_value_site_pv"></span>次</span>
  </div>
  
</div>


  <div class="powered-by">由 <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a> 强力驱动</div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">主题 &mdash; <a class="theme-link" target="_blank" href="https://github.com/iissnan/hexo-theme-next">NexT.Muse</a> v5.1.4</div>




  <script type="text/javascript" async src="js/src/mermaid.min.js"></script>
  <script>
  if (window.mermaid) {
        var mermaid_config = {
            startOnLoad: true,
            theme: 'default',
            flowchart:{
                useMaxWidth: false,
                htmlLabels: true
            }                
        }
        mermaid.initialize(mermaid_config);
  }
  </script>
  

        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
          <span id="scrollpercent"><span>0</span>%</span>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  
    <script type="text/javascript" src="../../lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="../../lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="../../lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="../../lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="../../lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="../../lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  


  


  <script type="text/javascript" src="../../js/src/utils.js?v=5.1.4"></script>

  <script type="text/javascript" src="../../js/src/motion.js?v=5.1.4"></script>



  
  

  

  


  <script type="text/javascript" src="../../js/src/bootstrap.js?v=5.1.4"></script>



  


  




	





  





  












  

  <script type="text/javascript">
    // Popup Window;
    var isfetched = false;
    var isXml = true;
    // Search DB path;
    var search_path = "search.xml";
    if (search_path.length === 0) {
      search_path = "search.xml";
    } else if (/json$/i.test(search_path)) {
      isXml = false;
    }
    var path = "/" + search_path;
    // monitor main search box;

    var onPopupClose = function (e) {
      $('.popup').hide();
      $('#local-search-input').val('');
      $('.search-result-list').remove();
      $('#no-result').remove();
      $(".local-search-pop-overlay").remove();
      $('body').css('overflow', '');
    }

    function proceedsearch() {
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay"></div>')
        .css('overflow', 'hidden');
      $('.search-popup-overlay').click(onPopupClose);
      $('.popup').toggle();
      var $localSearchInput = $('#local-search-input');
      $localSearchInput.attr("autocapitalize", "none");
      $localSearchInput.attr("autocorrect", "off");
      $localSearchInput.focus();
    }

    // search function;
    var searchFunc = function(path, search_id, content_id) {
      'use strict';

      // start loading animation
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay">' +
          '<div id="search-loading-icon">' +
          '<i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>' +
          '</div>' +
          '</div>')
        .css('overflow', 'hidden');
      $("#search-loading-icon").css('margin', '20% auto 0 auto').css('text-align', 'center');

      $.ajax({
        url: path,
        dataType: isXml ? "xml" : "json",
        async: true,
        success: function(res) {
          // get the contents from search data
          isfetched = true;
          $('.popup').detach().appendTo('.header-inner');
          var datas = isXml ? $("entry", res).map(function() {
            return {
              title: $("title", this).text(),
              content: $("content",this).text(),
              url: $("url" , this).text()
            };
          }).get() : res;
          var input = document.getElementById(search_id);
          var resultContent = document.getElementById(content_id);
          var inputEventFunction = function() {
            var searchText = input.value.trim().toLowerCase();
            var keywords = searchText.split(/[\s\-]+/);
            if (keywords.length > 1) {
              keywords.push(searchText);
            }
            var resultItems = [];
            if (searchText.length > 0) {
              // perform local searching
              datas.forEach(function(data) {
                var isMatch = false;
                var hitCount = 0;
                var searchTextCount = 0;
                var title = data.title.trim();
                var titleInLowerCase = title.toLowerCase();
                var content = data.content.trim().replace(/<[^>]+>/g,"");
                var contentInLowerCase = content.toLowerCase();
                var articleUrl = decodeURIComponent(data.url);
                var indexOfTitle = [];
                var indexOfContent = [];
                // only match articles with not empty titles
                if(title != '') {
                  keywords.forEach(function(keyword) {
                    function getIndexByWord(word, text, caseSensitive) {
                      var wordLen = word.length;
                      if (wordLen === 0) {
                        return [];
                      }
                      var startPosition = 0, position = [], index = [];
                      if (!caseSensitive) {
                        text = text.toLowerCase();
                        word = word.toLowerCase();
                      }
                      while ((position = text.indexOf(word, startPosition)) > -1) {
                        index.push({position: position, word: word});
                        startPosition = position + wordLen;
                      }
                      return index;
                    }

                    indexOfTitle = indexOfTitle.concat(getIndexByWord(keyword, titleInLowerCase, false));
                    indexOfContent = indexOfContent.concat(getIndexByWord(keyword, contentInLowerCase, false));
                  });
                  if (indexOfTitle.length > 0 || indexOfContent.length > 0) {
                    isMatch = true;
                    hitCount = indexOfTitle.length + indexOfContent.length;
                  }
                }

                // show search results

                if (isMatch) {
                  // sort index by position of keyword

                  [indexOfTitle, indexOfContent].forEach(function (index) {
                    index.sort(function (itemLeft, itemRight) {
                      if (itemRight.position !== itemLeft.position) {
                        return itemRight.position - itemLeft.position;
                      } else {
                        return itemLeft.word.length - itemRight.word.length;
                      }
                    });
                  });

                  // merge hits into slices

                  function mergeIntoSlice(text, start, end, index) {
                    var item = index[index.length - 1];
                    var position = item.position;
                    var word = item.word;
                    var hits = [];
                    var searchTextCountInSlice = 0;
                    while (position + word.length <= end && index.length != 0) {
                      if (word === searchText) {
                        searchTextCountInSlice++;
                      }
                      hits.push({position: position, length: word.length});
                      var wordEnd = position + word.length;

                      // move to next position of hit

                      index.pop();
                      while (index.length != 0) {
                        item = index[index.length - 1];
                        position = item.position;
                        word = item.word;
                        if (wordEnd > position) {
                          index.pop();
                        } else {
                          break;
                        }
                      }
                    }
                    searchTextCount += searchTextCountInSlice;
                    return {
                      hits: hits,
                      start: start,
                      end: end,
                      searchTextCount: searchTextCountInSlice
                    };
                  }

                  var slicesOfTitle = [];
                  if (indexOfTitle.length != 0) {
                    slicesOfTitle.push(mergeIntoSlice(title, 0, title.length, indexOfTitle));
                  }

                  var slicesOfContent = [];
                  while (indexOfContent.length != 0) {
                    var item = indexOfContent[indexOfContent.length - 1];
                    var position = item.position;
                    var word = item.word;
                    // cut out 100 characters
                    var start = position - 20;
                    var end = position + 80;
                    if(start < 0){
                      start = 0;
                    }
                    if (end < position + word.length) {
                      end = position + word.length;
                    }
                    if(end > content.length){
                      end = content.length;
                    }
                    slicesOfContent.push(mergeIntoSlice(content, start, end, indexOfContent));
                  }

                  // sort slices in content by search text's count and hits' count

                  slicesOfContent.sort(function (sliceLeft, sliceRight) {
                    if (sliceLeft.searchTextCount !== sliceRight.searchTextCount) {
                      return sliceRight.searchTextCount - sliceLeft.searchTextCount;
                    } else if (sliceLeft.hits.length !== sliceRight.hits.length) {
                      return sliceRight.hits.length - sliceLeft.hits.length;
                    } else {
                      return sliceLeft.start - sliceRight.start;
                    }
                  });

                  // select top N slices in content

                  var upperBound = parseInt('1');
                  if (upperBound >= 0) {
                    slicesOfContent = slicesOfContent.slice(0, upperBound);
                  }

                  // highlight title and content

                  function highlightKeyword(text, slice) {
                    var result = '';
                    var prevEnd = slice.start;
                    slice.hits.forEach(function (hit) {
                      result += text.substring(prevEnd, hit.position);
                      var end = hit.position + hit.length;
                      result += '<b class="search-keyword">' + text.substring(hit.position, end) + '</b>';
                      prevEnd = end;
                    });
                    result += text.substring(prevEnd, slice.end);
                    return result;
                  }

                  var resultItem = '';

                  if (slicesOfTitle.length != 0) {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + highlightKeyword(title, slicesOfTitle[0]) + "</a>";
                  } else {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + title + "</a>";
                  }

                  slicesOfContent.forEach(function (slice) {
                    resultItem += "<a href='" + articleUrl + "'>" +
                      "<p class=\"search-result\">" + highlightKeyword(content, slice) +
                      "...</p>" + "</a>";
                  });

                  resultItem += "</li>";
                  resultItems.push({
                    item: resultItem,
                    searchTextCount: searchTextCount,
                    hitCount: hitCount,
                    id: resultItems.length
                  });
                }
              })
            };
            if (keywords.length === 1 && keywords[0] === "") {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-search fa-5x" /></div>'
            } else if (resultItems.length === 0) {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-frown-o fa-5x" /></div>'
            } else {
              resultItems.sort(function (resultLeft, resultRight) {
                if (resultLeft.searchTextCount !== resultRight.searchTextCount) {
                  return resultRight.searchTextCount - resultLeft.searchTextCount;
                } else if (resultLeft.hitCount !== resultRight.hitCount) {
                  return resultRight.hitCount - resultLeft.hitCount;
                } else {
                  return resultRight.id - resultLeft.id;
                }
              });
              var searchResultList = '<ul class=\"search-result-list\">';
              resultItems.forEach(function (result) {
                searchResultList += result.item;
              })
              searchResultList += "</ul>";
              resultContent.innerHTML = searchResultList;
            }
          }

          if ('auto' === 'auto') {
            input.addEventListener('input', inputEventFunction);
          } else {
            $('.search-icon').click(inputEventFunction);
            input.addEventListener('keypress', function (event) {
              if (event.keyCode === 13) {
                inputEventFunction();
              }
            });
          }

          // remove loading animation
          $(".local-search-pop-overlay").remove();
          $('body').css('overflow', '');

          proceedsearch();
        }
      });
    }

    // handle and trigger popup window;
    $('.popup-trigger').click(function(e) {
      e.stopPropagation();
      if (isfetched === false) {
        searchFunc(path, 'local-search-input', 'local-search-result');
      } else {
        proceedsearch();
      };
    });

    $('.popup-btn-close').click(onPopupClose);
    $('.popup').click(function(e){
      e.stopPropagation();
    });
    $(document).on('keyup', function (event) {
      var shouldDismissSearchPopup = event.which === 27 &&
        $('.search-popup').is(':visible');
      if (shouldDismissSearchPopup) {
        onPopupClose();
      }
    });
  </script>





  

  

  

  
  

  

  

  

</body>
</html>
