<!DOCTYPE html>



  


<html class="theme-next muse use-motion" lang="zh-Hans">
<head><meta name="generator" content="Hexo 3.9.0">
  <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
<meta name="theme-color" content="#222">
<meta name="referrer" content="never">









<meta http-equiv="Cache-Control" content="no-transform">
<meta http-equiv="Cache-Control" content="no-siteapp">
















  
  
  <link href="../../lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css">







<link href="../../lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css">

<link href="../../css/main.css?v=5.1.4" rel="stylesheet" type="text/css">


  <link rel="apple-touch-icon" sizes="180x180" href="../../images/apple-touch-icon-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="32x32" href="../../images/favicon-32x32-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="16x16" href="../../images/favicon-16x16-next.png?v=5.1.4">


  <link rel="mask-icon" href="../../images/logo.svg?v=5.1.4" color="#222">





  <meta name="keywords" content="Hexo, NexT">





  <link rel="alternate" href="../../atom.xml" title="开发者博客 – IT技术 尽在开发者博客" type="application/atom+xml">






<meta property="og:type" content="website">
<meta property="og:title" content="开发者博客 – IT技术 尽在开发者博客">
<meta property="og:url" content="https://dev.newban.cn/page/287/index.html">
<meta property="og:site_name" content="开发者博客 – IT技术 尽在开发者博客">
<meta property="og:locale" content="zh-Hans">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="开发者博客 – IT技术 尽在开发者博客">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Muse',
    version: '5.1.4',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":true,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>
<!--谷歌广告验证代码-->
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({
          google_ad_client: "ca-pub-2626449904708114",
          enable_page_level_ads: true
     });
</script>
<!--谷歌广告验证代码-->



  <link rel="canonical" href="https://dev.newban.cn/page/287/">





  <title>开发者博客 – IT技术 尽在开发者博客</title>
  








</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  
  
    
  

  <div class="container sidebar-position-left 
  page-home">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">开发者博客 – IT技术 尽在开发者博客</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle">开发者博客 – 科技是第一生产力</p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="http://dev.newban.cn/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br>
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="https://dev.newban.cn/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br>
            
            归档
          </a>
        </li>
      

      
        <li class="menu-item menu-item-search">
          
            <a href="javascript:;" class="popup-trigger">
          
            
              <i class="menu-item-icon fa fa-search fa-fw"></i> <br>
            
            搜索
          </a>
        </li>
      
    </ul>
  

  
    <div class="site-search">
      
  <div class="popup search-popup local-search-popup">
  <div class="local-search-header clearfix">
    <span class="search-icon">
      <i class="fa fa-search"></i>
    </span>
    <span class="popup-btn-close">
      <i class="fa fa-times-circle"></i>
    </span>
    <div class="local-search-input-wrapper">
      <input autocomplete="off" placeholder="搜索..." spellcheck="false" type="text" id="local-search-input">
    </div>
  </div>
  <div id="local-search-result"></div>
</div>



    </div>
  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://dev.newban.cn../../6844903512074092551.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="开发者博客">
      <meta itemprop="description" content>
      <meta itemprop="image" content="../../images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="开发者博客 – IT技术 尽在开发者博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="../../6844903512074092551.html" itemprop="url">菜鸟成长系列-多态、接口和抽象类 接口 抽象类</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-11-17T15:49:46+08:00">
                2017-11-17
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p><code>&#x9762;&#x5411;&#x5BF9;&#x8C61;&#x7684;&#x4E09;&#x5927;&#x7279;&#x6027;&#xFF1A;&#x5C01;&#x88C5;&#x3001;&#x7EE7;&#x627F;&#x3001;&#x591A;&#x6001;&#x3002;&#x4ECE;&#x4E00;&#x5B9A;&#x89D2;&#x5EA6;&#x6765;&#x770B;&#xFF0C;&#x5C01;&#x88C5;&#x548C;&#x7EE7;&#x627F;&#x51E0;&#x4E4E;&#x90FD;&#x662F;&#x4E3A;&#x591A;&#x6001;&#x800C;&#x51C6;&#x5907;&#x7684;&#x3002;&#x8FD9;&#x662F;&#x6211;&#x4EEC;&#x6700;&#x540E;&#x4E00;&#x4E2A;&#x6982;&#x5FF5;&#xFF0C;&#x4E5F;&#x662F;&#x6700;&#x91CD;&#x8981;&#x7684;&#x77E5;&#x8BC6;&#x70B9;&#x3002;</code></p>
<p><strong>&#x591A;&#x6001;&#x7684;&#x5B9A;&#x4E49;&#xFF1A;&#x6307;&#x5141;&#x8BB8;&#x4E0D;&#x540C;&#x7C7B;&#x7684;&#x5BF9;&#x8C61;&#x5BF9;&#x540C;&#x4E00;&#x6D88;&#x606F;&#x505A;&#x51FA;&#x54CD;&#x5E94;&#x3002;&#x5373;&#x540C;&#x4E00;&#x6D88;&#x606F;&#x53EF;&#x4EE5;&#x6839;&#x636E;&#x53D1;&#x9001;&#x5BF9;&#x8C61;&#x7684;&#x4E0D;&#x540C;&#x800C;&#x91C7;&#x7528;&#x591A;&#x79CD;&#x4E0D;&#x540C;&#x7684;&#x884C;&#x4E3A;&#x65B9;&#x5F0F;&#x3002;&#xFF08;&#x53D1;&#x9001;&#x6D88;&#x606F;&#x5C31;&#x662F;&#x51FD;&#x6570;&#x8C03;&#x7528;&#xFF09;</strong></p>
<h2 id="&#x52A8;&#x6001;&#x7ED1;&#x5B9A;"><a href="#&#x52A8;&#x6001;&#x7ED1;&#x5B9A;" class="headerlink" title="&#x52A8;&#x6001;&#x7ED1;&#x5B9A;"></a>&#x52A8;&#x6001;&#x7ED1;&#x5B9A;</h2><ul>
<li>&#x9759;&#x6001;&#x7ED1;&#x5B9A;&#x548C;&#x52A8;&#x6001;&#x7ED1;&#x5B9A;  </li>
<li><em>&#x8FD9;&#x91CC;&#x6240;&#x8C13;&#x7684;&#x7ED1;&#x5B9A;&#xFF0C;&#x5373;&#x4E00;&#x4E2A;&#x65B9;&#x6CD5;&#x7684;&#x8C03;&#x7528;&#x4E0E;&#x65B9;&#x6CD5;&#x6240;&#x5728;&#x7684;&#x7C7B;&#xFF08;&#x65B9;&#x6CD5;&#x4E3B;&#x4F53;&#xFF09;&#x5173;&#x8054;&#x8D77;&#x6765;&#x3002;*</em></li>
</ul>
<p><strong>&#x9759;&#x6001;&#x7ED1;&#x5B9A;&#xFF08;&#x524D;&#x671F;&#x7ED1;&#x5B9A;&#xFF09;</strong>&#xFF1A;&#x5373;&#x5728;&#x7A0B;&#x5E8F;&#x6267;&#x884C;&#x524D;&#xFF0C;&#x5373;&#x7F16;&#x8BD1;&#x7684;&#x65F6;&#x5019;&#x5DF2;&#x7ECF;&#x5B9E;&#x73B0;&#x4E86;&#x8BE5;&#x65B9;&#x6CD5;&#x4E0E;&#x6240;&#x5728;&#x7C7B;&#x7684;&#x7ED1;&#x5B9A;&#xFF0C;&#x50CF;C&#x5C31;&#x662F;&#x9759;&#x6001;&#x7ED1;&#x5B9A;&#x3002;<br> java&#x4E2D;&#x53EA;&#x6709;static&#xFF0C;final&#xFF0C;private&#x548C;&#x6784;&#x9020;&#x65B9;&#x6CD5;&#x662F;&#x9759;&#x6001;&#x7ED1;&#x5B9A;&#xFF0C;&#x5176;&#x4ED6;&#x7684;&#x90FD;&#x5C5E;&#x4E8E;&#x52A8;&#x6001;&#x7ED1;&#x5B9A;&#xFF0C;&#x800C;private&#x7684;&#x65B9;&#x6CD5;&#x5176;&#x5B9E;&#x4E5F;&#x662F;final&#x65B9;&#x6CD5;&#xFF08;&#x9690;&#x5F0F;&#xFF09;&#xFF0C;&#x800C;&#x6784;&#x9020; &#x65B9;&#x6CD5;&#x5176;&#x5B9E;&#x662F;&#x4E00;&#x4E2A;static&#x65B9;&#x6CD5;&#xFF08;&#x9690;&#x5F0F;&#xFF09;&#xFF0C;&#x6240;&#x4EE5;&#x53EF;&#x4EE5;&#x770B;&#x51FA;&#x628A;&#x65B9;&#x6CD5;&#x58F0;&#x660E;&#x4E3A;final&#xFF0C;&#x7B2C;&#x4E00;&#x53EF;&#x4EE5;&#x8BA9;&#x4ED6;&#x4E0D;&#x88AB;&#x91CD;&#x5199;&#xFF0C;&#x7B2C;&#x4E8C;&#x4E5F;&#x53EF;&#x4EE5;&#x5173;&#x95ED;&#x5B83;&#x7684;&#x52A8;&#x6001;&#x7ED1;&#x5B9A;&#x3002;</p>
<p><strong>&#x52A8;&#x6001;&#x7ED1;&#x5B9A;&#xFF08;&#x540E;&#x671F;&#x7ED1;&#x5B9A;&#xFF09;</strong>&#xFF1A;&#x8FD0;&#x884C;&#x65F6;&#x6839;&#x636E;&#x5BF9;&#x8C61;&#x7684;&#x7C7B;&#x578B;&#x8FDB;&#x884C;&#x7ED1;&#x5B9A;&#xFF0C;java&#x4E2D;&#x7684;&#x5927;&#x591A;&#x6570;&#x65B9;&#x6CD5;&#x90FD;&#x662F;&#x5C5E;&#x4E8E;&#x52A8;&#x6001;&#x7ED1;&#x5B9A;&#xFF0C;&#x4E5F;&#x5C31;&#x662F;&#x5B9E;&#x73B0;&#x591A;&#x6001;&#x7684;&#x57FA;&#x7840;&#x3002;<br> java&#x5B9E;&#x73B0;&#x4E86;&#x540E;&#x671F;&#x7ED1;&#x5B9A;&#xFF0C;&#x5219;&#x5FC5;&#x987B;&#x63D0;&#x4F9B;&#x4E00;&#x4E9B;&#x673A;&#x5236;&#xFF0C;&#x53EF;&#x5728;&#x8FD0;&#x884C;&#x671F;&#x95F4;&#x5224;&#x65AD;&#x5BF9;&#x8C61;&#x7684;&#x7C7B;&#x578B;&#xFF0C;&#x5E76;&#x5206;&#x522B;&#x8C03;&#x7528;&#x9002;&#x5F53;&#x7684;&#x65B9;&#x6CD5;&#x3002; &#x4E5F;&#x5C31;&#x662F;&#x8BF4;&#xFF0C;&#x7F16;&#x8BD1;&#x7684;&#x65F6;&#x5019;&#x8BE5;&#x65B9;&#x6CD5;&#x4E0D;&#x4E0E;&#x6240;&#x5728;&#x7C7B;&#x7ED1;&#x5B9A;&#xFF0C;&#x7F16;&#x8BD1;&#x5668;&#x6B64;&#x65F6;&#x4F9D;&#x7136;&#x4E0D;&#x77E5;&#x9053;&#x5BF9;&#x8C61;&#x7684;&#x7C7B;&#x578B;&#xFF0C;&#x4F46;&#x65B9;&#x6CD5;&#x8C03;&#x7528;&#x673A;&#x5236;&#x80FD;&#x81EA;&#x5DF1;&#x53BB;&#x8C03;&#x67E5;&#xFF0C;&#x627E;&#x5230;&#x6B63;&#x786E;&#x7684;&#x65B9;&#x6CD5;&#x4E3B;&#x4F53;&#x3002;java&#x91CC;&#x5B9E;&#x73B0;&#x52A8;&#x6001;&#x7ED1;&#x5B9A;&#x7684;&#x662F;JVM.</p>
<p><strong>&#x52A8;&#x6001;&#x7ED1;&#x5B9A;&#x662F;&#x5B9E;&#x73B0;&#x591A;&#x6001;&#x7684;&#x6280;&#x672F;&#xFF0C;&#x662F;&#x6307;&#x5728;&#x6267;&#x884C;&#x671F;&#x95F4;&#x5224;&#x65AD;&#x6240;&#x5F15;&#x7528;&#x5BF9;&#x8C61;&#x7684;&#x5B9E;&#x9645;&#x7C7B;&#x578B;&#xFF0C;&#x6839;&#x636E;&#x5176;&#x5B9E;&#x9645;&#x7684;&#x7C7B;&#x578B;&#x8C03;&#x7528;&#x5176;&#x76F8;&#x5E94;&#x7684;&#x65B9;&#x6CD5;&#x3002;</strong></p>
<h2 id="&#x591A;&#x6001;&#x7684;&#x4F5C;&#x7528;"><a href="#&#x591A;&#x6001;&#x7684;&#x4F5C;&#x7528;" class="headerlink" title="&#x591A;&#x6001;&#x7684;&#x4F5C;&#x7528;"></a>&#x591A;&#x6001;&#x7684;&#x4F5C;&#x7528;</h2><p>&#x6D88;&#x9664;&#x7C7B;&#x578B;&#x4E4B;&#x95F4;&#x7684;&#x8026;&#x5408;&#x5173;&#x7CFB;&#x3002;&#x5373;&#xFF1A;&#x628A;&#x4E0D;&#x540C;&#x7684;&#x5B50;&#x7C7B;&#x5BF9;&#x8C61;&#x90FD;&#x5F53;&#x4F5C;&#x7236;&#x7C7B;&#x6765;&#x770B;&#xFF0C;&#x53EF;&#x4EE5;&#x5C4F;&#x853D;&#x4E0D;&#x540C;&#x5B50;&#x7C7B;&#x5BF9;&#x8C61;&#x4E4B;&#x95F4;&#x7684;&#x5DEE;&#x5F02;&#xFF0C;&#x5199;&#x51FA;&#x901A;&#x7528;&#x7684;&#x4EE3;&#x7801;&#xFF0C;&#x505A;&#x51FA;&#x901A;&#x7528;&#x7684;&#x7F16;&#x7A0B;&#xFF0C;&#x4EE5;&#x9002;&#x5E94;&#x9700;&#x6C42;&#x7684;&#x4E0D;&#x65AD;&#x53D8;&#x5316;&#x3002;</p>
<h2 id="&#x591A;&#x6001;&#x5B58;&#x5728;&#x7684;&#x4E09;&#x4E2A;&#x5FC5;&#x8981;&#x6761;&#x4EF6;"><a href="#&#x591A;&#x6001;&#x5B58;&#x5728;&#x7684;&#x4E09;&#x4E2A;&#x5FC5;&#x8981;&#x6761;&#x4EF6;" class="headerlink" title="&#x591A;&#x6001;&#x5B58;&#x5728;&#x7684;&#x4E09;&#x4E2A;&#x5FC5;&#x8981;&#x6761;&#x4EF6;"></a>&#x591A;&#x6001;&#x5B58;&#x5728;&#x7684;&#x4E09;&#x4E2A;&#x5FC5;&#x8981;&#x6761;&#x4EF6;</h2><p>&#x4E00;&#x3001;&#x8981;&#x6709;&#x7EE7;&#x627F;&#xFF1B;<br>&#x4E8C;&#x3001;&#x8981;&#x6709;&#x91CD;&#x5199;&#xFF1B;<br>&#x4E09;&#x3001;&#x7236;&#x7C7B;&#x5F15;&#x7528;&#x6307;&#x5411;&#x5B50;&#x7C7B;&#x5BF9;&#x8C61;&#x3002;</p>
<h2 id="&#x591A;&#x6001;&#x7684;&#x4F18;&#x70B9;"><a href="#&#x591A;&#x6001;&#x7684;&#x4F18;&#x70B9;" class="headerlink" title="&#x591A;&#x6001;&#x7684;&#x4F18;&#x70B9;"></a>&#x591A;&#x6001;&#x7684;&#x4F18;&#x70B9;</h2><p>1.&#x53EF;&#x66FF;&#x6362;&#x6027;&#xFF08;substitutability&#xFF09;&#x3002;&#x591A;&#x6001;&#x5BF9;&#x5DF2;&#x5B58;&#x5728;&#x4EE3;&#x7801;&#x5177;&#x6709;&#x53EF;&#x66FF;&#x6362;&#x6027;&#x3002;<br>2.&#x53EF;&#x6269;&#x5145;&#x6027;&#xFF08;extensibility&#xFF09;&#x3002;&#x591A;&#x6001;&#x5BF9;&#x4EE3;&#x7801;&#x5177;&#x6709;&#x53EF;&#x6269;&#x5145;&#x6027;&#x3002;&#x589E;&#x52A0;&#x65B0;&#x7684;&#x5B50;&#x7C7B;&#x4E0D;&#x5F71;&#x54CD;&#x5DF2;&#x5B58;&#x5728;&#x7C7B;&#x7684;&#x591A;&#x6001;&#x6027;&#x3001;&#x7EE7;&#x627F;&#x6027;&#xFF0C;&#x4EE5;&#x53CA;&#x5176;&#x4ED6;&#x7279;&#x6027;&#x7684;&#x8FD0;&#x884C;&#x548C;&#x64CD;&#x4F5C;&#x3002;&#x5B9E;&#x9645;&#x4E0A;&#x65B0;&#x52A0;&#x5B50;&#x7C7B;&#x66F4;&#x5BB9;&#x6613;&#x83B7;&#x5F97;&#x591A;&#x6001;&#x529F;&#x80FD;&#x3002;<br>3.&#x63A5;&#x53E3;&#x6027;&#xFF08;interface-ability&#xFF09;&#x3002;&#x591A;&#x6001;&#x662F;&#x8D85;&#x7C7B;&#x901A;&#x8FC7;&#x65B9;&#x6CD5;&#x7B7E;&#x540D;&#xFF0C;&#x5411;&#x5B50;&#x7C7B;&#x63D0;&#x4F9B;&#x4E86;&#x4E00;&#x4E2A;&#x5171;&#x540C;&#x63A5;&#x53E3;&#xFF0C;&#x7531;&#x5B50;&#x7C7B;&#x6765;&#x5B8C;&#x5584;&#x6216;&#x8005;&#x8986;&#x76D6;&#x5B83;&#x800C;&#x5B9E;&#x73B0;&#x7684;&#x3002;<br>4.&#x7075;&#x6D3B;&#x6027;&#xFF08;flexibility&#xFF09;&#x3002;&#x5B83;&#x5728;&#x5E94;&#x7528;&#x4E2D;&#x4F53;&#x73B0;&#x4E86;&#x7075;&#x6D3B;&#x591A;&#x6837;&#x7684;&#x64CD;&#x4F5C;&#xFF0C;&#x63D0;&#x9AD8;&#x4E86;&#x4F7F;&#x7528;&#x6548;&#x7387;&#x3002;<br>5.&#x7B80;&#x5316;&#x6027;&#xFF08;simplicity&#xFF09;&#x3002;&#x591A;&#x6001;&#x7B80;&#x5316;&#x5BF9;&#x5E94;&#x7528;&#x8F6F;&#x4EF6;&#x7684;&#x4EE3;&#x7801;&#x7F16;&#x5199;&#x548C;&#x4FEE;&#x6539;&#x8FC7;&#x7A0B;&#xFF0C;&#x5C24;&#x5176;&#x5728;&#x5904;&#x7406;&#x5927;&#x91CF;&#x5BF9;&#x8C61;&#x7684;&#x8FD0;&#x7B97;&#x548C;&#x64CD;&#x4F5C;&#x65F6;&#xFF0C;&#x8FD9;&#x4E2A;&#x7279;&#x70B9;&#x5C24;&#x4E3A;&#x7A81;&#x51FA;&#x548C;&#x91CD;&#x8981;&#x3002;</p>
<h2 id="&#x591A;&#x6001;&#x7684;&#x5B9E;&#x73B0;&#x65B9;&#x5F0F;"><a href="#&#x591A;&#x6001;&#x7684;&#x5B9E;&#x73B0;&#x65B9;&#x5F0F;" class="headerlink" title="&#x591A;&#x6001;&#x7684;&#x5B9E;&#x73B0;&#x65B9;&#x5F0F;"></a>&#x591A;&#x6001;&#x7684;&#x5B9E;&#x73B0;&#x65B9;&#x5F0F;</h2><p>Java&#x4E2D;&#x591A;&#x6001;&#x7684;&#x5B9E;&#x73B0;&#x65B9;&#x5F0F;&#xFF1A;</p>
<ul>
<li>&#x63A5;&#x53E3;&#x5B9E;&#x73B0;</li>
<li>&#x7EE7;&#x627F;&#x7236;&#x7C7B;&#x8FDB;&#x884C;&#x65B9;&#x6CD5;&#x91CD;&#x5199;</li>
<li>&#x540C;&#x4E00;&#x4E2A;&#x7C7B;&#x4E2D;&#x8FDB;&#x884C;&#x65B9;&#x6CD5;&#x91CD;&#x8F7D;&#x3002;&#x4F8B;&#x5B50;</li>
</ul>
<p>&#x2013;</p>
<p>&#x65E0;&#x8BBA;&#x5DE5;&#x4F5C;&#x8FD8;&#x662F;&#x5B66;&#x4E60;&#x4E2D;&#xFF0C;&#x7B14;&#x90FD;&#x662F;&#x6211;&#x4EEC;&#x7ECF;&#x5E38;&#x7528;&#x5230;&#x7684;&#x5DE5;&#x5177;&#x3002;&#x4F46;&#x662F;&#x7B14;&#x7684;&#x79CD;&#x7C7B;&#x53C8;&#x975E;&#x5E38;&#x7684;&#x7E41;&#x591A;&#xFF0C;&#x94C5;&#x7B14;&#x3001;&#x7B7E;&#x5B57;&#x7B14;&#x3001;&#x6C34;&#x7B14;&#x3001;&#x6BDB;&#x7B14;&#x3001;&#x94A2;&#x7B14;&#x2026;&#x3002;&#x73B0;&#x5728;&#x6211;&#x4EEC;&#x8981;&#x5BF9;&#x201C;&#x7B14;&#x201D;&#x8FDB;&#x884C;&#x62BD;&#x8C61;&#xFF0C;&#x62BD;&#x8C61;&#x6210;&#x4E00;&#x4E2A;&#x62BD;&#x8C61;&#x7236;&#x7C7B;&#x201C;Pen&#x201D;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line">&#x590D;&#x5236;&#x4EE3;&#x7801;package com.glmapper.demo.base;</span><br><span class="line"></span><br><span class="line">/**</span><br><span class="line"> * &#x62BD;&#x8C61;&#x7236;&#x7C7B;&#xFF1A;&#x7B14;</span><br><span class="line"> * @author glmapper</span><br><span class="line"> */</span><br><span class="line">public abstract class Pen {</span><br><span class="line">    //&#x7B14;&#x7684;&#x957F;&#x5EA6;</span><br><span class="line">    private int length;</span><br><span class="line">    //&#x989C;&#x8272;</span><br><span class="line">    private String color;</span><br><span class="line">    //&#x7C7B;&#x578B;</span><br><span class="line">    private String type;</span><br><span class="line">    //&#x4EF7;&#x683C;</span><br><span class="line">    private double price;</span><br><span class="line"></span><br><span class="line">    //&#x5199;&#x5B57;</span><br><span class="line">    public abstract void write(String cnt);</span><br><span class="line"></span><br><span class="line">    public int getLength() {</span><br><span class="line">        return length;</span><br><span class="line">    }</span><br><span class="line">    public void setLength(int length) {</span><br><span class="line">        this.length = length;</span><br><span class="line">    }</span><br><span class="line">    public String getColor() {</span><br><span class="line">        return color;</span><br><span class="line">    }</span><br><span class="line">    public void setColor(String color) {</span><br><span class="line">        this.color = color;</span><br><span class="line">    }</span><br><span class="line">    public String getType() {</span><br><span class="line">        return type;</span><br><span class="line">    }</span><br><span class="line">    public void setType(String type) {</span><br><span class="line">        this.type = type;</span><br><span class="line">    }</span><br><span class="line">    public double getPrice() {</span><br><span class="line">        return price;</span><br><span class="line">    }</span><br><span class="line">    public void setPrice(double price) {</span><br><span class="line">        this.price = price;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">}</span><br></pre></td></tr></table></figure>

<p>&#x73B0;&#x5728;&#x6709;&#x4E24;&#x4E2A;&#x5B50;&#x7C7B;&#xFF0C;&#x5206;&#x522B;&#x662F;&#xFF1A;&#x94C5;&#x7B14;&#x548C;&#x94A2;&#x7B14;&#x3002;</p>
<p>&#x94C5;&#x7B14;&#x7C7B;&#xFF0C;&#x7EE7;&#x627F;&#x7236;&#x7C7B;Pen&#xFF0C;&#x5E76;&#x91CD;&#x5199;write&#x65B9;&#x6CD5;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">&#x590D;&#x5236;&#x4EE3;&#x7801;package com.glmapper.demo.base;</span><br><span class="line">/**</span><br><span class="line"> * &#x94C5;&#x7B14;&#x7C7B; &#x7EE7;&#x627F;&#x7236;&#x7C7B; &#x7B14;&#xFF08;&#x6EE1;&#x8DB3;&#x5FC5;&#x8981;&#x6761;&#x4EF6;&#x4E00;&#xFF1A;&#x6709;&#x7EE7;&#x627F;&#x3010;&#x5176;&#x5B9E;&#x5982;&#x679C;&#x662F;&#x63A5;&#x53E3;&#x7684;&#x8BDD;&#xFF0C;implement&#x5B9E;&#x73B0;&#x4E5F;&#x662F;&#x53EF;&#x4EE5;&#x7684;&#x3011;&#xFF09;</span><br><span class="line"> * @author glmapper</span><br><span class="line"> *</span><br><span class="line"> */</span><br><span class="line">public class Pencil extends Pen{</span><br><span class="line">    /**</span><br><span class="line">     * &#x7236;&#x7C7B;&#x7684;&#x62BD;&#x8C61;&#x65B9;&#x6CD5;&#x59D4;&#x6258;&#x5B50;&#x7C7B;&#x5177;&#x4F53;&#x5B9E;&#x73B0;&#xFF1A;&#x8986;&#x76D6;</span><br><span class="line">     */</span><br><span class="line">     //&#x6EE1;&#x8DB3;&#x5FC5;&#x8981;&#x6761;&#x4EF6;&#x4E8C;&#xFF1A;&#x8981;&#x6709;&#x91CD;&#x5199;&#x3010;&#x5F53;&#x7136;&#xFF0C;&#x5982;&#x679C;&#x662F;&#x5BF9;&#x4E8E;write&#x6709;&#x91CD;&#x8F7D;&#x4E5F;&#x662F;&#x53EF;&#x4EE5;&#x7684;&#xFF0C;&#x4E0D;&#x540C;&#x7684;&#x6982;&#x5FF5;&#x800C;&#x5DF2;&#x3011;</span><br><span class="line">    @Override</span><br><span class="line">    public void write(String cnt) {</span><br><span class="line">        System.out.println(&quot;&#x8FD9;&#x662F;&#x4E00;&#x53EA;&#x94C5;&#x7B14;&#x5199;&#x7684;&#x5185;&#x5BB9;&#xFF0C;&#x5185;&#x5BB9;&#x662F;&#xFF1A;&quot;+cnt);</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">}</span><br></pre></td></tr></table></figure>

<ul>
<li>&#x94A2;&#x7B14;&#x7C7B;&#xFF0C;&#x7EE7;&#x627F;&#x7236;&#x7C7B;Pen&#xFF0C;&#x5E76;&#x91CD;&#x5199;write&#x65B9;&#x6CD5;</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">&#x590D;&#x5236;&#x4EE3;&#x7801;package com.glmapper.demo.base;</span><br><span class="line">/**</span><br><span class="line"> * &#x94A2;&#x7B14;&#x7C7B; &#x7EE7;&#x627F;&#x7236;&#x7C7B; &#x7B14;</span><br><span class="line"> * @author 17070738</span><br><span class="line"> *</span><br><span class="line"> */</span><br><span class="line">public class Fountainpen extends Pen{</span><br><span class="line"></span><br><span class="line">    @Override</span><br><span class="line">    public void write(String cnt) {</span><br><span class="line">        System.out.println(&quot;&#x8FD9;&#x662F;&#x4E00;&#x652F;&#x94A2;&#x7B14;&#x5199;&#x7684;&#x5185;&#x5BB9;&#xFF0C;&#x5185;&#x5BB9;&#x662F;&#xFF1A;&quot;+cnt);</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">}</span><br></pre></td></tr></table></figure>

<p>&#x6D4B;&#x8BD5;&#xFF1A;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&#x590D;&#x5236;&#x4EE3;&#x7801;package com.glmapper.demo.base;</span><br><span class="line"></span><br><span class="line">public class MainTest {</span><br><span class="line"></span><br><span class="line">    public static void main(String[] args) {</span><br><span class="line"></span><br><span class="line">    /*    Pen pen= new Pencil();*/</span><br><span class="line">        //&#x5FC5;&#x8981;&#x6761;&#x4EF6;&#x4E09;&#xFF1A;&#x7236;&#x7C7B;&#x5F15;&#x7528;&#x6307;&#x5411;&#x5B50;&#x7C7B;&#x5BF9;&#x8C61;&#x3002;</span><br><span class="line">        Pen pen= new Fountainpen();</span><br><span class="line">        pen.write(&quot;&#x6211;&#x662F;&#x4E00;&#x652F;&#x7B14;&quot;);</span><br><span class="line"></span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></table></figure>

<p>&#x8F93;&#x51FA;&#x7ED3;&#x679C;&#xFF1A;&#x8FD9;&#x662F;&#x4E00;&#x652F;&#x94A2;&#x7B14;&#x5199;&#x7684;&#x5185;&#x5BB9;&#xFF0C;&#x5185;&#x5BB9;&#x662F;&#xFF1A;&#x6211;&#x662F;&#x4E00;&#x652F;&#x7B14;</p>
<h2 id="&#x8BF4;&#x660E;"><a href="#&#x8BF4;&#x660E;" class="headerlink" title="&#x8BF4;&#x660E;"></a>&#x8BF4;&#x660E;</h2><p>&#x53EF;&#x66FF;&#x6362;&#x6027;&#xFF1A;&#x591A;&#x6001;&#x5BF9;&#x7B14;Pen&#x7C7B;&#x5DE5;&#x4F5C;&#xFF0C;&#x5BF9;&#x5176;&#x4ED6;&#x4EFB;&#x4F55;&#x5B50;&#x7C7B;&#xFF0C;&#x5982;&#x94C5;&#x7B14;&#x3001;&#x94A2;&#x7B14;&#xFF0C;&#x4E5F;&#x540C;&#x6837;&#x5DE5;&#x4F5C;&#x3002;<br>&#x53EF;&#x6269;&#x5145;&#x6027;&#xFF1A;&#x5728;&#x5B9E;&#x73B0;&#x4E86;&#x94C5;&#x7B14;&#x3001;&#x94A2;&#x7B14;&#x7684;&#x591A;&#x6001;&#x57FA;&#x7840;&#x4E0A;&#xFF0C;&#x5F88;&#x5BB9;&#x6613;&#x589E;&#x6DFB;&#x201C;&#x7B14;&#x201D;&#x7C7B;&#x7684;&#x591A;&#x6001;&#x6027;&#x3002;</p>
<h1 id="&#x63A5;&#x53E3;"><a href="#&#x63A5;&#x53E3;" class="headerlink" title="&#x63A5;&#x53E3;"></a>&#x63A5;&#x53E3;</h1><p>&#x4E00;&#x4E2A;Java&#x63A5;&#x53E3;&#xFF0C;&#x5C31;&#x662F;&#x4E00;&#x4E9B;&#x65B9;&#x6CD5;&#x7279;&#x5F81;&#x7684;&#x96C6;&#x5408;&#x3002;&#x3010;&#x672C;&#x6587;&#x89D2;&#x5EA6;&#x5E76;&#x975E;&#x662F;java&#x57FA;&#x7840;&#x89D2;&#x5EA6;&#x6765;&#x8BF4;&#xFF0C;&#x4E3B;&#x8981;&#x662F;&#x4EE5;&#x8BBE;&#x8BA1;&#x6A21;&#x5F0F;&#x4E2D;&#x7684;&#x5E94;&#x7528;&#x4E3A;&#x80CC;&#x666F;&#xFF0C;&#x56E0;&#x6B64;&#x5BF9;&#x4E8E;&#x76F8;&#x5173;&#x5B9A;&#x4E49;&#x53CA;&#x7528;&#x6CD5;&#x8BF7;&#x81EA;&#x884C;&#x5B66;&#x4E60;&#x3002;<a href="/external_links/fe1fed8368722e9c1e77fe85d0227407.html" target="blank" rel="noopener">www.runoob.com/java/java-i&#x2026;</a><br>&#x6211;&#x4EEC;&#x5728;&#x5E73;&#x65F6;&#x7684;&#x5DE5;&#x4F5C;&#x4E2D;&#xFF0C;&#x63D0;&#x5230;&#x63A5;&#x53E3;&#xFF0C;&#x4E00;&#x822C;&#x4F1A;&#x542B;&#x6709;&#x4E24;&#x79CD;&#x4E0D;&#x540C;&#x7684;&#x542B;&#x4E49;&#xFF0C;</p>
<ul>
<li>&#x6307;&#x7684;&#x662F;java&#x63A5;&#x53E3;&#xFF0C;&#x8FD9;&#x662F;&#x4E00;&#x79CD;java&#x8BED;&#x8A00;&#x4E2D;&#x5B58;&#x5728;&#x7684;&#x7ED3;&#x6784;&#xFF0C;&#x6709;&#x7279;&#x5B9A;&#x7684;&#x8BED;&#x6CD5;&#x548C;&#x7ED3;&#x6784;</li>
<li>&#x6307;&#x4E00;&#x4E2A;&#x7C7B;&#x6240;&#x5177;&#x6709;&#x7684;&#x65B9;&#x6CD5;&#x7279;&#x5F81;&#x7684;&#x96C6;&#x5408;&#xFF0C;&#x662F;&#x4E00;&#x79CD;&#x903B;&#x8F91;&#x4E0A;&#x7684;&#x62BD;&#x8C61;&#x3002;</li>
</ul>
<p>&#x524D;&#x8005;&#x53EB;&#x505A;&#x201C;java&#x63A5;&#x53E3;&#x201D;&#xFF0C;&#x540E;&#x8005;&#x53EB;&#x7740;&#x201C;&#x63A5;&#x53E3;&#x201D;&#x3002;&#x4F8B;&#x5982;&#xFF1A;java.lang.Runnable&#x5C31;&#x662F;&#x4E00;&#x4E2A;java&#x63A5;&#x53E3;&#x3002;</p>
<h2 id="&#x4E3A;&#x4EC0;&#x4E48;&#x4F7F;&#x7528;&#x63A5;&#x53E3;"><a href="#&#x4E3A;&#x4EC0;&#x4E48;&#x4F7F;&#x7528;&#x63A5;&#x53E3;" class="headerlink" title="&#x4E3A;&#x4EC0;&#x4E48;&#x4F7F;&#x7528;&#x63A5;&#x53E3;"></a>&#x4E3A;&#x4EC0;&#x4E48;&#x4F7F;&#x7528;&#x63A5;&#x53E3;</h2><p>&#x6211;&#x4EEC;&#x8003;&#x8651;&#x4E00;&#x4E0B;&#xFF0C;&#x5047;&#x5982;&#x6CA1;&#x6709;&#x63A5;&#x53E3;&#x4F1A;&#x600E;&#x4E48;&#x6837;&#x5462;&#xFF1F;&#x4E00;&#x4E2A;&#x7C7B;&#x603B;&#x5F52;&#x662F;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;&#x7EE7;&#x627F;&#x6765;&#x8FDB;&#x884C;&#x6269;&#x5C55;&#x7684;&#xFF0C;&#x8FD9;&#x96BE;&#x9053;&#x4E0D;&#x8DB3;&#x4EE5;&#x6211;&#x4EEC;&#x7684;&#x5B9E;&#x9645;&#x5E94;&#x7528;&#x5417;&#xFF1F;<br>&#x4E00;&#x4E2A;&#x5BF9;&#x8C61;&#x9700;&#x8981;&#x77E5;&#x9053;&#x5176;&#x4ED6;&#x7684;&#x4E00;&#x4E9B;&#x5BF9;&#x8C61;&#xFF0C;&#x5E76;&#x4E14;&#x4E0E;&#x5176;&#x4ED6;&#x7684;&#x5BF9;&#x8C61;&#x53D1;&#x751F;&#x76F8;&#x4E92;&#x7684;&#x4F5C;&#x7528;&#xFF0C;&#x8FD9;&#x662F;&#x56E0;&#x4E3A;&#x8FD9;&#x4E9B;&#x5BF9;&#x8C61;&#x9700;&#x8981;&#x501F;&#x4F4F;&#x4E8E;&#x5176;&#x4ED6;&#x5BF9;&#x8C61;&#x7684;&#x884C;&#x4E3A;&#x4EE5;&#x4FBF;&#x4E8E;&#x5B8C;&#x6210;&#x4E00;&#x9879;&#x5DE5;&#x4F5C;&#x3002;&#x8FD9;&#x4E9B;&#x5173;&#x4E8E;&#x5176;&#x4ED6;&#x5BF9;&#x8C61;&#x7684;&#x77E5;&#x8BC6;&#xFF0C;&#x4EE5;&#x53CA;&#x5BF9;&#x5176;&#x4ED6;&#x5BF9;&#x8C61;&#x884C;&#x4E3A;&#x7684;&#x8C03;&#x7528;&#xFF0C;&#x90FD;&#x662F;&#x4F7F;&#x7528;&#x786C;&#x4EE3;&#x7801;&#x5199;&#x5728;&#x7C7B;&#x91CC;&#x9762;&#x7684;&#xFF0C;&#x53EF;&#x63D2;&#x5165;&#x6027;&#x51E0;&#x4E4E;&#x4E3A;0&#x3002;&#x5982;&#xFF1A;&#x94A2;&#x7B14;&#x4E2D;&#x9700;&#x8981;&#x94A2;&#x7B14;&#x6C34;&#xFF0C;&#x94A2;&#x7B14;&#x6C34;&#x6709;&#x4E0D;&#x540C;&#x7684;&#x989C;&#x8272;&#xFF1A;<br>&#x94A2;&#x7B14;&#x6C34;&#x7C7B;&#xFF1A;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">&#x590D;&#x5236;&#x4EE3;&#x7801;package com.glmapper.demo.base;</span><br><span class="line">/**</span><br><span class="line"> * &#x94A2;&#x7B14;&#x58A8;&#x6C34;</span><br><span class="line"> * @author glmapper</span><br><span class="line"> */</span><br><span class="line">public class PenInk {</span><br><span class="line">    //&#x58A8;&#x6C34;&#x989C;&#x8272;</span><br><span class="line">    private String inkColor;</span><br><span class="line"></span><br><span class="line">    public String getInkColor() {</span><br><span class="line">        return inkColor;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    public void setInkColor(String inkColor) {</span><br><span class="line">        this.inkColor = inkColor;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    public PenInk(String inkColor) {</span><br><span class="line">        super();</span><br><span class="line">        this.inkColor = inkColor;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">}</span><br></pre></td></tr></table></figure>

<p>&#x94A2;&#x7B14;&#x4E2D;&#x6301;&#x6709;&#x4E00;&#x4E2A;&#x58A8;&#x6C34;&#x7C7B;&#x7684;&#x5BF9;&#x8C61;&#x5F15;&#x7528;&#xFF1A;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">&#x590D;&#x5236;&#x4EE3;&#x7801;package com.glmapper.demo.base;</span><br><span class="line">/**</span><br><span class="line"> * &#x94A2;&#x7B14;&#x7C7B; &#x7EE7;&#x627F;&#x7236;&#x7C7B; &#x7B14;</span><br><span class="line"> * @author 17070738</span><br><span class="line"> *</span><br><span class="line"> */</span><br><span class="line">public class Fountainpen extends Pen{</span><br><span class="line">    //&#x5F15;&#x7528;&#x6301;&#x6709;</span><br><span class="line">    PenInk ink =new PenInk(&quot;black&quot;);</span><br><span class="line">    @Override</span><br><span class="line">    public void write(String cnt) {</span><br><span class="line">        System.out.println(&quot;&#x94A2;&#x7B14;&#x58A8;&#x6C34;&#x989C;&#x8272;&#x662F;&#xFF1A;&quot;+ink.getInkColor());</span><br><span class="line">        System.out.println(&quot;&#x8FD9;&#x662F;&#x4E00;&#x652F;&#x94A2;&#x7B14;&#x5199;&#x7684;&#x5185;&#x5BB9;&#xFF0C;&#x5185;&#x5BB9;&#x662F;&#xFF1A;&quot;+cnt);</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></table></figure>

<p>&#x4F46;&#x662F;&#x8FD9;&#x79CD;&#x65F6;&#x5019;&#xFF0C;&#x6211;&#x4EEC;&#x9700;&#x8981;&#x6362;&#x4E00;&#x79CD;&#x989C;&#x8272;&#x600E;&#x4E48;&#x529E;&#x5462;&#xFF1F;&#x5C31;&#x5FC5;&#x987B;&#x8981;&#x5BF9;Fountainpen&#x4E2D;&#x7684;&#x4EE3;&#x7801;&#x8FDB;&#x884C;&#x4FEE;&#x6539;&#xFF0C;&#x5C06;&#x521B;&#x5EFA;PenInk&#x5BF9;&#x8C61;&#x65F6;&#x7684;inkColor&#x5C5E;&#x6027;&#x8FDB;&#x884C;&#x66F4;&#x6539;&#xFF1B;&#x73B0;&#x5728;&#x5047;&#x5982;&#x6211;&#x4EEC;&#x6709;&#x4E00;&#x4E2A;&#x5177;&#x4F53;&#x7684;&#x7C7B;&#xFF0C;&#x63D0;&#x4F9B;&#x67D0;&#x79CD;&#x4F7F;&#x7528;&#x786C;&#x4EE3;&#x7801;&#x5199;&#x5728;&#x7C7B;&#x4E2D;&#x7684;&#x884C;&#x4E3A;&#xFF1B;<br>&#x73B0;&#x5728;&#xFF0C;&#x8981;&#x63D0;&#x4F9B;&#x4E00;&#x4E9B;&#x7C7B;&#x4F3C;&#x7684;&#x884C;&#x4E3A;&#xFF0C;&#x5E76;&#x4E14;&#x53EF;&#x4EE5;&#x5B9E;&#x73B0;&#x52A8;&#x6001;&#x7684;&#x53EF;&#x63D2;&#x5165;&#xFF0C;&#x4E5F;&#x5C31;&#x662F;&#x8BF4;&#xFF0C;&#x8981;&#x80FD;&#x591F;&#x52A8;&#x6001;&#x7684;&#x51B3;&#x5B9A;&#x4F7F;&#x7528;&#x54EA;&#x4E00;&#x79CD;&#x5B9E;&#x73B0;&#x3002;&#x4E00;&#x79CD;&#x65B9;&#x6848;&#x5C31;&#x662F;&#x4E3A;&#x8FD9;&#x4E2A;&#x7C7B;&#x63D0;&#x4F9B;&#x4E00;&#x4E2A;&#x62BD;&#x8C61;&#x7236;&#x7C7B;&#xFF0C;&#x4E14;&#x58F0;&#x660E;&#x51FA;&#x5B50;&#x7C7B;&#x8981;&#x63D0;&#x4F9B;&#x7684;&#x884C;&#x4E3A;&#xFF0C;&#x7136;&#x540E;&#x8BA9;&#x8FD9;&#x4E2A;&#x5177;&#x4F53;&#x7C7B;&#x7EE7;&#x627F;&#x81EA;&#x8FD9;&#x4E2A;&#x62BD;&#x8C61;&#x7236;&#x7C7B;&#x3002;&#x540C;&#x65F6;&#xFF0C;&#x4E3A;&#x8FD9;&#x4E2A;&#x62BD;&#x8C61;&#x7236;&#x7C7B;&#x63D0;&#x4F9B;&#x53E6;&#x5916;&#x4E00;&#x4E2A;&#x5177;&#x4F53;&#x7684;&#x5B50;&#x7C7B;&#xFF0C;&#x8FD9;&#x4E2A;&#x5B50;&#x7C7B;&#x4EE5;&#x4E0D;&#x540C;&#x7684;&#x65B9;&#x6CD5;&#x5B9E;&#x73B0;&#x4E86;&#x7236;&#x7C7B;&#x6240;&#x58F0;&#x660E;&#x7684;&#x884C;&#x4E3A;&#x3002;&#x5BA2;&#x6237;&#x7AEF;&#x53EF;&#x4EE5;&#x52A8;&#x6001;&#x7684;&#x51B3;&#x5B9A;&#x4F7F;&#x7528;&#x54EA;&#x4E00;&#x4E2A;&#x5177;&#x4F53;&#x7684;&#x5B50;&#x7C7B;&#xFF0C;&#x8FD9;&#x662F;&#x5426;&#x53EF;&#x4EE5;&#x63D0;&#x4F9B;&#x53EF;&#x63D2;&#x5165;&#x6027;&#x5462;&#xFF1F;<br>&#x6539;&#x8FDB;&#x4E4B;&#x540E;&#x7684;&#x4EE3;&#x7801;&#xFF1A;<br>&#x5B50;&#x7C7B;1&#xFF1A;&#x9ED1;&#x8272;&#x58A8;&#x6C34;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">&#x590D;&#x5236;&#x4EE3;&#x7801;package com.glmapper.demo.base;</span><br><span class="line">/**</span><br><span class="line"> * &#x9ED1;&#x8272;&#x58A8;&#x6C34;</span><br><span class="line"> * @author glmapper</span><br><span class="line"> */</span><br><span class="line">public class BlackInk extends PenInk{</span><br><span class="line"></span><br><span class="line">    public BlackInk() {</span><br><span class="line">        super(&quot;black&quot;);</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></table></figure>

<p>&#x5B50;&#x7C7B;2&#xFF1A;&#x84DD;&#x8272;&#x58A8;&#x6C34;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">&#x590D;&#x5236;&#x4EE3;&#x7801;package com.glmapper.demo.base;</span><br><span class="line">/**</span><br><span class="line"> * &#x84DD;&#x8272;&#x58A8;&#x6C34;</span><br><span class="line"> * @author glmapper</span><br><span class="line"> */</span><br><span class="line">public class BlueInk extends PenInk{</span><br><span class="line"></span><br><span class="line">    public BlueInk() {</span><br><span class="line">        super(&quot;blue&quot;);</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></table></figure>

<p>&#x94A2;&#x7B14;&#x7C7B;&#x5F15;&#x7528;&#xFF1A;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">&#x590D;&#x5236;&#x4EE3;&#x7801;package com.glmapper.demo.base;</span><br><span class="line">/**</span><br><span class="line"> * &#x94A2;&#x7B14;&#x7C7B; &#x7EE7;&#x627F;&#x7236;&#x7C7B; &#x7B14;</span><br><span class="line"> * @author 17070738</span><br><span class="line"> *</span><br><span class="line"> */</span><br><span class="line">public class Fountainpen extends Pen{</span><br><span class="line">    PenInk ink ;</span><br><span class="line">    //&#x901A;&#x8FC7;&#x6784;&#x9020;&#x51FD;&#x6570;&#x521D;&#x59CB;&#x5316;PenInk &#xFF0C;PenInk&#x7531;&#x5177;&#x4F53;&#x5B50;&#x7C7B;&#x6765;&#x5B9E;&#x73B0;</span><br><span class="line">    public Fountainpen(PenInk ink) {</span><br><span class="line">        this.ink = ink;</span><br><span class="line">    }</span><br><span class="line">    @Override</span><br><span class="line">    public void write(String cnt) {</span><br><span class="line">        System.out.println(&quot;&#x94A2;&#x7B14;&#x58A8;&#x6C34;&#x989C;&#x8272;&#x662F;&#xFF1A;&quot;+ink.getInkColor());</span><br><span class="line">        System.out.println(&quot;&#x8FD9;&#x662F;&#x4E00;&#x652F;&#x94A2;&#x7B14;&#x5199;&#x7684;&#x5185;&#x5BB9;&#xFF0C;&#x5185;&#x5BB9;&#x662F;&#xFF1A;&quot;+cnt);</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></table></figure>

<p>&#x5BA2;&#x6237;&#x7AEF;&#x8C03;&#x7528;&#xFF1A;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&#x590D;&#x5236;&#x4EE3;&#x7801;public static void main(String[] args) {</span><br><span class="line">        /**</span><br><span class="line">         * &#x4F7F;&#x7528;&#x9ED1;&#x8272;&#x58A8;&#x6C34;&#x5B50;&#x7C7B;</span><br><span class="line">         */</span><br><span class="line">        Pen pen= new Fountainpen(new BlackInk());</span><br><span class="line">        pen.write(&quot;&#x6211;&#x662F;&#x4E00;&#x652F;&#x7B14;&quot;);</span><br><span class="line"></span><br><span class="line">    }</span><br></pre></td></tr></table></figure>

<p>&#x4ECE;&#x4E0A;&#x9762;&#x4EE3;&#x7801;&#x53EF;&#x4EE5;&#x770B;&#x51FA;&#xFF0C;&#x786E;&#x5B9E;&#x53EF;&#x4EE5;&#x5728;&#x7B80;&#x5355;&#x7684;&#x60C5;&#x51B5;&#x4E0B;&#x63D0;&#x4F9B;&#x4E86;&#x52A8;&#x6001;&#x53EF;&#x63D2;&#x5165;&#x6027;&#x3002;</p>
<p>&#x4F46;&#x662F;&#x7531;&#x4E8E;java&#x8BED;&#x8A00;&#x662F;&#x4E00;&#x4E2A;&#x5355;&#x7EE7;&#x627F;&#x7684;&#x8BED;&#x8A00;&#xFF0C;&#x6362;&#x8A00;&#x4E4B;&#xFF0C;&#x4E00;&#x4E2A;&#x7C7B;&#x53EA;&#x80FD;&#x6709;&#x4E00;&#x4E2A;&#x8D85;&#x7C7B;&#xFF0C;&#x56E0;&#x6B64;&#xFF0C;&#x5728;&#x5F88;&#x591A;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;&#x8FD9;&#x4E2A;&#x5177;&#x4F53;&#x7C7B;&#x53EF;&#x80FD;&#x5DF2;&#x7ECF;&#x6709;&#x4E86;&#x4E00;&#x4E2A;&#x8D85;&#x7C7B;&#xFF0C;&#x8FD9;&#x4E2A;&#x65F6;&#x5019;&#xFF0C;&#x8981;&#x7ED9;&#x4ED6;&#x52A0;&#x4E0A;&#x4E00;&#x4E2A;&#x65B0;&#x7684;&#x8D85;&#x7C7B;&#x662F;&#x4E0D;&#x53EF;&#x80FD;&#x7684;&#x3002;&#x5982;&#x679C;&#x786C;&#x8981;&#x505A;&#x7684;&#x8BDD;&#xFF0C;&#x5C31;&#x53EA;&#x597D;&#x628A;&#x8FD9;&#x4E2A;&#x65B0;&#x7684;&#x8D85;&#x7C7B;&#x52A0;&#x5230;&#x5DF2;&#x6709;&#x7684;&#x8D85;&#x7C7B;&#x4E0A;&#x9762;&#xFF0C;&#x5F62;&#x6210;&#x8D85;&#x8D85;&#x7C7B;&#x7684;&#x60C5;&#x51B5;&#xFF0C;&#x5982;&#x679C;&#x8FD9;&#x4E2A;&#x8D85;&#x8D85;&#x7C7B;&#x7684;&#x4F4D;&#x7F6E;&#x4E5F;&#x5DF2;&#x7ECF;&#x88AB;&#x5360;&#x7528;&#x4E86;&#xFF0C;&#x5C31;&#x53EA;&#x597D;&#x7EE7;&#x7EED;&#x5411;&#x4E0A;&#x79FB;&#x52A8;&#xFF0C;&#x76F4;&#x5230;&#x79FB;&#x52A8;&#x5230;&#x7C7B;&#x7B49;&#x7EA7;&#x7ED3;&#x6784;&#x7684;&#x6700;&#x9876;&#x7AEF;&#x3002;&#x8FD9;&#x6837;&#x4E00;&#x6765;&#xFF0C;&#x5BF9;&#x4E00;&#x4E2A;&#x5177;&#x4F53;&#x7C7B;&#x7684;&#x53EF;&#x63D2;&#x5165;&#x6027;&#x8BBE;&#x8BA1;&#xFF0C;&#x5C31;&#x53D8;&#x6210;&#x4E86;&#x5BF9;&#x6574;&#x4E2A;&#x7B49;&#x7EA7;&#x7ED3;&#x6784;&#x4E2D;&#x6240;&#x6709;&#x7C7B;&#x7684;&#x4FEE;&#x6539;&#x3002;&#x8FD9;&#x79CD;&#x8FD8;&#x662F;&#x5047;&#x8BBE;&#x8FD9;&#x4E9B;&#x8D85;&#x7C7B;&#x662F;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x63A7;&#x5236;&#x7684;&#xFF0C;&#x5982;&#x679C;&#x67D0;&#x4E9B;&#x8D85;&#x7C7B;&#x662F;&#x7531;&#x4E00;&#x4E9B;&#x8F6F;&#x4EF6;&#x5546;&#x63D0;&#x4F9B;&#x7684;&#xFF0C;&#x6211;&#x4EEC;&#x65E0;&#x6CD5;&#x4FEE;&#x6539;&#xFF0C;&#x600E;&#x4E48;&#x529E;&#x5462;&#xFF1F;&#x56E0;&#x6B64;&#xFF0C;&#x5047;&#x8BBE;&#x6CA1;&#x6709;&#x63A5;&#x53E3;&#xFF0C;&#x53EF;&#x63D2;&#x5165;&#x6027;&#x5C31;&#x6CA1;&#x6709;&#x4E86;&#x4FDD;&#x8BC1;&#x3002;</p>
<h2 id="&#x7C7B;&#x578B;"><a href="#&#x7C7B;&#x578B;" class="headerlink" title="&#x7C7B;&#x578B;"></a>&#x7C7B;&#x578B;</h2><p>java&#x63A5;&#x53E3;&#xFF08;&#x4EE5;&#x53CA;java&#x62BD;&#x8C61;&#x7C7B;&#xFF09;&#x7528;&#x6765;&#x58F0;&#x660E;&#x4E00;&#x4E2A;&#x65B0;&#x7684;&#x7C7B;&#x578B;&#x3002;<br>java&#x8BBE;&#x8BA1;&#x5E08;&#x5E94;&#x5F53;&#x4E3B;&#x8981;&#x4F7F;&#x7528;java&#x63A5;&#x53E3;&#x548C;&#x62BD;&#x8C61;&#x7C7B;&#x800C;&#x4E0D;&#x662F;&#x5177;&#x4F53;&#x7C7B;&#x8FDB;&#x884C;&#x53D8;&#x91CF;&#x7684;&#x7C7B;&#x578B;&#x58F0;&#x660E;&#x3001;&#x53C2;&#x6570;&#x7684;&#x7C7B;&#x578B;&#x58F0;&#x660E;&#x3001;&#x65B9;&#x6CD5;&#x7684;&#x8FD4;&#x8FD8;&#x7C7B;&#x578B;&#x58F0;&#x660E;&#xFF0C;&#x4EE5;&#x53CA;&#x6570;&#x636E;&#x7C7B;&#x578B;&#x7684;&#x8F6C;&#x6362;&#x7B49;&#x3002;&#x5F53;&#x7136;&#xFF0C;&#x4E00;&#x4E2A;&#x66F4;&#x597D;&#x7684;&#x505A;&#x6CD5;&#x662F;&#x4EC5;&#x4EC5;&#x4F7F;&#x7528;java&#x63A5;&#x53E3;&#xFF0C;&#x800C;&#x4E0D;&#x8981;&#x4F7F;&#x7528;&#x62BD;&#x8C61;java&#x7C7B;&#x6765;&#x505A;&#x5230;&#x4E0A;&#x9762;&#x8FD9;&#x4E9B;&#x3002;&#x5728;&#x7406;&#x60F3;&#x7684;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;&#x4E00;&#x4E2A;&#x5177;&#x4F53;java&#x7C7B;&#x5E94;&#x5F53;&#x53EA;&#x5B9E;&#x73B0;java&#x63A5;&#x53E3;&#x548C;&#x62BD;&#x8C61;&#x7C7B;&#x4E2D;&#x58F0;&#x660E;&#x8FC7;&#x7684;&#x65B9;&#x6CD5;&#xFF0C;&#x800C;&#x4E0D;&#x5E94;&#x8BE5;&#x7ED9;&#x51FA;&#x591A;&#x4F59;&#x7684;&#x65B9;&#x6CD5;&#x3002;</p>
<ul>
<li>&#x7C7B;&#x578B;&#x7B49;&#x7EA7;&#x7ED3;&#x6784;<br>java&#x63A5;&#x53E3;&#xFF08;&#x4EE5;&#x53CA;&#x62BD;&#x8C61;&#x7C7B;&#xFF09;&#x4E00;&#x822C;&#x7528;&#x6765;&#x4F5C;&#x4E3A;&#x4E00;&#x4E2A;&#x7C7B;&#x578B;&#x7684;&#x7B49;&#x7EA7;&#x7ED3;&#x6784;&#x7684;&#x8D77;&#x70B9;<br>java&#x7684;&#x7C7B;&#x578B;&#x662F;&#x4EE5;&#x7C7B;&#x578B;&#x7B49;&#x7EA7;&#x7ED3;&#x6784;&#x7684;&#x65B9;&#x5F0F;&#x7EC4;&#x7EC7;&#x8D77;&#x6765;&#x7684;&#xFF0C;&#x5728;&#x4E00;&#x4E2A;&#x7C7B;&#x578B;&#x7B49;&#x7EA7;&#x7ED3;&#x6784;&#x91CC;&#x9762;&#xFF0C;&#x4E00;&#x4E2A;&#x7C7B;&#x578B;&#x53EF;&#x4EE5;&#x6709;&#x4E00;&#x7CFB;&#x5217;&#x7684;&#x8D85;&#x7C7B;&#x578B;&#xFF0C;&#x8FD9;&#x65F6;&#x8FD9;&#x4E2A;&#x7C7B;&#x578B;&#x53EB;&#x505A;&#x5176;&#x8D85;&#x7C7B;&#x578B;&#x7684;&#x5B50;&#x7C7B;&#x578B;&#x3002;&#x5B50;&#x7C7B;&#x578B;&#x7684;&#x5173;&#x7CFB;&#x662F;&#x4F20;&#x9012;&#x6027;&#xFF1A;&#x7C7B;&#x578B;&#x7532;&#x662F;&#x7C7B;&#x578B;&#x4E59;&#x7684;&#x5B50;&#x7C7B;&#x578B;&#xFF0C;&#x7C7B;&#x578B;&#x4E59;&#x662F;&#x7C7B;&#x578B;&#x4E19;&#x7684;&#x5B50;&#x7C7B;&#x578B;&#xFF0C;&#x90A3;&#x4E48;&#x7C7B;&#x578B;&#x7532;&#x5C31;&#x662F;&#x7C7B;&#x578B;&#x4E19;&#x7684;&#x5B50;&#x7C7B;&#x578B;&#x3002;</li>
<li>&#x6DF7;&#x5408;&#x7C7B;&#x578B;<br>&#x5982;&#x679C;&#x4E00;&#x4E2A;&#x7C7B;&#x5DF2;&#x7ECF;&#x6709;&#x4E00;&#x4E2A;&#x4E3B;&#x8981;&#x7684;&#x8D85;&#x7C7B;&#x578B;&#xFF0C;&#x90A3;&#x4E48;&#x901A;&#x8FC7;&#x5B9E;&#x73B0;&#x4E00;&#x4E2A;&#x63A5;&#x53E3;&#xFF0C;&#x8FD9;&#x4E2A;&#x7C7B;&#x53EF;&#x4EE5;&#x62E5;&#x6709;&#x53E6;&#x4E00;&#x4E2A;&#x6B21;&#x8981;&#x7684;&#x8D85;&#x7C7B;&#x578B;&#x3002;&#x8FD9;&#x79CD;&#x6B21;&#x8981;&#x7684;&#x8D85;&#x7C7B;&#x578B;&#x5C31;&#x53EB;&#x505A;&#x6DF7;&#x5408;&#x7C7B;&#x578B;&#x3002;&#x4F8B;&#x5982;&#xFF1A;&#x5728;java&#x4E2D;&#xFF0C;<br><img src="https://gitee.com/songjianzaina/juejin_p5/raw/master/img/422c2920479b40528cb7a1bec2a691dfb0d7c5905324dee8eea0ac66dfa3f30d" alt></li>
</ul>
<p>TreeMap&#x7C7B;&#x6709;&#x591A;&#x4E2A;&#x7C7B;&#x578B;&#xFF0C;&#x5B83;&#x7684;&#x4E3B;&#x8981;&#x7C7B;&#x578B;&#x662F;AbstractMap,&#x8FD9;&#x662F;&#x4E00;&#x79CD;java&#x7684;&#x805A;&#x96C6;&#xFF1B;&#x800C;Cloneable&#x63A5;&#x53E3;&#x5219;&#x7ED9;&#x51FA;&#x4E86;&#x4E00;&#x4E2A;&#x6B21;&#x8981;&#x7C7B;&#x578B;&#xFF0C;&#x8FD9;&#x4E2A;&#x7C7B;&#x578B;&#x8BF4;&#x660E;&#x5F53;&#x524D;&#x7C7B;&#x7684;&#x5BF9;&#x8C61;&#x662F;&#x53EF;&#x4EE5;&#x88AB;&#x514B;&#x9686;&#xFF1B;&#x540C;&#x65F6;Serializable&#x4E5F;&#x662F;&#x4E00;&#x4E2A;&#x6B21;&#x8981;&#x7C7B;&#x578B;&#xFF0C;&#x5B83;&#x8868;&#x660E;&#x5F53;&#x524D;&#x7C7B;&#x7684;&#x5BF9;&#x8C61;&#x662F;&#x53EF;&#x4EE5;&#x88AB;&#x5E8F;&#x5217;&#x5316;&#x7684;&#x3002;&#x800C;NavigableMap&#x7EE7;&#x627F;&#x4E86;SortedMap,&#x56E0;&#x4E3A;&#x4E4B;&#x524D;&#x8BF4;&#x5230;&#x8FC7;&#xFF0C;&#x5B50;&#x7C7B;&#x578B;&#x662F;&#x53EF;&#x4EE5;&#x4F20;&#x9012;&#x7684;&#xFF0C;&#x56E0;&#x6B64;&#x5BF9;&#x4E8E;TreeMap&#x6765;&#x8BF4;&#xFF0C;SortedMap&#xFF08;&#x6216;&#x8005;&#x8BF4;NavigableMap&#xFF09;&#x8868;&#x660E;&#x8FD9;&#x4E2A;&#x805A;&#x96C6;&#x7C7B;&#x662F;&#x53EF;&#x4EE5;&#x6392;&#x5E8F;&#x7684;&#x3002;</p>
<h2 id="&#x63A5;&#x53E3;&#x7684;&#x4E00;&#x4E9B;&#x7528;&#x6CD5;"><a href="#&#x63A5;&#x53E3;&#x7684;&#x4E00;&#x4E9B;&#x7528;&#x6CD5;" class="headerlink" title="&#x63A5;&#x53E3;&#x7684;&#x4E00;&#x4E9B;&#x7528;&#x6CD5;"></a>&#x63A5;&#x53E3;&#x7684;&#x4E00;&#x4E9B;&#x7528;&#x6CD5;</h2><ul>
<li><p>&#x5355;&#x63A5;&#x53E3;&#x65B9;&#x6CD5;&#xFF1A;&#x63A5;&#x53E3;&#x4E2D;&#x53EA;&#x6709;&#x4E00;&#x4E2A;&#x65B9;&#x6CD5;&#xFF1B;java&#x8BED;&#x8A00;&#x4E2D;&#x6709;&#x5F88;&#x591A;&#x4F46;&#x65B9;&#x6CD5;&#x63A5;&#x53E3;&#x7684;&#x4F7F;&#x7528;&#xFF0C;Runnalble&#x63A5;&#x53E3;&#x4E2D;&#x7684;run&#xFF08;&#xFF09;&#x65B9;&#x6CD5;&#x3002;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">&#x590D;&#x5236;&#x4EE3;&#x7801;public interface Runnable {</span><br><span class="line">  /**</span><br><span class="line">   * When an object implementing interface &lt;code&gt;Runnable&lt;/code&gt; is used</span><br><span class="line">   * to create a thread, starting the thread causes the object&apos;s</span><br><span class="line">   * &lt;code&gt;run&lt;/code&gt; method to be called in that separately executing</span><br><span class="line">   * thread.</span><br><span class="line">   * &lt;p&gt;</span><br><span class="line">   * The general contract of the method &lt;code&gt;run&lt;/code&gt; is that it may</span><br><span class="line">   * take any action whatsoever.</span><br><span class="line">   *</span><br><span class="line">   * @see     java.lang.Thread#run()</span><br><span class="line">   */</span><br><span class="line">  public abstract void run();</span><br><span class="line">}</span><br></pre></td></tr></table></figure>
</li>
<li><p>&#x6807;&#x8BC6;&#x63A5;&#x53E3;&#xFF1A;&#x6CA1;&#x6709;&#x4EFB;&#x4F55;&#x65B9;&#x6CD5;&#x548C;&#x5C5E;&#x6027;&#x7684;&#x63A5;&#x53E3;&#xFF1B;&#x6807;&#x8BC6;&#x63A5;&#x53E3;&#x4E0D;&#x5BF9;&#x5B9E;&#x73B0;&#x5B83;&#x7684;&#x7C7B;&#x6709;&#x4EFB;&#x4F55;&#x8BED;&#x4E49;&#x4E0A;&#x7684;&#x8981;&#x6C42;&#xFF0C;&#x4EC5;&#x4EC5;&#x662F;&#x8868;&#x660E;&#x5B9E;&#x73B0;&#x8BE5;&#x63A5;&#x53E3;&#x7684;&#x7C7B;&#x5C5E;&#x4E8E;&#x4E00;&#x4E2A;&#x7279;&#x5B9A;&#x7684;&#x7C7B;&#x578B;&#x3002;&#x4E0A;&#x9762;&#x8BF4;&#x5230;&#x7684;Serializable&#x63A5;&#x53E3;&#x5C31;&#x662F;&#x4E00;&#x79CD;&#x6807;&#x8BC6;&#x63A5;&#x53E3;&#x3002;</p>
</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&#x590D;&#x5236;&#x4EE3;&#x7801;public interface Serializable {</span><br><span class="line">}</span><br></pre></td></tr></table></figure>

<ul>
<li>&#x5E38;&#x91CF;&#x63A5;&#x53E3;&#xFF1A;&#x7528;java&#x63A5;&#x53E3;&#x6765;&#x58F0;&#x660E;&#x4E00;&#x4E9B;&#x5E38;&#x91CF;</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&#x590D;&#x5236;&#x4EE3;&#x7801;package com.glmapper.demo.base;</span><br><span class="line"></span><br><span class="line">public interface MyConstants {</span><br><span class="line">    public static final String USER_NAME=&quot;admin&quot;;</span><br><span class="line">};</span><br></pre></td></tr></table></figure>

<p>&#x8FD9;&#x6837;&#x4E00;&#x6765;&#xFF0C;&#x51E1;&#x662F;&#x5B9E;&#x73B0;&#x8FD9;&#x4E2A;&#x63A5;&#x53E3;&#x7684;&#x7C7B;&#x90FD;&#x4F1A;&#x81EA;&#x52A8;&#x7EE7;&#x627F;&#x8FD9;&#x4E9B;&#x5E38;&#x91CF;&#xFF0C;&#x5E76;&#x4E14;&#x90FD;&#x53EF;&#x4EE5;&#x50CF;&#x4F7F;&#x7528;&#x81EA;&#x5DF1;&#x7684;&#x5E38;&#x91CF;&#x4E00;&#x6837;&#xFF0C;&#x4E0D;&#x9700;&#x8981;&#x518D;&#x7528;MyConstants.USER_NAME&#x6765;&#x4F7F;&#x7528;&#x3002;</p>
<h1 id="&#x62BD;&#x8C61;&#x7C7B;"><a href="#&#x62BD;&#x8C61;&#x7C7B;" class="headerlink" title="&#x62BD;&#x8C61;&#x7C7B;"></a>&#x62BD;&#x8C61;&#x7C7B;</h1><p>&#x5728;java&#x8BED;&#x8A00;&#x91CC;&#x9762;&#xFF0C;&#x7C7B;&#x6709;&#x4E24;&#x79CD;&#xFF0C;&#x4E00;&#x79CD;&#x662F;&#x5177;&#x4F53;&#x7C7B;&#xFF0C;&#x4E00;&#x79CD;&#x662F;&#x62BD;&#x8C61;&#x7C7B;&#x3002;&#x5728;&#x4E0A;&#x9762;&#x7ED9;&#x51FA;&#x7684;&#x4EE3;&#x7801;&#x4E2D;&#xFF0C;&#x4F7F;&#x7528;absract&#x4FEE;&#x9970;&#x7684;&#x7C7B;&#x4E3A;&#x62BD;&#x8C61;&#x7C7B;&#x3002;&#x6CA1;&#x6709;&#x88AB;abstract&#x4FEE;&#x9970;&#x7684;&#x7C7B;&#x662F;&#x5177;&#x4F53;&#x7C7B;&#x3002;&#x62BD;&#x8C61;&#x7C7B;&#x901A;&#x5E38;&#x4EE3;&#x8868;&#x4E00;&#x4E2A;&#x62BD;&#x8C61;&#x6982;&#x5FF5;&#xFF0C;&#x5B83;&#x63D0;&#x4F9B;&#x4E00;&#x4E2A;&#x7EE7;&#x627F;&#x7684;&#x51FA;&#x53D1;&#x70B9;&#x3002;&#x800C;&#x5177;&#x4F53;&#x7C7B;&#x5219;&#x4E0D;&#x540C;&#xFF0C;&#x5177;&#x4F53;&#x7C7B;&#x53EF;&#x4EE5;&#x88AB;&#x5B9E;&#x4F8B;&#x5316;&#xFF0C;&#x5E94;&#x5F53;&#x7ED9;&#x51FA;&#x4E00;&#x4E2A;&#x6709;&#x903B;&#x8F91;&#x5B9E;&#x73B0;&#x7684;&#x5BF9;&#x8C61;&#x6A21;&#x677F;&#x3002;&#x7531;&#x4E8E;&#x62BD;&#x8C61;&#x7C7B;&#x4E0D;&#x53EF;&#x4EE5;&#x88AB;&#x5B9E;&#x4F8B;&#x5316;&#xFF0C;&#x56E0;&#x6B64;&#x4E00;&#x4E2A;&#x7A0B;&#x5E8F;&#x5458;&#x8BBE;&#x8BA1;&#x4E00;&#x4E2A;&#x65B0;&#x7684;&#x62BD;&#x8C61;&#x7C7B;&#xFF0C;&#x4E00;&#x5B9A;&#x662F;&#x7528;&#x6765;&#x88AB;&#x7EE7;&#x627F;&#x7684;&#x3002;&#xFF08;&#x4E0D;&#x5EFA;&#x8BAE;&#x4F7F;&#x7528;&#x5177;&#x4F53;&#x7C7B;&#x6765;&#x8FDB;&#x884C;&#x76F8;&#x5173;&#x7684;&#x7EE7;&#x627F;&#xFF09;&#x3002;</p>
<h2 id="&#x5173;&#x4E8E;&#x4EE3;&#x7801;&#x91CD;&#x6784;"><a href="#&#x5173;&#x4E8E;&#x4EE3;&#x7801;&#x91CD;&#x6784;" class="headerlink" title="&#x5173;&#x4E8E;&#x4EE3;&#x7801;&#x91CD;&#x6784;"></a>&#x5173;&#x4E8E;&#x4EE3;&#x7801;&#x91CD;&#x6784;</h2><p>&#x5047;&#x8BBE;&#x6709;&#x4E24;&#x4E2A;&#x5177;&#x4F53;&#x7C7B;&#xFF0C;&#x7C7B;A&#x548C;&#x7C7B;B&#xFF0C;&#x7C7B;B&#x662F;&#x7C7B;A&#x7684;&#x5B50;&#x7C7B;&#xFF0C;&#x90A3;&#x4E48;&#x4E00;&#x4E2A;&#x6BD4;&#x8F83;&#x7B80;&#x5355;&#x7684;&#x65B9;&#x6848;&#x5E94;&#x8BE5;&#x662F;&#x5EFA;&#x7ACB;&#x4E00;&#x4E2A;&#x62BD;&#x8C61;&#x7C7B;&#xFF08;&#x6216;&#x8005;java&#x63A5;&#x53E3;&#xFF09;&#xFF0C;&#x6682;&#x5B9A;&#x4E3A;C&#xFF0C;&#x7136;&#x540E;&#x8BA9;&#x7C7B;A&#x548C;&#x7C7B;B&#x6210;&#x4E3A;&#x62BD;&#x8C61;&#x7C7B;C&#x7684;&#x5B50;&#x7C7B;&#x3010;&#x6CA1;&#x6709;&#x4F7F;&#x7528;UML&#x7684;&#x65B9;&#x5F0F;&#x6765;&#x7ED8;&#x5236;&#xFF0C;&#x8BF7;&#x89C1;&#x8C05;&#x54C8;&#x3011;&#x3002;</p>
<p><img src="https://gitee.com/songjianzaina/juejin_p5/raw/master/img/af45070766e5ce9b6825be8d4bfb8e9d363e01724d301c143ec8f2e794b6ea63" alt></p>
<p>&#x4E0A;&#x9762;&#x5176;&#x5B9E;&#x5C31;&#x662F;&#x91CC;&#x6C0F;&#x66FF;&#x6362;&#x539F;&#x5219;&#xFF0C;&#x540E;&#x9762;&#x4F1A;&#x5177;&#x4F53;&#x4ECB;&#x7ECD;&#x5230;&#x7684;&#x3002;&#x8FD9;&#x79CD;&#x91CD;&#x6784;&#x4E4B;&#x540E;&#xFF0C;&#x6211;&#x4EEC;&#x9700;&#x8981;&#x505A;&#x7684;&#x5C31;&#x662F;&#x5982;&#x4F55;&#x5904;&#x7406;&#x7C7B;A&#x548C;&#x7C7B;B&#x7684;&#x5171;&#x540C;&#x4EE3;&#x7801;&#x548C;&#x5171;&#x540C;&#x6570;&#x636E;&#x3002;&#x4E0B;&#x9762;&#x7ED9;&#x51FA;&#x76F8;&#x5173;&#x51C6;&#x5219;&#x3002;</p>
<ul>
<li>&#x62BD;&#x8C61;&#x7C7B;&#x5E94;&#x5F53;&#x62E5;&#x6709;&#x5C3D;&#x53EF;&#x80FD;&#x591A;&#x7684;&#x5171;&#x540C;&#x4EE3;&#x7801;</li>
</ul>
<p><img src="https://gitee.com/songjianzaina/juejin_p5/raw/master/img/19c810372047c8d89ab30f1114ea71487a214b131fa8a4545309798030e4638e" alt></p>
<p>&#x5728;&#x4E00;&#x4E2A;&#x7EE7;&#x627F;&#x7B49;&#x7EA7;&#x7ED3;&#x6784;&#x4E2D;&#xFF0C;&#x5171;&#x540C;&#x7684;&#x4EE3;&#x7801;&#x5E94;&#x5F53;&#x5C3D;&#x91CF;&#x5411;&#x7ED3;&#x6784;&#x7684;&#x9876;&#x5C42;&#x79FB;&#x52A8;&#xFF0C;&#x5C06;&#x91CD;&#x590D;&#x7684;&#x4EE3;&#x7801;&#x4ECE;&#x5B50;&#x7C7B;&#x4E2D;&#x62BD;&#x79BB;&#xFF0C;&#x653E;&#x5728;&#x62BD;&#x8C61;&#x7236;&#x7C7B;&#x4E2D;&#xFF0C;&#x63D0;&#x9AD8;&#x4EE3;&#x7801;&#x7684;&#x590D;&#x7528;&#x7387;&#x3002;&#x8FD9;&#x6837;&#x505A;&#x7684;&#x53E6;&#x5916;&#x4E00;&#x4E2A;&#x597D;&#x5904;&#x662F;&#xFF0C;&#x5728;&#x4EE3;&#x7801;&#x53D1;&#x751F;&#x6539;&#x53D8;&#x65F6;&#xFF0C;&#x6211;&#x4EEC;&#x53EA;&#x9700;&#x8981;&#x4FEE;&#x6539;&#x4E00;&#x4E2A;&#x5730;&#x65B9;&#x3010;&#x56E0;&#x4E3A;&#x5171;&#x540C;&#x4EE3;&#x7801;&#x5747;&#x5728;&#x7236;&#x7C7B;&#x4E2D;&#x3011;&#x3002;</p>
<ul>
<li>&#x62BD;&#x8C61;&#x7C7B;&#x5E94;&#x5F53;&#x62E5;&#x6709;&#x5C3D;&#x53EF;&#x80FD;&#x5C11;&#x7684;&#x6570;&#x636E;<br>&#x6570;&#x636E;&#x7684;&#x79FB;&#x52A8;&#x65B9;&#x5411;&#x662F;&#x4ECE;&#x62BD;&#x8C61;&#x7C7B;&#x5230;&#x5177;&#x4F53;&#x7C7B;&#xFF0C;&#x4E5F;&#x5C31;&#x662F;&#x4ECE;&#x7EE7;&#x627F;&#x7B49;&#x7EA7;&#x7684;&#x9876;&#x5C42;&#x5230;&#x5E95;&#x5C42;&#x7684;&#x79FB;&#x52A8;&#x3002;&#x6211;&#x4EEC;&#x77E5;&#x9053;&#xFF0C;&#x4E00;&#x4E2A;&#x5BF9;&#x8C61;&#x7684;&#x6570;&#x636E;&#x4E0D;&#x8BBA;&#x662F;&#x5426;&#x4F7F;&#x7528;&#x90FD;&#x4F1A;&#x5360;&#x7528;&#x8D44;&#x6E90;&#xFF0C;&#x56E0;&#x6B64;&#x6570;&#x636E;&#x5E94;&#x5F53;&#x5C3D;&#x91CF;&#x653E;&#x5230;&#x5177;&#x4F53;&#x7C7B;&#x6216;&#x8005;&#x7EE7;&#x627F;&#x7B49;&#x7EA7;&#x7ED3;&#x6784;&#x7684;&#x4F4E;&#x7AEF;&#x3002;</li>
</ul>
<h2 id="Has-A-&#x4E0E;Is-A"><a href="#Has-A-&#x4E0E;Is-A" class="headerlink" title="Has - A &#x4E0E;Is -A"></a>Has - A &#x4E0E;Is -A</h2><p>&#x5F53;&#x4E00;&#x4E2A;&#x7C7B;&#x662F;&#x53E6;&#x5916;&#x4E00;&#x4E2A;&#x7C7B;&#x7684;&#x89D2;&#x8272;&#x65F6;&#x3010;&#x6211; &#x6709;&#x4E00;&#x4E2A; &#x73A9;&#x5177;&#x3011;&#xFF0C;&#x8FD9;&#x79CD;&#x5173;&#x7CFB;&#x5C31;&#x4E0D;&#x5E94;&#x5F53;&#x4F7F;&#x7528;&#x7EE7;&#x627F;&#x6765;&#x63CF;&#x8FF0;&#x4E86;&#xFF0C;&#x8FD9;&#x4E2A;&#x5C06;&#x4F1A;&#x5728;&#x540E;&#x9762;&#x8BF4;&#x5230;&#x7684;&#x201C;&#x5408;&#x6210;/&#x805A;&#x5408;&#x590D;&#x7528;&#x539F;&#x5219;&#x201D;&#x6765;&#x63CF;&#x8FF0;&#x3002;<br>Has - A: &#x6211;&#x6709;&#x4E00;&#x53EA;&#x7B14;&#xFF08;&#x805A;&#x5408;&#xFF09;<br>Is - A:&#x94A2;&#x7B14;&#x662F;&#x4E00;&#x79CD;&#x7B14;&#xFF08;&#x7EE7;&#x627F;&#xFF09;</p>
<h2 id="&#x5173;&#x4E8E;&#x5B50;&#x7C7B;&#x6269;&#x5C55;&#x7236;&#x7C7B;&#x7684;&#x8D23;&#x4EFB;"><a href="#&#x5173;&#x4E8E;&#x5B50;&#x7C7B;&#x6269;&#x5C55;&#x7236;&#x7C7B;&#x7684;&#x8D23;&#x4EFB;" class="headerlink" title="&#x5173;&#x4E8E;&#x5B50;&#x7C7B;&#x6269;&#x5C55;&#x7236;&#x7C7B;&#x7684;&#x8D23;&#x4EFB;"></a>&#x5173;&#x4E8E;&#x5B50;&#x7C7B;&#x6269;&#x5C55;&#x7236;&#x7C7B;&#x7684;&#x8D23;&#x4EFB;</h2><p>&#x5B50;&#x7C7B;&#x5E94;&#x5F53;&#x6269;&#x5C55;&#x7236;&#x7C7B;&#x7684;&#x804C;&#x8D23;&#xFF0C;&#x800C;&#x4E0D;&#x662F;&#x7F6E;&#x6362;&#x6389;&#x6216;&#x8005;&#x8986;&#x76D6;&#x6389;&#x8D85;&#x7C7B;&#x7684;&#x804C;&#x8D23;&#x3002;&#x5982;&#x679C;&#x4E00;&#x4E2A;&#x5B50;&#x7C7B;&#x9700;&#x8981;&#x5C06;&#x7EE7;&#x627F;&#x81EA;&#x7236;&#x7C7B;&#x7684;&#x8D23;&#x4EFB;&#x53D6;&#x6D88;&#x6216;&#x8005;&#x7F6E;&#x6362;&#x540E;&#x624D;&#x80FD;&#x4F7F;&#x7528;&#x7684;&#x8BDD;&#xFF0C;&#x5C31;&#x5F88;&#x6709;&#x53EF;&#x80FD;&#x8BF4;&#x660E;&#x8FD9;&#x4E2A;&#x5B50;&#x7C7B;&#x6839;&#x672C;&#x4E0D;&#x5C5E;&#x4E8E;&#x5F53;&#x524D;&#x7236;&#x7C7B;&#x7684;&#x5B50;&#x7C7B;&#xFF0C;&#x5B58;&#x5728;&#x8BBE;&#x8BA1;&#x4E0A;&#x7684;&#x7F3A;&#x9677;&#x3002;</p>
<p>&#x6700;&#x540E;&#xFF0C;&#x8BF4;&#x660E;&#x4E0B;&#xFF0C;&#x6211;&#x4EEC;&#x5728;&#x5E73;&#x65F6;&#x7684;&#x5DE5;&#x4F5C;&#x4E2D;&#x4F1A;&#x7ECF;&#x5E38;&#x4F7F;&#x7528;&#x7684;&#x5DE5;&#x5177;&#x7C7B;&#xFF0C;&#x518D;&#x6B21;&#x7279;&#x5730;&#x7533;&#x660E;&#x4E00;&#x4E0B;&#xFF0C;&#x6211;&#x4EEC;&#x4E5F;&#x5C3D;&#x53EF;&#x80FD;&#x5C11;&#x7684;&#x53BB;&#x4ECE;&#x5DE5;&#x5177;&#x7C7B;&#x8FDB;&#x884C;&#x7EE7;&#x627F;&#x6269;&#x5C55;&#x3002;</p>
<p>&#x53C2;&#x8003;&#xFF1A;</p>
<ul>
<li>&#x300A;Java&#x4E0E;&#x6A21;&#x5F0F;&#x300B;&#x7535;&#x5B50;&#x5DE5;&#x4E1A;&#x51FA;&#x7248;&#x793E;&#x51FA;&#x7248;&#xFF0C;&#x4F5C;&#x8005;&#xFF1A;&#x960E;&#x5B8F;&#x3002;</li>
<li><a href="/external_links/fe1fed8368722e9c1e77fe85d0227407.html" target="blank" rel="noopener">www.runoob.com/java/java-i&#x2026;</a></li>
</ul>
<p><strong>&#x672C;&#x6587;&#x8F6C;&#x8F7D;&#x81EA;:</strong> <a href="/external_links/876695c8e9a5af9099c278d4599dce15.html" target="blank" rel="noopener">&#x6398;&#x91D1;</a></p>
<p><em><a href="https://dev.newban.cn/">&#x5F00;&#x53D1;&#x8005;&#x535A;&#x5BA2; &#x2013; &#x548C;&#x5F00;&#x53D1;&#x76F8;&#x5173;&#x7684; &#x8FD9;&#x91CC;&#x5168;&#x90FD;&#x6709;</a></em></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://dev.newban.cn../../6844903512057315342.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="开发者博客">
      <meta itemprop="description" content>
      <meta itemprop="image" content="../../images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="开发者博客 – IT技术 尽在开发者博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="../../6844903512057315342.html" itemprop="url">MyFlash——美团点评的开源MySQL闪回工具 闪回工具</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-11-17T15:33:05+08:00">
                2017-11-17
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>&#x7531;&#x4E8E;&#x8FD0;&#x7EF4;&#x3001;DBA&#x7684;&#x8BEF;&#x64CD;&#x4F5C;&#x6216;&#x662F;&#x4E1A;&#x52A1;bug&#xFF0C;&#x6211;&#x4EEC;&#x5728;&#x64CD;&#x4F5C;&#x4E2D;&#x65F6;&#x4E0D;&#x65F6;&#x4F1A;&#x51FA;&#x73B0;&#x8BEF;&#x5220;&#x9664;&#x6570;&#x636E;&#x60C5;&#x51B5;&#x3002;&#x65E9;&#x671F;&#x8981;&#x60F3;&#x6062;&#x590D;&#x6570;&#x636E;&#xFF0C;&#x53EA;&#x80FD;&#x8BA9;&#x4E1A;&#x52A1;&#x4EBA;&#x5458;&#x6839;&#x636E;&#x7EBF;&#x4E0A;&#x64CD;&#x4F5C;&#x65E5;&#x5FD7;&#xFF0C;&#x6784;&#x9020;&#x8BEF;&#x5220;&#x9664;&#x7684;&#x6570;&#x636E;&#xFF0C;&#x6216;&#x8005;DBA&#x4F7F;&#x7528;binlog&#x548C;&#x5907;&#x4EFD;&#x7684;&#x65B9;&#x5F0F;&#x6062;&#x590D;&#x6570;&#x636E;&#xFF0C;&#x4E0D;&#x7BA1;&#x90A3;&#x79CD;&#xFF0C;&#x90FD;&#x975E;&#x5E38;&#x8D39;&#x65F6;&#x8D39;&#x529B;&#xFF0C;&#x800C;&#x4E14;&#x5BB9;&#x6613;&#x51FA;&#x9519;&#x3002;&#x76F4;&#x5230;&#x5F6D;&#x7ACB;&#x52CB;&#x9996;&#x6B21;&#x5728;MySQL&#x793E;&#x533A;&#x4E3A;mysqlbinlog&#x6269;&#x5C55;&#x4E86;&#x95EA;&#x56DE;&#x529F;&#x80FD;&#x3002; </p>
<p>&#x5728;&#x7F8E;&#x56E2;&#x70B9;&#x8BC4;&#xFF0C;&#x6211;&#x4EEC;&#x4E5F;&#x9047;&#x5230;&#x8FC7;&#x7814;&#x53D1;&#x4EBA;&#x5458;&#x8BEF;&#x5220;&#x4E3B;&#x7AD9;&#x7684;&#x914D;&#x7F6E;&#x4FE1;&#x606F;&#xFF0C;&#x4ECE;&#x800C;&#x5BFC;&#x81F4;&#x4E3B;&#x7AD9;&#x957F;&#x8FBE;2&#x4E2A;&#x5C0F;&#x65F6;&#x4E0D;&#x53EF;&#x7528;&#x7684;&#x60C5;&#x51B5;&#x3002;DBA&#x540C;&#x5B66;&#x5F53;&#x65F6;&#x4F7F;&#x7528;&#x4E86;&#x6280;&#x672F;&#x56E2;&#x961F;&#x81EA;&#x7814;&#x7684;binlog2sql&#x5B8C;&#x6210;&#x4E86;&#x6570;&#x636E;&#x6062;&#x590D;&#xFF0C;&#x5E76;&#x591A;&#x6B21;&#x633D;&#x6551;&#x4E86;&#x7EBF;&#x4E0A;&#x8BEF;&#x5220;&#x6570;&#x636E;&#x5BFC;&#x81F4;&#x7684;&#x4E25;&#x91CD;&#x6545;&#x969C;&#x3002;&#x4E0D;&#x8FC7;&#xFF0C;binlog2sql&#x5728;&#x6062;&#x590D;&#x901F;&#x5EA6;&#x4E0A;&#x4E0D;&#x5C3D;&#x5982;&#x4EBA;&#x610F;&#xFF0C;&#x56E0;&#x6B64;&#x6211;&#x4EEC;&#x5F00;&#x53D1;&#x4E86;&#x4E00;&#x4E2A;&#x65B0;&#x7684;&#x5DE5;&#x5177;&#x2014;&#x2014;MyFlash&#xFF0C;&#x5B83;&#x5F88;&#x597D;&#x5730;&#x89E3;&#x51B3;&#x4E86;&#x4E0A;&#x8FF0;&#x75DB;&#x70B9;&#xFF0C;&#x80FD;&#x591F;&#x65B9;&#x4FBF;&#x5E76;&#x4E14;&#x9AD8;&#x6548;&#x5730;&#x8FDB;&#x884C;&#x6570;&#x636E;&#x6062;&#x590D;&#x3002;</p>
<p>&#x73B0;&#x5728;&#x8BE5;&#x5DE5;&#x5177;&#x6B63;&#x5F0F;&#x5F00;&#x6E90;&#xFF0C;&#x5F00;&#x6E90;&#x5730;&#x5740;&#x4E3A;&#xFF1A;<a href="/external_links/179774b3ccf1e988ed0c3b5fd6f2f747.html" target="blank" rel="noopener">github.com/Meituan-Dia&#x2026;</a> &#x3002;</p>
<h1 id="&#x95EA;&#x56DE;&#x5DE5;&#x5177;&#x73B0;&#x72B6;"><a href="#&#x95EA;&#x56DE;&#x5DE5;&#x5177;&#x73B0;&#x72B6;" class="headerlink" title="&#x95EA;&#x56DE;&#x5DE5;&#x5177;&#x73B0;&#x72B6;"></a>&#x95EA;&#x56DE;&#x5DE5;&#x5177;&#x73B0;&#x72B6;</h1><p>&#x5148;&#x6765;&#x770B;&#x4E0B;&#x76EE;&#x524D;&#x5E02;&#x9762;&#x4E0A;&#x5DF2;&#x6709;&#x7684;&#x6062;&#x590D;&#x5DE5;&#x5177;&#xFF0C;&#x6211;&#x4EEC;&#x4ECE;&#x5B9E;&#x73B0;&#x89D2;&#x5EA6;&#x628A;&#x5B83;&#x4EEC;&#x5212;&#x5206;&#x6210;&#x5982;&#x4E0B;&#x51E0;&#x7C7B;&#x3002;</p>
<p>&#x2460; mysqlbinlog&#x5DE5;&#x5177;&#x914D;&#x5408;sed&#x3001;awk&#x3002;&#x8BE5;&#x65B9;&#x5F0F;&#x5148;&#x5C06;binlog&#x89E3;&#x6790;&#x6210;&#x7C7B;SQL&#x7684;&#x6587;&#x672C;&#xFF0C;&#x7136;&#x540E;&#x4F7F;&#x7528;sed&#x3001;awk&#x628A;&#x7C7B;SQL&#x6587;&#x672C;&#x8F6C;&#x6362;&#x6210;&#x771F;&#x6B63;&#x7684;SQL&#x3002;</p>
<ul>
<li>&#x4F18;&#x70B9;&#xFF1A;&#x5F53;SQL&#x4E2D;&#x5B57;&#x6BB5;&#x7C7B;&#x578B;&#x6BD4;&#x8F83;&#x7B80;&#x5355;&#x65F6;&#xFF0C;&#x53EF;&#x4EE5;&#x5FEB;&#x901F;&#x751F;&#x6210;&#x9700;&#x8981;&#x7684;SQL&#xFF0C;&#x4E14;&#x7F16;&#x7A0B;&#x95E8;&#x69DB;&#x4E5F;&#x6BD4;&#x8F83;&#x4F4E;&#x3002;</li>
<li>&#x7F3A;&#x70B9;&#xFF1A;&#x5F53;SQL&#x4E2D;&#x5B57;&#x6BB5;&#x7C7B;&#x578B;&#x6BD4;&#x8F83;&#x590D;&#x6742;&#x65F6;&#xFF0C;&#x5C24;&#x5176;&#x662F;&#x5B57;&#x6BB5;&#x4E2D;&#x7684;&#x6587;&#x672C;&#x5305;&#x542B;HTML&#x4EE3;&#x7801;&#xFF0C;&#x7528;awk&#x3001;sed&#x7B49;&#x5DE5;&#x5177;&#x65F6;&#xFF0C;&#x5C31;&#x9700;&#x8981;&#x8003;&#x8651;&#x6781;&#x5176;&#x590D;&#x6742;&#x7684;&#x8F6C;&#x4E49;&#x7B49;&#x60C5;&#x51B5;&#xFF0C;&#x51FA;&#x9519;&#x6982;&#x7387;&#x5F88;&#x5927;&#x3002;</li>
</ul>
<p>&#x2461; &#x7ED9;&#x6570;&#x636E;&#x5E93;&#x6E90;&#x7801;&#x6253;patch&#x3002;&#x8BE5;&#x65B9;&#x5F0F;&#x6269;&#x5C55;&#x4E86;mysqlbinlog&#x7684;&#x529F;&#x80FD;&#xFF0C;&#x589E;&#x52A0;Flashback&#x9009;&#x9879;&#x3002;</p>
<ul>
<li>&#x4F18;&#x70B9;&#xFF1A;&#x590D;&#x7528;&#x4E86;MySQL Server&#x5C42;&#x4E2D;binlog&#x89E3;&#x6790;&#x7B49;&#x4EE3;&#x7801;&#xFF0C;&#x4E00;&#x65E6;&#x7A33;&#x5B9A;&#x4E4B;&#x540E;&#xFF0C;&#x65E0;&#x987B;&#x5173;&#x5FC3;&#x590D;&#x6742;&#x7684;&#x5B57;&#x6BB5;&#x7C7B;&#x578B;&#xFF0C;&#x4E14;&#x6548;&#x7387;&#x8F83;&#x9AD8;&#x3002;</li>
<li>&#x7F3A;&#x70B9;&#xFF1A;&#x5728;&#x4FEE;&#x6539;&#x524D;&#xFF0C;&#x9700;&#x8981;&#x5BF9;MySQL&#x7684;&#x590D;&#x5236;&#x4EE3;&#x7801;&#x7ED3;&#x6784;&#x548C;&#x7EC6;&#x8282;&#x9700;&#x8981;&#x8F83;&#x6DF1;&#x7684;&#x4E86;&#x89E3;&#x3002;&#x7248;&#x672C;&#x6BD4;&#x8F83;&#x654F;&#x611F;&#xFF0C;&#x5728;MySQL 5.6&#x4E0A;&#x505A;&#x7684;patch&#xFF0C;&#x57FA;&#x672C;&#x4E0D;&#x80FD;&#x7528;&#x4E8E;MySQL 5.7&#x7684;&#x56DE;&#x6EDA;&#x64CD;&#x4F5C;&#x3002;&#x5347;&#x7EA7;&#x56F0;&#x96BE;&#xFF0C;&#x56E0;&#x4E3A;patch&#x7684;&#x4EE3;&#x7801;&#x662F;&#x5206;&#x5E03;&#x5728;MySQL&#x7684;&#x5404;&#x4E2A;&#x6587;&#x4EF6;&#x548C;&#x51FD;&#x6570;&#x4E2D;&#xFF0C;&#x4E00;&#x65E6;MySQL&#x4EE3;&#x7801;&#x6539;&#x53D8;&#xFF0C;&#x7279;&#x522B;&#x662F;&#x590D;&#x5236;&#x5C42;&#x7684;&#x91CD;&#x6784;&#xFF0C;&#x5347;&#x7EA7;&#x7684;&#x96BE;&#x5EA6;&#x4E0D;&#x4E9A;&#x4E8E;&#x5B8C;&#x5168;&#x91CD;&#x65B0;&#x5199;&#x4E00;&#x4E2A;&#x3002;</li>
</ul>
<p>&#x2462; &#x4F7F;&#x7528;&#x4E1A;&#x754C;&#x63D0;&#x4F9B;&#x7684;&#x89E3;&#x6790;binlog&#x7684;&#x5E93;&#xFF0C;&#x7136;&#x540E;&#x8FDB;&#x884C;SQL&#x6784;&#x9020;&#xFF0C;&#x5176;&#x4F18;&#x79C0;&#x4EE3;&#x8868;&#x662F;binlog2sql&#x3002;</p>
<ul>
<li>&#x4F18;&#x70B9;&#xFF1A;&#x4F7F;&#x7528;&#x4E1A;&#x754C;&#x6210;&#x719F;&#x7684;&#x5E93;&#xFF0C;&#x56E0;&#x6B64;&#x7A33;&#x5B9A;&#x6027;&#x8F83;&#x597D;&#xFF0C;&#x4E14;&#x4E0A;&#x624B;&#x96BE;&#x5EA6;&#x8F83;&#x4F4E;&#x3002;</li>
<li>&#x7F3A;&#x70B9;&#xFF1A;&#x6548;&#x7387;&#x5F80;&#x5F80;&#x8F83;&#x4F4E;&#xFF0C;&#x4E14;&#x5B9E;&#x73B0;&#x4E0A;&#x53D7;&#x5236;&#x4E8E;binlog&#x5E93;&#x63D0;&#x4F9B;&#x7684;&#x529F;&#x80FD;&#x3002;</li>
</ul>
<p>&#x4E0A;&#x8FF0;&#x51E0;&#x79CD;&#x5B9E;&#x73B0;&#x65B9;&#x5F0F;&#xFF0C;&#x4E3B;&#x8981;&#x662F;&#x63D0;&#x4F9B;&#x7684;&#x8FC7;&#x6EE4;&#x9009;&#x9879;&#x8F83;&#x5C11;&#xFF0C;&#x6BD4;&#x5982;&#x4E0D;&#x80FD;&#x63D0;&#x4F9B;&#x57FA;&#x4E8E;SQL&#x7C7B;&#x578B;&#x7684;&#x8FC7;&#x6EE4;&#xFF0C;&#x9700;&#x8981;&#x56DE;&#x6EDA;&#x4E00;&#x4E2A;delete&#x8BED;&#x53E5;&#xFF0C;&#x5BFC;&#x81F4;&#x5728;&#x56DE;&#x6EDA;&#x65F6;&#xFF0C;&#x9700;&#x8981;&#x7ED3;&#x5408;awk&#x3001;sed&#x7B49;&#x5DE5;&#x5177;&#x8FDB;&#x884C;&#x7B5B;&#x9009;&#x3002;</p>
<p>&#x603B;&#x7ED3;&#x4E86;&#x4E0A;&#x8FF0;&#x51E0;&#x79CD;&#x5DE5;&#x5177;&#x7684;&#x4F18;&#x7F3A;&#x70B9;&#xFF0C;&#x6211;&#x8BA4;&#x4E3A;&#x7406;&#x60F3;&#x7684;&#x95EA;&#x56DE;&#x5DE5;&#x5177;&#x9700;&#x8981;&#x6709;&#x4EE5;&#x4E0B;&#x7279;&#x6027;&#x3002;</p>
<p>a. &#x65E0;&#x9700;&#x628A;binlog&#x89E3;&#x6790;&#x6210;&#x6587;&#x672C;&#xFF0C;&#x518D;&#x8FDB;&#x884C;&#x8F6C;&#x6362;&#x3002;<br>b. &#x63D0;&#x4F9B;&#x539F;&#x751F;&#x7684;&#x57FA;&#x4E8E;&#x5E93;&#x3001;&#x8868;&#x3001;SQL&#x7C7B;&#x578B;&#x3001;&#x4F4D;&#x7F6E;&#x3001;&#x65F6;&#x95F4;&#x7B49;&#x591A;&#x79CD;&#x8FC7;&#x6EE4;&#x65B9;&#x5F0F;&#x3002;<br>c. &#x652F;&#x6301;MySQL&#x591A;&#x4E2A;&#x7248;&#x672C;&#x3002;<br>d. &#x5BF9;&#x4E8E;&#x6570;&#x636E;&#x5E93;&#x7684;&#x4EE3;&#x7801;&#x91CD;&#x6784;&#x4E0D;&#x654F;&#x611F;&#xFF0C;&#x5229;&#x4E8E;&#x5347;&#x7EA7;&#x3002;<br>e. &#x81EA;&#x4E3B;&#x638C;&#x63A7;binlog&#x89E3;&#x6790;&#xFF0C;&#x63D0;&#x4F9B;&#x5C3D;&#x53EF;&#x80FD;&#x7075;&#x6D3B;&#x7684;&#x65B9;&#x5F0F;&#x3002;</p>
<p><strong>&#x5728;&#x8FD9;&#x4E9B;&#x7279;&#x6027;&#x4E2D;&#xFF0C;binlog&#x7684;&#x89E3;&#x6790;&#x662F;&#x4E00;&#x5207;&#x5DE5;&#x4F5C;&#x7684;&#x57FA;&#x7840;&#x3002;&#x63A5;&#x4E0B;&#x6765;&#x6211;&#x4F1A;&#x4ECB;&#x7ECD;binlog&#x7684;&#x57FA;&#x672C;&#x7ED3;&#x6784;&#x3002;</strong></p>
<h1 id="binlog&#x683C;&#x5F0F;&#x521D;&#x63A2;"><a href="#binlog&#x683C;&#x5F0F;&#x521D;&#x63A2;" class="headerlink" title="binlog&#x683C;&#x5F0F;&#x521D;&#x63A2;"></a>binlog&#x683C;&#x5F0F;&#x521D;&#x63A2;</h1><h2 id="binlog&#x683C;&#x5F0F;&#x6982;&#x89C8;"><a href="#binlog&#x683C;&#x5F0F;&#x6982;&#x89C8;" class="headerlink" title="binlog&#x683C;&#x5F0F;&#x6982;&#x89C8;"></a>binlog&#x683C;&#x5F0F;&#x6982;&#x89C8;</h2><p>&#x4E00;&#x4E2A;&#x5B8C;&#x6574;&#x7684;binlog&#x6587;&#x4EF6;&#x662F;&#x7531;&#x4E00;&#x4E2A;format description event&#x5F00;&#x5934;&#xFF0C;&#x4E00;&#x4E2A;rotate event&#x7ED3;&#x5C3E;&#xFF0C;&#x4E2D;&#x95F4;&#x7531;&#x591A;&#x4E2A;&#x5176;&#x4ED6;event&#x7EC4;&#x5408;&#x800C;&#x6210;&#x3002;</p>
<p><img src="https://gitee.com/songjianzaina/juejin_p4/raw/master/img/fddf7793272dcf2e4ad40f4958d34cb541b9cf4e74004da03535e95aa589392f" alt></p>
<p>binlog&#x6587;&#x4EF6;&#x5B9E;&#x4F8B;&#xFF1A;</p>
<p><img src="https://gitee.com/songjianzaina/juejin_p4/raw/master/img/a70be565453722de6aeda43b0fed6aae92d36802840049f4499b1763c0857f17" alt></p>
<p>&#x6BCF;&#x4E2A;event&#x90FD;&#x662F;&#x7531;event header &#x548C;event data&#x7EC4;&#x6210;&#x3002;&#x4E0B;&#x9762;&#x7B80;&#x5355;&#x4ECB;&#x7ECD;&#x4E0B;&#x51E0;&#x79CD;&#x5E38;&#x89C1;&#x7684;binlog event&#x3002;</p>
<p>&#x2460; formart description event</p>
<p><img src="https://gitee.com/songjianzaina/juejin_p4/raw/master/img/e08a2d5c78a4c66f62f923f21ff6d9e67638edaea2ac44c83679c18582533bf3" alt></p>
<p>&#x8868;&#x8FBE;&#x7684;&#x542B;&#x4E49;&#x662F;&#xFF1A;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&#x590D;&#x5236;&#x4EE3;&#x7801;170905  01:59:33 server id 10  end_log_pos 123 CRC32 0xed1ec563 </span><br><span class="line">Start: binlog v 4, server v 5.7.18-log created 170905  01:59:33</span><br></pre></td></tr></table></figure>

<p>&#x2461; table map event </p>
<p><img src="https://gitee.com/songjianzaina/juejin_p4/raw/master/img/c7842f3a46ed962cb2455f5149893ece0f3fce8673537682928ad4713db3b836" alt></p>
<p>&#x8868;&#x8FBE;&#x7684;&#x542B;&#x4E49;&#x662F;&#xFF1A;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&#x590D;&#x5236;&#x4EE3;&#x7801;    170905  01:59:33 server id 10  end_log_pos 339 CRC32 0x3de40c0d     </span><br><span class="line">    Table_map: `test`.`test4` mapped to number 238</span><br></pre></td></tr></table></figure>

<p>&#x2462; update row event </p>
<p><img src="https://gitee.com/songjianzaina/juejin_p4/raw/master/img/d1fccd3261c34e800ffca233cb4056ce933f9dfaa891cf01f11cc93a79ffae74" alt></p>
<p>&#x8868;&#x8FBE;&#x7684;&#x542B;&#x4E49;&#x662F;&#xFF1A;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&#x590D;&#x5236;&#x4EE3;&#x7801;    170905  01:59:33 server id 10  end_log_pos 385 CRC32 0x179ef6dd     </span><br><span class="line">    Update_rows: table id 238 flags: STMT_END_F </span><br><span class="line">    UPDATE `test`.`test4` WHERE @1=3 SET @1=13;</span><br></pre></td></tr></table></figure>

<h2 id="binlog-event&#x56DE;&#x6EDA;"><a href="#binlog-event&#x56DE;&#x6EDA;" class="headerlink" title="binlog event&#x56DE;&#x6EDA;"></a>binlog event&#x56DE;&#x6EDA;</h2><p>&#x6839;&#x636E;&#x4E0A;&#x9762;&#x7684;binlog&#x4ECB;&#x7ECD;&#xFF0C;&#x53EF;&#x4EE5;&#x770B;&#x5230;&#x6BCF;&#x4E2A;binlog event&#x4E2D;event header&#x6709;&#x4E2A;type_code&#xFF0C;&#x5176;&#x4E2D;insert&#x4E3A;30&#xFF0C;update&#x4E3A;31&#xFF0C;delete&#x4E3A;32&#x3002;&#x5BF9;&#x4E8E;insert&#x548C;delete&#x4E24;&#x4E2A;&#x76F8;&#x53CD;&#x7684;&#x64CD;&#x4F5C;&#xFF0C;&#x53EA;&#x9700;&#x628A;type_code&#x4E92;&#x6362;&#xFF0C;&#x5219;&#x5728;binlog event&#x7EA7;&#x522B;&#x5B8C;&#x6210;&#x56DE;&#x6EDA;&#x3002;</p>
<p><img src="https://gitee.com/songjianzaina/juejin_p4/raw/master/img/a55b32991fbcd947361d0423a5e70dc4d0ff88e2f5ef345352f7049d2c39334f" alt></p>
<p>&#x800C;&#x5BF9;&#x4E8E;update&#x64CD;&#x4F5C;&#xFF0C;&#x5176;&#x683C;&#x5F0F;&#x5982;&#x4E0B;&#x3002;</p>
<p><img src="https://gitee.com/songjianzaina/juejin_p4/raw/master/img/fd5b5452fd6e986e18febee9da302140413ca43edb1fb7dc049f8b32a5166576" alt></p>
<p>&#x5176;&#x4E2D;&#xFF0C;BI&#x662F;&#x6307;before image&#xFF0C;AI&#x662F;&#x6307;after image&#x3002;</p>
<p>&#x6211;&#x4EEC;&#x53EA;&#x9700;&#x4F9D;&#x6B21;&#x904D;&#x5386;&#x4FEE;&#x6539;&#x524D;&#x7684;&#x6570;&#x636E;&#x548C;&#x4FEE;&#x6539;&#x540E;&#x7684;&#x6570;&#x636E;&#xFF0C;&#x5E76;&#x4E00;&#x4E00;&#x4E92;&#x6362;&#x5373;&#x53EF;&#x3002;&#x56E0;&#x6B64;&#x6574;&#x4E2A;&#x56DE;&#x6EDA;&#x64CD;&#x4F5C;&#x7684;&#x96BE;&#x70B9;&#x5728;&#x4E8E;&#x56DE;&#x6EDA;update&#x8BED;&#x53E5;&#xFF0C;&#x800C;update&#x8BED;&#x53E5;&#x56DE;&#x6EDA;&#x7684;&#x6838;&#x5FC3;&#x5728;&#x4E8E;&#x8BA1;&#x7B97;&#x51FA;&#x6BCF;&#x4E2A;AI&#x3001;BI&#x7684;&#x957F;&#x5EA6;&#x3002;&#x4E0B;&#x9762;&#x4ECB;&#x7ECD;&#x4E0B;&#x957F;&#x5EA6;&#x4EE5;&#x53CA;&#x90E8;&#x5206;&#x5B57;&#x6BB5;&#x7684;&#x8BA1;&#x7B97;&#x65B9;&#x6CD5;&#x3002;</p>
<h2 id="&#x955C;&#x50CF;&#x957F;&#x5EA6;&#x8BA1;&#x7B97;"><a href="#&#x955C;&#x50CF;&#x957F;&#x5EA6;&#x8BA1;&#x7B97;" class="headerlink" title="&#x955C;&#x50CF;&#x957F;&#x5EA6;&#x8BA1;&#x7B97;"></a>&#x955C;&#x50CF;&#x957F;&#x5EA6;&#x8BA1;&#x7B97;</h2><p>&#x955C;&#x50CF;&#x662F;&#x7531;&#x4E00;&#x4E2A;&#x4E2A;&#x5B57;&#x6BB5;&#x7EC4;&#x6210;&#x7684;&#xFF0C;&#x6839;&#x636E;&#x5B57;&#x6BB5;&#x7C7B;&#x578B;&#x7684;&#x4E0D;&#x540C;&#xFF0C;&#x5176;&#x8BA1;&#x7B97;&#x957F;&#x5EA6;&#x7684;&#x65B9;&#x6CD5;&#x4E5F;&#x4E0D;&#x4E00;&#x6837;&#x3002;</p>
<ul>
<li>&#x53EA;&#x4E0E;&#x5B57;&#x6BB5;&#x7C7B;&#x578B;&#x76F8;&#x5173;&#x3002;&#x6BD4;&#x5982;int&#x5360;&#x7528;4&#x4E2A;&#x5B57;&#x8282;&#xFF0C;bingint&#x5360;&#x7528;8&#x4E2A;&#x5B57;&#x8282;&#x3002;&#x5176;&#x4E2D;&#x7C7B;&#x578B;&#x4FE1;&#x606F;&#x53EF;&#x4EE5;&#x4ECE;table map event&#x4E2D;&#x83B7;&#x53D6;&#x3002;</li>
<li>&#x4E0E;&#x5B57;&#x6BB5;&#x7C7B;&#x578B;&#x53CA;&#x5176;&#x53C2;&#x6570;&#x76F8;&#x5173;&#x3002;&#x6BD4;&#x5982;decimal&#xFF08;18&#xFF0C;9&#xFF09;&#xFF0C;&#x5360;&#x7528;9&#x4E2A;&#x5B57;&#x8282;&#xFF0C;&#x53C2;&#x6570;&#x4FE1;&#x606F;&#x5728;table map event&#x4E2D;&#x3002;</li>
<li>&#x4E0E;&#x5B57;&#x6BB5;&#x7C7B;&#x578B;&#x3001;&#x53C2;&#x6570;&#x4EE5;&#x53CA;&#x5B9E;&#x9645;&#x5B58;&#x50A8;&#x7684;&#x503C;&#x76F8;&#x5173;&#x3002;&#x6BD4;&#x5982;varchar&#xFF08;10&#xFF09;&#xFF0C;&#x6709;1&#x4E2A;&#x5B57;&#x8282;&#x8868;&#x793A;&#x957F;&#x5EA6;&#xFF0C;&#x4E4B;&#x540E;&#x7684;&#x5B57;&#x8282;&#x624D;&#x8868;&#x793A;&#x771F;&#x6B63;&#x7684;&#x6570;&#x636E;&#x3002;&#x6BD4;&#x5982;varchar&#xFF08;280&#xFF09;&#xFF0C;&#x6709;2&#x4E2A;&#x5B57;&#x8282;&#x8868;&#x793A;&#x957F;&#x5EA6;&#x3002;&#x5B9E;&#x9645;&#x7684;&#x957F;&#x5EA6;&#x548C;&#x6570;&#x636E;&#x5728;&#x4E00;&#x8D77;&#x3002;</li>
</ul>
<h2 id="&#x89E3;&#x6790;binlog&#x4E2D;&#x7684;&#x82E5;&#x5E72;&#x4E2A;&#x5173;&#x952E;&#x70B9;"><a href="#&#x89E3;&#x6790;binlog&#x4E2D;&#x7684;&#x82E5;&#x5E72;&#x4E2A;&#x5173;&#x952E;&#x70B9;" class="headerlink" title="&#x89E3;&#x6790;binlog&#x4E2D;&#x7684;&#x82E5;&#x5E72;&#x4E2A;&#x5173;&#x952E;&#x70B9;"></a>&#x89E3;&#x6790;binlog&#x4E2D;&#x7684;&#x82E5;&#x5E72;&#x4E2A;&#x5173;&#x952E;&#x70B9;</h2><p>&#x2460; length encoded integer</p>
<p>binlog&#x4E2D;&#x4E00;&#x4E2A;&#x6216;&#x8005;&#x591A;&#x4E2A;&#x5B57;&#x8282;&#x7EC4;&#x5408;&#xFF0C;&#x5206;&#x522B;&#x8868;&#x793A;&#x4E86;&#x4E0D;&#x540C;&#x7684;&#x542B;&#x4E49;&#x3002;&#x6BD4;&#x5982;&#xFF0C;timestamp&#x662F;&#x7531;&#x56FA;&#x5B9A;&#x7684;4&#x4E2A;&#x5B57;&#x8282;&#x7EC4;&#x6210;&#xFF0C;event&#x7C7B;&#x578B;&#x7531;&#x4E00;&#x4E2A;&#x5B57;&#x8282;&#x8868;&#x793A;&#xFF1B;&#x6570;&#x636E;&#x5E93;&#x540D;&#x548C;&#x8868;&#x540D;&#x6700;&#x957F;&#x4E3A;64&#x4E2A;&#x5B57;&#x7B26;&#xFF0C;&#x5373;&#x4F7F;&#x6BCF;&#x4E2A;&#x5B57;&#x7B26;&#x5360;&#x7528;3&#x4E2A;&#x5B57;&#x8282;&#xFF0C;&#x90A3;&#x4E48;&#x5360;&#x7528;&#x7684;&#x5B57;&#x8282;&#x6570;&#x4E3A;192&lt;255&#x3002;&#x56E0;&#x6B64;&#x6700;&#x591A;&#x4F7F;&#x7528;&#x4E00;&#x4E2A;&#x5B57;&#x8282;&#xFF0C;&#x5C31;&#x53EF;&#x4EE5;&#x5B8C;&#x6210;&#x5B9E;&#x9645;&#x957F;&#x5EA6;&#x8868;&#x793A;&#x3002;</p>
<p>&#x7136;&#x800C;&#x5217;&#x7684;&#x5B9E;&#x9645;&#x6570;&#x91CF;&#xFF0C;&#x53EF;&#x80FD;&#x9700;&#x8981;&#x8D85;&#x8FC7;1&#x4E2A;&#x5B57;&#x8282;&#x3001;2&#x4E2A;&#x5B57;&#x8282;&#x3001;3&#x4E2A;&#x5B57;&#x8282;&#x751A;&#x81F3;8&#x4E2A;&#x5B57;&#x8282;&#x53BB;&#x8868;&#x793A;&#x3002;&#x5982;&#x679C;&#x6211;&#x4EEC;&#x4F7F;&#x7528;&#x6700;&#x5927;&#x7684;8&#x4E2A;&#x5B57;&#x8282;&#x53BB;&#x8868;&#x793A;&#xFF0C;&#x90A3;&#x4E48;&#x5728;&#x7EDD;&#x5927;&#x591A;&#x6570;&#x60C5;&#x51B5;&#x4E0B;&#x90FD;&#x662F;&#x6D6A;&#x8D39;&#x5B58;&#x50A8;&#x7A7A;&#x95F4;&#x7684;&#x3002;&#x9488;&#x5BF9;&#x8FD9;&#x79CD;&#x60C5;&#x51B5;&#xFF0C;length encoded integer&#x5E94;&#x8FD0;&#x800C;&#x751F;&#x3002;</p>
<p><img src="https://gitee.com/songjianzaina/juejin_p4/raw/master/img/3eb7cd9b4fd2d79d796003c2ccd3198ffb5c575bfc6dac4415129d645a1898c0" alt></p>
<p>&#x6BD4;&#x5982;&#x5728;&#x83B7;&#x53D6;&#x4E00;&#x4E2A;varchar&#x7C7B;&#x578B;&#x7684;&#x957F;&#x5EA6;&#x65F6;&#xFF0C;&#x9996;&#x5148;&#x8BFB;&#x53D6;&#x7B2C;&#x4E00;&#x4E2A;&#x5B57;&#x8282;&#xFF0C;&#x5982;&#x679C;&#x503C;&#x5C0F;&#x4E8E;251&#xFF0C;&#x90A3;&#x4E48;varchar&#x7684;&#x957F;&#x5EA6;&#x5C31;&#x662F;&#x7B2C;&#x4E00;&#x4E2A;&#x5B57;&#x8282;&#x8868;&#x793A;&#x7684;&#x957F;&#x5EA6;&#x3002;&#x5982;&#x679C;&#x7B2C;&#x4E00;&#x4E2A;&#x5B57;&#x8282;&#x7684;&#x503C;&#x4E3A;0xFC&#xFF0C;&#x90A3;&#x4E48;varchar&#x7684;&#x957F;&#x5EA6;&#x662F;&#x7531;&#x8BE5;&#x5B57;&#x8282;&#x4E4B;&#x540E;&#x7684;&#x540E;&#x4E24;&#x4E2A;&#x5B57;&#x8282;&#x7EC4;&#x6210;&#xFF0C;&#x4EE5;&#x6B64;&#x7C7B;&#x63A8;&#x3002;</p>
<p>&#x2461; decimal&#x7C7B;&#x578B; </p>
<p>decimal&#x662F;&#x7531;&#x6574;&#x6570;&#x90E8;&#x5206;&#x548C;&#x5C0F;&#x6570;&#x90E8;&#x5206;&#x7EC4;&#x6210;&#x3002;&#x65E0;&#x8BBA;&#x662F;&#x6574;&#x6570;&#x8FD8;&#x662F;&#x5C0F;&#x6570;&#xFF0C;&#x6BCF;9&#x4E2A;&#x6570;&#x5B57;&#xFF0C;&#x9700;&#x8981;4&#x4E2A;&#x5B57;&#x8282;&#x3002;&#x5982;&#x679C;&#x4E0D;&#x662F;9&#x7684;&#x500D;&#x6570;&#xFF0C;&#x5269;&#x4F59;&#x7684;&#x5C0F;&#x6570;&#x4F4D;&#xFF0C;&#x9700;&#x8981;&#x7684;&#x5B57;&#x8282;&#x6570;&#x5982;&#x4E0B;&#xFF0C;&#x4E3A;&#x65B9;&#x4FBF;&#x63CF;&#x8FF0;&#xFF0C;&#x5C06;&#x8BE5;&#x5173;&#x7CFB;&#x5B9A;&#x4E49;&#x4E3A;&#x51FD;&#x6570;Fnum&#x3002;</p>
<p><img src="https://gitee.com/songjianzaina/juejin_p4/raw/master/img/ae61ad09d9dd2ba5f1fe8641b52551948f637438a3b2ab567841d9280def06bf" alt></p>
<p>&#x4E3E;&#x4F8B;&#xFF0C;&#x5BF9;&#x4E8E; decimal&#xFF08;18,10&#xFF09;&#xFF1A;</p>
<ol>
<li>&#x6574;&#x6570;&#x90E8;&#x5206;&#x53EF;&#x5C55;&#x793A;&#x7684;&#x4E3A;8&#xFF0C;&#x7528;int&#xFF0C;&#x5373;4&#x4E2A;&#x5B57;&#x8282;&#x3002;</li>
<li>&#x5C0F;&#x6570;&#x90E8;&#x5206;&#xFF0C;&#x9700;&#x8981;&#x7684;&#x5B57;&#x8282;&#x6570;&#x4E3A; (10 /9)*4+Fnum(10%9)=5&#x3002;</li>
<li>&#x90A3;&#x4E48;&#x603B;&#x5171;&#x52A0;&#x8D77;&#x6765;&#x9700;&#x8981;4+5=9&#x4E2A;&#x5B57;&#x8282;&#x3002;</li>
</ol>
<h1 id="&#x95EA;&#x56DE;&#x5DE5;&#x5177;&#x67B6;&#x6784;"><a href="#&#x95EA;&#x56DE;&#x5DE5;&#x5177;&#x67B6;&#x6784;" class="headerlink" title="&#x95EA;&#x56DE;&#x5DE5;&#x5177;&#x67B6;&#x6784;"></a>&#x95EA;&#x56DE;&#x5DE5;&#x5177;&#x67B6;&#x6784;</h1><p>&#x5728;&#x4E0A;&#x9762;&#x7684;&#x7AE0;&#x8282;&#x4E2D;&#xFF0C;&#x4ECB;&#x7ECD;&#x4E86;&#x5355;&#x4E2A;binlog event&#x7684;&#x53CD;&#x8F6C;&#x65B9;&#x6CD5;&#x3002;&#x5728;&#x5B9E;&#x8DF5;&#x4E2D;&#xFF0C;&#x6211;&#x4EEC;&#x5F80;&#x5F80;&#x9700;&#x8981;&#x628A;&#x67D0;&#x4E2A;binlog&#xFF0C;&#x6309;&#x7167;&#x6307;&#x5B9A;&#x7684;&#x6761;&#x4EF6;&#xFF0C;&#x8FC7;&#x6EE4;&#x51FA;&#x9700;&#x8981;&#x7684;binlog&#xFF0C;&#x5E76;&#x8FDB;&#x884C;&#x53CD;&#x8F6C;&#x3002;&#x90A3;&#x4E48;MyFlash&#x662F;&#x5982;&#x4F55;&#x5B8C;&#x6210;&#x8FD9;&#x4E9B;&#x76EE;&#x6807;&#x7684;&#x5462;&#xFF1F;</p>
<h2 id="&#x89E3;&#x6790;binlog"><a href="#&#x89E3;&#x6790;binlog" class="headerlink" title="&#x89E3;&#x6790;binlog"></a>&#x89E3;&#x6790;binlog</h2><p>&#x9996;&#x5148;&#x628A;binlog&#x6587;&#x4EF6;&#xFF0C;&#x89E3;&#x6790;&#x6210;&#x591A;&#x4E2A;event&#xFF0C;&#x653E;&#x5165;&#x5230;&#x76F8;&#x5173;&#x961F;&#x5217;&#x4E2D;&#x3002;&#x5728;&#x5B9E;&#x73B0;&#x4E0A;&#xFF0C;&#x4E3A;&#x4E86;&#x5C3D;&#x53EF;&#x80FD;&#x52A0;&#x5FEB;&#x89E3;&#x6790;&#x901F;&#x5EA6;&#xFF0C;&#x53EF;&#x4EE5;&#x8BA9;&#x7528;&#x6237;&#x6307;&#x5B9A;&#x89E3;&#x6790;&#x7684;&#x5F00;&#x59CB;&#x4E0E;&#x7ED3;&#x675F;&#x4F4D;&#x7F6E;&#x3002;&#x628A;binlog&#x6587;&#x4EF6;&#x89E3;&#x6790;&#x6210;binlog event&#x540E;&#xFF0C;&#x518D;&#x5224;&#x65AD;&#x4E0B;&#x662F;&#x5426;&#x7B26;&#x5408;&#x6307;&#x5B9A;&#x7684;&#x65F6;&#x95F4;&#x6761;&#x4EF6;&#xFF0C;&#x82E5;&#x4E0D;&#x7B26;&#x5408;&#xFF0C;&#x5219;&#x4E22;&#x5F03;&#x8BE5;event&#x3002;</p>
<p><img src="https://gitee.com/songjianzaina/juejin_p4/raw/master/img/373c67734bc660d915d85d8e29c93faec421894c07ff96f201886abdfb9e8210" alt></p>
<p>&#x6CE8;&#x610F;&#xFF1A;&#x7528;&#x6237;&#x53EF;&#x4EE5;&#x4E0D;&#x6307;&#x5B9A;&#x4F4D;&#x7F6E;&#x548C;&#x65F6;&#x95F4;&#xFF0C;&#x5219;&#x89E3;&#x6790;&#x6574;&#x4E2A;&#x6587;&#x4EF6;&#x3002;&#x5982;&#x679C;&#x53EA;&#x6307;&#x5B9A;&#x65F6;&#x95F4;&#xFF0C;&#x90A3;&#x4E48;&#x4E5F;&#x9700;&#x8981;&#x4ECE;&#x6587;&#x4EF6;&#x5F00;&#x59CB;&#x5904;&#x89E3;&#x6790;&#xFF0C;&#x53D6;&#x51FA;&#x65F6;&#x95F4;&#x4FE1;&#x606F;&#xFF0C;&#x518D;&#x8FDB;&#x884C;&#x5224;&#x65AD;&#x3002;&#x56E0;&#x6B64;&#xFF0C;&#x5F53;&#x9700;&#x8981;&#x56DE;&#x6EDA;&#x7684;binlog&#x53EA;&#x5360;&#x6574;&#x4E2A;binlog&#x7684;&#x4E00;&#x5C0F;&#x90E8;&#x5206;&#x65F6;&#xFF0C;&#x63A8;&#x8350;&#x4F7F;&#x7528;&#x6307;&#x5B9A;&#x4F4D;&#x7F6E;&#x3002;</p>
<p><img src="https://gitee.com/songjianzaina/juejin_p4/raw/master/img/2b8a7e18ad9fd943cddd1a390130f15f4f0ba6ce868ce16ed95701a3339e46bd" alt></p>
<h2 id="&#x91CD;&#x7EC4;event"><a href="#&#x91CD;&#x7EC4;event" class="headerlink" title="&#x91CD;&#x7EC4;event"></a>&#x91CD;&#x7EC4;event</h2><p>&#x628A;binlog event&#x7EC4;&#x6210;&#x6700;&#x5C0F;&#x6267;&#x884C;&#x5355;&#x5143;&#x3002;&#x5728;&#x5E38;&#x89C1;&#x7684;binlog event&#x4E2D;table_map event&#x5305;&#x542B;&#x4E86;&#x6240;&#x8981;&#x4E86;&#x8868;&#x540D;&#x3001;&#x5E93;&#x540D;&#x7B49;&#x5143;&#x6570;&#x636E;&#x4FE1;&#x606F;&#xFF0C;&#x800C;row_event(&#x5305;&#x542B;write_event&#x3001;delete_event&#x3001;update_event)&#x5305;&#x542B;&#x4E86;&#x771F;&#x6B63;&#x7684;&#x6570;&#x636E;&#x3002;&#x56E0;&#x6B64;&#x5728;&#x8BBE;&#x8BA1;&#x4E2D;&#x4F7F;&#x7528;&#x4E86;&#x4E00;&#x4E2A;&#x6700;&#x5C0F;&#x6267;&#x884C;&#x5355;&#x5143;&#x6982;&#x5FF5;&#x3002;&#x6240;&#x8C13;&#x7684;&#x6700;&#x5C0F;&#x6267;&#x884C;&#x5355;&#x5143;&#xFF0C;&#x5373;least execution event unit&#xFF0C;&#x901A;&#x5E38;&#x5305;&#x542B;&#x4E00;&#x4E2A;table_map event&#x548C;&#x82E5;&#x5E72;&#x4E2A;row_event&#x3002;</p>
<p><img src="https://gitee.com/songjianzaina/juejin_p4/raw/master/img/0a5141c565c8a41d34fd9c7163de875b3c6135a9f26faa1dc41d0d429596dd8b" alt></p>
<p>&#x6BD4;&#x5982;&#x5728;binlog&#x683C;&#x5F0F;&#x6982;&#x89C8;&#x4E00;&#x8282;&#x4E2D;&#xFF0C;&#x4ECB;&#x7ECD;&#x4E86;table_map_event&#x548C;update_row_event&#x3002;&#x5982;&#x679C;&#x53EA;&#x6709;update_row_event&#xFF0C;&#x90A3;&#x4E48;&#x6211;&#x4EEC;&#x65E0;&#x6CD5;&#x77E5;&#x9053;&#x8FD9;&#x4E2A;event&#x5BF9;&#x5E94;&#x7684;&#x884C;&#x8BB0;&#x5F55;&#x53D8;&#x66F4;&#x5BF9;&#x5E94;&#x7684;&#x8868;&#x3002;&#x56E0;&#x6B64;&#x4E00;&#x4E2A;&#x5B8C;&#x6574;&#x7684;&#x6700;&#x5C0F;&#x6267;&#x884C;&#x5355;&#x5143;&#x6700;&#x5C11;&#x5305;&#x542B;&#x4E00;&#x4E2A;table_map_event&#x548C;write_row_event&#x3001;update_row_even&#x3001;delete_row_event&#x4E2D;&#x7684;&#x4E00;&#x4E2A;&#x3002;</p>
<p>&#x4E3A;&#x4EC0;&#x4E48;&#x6211;&#x4EEC;&#x9700;&#x8981;&#x4F7F;&#x7528;&#x6700;&#x5C0F;&#x6267;&#x884C;&#x5355;&#x5143;&#xFF1F;&#x56E0;&#x4E3A;&#x6211;&#x4EEC;&#x5728;&#x95EA;&#x56DE;&#x64CD;&#x4F5C;&#x65F6;&#xFF0C;&#x4E0D;&#x80FD;&#x7B80;&#x5355;&#x7684;&#x628A;&#x6BCF;&#x4E2A;event&#x53CD;&#x8F6C;&#x4E4B;&#x540E;&#xFF0C;&#x7136;&#x540E;&#x518D;&#x5C06;&#x6240;&#x6709;event&#x7684;&#x987A;&#x5E8F;&#x53CD;&#x8F6C;&#x8FC7;&#x6765;&#x3002;&#x5982;&#x679C;&#x8FD9;&#x6837;&#x7684;&#x8BDD;&#xFF0C;&#x5C31;&#x4F1A;&#x51FA;&#x73B0;table_map event&#x5728;row event&#x4E4B;&#x540E;&#xFF0C;&#x8FD9;&#x663E;&#x7136;&#x662F;&#x8FDD;&#x53CD;binlog&#x6267;&#x884C;&#x903B;&#x8F91;&#x7684;&#x3002;</p>
<p>&#x6709;&#x4E86;&#x6700;&#x5C0F;&#x6267;&#x884C;&#x5355;&#x5143;&#x4E4B;&#x540E;&#xFF0C;&#x53EA;&#x9700;&#x4E24;&#x6B65;&#xFF0C;&#x5373;&#x53EF;&#x5B8C;&#x6210;&#x53CD;&#x8F6C;&#x3002;</p>
<p>a. &#x53CD;&#x8F6C;&#x6700;&#x5C0F;&#x6267;&#x884C;&#x5355;&#x5143;&#x4E2D;&#x7684;row event&#x3002;<br>b. &#x9006;&#x5E8F;&#x6700;&#x5C0F;&#x6267;&#x884C;&#x5355;&#x5143;&#x961F;&#x5217;&#xFF0C;&#x5373;&#x53EF;&#x3002;</p>
<p>&#x5F53;&#x7136;&#x5728;&#x53CD;&#x8F6C;&#x524D;&#xFF0C;&#x4E5F;&#x53EF;&#x4EE5;&#x589E;&#x52A0;&#x8FC7;&#x6EE4;&#x64CD;&#x4F5C;&#x3002;&#x6BD4;&#x5982;&#x8FC7;&#x6EE4;&#x5E93;&#x540D;&#x3001;&#x8868;&#x540D;&#x548C;SQL&#x7C7B;&#x578B;&#x7B49;&#x3002;</p>
<p><img src="https://gitee.com/songjianzaina/juejin_p4/raw/master/img/83f3068d2af155c8e31716749c29bf7ce69a1ac389eca026735ef70de3422a37" alt></p>
<h2 id="&#x751F;&#x6210;binlog&#x6587;&#x4EF6;"><a href="#&#x751F;&#x6210;binlog&#x6587;&#x4EF6;" class="headerlink" title="&#x751F;&#x6210;binlog&#x6587;&#x4EF6;"></a>&#x751F;&#x6210;binlog&#x6587;&#x4EF6;</h2><p>&#x6709;&#x4E86;&#x9006;&#x5E8F;&#x7684;&#x6700;&#x5C0F;&#x6267;&#x884C;&#x5355;&#x5143;&#x961F;&#x5217;&#x540E;&#xFF0C;&#x53EA;&#x9700;&#x628A;&#x6BCF;&#x4E2A;&#x6700;&#x5C0F;&#x6267;&#x884C;&#x5355;&#x5143;&#x4F9D;&#x6B21;&#x8F93;&#x5165;&#x5230;&#x6587;&#x4EF6;&#x5373;&#x53EF;&#x3002;&#x4E0D;&#x8FC7;&#x4E0D;&#x8981;&#x5FD8;&#x4E86;&#x4FEE;&#x6539;&#x6BCF;&#x4E2A;binlog event&#x91CC;&#x7684;next_position&#xFF0C;&#x7528;&#x6765;&#x8868;&#x793A;&#x4E0B;&#x4E00;&#x4E2A;binlog&#x7684;&#x4F4D;&#x7F6E;&#x3002;</p>
<h1 id="&#x6027;&#x80FD;&#x5BF9;&#x6BD4;"><a href="#&#x6027;&#x80FD;&#x5BF9;&#x6BD4;" class="headerlink" title="&#x6027;&#x80FD;&#x5BF9;&#x6BD4;"></a>&#x6027;&#x80FD;&#x5BF9;&#x6BD4;</h1><h2 id="&#x6D4B;&#x8BD5;&#x573A;&#x666F;"><a href="#&#x6D4B;&#x8BD5;&#x573A;&#x666F;" class="headerlink" title="&#x6D4B;&#x8BD5;&#x573A;&#x666F;"></a>&#x6D4B;&#x8BD5;&#x573A;&#x666F;</h2><p>&#x4F7F;&#x7528;testFlashback2&#xFF0C;&#x63D2;&#x5165;100&#x4E07;&#x6761;&#x6570;&#x636E;&#xFF1A;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">&#x590D;&#x5236;&#x4EE3;&#x7801;CREATE TABLE `testFlashback2` (</span><br><span class="line">  `id` int(11) NOT NULL AUTO_INCREMENT,</span><br><span class="line">  `nameShort` varchar(20) DEFAULT NULL,</span><br><span class="line">  `nameLong` varchar(260) DEFAULT NULL,</span><br><span class="line">  `amount` decimal(19,9) DEFAULT NULL,</span><br><span class="line">  `amountFloat` float DEFAULT NULL,</span><br><span class="line">  `amountDouble` double DEFAULT NULL,</span><br><span class="line">  `createDatetime6` datetime(6) DEFAULT NULL,</span><br><span class="line">  `createDatetime` datetime DEFAULT NULL,</span><br><span class="line">  `createTimestamp` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,</span><br><span class="line">  `nameText` text,</span><br><span class="line">  `nameBlob` blob,</span><br><span class="line">  `nameMedium` mediumtext,</span><br><span class="line">  PRIMARY KEY (`id`)</span><br><span class="line">) ENGINE=InnoDB</span><br><span class="line"></span><br><span class="line">mysql&gt; select count(*) from testFlashback2;</span><br><span class="line">+----------+</span><br><span class="line">| count(*) |</span><br><span class="line">+----------+</span><br><span class="line">|  1048576 |</span><br><span class="line">+----------+</span><br><span class="line">1 row in set (0.16 sec)</span><br><span class="line"></span><br><span class="line">delete from testFlashback2;</span><br></pre></td></tr></table></figure>

<h2 id="&#x6D4B;&#x8BD5;&#x7ED3;&#x679C;"><a href="#&#x6D4B;&#x8BD5;&#x7ED3;&#x679C;" class="headerlink" title="&#x6D4B;&#x8BD5;&#x7ED3;&#x679C;"></a>&#x6D4B;&#x8BD5;&#x7ED3;&#x679C;</h2><p><img src="https://gitee.com/songjianzaina/juejin_p4/raw/master/img/e3bebff97c29fd1cfbb76eda72ea00d5b712f7d24095c35de1b8c52a0fe63633" alt></p>
<p><img src="https://gitee.com/songjianzaina/juejin_p4/raw/master/img/3d5be7f7455bf8232524837327d3d3c0e4a4277a16de38ff970a012c8af08e94" alt></p>
<p>&#x4ECE;&#x4E0A;&#x8FF0;&#x56FE;&#x8868;&#x4E2D;&#x53EF;&#x4EE5;&#x770B;&#x51FA;&#xFF0C;MyFlash&#x7684;&#x901F;&#x5EA6;&#x6700;&#x5FEB;&#x3002;</p>
<h1 id="&#x53C2;&#x8003;&#x6587;&#x6863;"><a href="#&#x53C2;&#x8003;&#x6587;&#x6863;" class="headerlink" title="&#x53C2;&#x8003;&#x6587;&#x6863;"></a>&#x53C2;&#x8003;&#x6587;&#x6863;</h1><ol>
<li>MySQL&#x5B98;&#x65B9;&#x6587;&#x6863;<a href="/external_links/1c09041661b1543666831bb987698774.html" target="blank" rel="noopener">1</a>,<a href="/external_links/00740d53d964b374c7a65469ebe47a5b.html" target="blank" rel="noopener">2</a>,<a href="/external_links/4e4dd61c60f16e59678fe3a36614b8c8.html" target="blank" rel="noopener">3</a>.</li>
<li><a href="/external_links/e9530dd24fe01fd47ec3392ca8addd9a.html" target="blank" rel="noopener">binlog2sql</a>.</li>
<li><a href="/external_links/df41a40ba37e56f0d6e9a63d0b28e1f8.html" target="blank" rel="noopener">mysqlbinlog Flashback for 5.6</a>.</li>
<li><a href="/external_links/1fddc54c96d6dc44d3348096d700aa16.html" target="blank" rel="noopener">MySQL&#x95EA;&#x56DE;&#x539F;&#x7406;&#x4E0E;&#x5B9E;&#x6218;</a>.</li>
</ol>
<h1 id="&#x62DB;&#x8058;"><a href="#&#x62DB;&#x8058;" class="headerlink" title="&#x62DB;&#x8058;"></a>&#x62DB;&#x8058;</h1><p>&#x7F8E;&#x56E2;&#x70B9;&#x8BC4;DBA&#x56E2;&#x961F;&#x62DB;&#x8058;&#x5404;&#x7C7B;DBA&#x4EBA;&#x624D;&#xFF0C;base&#x5317;&#x4EAC;&#x4E0A;&#x6D77;&#x5747;&#x53EF;&#x3002;&#x6211;&#x4EEC;&#x81F4;&#x529B;&#x4E8E;&#x4E3A;&#x516C;&#x53F8;&#x63D0;&#x4F9B;&#x7A33;&#x5B9A;&#x3001;&#x53EF;&#x9760;&#x3001;&#x9AD8;&#x6548;&#x7684;&#x5728;&#x7EBF;&#x5B58;&#x50A8;&#x670D;&#x52A1;&#xFF0C;&#x6253;&#x9020;&#x4E1A;&#x754C;&#x9886;&#x5148;&#x7684;&#x6570;&#x636E;&#x5E93;&#x56E2;&#x961F;&#x3002;&#x8FD9;&#x91CC;&#x6709;&#x57FA;&#x4E8E;Redis Cluster&#x6784;&#x5EFA;&#x7684;&#x5927;&#x89C4;&#x6A21;&#x5206;&#x5E03;&#x5F0F;&#x7F13;&#x5B58;&#x7CFB;&#x7EDF;Squirrel&#xFF0C;&#x4E5F;&#x6709;&#x57FA;&#x4E8E;Tair&#x8FDB;&#x884C;&#x5927;&#x5200;&#x9614;&#x65A7;&#x6539;&#x8FDB;&#x7684;&#x5206;&#x5E03;&#x5F0F;KV&#x5B58;&#x50A8;&#x7CFB;&#x7EDF;Cellar&#xFF0C;&#x8FD8;&#x6709;&#x6570;&#x5343;&#x5404;&#x7C7B;&#x67B6;&#x6784;&#x7684;MySQL&#x5B9E;&#x4F8B;&#xFF0C;&#x6BCF;&#x5929;&#x63D0;&#x4F9B;&#x4E07;&#x4EBF;&#x7EA7;&#x7684;OLTP&#x8BBF;&#x95EE;&#x8BF7;&#x6C42;&#x3002;&#x771F;&#x6B63;&#x7684;&#x6D77;&#x91CF;&#x3001;&#x5206;&#x5E03;&#x5F0F;&#x3001;&#x9AD8;&#x5E76;&#x53D1;&#x73AF;&#x5883;&#x3002;&#x6B22;&#x8FCE;&#x5404;&#x4F4D;&#x670B;&#x53CB;&#x63A8;&#x8350;&#x6216;&#x81EA;&#x8350;&#x81F3;jinlong.cai#dianping.com&#x3002;</p>
<p><strong>&#x56DE;&#x7B54;&#x201C;&#x601D;&#x8003;&#x9898;&#x201D;&#x3001;&#x53D1;&#x73B0;&#x6587;&#x7AE0;&#x6709;&#x9519;&#x8BEF;&#x3001;&#x5BF9;&#x5185;&#x5BB9;&#x6709;&#x7591;&#x95EE;&#xFF0C;&#x90FD;&#x53EF;&#x4EE5;&#x6765;&#x5FAE;&#x4FE1;&#x516C;&#x4F17;&#x53F7;&#xFF08;&#x7F8E;&#x56E2;&#x70B9;&#x8BC4;&#x6280;&#x672F;&#x56E2;&#x961F;&#xFF09;&#x540E;&#x53F0;&#x7ED9;&#x6211;&#x4EEC;&#x7559;&#x8A00;&#x3002;&#x6211;&#x4EEC;&#x6BCF;&#x5468;&#x4F1A;&#x6311;&#x9009;&#x51FA;&#x4E00;&#x4F4D;&#x201C;&#x4F18;&#x79C0;&#x56DE;&#x7B54;&#x8005;&#x201D;&#xFF0C;&#x8D60;&#x9001;&#x4E00;&#x4EFD;&#x7CBE;&#x7F8E;&#x7684;&#x5C0F;&#x793C;&#x54C1;&#x3002;&#x5FEB;&#x6765;&#x626B;&#x7801;&#x5173;&#x6CE8;&#x6211;&#x4EEC;&#x5427;&#xFF01;</strong></p>
<p><strong>&#x516C;&#x4F17;&#x53F7;&#x4E8C;&#x7EF4;&#x7801;</strong></p>
<p><img src="https://gitee.com/songjianzaina/juejin_p4/raw/master/img/9faa5a336da69480af2a2057d38b4b61b11b7e57b3764f7365e1713abbe84eae" alt></p>
<p><strong>&#x672C;&#x6587;&#x8F6C;&#x8F7D;&#x81EA;:</strong> <a href="/external_links/e715ba3e5ebff0fcaf8b35817444d231.html" target="blank" rel="noopener">&#x6398;&#x91D1;</a></p>
<p><em><a href="https://dev.newban.cn/">&#x5F00;&#x53D1;&#x8005;&#x535A;&#x5BA2; &#x2013; &#x548C;&#x5F00;&#x53D1;&#x76F8;&#x5173;&#x7684; &#x8FD9;&#x91CC;&#x5168;&#x90FD;&#x6709;</a></em></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://dev.newban.cn../../6844903512036360199.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="开发者博客">
      <meta itemprop="description" content>
      <meta itemprop="image" content="../../images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="开发者博客 – IT技术 尽在开发者博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="../../6844903512036360199.html" itemprop="url">用普通的Python，从头开始编写一个基本的x86-64 J</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-11-17T14:54:49+08:00">
                2017-11-17
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="Writing-a-basic-x86-64-JIT-compiler-from-scratch-in-stock-Python"><a href="#Writing-a-basic-x86-64-JIT-compiler-from-scratch-in-stock-Python" class="headerlink" title="Writing a basic x86-64 JIT compiler from scratch in stock Python"></a><a href="/external_links/fbb3503668fb65a66cc486125f52f50e.html" target="blank" rel="noopener">Writing a basic x86-64 JIT compiler from scratch in stock Python</a></h1><p> <strong>By</strong> <a href="/external_links/fbb3503668fb65a66cc486125f52f50e.html" target="blank" rel="noopener">Christian Stigen Larsen</a><br> Posted 08 Nov 2017 &#x2014; updated 11 Nov 2017 </p>
<p>In this post I&#x2019;ll show how to write a rudimentary, native x86-64 <a href="/external_links/b61f3569935c773ebaaa26db0d8fc1c7.html" target="blank" rel="noopener">just-in-time<br>compiler (JIT)</a> in CPython, using only the built-in modules.</p>
<p>Update: This post made the <a href="/external_links/ab1f1d4f126c4ed4923aab0df95cded1.html" target="blank" rel="noopener">front page of HN</a>, and I&#x2019;ve incorporated some of the <a href="/external_links/35de7543df56561e3a274cf3069e5edd.html" target="blank" rel="noopener">discussion feedback</a>. I&#x2019;ve also written a<br> <a href="/external_links/bf81914218525899e420fee579922e0e.html" target="blank" rel="noopener">follow-up post</a> that JITs Python bytecode to x86-64.</p>
<p>The code here specifically targets the UNIX systems macOS and Linux, but should be easily translated to other systems such as Windows. The complete code is available on <a href="/external_links/42bd54e155e7b9e1b23d77c0f570dd8b.html" target="blank" rel="noopener">github.com/cslarsen/mi&#x2026;</a>.</p>
<p>The goal is to generate new versions of the below assembly code at runtime and execute it.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&#x590D;&#x5236;&#x4EE3;&#x7801;48 b8 ed ef be ad de  movabs $0xdeadbeefed, %rax</span><br><span class="line">00 00 00</span><br><span class="line">48 0f af c7           imul   %rdi,%rax</span><br><span class="line">c3                    retq</span><br></pre></td></tr></table></figure>

<p>We will mainly deal with the left hand side &#x2014; the byte sequence <code>48 b8 ed ...</code> and so on. Those fifteen <a href="/external_links/7d57d2c0a750f7944ff30e915c0b7641.html" target="blank" rel="noopener">machine code bytes</a> comprise an x86-64 function that multiplies its argument<br> with the constant <code>0xdeadbeefed</code>. The JIT step will create functions with different such constants. While being a contrived form of <a href="/external_links/f0e6f1fffefce8f04f3079549d72e531.html" target="blank" rel="noopener">specialization</a>, it illuminates<br> the basic mechanics of just-in-time compilation.</p>
<p>Our general strategy is to rely on the built-in <code>ctypes</code> Python module to load the C standard library. From there, we can access system functions to interface with the virtual memory manager. We&#x2019;ll use <code>mmap</code> to fetch a page-aligned<br> block of memory. It needs to be aligned for it to become executable. That&#x2019;s the reason why we can&#x2019;t simply use the usual C function <code>malloc</code>, because it may return memory that spans page boundaries.</p>
<p>The function <code>mprotect</code> will be used to mark the memory block as read-only and executable. After that, we should be able to call into our freshly compiled block of code through ctypes.</p>
<h2 id="The-boiler-plate-part"><a href="#The-boiler-plate-part" class="headerlink" title="The boiler-plate part"></a>The boiler-plate part</h2><p>Before we can do anything, we need to load the standard C library.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">&#x590D;&#x5236;&#x4EE3;&#x7801;import ctypes</span><br><span class="line">import sys</span><br><span class="line"></span><br><span class="line">if sys.platform.startswith(&quot;darwin&quot;):</span><br><span class="line">    libc = ctypes.cdll.LoadLibrary(&quot;libc.dylib&quot;)</span><br><span class="line">    # ...</span><br><span class="line">elif sys.platform.startswith(&quot;linux&quot;):</span><br><span class="line">    libc = ctypes.cdll.LoadLibrary(&quot;libc.so.6&quot;)</span><br><span class="line">    # ...</span><br><span class="line">else:</span><br><span class="line">    raise RuntimeError(&quot;Unsupported platform&quot;)</span><br></pre></td></tr></table></figure>

<p>There are other ways to achieve this, for example</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&#x590D;&#x5236;&#x4EE3;&#x7801;&gt;&gt;&gt; import ctypes</span><br><span class="line">&gt;&gt;&gt; import ctypes.util</span><br><span class="line">&gt;&gt;&gt; libc = ctypes.CDLL(ctypes.util.find_library(&quot;c&quot;))</span><br><span class="line">&gt;&gt;&gt; libc</span><br><span class="line">&lt;CDLL &apos;/usr/lib/libc.dylib&apos;, handle 110d466f0 at 103725ad0&gt;</span><br></pre></td></tr></table></figure>

<p>To find the page size, we&#x2019;ll call <code>sysconf(_SC_PAGESIZE)</code>. The <code>_SC_PAGESIZE</code> constant is 29 on macOS but 30 on Linux. We&#x2019;ll just hard-code those in our program. You can find them by digging into system header files or writing<br> a simple C program that print them out. A more robust and elegant solution would be to use the <code>cffi</code> module instead of ctypes, because it can automatically parse header files. However, since I wanted to stick to the default CPython<br> distribution, we&#x2019;ll continue using ctypes.</p>
<p>We need a few additional constants for <code>mmap</code> and friends. They&#x2019;re just written out below. You may have to look them up for other UNIX variants.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">&#x590D;&#x5236;&#x4EE3;&#x7801;import ctypes</span><br><span class="line">import sys</span><br><span class="line"></span><br><span class="line">if sys.platform.startswith(&quot;darwin&quot;):</span><br><span class="line">    libc = ctypes.cdll.LoadLibrary(&quot;libc.dylib&quot;)</span><br><span class="line">    _SC_PAGESIZE = 29</span><br><span class="line">    MAP_ANONYMOUS = 0x1000</span><br><span class="line">    MAP_PRIVATE = 0x0002</span><br><span class="line">    PROT_EXEC = 0x04</span><br><span class="line">    PROT_NONE = 0x00</span><br><span class="line">    PROT_READ = 0x01</span><br><span class="line">    PROT_WRITE = 0x02</span><br><span class="line">    MAP_FAILED = -1 # voidptr actually</span><br><span class="line">elif sys.platform.startswith(&quot;linux&quot;):</span><br><span class="line">    libc = ctypes.cdll.LoadLibrary(&quot;libc.so.6&quot;)</span><br><span class="line">    _SC_PAGESIZE = 30</span><br><span class="line">    MAP_ANONYMOUS = 0x20</span><br><span class="line">    MAP_PRIVATE = 0x0002</span><br><span class="line">    PROT_EXEC = 0x04</span><br><span class="line">    PROT_NONE = 0x00</span><br><span class="line">    PROT_READ = 0x01</span><br><span class="line">    PROT_WRITE = 0x02</span><br><span class="line">    MAP_FAILED = -1 # voidptr actually</span><br><span class="line">else:</span><br><span class="line">    raise RuntimeError(&quot;Unsupported platform&quot;)</span><br></pre></td></tr></table></figure>

<p>Although not strictly required, it is very useful to tell ctypes the signature of the functions we&#x2019;ll use. That way, we&#x2019;ll get exceptions if we mix invalid types. For example</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&#x590D;&#x5236;&#x4EE3;&#x7801;# Set up sysconf</span><br><span class="line">sysconf = libc.sysconf</span><br><span class="line">sysconf.argtypes = [ctypes.c_int]</span><br><span class="line">sysconf.restype = ctypes.c_long</span><br></pre></td></tr></table></figure>

<p>tells ctypes that <code>sysconf</code> is a function that takes a single integer and produces a long integer. After this, we can get the current page size with</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#x590D;&#x5236;&#x4EE3;&#x7801;pagesize = sysconf(_SC_PAGESIZE)</span><br></pre></td></tr></table></figure>

<p>The machine code we are going to generate will be interpreted as unsigned 8-bit bytes, so we need to declare a new pointer type:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&#x590D;&#x5236;&#x4EE3;&#x7801;# 8-bit unsigned pointer type</span><br><span class="line">c_uint8_p = ctypes.POINTER(ctypes.c_uint8)</span><br></pre></td></tr></table></figure>

<p>Below we just dish out the remaining signatures for the functions that we&#x2019;ll use. For error reporting, it&#x2019;s good to have the <code>strerror</code> function available. We&#x2019;ll use <code>munmap</code> to destroy the machine code block after we&#x2019;re done<br> with it. It lets the operating system reclaim that memory.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">&#x590D;&#x5236;&#x4EE3;&#x7801;strerror = libc.strerror</span><br><span class="line">strerror.argtypes = [ctypes.c_int]</span><br><span class="line">strerror.restype = ctypes.c_char_p</span><br><span class="line"></span><br><span class="line">mmap = libc.mmap</span><br><span class="line">mmap.argtypes = [ctypes.c_void_p,</span><br><span class="line">                 ctypes.c_size_t,</span><br><span class="line">                 ctypes.c_int,</span><br><span class="line">                 ctypes.c_int,</span><br><span class="line">                 ctypes.c_int,</span><br><span class="line">                 # Below is actually off_t, which is 64-bit on macOS</span><br><span class="line">                 ctypes.c_int64]</span><br><span class="line">mmap.restype = c_uint8_p</span><br><span class="line"></span><br><span class="line">munmap = libc.munmap</span><br><span class="line">munmap.argtypes = [ctypes.c_void_p, ctypes.c_size_t]</span><br><span class="line">munmap.restype = ctypes.c_int</span><br><span class="line"></span><br><span class="line">mprotect = libc.mprotect</span><br><span class="line">mprotect.argtypes = [ctypes.c_void_p, ctypes.c_size_t, ctypes.c_int]</span><br><span class="line">mprotect.restype = ctypes.c_int</span><br></pre></td></tr></table></figure>

<p>At this point, it&#x2019;s hard to justify using Python rather than C. With C, we don&#x2019;t need any of the above boiler-plate code. But down the line, Python will allow us to experiment much more easily.</p>
<p>Now we&#x2019;re ready to write the <code>mmap</code> wrapper.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&#x590D;&#x5236;&#x4EE3;&#x7801;def create_block(size):</span><br><span class="line">    ptr = mmap(0, size, PROT_WRITE | PROT_READ,</span><br><span class="line">            MAP_PRIVATE | MAP_ANONYMOUS, 0, 0)</span><br><span class="line"></span><br><span class="line">    if ptr == MAP_FAILED:</span><br><span class="line">        raise RuntimeError(strerror(ctypes.get_errno()))</span><br><span class="line"></span><br><span class="line">    return ptr</span><br></pre></td></tr></table></figure>

<p>This function uses <code>mmap</code> to allocate page-aligned memory for us. We mark the memory region as readable and writable with the <code>PROT</code> flags, and we also mark it as private and anonymous. The latter means the memory will not be<br> visible from other processes and that it will not be file-backed. The Linux <code>mmap</code> manual page covers the details (but be sure to view the man page for your system). If the <code>mmap</code> call fails, we raise it as a Python error.</p>
<p>To mark memory as executable,</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&#x590D;&#x5236;&#x4EE3;&#x7801;def make_executable(block, size):</span><br><span class="line">    if mprotect(block, size, PROT_READ | PROT_EXEC) != 0:</span><br><span class="line">        raise RuntimeError(strerror(ctypes.get_errno()))</span><br></pre></td></tr></table></figure>

<p>With this <code>mprotect</code> call, we mark the region as readable and executable. If we wanted to, we could have made it writable as well, but some systems will refuse to execute writable memory. This is sometimes called <a href="/external_links/662d3a5a0c74507474ada8b18a5e0ec2.html" target="blank" rel="noopener">the W^X security<br>feature</a>.</p>
<p>To destroy the memory block, we&#x2019;ll use</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&#x590D;&#x5236;&#x4EE3;&#x7801;def destroy_block(block, size):</span><br><span class="line">    if munmap(block, size) == -1:</span><br><span class="line">        raise RuntimeError(strerror(ctypes.get_errno()))</span><br></pre></td></tr></table></figure>

<p>I edited out a badly placed <code>del</code> in that function after the HN submission.</p>
<h2 id="The-fun-part"><a href="#The-fun-part" class="headerlink" title="The fun part"></a>The fun part</h2><p>Now we&#x2019;re finally ready to create an insanely simple piece of JIT code!</p>
<p>Recall the assembly listing at the top: It&#x2019;s a small function &#x2014; without a local stack frame &#x2014; that multiplies an input number with a constant. In Python, we&#x2019;d write that as</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&#x590D;&#x5236;&#x4EE3;&#x7801;def create_multiplication_function(constant):</span><br><span class="line">    return lambda n: n * constant</span><br></pre></td></tr></table></figure>

<p>This is indeed a contrived example, but qualifies as JIT. After all, we do create native code at runtime and execute it. It&#x2019;s easy to imagine more advanced examples such as JIT-compiling <a href="/external_links/2b9d12dacb9cd0f268b34d80c8c95112.html" target="blank" rel="noopener">Brainfuck</a> to x86-64 machine code. Or using <a href="/external_links/7b6824a6bf0176871bb4b4fbd97d678a.html" target="blank" rel="noopener">AVX</a> instructions for blazing fast, vectorized math ops.</p>
<p>The disassembly at the top of this post was actually generated by compiling and disassembling the following C code:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&#x590D;&#x5236;&#x4EE3;&#x7801;#include &lt;stdint.h&gt;</span><br><span class="line"></span><br><span class="line">uint64_t multiply(uint64_t n)</span><br><span class="line">{</span><br><span class="line">  return n*0xdeadbeefedULL;</span><br><span class="line">}</span><br></pre></td></tr></table></figure>

<p>If you want to compile it yourself, use something like</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&#x590D;&#x5236;&#x4EE3;&#x7801;$ gcc -Os -fPIC -shared -fomit-frame-pointer \</span><br><span class="line">    -march=native multiply.c -olibmultiply.so</span><br></pre></td></tr></table></figure>

<p>Here I optimized for space (<code>-Os</code>) to generate as little machine code as possible, with position-independent code (<code>-fPIC</code>) to prevent using absolute jumps, without any frame pointers (<code>-fomit-frame-pointer</code>) to remove<br> superfluous stack setup code (but it may be required for more advanced functions) and using the current CPU&#x2019;s native instruction set (<code>-march=native</code>).</p>
<p>We could have passed <code>-S</code> to produce a disassembly listing, but we&#x2019;re actually interested in the <em>machine code</em>, so we&#x2019;ll rather use a tool like <code>objdump</code>:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&#x590D;&#x5236;&#x4EE3;&#x7801;$ objdump -d libmultiply.so</span><br><span class="line">...</span><br><span class="line">0000000000000f71 &lt;_multiply&gt;:</span><br><span class="line"> f71:   48 b8 ed ef be ad de    movabs $0xdeadbeefed,%rax</span><br><span class="line"> f78:   00 00 00 </span><br><span class="line"> f7b:   48 0f af c7             imul   %rdi,%rax</span><br><span class="line"> f7f:   c3                      retq</span><br></pre></td></tr></table></figure>

<p>In case you are not familiar with assembly, I&#x2019;ll let you know how this function works. First, the <code>movabs</code> function just puts an <em>immediate</em> number in the RAX register. <em>Immediate</em> is assembly-jargon for encoding something<br> right in the machine code. In other words, it&#x2019;s an embedded argument for the <code>movabs</code> instruction. So RAX now holds the constant <code>0xdeadbeefed</code>.</p>
<p>Also &#x2014; by <a href="/external_links/badbab7676cc87f7a6a00d7ae6a2f4dc.html" target="blank" rel="noopener">AMD64</a> convention &#x2014; the first integer argument will be in RDI, and the return value in RAX. So RDI will hold the number to multiply with. That&#x2019;s<br> what <code>imul</code> does. It multiplies RAX and RDI and puts the result in RAX. Finally, we pop a 64-bit return address off the stack and jump to it with RETQ. At this level, it&#x2019;s easy to imagine how one could implement <a href="/external_links/c87af94e19fd6b8c4ca36f3f39f99380.html" target="blank" rel="noopener">continuation-passing style</a>.</p>
<p>Note that the constant <code>0xdeadbeefed</code> is in little-endian format. We need to remember to do the same when we patch the code. (By the way, a good mnemonic for remembering the word order is that little endian means &#x201C;little-end first&#x201D;).</p>
<p>We are now ready to put everything in a Python function.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">&#x590D;&#x5236;&#x4EE3;&#x7801;def make_multiplier(block, multiplier):</span><br><span class="line">    # Encoding of: movabs &lt;multiplier&gt;, rax</span><br><span class="line">    block[0] = 0x48</span><br><span class="line">    block[1] = 0xb8</span><br><span class="line"></span><br><span class="line">    # Little-endian encoding of multiplication constant</span><br><span class="line">    block[2] = (multiplier &amp; 0x00000000000000ff) &gt;&gt;  0</span><br><span class="line">    block[3] = (multiplier &amp; 0x000000000000ff00) &gt;&gt;  8</span><br><span class="line">    block[4] = (multiplier &amp; 0x0000000000ff0000) &gt;&gt; 16</span><br><span class="line">    block[5] = (multiplier &amp; 0x00000000ff000000) &gt;&gt; 24</span><br><span class="line">    block[6] = (multiplier &amp; 0x000000ff00000000) &gt;&gt; 32</span><br><span class="line">    block[7] = (multiplier &amp; 0x0000ff0000000000) &gt;&gt; 40</span><br><span class="line">    block[8] = (multiplier &amp; 0x00ff000000000000) &gt;&gt; 48</span><br><span class="line">    block[9] = (multiplier &amp; 0xff00000000000000) &gt;&gt; 56</span><br><span class="line"></span><br><span class="line">    # Encoding of: imul rdi, rax</span><br><span class="line">    block[10] = 0x48</span><br><span class="line">    block[11] = 0x0f</span><br><span class="line">    block[12] = 0xaf</span><br><span class="line">    block[13] = 0xc7</span><br><span class="line"></span><br><span class="line">    # Encoding of: retq</span><br><span class="line">    block[14] = 0xc3</span><br><span class="line"></span><br><span class="line">    # Return a ctypes function with the right prototype</span><br><span class="line">    function = ctypes.CFUNCTYPE(ctypes.c_uint64)</span><br><span class="line">    function.restype = ctypes.c_uint64</span><br><span class="line">    return function</span><br></pre></td></tr></table></figure>

<p>At the bottom, we return the ctypes function signature to be used with this code. It&#x2019;s somewhat arbitrarily placed, but I thought it was good to keep the signature close to the machine code.</p>
<h2 id="The-final-part"><a href="#The-final-part" class="headerlink" title="The final part"></a>The final part</h2><p>Now that we have the basic parts we can weave everything together. The first part is to allocate one page of memory:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&#x590D;&#x5236;&#x4EE3;&#x7801;pagesize = sysconf(_SC_PAGESIZE)</span><br><span class="line">block = create_block(pagesize)</span><br></pre></td></tr></table></figure>

<p>Next, we generate the machine code. Let&#x2019;s pick the number 101 to use as a multiplier.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#x590D;&#x5236;&#x4EE3;&#x7801;mul101_signature = make_multiplier(block, 101)</span><br></pre></td></tr></table></figure>

<p>We now mark the memory region as executable and read-only:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#x590D;&#x5236;&#x4EE3;&#x7801;make_executable(block, pagesize)</span><br></pre></td></tr></table></figure>

<p>Take the address of the first byte in the memory block and cast it to a callable ctypes function with proper signature:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&#x590D;&#x5236;&#x4EE3;&#x7801;address = ctypes.cast(block, ctypes.c_void_p).value</span><br><span class="line">mul101 = mul101_signature(address)</span><br></pre></td></tr></table></figure>

<p>To get the memory address of the block, we use ctypes to cast it to a void pointer and extract its value. Finally, we instantiate an actual function from this address using the <code>mul101_signature</code> constructor.</p>
<p>Voila! We now have a piece of <em>native</em> code that we can call from Python. If you&#x2019;re in a REPL, you can try it directly:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&#x590D;&#x5236;&#x4EE3;&#x7801;&gt;&gt;&gt; print(mul101(8))</span><br><span class="line">808</span><br></pre></td></tr></table></figure>

<p>Note that this small multiplication function will run slower than a native Python calculation. That&#x2019;s mainly because ctypes, being a foreign-function library, has a lot of overhead: It needs to inspect what dynamic types you pass the function every<br> time you call it, then unbox them, convert them and then do the same with the return value. So the trick is to either use assembly because you have to access some new Intel instruction, or because you compile something like Brainfuck to native<br> code.</p>
<p>Finally, if you want to, you can let the system reclaim the memory holding the function. Beware that after this, you will probably crash the process if you try calling the code again. So probably best to delete all references in Python as well:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&#x590D;&#x5236;&#x4EE3;&#x7801;destroy_block(block, pagesize)</span><br><span class="line"></span><br><span class="line">del block</span><br><span class="line">del mul101</span><br></pre></td></tr></table></figure>

<p>If you run the code in its complete form from the <a href="/external_links/42bd54e155e7b9e1b23d77c0f570dd8b.html" target="blank" rel="noopener">GitHub</a> repository, you can put the multiplication constant on the command line:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">&#x590D;&#x5236;&#x4EE3;&#x7801;$ python mj.py 101</span><br><span class="line">Pagesize: 4096</span><br><span class="line">Allocating one page of memory</span><br><span class="line">JIT-compiling a native mul-function w/arg 101</span><br><span class="line">Making function block executable</span><br><span class="line">Testing function</span><br><span class="line">OK   mul(0) = 0</span><br><span class="line">OK   mul(1) = 101</span><br><span class="line">OK   mul(2) = 202</span><br><span class="line">OK   mul(3) = 303</span><br><span class="line">OK   mul(4) = 404</span><br><span class="line">OK   mul(5) = 505</span><br><span class="line">OK   mul(6) = 606</span><br><span class="line">OK   mul(7) = 707</span><br><span class="line">OK   mul(8) = 808</span><br><span class="line">OK   mul(9) = 909</span><br><span class="line">Deallocating function</span><br></pre></td></tr></table></figure>

<h2 id="Debugging-JIT-code"><a href="#Debugging-JIT-code" class="headerlink" title="Debugging JIT-code"></a>Debugging JIT-code</h2><p>If you want to continue learning with this simple program, you&#x2019;ll quickly want to disassemble the machine code you generate. One option is to simply use gdb or lldb, but you need to know where to break. One trick is to just print the hex value of<br> the <code>block</code> address and then wait for a keystroke:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&#x590D;&#x5236;&#x4EE3;&#x7801;print(&quot;address: 0x%x&quot; % address)</span><br><span class="line">print(&quot;Press ENTER to continue&quot;)</span><br><span class="line">raw_input()</span><br></pre></td></tr></table></figure>

<p>Then you just run the program in the debugger, break into the debugger while the program is pausing, and disassemble the memory location. Of course you can also step-debug through the assembly code if you want to see what&#x2019;s going on. Here&#x2019;s an example<br> lldb session:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&#x590D;&#x5236;&#x4EE3;&#x7801;$ lldb python</span><br><span class="line">...</span><br><span class="line">(lldb) run mj.py 101</span><br><span class="line">...</span><br><span class="line">(lldb) c</span><br><span class="line">Process 19329 resuming</span><br><span class="line">...</span><br><span class="line">address 0x1002fd000</span><br><span class="line">Press ENTER to continue</span><br></pre></td></tr></table></figure>

<p>At this point, hit CTRL+C to break back into the debugger, then disassemble from the memory location:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&#x590D;&#x5236;&#x4EE3;&#x7801;(lldb) x/3i 0x1002fd000</span><br><span class="line">    0x1002fd000: 48 b8 65 00 00 00 00 00 00 00  movabsq $0x65, %rax</span><br><span class="line">    0x1002fd00a: 48 0f af c7                    imulq  %rdi, %rax</span><br><span class="line">    0x1002fd00e: c3                             retq</span><br></pre></td></tr></table></figure>

<p>Notice that 65 hex is 101 in decimal, which was the command line argument we passed above.</p>
<p>If you only want a disassembler inside Python, I recommend the <a href="/external_links/45af3727c485bb9e0223eaccbf935eac.html" target="blank" rel="noopener">Capstone</a> module.</p>
<h2 id="What&#x2019;s-next"><a href="#What&#x2019;s-next" class="headerlink" title="What&#x2019;s next?"></a>What&#x2019;s next?</h2><p>A good exercise would be to JIT-compile <a href="/external_links/2b9d12dacb9cd0f268b34d80c8c95112.html" target="blank" rel="noopener">Brainfuck programs</a> to native code. If you want to jump right in, I&#x2019;ve made a GitHub repository at <a href="/external_links/1f3162b4ca0ad6935e46294c80342ee6.html" target="blank" rel="noopener">github.com/cslarsen/br&#x2026;</a>.<br> I even have a <a href="/external_links/c2f05cac72322b025003f9131dc9c3ef.html" target="blank" rel="noopener">Speaker Deck presentation</a> to go with it. It performs JIT-ing and optimizations, but uses GNU Lightning to compile native code instead of this approach.<br> It should be extremely simple to boot out GNU Lightning in favor or some code generation of your own. An interesting note on the Brainfuck project is that if you just JIT-compile each Brainfuck instruction one-by-one, you won&#x2019;t get much of a speed<br> boost, even if you run native code. The entire speed boost is done in the <em>code optimization</em> stage, where you can bulk up integer operations into one or a few x86 instructions. Another candidate for such compilation would be the <a href="/external_links/411c348527586f1b456569516f89da29.html" target="blank" rel="noopener">Forth language</a>.</p>
<p>Also, before you get serious about expanding this JIT-compiler, take a look at the <a href="/external_links/74eee1d4c4dd73d283cea5e06c0dc4a8.html" target="blank" rel="noopener">PeachPy project</a>. It goes way beyond this and includes a disassembler and supports seemingly the entire x86-64 instruction<br> set right up to <a href="/external_links/7b6824a6bf0176871bb4b4fbd97d678a.html" target="blank" rel="noopener">AVX</a>.</p>
<p>As mentioned, there is a good deal of overhad when using ctypes to call into functions. You can use the <code>cffi</code> module to overcome some of this, but the fact remains that if you want to call very small JIT-ed functions a large number of<br> times, it&#x2019;s usually faster to just use pure Python.</p>
<p>What other cool uses are there? I&#x2019;ve seen some math libraries in Python that switch to vector operations for higher performance. But I can imagine other fun things as well. For example, tools to compress and decompress native code, access virtualization<br> primitives, sign code and so on. I do know that some <a href="/external_links/60cc7d9fd19e5e86e95e5324eeea3d8d.html" target="blank" rel="noopener">BPF</a> tools and regex modules JIT-compile queries for faster processing.</p>
<p>What I think is fun about this exercise is to get into deeper territory than pure assembly. One thing that comes to mind is how different instructions are disassembled to the same mnemonic. For example, the RETQ instruction has a different opcode<br> than an ordinary RET, because it operates on 64-bit values. This is something that may not be important when doing assembly programming, because it&#x2019;s a detail that may not always matter, but it&#x2019;s worth being aware of the difference. I saw that<br> gcc, lldb and objdump gave slightly different disassembly listings of the same code for RETQ and MOVABSQ.</p>
<p>There&#x2019;s another takeaway. I&#x2019;ve mentioned that the native Brainfuck compiler I made didn&#x2019;t initially produce very fast code. I had to optimize to get it fast. So things won&#x2019;t go fast just because you use AVX, Cuda or whatever. The cold truth is that<br> gcc contains a vast database of optimizations that you cannot possibly replicate by hand. Felix von Letiner has a <a href="/external_links/4be5532bae9038944adff92897608911.html" target="blank" rel="noopener">classic talk about source<br>code optimization</a> that I recommend for more on this.</p>
<h2 id="What-about-actual-compilation"><a href="#What-about-actual-compilation" class="headerlink" title="What about actual compilation?"></a>What about actual compilation?</h2><p>A few people <a href="/external_links/35de7543df56561e3a274cf3069e5edd.html" target="blank" rel="noopener">commented</a> that they had expected to see more about the actual compilation step. Fair point. As it stands, this is indeed a <em>very</em> restricted form of compilation, where<br> we barely do anything with the code at runtime &#x2014; we just patch in a constant. I <em>may</em> write a follow-up post that focuses solely on the compilation stage. Stay tuned!</p>
<p><strong>&#x672C;&#x6587;&#x8F6C;&#x8F7D;&#x81EA;:</strong> <a href="/external_links/9fcd0f116b2c6f0c706e92d385aaabaa.html" target="blank" rel="noopener">&#x6398;&#x91D1;</a></p>
<p><em><a href="https://dev.newban.cn/">&#x5F00;&#x53D1;&#x8005;&#x535A;&#x5BA2; &#x2013; &#x548C;&#x5F00;&#x53D1;&#x76F8;&#x5173;&#x7684; &#x8FD9;&#x91CC;&#x5168;&#x90FD;&#x6709;</a></em></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://dev.newban.cn../../6844903512036343816.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="开发者博客">
      <meta itemprop="description" content>
      <meta itemprop="image" content="../../images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="开发者博客 – IT技术 尽在开发者博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="../../6844903512036343816.html" itemprop="url">使用Python、Neo4j和GraphQL，爬取俄罗斯Tw</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-11-17T14:54:14+08:00">
                2017-11-17
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="Scraping-Russian-Twitter-Trolls-With-Python-Neo4j-and-GraphQL"><a href="#Scraping-Russian-Twitter-Trolls-With-Python-Neo4j-and-GraphQL" class="headerlink" title="Scraping Russian Twitter Trolls With Python, Neo4j, and GraphQL"></a>Scraping Russian Twitter Trolls With Python, Neo4j, and GraphQL</h1><p> 12 Nov 2017<br> <img src="https://gitee.com/songjianzaina/juejin_p4/raw/master/img/f16b3e3a987d2088ebd7a86a648c415b164dd354b87f0d0397b0d1edfb7604b6" alt></p>
<p>Last week as a result of the House Intelligence Select Committee investigation, Twitter released the screen names of <a href="/external_links/0a09dff5f75609b82709588f7cc074a3.html" target="blank" rel="noopener">2752 Twitter accounts</a> tied to <a href="/external_links/7cafe0578b143ea76f08710c1c077bb2.html" target="blank" rel="noopener">Russia&#x2019;s Internet Research Agency</a> that were involved in spreading fake news, presumably with the goal of influencing the 2016 election. In this post we explore how to scrape tweets from the user pages of cached versions of these pages, import into Neo4j for analysis, and how to<br> build a simple GraphQL API exposing this data through GraphQL.</p>
<h1 id="Russian-Twitter-Trolls"><a href="#Russian-Twitter-Trolls" class="headerlink" title="Russian Twitter Trolls"></a>Russian Twitter Trolls</h1><p>While Twitter released the screen names and user ids of these accounts, they did not release any data (such as tweets or follower network information) associated with the accounts. In fact, Twitter has suspended these accounts which means their tweets<br> have been removed from Twitter.com and are no longer accessible through the Twitter API. Analyzing the tweets made by these accounts is the first step in understanding how social media accounts run by Russia may have been used to influence the<br> US Election. So our first step is simply to find potential sources for the data.</p>
<h1 id="Internet-Archive"><a href="#Internet-Archive" class="headerlink" title="Internet Archive"></a>Internet Archive</h1><p><a href="/external_links/8db2ad377756ccb2736884314f23c288.html" target="blank" rel="noopener">Internet Archive</a> is a non-profit library that provides cached version of some websites: a snapshot of a webpage at a given point in time that can be viewed later. One option for obtaining some of the Russian Troll<br> tweets is by using Internet Archive to find any Twitter user pages that may have been cached by Internet Archive.</p>
<p>For example, if you visit <a href="/external_links/9d7db5f135b6f3877243c23ce6e74256.html" target="blank" rel="noopener">web.archive.org/web/2017081&#x2026;</a> we can see the Twitter page for @TEN_GOP, one of the Russia Troll accounts<br> that was designed to look like an account associated with the Tennessee Republican party.</p>
<p><img src="https://gitee.com/songjianzaina/juejin_p4/raw/master/img/f645765ee732d37f61f572030e5ba9f1f901b789350e1c4e7c1966125f969f4b" alt></p>
<p>This snapshot page contains several of @TEN_GOP&#x2019;s most recent tweets (before the snapshot was taken by Internet Archive).</p>
<h2 id="Finding-Available-Cached-Pages"><a href="#Finding-Available-Cached-Pages" class="headerlink" title="Finding Available Cached Pages"></a>Finding Available Cached Pages</h2><p>Using the screen names provided by the House Intelligence Committee we can use Internet Archive&#x2019;s Wayback API to see if the user&#x2019;s Twitter profile page was cached by Internet Archive at any point in time. We&#x2019;ll write a simple Python script to iterate<br> through the list of Russian Troll twitter accounts, checking the Wayback API for any available cached pages.</p>
<p>We can do this by making a request to <code>http://archive.org/wayback/available?url=http://twitter.com/TWITTER_SCREEN_NAME_HERE</code>. This will return the url and timestamp of any caches made, if they exist. So we iterate through the list of twitter<br> screen names, checking the Wayback API for any available caches.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">&#x590D;&#x5236;&#x4EE3;&#x7801;import requests</span><br><span class="line">items = []</span><br><span class="line">initial = &quot;http://archive.org/wayback/available&quot;</span><br><span class="line"># iterate through list of flagged twitter screen names</span><br><span class="line">with open(&apos;./data/twitter_handle_urls.csv&apos;) as f:</span><br><span class="line">    for line in f:</span><br><span class="line">        params = {&apos;url&apos;: line}</span><br><span class="line">        r = requests.get(initial, params=params)</span><br><span class="line">        d = r.json()</span><br><span class="line">        #print(d)</span><br><span class="line">        items.append(d)</span><br><span class="line"># write URL of any available archives to file</span><br><span class="line">with open(&apos;./data/avail_urls.txt&apos;, &apos;w&apos;) as f:</span><br><span class="line">    for item in items:</span><br><span class="line">        if &apos;archived_snapshots&apos; in item:</span><br><span class="line">            if &apos;closest&apos; in item[&apos;archived_snapshots&apos;]:</span><br><span class="line">                f.write(item[&apos;archived_snapshots&apos;][&apos;closest&apos;][&apos;url&apos;] + &apos;\n&apos;)</span><br></pre></td></tr></table></figure>

<p>With this, we end up with a file <code>twitter_handle_urls.csv</code> that contains a list of Internet Archive urls for any of the Russian troll accounts that were archived by Internet Archive. Unfortunately, we only find just over 100 Russia Troll<br> accounts that were cached by Internet Archive. This is just a tiny sample of the overall accounts, but we should still be able to scrape tweets for these 100 users.</p>
<h2 id="Scraping-Twitter-Profile-Pages"><a href="#Scraping-Twitter-Profile-Pages" class="headerlink" title="Scraping Twitter Profile Pages"></a>Scraping Twitter Profile Pages</h2><p>Now, we&#x2019;re ready to scrape the HTML from the Internet Archive caches to extract all the tweet content that we can.</p>
<p>We&#x2019;ll make use of the <code>BeautifulSoup</code> Python package to help us extract the tweet data from the HTML. First, we&#x2019;ll use Chrome devtools to inspect the structure of the HTML, seeing what elements contain the data we&#x2019;re looking for:</p>
<p><img src="https://gitee.com/songjianzaina/juejin_p4/raw/master/img/8737f5b99decfa1e499c6a3aaa33d34f7adae721710a4e8a799fba7797d2bf5f" alt></p>
<p>Since the caches were taken at different times, the structure of the HTML may have changed. We&#x2019;ll need to write code that can handle parsing these different formats. We&#x2019;ve found two versions of the Twitter user pages in the caches. One from ~2015,<br> and one used around ~2016-2017.</p>
<p>Here is the code for scraping the data for one of the versions. The full code is available <a href="/external_links/10679067be3728726cc09aa18f62d183.html" target="blank" rel="noopener">here.</a></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line">&#x590D;&#x5236;&#x4EE3;&#x7801;import urllib</span><br><span class="line">from bs4 import BeautifulSoup</span><br><span class="line">import csv</span><br><span class="line">import requests</span><br><span class="line"></span><br><span class="line"># testing for new version</span><br><span class="line"></span><br><span class="line">url = &quot;http://web.archive.org/web/20150603004258/https://twitter.com/AlwaysHungryBae&quot;</span><br><span class="line">page = requests.get(url).text</span><br><span class="line">soup = BeautifulSoup(page, &apos;html.parser&apos;)</span><br><span class="line"></span><br><span class="line">tweets = soup.find_all(&apos;li&apos;, attrs={&apos;data-item-type&apos;: &apos;tweet&apos;})</span><br><span class="line"></span><br><span class="line">for t in tweets:</span><br><span class="line">    tweet_obj = {}</span><br><span class="line">    tweet_obj[&apos;tweet_id&apos;] = t.get(&quot;data-item-id&quot;)</span><br><span class="line">    tweet_container = t.find(&apos;div&apos;, attrs={&apos;class&apos;: &apos;tweet&apos;})</span><br><span class="line">    tweet_obj[&apos;screen_name&apos;] = tweet_container.get(&apos;data-screen-name&apos;)</span><br><span class="line">    tweet_obj[&apos;permalink&apos;] = tweet_container.get(&apos;data-permalink-path&apos;)</span><br><span class="line">    tweet_content = tweet_container.find(&apos;p&apos;, attrs={&apos;class&apos;: &apos;tweet-text&apos;})</span><br><span class="line">    tweet_obj[&apos;tweet_text&apos;] = tweet_content.text</span><br><span class="line">    tweet_obj[&apos;user_id&apos;] = tweet_container.get(&apos;data-user-id&apos;)</span><br><span class="line"></span><br><span class="line">    tweet_time = tweet_container.find(&apos;span&apos;, attrs={&apos;class&apos;: &apos;_timestamp&apos;})</span><br><span class="line">    tweet_obj[&apos;timestamp&apos;] = tweet_time.get(&apos;data-time-ms&apos;)</span><br><span class="line"></span><br><span class="line">    hashtags = tweet_container.find_all(&apos;a&apos;, attrs={&apos;class&apos;: &apos;twitter-hashtag&apos;})</span><br><span class="line">    tweet_obj[&apos;hashtags&apos;] = []</span><br><span class="line">    tweet_obj[&apos;links&apos;] = []</span><br><span class="line"></span><br><span class="line">    for ht in hashtags:</span><br><span class="line">        ht_obj = {}</span><br><span class="line">        ht_obj[&apos;tag&apos;] = ht.find(&apos;b&apos;).text</span><br><span class="line">        ht_obj[&apos;archived_url&apos;] = ht.get(&apos;href&apos;)</span><br><span class="line">        tweet_obj[&apos;hashtags&apos;].append(ht_obj)</span><br><span class="line"></span><br><span class="line">    links = tweet_container.find_all(&apos;a&apos;, attrs={&apos;class&apos;: &apos;twitter-timeline-link&apos;})</span><br><span class="line">    for li in links:</span><br><span class="line">        li_obj = {}</span><br><span class="line">        if li.get(&apos;data-expanded-url&apos;):</span><br><span class="line">            li_obj[&apos;url&apos;] = li.get(&apos;data-expanded-url&apos;)</span><br><span class="line">        elif li.get(&apos;data-resolved-url-large&apos;):</span><br><span class="line">            li_obj[&apos;url&apos;] = li.get(&apos;data-resolved-url-large&apos;)</span><br><span class="line">        else:</span><br><span class="line">            li_obj[&apos;url&apos;] = li.text</span><br><span class="line">        li_obj[&apos;archived_url&apos;] = li.get(&apos;href&apos;)</span><br><span class="line">        tweet_obj[&apos;links&apos;].append(li_obj)</span><br><span class="line"></span><br><span class="line">    print(tweet_obj)</span><br></pre></td></tr></table></figure>

<p>BeautifulSoup allows us to select HTML elements by specifying attributes to match against. By inspecting the structure of the HTML page we can see which bits of the tweets are stored in different HTML elements so we know which to grab with BeautifulSoup.<br> We build up an array of tweet objects as we parse all the tweets on the page.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">&#x590D;&#x5236;&#x4EE3;&#x7801;</span><br><span class="line">{</span><br><span class="line">  &apos;tweet_id&apos;: &apos;561931644785811457&apos;,</span><br><span class="line">  &apos;screen_name&apos;: &apos;AlwaysHungryBae&apos;,</span><br><span class="line">  &apos;permalink&apos;: &apos;/AlwaysHungryBae/status/561931644785811457&apos;,</span><br><span class="line">   &apos;tweet_text&apos;: &apos;Happy Super Bowl Sunday \n#superbowlfood pic.twitter.com/s6rwMtdLom&apos;,</span><br><span class="line">   &apos;user_id&apos;: &apos;2882130846&apos;,</span><br><span class="line">   &apos;timestamp&apos;: &apos;1422809918000&apos;,</span><br><span class="line">   &apos;hashtags&apos;: [</span><br><span class="line">     {&apos;tag&apos;: &apos;superbowlfood&apos;,</span><br><span class="line">      &apos;archived_url&apos;: &apos;/web/20150603004258/https://twitter.com/hashtag/superbowlfood?src=hash&apos;</span><br><span class="line">      }</span><br><span class="line">   ],</span><br><span class="line">   &apos;links&apos;: [</span><br><span class="line">     {&apos;url&apos;: &apos;pic.twitter.com/s6rwMtdLom&apos;,</span><br><span class="line">      &apos;archived_url&apos;: &apos;http://web.archive.org/web/20150603004258/http://t.co/s6rwMtdLom&apos;</span><br><span class="line">     },</span><br><span class="line">     {&apos;url&apos;: &apos;https://pbs.twimg.com/media/B8xh2fFCQAE-vxU.jpg:large&apos;, &apos;</span><br><span class="line">     archived_url&apos;: &apos;//web.archive.org/web/20150603004258/https://twitter.com/AlwaysHungryBae/status/561931644785811457/photo/1&apos;</span><br><span class="line">     }</span><br><span class="line">   ]</span><br><span class="line">}</span><br></pre></td></tr></table></figure>

<p>Once we&#x2019;ve extracted the tweets we write them to a json file:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&#x590D;&#x5236;&#x4EE3;&#x7801;# write tweets to file</span><br><span class="line">import json</span><br><span class="line">with open(&apos;./data/tweets_full.json&apos;, &apos;w&apos;) as f:</span><br><span class="line">    json.dump(tweet_arr, f, ensure_ascii=False, sort_keys=True, indent=4)</span><br></pre></td></tr></table></figure>

<p>We end up finding about 1500 tweets from 187 Twitter accounts. This is only a fraction of the tweets sent by the Russian Trolls, but is still too much data for us to analyze by reading every tweet. We&#x2019;ll make use of the Neo4j graph database to help<br> us make sense of the data. Using Neo4j we&#x2019;ll be able to ask questions such as &#x201C;What hashtags are used together most frequently?&#x201D;, or &#x201C;What are the domains of URLs shared in tweets that mention Trump?&#x201D;.</p>
<h1 id="Importing-Into-Neo4j"><a href="#Importing-Into-Neo4j" class="headerlink" title="Importing Into Neo4j"></a>Importing Into Neo4j</h1><p>Now that we have our scraped tweet data we&#x2019;re ready to insert into Neo4j. We have <a href="/external_links/933a93bfc14aec66502ebcd987365319.html" target="blank" rel="noopener">several options for importing data into Neo4j</a>. We&#x2019;ll do our import by loading the JSON data and<br> passing it as a parameter to a Cypher query, using the Python driver for Neo4j.</p>
<p>We&#x2019;ll use a simple graph data model, treating Hashtags and Links as nodes in the graph, as well as the Tweet and User who posted the tweet.</p>
<p><em>Datamodel</em></p>
<p><img src="https://gitee.com/songjianzaina/juejin_p4/raw/master/img/0835b6ce5c18215e2eca8ed64ca8e5741786219c53a0257a00972d74ffaea7f7" alt></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line">&#x590D;&#x5236;&#x4EE3;&#x7801;from neo4j.v1 import GraphDatabase</span><br><span class="line">import json</span><br><span class="line"></span><br><span class="line">driver = GraphDatabase.driver(&quot;bolt://localhost:7687&quot;)</span><br><span class="line">with open(&apos;./data/tweets_full.json&apos;) as json_data:</span><br><span class="line">    tweetArr = json.load(json_data)</span><br><span class="line"></span><br><span class="line">import_query = &apos;&apos;&apos;</span><br><span class="line">WITH $tweetArr AS tweets</span><br><span class="line">UNWIND tweets AS tweet</span><br><span class="line">MERGE (u:User {user_id: tweet.user_id})</span><br><span class="line">ON CREATE SET u.screen_name = tweet.screen_name</span><br><span class="line">MERGE (t:Tweet {tweet_id: tweet.tweet_id})</span><br><span class="line">ON CREATE SET t.text = tweet.tweet_text,</span><br><span class="line">              t.permalink = tweet.permalink</span><br><span class="line">MERGE (u)-[:POSTED]-&gt;(t)</span><br><span class="line"></span><br><span class="line">FOREACH (ht IN tweet.hashtags |</span><br><span class="line">  MERGE (h:Hashtag {tag: ht.tag })</span><br><span class="line">  ON CREATE SET h.archived_url = ht.archived_url</span><br><span class="line">  MERGE (t)-[:HAS_TAG]-&gt;(h)</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">FOREACH (link IN tweet.links |</span><br><span class="line">  MERGE (l:Link {url: link.url})</span><br><span class="line">  ON CREATE SET l.archived_url = link.archived_url</span><br><span class="line">  MERGE (t)-[:HAS_LINK]-&gt;(l)</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">&apos;&apos;&apos;</span><br><span class="line"></span><br><span class="line">def add_tweets(tx):</span><br><span class="line">    tx.run(import_query, tweetArr=tweetArr)</span><br><span class="line"></span><br><span class="line">with driver.session() as session:</span><br><span class="line">    session.write_transaction(add_tweets)</span><br></pre></td></tr></table></figure>

<h2 id="Graph-Queries"><a href="#Graph-Queries" class="headerlink" title="Graph Queries"></a>Graph Queries</h2><p>Now that we have the data in Neo4j we can write queries to help make sense of what the Russian Trolls were tweeting about.</p>
<p><em>Interesting Queries</em></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&#x590D;&#x5236;&#x4EE3;&#x7801;// Tweets for @TEN_GOP</span><br><span class="line">MATCH (u:User)-[:POSTED]-&gt;(t:Tweet)-[:HAS_TAG]-&gt;(h:Hashtag)</span><br><span class="line">WHERE u.screen_name = &quot;TEN_GOP&quot;</span><br><span class="line">OPTIONAL MATCH (t)-[:HAS_LINK]-&gt;(l:Link)</span><br><span class="line">RETURN *</span><br></pre></td></tr></table></figure>

<p><img src="https://gitee.com/songjianzaina/juejin_p4/raw/master/img/7aaa32edc57c456775db5a1100d55abe3b44cfdccdfa21b2eba7b4d484b3d18a" alt></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">&#x590D;&#x5236;&#x4EE3;&#x7801;// What are the most common hashtags</span><br><span class="line">MATCH (u:User)-[:POSTED]-&gt;(t:Tweet)-[:HAS_TAG]-&gt;(ht:Hashtag)</span><br><span class="line">RETURN ht.tag AS hashtag, COUNT(*) AS num</span><br><span class="line">ORDER BY num DESC LIMIT 10</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&#x2552;&#x2550;&#x2550;&#x2550;&#x2550;&#x2550;&#x2550;&#x2550;&#x2550;&#x2550;&#x2550;&#x2550;&#x2550;&#x2550;&#x2550;&#x2550;&#x2550;&#x2550;&#x2550;&#x2550;&#x2550;&#x2550;&#x2550;&#x2564;&#x2550;&#x2550;&#x2550;&#x2550;&#x2550;&#x2550;&#x2550;&#x2550;&#x2550;&#x2550;&#x2550;&#x2555;</span><br><span class="line">&#x2502;&quot;hashtag&quot;             &#x2502;&quot;num&quot;&#x2502;</span><br><span class="line">&#x255E;&#x2550;&#x2550;&#x2550;&#x2550;&#x2550;&#x2550;&#x2550;&#x2550;&#x2550;&#x2550;&#x2550;&#x2550;&#x2550;&#x2550;&#x2550;&#x2550;&#x2550;&#x2550;&#x2550;&#x2550;&#x2550;&#x2550;&#x256A;&#x2550;&#x2550;&#x2550;&#x2550;&#x2550;&#x2550;&#x2550;&#x2550;&#x2550;&#x2550;&#x2550;&#x2561;</span><br><span class="line">&#x2502;&quot;JugendmitMerkel&quot;     &#x2502;90         &#x2502;</span><br><span class="line">&#x251C;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x253C;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2524;</span><br><span class="line">&#x2502;&quot;TagderJugend&quot;        &#x2502;89         &#x2502;</span><br><span class="line">&#x251C;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x253C;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2524;</span><br><span class="line">&#x2502;&quot;politics&quot;            &#x2502;61         &#x2502;</span><br><span class="line">&#x251C;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x253C;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2524;</span><br><span class="line">&#x2502;&quot;news&quot;                &#x2502;30         &#x2502;</span><br><span class="line">&#x251C;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x253C;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2524;</span><br><span class="line">&#x2502;&quot;sports&quot;              &#x2502;28         &#x2502;</span><br><span class="line">&#x251C;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x253C;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2524;</span><br><span class="line">&#x2502;&quot;Merkel&quot;              &#x2502;26         &#x2502;</span><br><span class="line">&#x251C;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x253C;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2524;</span><br><span class="line">&#x2502;&quot;ColumbianChemicals&quot;  &#x2502;25         &#x2502;</span><br><span class="line">&#x251C;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x253C;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2524;</span><br><span class="line">&#x2502;&quot;WorldElephantDay&quot;    &#x2502;22         &#x2502;</span><br><span class="line">&#x251C;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x253C;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2524;</span><br><span class="line">&#x2502;&quot;crime&quot;               &#x2502;21         &#x2502;</span><br><span class="line">&#x251C;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x253C;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2524;</span><br><span class="line">&#x2502;&quot;UnitedStatesIn3Words&quot;&#x2502;21         &#x2502;</span><br><span class="line">&#x2514;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2534;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2518;</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">&#x590D;&#x5236;&#x4EE3;&#x7801;// What hashtags are used together most frequently</span><br><span class="line">MATCH (h1:Hashtag)&lt;-[:HAS_TAG]-(t:Tweet)-[:HAS_TAG]-&gt;(h2:Hashtag)</span><br><span class="line">WHERE id(h1) &lt; id(h2)</span><br><span class="line">RETURN h1.tag, h2.tag, COUNT(*) AS num ORDER BY num DESC LIMIT 15</span><br><span class="line"></span><br><span class="line">&#x2552;&#x2550;&#x2550;&#x2550;&#x2550;&#x2550;&#x2550;&#x2550;&#x2550;&#x2550;&#x2550;&#x2550;&#x2550;&#x2550;&#x2550;&#x2550;&#x2550;&#x2550;&#x2564;&#x2550;&#x2550;&#x2550;&#x2550;&#x2550;&#x2550;&#x2550;&#x2550;&#x2550;&#x2550;&#x2550;&#x2550;&#x2550;&#x2550;&#x2550;&#x2550;&#x2550;&#x2550;&#x2564;&#x2550;&#x2550;&#x2550;&#x2550;&#x2550;&#x2555;</span><br><span class="line">&#x2502;&quot;h1.tag&quot;         &#x2502;&quot;h2.tag&quot;          &#x2502;&quot;num&quot;&#x2502;</span><br><span class="line">&#x255E;&#x2550;&#x2550;&#x2550;&#x2550;&#x2550;&#x2550;&#x2550;&#x2550;&#x2550;&#x2550;&#x2550;&#x2550;&#x2550;&#x2550;&#x2550;&#x2550;&#x2550;&#x256A;&#x2550;&#x2550;&#x2550;&#x2550;&#x2550;&#x2550;&#x2550;&#x2550;&#x2550;&#x2550;&#x2550;&#x2550;&#x2550;&#x2550;&#x2550;&#x2550;&#x2550;&#x2550;&#x256A;&#x2550;&#x2550;&#x2550;&#x2550;&#x2550;&#x2561;</span><br><span class="line">&#x2502;&quot;JugendmitMerkel&quot;&#x2502;&quot;TagderJugend&quot;    &#x2502;89   &#x2502;</span><br><span class="line">&#x251C;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x253C;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x253C;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2524;</span><br><span class="line">&#x2502;&quot;TagderJugend&quot;   &#x2502;&quot;WorldElephantDay&quot;&#x2502;22   &#x2502;</span><br><span class="line">&#x251C;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x253C;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x253C;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2524;</span><br><span class="line">&#x2502;&quot;JugendmitMerkel&quot;&#x2502;&quot;WorldElephantDay&quot;&#x2502;22   &#x2502;</span><br><span class="line">&#x251C;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x253C;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x253C;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2524;</span><br><span class="line">&#x2502;&quot;JugendmitMerkel&quot;&#x2502;&quot;Dschungelk&#xF6;nig&quot;  &#x2502;21   &#x2502;</span><br><span class="line">&#x251C;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x253C;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x253C;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2524;</span><br><span class="line">&#x2502;&quot;TagderJugend&quot;   &#x2502;&quot;Dschungelk&#xF6;nig&quot;  &#x2502;21   &#x2502;</span><br><span class="line">&#x251C;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x253C;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x253C;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2524;</span><br><span class="line">&#x2502;&quot;Merkel&quot;         &#x2502;&quot;JugendmitMerkel&quot; &#x2502;17   &#x2502;</span><br><span class="line">&#x251C;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x253C;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x253C;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2524;</span><br><span class="line">&#x2502;&quot;Merkel&quot;         &#x2502;&quot;TagderJugend&quot;    &#x2502;17   &#x2502;</span><br><span class="line">&#x251C;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x253C;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x253C;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2524;</span><br><span class="line">&#x2502;&quot;CDU&quot;            &#x2502;&quot;JugendmitMerkel&quot; &#x2502;12   &#x2502;</span><br><span class="line">&#x251C;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x253C;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x253C;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2524;</span><br><span class="line">&#x2502;&quot;CDU&quot;            &#x2502;&quot;TagderJugend&quot;    &#x2502;12   &#x2502;</span><br><span class="line">&#x251C;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x253C;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x253C;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2524;</span><br><span class="line">&#x2502;&quot;TagderJugend&quot;   &#x2502;&quot;Thailand&quot;        &#x2502;11   &#x2502;</span><br><span class="line">&#x2514;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2534;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2534;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2518;</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">&#x590D;&#x5236;&#x4EE3;&#x7801;// Most common domains shared in tweets</span><br><span class="line">MATCH (t:Tweet)-[:HAS_LINK]-&gt;(u:Link)</span><br><span class="line">WITH t, replace(replace(u.url, &quot;http://&quot;, &apos;&apos; ), &quot;https://&quot;, &apos;&apos;) AS url</span><br><span class="line">RETURN COUNT(t) AS num, head(split(url, &quot;/&quot;)) ORDER BY num DESC LIMIT 10</span><br><span class="line"></span><br><span class="line">&#x2552;&#x2550;&#x2550;&#x2550;&#x2550;&#x2550;&#x2564;&#x2550;&#x2550;&#x2550;&#x2550;&#x2550;&#x2550;&#x2550;&#x2550;&#x2550;&#x2550;&#x2550;&#x2550;&#x2550;&#x2550;&#x2550;&#x2550;&#x2550;&#x2550;&#x2550;&#x2550;&#x2550;&#x2550;&#x2550;&#x2550;&#x2550;&#x2555;</span><br><span class="line">&#x2502;&quot;num&quot;&#x2502;&quot;head(split(url, \&quot;/\&quot;))&quot;&#x2502;</span><br><span class="line">&#x255E;&#x2550;&#x2550;&#x2550;&#x2550;&#x2550;&#x256A;&#x2550;&#x2550;&#x2550;&#x2550;&#x2550;&#x2550;&#x2550;&#x2550;&#x2550;&#x2550;&#x2550;&#x2550;&#x2550;&#x2550;&#x2550;&#x2550;&#x2550;&#x2550;&#x2550;&#x2550;&#x2550;&#x2550;&#x2550;&#x2550;&#x2550;&#x2561;</span><br><span class="line">&#x2502;835  &#x2502;&quot;pic.twitter.com&quot;        &#x2502;</span><br><span class="line">&#x251C;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x253C;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2524;</span><br><span class="line">&#x2502;120  &#x2502;&quot;bit.ly&quot;                 &#x2502;</span><br><span class="line">&#x251C;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x253C;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2524;</span><br><span class="line">&#x2502;105  &#x2502;&quot;\n\n&quot;                   &#x2502;</span><br><span class="line">&#x251C;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x253C;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2524;</span><br><span class="line">&#x2502;100  &#x2502;&quot;pbs.twimg.com&quot;          &#x2502;</span><br><span class="line">&#x251C;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x253C;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2524;</span><br><span class="line">&#x2502;32   &#x2502;&quot;vk.com&quot;                 &#x2502;</span><br><span class="line">&#x251C;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x253C;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2524;</span><br><span class="line">&#x2502;21   &#x2502;&quot;riafan.ru&quot;              &#x2502;</span><br><span class="line">&#x251C;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x253C;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2524;</span><br><span class="line">&#x2502;21   &#x2502;&quot;inforeactor.ru&quot;         &#x2502;</span><br><span class="line">&#x251C;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x253C;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2524;</span><br><span class="line">&#x2502;20   &#x2502;&quot;nevnov.ru&quot;              &#x2502;</span><br><span class="line">&#x251C;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x253C;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2524;</span><br><span class="line">&#x2502;17   &#x2502;&quot;goodspb.livejournal.com&quot;&#x2502;</span><br><span class="line">&#x251C;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x253C;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2524;</span><br><span class="line">&#x2502;15   &#x2502;&quot;www.fox5atlanta.com&quot;    &#x2502;</span><br><span class="line">&#x2514;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2534;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2518;</span><br></pre></td></tr></table></figure>

<h1 id="GraphQL-API"><a href="#GraphQL-API" class="headerlink" title="GraphQL API"></a>GraphQL API</h1><p>In addition to querying Neo4j using Cypher directly, we can also take advantage of the <a href="/external_links/c768866399abde6ca078efa725bf25cc.html" target="blank" rel="noopener">neo4j-graphql</a> integrations to easily build a GraphQL API for our tweets.</p>
<p>First, we define a GraphQL schema</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line">&#x590D;&#x5236;&#x4EE3;&#x7801;type Tweet {</span><br><span class="line">    tweet_id: ID!</span><br><span class="line">    text: String</span><br><span class="line">    permalink: String</span><br><span class="line">    author: User @relation(name: &quot;POSTED&quot;, direction: &quot;IN&quot;)</span><br><span class="line">    hashtags: [Hashtag] @relation(name: &quot;HAS_TAG&quot;, direction: &quot;OUT&quot;)</span><br><span class="line">    links: [Link] @relation(name: &quot;HAS_LINK&quot;, direction: &quot;OUT&quot;)</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line">type User {</span><br><span class="line">    user_id: ID!</span><br><span class="line">    screen_name: String</span><br><span class="line">    tweets: [Tweet] @relation(name: &quot;POSTED&quot;, direction: &quot;OUT&quot;)</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line">type Hashtag {</span><br><span class="line">    tag: ID!</span><br><span class="line">    archived_url: String</span><br><span class="line">    tweets(first: Int): [Tweet] @relation(name: &quot;HAS_TAG&quot;, direction: &quot;IN&quot;)</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line">type Link {</span><br><span class="line">    url: ID!</span><br><span class="line">    archived_url: String</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">type Query {</span><br><span class="line">	Hashtag(tag: ID, first: Int, offset: Int): [Hashtag]</span><br><span class="line">}</span><br></pre></td></tr></table></figure>

<p>Our GraphQL schema defines the types and fields available in the data, as well as the entry points for our GraphQL service. In this case we have a single entry point <code>Hashtag</code>, allowing us to search for tweets by hashtag.</p>
<p>With the <a href="/external_links/2e8703934041d5596c9e321e0ba41dd4.html" target="blank" rel="noopener">neo4j-graphql-js</a> integration, the GraphQL schema maps to the graph database model and translates any arbitrary GraphQL query to Cypher, allowing anyone to query the data through<br> the GraphQL API without writing Cypher.</p>
<p>Implementing the GraphQL server is simply a matter of passing the GraphQL query to the integration function in the resolver:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">&#x590D;&#x5236;&#x4EE3;&#x7801;import {neo4jgraphql} from &apos;neo4j-graphql-js&apos;;</span><br><span class="line"></span><br><span class="line">const resolvers = {</span><br><span class="line">  // root entry point to GraphQL service</span><br><span class="line">  Query: {</span><br><span class="line">    // fetch movies by title substring</span><br><span class="line">    Hashtag(object, params, ctx, resolveInfo) {</span><br><span class="line">      // neo4jgraphql inspects the GraphQL query and schema to generate a single Cypher query</span><br><span class="line">      // to resolve the GraphQL query. Assuming a Neo4j driver instance exists in the context</span><br><span class="line">      // the query is executed against Neo4j</span><br><span class="line">      return neo4jgraphql(object, params, ctx, resolveInfo);</span><br><span class="line">    }</span><br><span class="line">  }</span><br><span class="line">};</span><br></pre></td></tr></table></figure>

<p><img src="https://gitee.com/songjianzaina/juejin_p4/raw/master/img/ad1d705468897d539d212b903116a3554031beb5bf2c05360006db959e03daee" alt></p>
<h1 id="React-App"><a href="#React-App" class="headerlink" title="React App"></a>React App</h1><p>One of the advantages of having a GraphQL API is that makes it very easy to build web and mobile applications that consume the GraphQL service. To make the data easily searchable we&#x2019;ve make a simple React web app that allows for searching tweets in<br> Neo4j by hashtag.</p>
<p><img src="https://gitee.com/songjianzaina/juejin_p4/raw/master/img/0f80881882cd6f10336890f7e8d0621c9a029512bc1aee8c3165e9840e8e6c8c" alt></p>
<p>Here we&#x2019;re searching for tweets that contain the hashtag <code>#crime</code>. We can see that a Russia Troll account @OnlineCleveland is tweeting fake news about crimes in Ohio, making it seem that more crime is occurring in Cleveland. Why would a<br> Russia Troll account be tweeting about crime in Cleveland leading up to the election? Typically when voters want a &#x201C;tough on crime&#x201D; politician elected they vote Republican&#x2026;</p>
<p>In this post we&#x2019;ve scraped tweet data from Internet Archive, imported in Neo4j for analysis, built a GraphQL API for exposing the data, and a simple <a href="/external_links/ddd4276fd13f96f75548150d18eb2587.html" target="blank" rel="noopener">GRANDstack</a> app for allowing anyone to easily search the tweets<br> by hashtag.</p>
<p>While we were only able to find a small fraction of the tweets posted by the Russian Twitter Troll accounts, we will continue to explore options for finding more of the data ;-)</p>
<p>All code is available on Github at <a href="/external_links/549e80d8c37443b6c22b412576b7c665.html" target="blank" rel="noopener">github.com/johnymontan&#x2026;</a>.</p>
<p><strong>&#x672C;&#x6587;&#x8F6C;&#x8F7D;&#x81EA;:</strong> <a href="/external_links/58bafe8c7267337687fc5dbbf59c216a.html" target="blank" rel="noopener">&#x6398;&#x91D1;</a></p>
<p><em><a href="https://dev.newban.cn/">&#x5F00;&#x53D1;&#x8005;&#x535A;&#x5BA2; &#x2013; &#x548C;&#x5F00;&#x53D1;&#x76F8;&#x5173;&#x7684; &#x8FD9;&#x91CC;&#x5168;&#x90FD;&#x6709;</a></em></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://dev.newban.cn../../6844903512027971598.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="开发者博客">
      <meta itemprop="description" content>
      <meta itemprop="image" content="../../images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="开发者博客 – IT技术 尽在开发者博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="../../6844903512027971598.html" itemprop="url">Java 形参与实参</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-11-17T14:43:03+08:00">
                2017-11-17
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>&#x524D;&#x51E0;&#x5929;&#x5728;&#x5934;&#x6761;&#x4E0A;&#x770B;&#x5230;&#x4E00;&#x9053;&#x7ECF;&#x5178;&#x9762;&#x8BD5;&#x9898;,&#x5F15;&#x53D1;&#x4E86;&#x4E00;&#x4E9B;&#x601D;&#x8003;&#x3002;&#x4E5F;&#x662F;&#x5199;&#x8FD9;&#x7BC7;&#x6587;&#x7AE0;&#x7684;&#x5BFC;&#x706B;&#x7D22;&#x3002;</p>
<h3 id="&#x80CC;&#x666F;"><a href="#&#x80CC;&#x666F;" class="headerlink" title="&#x80CC;&#x666F;"></a>&#x80CC;&#x666F;</h3><p>&#x8BF7;&#x770B;&#x9898;:  </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&#x590D;&#x5236;&#x4EE3;&#x7801;public	class Main {</span><br><span class="line">    public static void main(String[] args) {</span><br><span class="line">        Integer a = 1;</span><br><span class="line">        Integer b = 2;</span><br><span class="line">        System.out.println(&quot;a=&quot; + a + &quot;,b=&quot; + b);</span><br><span class="line">        swap(a, b);</span><br><span class="line">        System.out.println(&quot;a=&quot; + a + &quot;,b=&quot; + b);</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    private static void swap(Integer numa, Integer numb) {</span><br><span class="line">        //&#x8BF7;&#x5B9E;&#x73B0;</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></table></figure>

<p>&#x770B;&#x5230;&#x8FD9;&#x4E2A;&#x9898;&#x540E; &#x77AC;&#x95F4;&#x89C9;&#x5F97;&#x6709;&#x5751;&#x3002;&#x4E5F;&#x89C9;&#x5F97;&#x4E3A;&#x4EC0;&#x4E48;&#x8981;&#x4E66;&#x5199;&#x4E00;&#x4E2A;<code>swap</code>&#x65B9;&#x6CD5;&#x5462;&#xFF1F;&#x5982;&#x4E0B;&#x5B9E;&#x73B0;&#x4E0D;&#x662F;&#x66F4;&#x7B80;&#x5355;:  </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&#x590D;&#x5236;&#x4EE3;&#x7801;public static void main(String[] args) {</span><br><span class="line">        Integer a = 1; </span><br><span class="line">        Integer b = 2;</span><br><span class="line">        System.out.println(&quot;a=&quot; + a + &quot;,b=&quot; + b);</span><br><span class="line">        Integer tmp = a;</span><br><span class="line">        a = b;</span><br><span class="line">        b = tmp;</span><br><span class="line">        System.out.println(&quot;a=&quot; + a + &quot;,b=&quot; + b);</span><br><span class="line">    }</span><br></pre></td></tr></table></figure>

<p>&#x8F93;&#x51FA;:  </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&#x590D;&#x5236;&#x4EE3;&#x7801;a=1,b=2</span><br><span class="line">a=2,b=1</span><br></pre></td></tr></table></figure>

<p>&#x5B8C;&#x7F8E;&#x5B9E;&#x73B0;&#x4EA4;&#x6362;&#x3002;&#x4F46;&#x662F;&#x8BF7;&#x6CE8;&#x610F;&#xFF0C;&#x8FD9;&#x662F;&#x4E00;&#x9053;&#x9762;&#x8BD5;&#x9898;&#xFF0C;&#x8981;&#x7684;&#x5C31;&#x662F;&#x8003;&#x9A8C;&#x4E00;&#x4E9B;&#x77E5;&#x8BC6;&#x70B9;&#x3002;&#x6240;&#x4EE5;&#x8FD8;&#x662F;&#x8001;&#x8001;&#x5B9E;&#x5B9E;&#x7684;&#x5B9E;&#x73B0;<code>swap</code>&#x65B9;&#x6CD5;&#x5427;&#x3002;<br>&#x6709;&#x7684;&#x540C;&#x5B66;&#x53EF;&#x80FD;&#x4F1A;&#x60F3;&#xFF0C;<code>Integer</code> &#x662F;&#x4E00;&#x4E2A;&#x5305;&#x88C5;&#x7C7B;&#x578B;,&#x662F;&#x5BF9;Int&#x7684;&#x88C5;&#x7BB1;&#x548C;&#x62C6;&#x7BB1;&#x64CD;&#x4F5C;&#x3002;&#x5176;&#x5B9E;&#x4E5F;&#x662F;&#x4E00;&#x4E2A;&#x5BF9;&#x8C61;&#x3002;&#x65E2;&#x7136;&#x662F;&#x5BF9;&#x8C61;&#xFF0C;&#x76F4;&#x63A5;&#x66F4;&#x6539;&#x5BF9;&#x8C61;&#x7684;&#x5F15;&#x7528;&#x4E0D;&#x5C31;&#x884C;&#x4E86;&#xFF1F;<br>&#x601D;&#x8DEF;&#x6CA1;&#x95EE;&#x9898;&#xFF0C;&#x6211;&#x4EEC;&#x9996;&#x5148;&#x770B;&#x770B;&#x5B9E;&#x73B0;:  </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&#x590D;&#x5236;&#x4EE3;&#x7801;private static void swap(Integer numa, Integer numb) {</span><br><span class="line">       Integer tmp = numa;</span><br><span class="line">       numa = numb;</span><br><span class="line">       numb = tmp;</span><br><span class="line">       System.out.println(&quot;numa=&quot; + numa + &quot;,numb=&quot; + numb);</span><br><span class="line">}</span><br></pre></td></tr></table></figure>

<p>&#x8F93;&#x51FA;:  </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&#x590D;&#x5236;&#x4EE3;&#x7801;a=1,b=2</span><br><span class="line">numa=2,numb=1</span><br><span class="line">a=1,b=2</span><br></pre></td></tr></table></figure>

<p>&#x4E0D;&#x51FA;&#x610F;&#x5916;,&#x6CA1;&#x6709;&#x6210;&#x529F;<br>&#x8FD9;&#x662F;&#x4EC0;&#x4E48;&#x539F;&#x56E0;&#x5462;&#xFF1F;<br>&#x6280;&#x672F;&#x8001;&#x624B;&#x4E00;&#x770B;&#x5C31;&#x77E5;&#x9053;&#x95EE;&#x9898;&#x51FA;&#x5728;<a href="/external_links/ceec55edf346fe746e5e6a037a2f17c0.html" target="blank" rel="noopener">&#x5F62;&#x53C2;&#x548C;&#x5B9E;&#x53C2;</a><br>&#x6DF7;&#x6DC6;&#x4E86;</p>
<h3 id="JAVA&#x7684;&#x5F62;&#x53C2;&#x548C;&#x5B9E;&#x53C2;&#x7684;&#x533A;&#x522B;"><a href="#JAVA&#x7684;&#x5F62;&#x53C2;&#x548C;&#x5B9E;&#x53C2;&#x7684;&#x533A;&#x522B;" class="headerlink" title="JAVA&#x7684;&#x5F62;&#x53C2;&#x548C;&#x5B9E;&#x53C2;&#x7684;&#x533A;&#x522B;:"></a>JAVA&#x7684;&#x5F62;&#x53C2;&#x548C;&#x5B9E;&#x53C2;&#x7684;&#x533A;&#x522B;:</h3><p><strong>&#x5F62;&#x53C2;</strong> &#x987E;&#x540D;&#x601D;&#x4E49;:&#x5C31;&#x662F;&#x5F62;&#x5F0F;&#x53C2;&#x6570;&#xFF0C;&#x7528;&#x4E8E;&#x5B9A;&#x4E49;&#x65B9;&#x6CD5;&#x7684;&#x65F6;&#x5019;&#x4F7F;&#x7528;&#x7684;&#x53C2;&#x6570;&#xFF0C;&#x662F;&#x7528;&#x6765;&#x63A5;&#x6536;&#x8C03;&#x7528;&#x8005;&#x4F20;&#x9012;&#x7684;&#x53C2;&#x6570;&#x7684;&#x3002;<br> &#x5F62;&#x53C2;&#x53EA;&#x6709;&#x5728;&#x65B9;&#x6CD5;&#x88AB;&#x8C03;&#x7528;&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x865A;&#x62DF;&#x673A;&#x624D;&#x4F1A;&#x5206;&#x914D;&#x5185;&#x5B58;&#x5355;&#x5143;&#xFF0C;&#x5728;&#x65B9;&#x6CD5;&#x8C03;&#x7528;&#x7ED3;&#x675F;&#x4E4B;&#x540E;&#x4FBF;&#x4F1A;&#x91CA;&#x653E;&#x6240;&#x5206;&#x914D;&#x7684;&#x5185;&#x5B58;&#x5355;&#x5143;&#x3002;<br> &#x56E0;&#x6B64;,&#x5F62;&#x53C2;&#x53EA;&#x5728;&#x65B9;&#x6CD5;&#x5185;&#x90E8;&#x6709;&#x6548;&#xFF0C;&#x6240;&#x4EE5;&#x9488;&#x5BF9;&#x5F15;&#x7528;&#x5BF9;&#x8C61;&#x7684;&#x6539;&#x52A8;&#x4E5F;&#x65E0;&#x6CD5;&#x5F71;&#x54CD;&#x5230;&#x65B9;&#x6CD5;&#x5916;&#x3002;</p>
<p><strong>&#x5B9E;&#x53C2;</strong> &#x987E;&#x540D;&#x601D;&#x4E49;:&#x5C31;&#x662F;&#x5B9E;&#x9645;&#x53C2;&#x6570;&#xFF0C;&#x7528;&#x4E8E;&#x8C03;&#x7528;&#x65F6;&#x4F20;&#x9012;&#x7ED9;&#x65B9;&#x6CD5;&#x7684;&#x53C2;&#x6570;&#x3002;&#x5B9E;&#x53C2;&#x5728;&#x4F20;&#x9012;&#x7ED9;&#x522B;&#x7684;&#x65B9;&#x6CD5;&#x4E4B;&#x524D;&#x662F;&#x8981;&#x88AB;&#x9884;&#x5148;&#x8D4B;&#x503C;&#x7684;&#x3002;<br> &#x5728;&#x672C;&#x4F8B;&#x4E2D; swap &#x65B9;&#x6CD5; &#x7684;numa, numb &#x5C31;&#x662F;&#x5F62;&#x53C2;&#xFF0C;&#x4F20;&#x9012;&#x7ED9; swap &#x65B9;&#x6CD5;&#x7684; a,b &#x5C31;&#x662F;&#x5B9E;&#x53C2;</p>
<p>&#x6CE8;&#x610F;:<br>&#x5728;<code>&#x503C;&#x4F20;&#x9012;</code>&#x8C03;&#x7528;&#x8FC7;&#x7A0B;&#x4E2D;&#xFF0C;&#x53EA;&#x80FD;&#x628A;&#x5B9E;&#x53C2;&#x4F20;&#x9012;&#x7ED9;&#x5F62;&#x53C2;&#xFF0C;&#x800C;&#x4E0D;&#x80FD;&#x628A;&#x5F62;&#x53C2;&#x7684;&#x503C;&#x53CD;&#x5411;&#x4F5C;&#x7528;&#x5230;&#x5B9E;&#x53C2;&#x4E0A;&#x3002;&#x5728;&#x51FD;&#x6570;&#x8C03;&#x7528;&#x8FC7;&#x7A0B;&#x4E2D;&#xFF0C;&#x5F62;&#x53C2;&#x7684;&#x503C;&#x53D1;&#x751F;&#x6539;&#x53D8;&#xFF0C;&#x800C;&#x5B9E;&#x53C2;&#x7684;&#x503C;&#x4E0D;&#x4F1A;&#x53D1;&#x751F;&#x6539;&#x53D8;&#x3002;<br>&#x800C;&#x5728;<code>&#x5F15;&#x7528;&#x4F20;&#x9012;</code>&#x8C03;&#x7528;&#x7684;&#x673A;&#x5236;&#x4E2D;&#xFF0C;&#x5B9E;&#x9645;&#x4E0A;&#x662F;&#x5C06;&#x5B9E;&#x53C2;&#x5F15;&#x7528;&#x7684;&#x5730;&#x5740;&#x4F20;&#x9012;&#x7ED9;&#x4E86;&#x5F62;&#x53C2;&#xFF0C;&#x6240;&#x4EE5;&#x4EFB;&#x4F55;&#x53D1;&#x751F;&#x5728;&#x5F62;&#x53C2;&#x4E0A;&#x7684;&#x6539;&#x53D8;&#x4E5F;&#x4F1A;&#x53D1;&#x751F;&#x5728;&#x5B9E;&#x53C2;&#x53D8;&#x91CF;&#x4E0A;&#x3002;<br>&#x90A3;&#x4E48;&#x95EE;&#x9898;&#x6765;&#x4E86;&#xFF0C;&#x4EC0;&#x4E48;&#x662F;<code>&#x503C;&#x4F20;&#x9012;</code>&#x548C;<code>&#x5F15;&#x7528;&#x4F20;&#x9012;</code></p>
<h3 id="&#x503C;&#x4F20;&#x9012;&#x548C;&#x5F15;&#x7528;&#x4F20;&#x9012;"><a href="#&#x503C;&#x4F20;&#x9012;&#x548C;&#x5F15;&#x7528;&#x4F20;&#x9012;" class="headerlink" title="&#x503C;&#x4F20;&#x9012;&#x548C;&#x5F15;&#x7528;&#x4F20;&#x9012;"></a>&#x503C;&#x4F20;&#x9012;&#x548C;&#x5F15;&#x7528;&#x4F20;&#x9012;</h3><p>&#x5728;&#x8C08;<code>&#x503C;&#x4F20;&#x9012;</code>&#x548C;<code>&#x5F15;&#x7528;&#x4F20;&#x9012;</code>&#x4E4B;&#x524D;&#x5148;&#x4E86;&#x89E3;&#x4E0B; Java&#x7684;&#x6570;&#x636E;&#x7C7B;&#x578B;&#x6709;&#x54EA;&#x4E9B;</p>
<h4 id="JAVA&#x7684;&#x6570;&#x636E;&#x7C7B;&#x578B;"><a href="#JAVA&#x7684;&#x6570;&#x636E;&#x7C7B;&#x578B;" class="headerlink" title="JAVA&#x7684;&#x6570;&#x636E;&#x7C7B;&#x578B;"></a>JAVA&#x7684;&#x6570;&#x636E;&#x7C7B;&#x578B;</h4><p>Java &#x4E2D;&#x7684;&#x6570;&#x636E;&#x7C7B;&#x578B;&#x5206;&#x4E3A;&#x4E24;&#x5927;&#x7C7B;&#xFF0C;<code>&#x57FA;&#x672C;&#x7C7B;&#x578B;</code>&#x548C;<code>&#x5BF9;&#x8C61;&#x7C7B;&#x578B;</code>&#x3002;&#x76F8;&#x5E94;&#x7684;&#xFF0C;&#x53D8;&#x91CF;&#x4E5F;&#x6709;&#x4E24;&#x79CD;&#x7C7B;&#x578B;&#xFF1A;<code>&#x57FA;&#x672C;&#x7C7B;&#x578B;</code>&#x548C;<code>&#x5F15;&#x7528;&#x7C7B;&#x578B;</code><br><code>&#x57FA;&#x672C;&#x7C7B;&#x578B;</code>&#x7684;&#x53D8;&#x91CF;&#x4FDD;&#x5B58;<code>&#x539F;&#x59CB;&#x503C;</code>&#xFF0C;&#x5373;&#x5B83;&#x4EE3;&#x8868;&#x7684;&#x503C;&#x5C31;&#x662F;&#x6570;&#x503C;&#x672C;&#x8EAB;,<code>&#x539F;&#x59CB;&#x503C;</code>&#x4E00;&#x822C;&#x5BF9;&#x5E94;&#x5728;&#x5185;&#x5B58;&#x4E0A;&#x7684;<code>&#x65B9;&#x6CD5;&#x533A;</code><br>&#x800C;<code>&#x5F15;&#x7528;&#x7C7B;&#x578B;</code>&#x7684;&#x53D8;&#x91CF;&#x4FDD;&#x5B58;<code>&#x5F15;&#x7528;&#x503C;</code>&#xFF0C;<code>&#x5F15;&#x7528;&#x503C;</code>&#x6307;&#x5411;&#x5185;&#x5B58;&#x7A7A;&#x95F4;&#x7684;&#x5730;&#x5740;&#x3002;&#x4EE3;&#x8868;&#x4E86;&#x67D0;&#x4E2A;&#x5BF9;&#x8C61;&#x7684;&#x5F15;&#x7528;&#xFF0C;&#x800C;&#x4E0D;&#x662F;&#x5BF9;&#x8C61;&#x672C;&#x8EAB;&#x3002;&#x5BF9;&#x8C61;&#x672C;&#x8EAB;&#x5B58;&#x653E;&#x5728;&#x8FD9;&#x4E2A;&#x5F15;&#x7528;&#x503C;&#x6240;&#x8868;&#x793A;&#x7684;&#x5730;&#x5740;&#x7684;&#x4F4D;&#x7F6E;&#x3002;<code>&#x88AB;&#x5F15;&#x7528;&#x7684;&#x5BF9;&#x8C61;</code>&#x5BF9;&#x5E94;&#x5185;&#x5B58;&#x4E0A;&#x7684;<code>&#x5806;&#x5185;&#x5B58;&#x533A;</code>&#x3002;<br>&#x57FA;&#x672C;&#x7C7B;&#x578B;&#x5305;&#x62EC;&#xFF1A;<code>byte</code>,<code>short</code>,<code>int</code>,<code>long</code>,<code>char</code>,<code>float</code>,<code>double</code>,<code>boolean</code> &#x8FD9;&#x516B;&#x5927;&#x57FA;&#x672C;&#x6570;&#x636E;&#x7C7B;&#x578B;<br>&#x5F15;&#x7528;&#x7C7B;&#x578B;&#x5305;&#x62EC;&#xFF1A;<code>&#x7C7B;&#x7C7B;&#x578B;</code>&#xFF0C;<code>&#x63A5;&#x53E3;&#x7C7B;&#x578B;</code>&#x548C;<code>&#x6570;&#x7EC4;</code> </p>
<h4 id="&#x53D8;&#x91CF;&#x7684;&#x57FA;&#x672C;&#x7C7B;&#x578B;&#x548C;&#x5F15;&#x7528;&#x7C7B;&#x578B;&#x7684;&#x533A;&#x522B;"><a href="#&#x53D8;&#x91CF;&#x7684;&#x57FA;&#x672C;&#x7C7B;&#x578B;&#x548C;&#x5F15;&#x7528;&#x7C7B;&#x578B;&#x7684;&#x533A;&#x522B;" class="headerlink" title="&#x53D8;&#x91CF;&#x7684;&#x57FA;&#x672C;&#x7C7B;&#x578B;&#x548C;&#x5F15;&#x7528;&#x7C7B;&#x578B;&#x7684;&#x533A;&#x522B;"></a>&#x53D8;&#x91CF;&#x7684;&#x57FA;&#x672C;&#x7C7B;&#x578B;&#x548C;&#x5F15;&#x7528;&#x7C7B;&#x578B;&#x7684;&#x533A;&#x522B;</h4><p>&#x57FA;&#x672C;&#x6570;&#x636E;&#x7C7B;&#x578B;&#x5728;&#x58F0;&#x660E;&#x65F6;&#x7CFB;&#x7EDF;&#x5C31;&#x7ED9;&#x5B83;&#x5206;&#x914D;&#x7A7A;&#x95F4;  </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&#x590D;&#x5236;&#x4EE3;&#x7801;int a;//&#x867D;&#x7136;&#x6CA1;&#x6709;&#x8D4B;&#x503C;&#xFF0C;&#x4F46;&#x58F0;&#x660E;&#x7684;&#x65F6;&#x5019;&#x865A;&#x62DF;&#x673A;&#x5C31;&#x4F1A; &#x5206;&#x914D; 4&#x5B57;&#x8282; &#x7684;&#x5185;&#x5B58;&#x533A;&#x57DF;,&#x800C;&#x5F15;&#x7528;&#x6570;&#x636E;&#x7C7B;&#x578B;&#x4E0D;&#x540C;&#xFF0C;&#x5B83;&#x58F0;&#x660E;&#x65F6;&#x53EA;&#x7ED9;&#x53D8;&#x91CF;&#x5206;&#x914D;&#x4E86;&#x5F15;&#x7528;&#x7A7A;&#x95F4;&#xFF0C;&#x800C;&#x4E0D;&#x5206;&#x914D;&#x6570;&#x636E;&#x7A7A;&#x95F4;:	</span><br><span class="line">String str;//&#x58F0;&#x660E;&#x7684;&#x65F6;&#x5019;&#x6CA1;&#x6709;&#x5206;&#x914D;&#x6570;&#x636E;&#x7A7A;&#x95F4;&#xFF0C;&#x53EA;&#x6709; 4byte &#x7684;&#x5F15;&#x7528;&#x5927;&#x5C0F;&#xFF0C;&#x5728;&#x65B9;&#x6CD5;&#x533A;&#xFF0C;&#x800C;&#x5728;&#x5806;&#x5185;&#x5B58;&#x533A;&#x57DF;&#x6CA1;&#x6709;&#x4EFB;&#x4F55;&#x5206;&#x914D;</span><br><span class="line">str.length(); //&#x8FD9;&#x4E2A;&#x64CD;&#x4F5C;&#x5C31;&#x4F1A;&#x62A5;&#x9519;&#xFF0C;&#x56E0;&#x4E3A;&#x5806;&#x5185;&#x5B58;&#x4E0A;&#x8FD8;&#x6CA1;&#x6709;&#x5206;&#x914D;&#x5185;&#x5B58;&#x533A;&#x57DF;&#xFF0C;&#x800C; a = 1; &#x8FD9;&#x4E2A;&#x64CD;&#x4F5C;&#x5C31;&#x4E0D;&#x4F1A;&#x62A5;&#x9519;&#x3002;</span><br></pre></td></tr></table></figure>

<p>&#x597D;&#x4E86;&#xFF0C;Java&#x7684;&#x6570;&#x636E;&#x7C7B;&#x578B;&#x8BF4;&#x5B8C;&#x4E86;&#xFF0C;&#x7EE7;&#x7EED;&#x6211;&#x4EEC;&#x7684;<code>&#x503C;&#x4F20;&#x9012;</code>&#x548C;<code>&#x5F15;&#x7528;&#x4F20;&#x9012;</code>&#x7684;&#x8BDD;&#x9898;&#x3002;<br>&#x5148;&#x80CC;&#x4F4F;&#x4E00;&#x4E2A;&#x6982;&#x5FF5;:<code>&#x57FA;&#x672C;&#x7C7B;&#x578B;</code>&#x7684;&#x53D8;&#x91CF;&#x662F;<code>&#x503C;&#x4F20;&#x9012;</code>&#xFF1B;<code>&#x5F15;&#x7528;&#x7C7B;&#x578B;</code>&#x7684;&#x53D8;&#x91CF;<br>&#x7ED3;&#x5408;&#x524D;&#x9762;&#x8BF4;&#x7684; <code>&#x5F62;&#x53C2;</code>&#x548C;<code>&#x5B9E;&#x53C2;</code>&#x3002;</p>
<h4 id="&#x503C;&#x4F20;&#x9012;"><a href="#&#x503C;&#x4F20;&#x9012;" class="headerlink" title="&#x503C;&#x4F20;&#x9012;"></a>&#x503C;&#x4F20;&#x9012;</h4><p>&#x65B9;&#x6CD5;&#x8C03;&#x7528;&#x65F6;&#xFF0C;&#x5B9E;&#x9645;&#x53C2;&#x6570;&#x628A;&#x5B83;&#x7684;&#x503C;&#x4F20;&#x9012;&#x7ED9;&#x5BF9;&#x5E94;&#x7684;&#x5F62;&#x5F0F;&#x53C2;&#x6570;&#xFF0C;&#x51FD;&#x6570;&#x63A5;&#x6536;&#x7684;&#x662F;&#x539F;&#x59CB;&#x503C;&#x7684;&#x4E00;&#x4E2A;copy&#xFF0C;<br>&#x6B64;&#x65F6;&#x5185;&#x5B58;&#x4E2D;&#x5B58;&#x5728;&#x4E24;&#x4E2A;&#x76F8;&#x7B49;&#x7684;&#x57FA;&#x672C;&#x7C7B;&#x578B;&#xFF0C;&#x5373;&#x5B9E;&#x9645;&#x53C2;&#x6570;&#x548C;&#x5F62;&#x5F0F;&#x53C2;&#x6570;&#xFF0C;&#x540E;&#x9762;&#x65B9;&#x6CD5;&#x4E2D;&#x7684;&#x64CD;&#x4F5C;&#x90FD;&#x662F;&#x5BF9;&#x5F62;&#x53C2;&#x8FD9;&#x4E2A;&#x503C;&#x7684;&#x4FEE;&#x6539;&#xFF0C;&#x4E0D;&#x5F71;&#x54CD;&#x5B9E;&#x9645;&#x53C2;&#x6570;&#x7684;&#x503C;</p>
<h4 id="&#x5F15;&#x7528;&#x4F20;&#x9012;"><a href="#&#x5F15;&#x7528;&#x4F20;&#x9012;" class="headerlink" title="&#x5F15;&#x7528;&#x4F20;&#x9012;"></a>&#x5F15;&#x7528;&#x4F20;&#x9012;</h4><p>&#x4E5F;&#x79F0;&#x4E3A;<code>&#x5730;&#x5740;&#x4F20;&#x9012;</code>&#xFF0C;<code>&#x5740;&#x4F20;&#x9012;</code>&#x3002;&#x65B9;&#x6CD5;&#x8C03;&#x7528;&#x65F6;&#xFF0C;&#x5B9E;&#x9645;&#x53C2;&#x6570;&#x7684;&#x5F15;&#x7528;(&#x5730;&#x5740;&#xFF0C;&#x800C;&#x4E0D;&#x662F;&#x53C2;&#x6570;&#x7684;&#x503C;)&#x88AB;&#x4F20;&#x9012;&#x7ED9;&#x65B9;&#x6CD5;&#x4E2D;&#x76F8;&#x5BF9;&#x5E94;&#x7684;&#x5F62;&#x5F0F;&#x53C2;&#x6570;&#xFF0C;&#x51FD;&#x6570;&#x63A5;&#x6536;&#x7684;&#x662F;&#x539F;&#x59CB;&#x503C;&#x7684;&#x5185;&#x5B58;&#x5730;&#x5740;<br>&#x5728;&#x65B9;&#x6CD5;&#x6267;&#x884C;&#x4E2D;&#xFF0C;&#x5F62;&#x53C2;&#x548C;&#x5B9E;&#x53C2;&#x5185;&#x5BB9;&#x76F8;&#x540C;&#xFF0C;&#x6307;&#x5411;&#x540C;&#x4E00;&#x5757;&#x5185;&#x5B58;&#x5730;&#x5740;&#xFF0C;&#x65B9;&#x6CD5;&#x6267;&#x884C;&#x4E2D;&#x5BF9;&#x5F15;&#x7528;&#x7684;&#x64CD;&#x4F5C;&#x5C06;&#x4F1A;&#x5F71;&#x54CD;&#x5230;&#x5B9E;&#x9645;&#x5BF9;&#x8C61;<br>&#x901A;&#x8FC7;&#x4F8B;&#x5B50;&#x6765;&#x8BF4;&#x8BDD;:  </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">&#x590D;&#x5236;&#x4EE3;&#x7801;static class Person {</span><br><span class="line">       int age;</span><br><span class="line">       Person(int age) {</span><br><span class="line">           this.age = age;</span><br><span class="line">       }</span><br><span class="line">   }</span><br><span class="line">   </span><br><span class="line">   private static void test() {</span><br><span class="line">       int a = 100;</span><br><span class="line">       testValueT(a);</span><br><span class="line">       System.out.println(&quot;a=&quot; + a);</span><br><span class="line">       Person person = new Person(20);</span><br><span class="line">       testReference(person);</span><br><span class="line">       System.out.println(&quot;person.age=&quot; + person.age);</span><br><span class="line">   }</span><br><span class="line">   </span><br><span class="line">   private static void testValueT(int a) {</span><br><span class="line">       a = 200;</span><br><span class="line">       System.out.println(&quot;int testValueT a=&quot; + a);</span><br><span class="line">   }</span><br><span class="line">   </span><br><span class="line">   private static void testReference(Person person) {</span><br><span class="line">       person.age = 10;</span><br><span class="line">   }</span><br></pre></td></tr></table></figure>

<p>&#x8F93;&#x51FA;&#xFF1A;  </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&#x590D;&#x5236;&#x4EE3;&#x7801;int testValueT a=200</span><br><span class="line">a=100</span><br><span class="line">person.age=10</span><br></pre></td></tr></table></figure>

<p>&#x770B;&#x89C1; <code>&#x503C;&#x4F20;&#x9012;</code> a&#x7684;&#x503C;&#x5E76;&#x6CA1;&#x6709;&#x6539;&#x53D8;&#xFF0C;&#x800C; <code>&#x5F15;&#x7528;&#x4F20;&#x9012;</code>&#x7684; persion.age&#x5DF2;&#x7ECF;&#x6539;&#x53D8;&#x4E86;<br>&#x6709;&#x4EBA;&#x8BF4;  </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&#x590D;&#x5236;&#x4EE3;&#x7801;private static void testReference(Person person) {</span><br><span class="line">        person = new Person(100);</span><br><span class="line">}</span><br></pre></td></tr></table></figure>

<p>&#x4E3A;&#x4EC0;&#x4E48; &#x8F93;&#x51FA;&#x7684; person.age &#x8FD8;&#x662F;20&#x5462;&#xFF1F;<br>&#x6211;&#x60F3;&#x8BF4; &#x4E86;&#x89E3;&#x4E00;&#x4E0B;&#x4EC0;&#x4E48;&#x662F;<code>&#x5F15;&#x7528;&#x7C7B;&#x578B;</code>&#x5427;&#xFF1F; &#x65B9;&#x6CD5;&#x5185;&#x628A; <code>&#x5F62;&#x53C2;</code>&#x7684;&#x5730;&#x5740;&#x5F15;&#x7528;&#x6362;&#x6210;&#x4E86;&#x53E6;&#x4E00;&#x4E2A;&#x5BF9;&#x8C61;&#xFF0C;&#x5E76;&#x6CA1;&#x6709;&#x6539;&#x53D8;&#x8FD9;&#x4E2A;&#x5BF9;&#x8C61;,&#x5E76;&#x4E0D;&#x80FD;&#x5F71;&#x54CD; &#x5916;&#x8FB9;<code>&#x5B9E;&#x53C2;</code>&#x8FD8;&#x5F15;&#x7528;&#x539F;&#x6765;&#x7684;&#x5BF9;&#x8C61;&#xFF0C;&#x56E0;&#x4E3A; &#x5F62;&#x53C2;&#x53EA;&#x5728;&#x65B9;&#x6CD5;&#x5185;&#x6709;&#x6548;&#x54E6;&#x3002;</p>
<p>&#x6709;&#x4EBA;&#x6216;&#x8BB8;&#x8FD8;&#x6709;&#x7591;&#x95EE;&#xFF0C;&#x6309;&#x7167;&#x6587;&#x7AE0;&#x5F00;&#x5934;&#x7684;&#x4F8B;&#x5B50;&#xFF0C;<code>Integer</code>&#x4E5F;&#x662F; <code>&#x5F15;&#x7528;&#x7C7B;&#x578B;</code>&#x8BE5;&#x5F53;&#x5982;&#x4F55;&#x5462;&#xFF1F;<br>&#x5176;&#x5B9E; &#x7C7B;&#x4F3C;&#x7684; <code>String</code>,<code>Integer</code>,<code>Float</code>,<code>Double</code>,<code>Short</code>,<code>Byte</code>,<code>Long</code>,<code>Character</code>&#x7B49;&#x7B49;&#x57FA;&#x672C;&#x5305;&#x88C5;&#x7C7B;&#x578B;&#x7C7B;&#x3002;&#x56E0;&#x4E3A;&#x4ED6;&#x4EEC;&#x672C;&#x8EAB;&#x6CA1;&#x6709;&#x63D0;&#x4F9B;&#x65B9;&#x6CD5;&#x53BB;&#x6539;&#x53D8;&#x5185;&#x90E8;&#x7684;&#x503C;&#xFF0C;&#x4F8B;&#x5982;<code>Integer</code> &#x5185;&#x90E8;&#x6709;&#x4E00;&#x4E2A;<code>value</code> &#x6765;&#x8BB0;&#x5F55;<code>int</code>&#x57FA;&#x672C;&#x7C7B;&#x578B;&#x7684;&#x503C;&#xFF0C;&#x4F46;&#x662F;&#x6CA1;&#x6709;&#x63D0;&#x4F9B;&#x4FEE;&#x6539;&#x5B83;&#x7684;&#x65B9;&#x6CD5;&#xFF0C;&#x800C;&#x4E14; &#x4E5F;&#x662F;<code>final</code>&#x7C7B;&#x578B;&#x7684;&#xFF0C;&#x65E0;&#x6CD5;&#x901A;&#x8FC7;<code>&#x5E38;&#x89C4;&#x624B;&#x6BB5;</code>&#x66F4;&#x6539;&#x3002;<br>&#x6240;&#x4EE5;&#x867D;&#x7136;&#x4ED6;&#x4EEC;&#x662F;<code>&#x5F15;&#x7528;&#x7C7B;&#x578B;</code>&#x7684;&#xFF0C;&#x4F46;&#x662F;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x8BA4;&#x4E3A;&#x5B83;&#x662F;<code>&#x503C;&#x4F20;&#x9012;</code>,&#x8FD9;&#x4E2A;&#x4E5F;&#x53EA;&#x662F;<code>&#x8BA4;&#x4E3A;</code>,&#x4E8B;&#x5B9E;&#x4E0A;&#x8FD8;&#x662F;<code>&#x5F15;&#x7528;&#x4F20;&#x9012;</code>,<code>&#x5740;&#x4F20;&#x9012;</code>&#x3002;</p>
<hr>
<p>&#x597D;&#x4E86;&#xFF0C;&#x57FA;&#x7840;&#x77E5;&#x8BC6;&#x8865;&#x5145;&#x5B8C;&#x6BD5;&#xFF0C;&#x7136;&#x6211;&#x4EEC;&#x56DE;&#x5230;&#x9762;&#x8BD5;&#x9898;&#x5427;</p>
<hr>
<p><strong>&#x56DE;&#x5F52;&#x6B63;&#x9898;</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&#x590D;&#x5236;&#x4EE3;&#x7801;private static void swap(Integer numa, Integer numb) {</span><br><span class="line">        Integer tmp = numa;</span><br><span class="line">        numa = numb;</span><br><span class="line">        numb = tmp;</span><br><span class="line">        System.out.println(&quot;numa=&quot; + numa + &quot;,numb=&quot; + numb);</span><br><span class="line"> }</span><br></pre></td></tr></table></figure>

<p>&#x901A;&#x8FC7;&#x8865;&#x4E60;&#x57FA;&#x7840;&#x77E5;&#x8BC6;&#xFF0C;&#x6211;&#x4EEC;&#x5F88;&#x660E;&#x663E;&#x77E5;&#x9053; &#x4E0A;&#x9762;&#x8FD9;&#x4E2A;&#x65B9;&#x6CD5;&#x5B9E;&#x73B0;&#x66FF;&#x6362; &#x662F;&#x4E0D;&#x53EF;&#x884C;&#x7684;&#x3002;&#x56E0;&#x4E3A;<code>Interger</code>&#x867D;&#x7136;&#x662F;<code>&#x5F15;&#x7528;&#x7C7B;&#x578B;</code><br>&#x4F46;&#x662F;&#x4E0A;&#x8FF0;&#x64CD;&#x4F5C;&#x53EA;&#x662F;&#x6539;&#x53D8;&#x4E86;<code>&#x5F62;&#x53C2;</code>&#x7684;&#x5F15;&#x7528;&#xFF0C;&#x800C;&#x6CA1;&#x6709;&#x6539;&#x53D8;<code>&#x5B9E;&#x53C2;</code>&#x5BF9;&#x5E94;&#x7684;<code>&#x5BF9;&#x8C61;</code>&#x3002;</p>
<p>&#x90A3;&#x4E48;&#x601D;&#x8DEF;&#x6765;&#x4E86;&#xFF0C;&#x6211;&#x4EEC;<code>&#x901A;&#x8FC7;&#x7279;&#x6B8A;&#x624B;&#x6BB5;</code>&#x6539;&#x53D8; <code>Integer</code>&#x5185;&#x90E8;&#x7684;<code>value</code>&#x5C5E;&#x6027;  </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">&#x590D;&#x5236;&#x4EE3;&#x7801;private static void swap(Integer numa, Integer numb) {</span><br><span class="line">        Integer tmp = numa;</span><br><span class="line">        try {</span><br><span class="line">            Field field = Integer.class.getDeclaredField(&quot;value&quot;);</span><br><span class="line">            field.setAccessible(true);</span><br><span class="line">            field.set(numa, numb);//&#x6210;&#x529F;&#x7684;&#x5C06;numa &#x5F15;&#x7528;&#x7684; 1&#x7684;&#x5BF9;&#x8C61; &#x503C;&#x6539;&#x4E3A; 2</span><br><span class="line">            field.set(numb, tmp); //&#x7531;&#x4E8E; tmp &#x4E5F;&#x662F;&#x6307;&#x5411; numa &#x672A;&#x6539;&#x53D8;&#x524D;&#x6307;&#x5411;&#x7684;&#x5806; &#x5373;&#x5BF9;&#x8C61;1 &#xFF0C;&#x7ECF;&#x8FC7;&#x524D;&#x4E00;&#x6B65;&#xFF0C;&#x5DF2;&#x7ECF;&#x5C06;&#x5BF9;&#x8C61;1&#x7684;&#x503C;&#x6539;&#x4E3A;&#x4E86;2&#xFF0C;&#x81EA;&#x7136; numb &#x4E5F;&#x662F;2&#xFF0C;&#x6240;&#x4EE5;&#x6539;&#x52A8;&#x5931;&#x6548;</span><br><span class="line">        } catch (Exception e) {</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        }</span><br><span class="line">    }</span><br></pre></td></tr></table></figure>

<p>&#x8F93;&#x51FA;&#x7ED3;&#x679C;:  </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&#x590D;&#x5236;&#x4EE3;&#x7801;a=1,b=2</span><br><span class="line">a=2,b=2</span><br></pre></td></tr></table></figure>

<p>&#x53C8;&#x6765;&#x7591;&#x95EE;&#x4E86;&#xFF1F;&#x4E3A;&#x4F55; <code>a</code>&#x7684;&#x503C;&#x6539;&#x53D8;&#x6210;&#x529F;&#xFF0C;&#x800C;<code>b</code>&#x7684;&#x6539;&#x53D8;&#x5931;&#x8D25;&#x5462;&#xFF1F;</p>
<p><em>&#x89C1;&#x4EE3;&#x7801;&#x6CE8;&#x91CA;</em><br>&#x6240;&#x4EE5;&#x5176;&#x5B9E; <code>field.set(numb, tmp);</code> &#x662F;&#x66F4;&#x6539;&#x6210;&#x529F;&#x7684;&#xFF0C;&#x53EA;&#x662F; tmp &#x7ECF;&#x8FC7;&#x524D;&#x4E00;&#x884C;&#x4EE3;&#x7801;&#x7684;&#x6267;&#x884C;&#xFF0C;&#x5DF2;&#x7ECF;&#x53D8;&#x6210;&#x4E86; 2&#x3002;<br>&#x90A3;&#x4E48;&#x5982;&#x4F55;&#x7834;&#x5462;&#xFF1F;<br>&#x6211;&#x4EEC;&#x6709;&#x4E86;&#x4E00;&#x4E2A;&#x601D;&#x8DEF;&#xFF0C;&#x65E2;&#x7136;&#x662F; <code>tmp</code>&#x7684;&#x5F15;&#x7528;&#x7684;&#x5BF9;&#x8C61;&#x503C;&#x53D8;&#x91CF;&#xFF0C;&#x90A3;&#x4E48;&#x6211;&#x8BA9;<code>tmp</code>&#x4E0D;&#x5F15;&#x7528; <code>numa</code>&#x4E86;  </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">&#x590D;&#x5236;&#x4EE3;&#x7801;private static void swap(Integer numa, Integer numb) {</span><br><span class="line">       int tmp = numa.intValue();//tmp &#x5B9A;&#x4E49;&#x4E3A;&#x57FA;&#x672C;&#x6570;&#x636E;&#x7C7B;&#x578B;</span><br><span class="line">       try {</span><br><span class="line">           Field field = Integer.class.getDeclaredField(&quot;value&quot;);</span><br><span class="line">           field.setAccessible(true);</span><br><span class="line">           field.set(numa, numb);//&#x8FD9;&#x4E2A;&#x65F6;&#x5019;&#x5E76;&#x4E0D;&#x6539;&#x53D8; tmp &#x7684;&#x503C;</span><br><span class="line">           field.set(numb, tmp);</span><br><span class="line">       } catch (Exception e) {</span><br><span class="line">           e.printStackTrace();</span><br><span class="line">       }</span><br><span class="line">   }</span><br></pre></td></tr></table></figure>

<p>&#x8FD9;&#x79CD;&#x60C5;&#x51B5;&#x4E0B; &#x5BF9; <code>numa</code> &#x8FD9;&#x4E2A;&#x5BF9;&#x8C61;&#x7684;&#x4FEE;&#x6539;&#x5C31;&#x4E0D;&#x4F1A;&#x5BFC;&#x81F4; <code>tmp</code> &#x7684;&#x503C;&#x53D8;&#x5316;&#x4E86;,&#x770B;&#x4E00;&#x4E0B;&#x8FD0;&#x884C;&#x7ED3;&#x679C;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&#x590D;&#x5236;&#x4EE3;&#x7801;a=1,b=2</span><br><span class="line">a=2,b=2</span><br></pre></td></tr></table></figure>

<p>&#x8FD9;&#x662F;&#x4E3A;&#x5565;&#xFF1F;&#x6709;&#x6CA1;&#x6709;<code>&#x5FEB;&#x75AF;</code>&#x5566;&#xFF1F;<br>&#x96BE;&#x9053;&#x6211;&#x4EEC;&#x7684;&#x601D;&#x8DEF;&#x9519;&#x4E86;&#xFF1F;<br>&#x5148;&#x522B;&#x7740;&#x6025;&#xFF0C;&#x6211;&#x4EEC;&#x770B;&#x770B;&#x8FD9;&#x4E2A;&#x4F8B;&#x5B50;&#xFF1A;<br>&#x4EC5;&#x4EC5;&#x662F;&#x5C06;&#x524D;&#x9762;&#x7684;&#x4F8B;&#x5B50; <code>a</code>&#x7684;&#x503C;&#x6539;&#x4E3A; 129&#xFF0C;<code>b</code>&#x7684;&#x503C;&#x6539;&#x4E3A;130</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">&#x590D;&#x5236;&#x4EE3;&#x7801;public static void main(String[] args) {</span><br><span class="line">        Integer a = 129;</span><br><span class="line">        Integer b = 130;</span><br><span class="line"></span><br><span class="line">        System.out.println(&quot;a=&quot; + a + &quot;,b=&quot; + b);</span><br><span class="line">        swap(a, b);</span><br><span class="line">        System.out.println(&quot;a=&quot; + a + &quot;,b=&quot; + b);</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    private static void swap(Integer numa, Integer numb) {</span><br><span class="line">        int tmp = numa.intValue();</span><br><span class="line">        try {</span><br><span class="line">            Field field = Integer.class.getDeclaredField(&quot;value&quot;);</span><br><span class="line">            field.setAccessible(true);</span><br><span class="line">            field.set(numa, numb);</span><br><span class="line">            field.set(numb, tmp);</span><br><span class="line">        } catch (Exception e) {</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        }</span><br><span class="line">    }</span><br></pre></td></tr></table></figure>

<p>&#x8FD0;&#x884C;&#x7ED3;&#x679C;:  </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&#x590D;&#x5236;&#x4EE3;&#x7801;a=129,b=130</span><br><span class="line">a=130,b=129</span><br></pre></td></tr></table></figure>

<p>&#x6709;&#x6CA1;&#x6709;<code>&#x6000;&#x7591;&#x4EBA;&#x751F;</code>&#xFF1F;&#x6211;&#x4EEC;&#x7684;&#x601D;&#x8DEF;&#x6CA1;&#x6709;&#x95EE;&#x9898;&#x554A;?&#x4E3A;&#x4EC0;&#x4E48; &#x6362;&#x4E2A;&#x6570;&#x503C;&#x5C31;&#x884C;&#x4E86;&#x5462;&#xFF1F;<br>&#x6211;&#x4EEC;&#x7A0D;&#x5FAE;&#x4FEE;&#x6539;&#x4E00;&#x4E0B;&#x7A0B;&#x5E8F;  </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">&#x590D;&#x5236;&#x4EE3;&#x7801;public static void main(String[] args) {</span><br><span class="line">        Integer a = new Integer(1);</span><br><span class="line">        Integer b = new Integer(2);</span><br><span class="line"></span><br><span class="line">        System.out.println(&quot;a=&quot; + a + &quot;,b=&quot; + b);</span><br><span class="line">        swap(a, b);</span><br><span class="line">        System.out.println(&quot;a=&quot; + a + &quot;,b=&quot; + b);</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    private static void swap(Integer numa, Integer numb) {</span><br><span class="line">        int tmp = numa.intValue();</span><br><span class="line">        try {</span><br><span class="line">            Field field = Integer.class.getDeclaredField(&quot;value&quot;);</span><br><span class="line">            field.setAccessible(true);</span><br><span class="line">            field.set(numa, numb);</span><br><span class="line">            field.set(numb, tmp);</span><br><span class="line">        } catch (Exception e) {</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        }</span><br><span class="line">    }</span><br></pre></td></tr></table></figure>

<p> &#x8FD0;&#x884C;&#x7ED3;&#x679C;:  </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&#x590D;&#x5236;&#x4EE3;&#x7801;a=1,b=2</span><br><span class="line">a=2,b=1</span><br></pre></td></tr></table></figure>

<p><em>&#x54CE;&#xFF1F;&#x4E3A;&#x5565; 1 &#x548C; 2 &#x4E5F;&#x53EF;&#x4EE5;&#x4E86;?</em><br>&#x6211;&#x4EEC;&#x8FD9;&#x65F6;&#x80AF;&#x5B9A;&#x731C;&#x60F3;&#x548C;<code>Integer</code>&#x7684;&#x88C5;&#x7BB1; &#x62C6;&#x7BB1;&#x6709;&#x5173;</p>
<h3 id="&#x88C5;&#x7BB1;&#xFF0C;&#x62C6;&#x7BB1;-&#x6982;&#x5FF5;"><a href="#&#x88C5;&#x7BB1;&#xFF0C;&#x62C6;&#x7BB1;-&#x6982;&#x5FF5;" class="headerlink" title="&#x88C5;&#x7BB1;&#xFF0C;&#x62C6;&#x7BB1; &#x6982;&#x5FF5;"></a>&#x88C5;&#x7BB1;&#xFF0C;&#x62C6;&#x7BB1; &#x6982;&#x5FF5;</h3><h4 id="Integer&#x7684;&#x88C5;&#x7BB1;&#x64CD;&#x4F5C;"><a href="#Integer&#x7684;&#x88C5;&#x7BB1;&#x64CD;&#x4F5C;" class="headerlink" title="Integer&#x7684;&#x88C5;&#x7BB1;&#x64CD;&#x4F5C;"></a>Integer&#x7684;&#x88C5;&#x7BB1;&#x64CD;&#x4F5C;</h4><p>&#x4E3A;&#x4EC0;&#x4E48; <code>Integer a = 1</code> &#x548C; <code>Integer a = new Integer(1)</code> &#x6548;&#x679C;&#x4E0D;&#x4E00;&#x6837;<br>&#x90A3;&#x5C31;&#x7785;&#x7785;&#x6E90;&#x7801;&#x5427;&#xFF1F;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">&#x590D;&#x5236;&#x4EE3;&#x7801;public Integer(int value) {</span><br><span class="line">    this.value = value;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line">/**</span><br><span class="line"> * Returns an {@code Integer} instance representing the specified</span><br><span class="line"> * {@code int} value.  If a new {@code Integer} instance is not</span><br><span class="line"> * required, this method should generally be used in preference to</span><br><span class="line"> * the constructor {@link #Integer(int)}, as this method is likely</span><br><span class="line"> * to yield significantly better space and time performance by</span><br><span class="line"> * caching frequently requested values.</span><br><span class="line"> *</span><br><span class="line"> * This method will always cache values in the range -128 to 127,</span><br><span class="line"> * inclusive, and may cache other values outside of this range.</span><br><span class="line"> *</span><br><span class="line"> * @param  i an {@code int} value.</span><br><span class="line"> * @return an {@code Integer} instance representing {@code i}.</span><br><span class="line"> * @since  1.5</span><br><span class="line"> */</span><br><span class="line">public static Integer valueOf(int i) {</span><br><span class="line">    if (i &gt;= IntegerCache.low &amp;&amp; i &lt;= IntegerCache.high)</span><br><span class="line">        return IntegerCache.cache[i + (-IntegerCache.low)];</span><br><span class="line">    return new Integer(i);</span><br><span class="line">}</span><br></pre></td></tr></table></figure>

<p>&#x901A;&#x8FC7;&#x6CE8;&#x91CA;&#x77E5;&#x9053;&#xFF0C;java&#x63A8;&#x8350; <code>Integer.valueOf</code> &#x65B9;&#x5F0F;&#x521D;&#x59CB;&#x5316;&#x4E00;&#x4E2A;<code>Interger</code>&#x56E0;&#x4E3A;&#x6709; &#x7F13;&#x5B58;&#x4E86;<code>-128 - 127</code>&#x7684;&#x6570;&#x5B57;<br>&#x6211;&#x4EEC;&#x76F4;&#x63A5;&#x5B9A;&#x4E49; <code>Integer a = 1</code> &#x5177;&#x6709;&#x8FD9;&#x4E2A;&#x529F;&#x80FD;&#xFF0C;&#x6240;&#x4EE5; Jvm &#x5E95;&#x5C42;&#x5B9E;&#x73B0; &#x662F;&#x901A;&#x8FC7; <code>Integer.valueOf</code>&#x8FD9;&#x4E2A;&#x65B9;&#x6CD5;<br>&#x518D;&#x770B; <code>field.set(numb, tmp);</code><br>&#x6211;&#x4EEC;&#x6253;&#x65AD;&#x70B9;&#xFF0C;&#x53D1;&#x73B0;&#x901A;&#x8FC7;&#x53CD;&#x5C04;&#x8BBE;&#x7F6E;<br> <code>value</code>&#x65F6; &#x7ADF;&#x7136;&#x8D70;&#x4E86; <code>Integer.valueOf</code> &#x65B9;&#x6CD5;<br>&#x4E0B;&#x9762;&#x662F; &#x6211;&#x4EEC;&#x8C03;&#x7528; <code>swap</code>&#x524D;&#x540E;&#x7684; <code>IntegerCache.cache</code> &#x503C;&#x5F97;&#x53D8;&#x5316;</p>
<h5 id="&#x53CD;&#x5C04;&#x4FEE;&#x6539;&#x524D;"><a href="#&#x53CD;&#x5C04;&#x4FEE;&#x6539;&#x524D;" class="headerlink" title="&#x53CD;&#x5C04;&#x4FEE;&#x6539;&#x524D;:"></a>&#x53CD;&#x5C04;&#x4FEE;&#x6539;&#x524D;:</h5><p><img src="https://gitee.com/songjianzaina/juejin_p4/raw/master/img/12867b8cae3000be43fa50c7ebd8694859c10bdcbf2a1b6b65e3095a89c406dd" alt> </p>
<h5 id="&#x53CD;&#x5C04;&#x4FEE;&#x6539;&#x540E;"><a href="#&#x53CD;&#x5C04;&#x4FEE;&#x6539;&#x540E;" class="headerlink" title="&#x53CD;&#x5C04;&#x4FEE;&#x6539;&#x540E;"></a>&#x53CD;&#x5C04;&#x4FEE;&#x6539;&#x540E;</h5><p><img src="https://gitee.com/songjianzaina/juejin_p4/raw/master/img/70226e2eb36fed8662ed0d12eb8e66c4966894eef6dad4fb6d6b7f839a300261" alt><br>&#x5728;&#x53CD;&#x5C04;&#x4FEE;&#x6539;&#x524D;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&#x590D;&#x5236;&#x4EE3;&#x7801;IntegerCache.cache[128]=0</span><br><span class="line">IntegerCache.cache[129]=1</span><br><span class="line">IntegerCache.cache[130]=2</span><br></pre></td></tr></table></figure>

<p>&#x901A;&#x8FC7;&#x53CD;&#x5C04;&#x4FEE;&#x6539;&#x540E;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&#x590D;&#x5236;&#x4EE3;&#x7801;IntegerCache.cache[128]=0</span><br><span class="line">IntegerCache.cache[129]=2</span><br><span class="line">IntegerCache.cache[130]=2</span><br></pre></td></tr></table></figure>

<p>&#x518D;&#x8C03;&#x7528; <code>field.set(numb, tmp)</code> tmp&#x8FD9;&#x65F6;&#x7B49;&#x4E8E;1 &#x5BF9;&#x5E94;&#x7684; &#x89D2;&#x6807; 129 ,&#x4F46;&#x662F;&#x8FD9;&#x4E2A;&#x503C;&#x5DF2;&#x7ECF;&#x53D8;&#x6210;&#x4E86;2<br>&#x6240;&#x4EE5;&#x51FA;&#x73B0;&#x4E86;&#x521A;&#x624D; <code>&#x5947;&#x602A;&#x7684;&#x7ED3;&#x679C;</code><br>&#x539F;&#x6765;&#x90FD;&#x662F;<code>&#x7F13;&#x5B58;&#x7684;&#x9505;</code><br>&#x4E0B;&#x9762;&#x8D81;&#x673A;&#x518D;&#x770B;&#x4E2A;&#x4F8B;&#x5B50; &#x52A0;&#x6DF1;&#x7406;&#x89E3;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&#x590D;&#x5236;&#x4EE3;&#x7801;Integer testA = 1;</span><br><span class="line">Integer testB = 1;</span><br><span class="line"></span><br><span class="line">Integer testC = 128;</span><br><span class="line">Integer testD = 128;</span><br><span class="line">System.out.println(&quot;testA=testB &quot; + (testA == testB) + &quot;,\ntestC=testD &quot; + (testC == testD));</span><br></pre></td></tr></table></figure>

<p> &#x8F93;&#x51FA;&#x7ED3;&#x679C;:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&#x590D;&#x5236;&#x4EE3;&#x7801;testA=testB true,</span><br><span class="line">testC=testD false</span><br></pre></td></tr></table></figure>

<p>&#x901A;&#x8FC7;&#x8FD9;&#x5C0F;&#x793A;&#x4F8B;&#xFF0C;&#x5728; -128 &#x5230; 127&#x7684;&#x6570;&#x5B57;&#x90FD;&#x8D70;&#x4E86;&#x7F13;&#x5B58;&#xFF0C;&#x8FD9;&#x6837; <code>testA</code> &#x548C; <code>testB</code>&#x5F15;&#x7528;&#x7684;&#x662F;&#x540C;&#x4E00;&#x7247;&#x5185;&#x5B58;&#x533A;&#x57DF;&#x7684;&#x540C;&#x4E00;&#x4E2A;&#x5BF9;&#x8C61;&#x3002;<br>&#x800C; <code>testC</code> <code>testD</code> &#x6570;&#x503C;&#x5927;&#x4E8E;127 &#x6240;&#x4EE5; &#x6CA1;&#x6709;&#x8D70;&#x7F13;&#x5B58;&#xFF0C;&#x76F8;&#x5F53;&#x4E8E;&#x4E24;&#x4E2A;<code>Integer</code>&#x5BF9;&#x8C61;&#xFF0C;&#x5728;&#x5806;&#x5185;&#x5B58;&#x533A;&#x57DF;&#x6709;&#x4E24;&#x4E2A;&#x5BF9;&#x8C61;&#x3002;<br>&#x4E24;&#x4E2A;&#x5BF9;&#x8C61;&#x81EA;&#x5982;&#x4E0D;&#x76F8;&#x7B49;&#x3002;<br>&#x5728;&#x524D;&#x9762;&#x7684;&#x793A;&#x4F8B;&#x4E2D; &#x6211;&#x4EEC; &#x901A;&#x8FC7;  </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&#x590D;&#x5236;&#x4EE3;&#x7801;Integer a = new Integer(1);</span><br><span class="line">Integer b = new Integer(2);</span><br></pre></td></tr></table></figure>

<p>&#x65B9;&#x5F0F;&#x521D;&#x59CB;&#x5316; <code>a</code>,<code>b</code> &#x6211;&#x4EEC;&#x7684;&#x4EA4;&#x6362;&#x7B97;&#x6CD5;&#x6CA1;&#x6709;&#x95EE;&#x9898;&#xFF0C;&#x4E5F;&#x662F;&#x8FD9;&#x4E2A;&#x539F;&#x56E0;&#x3002;</p>
<h5 id="&#x90A3;&#x4E48;&#x5230;&#x76EE;&#x524D;&#x4E3A;&#x6B62;&#x6211;&#x4EEC;&#x7684;swap-&#x65B9;&#x6CD5;&#x53EF;&#x4EE5;&#x5B8C;&#x5584;&#x5566;"><a href="#&#x90A3;&#x4E48;&#x5230;&#x76EE;&#x524D;&#x4E3A;&#x6B62;&#x6211;&#x4EEC;&#x7684;swap-&#x65B9;&#x6CD5;&#x53EF;&#x4EE5;&#x5B8C;&#x5584;&#x5566;" class="headerlink" title="&#x90A3;&#x4E48;&#x5230;&#x76EE;&#x524D;&#x4E3A;&#x6B62;&#x6211;&#x4EEC;&#x7684;swap &#x65B9;&#x6CD5;&#x53EF;&#x4EE5;&#x5B8C;&#x5584;&#x5566;"></a>&#x90A3;&#x4E48;&#x5230;&#x76EE;&#x524D;&#x4E3A;&#x6B62;&#x6211;&#x4EEC;&#x7684;<code>swap</code> &#x65B9;&#x6CD5;&#x53EF;&#x4EE5;&#x5B8C;&#x5584;&#x5566;</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">&#x590D;&#x5236;&#x4EE3;&#x7801;private static void swap(Integer numa, Integer numb) {</span><br><span class="line">        int tmp = numa.intValue();</span><br><span class="line">        try {</span><br><span class="line">            Field field = Integer.class.getDeclaredField(&quot;value&quot;);</span><br><span class="line">            field.setAccessible(true);</span><br><span class="line">            field.set(numa, numb);</span><br><span class="line">            field.set(numb, new Integer(tmp));</span><br><span class="line">        } catch (Exception e) {</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        }</span><br><span class="line">    }</span><br></pre></td></tr></table></figure>

<p>&#x53EA;&#x9700;&#x5C06;&#x4E4B;&#x524D;&#x7684; <code>field.set(numb, tmp)</code> &#x6539;&#x4E3A; <code>field.set(numb, new Integer(tmp))</code></p>
<p>&#x5230;&#x6B64;, &#x8FD9;&#x4E2A;&#x9762;&#x8BD5;&#x6211;&#x4EEC;&#x5DF2;&#x7ECF;&#x901A;&#x8FC7;&#x4E86;&#xFF0C;&#x8FD8;&#x6709;&#x4E00;&#x4E2A;&#x7591;&#x95EE;&#x6211;&#x6CA1;&#x6709;&#x89E3;&#x7B54;&#x3002;<br>&#x4E3A;&#x4EC0;&#x4E48; <code>field.set(numb, tmp)</code> &#x4F1A;&#x6267;&#x884C; <code>Integer.valueOf()</code> &#x800C; <code>field.set(numb, new Integer(tmp))</code> &#x4E0D;&#x4F1A;&#x6267;&#x884C;&#x3002;<br>&#x8FD9;&#x5C31;&#x662F;<code>Integer&#x7684;&#x88C5;&#x7BB1;</code>&#x64CD;&#x4F5C;&#xFF0C;&#x5F53; &#x7ED9; <code>Integer.value</code> &#x8D4B;&#x503C; <code>int</code>&#x65F6;&#xFF0C;JVM<br> &#x68C0;&#x6D4B;&#x5230; <code>int&#x4E0D;&#x662F;Integer&#x7C7B;&#x578B;</code>,&#x9700;&#x8981;&#x88C5;&#x7BB1;&#xFF0C;&#x624D;&#x6267;&#x884C;&#x4E86;<code>Integer.valueOf()</code>&#x65B9;&#x6CD5;&#x3002;&#x800C;<code>field.set(numb, new Integer(tmp))</code> &#x8BBE;&#x7F6E;&#x7684; &#x662F;Integer&#x7C7B;&#x578B;&#x4E86;&#xFF0C;&#x5C31;&#x4E0D;&#x4F1A;&#x518D;&#x62C6;&#x7BB1;&#x540E;&#x518D;&#x88C5;&#x7BB1;&#x3002;</p>
<h3 id="Over-Thanks"><a href="#Over-Thanks" class="headerlink" title="Over Thanks"></a>Over Thanks</h3><p><strong>&#x672C;&#x6587;&#x8F6C;&#x8F7D;&#x81EA;:</strong> <a href="/external_links/fd44d1365088e50acf939fda9115ec4a.html" target="blank" rel="noopener">&#x6398;&#x91D1;</a></p>
<p><em><a href="https://dev.newban.cn/">&#x5F00;&#x53D1;&#x8005;&#x535A;&#x5BA2; &#x2013; &#x548C;&#x5F00;&#x53D1;&#x76F8;&#x5173;&#x7684; &#x8FD9;&#x91CC;&#x5168;&#x90FD;&#x6709;</a></em></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://dev.newban.cn../../6844903512015372296.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="开发者博客">
      <meta itemprop="description" content>
      <meta itemprop="image" content="../../images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="开发者博客 – IT技术 尽在开发者博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="../../6844903512015372296.html" itemprop="url">Python Scrapy爬虫框架学习</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-11-17T14:30:52+08:00">
                2017-11-17
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <blockquote>
<p>Scrapy &#x662F;&#x7528;Python&#x5B9E;&#x73B0;&#x4E00;&#x4E2A;&#x4E3A;&#x722C;&#x53D6;&#x7F51;&#x7AD9;&#x6570;&#x636E;&#x3001;&#x63D0;&#x53D6;&#x7ED3;&#x6784;&#x6027;&#x6570;&#x636E;&#x800C;&#x7F16;&#x5199;&#x7684;&#x5E94;&#x7528;&#x6846;&#x67B6;&#x3002;</p>
</blockquote>
<h2 id="&#x4E00;&#x3001;Scrapy&#x6846;&#x67B6;&#x7B80;&#x4ECB;"><a href="#&#x4E00;&#x3001;Scrapy&#x6846;&#x67B6;&#x7B80;&#x4ECB;" class="headerlink" title="&#x4E00;&#x3001;Scrapy&#x6846;&#x67B6;&#x7B80;&#x4ECB;"></a>&#x4E00;&#x3001;Scrapy&#x6846;&#x67B6;&#x7B80;&#x4ECB;</h2><p>Scrapy&#x662F;&#x4E00;&#x4E2A;&#x4E3A;&#x4E86;&#x722C;&#x53D6;&#x7F51;&#x7AD9;&#x6570;&#x636E;&#xFF0C;&#x63D0;&#x53D6;&#x7ED3;&#x6784;&#x6027;&#x6570;&#x636E;&#x800C;&#x7F16;&#x5199;&#x7684;&#x5E94;&#x7528;&#x6846;&#x67B6;&#x3002; &#x53EF;&#x4EE5;&#x5E94;&#x7528;&#x5728;&#x5305;&#x62EC;&#x6570;&#x636E;&#x6316;&#x6398;&#xFF0C;&#x4FE1;&#x606F;&#x5904;&#x7406;&#x6216;&#x5B58;&#x50A8;&#x5386;&#x53F2;&#x6570;&#x636E;&#x7B49;&#x4E00;&#x7CFB;&#x5217;&#x7684;&#x7A0B;&#x5E8F;&#x4E2D;&#x3002;</p>
<p>&#x5176;&#x6700;&#x521D;&#x662F;&#x4E3A;&#x4E86; &#x9875;&#x9762;&#x6293;&#x53D6; (&#x66F4;&#x786E;&#x5207;&#x6765;&#x8BF4;, &#x7F51;&#x7EDC;&#x6293;&#x53D6; )&#x6240;&#x8BBE;&#x8BA1;&#x7684;&#xFF0C; &#x4E5F;&#x53EF;&#x4EE5;&#x5E94;&#x7528;&#x5728;&#x83B7;&#x53D6;API&#x6240;&#x8FD4;&#x56DE;&#x7684;&#x6570;&#x636E;(&#x4F8B;&#x5982; Amazon Associates Web Services ) &#x6216;&#x8005;&#x901A;&#x7528;&#x7684;&#x7F51;&#x7EDC;&#x722C;&#x866B;&#x3002;</p>
<h2 id="&#x4E8C;&#x3001;&#x67B6;&#x6784;&#x6D41;&#x7A0B;&#x56FE;"><a href="#&#x4E8C;&#x3001;&#x67B6;&#x6784;&#x6D41;&#x7A0B;&#x56FE;" class="headerlink" title="&#x4E8C;&#x3001;&#x67B6;&#x6784;&#x6D41;&#x7A0B;&#x56FE;"></a>&#x4E8C;&#x3001;&#x67B6;&#x6784;&#x6D41;&#x7A0B;&#x56FE;</h2><p>&#x63A5;&#x4E0B;&#x6765;&#x7684;&#x56FE;&#x8868;&#x5C55;&#x73B0;&#x4E86;Scrapy&#x7684;&#x67B6;&#x6784;&#xFF0C;&#x5305;&#x62EC;&#x7EC4;&#x4EF6;&#x53CA;&#x5728;&#x7CFB;&#x7EDF;&#x4E2D;&#x53D1;&#x751F;&#x7684;&#x6570;&#x636E;&#x6D41;&#x7684;&#x6982;&#x89C8;(&#x7EFF;&#x8272;&#x7BAD;&#x5934;&#x6240;&#x793A;)&#x3002; &#x4E0B;&#x9762;&#x5BF9;&#x6BCF;&#x4E2A;&#x7EC4;&#x4EF6;&#x90FD;&#x505A;&#x4E86;&#x7B80;&#x5355;&#x4ECB;&#x7ECD;&#xFF0C;&#x5E76;&#x7ED9;&#x51FA;&#x4E86;&#x8BE6;&#x7EC6;&#x5185;&#x5BB9;&#x7684;&#x94FE;&#x63A5;&#x3002;&#x6570;&#x636E;&#x6D41;&#x5982;&#x4E0B;&#x6240;&#x63CF;&#x8FF0;&#x3002;</p>
<p><img src="https://gitee.com/songjianzaina/juejin_p4/raw/master/img/8dc0f93987334c4c916e4cd46e187ecace7bee61983b2b14f5aefb3dbeef1030" alt></p>
<h3 id="1&#x3001;&#x7EC4;&#x4EF6;"><a href="#1&#x3001;&#x7EC4;&#x4EF6;" class="headerlink" title="1&#x3001;&#x7EC4;&#x4EF6;"></a>1&#x3001;&#x7EC4;&#x4EF6;</h3><h4 id="Scrapy-Engine"><a href="#Scrapy-Engine" class="headerlink" title="Scrapy Engine"></a>Scrapy Engine</h4><p>&#x5F15;&#x64CE;&#x8D1F;&#x8D23;&#x63A7;&#x5236;&#x6570;&#x636E;&#x6D41;&#x5728;&#x7CFB;&#x7EDF;&#x4E2D;&#x6240;&#x6709;&#x7EC4;&#x4EF6;&#x4E2D;&#x6D41;&#x52A8;&#xFF0C;&#x5E76;&#x5728;&#x76F8;&#x5E94;&#x52A8;&#x4F5C;&#x53D1;&#x751F;&#x65F6;&#x89E6;&#x53D1;&#x4E8B;&#x4EF6;&#x3002; &#x8BE6;&#x7EC6;&#x5185;&#x5BB9;&#x67E5;&#x770B;&#x4E0B;&#x9762;&#x7684;&#x6570;&#x636E;&#x6D41;(Data Flow)&#x90E8;&#x5206;&#x3002;</p>
<h4 id="&#x8C03;&#x5EA6;&#x5668;-Scheduler"><a href="#&#x8C03;&#x5EA6;&#x5668;-Scheduler" class="headerlink" title="&#x8C03;&#x5EA6;&#x5668;(Scheduler)"></a>&#x8C03;&#x5EA6;&#x5668;(Scheduler)</h4><p>&#x8C03;&#x5EA6;&#x5668;&#x4ECE;&#x5F15;&#x64CE;&#x63A5;&#x53D7;request&#x5E76;&#x5C06;&#x4ED6;&#x4EEC;&#x5165;&#x961F;&#xFF0C;&#x4EE5;&#x4FBF;&#x4E4B;&#x540E;&#x5F15;&#x64CE;&#x8BF7;&#x6C42;&#x4ED6;&#x4EEC;&#x65F6;&#x63D0;&#x4F9B;&#x7ED9;&#x5F15;&#x64CE;&#x3002;</p>
<h4 id="&#x4E0B;&#x8F7D;&#x5668;-Downloader"><a href="#&#x4E0B;&#x8F7D;&#x5668;-Downloader" class="headerlink" title="&#x4E0B;&#x8F7D;&#x5668;(Downloader)"></a>&#x4E0B;&#x8F7D;&#x5668;(Downloader)</h4><p>&#x4E0B;&#x8F7D;&#x5668;&#x8D1F;&#x8D23;&#x83B7;&#x53D6;&#x9875;&#x9762;&#x6570;&#x636E;&#x5E76;&#x63D0;&#x4F9B;&#x7ED9;&#x5F15;&#x64CE;&#xFF0C;&#x800C;&#x540E;&#x63D0;&#x4F9B;&#x7ED9;spider&#x3002;</p>
<h4 id="Spiders"><a href="#Spiders" class="headerlink" title="Spiders"></a>Spiders</h4><p>Spider&#x662F;Scrapy&#x7528;&#x6237;&#x7F16;&#x5199;&#x7528;&#x4E8E;&#x5206;&#x6790;response&#x5E76;&#x63D0;&#x53D6;item(&#x5373;&#x83B7;&#x53D6;&#x5230;&#x7684;item)&#x6216;&#x989D;&#x5916;&#x8DDF;&#x8FDB;&#x7684;URL&#x7684;&#x7C7B;&#x3002; &#x6BCF;&#x4E2A;spider&#x8D1F;&#x8D23;&#x5904;&#x7406;&#x4E00;&#x4E2A;&#x7279;&#x5B9A;(&#x6216;&#x4E00;&#x4E9B;)&#x7F51;&#x7AD9;&#x3002; &#x66F4;&#x591A;&#x5185;&#x5BB9;&#x8BF7;&#x770B; Spiders &#x3002;</p>
<h4 id="Item-Pipeline"><a href="#Item-Pipeline" class="headerlink" title="Item Pipeline"></a>Item Pipeline</h4><p>Item Pipeline&#x8D1F;&#x8D23;&#x5904;&#x7406;&#x88AB;spider&#x63D0;&#x53D6;&#x51FA;&#x6765;&#x7684;item&#x3002;&#x5178;&#x578B;&#x7684;&#x5904;&#x7406;&#x6709;&#x6E05;&#x7406;&#x3001; &#x9A8C;&#x8BC1;&#x53CA;&#x6301;&#x4E45;&#x5316;(&#x4F8B;&#x5982;&#x5B58;&#x53D6;&#x5230;&#x6570;&#x636E;&#x5E93;&#x4E2D;)&#x3002; &#x66F4;&#x591A;&#x5185;&#x5BB9;&#x67E5;&#x770B; Item Pipeline &#x3002;</p>
<h4 id="&#x4E0B;&#x8F7D;&#x5668;&#x4E2D;&#x95F4;&#x4EF6;-Downloader-middlewares"><a href="#&#x4E0B;&#x8F7D;&#x5668;&#x4E2D;&#x95F4;&#x4EF6;-Downloader-middlewares" class="headerlink" title="&#x4E0B;&#x8F7D;&#x5668;&#x4E2D;&#x95F4;&#x4EF6;(Downloader middlewares)"></a>&#x4E0B;&#x8F7D;&#x5668;&#x4E2D;&#x95F4;&#x4EF6;(Downloader middlewares)</h4><p>&#x4E0B;&#x8F7D;&#x5668;&#x4E2D;&#x95F4;&#x4EF6;&#x662F;&#x5728;&#x5F15;&#x64CE;&#x53CA;&#x4E0B;&#x8F7D;&#x5668;&#x4E4B;&#x95F4;&#x7684;&#x7279;&#x5B9A;&#x94A9;&#x5B50;(specific hook)&#xFF0C;&#x5904;&#x7406;Downloader&#x4F20;&#x9012;&#x7ED9;&#x5F15;&#x64CE;&#x7684;response&#x3002; &#x5176;&#x63D0;&#x4F9B;&#x4E86;&#x4E00;&#x4E2A;&#x7B80;&#x4FBF;&#x7684;&#x673A;&#x5236;&#xFF0C;&#x901A;&#x8FC7;&#x63D2;&#x5165;&#x81EA;&#x5B9A;&#x4E49;&#x4EE3;&#x7801;&#x6765;&#x6269;&#x5C55;Scrapy&#x529F;&#x80FD;&#x3002;&#x66F4;&#x591A;&#x5185;&#x5BB9;&#x8BF7;&#x770B; &#x4E0B;&#x8F7D;&#x5668;&#x4E2D;&#x95F4;&#x4EF6;(Downloader Middleware) &#x3002;</p>
<h4 id="Spider&#x4E2D;&#x95F4;&#x4EF6;-Spider-middlewares"><a href="#Spider&#x4E2D;&#x95F4;&#x4EF6;-Spider-middlewares" class="headerlink" title="Spider&#x4E2D;&#x95F4;&#x4EF6;(Spider middlewares)"></a>Spider&#x4E2D;&#x95F4;&#x4EF6;(Spider middlewares)</h4><p>Spider&#x4E2D;&#x95F4;&#x4EF6;&#x662F;&#x5728;&#x5F15;&#x64CE;&#x53CA;Spider&#x4E4B;&#x95F4;&#x7684;&#x7279;&#x5B9A;&#x94A9;&#x5B50;(specific hook)&#xFF0C;&#x5904;&#x7406;spider&#x7684;&#x8F93;&#x5165;(response)&#x548C;&#x8F93;&#x51FA;(items&#x53CA;requests)&#x3002; &#x5176;&#x63D0;&#x4F9B;&#x4E86;&#x4E00;&#x4E2A;&#x7B80;&#x4FBF;&#x7684;&#x673A;&#x5236;&#xFF0C;&#x901A;&#x8FC7;&#x63D2;&#x5165;&#x81EA;&#x5B9A;&#x4E49;&#x4EE3;&#x7801;&#x6765;&#x6269;&#x5C55;Scrapy&#x529F;&#x80FD;&#x3002;&#x66F4;&#x591A;&#x5185;&#x5BB9;&#x8BF7;&#x770B; Spider&#x4E2D;&#x95F4;&#x4EF6;(Middleware) &#x3002;</p>
<h3 id="2&#x3001;&#x6570;&#x636E;&#x6D41;-Data-flow"><a href="#2&#x3001;&#x6570;&#x636E;&#x6D41;-Data-flow" class="headerlink" title="2&#x3001;&#x6570;&#x636E;&#x6D41;(Data flow)"></a>2&#x3001;&#x6570;&#x636E;&#x6D41;(Data flow)</h3><p>Scrapy&#x4E2D;&#x7684;&#x6570;&#x636E;&#x6D41;&#x7531;&#x6267;&#x884C;&#x5F15;&#x64CE;&#x63A7;&#x5236;&#xFF0C;&#x5176;&#x8FC7;&#x7A0B;&#x5982;&#x4E0B;:</p>
<ol>
<li>&#x5F15;&#x64CE;&#x6253;&#x5F00;&#x4E00;&#x4E2A;&#x7F51;&#x7AD9;(open a domain)&#xFF0C;&#x627E;&#x5230;&#x5904;&#x7406;&#x8BE5;&#x7F51;&#x7AD9;&#x7684;Spider&#x5E76;&#x5411;&#x8BE5;spider&#x8BF7;&#x6C42;&#x7B2C;&#x4E00;&#x4E2A;&#x8981;&#x722C;&#x53D6;&#x7684;URL(s)&#x3002;</li>
<li>&#x5F15;&#x64CE;&#x4ECE;Spider&#x4E2D;&#x83B7;&#x53D6;&#x5230;&#x7B2C;&#x4E00;&#x4E2A;&#x8981;&#x722C;&#x53D6;&#x7684;URL&#x5E76;&#x5728;&#x8C03;&#x5EA6;&#x5668;(Scheduler)&#x4EE5;Request&#x8C03;&#x5EA6;&#x3002;</li>
<li>&#x5F15;&#x64CE;&#x5411;&#x8C03;&#x5EA6;&#x5668;&#x8BF7;&#x6C42;&#x4E0B;&#x4E00;&#x4E2A;&#x8981;&#x722C;&#x53D6;&#x7684;URL&#x3002;</li>
<li>&#x8C03;&#x5EA6;&#x5668;&#x8FD4;&#x56DE;&#x4E0B;&#x4E00;&#x4E2A;&#x8981;&#x722C;&#x53D6;&#x7684;URL&#x7ED9;&#x5F15;&#x64CE;&#xFF0C;&#x5F15;&#x64CE;&#x5C06;URL&#x901A;&#x8FC7;&#x4E0B;&#x8F7D;&#x4E2D;&#x95F4;&#x4EF6;(&#x8BF7;&#x6C42;(request)&#x65B9;&#x5411;)&#x8F6C;&#x53D1;&#x7ED9;&#x4E0B;&#x8F7D;&#x5668;(Downloader)&#x3002;</li>
<li>&#x4E00;&#x65E6;&#x9875;&#x9762;&#x4E0B;&#x8F7D;&#x5B8C;&#x6BD5;&#xFF0C;&#x4E0B;&#x8F7D;&#x5668;&#x751F;&#x6210;&#x4E00;&#x4E2A;&#x8BE5;&#x9875;&#x9762;&#x7684;Response&#xFF0C;&#x5E76;&#x5C06;&#x5176;&#x901A;&#x8FC7;&#x4E0B;&#x8F7D;&#x4E2D;&#x95F4;&#x4EF6;(&#x8FD4;&#x56DE;(response)&#x65B9;&#x5411;)&#x53D1;&#x9001;&#x7ED9;&#x5F15;&#x64CE;&#x3002;</li>
<li>&#x5F15;&#x64CE;&#x4ECE;&#x4E0B;&#x8F7D;&#x5668;&#x4E2D;&#x63A5;&#x6536;&#x5230;Response&#x5E76;&#x901A;&#x8FC7;Spider&#x4E2D;&#x95F4;&#x4EF6;(&#x8F93;&#x5165;&#x65B9;&#x5411;)&#x53D1;&#x9001;&#x7ED9;Spider&#x5904;&#x7406;&#x3002;</li>
<li>Spider&#x5904;&#x7406;Response&#x5E76;&#x8FD4;&#x56DE;&#x722C;&#x53D6;&#x5230;&#x7684;Item&#x53CA;(&#x8DDF;&#x8FDB;&#x7684;)&#x65B0;&#x7684;Request&#x7ED9;&#x5F15;&#x64CE;&#x3002;</li>
<li>&#x5F15;&#x64CE;&#x5C06;(Spider&#x8FD4;&#x56DE;&#x7684;)&#x722C;&#x53D6;&#x5230;&#x7684;Item&#x7ED9;Item Pipeline&#xFF0C;&#x5C06;(Spider&#x8FD4;&#x56DE;&#x7684;)Request&#x7ED9;&#x8C03;&#x5EA6;&#x5668;&#x3002;</li>
<li>(&#x4ECE;&#x7B2C;&#x4E8C;&#x6B65;)&#x91CD;&#x590D;&#x76F4;&#x5230;&#x8C03;&#x5EA6;&#x5668;&#x4E2D;&#x6CA1;&#x6709;&#x66F4;&#x591A;&#x5730;request&#xFF0C;&#x5F15;&#x64CE;&#x5173;&#x95ED;&#x8BE5;&#x7F51;&#x7AD9;&#x3002;</li>
</ol>
<h3 id="3&#x3001;&#x4E8B;&#x4EF6;&#x9A71;&#x52A8;&#x7F51;&#x7EDC;-Event-driven-networking"><a href="#3&#x3001;&#x4E8B;&#x4EF6;&#x9A71;&#x52A8;&#x7F51;&#x7EDC;-Event-driven-networking" class="headerlink" title="3&#x3001;&#x4E8B;&#x4EF6;&#x9A71;&#x52A8;&#x7F51;&#x7EDC;(Event-driven networking)"></a>3&#x3001;&#x4E8B;&#x4EF6;&#x9A71;&#x52A8;&#x7F51;&#x7EDC;(Event-driven networking)</h3><p>Scrapy&#x57FA;&#x4E8E;&#x4E8B;&#x4EF6;&#x9A71;&#x52A8;&#x7F51;&#x7EDC;&#x6846;&#x67B6; <code>Twisted</code> &#x7F16;&#x5199;&#x3002;&#x56E0;&#x6B64;&#xFF0C;Scrapy&#x57FA;&#x4E8E;&#x5E76;&#x53D1;&#x6027;&#x8003;&#x8651;&#x7531;&#x975E;&#x963B;&#x585E;(&#x5373;&#x5F02;&#x6B65;)&#x7684;&#x5B9E;&#x73B0;&#x3002;</p>
<p>&#x5173;&#x4E8E;&#x5F02;&#x6B65;&#x7F16;&#x7A0B;&#x53CA;Twisted&#x66F4;&#x591A;&#x7684;&#x5185;&#x5BB9;&#x8BF7;&#x67E5;&#x770B;&#x4E0B;&#x5217;&#x94FE;&#x63A5;:</p>
<h2 id="&#x4E09;&#x3001;4&#x6B65;&#x5236;&#x4F5C;&#x722C;&#x866B;"><a href="#&#x4E09;&#x3001;4&#x6B65;&#x5236;&#x4F5C;&#x722C;&#x866B;" class="headerlink" title="&#x4E09;&#x3001;4&#x6B65;&#x5236;&#x4F5C;&#x722C;&#x866B;"></a>&#x4E09;&#x3001;4&#x6B65;&#x5236;&#x4F5C;&#x722C;&#x866B;</h2><ol>
<li>&#x65B0;&#x5EFA;&#x9879;&#x76EE;&#xFF08;scrapy startproject xxx&#xFF09;:&#x65B0;&#x5EFA;&#x4E00;&#x4E2A;&#x65B0;&#x7684;&#x722C;&#x866B;&#x9879;&#x76EE;</li>
<li>&#x660E;&#x786E;&#x76EE;&#x6807;&#xFF08;&#x7F16;&#x5199;items.py&#xFF09;:&#x660E;&#x786E;&#x4F60;&#x60F3;&#x8981;&#x6293;&#x53D6;&#x7684;&#x76EE;&#x6807;</li>
<li>&#x5236;&#x4F5C;&#x722C;&#x866B;&#xFF08;spiders/xxsp der.py&#xFF09;:&#x5236;&#x4F5C;&#x722C;&#x866B;&#x5F00;&#x59CB;&#x722C;&#x53D6;&#x7F51;&#x9875;</li>
<li>&#x5B58;&#x50A8;&#x5185;&#x5BB9;&#xFF08;pipelines.py&#xFF09;:&#x8BBE;&#x8BA1;&#x7BA1;&#x9053;&#x5B58;&#x50A8;&#x722C;&#x53D6;&#x5185;&#x5BB9;</li>
</ol>
<h2 id="&#x56DB;&#x3001;&#x5B89;&#x88C5;&#x6846;&#x67B6;"><a href="#&#x56DB;&#x3001;&#x5B89;&#x88C5;&#x6846;&#x67B6;" class="headerlink" title="&#x56DB;&#x3001;&#x5B89;&#x88C5;&#x6846;&#x67B6;"></a>&#x56DB;&#x3001;&#x5B89;&#x88C5;&#x6846;&#x67B6;</h2><p>&#x8FD9;&#x91CC;&#x6211;&#x4EEC;&#x4F7F;&#x7528; conda &#x6765;&#x8FDB;&#x884C;&#x5B89;&#x88C5;&#xFF1A;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#x590D;&#x5236;&#x4EE3;&#x7801;conda install scrapy</span><br></pre></td></tr></table></figure>

<p>&#x6216;&#x8005;&#x4F7F;&#x7528; <code>pip</code> &#x8FDB;&#x884C;&#x5B89;&#x88C5;&#xFF1A;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#x590D;&#x5236;&#x4EE3;&#x7801;pip install scrapy</span><br></pre></td></tr></table></figure>

<p>&#x67E5;&#x770B;&#x5B89;&#x88C5;&#xFF1A;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">&#x590D;&#x5236;&#x4EE3;&#x7801;&#x279C;  spider scrapy -h</span><br><span class="line">Scrapy 1.4.0 - no active project</span><br><span class="line"></span><br><span class="line">Usage:</span><br><span class="line">  scrapy &lt;command&gt; [options] [args]</span><br><span class="line"></span><br><span class="line">Available commands:</span><br><span class="line">  bench         Run quick benchmark test</span><br><span class="line">  fetch         Fetch a URL using the Scrapy downloader</span><br><span class="line">  genspider     Generate new spider using pre-defined templates</span><br><span class="line">  runspider     Run a self-contained spider (without creating a project)</span><br><span class="line">  settings      Get settings values</span><br><span class="line">  shell         Interactive scraping console</span><br><span class="line">  startproject  Create new project</span><br><span class="line">  version       Print Scrapy version</span><br><span class="line">  view          Open URL in browser, as seen by Scrapy</span><br><span class="line"></span><br><span class="line">  [ more ]      More commands available when run from project directory</span><br><span class="line"></span><br><span class="line">Use &quot;scrapy &lt;command&gt; -h&quot; to see more info about a command</span><br></pre></td></tr></table></figure>

<h3 id="1-&#x521B;&#x5EFA;&#x9879;&#x76EE;"><a href="#1-&#x521B;&#x5EFA;&#x9879;&#x76EE;" class="headerlink" title="1.&#x521B;&#x5EFA;&#x9879;&#x76EE;"></a>1.&#x521B;&#x5EFA;&#x9879;&#x76EE;</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&#x590D;&#x5236;&#x4EE3;&#x7801;&#x279C;  spider scrapy startproject SF</span><br><span class="line">New Scrapy project &apos;SF&apos;, using template directory &apos;/Users/kaiyiwang/anaconda2/lib/python2.7/site-packages/scrapy/templates/project&apos;, created in:</span><br><span class="line">    /Users/kaiyiwang/Code/python/spider/SF</span><br><span class="line"></span><br><span class="line">You can start your first spider with:</span><br><span class="line">    cd SF</span><br><span class="line">    scrapy genspider example example.com</span><br><span class="line">&#x279C;  spider</span><br></pre></td></tr></table></figure>

<p>&#x4F7F;&#x7528; <code>tree</code> &#x547D;&#x4EE4;&#x53EF;&#x4EE5;&#x67E5;&#x770B;&#x9879;&#x76EE;&#x7ED3;&#x6784;&#xFF1A;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">&#x590D;&#x5236;&#x4EE3;&#x7801;&#x279C;  SF tree</span><br><span class="line">.</span><br><span class="line">&#x251C;&#x2500;&#x2500; SF</span><br><span class="line">&#x2502;&#xA0;&#xA0; &#x251C;&#x2500;&#x2500; __init__.py</span><br><span class="line">&#x2502;&#xA0;&#xA0; &#x251C;&#x2500;&#x2500; items.py</span><br><span class="line">&#x2502;&#xA0;&#xA0; &#x251C;&#x2500;&#x2500; middlewares.py</span><br><span class="line">&#x2502;&#xA0;&#xA0; &#x251C;&#x2500;&#x2500; pipelines.py</span><br><span class="line">&#x2502;&#xA0;&#xA0; &#x251C;&#x2500;&#x2500; settings.py</span><br><span class="line">&#x2502;&#xA0;&#xA0; &#x2514;&#x2500;&#x2500; spiders</span><br><span class="line">&#x2502;&#xA0;&#xA0;     &#x2514;&#x2500;&#x2500; __init__.py</span><br><span class="line">&#x2514;&#x2500;&#x2500; scrapy.cfg</span><br></pre></td></tr></table></figure>

<p><img src="https://gitee.com/songjianzaina/juejin_p4/raw/master/img/3ba67b09683d9a328047efd555ac5c8d82959ecc8e91a3ca7455e2298de844b2" alt></p>
<h3 id="2-&#x5728;spiders-&#x76EE;&#x5F55;&#x4E0B;&#x521B;&#x5EFA;&#x6A21;&#x677F;"><a href="#2-&#x5728;spiders-&#x76EE;&#x5F55;&#x4E0B;&#x521B;&#x5EFA;&#x6A21;&#x677F;" class="headerlink" title="2.&#x5728;spiders &#x76EE;&#x5F55;&#x4E0B;&#x521B;&#x5EFA;&#x6A21;&#x677F;"></a>2.&#x5728;spiders &#x76EE;&#x5F55;&#x4E0B;&#x521B;&#x5EFA;&#x6A21;&#x677F;</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&#x590D;&#x5236;&#x4EE3;&#x7801;&#x279C;  spiders scrapy genspider sf &quot;https://segmentfault.com&quot;</span><br><span class="line">Created spider &apos;sf&apos; using template &apos;basic&apos; in module:</span><br><span class="line">  SF.spiders.sf</span><br><span class="line">&#x279C;  spiders</span><br></pre></td></tr></table></figure>

<p>&#x8FD9;&#x6837;&#xFF0C;&#x5C31;&#x751F;&#x6210;&#x4E86;&#x4E00;&#x4E2A;&#x9879;&#x76EE;&#x6587;&#x4EF6; sf.py</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">&#x590D;&#x5236;&#x4EE3;&#x7801;# -*- coding: utf-8 -*-</span><br><span class="line">import scrapy</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">class SfSpider(scrapy.Spider):</span><br><span class="line">    name = &apos;sf&apos;</span><br><span class="line">    allowed_domains = [&apos;https://segmentfault.com&apos;]</span><br><span class="line">    start_urls = [&apos;http://https://segmentfault.com/&apos;]</span><br><span class="line"></span><br><span class="line">    def parse(self, response):</span><br><span class="line">        pass</span><br></pre></td></tr></table></figure>

<p>&#x547D;&#x4EE4;&#xFF1A;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&#x590D;&#x5236;&#x4EE3;&#x7801;# &#x6D4B;&#x8BD5;&#x722C;&#x866B;&#x662F;&#x5426;&#x6B63;&#x5E38;, sf&#x4E3A;&#x722C;&#x866B;&#x7684;&#x540D;&#x79F0;</span><br><span class="line">&#x279C;  scrapy check sf</span><br><span class="line"></span><br><span class="line"># &#x8FD0;&#x884C;&#x722C;&#x866B;</span><br><span class="line">&#x279C;  scrapy crawl sf</span><br></pre></td></tr></table></figure>

<hr>
<p>&#x76F8;&#x5173;&#x6587;&#x7AE0;&#xFF1A;</p>
<p><a href="/external_links/e5afef7c07993930ef4930c77dbe22e4.html" target="blank" rel="noopener">Scrapy&#x5165;&#x95E8;&#x6559;&#x7A0B;</a></p>
<p><strong>&#x672C;&#x6587;&#x8F6C;&#x8F7D;&#x81EA;:</strong> <a href="/external_links/af3f32b95241c421a5337263e1696614.html" target="blank" rel="noopener">&#x6398;&#x91D1;</a></p>
<p><em><a href="https://dev.newban.cn/">&#x5F00;&#x53D1;&#x8005;&#x535A;&#x5BA2; &#x2013; &#x548C;&#x5F00;&#x53D1;&#x76F8;&#x5173;&#x7684; &#x8FD9;&#x91CC;&#x5168;&#x90FD;&#x6709;</a></em></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://dev.newban.cn../../6844903511981834248.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="开发者博客">
      <meta itemprop="description" content>
      <meta itemprop="image" content="../../images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="开发者博客 – IT技术 尽在开发者博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="../../6844903511981834248.html" itemprop="url">PHP 代码复用的方式</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-11-17T13:58:06+08:00">
                2017-11-17
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>&#x4EC0;&#x4E48;&#x662F; Trait?</p>
<blockquote>
<p>&#x81EA; PHP 5.4.0 &#x8D77;&#xFF0C;PHP &#x5B9E;&#x73B0;&#x4E86;&#x4E00;&#x79CD;&#x4EE3;&#x7801;&#x590D;&#x7528;&#x7684;&#x65B9;&#x6CD5;&#xFF0C;&#x79F0;&#x4E3A; Trait&#x3002;</p>
</blockquote>
<ul>
<li>Trait &#x662F;&#x4E3A;&#x4E86;&#x5355;&#x7EE7;&#x627F;&#x8BED;&#x8A00;&#x800C;&#x51C6;&#x5907;&#x7684;&#x4E00;&#x79CD;&#x4EE3;&#x7801;&#x590D;&#x7528;&#x673A;&#x5236;&#x3002;</li>
<li>Trait &#x548C; Class &#x76F8;&#x4F3C;&#xFF0C;&#x5B83;&#x4E3A;&#x4F20;&#x7EDF;&#x7684;&#x7EE7;&#x627F;&#x589E;&#x52A0;&#x4E86;&#x6C34;&#x5E73;&#x7684;&#x7279;&#x6027;&#x7684;&#x7EC4;&#x5408;&#xFF0C;&#x591A;&#x4E2A;&#x65E0;&#x5173;&#x7684; Class &#x4E4B;&#x95F4;&#x4E0D;&#x9700;&#x8981;&#x4E92;&#x76F8;&#x7EE7;&#x627F;</li>
<li>Trait &#x4F7F;&#x5F97;&#x65E0;&#x5173;&#x7684; Class &#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#x76F8;&#x540C;&#x7684;&#x5C5E;&#x6027;&#x548C;&#x65B9;&#x6CD5;&#x3002;</li>
</ul>
<blockquote>
<p>&#x7B80;&#x5355;&#x4F7F;&#x7528;</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line">&#x590D;&#x5236;&#x4EE3;&#x7801;&lt;?php</span><br><span class="line"></span><br><span class="line">trait Test</span><br><span class="line">{</span><br><span class="line">    public function echoHello()</span><br><span class="line">    {</span><br><span class="line">        echo &apos;Hello Trait&apos;;</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line">class Base</span><br><span class="line">{</span><br><span class="line">    public function index()</span><br><span class="line">    {</span><br><span class="line">        echo &apos;index&apos;;</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line">class One extends Base</span><br><span class="line">{</span><br><span class="line">    use Test;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line">class Two extends Base</span><br><span class="line">{</span><br><span class="line">    use Test;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line">$one = new One();</span><br><span class="line">$two = new Two();</span><br><span class="line"></span><br><span class="line">echo $one-&gt;echoHello();</span><br><span class="line">echo $one-&gt;index();</span><br><span class="line">echo $two-&gt;echoHello();</span><br></pre></td></tr></table></figure>

<p>&#x7ED3;&#x679C;&#x8F93;&#x51FA; <code>Hello Trait index Hello Trait</code>&#x3002;</p>
<blockquote>
<p>&#x4ECE;&#x57FA;&#x7C7B;&#x7EE7;&#x627F;&#x7684;&#x6210;&#x5458;&#x4F1A;&#x88AB; Trait &#x63D2;&#x5165;&#x7684;&#x6210;&#x5458;&#x6240;&#x8986;&#x76D6;&#x3002;&#x4F18;&#x5148;&#x987A;&#x5E8F;&#x662F;&#x6765;&#x81EA;&#x5F53;&#x524D;&#x7C7B;&#x7684;&#x6210;&#x5458;&#x8986;&#x76D6;&#x4E86; Trait &#x7684;&#x65B9;&#x6CD5;&#xFF0C;&#x800C; Trait &#x5219;&#x8986;&#x76D6;&#x4E86;&#x88AB;&#x7EE7;&#x627F;&#x7684;&#x65B9;&#x6CD5;&#x3002;</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line">&#x590D;&#x5236;&#x4EE3;&#x7801;&lt;?php</span><br><span class="line"></span><br><span class="line">trait Test</span><br><span class="line">{</span><br><span class="line">    public function echoHello()</span><br><span class="line">    {</span><br><span class="line">        echo &apos;Hello Trait&apos;;</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line">class Base</span><br><span class="line">{</span><br><span class="line">    use Test;</span><br><span class="line"></span><br><span class="line">    public function echoHello()</span><br><span class="line">    {</span><br><span class="line">        echo &apos;Hello Base&apos;;</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line">class One extends Base</span><br><span class="line">{</span><br><span class="line">    use Test;</span><br><span class="line"></span><br><span class="line">    public function echoHello()</span><br><span class="line">    {</span><br><span class="line">        echo &apos;Hello One&apos;;</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line">class Two extends Base</span><br><span class="line">{</span><br><span class="line">    use Test;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line">$one = new One();</span><br><span class="line">$two = new Two();</span><br><span class="line">$base = new Base();</span><br><span class="line"></span><br><span class="line">echo $one-&gt;echoHello();</span><br><span class="line"></span><br><span class="line">echo $two-&gt;echoHello();</span><br><span class="line"></span><br><span class="line">echo $base-&gt;echoHello();</span><br></pre></td></tr></table></figure>

<p>&#x7ED3;&#x679C;&#x8F93;&#x51FA; <code>Hello One Hello Trait Hello Base</code>&#x3002;</p>
<ul>
<li><code>class one</code> &#x793A;&#x4F8B;&#x8986;&#x76D6;&#x57FA;&#x7C7B;&#x548C; <code>Trait Test</code>&#xFF0C;&#x8BF4;&#x660E;&#x5F53;&#x524D;&#x7C7B;&#x7684;&#x65B9;&#x6CD5;&#x4F18;&#x5148;&#x7EA7;&#x9AD8;&#x4E8E;&#x4ED6;&#x4EEC;&#x3002;</li>
<li><code>class Two</code> &#x793A;&#x4F8B;&#x8986;&#x76D6;&#x57FA;&#x7C7B;&#xFF0C;<code>Trait</code> &#x7684;&#x6709;&#x4F18;&#x5148;&#x7EA7;&#x9AD8;&#x4E8E;&#x7EE7;&#x627F;&#x7684;&#x57FA;&#x7C7B;&#x3002;</li>
<li><code>class Base</code> &#x793A;&#x4F8B;&#x8986;&#x76D6; <code>Trait Test</code>&#xFF0C;&#x8BF4;&#x660E;&#x5F53;&#x524D;&#x7C7B;&#x7684;&#x65B9;&#x6CD5;&#x4F18;&#x5148;&#x7EA7;&#x9AD8;&#x4E8E; Trait&#x3002;</li>
</ul>
<blockquote>
<p>&#x901A;&#x8FC7;&#x9017;&#x53F7;&#x5206;&#x9694;&#xFF0C;&#x5728; use &#x58F0;&#x660E;&#x5217;&#x51FA;&#x591A;&#x4E2A; trait&#xFF0C;&#x53EF;&#x4EE5;&#x90FD;&#x63D2;&#x5165;&#x5230;&#x4E00;&#x4E2A;&#x7C7B;&#x4E2D;&#x3002;</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">&#x590D;&#x5236;&#x4EE3;&#x7801;&lt;?php</span><br><span class="line"></span><br><span class="line">trait Test</span><br><span class="line">{</span><br><span class="line">    public function echoHello()</span><br><span class="line">    {</span><br><span class="line">        echo &apos;Hello &apos;;</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line">trait TestTwo</span><br><span class="line">{</span><br><span class="line">    public function echoWord()</span><br><span class="line">    {</span><br><span class="line">        echo &apos;word !&apos;;</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">class One</span><br><span class="line">{</span><br><span class="line">    use Test,TestTwo;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line">$one  = new One();</span><br><span class="line"></span><br><span class="line">echo $one-&gt;echoHello();</span><br><span class="line">echo $one-&gt;echoWord();</span><br></pre></td></tr></table></figure>

<p>&#x7ED3;&#x679C;&#x8F93;&#x51FA; <code>Hello word !</code>&#x3002;</p>
<blockquote>
<p>&#x5982;&#x679C;&#x4E24;&#x4E2A; Trait &#x90FD;&#x63D2;&#x5165;&#x4E86;&#x4E00;&#x4E2A;&#x540C;&#x540D;&#x7684;&#x65B9;&#x6CD5;&#xFF0C;&#x5982;&#x679C;&#x6CA1;&#x6709;&#x660E;&#x786E;&#x89E3;&#x51B3;&#x51B2;&#x7A81;&#x5C06;&#x4F1A;&#x4EA7;&#x751F;&#x4E00;&#x4E2A;&#x81F4;&#x547D;&#x9519;&#x8BEF;&#x3002;</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line">&#x590D;&#x5236;&#x4EE3;&#x7801;&lt;?php</span><br><span class="line"></span><br><span class="line">trait Test</span><br><span class="line">{</span><br><span class="line">    public function echoHello()</span><br><span class="line">    {</span><br><span class="line">        echo &apos;Hello Test&apos;;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    public function echoWord()</span><br><span class="line">    {</span><br><span class="line">        echo &apos;word Test&apos;;</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line">trait TestTwo</span><br><span class="line">{</span><br><span class="line">    public function echoHello()</span><br><span class="line">    {</span><br><span class="line">        echo &apos;Hello TestTwo &apos;;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    public function echoWord()</span><br><span class="line">    {</span><br><span class="line">        echo &apos;word TestTwo&apos;;</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line">class One</span><br><span class="line">{</span><br><span class="line">    use Test, TestTwo {</span><br><span class="line">        Test::echoHello as echoTest;</span><br><span class="line">        Test::echoWord insteadof TestTwo;</span><br><span class="line">        TestTwo::echoHello insteadof Test;</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line">$one = new One();</span><br><span class="line"></span><br><span class="line">echo $one-&gt;echoTest();</span><br><span class="line">echo $one-&gt;echoWord();</span><br><span class="line">echo $one-&gt;echoHello();</span><br></pre></td></tr></table></figure>

<p>&#x8F93;&#x51FA;&#x7ED3;&#x679C;&#xFF1A;<code>Hello Test word Test Hello TestTwo</code>&#x3002;</p>
<ul>
<li>&#x4F7F;&#x7528; <code>as</code> &#x4F5C;&#x4E3A;&#x522B;&#x540D;&#xFF0C;&#x5373; <code>Test::echoHello as echoTest;</code> &#x8F93;&#x51FA; <code>Trait Test</code> &#x4E2D;&#x7684; <code>echoHello</code>.</li>
<li>&#x4F7F;&#x7528; <code>insteadof</code> &#x64CD;&#x4F5C;&#x7B26;&#x7528;&#x6765;&#x6392;&#x9664;&#x6389;&#x5176;&#x4ED6; <code>Trait</code>,&#x5373; <code>Test::echoWord insteadof TestTwo;</code> &#x8F93;&#x51FA;&#x7684;&#x662F; <code>word Test</code>,&#x4F7F;&#x7528; <code>Trait Test</code> &#x4E2D;&#x7684; <code>echoWord</code></li>
</ul>
<blockquote>
<p>&#x4FEE;&#x6539; &#x65B9;&#x6CD5;&#x7684;&#x63A7;&#x5236;&#x6743;&#x9650;</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line">&#x590D;&#x5236;&#x4EE3;&#x7801;&lt;?php</span><br><span class="line"></span><br><span class="line">trait Test</span><br><span class="line">{</span><br><span class="line">    public function echoHello()</span><br><span class="line">    {</span><br><span class="line">        echo &apos;Hello&apos;;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    public function echoWord()</span><br><span class="line">    {</span><br><span class="line">        echo &apos;word&apos;;</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line">trait TestTwo</span><br><span class="line">{</span><br><span class="line">    public function echoHello()</span><br><span class="line">    {</span><br><span class="line">        echo &apos;Hello TestTwo &apos;;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    public function echoWord()</span><br><span class="line">    {</span><br><span class="line">        echo &apos;word TestTwo&apos;;</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line">class One</span><br><span class="line">{</span><br><span class="line">    use Test {</span><br><span class="line">        echoHello as private;</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line">class Two</span><br><span class="line">{</span><br><span class="line">    use Test {</span><br><span class="line">        echoHello as private echoTwo;</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line">$one = new One();</span><br><span class="line">$two = new Two();</span><br><span class="line"></span><br><span class="line">echo $two-&gt;echoHello();</span><br></pre></td></tr></table></figure>

<ul>
<li>&#x8F93;&#x51FA;&#x7ED3;&#x679C; <code>Hello</code>&#x3002;</li>
<li><code>class one</code> &#x4E2D;&#x4F7F;&#x7528; <code>as</code> &#x5C06; <code>echoHello</code> &#x8BBE;&#x4E3A;&#x79C1;&#x6709;&#xFF0C;&#x5219;&#x901A;&#x8FC7; <code>class one</code> &#x4E0D;&#x80FD;&#x8BBF;&#x95EE; <code>echoHello</code>&#x3002;</li>
<li><code>class two</code> &#x4E2D;&#x4F7F;&#x7528; <code>as</code> &#x5148;&#x5C06;&#x5176;&#x91CD;&#x65B0;&#x547D;&#x540D;&#xFF0C;&#x7136;&#x540E;&#x5C06;&#x65B0;&#x547D;&#x540D;&#x65B9;&#x6CD5;&#x8BBE;&#x7F6E;&#x4E3A;&#x79C1;&#x6709;&#xFF0C;&#x539F; Trait &#x4E2D;&#x7684;&#x65B9;&#x6CD5;&#x53EF;&#x4EE5;&#x6B63;&#x5E38;&#x8BBF;&#x95EE;&#x3002;</li>
</ul>
<p>Trait &#x4E2D;&#x8FD8;&#x53EF;&#x4EE5;&#x50CF;&#x7C7B;&#x4E00;&#x6837;&#x5B9A;&#x4E49;&#x5C5E;&#x6027;&#x3002;&#x5C31;&#x662F;&#x5F88;&#x597D;&#x7528;&#x7684;&#x5566;&#xFF01;</p>
<p><strong>&#x672C;&#x6587;&#x8F6C;&#x8F7D;&#x81EA;:</strong> <a href="/external_links/eae0a32e50a069be0efad336dd1b34ab.html" target="blank" rel="noopener">&#x6398;&#x91D1;</a></p>
<p><em><a href="https://dev.newban.cn/">&#x5F00;&#x53D1;&#x8005;&#x535A;&#x5BA2; &#x2013; &#x548C;&#x5F00;&#x53D1;&#x76F8;&#x5173;&#x7684; &#x8FD9;&#x91CC;&#x5168;&#x90FD;&#x6709;</a></em></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://dev.newban.cn../../6844903511977639950.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="开发者博客">
      <meta itemprop="description" content>
      <meta itemprop="image" content="../../images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="开发者博客 – IT技术 尽在开发者博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="../../6844903511977639950.html" itemprop="url">citus，一个PostgreSQL的扩展</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-11-17T13:46:32+08:00">
                2017-11-17
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p><a href="/external_links/aac2876f8f8b3f32e07a973aab264691.html" target="blank" rel="noopener"><img src="https://gitee.com/songjianzaina/juejin_p4/raw/master/img/6f6f7f1867388caa341cbfaaa60198a69e01b899f5b4bd2cbdbe1b9ed3539127" alt="Citus Banner"></a></p>
<p><a href="/external_links/4299164ba04eceb664501c7b6ef3324d.html" target="blank" rel="noopener"><img src="https://gitee.com/songjianzaina/juejin_p4/raw/master/img/744edb7369c62c645b9133e0873891fc68ce1a09f48c410b4c4952e468561431" alt="Build Status"></a> <a href="/external_links/dcea6e2b1fb4f39e45c066ba61f17f7d.html" target="blank" rel="noopener"><img src="https://gitee.com/songjianzaina/juejin_p4/raw/master/img/e86577ba33a32e294db2d0a222c77ff50d96e5baba978a2d1431c06e16f3f3de" alt="Slack Status"></a> <a href="/external_links/2288c075eb787d134b8a32ae219833c8.html" target="blank" rel="noopener"><img src="https://gitee.com/songjianzaina/juejin_p4/raw/master/img/8f3340ebf7c141b66b56bb2f8a621f202030b943712d33797d2754a5452fb92c" alt="Latest Docs"></a></p>
<h3 id="What-is-Citus"><a href="#What-is-Citus" class="headerlink" title="What is Citus?"></a>What is Citus?</h3><ul>
<li><strong>Open-source</strong> PostgreSQL extension (not a fork)</li>
<li><strong>Scalable</strong> across multiple machines through sharding and replication</li>
<li><strong>Distributed</strong> engine for query parallelization</li>
<li><strong>Database</strong> designed to scale multi-tenant applications</li>
</ul>
<p>Citus is a distributed database that scales across commodity servers using transparent sharding and replication. Citus extends the underlying database rather than forking it, giving developers and enterprises the power and familiarity of a relational<br> database. As an extension, Citus supports new PostgreSQL releases, and allows you to benefit from new features while maintaining compatibility with existing PostgreSQL tools.</p>
<p>Citus serves many use cases. Two common ones are:</p>
<ol>
<li><a href="/external_links/a18e9303e0fc3e989461dcdda7f4374b.html" target="blank" rel="noopener">Multi-tenant database</a>: Most B2B applications already have the notion of a tenant / customer / account built into their data model.<br>Citus allows you to scale out your transactional relational database to 100K+ tenants with minimal changes to your application.</li>
<li><a href="/external_links/316f49150d88a608757002c8464b1233.html" target="blank" rel="noopener">Real-time analytics</a>: Citus enables ingesting large volumes of data and running analytical queries on that data in human real-time. Example<br>applications include analytic dashboards with subsecond response times and exploratory queries on unfolding events.</li>
</ol>
<p>To learn more, visit <a href="/external_links/4919bd5ce53ceaf1900639b6596c1d77.html" target="blank" rel="noopener">citusdata.com</a> and join the <a href="/external_links/c06bd29e34df46aa2c379cccb57bbc0f.html" target="blank" rel="noopener">mailing list</a> to stay on top of the latest developments.</p>
<h3 id="Getting-started-with-Citus"><a href="#Getting-started-with-Citus" class="headerlink" title="Getting started with Citus"></a>Getting started with Citus</h3><p>The fastest way to get up and running is to create a Citus Cloud account. You can also setup a local Citus cluster with Docker.</p>
<h4 id="Citus-Cloud"><a href="#Citus-Cloud" class="headerlink" title="Citus Cloud"></a>Citus Cloud</h4><p>Citus Cloud runs on top of AWS as a fully managed database as a service and has development plans available for getting started. You can provision a Citus Cloud account at <a href="/external_links/5c66e6fb29c34bacfd6f308a54d8122a.html" target="blank" rel="noopener">console.citusdata.com</a> and get started with just a few clicks.</p>
<h4 id="Local-Citus-Cluster"><a href="#Local-Citus-Cluster" class="headerlink" title="Local Citus Cluster"></a>Local Citus Cluster</h4><p>If you&#x2019;re looking to get started locally, you can follow the following steps to get up and running.</p>
<ol>
<li>Install Docker Community Edition and Docker Compose</li>
</ol>
<ul>
<li>Mac:<ol>
<li><a href="/external_links/7fd02d459604251300e57f1649db456f.html" target="blank" rel="noopener">Download</a> and install Docker.</li>
<li>Start Docker by clicking on the application&#x2019;s icon.</li>
</ol>
</li>
<li>Linux:</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&#x590D;&#x5236;&#x4EE3;&#x7801;curl -sSL https://get.docker.com/ | sh</span><br><span class="line">sudo usermod -aG docker $USER &amp;&amp; exec sg docker newgrp `id -gn`</span><br><span class="line">sudo systemctl start docker</span><br><span class="line"></span><br><span class="line">sudo curl -sSL https://github.com/docker/compose/releases/download/1.11.2/docker-compose-`uname -s`-`uname -m` -o /usr/local/bin/docker-compose</span><br><span class="line">sudo chmod +x /usr/local/bin/docker-compose</span><br></pre></td></tr></table></figure>

<p> The above version of Docker Compose is sufficient for running Citus, or you can install the <a href="/external_links/d75c7813cfa1bdcbd86b33259ea64dda.html" target="blank" rel="noopener">latest version</a>.</p>
<ol>
<li>Pull and start the Docker images</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&#x590D;&#x5236;&#x4EE3;&#x7801;curl -sSLO https://raw.githubusercontent.com/citusdata/docker/master/docker-compose.yml</span><br><span class="line">docker-compose -p citus up -d</span><br></pre></td></tr></table></figure>

<ol>
<li>Connect to the master database</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#x590D;&#x5236;&#x4EE3;&#x7801;docker exec -it citus_master psql -U postgres</span><br></pre></td></tr></table></figure>

<ol>
<li>Follow the <a href="/external_links/8b932874ee2ade49a15dcc6e7d1316c8.html" target="blank" rel="noopener">first tutorial</a> instructions</li>
<li>To shut the cluster down, run</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#x590D;&#x5236;&#x4EE3;&#x7801;docker-compose -p citus down</span><br></pre></td></tr></table></figure>

<h3 id="Talk-to-Contributors-and-Learn-More"><a href="#Talk-to-Contributors-and-Learn-More" class="headerlink" title="Talk to Contributors and Learn More"></a>Talk to Contributors and Learn More</h3><table>
<thead>
<tr>
<th>Documentation</th>
<th>Try the <a href="/external_links/8b932874ee2ade49a15dcc6e7d1316c8.html" target="blank" rel="noopener">Citus  tutorial</a> for a hands-on introduction or the <a href="/external_links/00fa9b12ee695cd79180e7c4f59a0dc7.html" target="blank" rel="noopener">documentation</a> for a more comprehensive reference.</th>
</tr>
</thead>
<tbody><tr>
<td>Google Groups</td>
<td>The <a href="/external_links/c06bd29e34df46aa2c379cccb57bbc0f.html" target="blank" rel="noopener">Citus Google  Group</a> is our place for detailed questions and discussions.</td>
</tr>
<tr>
<td>Slack</td>
<td>Chat with us in our community <a href="/external_links/dcea6e2b1fb4f39e45c066ba61f17f7d.html" target="blank" rel="noopener">Slack channel</a>.</td>
</tr>
<tr>
<td>Github Issues</td>
<td>We track specific bug reports and feature requests on our <a href="/external_links/c3f7a1f7b24a114850ca6a2b4768c27e.html" target="blank" rel="noopener">project  issues</a>.</td>
</tr>
<tr>
<td>Twitter</td>
<td>Follow <a href="/external_links/659671497f7617a5e39a842423af2331.html" target="blank" rel="noopener">@citusdata</a> for general updates and PostgreSQL scaling tips.</td>
</tr>
</tbody></table>
<h3 id="Contributing"><a href="#Contributing" class="headerlink" title="Contributing"></a>Contributing</h3><p>Citus is built on and of open source, and we welcome your contributions. The <a href="/external_links/91a4e040caa92143ae9f06552600c023.html" target="blank" rel="noopener">CONTRIBUTING.md</a> file explains how to get started developing the Citus extension itself and<br> our code quality guidelines.</p>
<h3 id="Who-is-Using-Citus"><a href="#Who-is-Using-Citus" class="headerlink" title="Who is Using Citus?"></a>Who is Using Citus?</h3><p>Citus is deployed in production by many customers, ranging from technology start-ups to large enterprises. Here are some examples:</p>
<ul>
<li><a href="/external_links/d678df251a098ddc964aef3c14805166.html" target="blank" rel="noopener">CloudFlare</a> uses Citus to provide real-time analytics on 100 TBs of data from over 4 million customer websites. <a href="/external_links/533d27f042f9306de687bbaac5ac03be.html" target="blank" rel="noopener">Case<br>Study</a></li>
<li><a href="/external_links/fe423b166f629bd8d16828b5fa36466d.html" target="blank" rel="noopener">MixRank</a> uses Citus to efficiently collect and analyze vast amounts of data to allow inside B2B sales teams to find new customers. <a href="/external_links/e963832f23393e1a6ed8c2e1780ed215.html" target="blank" rel="noopener">Case<br>Study</a></li>
<li><a href="/external_links/0629ce3e0c2256d74b751656f71ec8dd.html" target="blank" rel="noopener">Neustar</a> builds and maintains scalable ad-tech infrastructure that counts billions of events per day using Citus and HyperLogLog.</li>
<li><a href="/external_links/1ee11c643d24c79e1a429042e0b99868.html" target="blank" rel="noopener">Agari</a> uses Citus to secure more than 85 percent of U.S. consumer emails on two 6-8 TB clusters. <a href="/external_links/10efeff4d131a145af6fa4d19b4fa2fd.html" target="blank" rel="noopener">Case<br>Study</a></li>
<li><a href="/external_links/43f79da6be4c6aa3b1c2563f4b4f8635.html" target="blank" rel="noopener">Heap</a> uses Citus to run dynamic funnel, segmentation, and cohort queries across billions of users and tens of billions of events. <a href="/external_links/67b441a3553aae735d2181888efa6730.html" target="blank" rel="noopener">Watch<br>Video</a></li>
</ul>
<hr>
<p>Copyright &#xA9; 2012&#x2013;2017 Citus Data, Inc.</p>
<p><strong>&#x672C;&#x6587;&#x8F6C;&#x8F7D;&#x81EA;:</strong> <a href="/external_links/fc7a05e1aed3a355f23e5c04acb03a5d.html" target="blank" rel="noopener">&#x6398;&#x91D1;</a></p>
<p><em><a href="https://dev.newban.cn/">&#x5F00;&#x53D1;&#x8005;&#x535A;&#x5BA2; &#x2013; &#x548C;&#x5F00;&#x53D1;&#x76F8;&#x5173;&#x7684; &#x8FD9;&#x91CC;&#x5168;&#x90FD;&#x6709;</a></em></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://dev.newban.cn../../6844903511973429261.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="开发者博客">
      <meta itemprop="description" content>
      <meta itemprop="image" content="../../images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="开发者博客 – IT技术 尽在开发者博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="../../6844903511973429261.html" itemprop="url">异步加载的基本逻辑与浏览器抓包一般流程</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-11-17T13:31:16+08:00">
                2017-11-17
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>&#x672C;&#x7BC7;&#x5185;&#x5BB9;&#x4E0D;&#x6D89;&#x53CA;&#x4EFB;&#x4F55;R&#x8BED;&#x8A00;&#x6216;&#x8005;Python&#x4EE3;&#x7801;&#x5B9E;&#x73B0;&#xFF0C;&#x4EC5;&#x4ECE;&#x5F02;&#x6B65;&#x52A0;&#x8F7D;&#x7684;&#x903B;&#x8F91;&#x5B9E;&#x73B0;&#x8FC7;&#x7A0B;&#x4EE5;&#x53CA;&#x6D4F;&#x89C8;&#x5668;&#x6293;&#x5305;&#x5206;&#x6790;&#x7684;&#x89D2;&#x5EA6;&#x6765;&#x7ED9;&#x5927;&#x5BB6;&#x5206;&#x4EAB;&#x4E00;&#x4E0B;&#x4E2A;&#x4EBA;&#x8FD1;&#x671F;&#x5B66;&#x4E60;&#x722C;&#x866B;&#x7684;&#x4E00;&#x4E9B;&#x5FC3;&#x5F97;&#x3002;</p>
<p>&#x6D89;&#x53CA;&#x5230;&#x7684;&#x5DE5;&#x5177;&#x6709;Chrome&#x6D4F;&#x89C8;&#x5668;&#xFF08;&#x5F00;&#x53D1;&#x8005;&#x5DE5;&#x5177;&#xFF09;&#x3001;postman(&#x4E00;&#x6B3E;&#x975E;&#x5E38;&#x4F18;&#x79C0;&#x7684;Chrome&#x7F51;&#x7EDC;&#x8BF7;&#x6C42;&#x6784;&#x9020;&#x5DE5;&#x5177;&#xFF0C;&#x4F60;&#x53EF;&#x4EE5;&#x5728;Chrome&#x6D4F;&#x89C8;&#x5668;&#x5728;&#x7EBF;&#x5546;&#x5E97;&#x91CC;&#x641C;&#x5230;&#xFF0C;&#x4E5F;&#x53EF;&#x4EE5;&#x4E0B;&#x8F7D;&#x684C;&#x9762;&#x7248;)&#x3002;</p>
<p><strong>1&#x3001;&#x5F02;&#x6B65;&#x52A0;&#x8F7D;&#x6982;&#x5FF5;&#x53CA;&#x5B9E;&#x73B0;&#x8FC7;&#x7A0B;<br>2&#x3001;&#x6D4F;&#x89C8;&#x5668;&#x6293;&#x5305;&#x5206;&#x6790;&#x4E00;&#x822C;&#x6D41;&#x7A0B;</strong></p>
<p>&#x5F02;&#x6B65;&#x52A0;&#x8F7D;&#x7684;&#x82F1;&#x6587;&#x7B80;&#x79F0;&#x662F;ajax,&#x5373;&#x201C;Asynchronous Javascript And XML&#x201D;&#xFF08;&#x5F02;&#x6B65;JavaScript&#x548C;XML&#xFF09;&#x662F;&#x6307;&#x4E00;&#x79CD;&#x521B;&#x5EFA;&#x4EA4;&#x4E92;&#x5F0F;&#x7F51;&#x9875;&#x5E94;&#x7528;&#x7684;&#x7F51;&#x9875;&#x5F00;&#x53D1;&#x6280;&#x672F;&#x3002;&#x5B83;&#x53EF;&#x4EE5;&#x5728;&#x65E0;&#x9700;&#x91CD;&#x65B0;&#x52A0;&#x8F7D;&#x6574;&#x4E2A;&#x7F51;&#x9875;&#x7684;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;&#x901A;&#x8FC7;&#x5728;&#x540E;&#x53F0;&#x4E0E;&#x670D;&#x52A1;&#x5668;&#x8FDB;&#x884C;&#x5C40;&#x90E8;&#x6570;&#x636E;&#x4EA4;&#x6362;&#xFF0C;&#x4F7F;&#x5F97;&#x7F51;&#x9875;&#x5B9E;&#x73B0;&#x5F02;&#x6B65;&#x66F4;&#x65B0;&#x3002;&#x8FD9;&#x610F;&#x5473;&#x7740;&#x53EF;&#x4EE5;&#x5728;&#x4E0D;&#x91CD;&#x65B0;&#x52A0;&#x8F7D;&#x6574;&#x4E2A;&#x7F51;&#x9875;&#x7684;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;&#x5BF9;&#x7F51;&#x9875;&#x7684;&#x7279;&#x5B9A;&#x90E8;&#x5206;&#x8FDB;&#x884C;&#x66F4;&#x65B0;&#x3002;</p>
<p>&#x8FD9;&#x662F;&#x767E;&#x5EA6;&#x767E;&#x79D1;&#x5BF9;&#x4E8E;&#x5F02;&#x6B65;&#x52A0;&#x8F7D;&#x7684;&#x4E00;&#x822C;&#x5B9A;&#x4E49;&#xFF0C;&#x5728;&#x4F20;&#x7EDF;web&#x5F00;&#x53D1;&#x4E2D;&#xFF0C;&#x4F7F;&#x7528;&#x540C;&#x6B65;&#x52A0;&#x8F7D;&#x6A21;&#x5F0F;&#xFF0C;&#x66F4;&#x65B0;&#x7F51;&#x9875;&#x65F6;&#xFF0C;&#x6240;&#x6709;&#x5185;&#x5BB9;&#x5FC5;&#x987B;&#x91CD;&#x8F7D;&#xFF0C;&#x5BFC;&#x81F4;&#x591A;&#x8BF7;&#x6C42;&#x8FDB;&#x7A0B;&#x963B;&#x585E;&#xFF0C;&#x7F51;&#x9875;&#x8FDF;&#x8FDF;&#x65E0;&#x6CD5;&#x52A0;&#x8F7D;&#xFF0C;&#x7ED9;web&#x7AEF;&#x4F53;&#x9A8C;&#x9020;&#x6210;&#x5F88;&#x5927;&#x7684;&#x4F24;&#x5BB3;&#x3002;&#x4F46;&#x662F;&#x5F02;&#x6B65;&#x52A0;&#x8F7D;&#x5219;&#x89E3;&#x51B3;&#x4E86;&#x8FD9;&#x4E2A;&#x95EE;&#x9898;&#xFF0C;&#x901A;&#x8FC7;&#x5F02;&#x6B65;&#x52A0;&#x8F7D;&#xFF0C;&#x4E0D;&#x4EC5;&#x63D0;&#x9AD8;&#x4E86;web&#x7AEF;&#x6D4F;&#x89C8;&#x4F53;&#x9A8C;&#xFF0C;&#x800C;&#x4E14;&#x51CF;&#x7F13;&#x4E86;&#x670D;&#x52A1;&#x5668;&#x7AEF;&#x538B;&#x529B;&#x3002;</p>
<p>&#x4F46;&#x5F02;&#x6B65;&#x52A0;&#x8F7D;&#x5374;&#x7ED9;&#x7F51;&#x7EDC;&#x6570;&#x636E;&#x6293;&#x53D6;&#x9020;&#x6210;&#x4E86;&#x5F88;&#x5927;&#x7684;&#x56F0;&#x96BE;&#x3002;&#x56F0;&#x96BE;&#x5728;&#x4E8E;&#xFF0C;&#x5F02;&#x6B65;&#x52A0;&#x8F7D;&#x628A;&#x6240;&#x6709;&#x7F51;&#x7EDC;&#x8D44;&#x6E90;&#x5206;&#x6210;&#x4E86;&#x4E24;&#x5927;&#x90E8;&#x5206;&#xFF0C;&#x4E00;&#x90E8;&#x5206;&#x662F;&#x9759;&#x6001;&#x7684;html&#x6587;&#x6863;&#xFF08;DOM&#x6587;&#x6863;&#xFF09;&#xFF0C;&#x53E6;&#x4E00;&#x90E8;&#x5206;&#x662F;&#x5D4C;&#x5165;&#x5728;HTML&#x6587;&#x6863;&#x5185;&#x7684;js&#x52A8;&#x6001;&#x811A;&#x672C;&#x3002;&#xFF08;&#x8FD9;&#x91CC;&#x6682;&#x65F6;&#x5FFD;&#x7565;css&#x91CD;&#x53E0;&#x6837;&#x5F0F;&#x8868;&#xFF0C;&#x5B83;&#x4E0E;&#x4EFB;&#x52A1;&#x76EE;&#x6807;&#x51E0;&#x4E4E;&#x6CA1;&#x4EC0;&#x4E48;&#x8054;&#x7CFB;&#xFF09;&#x3002;&#x8FD9;&#x4E9B;js&#x811A;&#x672C;&#x901A;&#x8FC7;<code>&lt;script&gt;</code>&#x5143;&#x7D20;&#x6807;&#x7B7E;&#x8FDB;&#x884C;&#x5F15;&#x7528;&#xFF0C;&#x662F;&#x9884;&#x5B9A;&#x4E49;&#x597D;&#x7684;js&#x4E8B;&#x4EF6;&#x51FD;&#x6570;&#xFF0C;&#x6211;&#x4EEC;&#x6240;&#x8BF4;&#x7684;&#x5F02;&#x6B65;&#x52A0;&#x8F7D;&#x4FBF;&#x662F;&#x901A;&#x8FC7;&#x8FD9;&#x4E9B;js&#x811A;&#x672C;&#x5185;&#x7684;&#x4E8B;&#x4EF6;&#x51FD;&#x6570;&#x9A71;&#x52A8;&#x7684;&#x3002;</p>
<p>&#xFF08;&#x6D4F;&#x89C8;&#x5668;&#x5728;&#x63A5;&#x53D7;&#x9759;&#x6001;&#x6587;&#x6863;&#x7684;&#x540C;&#x65F6;&#xFF0C;&#x53EF;&#x4EE5;&#x6267;&#x884C;js&#x811A;&#x672C;&#xFF0C;&#x4E0E;&#x670D;&#x52A1;&#x5668;&#x4EA4;&#x6362;&#x6570;&#x636E;&#x5E76;&#x66F4;&#x65B0;html&#x5185;&#x7684;&#x6570;&#x636E;&#x5757;&#xFF0C;&#x4F46;&#x662F;R&#x6216;&#x8005;Python&#x8FD9;&#x79CD;&#x8BF7;&#x6C42;&#x53D1;&#x9001;&#x7EC8;&#x7AEF;&#x662F;&#x65E0;&#x6CD5;&#x505A;&#x5230;&#x8FD9;&#x4E00;&#x70B9;&#x513F;&#x7684;&#xFF09;</p>
<p>&#x8FD9;&#x4E9B;&#x4E8B;&#x4EF6;&#x51FD;&#x6570;&#x5185;&#x90E8;&#xFF0C;&#x4ECE;&#x65B0;&#x6784;&#x5EFA;&#x4E86;&#x4E00;&#x7CFB;&#x5217;&#x7F51;&#x7EDC;&#x8BF7;&#x6C42;&#xFF0C;&#x8FD9;&#x4E9B;&#x7F51;&#x7EDC;&#x8BF7;&#x6C42;&#x53EF;&#x80FD;&#x662F;GET&#x7C7B;&#x578B;&#xFF0C;&#x4E5F;&#x6709;&#x53EF;&#x80FD;&#x662F;POST&#x7C7B;&#x578B;&#xFF0C;&#x8FD9;&#x4E9B;&#x8BF7;&#x6C42;&#x4FBF;&#x662F;&#x5F02;&#x6B65;&#x52A0;&#x8F7D;&#x7684;&#x6838;&#x5FC3;&#x5B9E;&#x73B0;&#x65B9;&#x5F0F;&#x2014;&#x2014;XMLHttpRequest&#x3002;XHR&#x662F;&#x7531;js&#x811A;&#x672C;&#x6784;&#x5EFA;&#x7684;&#xFF0C;&#x800C;js&#x811A;&#x672C;&#x662F;&#x7531;&#x5176;&#x5D4C;&#x5165;html&#x7684;&#x4F4D;&#x7F6E;&#xFF08;<code>&lt;script&gt;</code>&#x5143;&#x7D20;&#x7684;&#x6240;&#x5904;&#x4F4D;&#x7F6E;&#xFF09;&#x7684;html&#x52A8;&#x4F5C;&#x63A7;&#x5236;&#x7684;&#x3002;&#x8FD9;&#x4E9B;&#x52A8;&#x4F5C;&#x53EF;&#x80FD;&#x662F;&#x9F20;&#x6807;&#x70B9;&#x51FB;&#x4E8B;&#x4EF6;&#x3001;&#x9F20;&#x6807;&#x60AC;&#x6D6E;&#x4E8B;&#x4EF6;&#x3001;&#x4E0B;&#x62C9;&#x83DC;&#x5355;&#x3001;&#x8F93;&#x5165;&#x6846;&#x8F93;&#x5165;&#x67E5;&#x8BE2;&#x5173;&#x952E;&#x8BCD;&#x4E4B;&#x540E;&#x7684;&#x56DE;&#x8F66;&#x7B49;&#x3002;</p>
<p>&#x6253;&#x5F00;&#x6D4F;&#x89C8;&#x5668;&#xFF0C;&#x5E76;&#x901A;&#x8FC7;&#x7F51;&#x5740;&#x94FE;&#x63A5;&#x5230;&#x4E3B;&#x7F51;&#x9875;&#x4E4B;&#x540E;&#xFF0C;&#x6D4F;&#x89C8;&#x5668;&#x4F1A;&#x81EA;&#x52A8;&#x52A0;&#x8F7D;HTML&#x6587;&#x6863;&#xFF0C;&#x800C;&#x540C;&#x65F6;&#x5185;&#x5D4C;&#x7684;js&#x811A;&#x672C;&#x4E5F;&#x4F1A;&#x901A;&#x8FC7;&#x5F02;&#x6B65;&#x52A0;&#x8F7D;&#x65B9;&#x5F0F;&#x521D;&#x59CB;&#x5316;&#x4E00;&#x90E8;&#x5206;&#x6570;&#x636E;&#xFF0C;&#x8FD9;&#x4E9B;js&#x811A;&#x672C;&#x52A0;&#x8F7D;&#x8FC7;&#x7A0B;&#x4E0E;&#x6D4F;&#x89C8;&#x5668;&#x6E32;&#x67D3;html&#x7684;&#x8FC7;&#x7A0B;&#x5E76;&#x4E0D;&#x76F8;&#x4E92;&#x5F71;&#x54CD;&#x3002;&#x5F53;&#x7528;&#x6237;&#x5728;&#x6D4F;&#x89C8;&#x5668;&#x754C;&#x9762;&#x7684;&#x7279;&#x5B9A;&#x4F4D;&#x7F6E;&#x70B9;&#x51FB;&#x6216;&#x8005;&#x5B9E;&#x65BD;&#x67D0;&#x4E9B;html&#x52A8;&#x4F5C;&#x65F6;&#xFF0C;&#x8FD9;&#x4E9B;&#x52A8;&#x4F5C;&#x4F1A;&#x9A71;&#x52A8;&#x5BF9;&#x5E94;&#x4F4D;&#x7F6E;&#x7684;js&#x811A;&#x672C;&#x6267;&#x884C;&#x5176;&#x9884;&#x5B9A;&#x4E49;&#x7684;&#x4E8B;&#x4EF6;&#x51FD;&#x6570;&#xFF0C;&#x6784;&#x5EFA;XHR&#x8BF7;&#x6C42;&#xFF0C;&#x8FD9;&#x4E9B;XHR&#x8BF7;&#x6C42;&#x4E0E;&#x670D;&#x52A1;&#x5668;&#x8FDB;&#x884C;&#x90E8;&#x5206;&#x6570;&#x636E;&#x4EA4;&#x4E92;&#xFF0C;&#x8FD4;&#x56DE;&#x6570;&#x636E;&#x4E4B;&#x540E;&#xFF0C;&#x518D;&#x901A;&#x8FC7;&#x56DE;&#x8C03;&#x51FD;&#x6570;&#x64CD;&#x4F5C;&#x5BF9;&#x5E94;&#x4F4D;&#x7F6E;html&#x5143;&#x7D20;&#xFF0C;&#x5C06;&#x6570;&#x636E;&#x63D2;&#x5165;&#x5BF9;&#x5E94;&#x4F4D;&#x7F6E;&#xFF0C;&#x81F3;&#x6B64;&#x6570;&#x636E;&#x4EA4;&#x6362;&#x7684;&#x6D41;&#x7A0B;&#x7ED3;&#x675F;&#x3002;</p>
<p><img src="https://gitee.com/songjianzaina/juejin_p4/raw/master/img/472445b02a9c54301658c7112576cf833b6fb83e4bed31bce026ffe26ba9d3fd" alt><br>&#x800C;&#x5BF9;&#x4E8E;&#x6211;&#x4EEC;&#x8FD9;&#x4E9B;&#x722C;&#x866B;&#x5B66;&#x4E60;&#x8005;&#x800C;&#x8A00;&#xFF0C;&#x5176;&#x5B9E;&#x60F3;&#x8981;&#x627E;&#x7684;&#x5C31;&#x662F;&#x8FD9;&#x4E9B;js&#x811A;&#x672C;&#x6784;&#x5EFA;&#x7684;&#x5F02;&#x6B65;&#x52A0;&#x8F7D;&#x8BF7;&#x6C42;&#x5BF9;&#x8C61;&#xFF0C;&#x901A;&#x8FC7;&#x622A;&#x83B7;&#x8FD9;&#x4E9B;&#x8BF7;&#x6C42;&#xFF0C;&#x4F2A;&#x88C5;&#x6210;&#x6D4F;&#x89C8;&#x5668;&#x7684;&#x8EAB;&#x4EFD;&#xFF0C;&#x8FDB;&#x800C;&#x66FF;&#x4EE3;&#x6D4F;&#x89C8;&#x5668;&#x5B8C;&#x6210;&#x6570;&#x636E;&#x8BF7;&#x6C42;&#xFF0C;&#x5E76;&#x83B7;&#x53D6;&#x8FD4;&#x56DE;&#x6570;&#x636E;&#x3002;&#x8FD9;&#x4E9B;&#x5F02;&#x6B65;&#x8BF7;&#x6C42;&#x5728;Chrome&#x7684;&#x5F00;&#x53D1;&#x8005;&#x5DE5;&#x5177;&#x4E2D;&#x5F80;&#x5F80;&#x90FD;&#x80FD;&#x622A;&#x83B7;&#x5230;&#x3002;</p>
<p><strong>&#x90A3;&#x4E48;&#x5728;&#x6D4F;&#x89C8;&#x5668;&#x5F97;&#x5F00;&#x53D1;&#x8005;&#x5DE5;&#x5177;&#x4E2D;&#xFF0C;&#x4EE5;&#x4E0A;&#x6240;&#x8FF0;&#x5F97;&#x5404;&#x90E8;&#x5206;&#x53C8;&#x662F;&#x5982;&#x4F55;&#x662F;&#x600E;&#x4E48;&#x5BF9;&#x5E94;&#x7684;&#x5462;&#xFF1F;</strong></p>
<p>&#x6253;&#x5F00;&#x7F51;&#x6613;&#x4E91;&#x8BFE;&#x5802;&#x5F97;&#x4E3B;&#x9875;&#xFF0C;&#x6309;F12&#x8FDB;&#x5165;&#x5F00;&#x53D1;&#x8005;&#x5DE5;&#x5177;&#x5DE5;&#x4F5C;&#x53F0;&#x3002;</p>
<p><img src="https://gitee.com/songjianzaina/juejin_p4/raw/master/img/d28ca22c4c833cd03f652991b425745bb8861d6f670e2e1debdeec36977e668e" alt><br>Elements&#x6A21;&#x5757;&#x662F;&#x6D4F;&#x89C8;&#x5668;&#x52A0;&#x8F7D;&#x540E;&#x540E;&#x7684;&#x5E26;&#x6709;&#x6570;&#x636E;&#x5F97;&#x5B8C;&#x6574;HTML&#x6587;&#x6863;&#x3002;</p>
<p><img src="https://gitee.com/songjianzaina/juejin_p4/raw/master/img/203205c8537b4b36262aca61aea2896480e44c955e67fe4cbfa8578bb17fab39" alt><br><img src="https://gitee.com/songjianzaina/juejin_p4/raw/master/img/93817713b01165cf4056f63971525cf666eabc8f273bdd293b1d19b5a5e11b32" alt><br>&#x5982;&#x4F55;&#x4F60;&#x662F;&#x4F7F;&#x7528;&#x8BF7;&#x6C42;&#x7F51;&#x9875;&#x7684;&#x65B9;&#x5F0F;&#x6765;&#x63D0;&#x53D6;&#x6570;&#x636E;&#xFF0C;&#x90A3;&#x4E48;&#x901A;&#x5E38;&#x4F60;&#x9700;&#x8981;&#x5173;&#x6CE8;&#x5F97;&#x4FBF;&#x662F;&#x8FD9;&#x4E2A;&#x6A21;&#x5757;&#x3002;&#x4F46;&#x662F;&#x4ECA;&#x5929;&#x6211;&#x4EEC;&#x7684;&#x4E3B;&#x89D2;&#x662F;&#x5F02;&#x6B65;&#x52A0;&#x8F7D;&#xFF0C;&#x6240;&#x4EE5;&#x5B9A;&#x4F4D;&#x5230;&#x7B2C;&#x4E8C;&#x4E2A;&#x6A21;&#x5757;&#x2014;&#x2014;Network&#xFF0C;&#x8BE5;&#x6A21;&#x5757;&#x6D89;&#x53CA;&#x5230;&#x6240;&#x6709;&#x7684;&#x6D4F;&#x89C8;&#x5668;&#x4E0E;web&#x670D;&#x52A1;&#x5668;&#x4E4B;&#x95F4;&#x7684;&#x4EA4;&#x4E92;&#x8BF7;&#x6C42;&#x8BB0;&#x5F55;&#x3002;&#x5728;Network&#x6A21;&#x5757;&#x7684;all&#x5B50;&#x6A21;&#x5757;&#x4E2D;&#xFF0C;&#x662F;&#x6240;&#x6709;&#x8BF7;&#x6C42;&#x5217;&#x8868;&#xFF0C;&#x5B83;&#x5305;&#x542B;&#x4E86;&#x8BF7;&#x6C42;&#x7684;&#x6240;&#x6709;dom&#x6587;&#x4EF6;&#x3001;js&#x811A;&#x672C;&#x3001;css&#x91CD;&#x53E0;&#x6837;&#x5F0F;&#x8868;&#x3001;img&#x6587;&#x4EF6;&#xFF08;&#x56FE;&#x5F62;&#x5BF9;&#x8C61;&#xFF09;&#x3001;Media&#x6587;&#x4EF6;&#xFF08;&#x6D41;&#x5A92;&#x4F53;&#x6587;&#x4EF6;&#xFF09;&#x3001;&#x5B57;&#x4F53;&#x6587;&#x4EF6;&#x7B49;&#x3002;</p>
<p><img src="https://gitee.com/songjianzaina/juejin_p4/raw/master/img/4431d33e541e8c94b251c89ba0ffb493ed15ea9716e39ac874d576e7c436795f" alt><br>&#x800C;&#x5728;XHR&#x5B50;&#x83DC;&#x5355;&#x4E2D;&#xFF0C;&#x4F60;&#x53EF;&#x4EE5;&#x770B;&#x5230;&#x8FD9;&#x4E9B;&#x52A0;&#x8F7D;&#x6587;&#x4EF6;&#x4E2D;&#xFF0C;&#x4EE5;&#x5F02;&#x6B65;&#x52A0;&#x8F7D;&#x65B9;&#x5F0F;&#x8FDB;&#x884C;&#x7684;&#x6587;&#x4EF6;&#x5BF9;&#x8C61;&#x3002;&#xFF08;xhr&#x5C31;&#x662F;XMLHttpRequest&#x7684;&#x7F29;&#x5199;&#xFF09;&#xFF0C;<strong>&#x8FD9;&#x4E2A;&#x680F;&#x76EE;&#x5C06;&#x662F;&#x6211;&#x4EEC;&#x722C;&#x866B;&#x6293;&#x5305;&#x7684;&#x4E3B;&#x6218;&#x573A;&#xFF0C;&#x6240;&#x4EE5;&#x8981;&#x719F;&#x7EC3;&#x8FD9;&#x4E2A;&#x754C;&#x9762;&#x7684;&#x6240;&#x6709;&#x4FE1;&#x606F;&#x3002;</strong></p>
<p><img src="https://gitee.com/songjianzaina/juejin_p4/raw/master/img/3ff0a35bb9c50dd687c1a29f1c4c5695665e742237d42e23ae26946f76c9e8c9" alt><br>&#x5728;XHR&#x6A21;&#x5757;&#x7684;Name&#x5217;&#x8868;&#x4E2D;&#xFF0C;&#x6709;&#x5F88;&#x591A;&#x5F02;&#x6B65;&#x52A0;&#x8F7D;&#x8BF7;&#x6C42;&#xFF0C;&#x4F60;&#x9700;&#x8981;&#x8FC5;&#x901F;&#x8FC7;&#x6EE4;&#x51FA;&#x6211;&#x4EEC;&#x60F3;&#x8981;&#x7684;&#x5F02;&#x6B65;&#x52A0;&#x8F7D;&#x8BF7;&#x6C42;&#x5BF9;&#x8C61;&#x3002;</p>
<p><strong>&#x8FD9;&#x91CC;&#x6709;&#x4E00;&#x4E2A;&#x79D8;&#x8BC0;&#xFF01;</strong></p>
<p>&#x8FD9;&#x4E9B;&#x8BF7;&#x6C42;&#x5BF9;&#x8C61;&#x4E00;&#x822C;&#x5305;&#x542B;&#x4E24;&#x7C7B;&#xFF0C;&#x4E00;&#x7C7B;&#x662F;.js&#x6587;&#x4EF6;&#xFF0C;&#x8FD9;&#x4E9B;&#x6587;&#x4EF6;&#x662F;javascript&#x811A;&#x672C;&#x6587;&#x4EF6;&#xFF0C;&#x5B83;&#x4EEC;&#x662F;&#x4E8B;&#x4EF6;&#x9A71;&#x52A8;&#x51FD;&#x6570;&#xFF0C;&#x662F;&#x52A8;&#x4F5C;&#x4E2D;&#x4ECB;&#xFF0C;&#x5C3D;&#x7BA1;&#x6240;&#x6709;&#x7684;&#x5F02;&#x6B65;&#x52A0;&#x8F7D;&#x8BF7;&#x6C42;&#x90FD;&#x662F;&#x7531;&#x5B83;&#x4EEC;&#x53D1;&#x8D77;&#xFF0C;&#x8FD4;&#x56DE;&#x6570;&#x636E;&#x4E5F;&#x662F;&#x7531;&#x5B83;&#x4EEC;&#x8D1F;&#x8D23;&#x63A5;&#x6536;&#x5E76;&#x4E14;&#x63D2;&#x5165;html&#x6587;&#x6863;&#x7684;&#xFF0C;&#x4F46;&#x662F;&#x5B83;&#x4EEC;&#x672C;&#x8EAB;&#x5E76;&#x4E0D;&#x5305;&#x542B;&#x6570;&#x636E;&#xFF0C;&#x4EC5;&#x4EC5;&#x662F;&#x4E00;&#x7EC4;&#x811A;&#x672C;&#x51FD;&#x6570;&#x800C;&#x5DF2;&#x3002;&#x6240;&#x4EE5;&#x5728;xhr&#x4E2D;&#x6240;&#x6709;&#x5E26;&#x6709;js&#x7ED3;&#x5C3E;&#x7684;&#x6587;&#x4EF6;&#x90FD;&#x53EF;&#x4EE5;&#x7565;&#x8FC7;&#x3002;&#xFF08;&#x56E0;&#x4E3A;&#x4EC5;&#x5C31;&#x6293;&#x5305;&#x800C;&#x8A00;&#xFF0C;&#x4F60;&#x65E0;&#x987B;&#x5F04;&#x6E05;&#x695A;&#x8FD9;&#x4E9B;&#x8BF7;&#x6C42;&#x5B9E;&#x73B0;&#x7684;&#x5E95;&#x5C42;&#x8FC7;&#x7A0B;&#xFF09;&#x3002;&#x7B2C;&#x4E8C;&#x7C7B;&#x662F;&#x5269;&#x4F59;&#x7684;&#x90A3;&#x4E9B;&#x5E26;&#x6709;&#x53C2;&#x6570;&#x7684;&#x94FE;&#x63A5;&#x3001;&#x6216;&#x8005;&#x662F;&#x4EE5;.json&#x7ED3;&#x5C3E;&#x6587;&#x4EF6;&#x3002;&#x8FD9;&#x4E9B;&#x5BF9;&#x8C61;&#x4FBF;&#x662F;&#x4EE5;&#x4E0A;&#x6240;&#x8BF4;&#x7684;js&#x811A;&#x672C;&#x6784;&#x5EFA;&#x7684;&#x5F02;&#x6B65;&#x52A0;&#x8F7D;&#x8BF7;&#x6C42;&#x7684;&#x76EE;&#x6807;&#xFF0C;&#x4E5F;&#x662F;&#x6211;&#x4EEC;&#x60F3;&#x8981;&#x622A;&#x83B7;&#x7684;&#x8BF7;&#x6C42;&#x3002;</p>
<p>&#x9488;&#x5BF9;&#x672C;&#x4F8B;&#x800C;&#x8A00;&#xFF0C;&#x56E0;&#x4E3A;&#x4E4B;&#x524D;&#x722C;&#x8FC7;&#x7F51;&#x6613;&#x4E91;&#x8BFE;&#x5802;&#xFF0C;&#x6240;&#x4EE5;&#x6211;&#x5FC3;&#x91CC;&#x77E5;&#x9053;&#x60F3;&#x8981;&#x7684;&#x8BF7;&#x6C42;&#x5BF9;&#x8C61;&#x662F;studycourse.json&#xFF0C;&#x5373;&#x4FBF;&#x4E0D;&#x77E5;&#x9053;&#xFF0C;&#x8FC7;&#x6EE4;&#x6389;js&#x811A;&#x672C;&#x4E4B;&#x540E;&#xFF0C;&#x5269;&#x4F59;&#x94FE;&#x63A5;&#x4E2D;&#x5E26;&#x6709;&#x53C2;&#x6570;&#x7279;&#x5F81;&#x7684;&#xFF0C;&#x6216;&#x8005;&#x4EE5;json&#x7ED3;&#x5C3E;&#x7684;&#x5BF9;&#x8C61;&#x901A;&#x5E38;&#x5C31;&#x662F;&#x6211;&#x4EEC;&#x60F3;&#x8981;&#x627E;&#x7684;&#x5BF9;&#x8C61;&#x3002;</p>
<p>&#x600E;&#x4E48;&#x9A8C;&#x8BC1;&#x5462;&#xFF0C;&#x6253;&#x5F00;studycourse.json&#x5BF9;&#x8C61;&#xFF08;&#x9F20;&#x6807;&#x70B9;&#x51FB;&#xFF09;&#xFF0C;&#x6B64;&#x65F6;&#xFF0C;&#x53F3;&#x4FA7;&#x4F1A;&#x51FA;&#x73B0;&#x4E94;&#x4E2A;&#x5B50;&#x83DC;&#x5355;&#x3002;&#x4E00;&#x822C;&#x9ED8;&#x8BA4;&#x5B9A;&#x4F4D;&#x5728;Headers,&#x8FD9;&#x91CC;&#x7684;&#x4FE1;&#x606F;&#x4E0D;&#x8DB3;&#x4EE5;&#x8BA9;&#x6211;&#x4EEC;&#x5224;&#x65AD;&#xFF0C;&#x8BE5;&#x8BF7;&#x6C42;&#x662F;&#x5426;&#x662F;&#x60F3;&#x8981;&#x7684;&#x8BF7;&#x6C42;&#xFF0C;&#x6B64;&#x65F6;&#x4F60;&#x53EF;&#x4EE5;&#x5B9A;&#x4F4D;&#x5230;&#x7B2C;&#x4E8C;&#x9879;&#x2014;&#x2014;Preview&#x9879;&#x76EE;&#x4E2D;&#x3002;</p>
<p><img src="https://gitee.com/songjianzaina/juejin_p4/raw/master/img/24c22a14d6facd3a509f198d4b7dd4ae215d0d40322cc9640fa586be7329334d" alt><br>&#x5F53;&#x4F60;&#x5B9A;&#x4F4D;&#x5230;Preview&#x9879;&#x76EE;&#xFF0C;&#x770B;&#x5230;&#x91CC;&#x9762;&#x7684;json&#x683C;&#x5F0F;&#x7684;&#x6570;&#x636E;&#x5305;&#xFF0C;&#x6253;&#x5F00;&#x540E;&#x91CC;&#x9762;&#x7684;&#x5185;&#x5BB9;&#x4E0E;&#x6211;&#x4EEC;&#x9996;&#x9875;&#x770B;&#x5230;&#x7684;&#x5218;&#x51EF;&#x8001;&#x5E08;&#x7684;&#x8BFE;&#x7A0B;&#x4FE1;&#x606F;&#x4E00;&#x81F4;&#x65F6;&#xFF0C;&#x8FD9;&#x65F6;&#x5019;&#x5C31;&#x6CA1;&#x9519;&#x4E86;&#xFF0C;&#x5341;&#x62FF;&#x4E5D;&#x7A33;&#x4E86;&#x3002;&#x6211;&#x4EEC;&#x5DF2;&#x7ECF;&#x622A;&#x83B7;&#x4E86;&#x60F3;&#x8981;&#x7684;&#x8BF7;&#x6C42;&#x3002;</p>
<p><img src="https://gitee.com/songjianzaina/juejin_p4/raw/master/img/66655248935849e0569bbbe4d442bb4a3b4f2794d22426e8a61f914d617b637d" alt><br><img src="https://gitee.com/songjianzaina/juejin_p4/raw/master/img/fd11f6db5747f33d350b287742f8643fdd23c64033b215975cf02a731bdb9874" alt><br>&#x6B64;&#x65F6;&#x518D;&#x6B21;&#x56DE;&#x5230;&#x7B2C;&#x4E00;&#x4E2A;&#x83DC;&#x5355;Headers&#x4E2D;&#xFF0C;Headers&#x4E2D;&#x4E00;&#x5171;&#x56DB;&#x4E2A;&#x6A21;&#x5757;&#xFF0C;&#x5206;&#x522B;&#x5BF9;&#x5E94;&#x6211;&#x4EEC;&#x6293;&#x5305;&#x5206;&#x6790;&#x4E2D;&#x6784;&#x9020;&#x6D4F;&#x89C8;&#x5668;&#x8BF7;&#x6C42;&#x7684;&#x56DB;&#x5927;&#x90E8;&#x5206;&#x3002; </p>
<p><img src="https://gitee.com/songjianzaina/juejin_p4/raw/master/img/c73d0aad101b64ef129c9165f4bb3bd8014a150ec97f875ce4ed1b8731ad4c2e" alt><br><strong>General&#x6A21;&#x5757;</strong>&#x544A;&#x8BC9;&#x6211;&#x4EEC;&#x7684;&#x6709;&#x7528;&#x4FE1;&#x606F;&#x4E3B;&#x8981;&#x6709;&#x4E24;&#x6761;&#xFF1A;</p>
<p>&#x8BE5;&#x8BF7;&#x6C42;&#x7684;&#x5730;&#x5740;&#x662F;<a href="/external_links/aeb727e5a28c388c76172a0ef04c7378.html" target="blank" rel="noopener">study.163.com/p/search/st&#x2026;</a>,&#x8FD9;&#x4E2A;&#x5730;&#x5740;&#x4E5F;&#x662F;&#x6211;&#x4EEC;&#x4F2A;&#x9020;&#x8BF7;&#x6C42;&#x7684;&#x552F;&#x4E00;&#x5730;&#x5740;&#xFF0C;&#x8BF7;&#x6C42;&#x7C7B;&#x578B;&#x662F;&#x4E00;&#x4E2A;POST&#x8BF7;&#x6C42;&#x3002;</p>
<p><strong>Response Headers</strong></p>
<p>&#x8BE5;&#x6A21;&#x5757;&#x662F;&#x8BF7;&#x6C42;&#x7684;&#x54CD;&#x5E94;&#x62A5;&#x5934;&#xFF0C;&#x4E5F;&#x5373;&#x5F53;&#x8BF7;&#x6C42;&#x6784;&#x9020;&#x6210;&#x529F;&#x4E4B;&#x540E;&#xFF0C;&#x53CD;&#x56DE;&#x7684;&#x6570;&#x636E;&#x6709;&#x5173;&#x5185;&#x5BB9;&#x3002;</p>
<p>&#x5B83;&#x544A;&#x8BC9;&#x6211;&#x4EEC;&#x7684;&#x6700;&#x4E3A;&#x91CD;&#x8981;&#x7684;&#x4FE1;&#x606F;&#xFF08;&#x5F71;&#x54CD;&#x6211;&#x4EEC;&#x722C;&#x866B;&#x6784;&#x5EFA;&#x8FC7;&#x7A0B;&#x7684;&#xFF09;&#x662F;&#x8FD4;&#x56DE;&#x7684;&#x6570;&#x636E;&#x683C;&#x5F0F;(Content-Type:application/json;charset=UTF-8),json&#x8FD4;&#x56DE;&#x503C;&#x51B3;&#x5B9A;&#x7740;&#x6211;&#x4EEC;&#x9700;&#x8981;&#x5BF9;&#x8FD4;&#x56DE;&#x6570;&#x636E;&#x4F7F;&#x7528;json&#x7684;&#x53CD;&#x5E8F;&#x5217;&#x5316;&#x3002;&#xFF08;&#x5728;R&#x4E2D;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;jsonlite&#x4E2D;&#x7684;fromJSON&#xFF0C;&#x5728;Python&#x4E2D;&#x4F7F;&#x7528;json&#x5305;&#x4E2D;&#x7684;loads.json()&#xFF09;&#x3002;</p>
<p><strong>Requests Headers</strong></p>
<p>&#x8BE5;&#x6A21;&#x5757;&#x662F;&#x6784;&#x9020;&#x8BF7;&#x6C42;&#x7684;&#x8BF7;&#x6C42;&#x62A5;&#x5934;&#xFF0C;&#x4E3B;&#x8981;&#x544A;&#x77E5;&#x6211;&#x4EEC;&#x8BF7;&#x6C42;&#x7684;&#x4E00;&#x4E9B;&#x5177;&#x4F53;&#x4FE1;&#x606F;&#xFF0C;&#x671F;&#x5F85;&#x83B7;&#x53D6;&#x7684;&#x6570;&#x636E;&#xFF0C;&#x53D1;&#x9001;&#x8BF7;&#x6C42;&#x7684;&#x7EC8;&#x7AEF;&#x7C7B;&#x578B;&#xFF0C;&#x4EE5;&#x53CA;&#x767B;&#x5F55;&#x4FE1;&#x606F;&#xFF0C;&#x53C2;&#x7167;&#x9875;&#x5730;&#x5740;&#x7B49;&#x3002;</p>
<p>&#x91CD;&#x70B9;&#x5173;&#x6CE8;&#x5176;&#x4E2D;&#x7684;Cookies&#x53C2;&#x6570;&#x3001;Content-Type&#x53C2;&#x6570;&#x3001;Referer&#x53C2;&#x6570;&#x3001;User-Agent&#x53C2;&#x6570;&#x3001;edu-script-token&#x53C2;&#x6570;&#x3002;</p>
<p>User-Agent&#x662F;&#x6807;&#x8BC6;&#x8BF7;&#x6C42;&#x53D1;&#x9001;&#x7684;&#x8BBE;&#x5907;&#x7C7B;&#x578B;&#xFF08;&#x5E38;&#x7528;&#x4E8E;&#x89C4;&#x907F;&#x670D;&#x52A1;&#x7AEF;&#x53CD;&#x722C;&#xFF0C;&#x53EF;&#x4EE5;&#x4F2A;&#x9020;&#x5408;&#x6CD5;&#x7684;&#x7EC8;&#x7AEF;&#x7C7B;&#x578B;&#xFF09;&#x3002;Content-Type&#x662F;&#x8BF7;&#x6C42;&#x53C2;&#x6570;&#x63D0;&#x4EA4;&#x7684;&#x7C7B;&#x578B;&#xFF0C;&#x8FD9;&#x91CC;&#x662F;application/json&#xFF0C;&#x5C31;&#x662F;json&#x5BF9;&#x8C61;&#xFF08;&#x5728;R&#x91CC;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;jsonlite&#x5305;&#x7684;toJSON()&#x51FD;&#x6570;&#x6784;&#x9020;&#xFF0C;&#x5728;Python&#x91CC;&#x4F7F;&#x7528;json.dumps()&#x51FD;&#x6570;&#x5E8F;&#x5217;&#x5316;&#x53C2;&#x6570;&#xFF09;&#x3002;</p>
<p>Referer&#x662F;&#x53C2;&#x7167;&#x9875;&#x5730;&#x5740;&#xFF0C;&#x4E5F;&#x5C31;&#x662F;&#x6211;&#x4EEC;&#x5728;&#x6D4F;&#x89C8;&#x5668;&#x770B;&#x5230;&#x7684;&#x60F3;&#x8981;&#x6293;&#x53D6;&#x7684;&#x5185;&#x5BB9;&#x4E3B;&#x9875;&#x3002;&#xFF08;&#x6CE8;&#x610F;&#x533A;&#x522B;&#x4E0E;&#x4E0A;&#x8FF0;&#x6240;&#x8BF4;&#x7684;&#x6293;&#x5305;&#x9700;&#x8981;&#x7684;&#x8BF7;&#x6C42;&#x5730;&#x5740;&#xFF09; </p>
<p>edu-script-token&#x662F;&#x4E00;&#x4E2A;&#x91CD;&#x8981;&#x7684;&#x968F;&#x673A;&#x53C2;&#x6570;(&#x610F;&#x5473;&#x7740;&#x6BCF;&#x6253;&#x5F00; &#x4E00;&#x6B21;&#x6D4F;&#x89C8;&#x5668;&#x90FD;&#x4F1A;&#x53D8;&#x52A8;)&#xFF0C;&#x5B83;&#x5E94;&#x8BE5;&#x662F;&#x5F53;&#x524D;&#x8FDB;&#x7A0B;&#x7684;&#x4E00;&#x4E2A;&#x6807;&#x8BC6;&#xFF08;&#x4E2A;&#x4EBA;&#x7406;&#x89E3;&#xFF09;&#x3002;</p>
<p>Cookies&#x662F;&#x767B;&#x5F55;&#x72B6;&#x6001;&#xFF0C;&#x7528;&#x4E8E;&#x8868;&#x660E;&#x7528;&#x6237;&#x767B;&#x5F55;&#x8EAB;&#x4EFD;&#x8BA4;&#x8BC1;&#x3002;&#xFF08;requests&#x53C2;&#x6570;&#x867D;&#x7136;&#x6709;&#x5E38;&#x7528;&#x7684;&#x9884;&#x5B9A;&#x4E49;&#x53C2;&#x6570;&#xFF0C;&#x4F46;&#x662F;&#x4E0D;&#x540C;&#x7F51;&#x7AD9;&#x8FD8;&#x6709;&#x4F1A;&#x6709;&#x4E9B;&#x72EC;&#x7279;&#x7684;&#x53C2;&#x6570;&#x7C7B;&#x578B;&#xFF0C;&#x5B9E;&#x9645;&#x6293;&#x5305;&#x8FC7;&#x7A0B;&#x9700;&#x8981;&#x4E0D;&#x65AD;&#x5C1D;&#x8BD5;&#xFF09;</p>
<p><strong>Reqests Payload</strong></p>
<p>&#x6700;&#x540E;&#x662F;&#x672C;&#x6B21;&#x6293;&#x5305;&#x5206;&#x6790;&#x7684;&#x91CD;&#x5934;&#x620F;&#xFF0C;&#x67E5;&#x8BE2;&#x6761;&#x4EF6;&#x90E8;&#x5206;&#x3002;&#x56E0;&#x4E3A;&#x6570;&#x636E;&#x5F88;&#x591A;&#xFF08;&#x901A;&#x5E38;&#x60C5;&#x51B5;&#x4E0B;&#xFF09;&#xFF0C;&#x4E0D;&#x53EF;&#x80FD;&#x4E00;&#x6B21;&#x8FD4;&#x56DE;&#xFF0C;&#x6240;&#x4EE5;&#x6211;&#x4EEC;&#x9700;&#x8981;&#x6784;&#x5EFA;&#x4E00;&#x4E2A;&#x67E5;&#x8BE2;&#x8868;&#x5355;&#xFF0C;&#x8BE5;&#x8868;&#x5355;&#x662F;POST&#x7279;&#x6709;&#x7684;&#xFF08;GET&#x65B9;&#x6CD5;&#x7684;&#x67E5;&#x8BE2;&#x53C2;&#x6570;&#x5305;&#x542B;&#x5728;url&#x4E2D;&#xFF09;&#x3002;&#x8FD9;&#x4E9B;&#x67E5;&#x8BE2;&#x5B57;&#x7B26;&#x4E32;&#x89C4;&#x5B9A;&#x4E86;&#x4E86;&#x8FD4;&#x56DE;&#x6570;&#x636E;&#x4E2D;&#x7684;&#x6D3B;&#x52A8;&#x8BFE;&#x7A0B; id&#xFF0C;&#x8BFE;&#x7A0B;&#x6392;&#x5E8F;&#x65B9;&#x5F0F;&#xFF0C;&#x8BFE;&#x7A0B;&#x4F5C;&#x8005;&#xFF0C;&#x6BCF;&#x6B21;&#x8FD4;&#x56DE;&#x8BFE;&#x7A0B;&#x6570;&#x76EE;&#xFF0C;&#x9875;&#x9762;&#x8BFE;&#x7A0B;&#x6700;&#x5927;&#x6570;&#x636E;&#xFF0C;&#x6BCF;&#x6B21;&#x8FD4;&#x56DE;&#x6570;&#x636E;&#x65F6;&#x8BFE;&#x7A0B;&#x504F;&#x79FB;&#x91CF;&#x7B49;&#x4FE1;&#x606F;&#x3002;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&#x590D;&#x5236;&#x4EE3;&#x7801;activityId:0</span><br><span class="line">keyword:&quot;&#x5218;&#x51EF;&quot;</span><br><span class="line">orderType:5</span><br><span class="line">pageIndex:1</span><br><span class="line">pageSize:20</span><br><span class="line">priceType:-1</span><br><span class="line">searchTimeType:-1</span><br></pre></td></tr></table></figure>

<p>&#x8FD9;&#x4E9B;&#x8868;&#x5355;&#x9700;&#x8981;&#x6784;&#x6210;&#x4E00;&#x4E2A;json&#x5E8F;&#x5217;&#x4E4B;&#x540E;&#x624D;&#x80FD;&#x4E0A;&#x4F20;&#xFF0C;R&#x8BED;&#x8A00;&#x4E2D;&#x7A0D;&#x5FAE;&#x6709;&#x4E9B;&#x66F2;&#x6298;&#xFF0C;RCurl&#x5305;&#x4E2D;&#x9700;&#x8981;&#x501F;&#x52A9;jsonlite&#x5305;&#x4E2D;&#x7684;toJSON()&#x51FD;&#x6570;&#x8FDB;&#x884C;&#x53C2;&#x6570;&#x5E8F;&#x5217;&#x5316;&#xFF0C;httr&#x5305;&#x5219;&#x542B;&#x6709;&#x53EF;&#x9009;&#x7684;&#x53C2;&#x6570;&#x7F16;&#x7801;&#x7C7B;&#x578B;&#xFF0C;&#x76F4;&#x63A5;&#x6307;&#x5B9A;&#x5373;&#x53EF;&#x3002;Python&#x4E2D;&#x7684;urllib&#x3001;requests&#x5E93;&#xFF0C;&#x5219;&#x76F4;&#x63A5;&#x901A;&#x8FC7;json&#x5305;&#x7684;json.dumps()&#x51FD;&#x6570;&#x8FDB;&#x884C;json&#x5E8F;&#x5217;&#x5316;&#x5373;&#x53EF;&#x3002;</p>
<p>&#x4ECE;&#x65B0;&#x68B3;&#x7406;&#x4E00;&#x4E0B;&#xFF1A;</p>
<p><strong>General&#x6A21;&#x5757;&#x786E;&#x5B9A;&#x8BF7;&#x6C42;URL&#x3001;&#x8BF7;&#x6C42;&#x65B9;&#x5F0F;&#xFF1A;POST</strong></p>
<p><strong>Requests&#x6A21;&#x5757;&#x786E;&#x5B9A;Cookies&#x3001;Content-Type&#xFF08;&#x8BF7;&#x6C42;&#x53C2;&#x6570;&#x63D0;&#x4EA4;&#x683C;&#x5F0F;&#xFF09;&#x3001;Referer&#xFF08;&#x8BF7;&#x6C42;&#x5B9A;&#x4F4D;&#x7684;&#x53C2;&#x7167;&#x9875;&#xFF09;&#x3001;User-Agent&#xFF08;&#x8BBE;&#x5907;&#x7C7B;&#x578B;&#xFF09;&#x3001;edu-script-token&#xFF08;&#x5F53;&#x524D;&#x8FDB;&#x7A0B;&#x4FE1;&#x606F;&#xFF09;</strong></p>
<p><strong>Resposes&#x6A21;&#x5757;&#x786E;&#x5B9A;&#x8BF7;&#x6C42;&#x8FD4;&#x56DE;&#x6570;&#x636E;&#x7684;&#x683C;&#x5F0F;:Content-Type&#xFF0C;&#x51B3;&#x5B9A;&#x7740;&#x6211;&#x4EEC;&#x4F7F;&#x7528;&#x4EC0;&#x4E48;&#x51FD;&#x6570;&#x5904;&#x7406;&#x8FD4;&#x56DE;&#x503C;&#x3002;</strong></p>
<p><strong>Request Payload&#x6A21;&#x5757;&#x51B3;&#x5B9A;&#x63D0;&#x4EA4;&#x53C2;&#x6570;&#x4FE1;&#x606F;&#xFF08;&#x63D0;&#x4EA4;&#x65B9;&#x5F0F;&#x7531;Requests&#x6A21;&#x5757;&#x7684;Content-Type&#x53C2;&#x6570;&#x51B3;&#x5B9A;&#xFF09;&#x3002;</strong></p>
<p>&#x81F3;&#x6B64;&#x5F02;&#x6B65;&#x52A0;&#x8F7D;&#x7684;&#x6D41;&#x7A0B;&#x5206;&#x6790;&#x9636;&#x6BB5;&#x5B8C;&#x6BD5;&#x3002;</p>
<p>&#x4E0B;&#x9762;&#x5206;&#x4EAB;&#x5982;&#x4F55;&#x4F7F;&#x7528;postman&#x8FD9;&#x6B3E;&#x8BF7;&#x6C42;&#x6784;&#x9020;&#x5DE5;&#x5177;&#x8FDB;&#x884C;&#x8BF7;&#x6C42;&#x6A21;&#x62DF;&#xFF0C;&#x6D4B;&#x8BD5;&#x8BF7;&#x6C42;&#x53C2;&#x6570;&#x4EE5;&#x53CA;&#x62A5;&#x5934;&#x4FE1;&#x606F;&#x662F;&#x5426;&#x5408;&#x6CD5;&#xFF0C;&#x662F;&#x5426;&#x53EF;&#x4EE5; &#x6B63;&#x5E38;&#x8FD4;&#x56DE;&#x6570;&#x636E;&#x3002;</p>
<p><img src="https://gitee.com/songjianzaina/juejin_p4/raw/master/img/b25018a46e65074c2b7ee4afb6129d96dd39516a060f5464db3e6f796021afd8" alt><br>postman&#x662F;&#x4E00;&#x6B3E;&#x5F88;&#x597D;&#x7528;&#x7684;&#x7F51;&#x7EDC;&#x8BF7;&#x6C42;&#x6A21;&#x62DF;&#x6784;&#x9020;&#x8F6F;&#x4EF6;&#xFF0C;&#x6253;&#x5F00;&#x4E4B;&#x540E;&#xFF0C;&#x7B2C;&#x4E00;&#x90E8;&#x5206;&#x9009;&#x62E9;&#x8BF7;&#x6C42;&#x7C7B;&#x578B;&#xFF0C;&#x7B2C;&#x4E8C;&#x90E8;&#x5206;&#x8F93;&#x5165;&#x8BF7;&#x6C42;URL&#xFF0C;&#x7B2C;&#x4E09;&#x90E8;&#x5206;&#x8F93;&#x5165;&#x8BF7;&#x6C42;headers,&#x7B2C;&#x56DB;&#x90E8;&#x5206;&#x8F93;&#x5165;&#x8BF7;&#x6C42;&#x7684; &#x67E5;&#x8BE2;&#x8868;&#x5355;&#x4F53;&#x3002;</p>
<p><img src="https://gitee.com/songjianzaina/juejin_p4/raw/master/img/a114f4cbef61079f6dd6fa32a188615fb80f91c96fa18f8519eb06417c6f05fa" alt><br>&#x5728;&#x8F93;&#x5165;body&#x65F6;&#xFF0C;&#x8BB0;&#x5F97;&#x9009;&#x62E9;raw&#x5355;&#x9009;&#x6309;&#x94AE;&#xFF0C;&#x5E76;&#x4E14;&#x683C;&#x5F0F;&#x9009;&#x62E9;JSON&#xFF08;application/json&#xFF09;&#xFF0C;&#x8FD9;&#x662F;&#x8BE5;&#x8BF7;&#x6C42;&#x6307;&#x5B9A;&#x7684;&#x53C2;&#x6570;&#x63D0;&#x4EA4;&#x65B9;&#x5F0F;&#x3002;</p>
<p><img src="https://gitee.com/songjianzaina/juejin_p4/raw/master/img/69f0c22c0b68c844c1db4c473f8f6d48cba3f22ff2b668858087c8ded29bcc27" alt><br><img src="https://gitee.com/songjianzaina/juejin_p4/raw/master/img/0b2f72ad29e4d9bb6ede6587c831633aeef4c1492005b4f1509e470da53ad9f1" alt><br>&#x4EE5;&#x4E0A;&#x6D41;&#x7A0B;&#x5B8C;&#x6210;&#x4E4B;&#x540E;&#xFF0C;&#x53EF;&#x4EE5;&#x70B9;&#x51FB;send&#x3002;</p>
<p>&#x6B63;&#x5E38;&#x7684;&#x8BDD;&#xFF0C;&#x5728;&#x8BE5;&#x754C;&#x9762;&#x5E95;&#x90E8;&#x5C31;&#x4F1A;&#x8FD4;&#x56DE;json&#x6570;&#x636E;&#x5757;&#x513F;,&#x8FD9;&#x4E9B;&#x6570;&#x636E;&#x5757;&#x4F1A;&#x88AB;&#x81EA;&#x52A8;&#x6309;&#x7167;&#x5176;&#x539F;&#x683C;&#x5F0F;&#x89E3;&#x6790;&#x548C;&#x683C;&#x5F0F;&#x5316;&#xFF0C;json&#x8FD4;&#x56DE;&#x503C;&#x683C;&#x5F0F;&#x5316;&#x4E4B;&#x540E;&#x5982;&#x4E0B;&#x6240;&#x793A;&#xFF1A;</p>
<p><img src="https://gitee.com/songjianzaina/juejin_p4/raw/master/img/481f19244105d2795c43ec652b9eb7531eb5f7446df6190a6bd636acad2402f3" alt><br>&#x5728;&#x6570;&#x636E;&#x5757;&#x4E2D;&#x968F;&#x4FBF;&#x9009;&#x4E2D;&#x4E00;&#x4E2A;&#x5E8F;&#x5217;&#x5B57;&#x6BB5;&#xFF0C;&#x4F7F;&#x7528;Ctrl+F&#x67E5;&#x627E;&#x529F;&#x80FD;&#xFF0C;&#x67E5;&#x770B;&#x4E00;&#x4E0B;&#x4E00;&#x5171;&#x6709;&#x51E0;&#x4E2A;&#xFF0C;&#x4E0E;&#x6D4F;&#x89C8;&#x5668;&#x4E2D;&#x8BFE;&#x7A0B;&#x6570;&#x76EE;&#x662F;&#x5426;&#x4E00;&#x81F4;&#x3002;</p>
<p><img src="https://gitee.com/songjianzaina/juejin_p4/raw/master/img/7985e824f266dcd933e95fd0a21bc7ee780b635da41ed779e59c1fa9487f7f53" alt><br>&#x7ED3;&#x679C;&#x4E00;&#x81F4;&#xFF0C;&#x6D4F;&#x89C8;&#x5668;&#x4E2D;&#x7684;&#x5BF9;&#x5E94;&#x9875;&#x9762;&#x521A;&#x597D;&#x4E5F;&#x662F;9&#x95E8;&#x8BFE;&#xFF0C;&#x672C;&#x6B21;&#x8BF7;&#x6C42;&#x6784;&#x9020;&#x6210;&#x529F;&#xFF0C;&#x6D4B;&#x8BD5;&#x7ED3;&#x675F;&#xFF0C;&#x9700;&#x8981;&#x6784;&#x9020;&#x7684;&#x8BF7;&#x6C42;&#x683C;&#x5F0F;&#x5982;&#x4E0B;&#xFF1A;</p>
<p><strong>&#x8BF7;&#x6C42;&#x7C7B;&#x578B;&#xFF1A;POST<br>&#x8BF7;&#x6C42;&#x8D44;&#x6E90;&#x5730;&#x5740;&#xFF1A;<a href="/external_links/aeb727e5a28c388c76172a0ef04c7378.html" target="blank" rel="noopener">study.163.com/p/search/st&#x2026;</a><br>&#x8BF7;&#x6C42;&#x62A5;&#x5934;&#x53C2;&#x6570;&#xFF1A;<br>Content-Type:application/json<br>edu-script-token:40a297a878e54bdb9440a31345ad5f63<br>User-Agent:Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/61.0.3163.79 Safari/537.36</strong><br>&#x8BF7;&#x6C42;&#x67E5;&#x8BE2;&#x8868;&#x5355;&#x53C2;&#x6570;&#xFF1A;&#xFF08;&#x53D1;&#x9001;&#x524D;&#x9700;&#x8981;&#x5E8F;&#x5217;&#x5316;&#x4E3A;json&#x5BF9;&#x8C61;&#xFF09;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&#x590D;&#x5236;&#x4EE3;&#x7801;{</span><br><span class="line">    &quot;pageSize&quot;:20,</span><br><span class="line">    &quot;pageIndex&quot;:1,</span><br><span class="line">    &quot;searchTimeType&quot;:-1,</span><br><span class="line">    &quot;orderType&quot;:5,</span><br><span class="line">    &quot;priceType&quot;:-1,</span><br><span class="line">    &quot;activityId&quot;:0,</span><br><span class="line">    &quot;keyword&quot;:&quot;&#x5218;&#x51EF;&quot;</span><br><span class="line">}</span><br></pre></td></tr></table></figure>

<p>&#x5C06;&#x4EE5;&#x4E0A;&#x4FE1;&#x606F;&#xFF0C;&#x4F7F;&#x7528;R&#x8BED;&#x8A00;&#x4E2D;&#x7684;RCurl&#x4E2D;&#x7684;postForm&#x51FD;&#x6570;&#x3001;httr&#x5305;&#x4E2D;&#x7684;POST&#x51FD;&#x6570;&#xFF0C;&#x6216;&#x8005;Python&#x4E2D;&#x7684;urllib&#x5305;&#x3001;requests&#x5305;&#x5747;&#x53EF;&#x4EE5;&#x6A21;&#x62DF;&#x6784;&#x9020;&#x8BE5;&#x8BF7;&#x6C42;&#xFF0C;&#x8BE6;&#x7EC6;&#x8BF7;&#x6C42;&#x6784;&#x9020;&#x8FC7;&#x7A0B;&#xFF0C;&#x4E0D;&#x518D;&#x91CD;&#x590D;&#xFF0C;&#x611F;&#x5174;&#x8DA3;&#x53EF;&#x4EE5;&#x53C2;&#x8003;&#x8FD9;&#x51E0;&#x7BC7;&#x6587;&#x7AE0;&#x3002;</p>
<p><a href="/external_links/aeb727e5a28c388c76172a0ef04c7378.html" target="blank" rel="noopener">&#x7F51;&#x6613;&#x4E91;&#x8BFE;&#x5802;Excel&#x8BFE;&#x7A0B;&#x722C;&#x866B;&#x601D;&#x8DEF;</a> </p>
<p><a href="/external_links/aeb727e5a28c388c76172a0ef04c7378.html" target="blank" rel="noopener">&#x5DE6;&#x624B;&#x7528;R&#x53F3;&#x624B;Pyhon&#x7CFB;&#x5217;&#x2014;&#x2014;&#x8DA3;&#x76F4;&#x64AD;&#x8BFE;&#x7A0B;&#x6293;&#x53D6;&#x5B9E;&#x6218;</a> </p>
<p><a href="/external_links/aeb727e5a28c388c76172a0ef04c7378.html" target="blank" rel="noopener">Python&#x6570;&#x636E;&#x6293;&#x53D6;&#x4E0E;&#x53EF;&#x89C6;&#x5316;&#x5B9E;&#x6218;&#x2014;&#x2014;&#x7F51;&#x6613;&#x4E91;&#x8BFE;&#x5802;&#x4EBA;&#x5DE5;&#x667A;&#x80FD;&#x4E0E;&#x5927;&#x6570;&#x636E;&#x677F;&#x5757;&#x8BFE;&#x7A0B;&#x5B9E;&#x6218;</a> </p>
<p><a href="/external_links/aeb727e5a28c388c76172a0ef04c7378.html" target="blank" rel="noopener">R&#x8BED;&#x8A00;&#x7F51;&#x7EDC;&#x6570;&#x636E;&#x6293;&#x53D6;&#x7684;&#x53C8;&#x4E00;&#x4E2A;&#x96BE;&#x9898;&#xFF0C;&#x7EC8;&#x4E8E;&#x653B;&#x7834;&#x4E86;&#xFF01;</a> </p>
<p><a href="/external_links/aeb727e5a28c388c76172a0ef04c7378.html" target="blank" rel="noopener">R&#x8BED;&#x8A00;&#x722C;&#x866B;&#x5B9E;&#x6218;&#x2014;&#x2014;&#x7F51;&#x6613;&#x4E91;&#x8BFE;&#x5802;&#x6570;&#x636E;&#x5206;&#x6790;&#x8BFE;&#x7A0B;&#x677F;&#x5757;&#x6570;&#x636E;&#x722C;&#x53D6;</a> </p>
<p><a href="/external_links/aeb727e5a28c388c76172a0ef04c7378.html" target="blank" rel="noopener">R&#x8BED;&#x8A00;&#x722C;&#x866B;&#x5B9E;&#x6218;&#x2014;&#x2014;&#x77E5;&#x4E4E;live&#x8BFE;&#x7A0B;&#x6570;&#x636E;&#x722C;&#x53D6;&#x5B9E;&#x6218;</a></p>
<p>&#x5728;&#x7EBF;&#x8BFE;&#x7A0B;&#x8BF7;&#x70B9;&#x51FB;&#x6587;&#x672B;&#x539F;&#x6587;&#x94FE;&#x63A5;&#xFF1A;</p>
<p><a href="/external_links/351d20d415653c6d097acc099231e4c2.html" target="blank" rel="noopener">Hellobi Live | 9&#x6708;12&#x65E5; R&#x8BED;&#x8A00;&#x53EF;&#x89C6;&#x5316;&#x5728;&#x5546;&#x52A1;&#x573A;&#x666F;&#x4E2D;&#x7684;&#x5E94;&#x7528;</a><br>&#x5F80;&#x671F;&#x6848;&#x4F8B;&#x6570;&#x636E;&#x8BF7;&#x79FB;&#x6B65;&#x672C;&#x4EBA;GitHub&#xFF1A;<br> <a href="/external_links/351d20d415653c6d097acc099231e4c2.html" target="blank" rel="noopener">github.com/ljtyduyu/Da&#x2026;</a> </p>
<p><strong>&#x672C;&#x6587;&#x8F6C;&#x8F7D;&#x81EA;:</strong> <a href="/external_links/ebce22f43eb1d01bba5a0b6cece10590.html" target="blank" rel="noopener">&#x6398;&#x91D1;</a></p>
<p><em><a href="https://dev.newban.cn/">&#x5F00;&#x53D1;&#x8005;&#x535A;&#x5BA2; &#x2013; &#x548C;&#x5F00;&#x53D1;&#x76F8;&#x5173;&#x7684; &#x8FD9;&#x91CC;&#x5168;&#x90FD;&#x6709;</a></em></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://dev.newban.cn../../6844903511956668424.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="开发者博客">
      <meta itemprop="description" content>
      <meta itemprop="image" content="../../images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="开发者博客 – IT技术 尽在开发者博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="../../6844903511956668424.html" itemprop="url">PHP中如何实现Hook机制</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-11-17T12:05:09+08:00">
                2017-11-17
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>&#x6240;&#x8C13;Hook&#x673A;&#x5236;&#xFF0C;&#x662F;&#x4ECE;Windows&#x7F16;&#x7A0B;&#x4E2D;&#x6D41;&#x884C;&#x5F00;&#x7684;&#x4E00;&#x79CD;&#x6280;&#x672F;&#x3002;&#x5176;&#x4E3B;&#x8981;&#x601D;&#x60F3;&#x662F;&#x63D0;&#x524D;&#x5728;&#x53EF;&#x80FD;&#x589E;&#x52A0;&#x529F;&#x80FD;&#x7684;&#x5730;&#x65B9;&#x57CB;&#x597D;(&#x9884;&#x8BBE;)&#x4E00;&#x4E2A;&#x94A9;&#x5B50;&#xFF0C;&#x8FD9;&#x4E2A;&#x94A9;&#x5B50;&#x5E76;&#x6CA1;&#x6709;&#x5B9E;&#x9645;&#x7684;&#x610F;&#x4E49;&#xFF0C;&#x5F53;&#x6211;&#x4EEC;&#x9700;&#x8981;&#x91CD;&#x65B0;&#x4FEE;&#x6539;&#x6216;&#x8005;&#x589E;&#x52A0;&#x8FD9;&#x4E2A;&#x5730;&#x65B9;&#x7684;&#x903B;&#x8F91;&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x628A;&#x6269;&#x5C55;&#x7684;&#x7C7B;&#x6216;&#x8005;&#x65B9;&#x6CD5;&#x6302;&#x8F7D;&#x5230;&#x8FD9;&#x4E2A;&#x70B9;&#x5373;&#x53EF;&#x3002;</p>
<p>&#x7B14;&#x8005;&#x5728;&#x5B66;&#x4E60;&#x94A9;&#x5B50;&#x673A;&#x5236;&#x65F6;&#xFF0C;&#x53C2;&#x8003;&#x7684;&#x662F;TP3.2.3&#x7684;tag&#x548C;Hook&#x673A;&#x5236;&#xFF0C;&#x4F7F;&#x7528;&#x7684;&#x662F;&#x81EA;&#x5DF1;&#x5F00;&#x53D1;&#x7684;MVC&#x6846;&#x67B6;&#xFF0C;&#x5176;&#x76EE;&#x5F55;&#x98CE;&#x683C;&#x7B49;&#x5747;&#x6A21;&#x4EFF;TP3.2.3&#xFF0C;&#x8BA9;&#x5927;&#x4F6C;&#x4EEC;&#x89C1;&#x7B11;&#x4E86;&#x3002;</p>
<p>&#x4E3E;&#x4E2A;&#x7B80;&#x5355;&#x7684;&#x4F8B;&#x5B50;&#xFF0C;&#x6211;&#x4EEC;&#x73B0;&#x5728;&#x8981;&#x5199;&#x4E00;&#x4E2A;&#x7528;&#x6237;&#x6CE8;&#x518C;&#x7684;&#x529F;&#x80FD;&#xFF0C;&#x5982;&#x4E0B;&#x56FE;:</p>
<p>/App/Home/Controller/IndexController.class.php</p>
<p> <img src="https://gitee.com/songjianzaina/juejin_p4/raw/master/img/33acd089f602d556ed5c3b6bfc4cbfea12e47978707ba1c4b0a6b8c7516af18f" alt>  </p>
<p>&#x7A81;&#x7136;&#x6709;&#x4E00;&#x5929;&#xFF0C;&#x5BA2;&#x6237;&#x8BF4;&#x6211;&#x9700;&#x8981;&#x589E;&#x52A0;&#x4E00;&#x4E2A;&#x529F;&#x80FD;&#xFF0C;&#x65B0;&#x7528;&#x6237;&#x6CE8;&#x518C;&#x5956;&#x52B1;50&#x79EF;&#x5206;&#xFF0C;&#x90A3;&#x6211;&#x53EA;&#x597D;&#x8FD9;&#x6837;&#x5199;&#xFF1A;</p>
<p> <img src="https://gitee.com/songjianzaina/juejin_p4/raw/master/img/3c3bf4722e13283315e74023304aaf6f025c8451e6a0d2ab42aba5e27edc8801" alt>  </p>
<p>&#x5BA2;&#x6237;&#x770B;&#x4E86;&#x5F88;&#x6EE1;&#x610F;&#xFF0C;&#x4F46;&#x662F;&#x4F60;&#x7684;&#x53E6;&#x4E00;&#x4E2A;&#x540C;&#x4E8B;&#x9700;&#x8981;&#x4F60;&#x7684;&#x4EE3;&#x7801;&#xFF0C;&#x4F60;&#x8DDF;&#x4ED6;&#x8BF4;&#x81EA;&#x5DF1;&#x4ECE;git&#x4E0A;pull&#x3002;&#x5BA2;&#x6237;&#x53C8;&#x63D0;&#x51FA;&#x4E00;&#x4E2A;&#x8981;&#x6C42;&#xFF0C;&#x8981;&#x5728;&#x7528;&#x6237;&#x6CE8;&#x518C;&#x540E;&#x7ED9;&#x7528;&#x6237;&#x53D1;&#x4E00;&#x4E2A;&#x90AE;&#x4EF6;(&#x5FCD;&#x4F4F;(&#x256C;&#x2594;&#x76BF;&#x2594;)),&#x90A3;&#x4F60;&#x4F1A;&#x8FD9;&#x6837;&#x505A;&#xFF1A;</p>
<p> <img src="https://gitee.com/songjianzaina/juejin_p4/raw/master/img/239db1ba8d6ceeda2a3ee47e8a16867361af55c2f562a0798383c3761905d499" alt>  </p>
<p>&#x5982;&#x679C;&#x5728;&#x4E00;&#x4E2A;&#x9879;&#x76EE;&#x4E2D;&#xFF0C;&#x6709;&#x5927;&#x91CF;&#x7684;&#x7C7B;&#x4F3C;&#x4FEE;&#x6539;&#xFF0C;&#x4F60;&#x8BE5;&#x600E;&#x4E48;&#x529E;&#xFF1F;&#x5C31;&#x90A3;&#x4E48;&#x4FEE;&#x6539;&#xFF1F;&#x9879;&#x76EE;&#x53EA;&#x4F1A;&#x8D8A;&#x6765;&#x8D8A;&#x81C3;&#x80BF;&#xFF0C;&#x8D8A;&#x53D1;&#x7684;&#x6742;&#x4E71;&#x4E0D;&#x582A;&#x3002;&#x6345;&#x6B7B;&#x5BA2;&#x6237;&#xFF1F;&#x522B;&#x95F9;&#x4E86;&#xFF0C;&#x72AF;&#x6CD5;&#x7684;&#x311F;( &#x2594;, &#x2594; )&#x310F;&#x3002;&#x8F9E;&#x804C;&#xFF1F;&#x60F3;&#x60F3;&#x623F;&#x8D37;&#xFF0C;&#x518D;&#x60F3;&#x60F3;&#x59BB;&#x513F;&#x8001;&#x5C0F;&#xFF0C;&#x6211;&#x5FCD;(&#xFF61;&#x30FB;`&#x3C9;&#xB4;&#xFF65;)&#x3002;ps&#xFF1A;&#x7A0B;&#x5E8F;&#x5458;&#x54EA;&#x6765;&#x7684;&#x59BB;&#x513F;&#x2026;(&#xFFE3;&#x2200;&#xFFE3;)</p>
<p>&#x8A00;&#x5F52;&#x6B63;&#x4F20;&#xFF0C;&#x6700;&#x597D;&#x89E3;&#x51B3;&#x529E;&#x6CD5;&#x5C31;&#x662F;&#x4F7F;&#x7528;&#x94A9;&#x5B50;&#x673A;&#x5236;&#x3002;</p>
<p>&#x9996;&#x5148;&#x6765;&#x770B;&#x4E00;&#x4E0B;&#x6211;&#x4EEC;&#x5199;&#x7684;Hook&#x7C7B;&#xFF1A;</p>
<p>/CutePHP/Lib/Cute/Hook.class.php</p>
<p> <img src="https://gitee.com/songjianzaina/juejin_p4/raw/master/img/6b0801f71b17a7553801e0f58c64c811a736340b44ba3b20701af6121b653197" alt>  </p>
<p>&#x8FD9;&#x662F;&#x6211;&#x4EFF;&#x7167;TP&#x7684;Hook&#x5199;&#x7684;&#x4E00;&#x4E2A;&#x7B80;&#x5355;&#x7684;Hook&#x7C7B;&#xFF0C;&#x8BE5;&#x7C7B;&#x4E2D;&#x5305;&#x542B;&#x4E86;&#x4E00;&#x4E2A;&#x9759;&#x6001;&#x7684;&#x79C1;&#x6709;&#x5C5E;&#x6027;Hooks&#x7528;&#x4E8E;&#x8BB0;&#x5F55;&#x6240;&#x6709;&#x5DF2;&#x7ECF;&#x6CE8;&#x518C;&#x7684;&#x94A9;&#x5B50;</p>
<p>add&#x65B9;&#x6CD5;&#x4F20;&#x5165;&#x94A9;&#x5B50;&#x7684;&#x540D;&#x79F0;&#x548C;&#x65B9;&#x6CD5;&#xFF0C;&#x5373;&#x53EF;&#x5C06;&#x8FD9;&#x4E2A;&#x94A9;&#x5B50;&#x5B58;&#x5165;&#x6570;&#x7EC4;&#x4E2D;&#xFF0C;listen&#x5219;&#x662F;&#x7528;&#x4E8E;&#x76D1;&#x542C;&#x67D0;&#x4E2A;&#x94A9;&#x5B50;&#xFF0C;&#x53EA;&#x8981;&#x6709;&#x8FD9;&#x4E2A;&#x94A9;&#x5B50;&#x5C06;&#x8C03;&#x7528;exec&#x65B9;&#x6CD5;&#x6267;&#x884C;&#x8FD9;&#x4E2A;&#x94A9;&#x5B50;</p>
<p>&#x6211;&#x4EEC;&#x6765;&#x6D4B;&#x8BD5;&#x4E00;&#x4E0B;&#xFF0C;&#x9996;&#x5148;&#x5728;/App/Home/Controller.class.php&#x4E2D;&#x57CB;&#x5165;&#x94A9;&#x5B50;&#xFF1A;</p>
<p> <img src="https://gitee.com/songjianzaina/juejin_p4/raw/master/img/7b5588944f29b45acd04bd87be8fe4f48fad61f0558843ebdedbb459c2a2d882" alt>  </p>
<p>&#x7136;&#x540E;&#x5728;/App/Home/Plugin&#x76EE;&#x5F55;&#x4E0B;&#x9762;&#x5EFA;&#x7ACB;&#x548C;&#x94A9;&#x5B50;&#x4E00;&#x6837;&#x7684;&#x6587;&#x4EF6;&#x5939; /App/Home/Plugin/register &#x4E0B;&#x9762;&#x5EFA;&#x7ACB;&#x548C;&#x94A9;&#x5B50;&#x540D;&#x4E00;&#x6837;&#x7684;&#x6587;&#x4EF6;register.php,&#x5199;&#x4E00;&#x4E2A;&#x7B80;&#x5355;&#x7684;&#x7C7B;&#xFF0C;&#x540D;&#x79F0;&#x4E5F;&#x53EB;register&#xFF0C;&#x4E0B;&#x9762;&#x6709;&#x4E2A;&#x4E24;&#x4E2A;&#x65B9;&#x6CD5;&#xFF0C;&#x4E00;&#x4E2A;&#x53EB;before&#x4E00;&#x4E2A;&#x53EB;after&#xFF1A;</p>
<p> <img src="https://gitee.com/songjianzaina/juejin_p4/raw/master/img/03a5fb88a8d2c54cd64f0a46581f197bd6b8996ae05eb8d73d9eec039e9db93c" alt>  </p>
<p>&#x7136;&#x540E;&#x5728;&#x9879;&#x76EE;&#x7684;&#x516C;&#x5171;&#x914D;&#x7F6E;&#x4E2D;&#x6CE8;&#x518C;&#x4E24;&#x4E2A;&#x94A9;&#x5B50;:</p>
<p>/App/Conf/Hook.php</p>
<p> <img src="https://gitee.com/songjianzaina/juejin_p4/raw/master/img/006ff03b0cb864a1e649e4f7bed93f5e1e7f825b37370ff5a17cad2a0a7c9043" alt>  </p>
<p>&#x90A3;&#x4E48;&#x5F53;&#x6211;&#x4EEC;&#x8BBF;&#x95EE;Home&#x4E0B;&#x9762;Index&#x63A7;&#x5236;&#x5668;&#x7684;Register&#x65B9;&#x6CD5;&#x65F6;&#x5C31;&#x4F1A;&#x663E;&#x793A;&#xFF1A;</p>
<p> <img src="https://gitee.com/songjianzaina/juejin_p4/raw/master/img/f99cb4bfe6588d8e3dfe81510115fa1f253cc5015609ae35b81150ff1c5f0e6f" alt>  </p>
<p>&#x90A3;&#x4E48;&#x5177;&#x4F53;&#x7684;&#x539F;&#x7406;&#x7A76;&#x7ADF;&#x662F;&#x600E;&#x4E48;&#x5B9E;&#x73B0;&#x7684;&#x5462;&#xFF1F;&#x9996;&#x5148;&#x5927;&#x5BB6;&#x5148;&#x6765;&#x7B80;&#x5355;&#x7684;&#x4E86;&#x89E3;&#x4E00;&#x4E0B;&#x6211;&#x7684;&#x8FD9;&#x4E2A;&#x6846;&#x67B6;&#xFF0C;&#x5728;Cute&#x6838;&#x5FC3;&#x7C7B;&#x4E2D;&#x6709;&#x4E2A;&#x4E00;&#x4E2A;Start&#x65B9;&#x6CD5;&#xFF0C;&#x7528;&#x4E8E;&#x52A0;&#x8F7D;&#x8DEF;&#x7531;&#x542F;&#x52A8;&#x6846;&#x67B6;&#xFF0C;&#x5E76;&#x4E14;&#x5728;&#x52A0;&#x8F7D;&#x63A7;&#x5236;&#x5668;&#x4E4B;&#x524D;&#x5C31;&#x5148;&#x628A;/App/Conf/Hook.php&#x6587;&#x4EF6;&#x52A0;&#x8F7D;&#x8FDB;&#x6765;&#xFF1A;</p>
<p> <img src="https://gitee.com/songjianzaina/juejin_p4/raw/master/img/ac9226b5da7b73d7c7bfb11f0743958a96df3e92e744b76ec9bde20f06e4180e" alt>  </p>
<p>&#x90A3;&#x4E48;&#x5728;&#x8FD9;&#x4E2A;&#x6587;&#x4EF6;&#x4E2D;&#xFF0C;&#x6211;&#x4EEC;&#x7684;&#x4EE3;&#x7801;&#x662F;&#x8FD9;&#x6837;&#x7684;&#xFF1A;</p>
<p> <img src="https://gitee.com/songjianzaina/juejin_p4/raw/master/img/cbbb86628e78cc28bcfb952fb70dcc2e69b74bd2e3380134c596091a3833323d" alt>  </p>
<p>&#x5927;&#x5BB6;&#x60F3;&#x4E00;&#x4E0B;&#x6211;&#x4EEC;Hook&#x7684;add&#x65B9;&#x6CD5;&#xFF0C;&#x662F;&#x628A;register&#x8FD9;&#x4E2A;&#x94A9;&#x5B50;(&#x7C7B;)&#x5B9E;&#x4F8B;&#x5316;&#x4FDD;&#x5B58;&#x5230;Hooks&#x8FD9;&#x4E2A;&#x79C1;&#x6709;&#x6570;&#x7EC4;&#x4E2D;&#xFF0C;&#x8FD9;&#x4E00;&#x6B65;&#x662F;&#x5728;listen&#x65B9;&#x6CD5;&#x4E4B;&#x524D;&#xFF0C;&#x90A3;&#x4E48;&#x6211;&#x4EEC;&#x518D;&#x7528;listen&#x65B9;&#x6CD5;&#x53BB;&#x76D1;&#x542C;&#x8FD9;&#x4E2A;&#x63D2;&#x4EF6;&#xFF0C;&#x53D1;&#x73B0;&#x5B58;&#x5728;&#xFF0C;&#x5C31;&#x6267;&#x884C;&#x4E00;&#x4E0B;&#x8FD9;&#x4E2A;&#x5BF9;&#x8C61;&#x7684;&#x65B9;&#x6CD5;&#xFF0C;&#x4E5F;&#x5C31;&#x5B9E;&#x73B0;&#x4E86;&#x94A9;&#x5B50;&#x7684;&#x529F;&#x80FD;&#x3002;</p>
<p>PS&#xFF1A;&#x6587;&#x4E2D;&#x5F88;&#x591A;&#x4EE3;&#x7801;&#x548C;&#x51FD;&#x6570;&#x90FD;&#x662F;&#x4E0D;&#x5B58;&#x5728;&#x7684;&#xFF0C;&#x4EC5;&#x7528;&#x4E8E;&#x63CF;&#x8FF0;&#x903B;&#x8F91;&#x8FC7;&#x7A0B;&#x3002;</p>
<p>PPS&#xFF1A;&#x6587;&#x4E2D;&#x4F7F;&#x7528;&#x7684;&#x662F;&#x672C;&#x4EBA;&#x81EA;&#x5DF1;&#x4EFF;&#x7167;TP3.2.3&#x5199;&#x7684;&#x4E00;&#x4E2A;&#x7B80;&#x5355;MVC&#x6846;&#x67B6;&#xFF0C;&#x4EC5;&#x672C;&#x4EBA;&#x81EA;&#x5DF1;&#x4F7F;&#x7528;&#xFF0C;&#x8FC7;&#x4E8E;&#x7B80;&#x964B;&#x8BA9;&#x5404;&#x8DEF;&#x5927;&#x4F6C;&#x89C1;&#x7B11;&#x4E86;&#x3002;</p>
<p>PPPS&#xFF1A;&#x6C42;&#x6536;&#x85CF;&#xFF0C;&#x6C42;&#x8F6C;&#x53D1;&#x3002;&#x539F;&#x521B;&#x4E0D;&#x6613;&#xFF0C;&#x642C;&#x8FD0;&#x6CE8;&#x660E;&#x3002;</p>
<p><strong>&#x672C;&#x6587;&#x8F6C;&#x8F7D;&#x81EA;:</strong> <a href="/external_links/68fc42d2614cfb7255c9eea08b809bd5.html" target="blank" rel="noopener">&#x6398;&#x91D1;</a></p>
<p><em><a href="https://dev.newban.cn/">&#x5F00;&#x53D1;&#x8005;&#x535A;&#x5BA2; &#x2013; &#x548C;&#x5F00;&#x53D1;&#x76F8;&#x5173;&#x7684; &#x8FD9;&#x91CC;&#x5168;&#x90FD;&#x6709;</a></em></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
  </section>

  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="../286/"><i class="fa fa-angle-left"></i></a><a class="page-number" href="../../">1</a><span class="space">&hellip;</span><a class="page-number" href="../286/">286</a><span class="page-number current">287</span><a class="page-number" href="../288/">288</a><span class="space">&hellip;</span><a class="page-number" href="../298/">298</a><a class="extend next" rel="next" href="../288/"><i class="fa fa-angle-right"></i></a>
  </nav>



          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      

      <section class="site-overview-wrap sidebar-panel sidebar-panel-active">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <p class="site-author-name" itemprop="name">开发者博客</p>
              <p class="site-description motion-element" itemprop="description"></p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="https://dev.newban.cn/archives/">
              
                  <span class="site-state-item-count">2975</span>
                  <span class="site-state-item-name">日志</span>
                </a>
              </div>
            

            

            
              
              
              <div class="site-state-item site-state-tags">
                
                  <span class="site-state-item-count">1162</span>
                  <span class="site-state-item-name">标签</span>
                
              </div>
            

          </nav>

          
            <div class="feed-link motion-element">
              <a href="../../atom.xml" rel="alternate">
                <i class="fa fa-rss"></i>
                RSS
              </a>
            </div>
          

          

          
          

          
          

          

        </div>
      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2024</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">开发者博客</span>
  <div>
  <script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
  <span id="busuanzi_container_site_pv">本站总访问量<span id="busuanzi_value_site_pv"></span>次</span>
  </div>
  
</div>


  <div class="powered-by">由 <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a> 强力驱动</div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">主题 &mdash; <a class="theme-link" target="_blank" href="https://github.com/iissnan/hexo-theme-next">NexT.Muse</a> v5.1.4</div>




  <script type="text/javascript" async src="js/src/mermaid.min.js"></script>
  <script>
  if (window.mermaid) {
        var mermaid_config = {
            startOnLoad: true,
            theme: 'default',
            flowchart:{
                useMaxWidth: false,
                htmlLabels: true
            }                
        }
        mermaid.initialize(mermaid_config);
  }
  </script>
  

        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
          <span id="scrollpercent"><span>0</span>%</span>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  
    <script type="text/javascript" src="../../lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="../../lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="../../lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="../../lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="../../lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="../../lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  


  


  <script type="text/javascript" src="../../js/src/utils.js?v=5.1.4"></script>

  <script type="text/javascript" src="../../js/src/motion.js?v=5.1.4"></script>



  
  

  

  


  <script type="text/javascript" src="../../js/src/bootstrap.js?v=5.1.4"></script>



  


  




	





  





  












  

  <script type="text/javascript">
    // Popup Window;
    var isfetched = false;
    var isXml = true;
    // Search DB path;
    var search_path = "search.xml";
    if (search_path.length === 0) {
      search_path = "search.xml";
    } else if (/json$/i.test(search_path)) {
      isXml = false;
    }
    var path = "/" + search_path;
    // monitor main search box;

    var onPopupClose = function (e) {
      $('.popup').hide();
      $('#local-search-input').val('');
      $('.search-result-list').remove();
      $('#no-result').remove();
      $(".local-search-pop-overlay").remove();
      $('body').css('overflow', '');
    }

    function proceedsearch() {
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay"></div>')
        .css('overflow', 'hidden');
      $('.search-popup-overlay').click(onPopupClose);
      $('.popup').toggle();
      var $localSearchInput = $('#local-search-input');
      $localSearchInput.attr("autocapitalize", "none");
      $localSearchInput.attr("autocorrect", "off");
      $localSearchInput.focus();
    }

    // search function;
    var searchFunc = function(path, search_id, content_id) {
      'use strict';

      // start loading animation
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay">' +
          '<div id="search-loading-icon">' +
          '<i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>' +
          '</div>' +
          '</div>')
        .css('overflow', 'hidden');
      $("#search-loading-icon").css('margin', '20% auto 0 auto').css('text-align', 'center');

      $.ajax({
        url: path,
        dataType: isXml ? "xml" : "json",
        async: true,
        success: function(res) {
          // get the contents from search data
          isfetched = true;
          $('.popup').detach().appendTo('.header-inner');
          var datas = isXml ? $("entry", res).map(function() {
            return {
              title: $("title", this).text(),
              content: $("content",this).text(),
              url: $("url" , this).text()
            };
          }).get() : res;
          var input = document.getElementById(search_id);
          var resultContent = document.getElementById(content_id);
          var inputEventFunction = function() {
            var searchText = input.value.trim().toLowerCase();
            var keywords = searchText.split(/[\s\-]+/);
            if (keywords.length > 1) {
              keywords.push(searchText);
            }
            var resultItems = [];
            if (searchText.length > 0) {
              // perform local searching
              datas.forEach(function(data) {
                var isMatch = false;
                var hitCount = 0;
                var searchTextCount = 0;
                var title = data.title.trim();
                var titleInLowerCase = title.toLowerCase();
                var content = data.content.trim().replace(/<[^>]+>/g,"");
                var contentInLowerCase = content.toLowerCase();
                var articleUrl = decodeURIComponent(data.url);
                var indexOfTitle = [];
                var indexOfContent = [];
                // only match articles with not empty titles
                if(title != '') {
                  keywords.forEach(function(keyword) {
                    function getIndexByWord(word, text, caseSensitive) {
                      var wordLen = word.length;
                      if (wordLen === 0) {
                        return [];
                      }
                      var startPosition = 0, position = [], index = [];
                      if (!caseSensitive) {
                        text = text.toLowerCase();
                        word = word.toLowerCase();
                      }
                      while ((position = text.indexOf(word, startPosition)) > -1) {
                        index.push({position: position, word: word});
                        startPosition = position + wordLen;
                      }
                      return index;
                    }

                    indexOfTitle = indexOfTitle.concat(getIndexByWord(keyword, titleInLowerCase, false));
                    indexOfContent = indexOfContent.concat(getIndexByWord(keyword, contentInLowerCase, false));
                  });
                  if (indexOfTitle.length > 0 || indexOfContent.length > 0) {
                    isMatch = true;
                    hitCount = indexOfTitle.length + indexOfContent.length;
                  }
                }

                // show search results

                if (isMatch) {
                  // sort index by position of keyword

                  [indexOfTitle, indexOfContent].forEach(function (index) {
                    index.sort(function (itemLeft, itemRight) {
                      if (itemRight.position !== itemLeft.position) {
                        return itemRight.position - itemLeft.position;
                      } else {
                        return itemLeft.word.length - itemRight.word.length;
                      }
                    });
                  });

                  // merge hits into slices

                  function mergeIntoSlice(text, start, end, index) {
                    var item = index[index.length - 1];
                    var position = item.position;
                    var word = item.word;
                    var hits = [];
                    var searchTextCountInSlice = 0;
                    while (position + word.length <= end && index.length != 0) {
                      if (word === searchText) {
                        searchTextCountInSlice++;
                      }
                      hits.push({position: position, length: word.length});
                      var wordEnd = position + word.length;

                      // move to next position of hit

                      index.pop();
                      while (index.length != 0) {
                        item = index[index.length - 1];
                        position = item.position;
                        word = item.word;
                        if (wordEnd > position) {
                          index.pop();
                        } else {
                          break;
                        }
                      }
                    }
                    searchTextCount += searchTextCountInSlice;
                    return {
                      hits: hits,
                      start: start,
                      end: end,
                      searchTextCount: searchTextCountInSlice
                    };
                  }

                  var slicesOfTitle = [];
                  if (indexOfTitle.length != 0) {
                    slicesOfTitle.push(mergeIntoSlice(title, 0, title.length, indexOfTitle));
                  }

                  var slicesOfContent = [];
                  while (indexOfContent.length != 0) {
                    var item = indexOfContent[indexOfContent.length - 1];
                    var position = item.position;
                    var word = item.word;
                    // cut out 100 characters
                    var start = position - 20;
                    var end = position + 80;
                    if(start < 0){
                      start = 0;
                    }
                    if (end < position + word.length) {
                      end = position + word.length;
                    }
                    if(end > content.length){
                      end = content.length;
                    }
                    slicesOfContent.push(mergeIntoSlice(content, start, end, indexOfContent));
                  }

                  // sort slices in content by search text's count and hits' count

                  slicesOfContent.sort(function (sliceLeft, sliceRight) {
                    if (sliceLeft.searchTextCount !== sliceRight.searchTextCount) {
                      return sliceRight.searchTextCount - sliceLeft.searchTextCount;
                    } else if (sliceLeft.hits.length !== sliceRight.hits.length) {
                      return sliceRight.hits.length - sliceLeft.hits.length;
                    } else {
                      return sliceLeft.start - sliceRight.start;
                    }
                  });

                  // select top N slices in content

                  var upperBound = parseInt('1');
                  if (upperBound >= 0) {
                    slicesOfContent = slicesOfContent.slice(0, upperBound);
                  }

                  // highlight title and content

                  function highlightKeyword(text, slice) {
                    var result = '';
                    var prevEnd = slice.start;
                    slice.hits.forEach(function (hit) {
                      result += text.substring(prevEnd, hit.position);
                      var end = hit.position + hit.length;
                      result += '<b class="search-keyword">' + text.substring(hit.position, end) + '</b>';
                      prevEnd = end;
                    });
                    result += text.substring(prevEnd, slice.end);
                    return result;
                  }

                  var resultItem = '';

                  if (slicesOfTitle.length != 0) {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + highlightKeyword(title, slicesOfTitle[0]) + "</a>";
                  } else {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + title + "</a>";
                  }

                  slicesOfContent.forEach(function (slice) {
                    resultItem += "<a href='" + articleUrl + "'>" +
                      "<p class=\"search-result\">" + highlightKeyword(content, slice) +
                      "...</p>" + "</a>";
                  });

                  resultItem += "</li>";
                  resultItems.push({
                    item: resultItem,
                    searchTextCount: searchTextCount,
                    hitCount: hitCount,
                    id: resultItems.length
                  });
                }
              })
            };
            if (keywords.length === 1 && keywords[0] === "") {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-search fa-5x" /></div>'
            } else if (resultItems.length === 0) {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-frown-o fa-5x" /></div>'
            } else {
              resultItems.sort(function (resultLeft, resultRight) {
                if (resultLeft.searchTextCount !== resultRight.searchTextCount) {
                  return resultRight.searchTextCount - resultLeft.searchTextCount;
                } else if (resultLeft.hitCount !== resultRight.hitCount) {
                  return resultRight.hitCount - resultLeft.hitCount;
                } else {
                  return resultRight.id - resultLeft.id;
                }
              });
              var searchResultList = '<ul class=\"search-result-list\">';
              resultItems.forEach(function (result) {
                searchResultList += result.item;
              })
              searchResultList += "</ul>";
              resultContent.innerHTML = searchResultList;
            }
          }

          if ('auto' === 'auto') {
            input.addEventListener('input', inputEventFunction);
          } else {
            $('.search-icon').click(inputEventFunction);
            input.addEventListener('keypress', function (event) {
              if (event.keyCode === 13) {
                inputEventFunction();
              }
            });
          }

          // remove loading animation
          $(".local-search-pop-overlay").remove();
          $('body').css('overflow', '');

          proceedsearch();
        }
      });
    }

    // handle and trigger popup window;
    $('.popup-trigger').click(function(e) {
      e.stopPropagation();
      if (isfetched === false) {
        searchFunc(path, 'local-search-input', 'local-search-result');
      } else {
        proceedsearch();
      };
    });

    $('.popup-btn-close').click(onPopupClose);
    $('.popup').click(function(e){
      e.stopPropagation();
    });
    $(document).on('keyup', function (event) {
      var shouldDismissSearchPopup = event.which === 27 &&
        $('.search-popup').is(':visible');
      if (shouldDismissSearchPopup) {
        onPopupClose();
      }
    });
  </script>





  

  

  

  
  

  

  

  

</body>
</html>
