<!DOCTYPE html>



  


<html class="theme-next muse use-motion" lang="zh-Hans">
<head><meta name="generator" content="Hexo 3.9.0">
  <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
<meta name="theme-color" content="#222">
<meta name="referrer" content="never">









<meta http-equiv="Cache-Control" content="no-transform">
<meta http-equiv="Cache-Control" content="no-siteapp">
















  
  
  <link href="../../lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css">







<link href="../../lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css">

<link href="../../css/main.css?v=5.1.4" rel="stylesheet" type="text/css">


  <link rel="apple-touch-icon" sizes="180x180" href="../../images/apple-touch-icon-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="32x32" href="../../images/favicon-32x32-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="16x16" href="../../images/favicon-16x16-next.png?v=5.1.4">


  <link rel="mask-icon" href="../../images/logo.svg?v=5.1.4" color="#222">





  <meta name="keywords" content="Hexo, NexT">





  <link rel="alternate" href="../../atom.xml" title="开发者博客 – IT技术 尽在开发者博客" type="application/atom+xml">






<meta property="og:type" content="website">
<meta property="og:title" content="开发者博客 – IT技术 尽在开发者博客">
<meta property="og:url" content="https://dev.newban.cn/page/322/index.html">
<meta property="og:site_name" content="开发者博客 – IT技术 尽在开发者博客">
<meta property="og:locale" content="zh-Hans">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="开发者博客 – IT技术 尽在开发者博客">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Muse',
    version: '5.1.4',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":true,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>
<!--谷歌广告验证代码-->
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({
          google_ad_client: "ca-pub-2626449904708114",
          enable_page_level_ads: true
     });
</script>
<!--谷歌广告验证代码-->



  <link rel="canonical" href="https://dev.newban.cn/page/322/">





  <title>开发者博客 – IT技术 尽在开发者博客</title>
  








</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  
  
    
  

  <div class="container sidebar-position-left 
  page-home">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">开发者博客 – IT技术 尽在开发者博客</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle">开发者博客 – 科技是第一生产力</p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="http://dev.newban.cn/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br>
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="https://dev.newban.cn/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br>
            
            归档
          </a>
        </li>
      

      
        <li class="menu-item menu-item-search">
          
            <a href="javascript:;" class="popup-trigger">
          
            
              <i class="menu-item-icon fa fa-search fa-fw"></i> <br>
            
            搜索
          </a>
        </li>
      
    </ul>
  

  
    <div class="site-search">
      
  <div class="popup search-popup local-search-popup">
  <div class="local-search-header clearfix">
    <span class="search-icon">
      <i class="fa fa-search"></i>
    </span>
    <span class="popup-btn-close">
      <i class="fa fa-times-circle"></i>
    </span>
    <div class="local-search-input-wrapper">
      <input autocomplete="off" placeholder="搜索..." spellcheck="false" type="text" id="local-search-input">
    </div>
  </div>
  <div id="local-search-result"></div>
</div>



    </div>
  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://dev.newban.cn../../6844904174023344136.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="开发者博客">
      <meta itemprop="description" content>
      <meta itemprop="image" content="../../images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="开发者博客 – IT技术 尽在开发者博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="../../6844904174023344136.html" itemprop="url">带你深入理解 Flutter 中的字体“冷”知识</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2020-05-29T08:48:04+08:00">
                2020-05-29
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>&#x672C;&#x7BC7;&#x5C06;&#x5E26;&#x4F60;&#x6DF1;&#x5165;&#x7406;&#x89E3; Flutter &#x5F00;&#x53D1;&#x8FC7;&#x7A0B;&#x4E2D;&#x5173;&#x4E8E;&#x5B57;&#x4F53;&#x548C;&#x6587;&#x672C;&#x6E32;&#x67D3;&#x7684;&#x201C;&#x51B7;&#x201D;&#x77E5;&#x8BC6;&#xFF0C;&#x5E2E;&#x52A9;&#x4F60;&#x7406;&#x89E3;&#x548C;&#x589E;&#x52A0;&#x5173;&#x4E8E; Flutter &#x4E2D;&#x5B57;&#x4F53;&#x7ED8;&#x5236;&#x7684;&#x201C;&#x65E0;&#x7528;&#x201D;&#x77E5;&#x8BC6;&#x70B9;&#x3002;</p>
<blockquote>
<p>&#x6BD5;&#x7ADF;&#x6B64;&#x7C7B;&#x76F8;&#x5173;&#x7684;&#x5185;&#x5BB9;&#x592A;&#x5C11;&#x4E86;</p>
</blockquote>
<p>&#x9996;&#x5148;&#x4ECE;&#x4E00;&#x4E2A;&#x7B80;&#x5355;&#x7684;&#x6587;&#x672C;&#x663E;&#x793A;&#x5F00;&#x59CB;&#xFF0C;&#x5982;&#x4E0B;&#x4EE3;&#x7801;&#x6240;&#x793A;&#xFF0C;&#x8FD0;&#x884C;&#x540E;&#x53EF;&#x4EE5;&#x770B;&#x5230;&#x754C;&#x9762;&#x5185;&#x51FA;&#x73B0;&#x4E86;&#x4E00;&#x4E2A; <strong>H</strong> &#x5B57;&#x6BCD;&#xFF0C;&#x5B83;&#x7684; <code>fontSize</code> &#x662F; <strong>100</strong>&#xFF0C;<code>Text</code> &#x88AB;&#x653E;&#x5728;&#x4E00;&#x4E2A;&#x9AD8;&#x5EA6;&#x4E3A; <strong>200</strong> &#x7684; <code>Container</code> &#x4E2D;&#xFF0C;&#x7136;&#x540E;&#x5982;&#x679C;&#x8FD9;&#x65F6;&#x5019;&#x6709;&#x4EBA;&#x95EE;&#x4F60;&#xFF1A;<strong><code>Text</code> &#x663E;&#x793A; **H</strong> &#x5B57;&#x6BCD;&#x9700;&#x8981;&#x5360;&#x636E;&#x591A;&#x5927;&#x7684;&#x9AD8;&#x5EA6;&#xFF0C;&#x4F60;&#x77E5;&#x9053;&#x5417;&#xFF1F;**</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line">&#x590D;&#x5236;&#x4EE3;&#x7801;</span><br><span class="line">  @override</span><br><span class="line">  Widget build(BuildContext context) {</span><br><span class="line">    return Scaffold(</span><br><span class="line">      backgroundColor: Colors.black,</span><br><span class="line">      body: Container(</span><br><span class="line">        color: Colors.lime,</span><br><span class="line">        alignment: Alignment.center,</span><br><span class="line">        child: Container(</span><br><span class="line">          alignment: Alignment.center,</span><br><span class="line">          child: Container(</span><br><span class="line">            height: 200,</span><br><span class="line">            alignment: Alignment.center,</span><br><span class="line">            child: new Row(</span><br><span class="line">              children: &lt;Widget&gt;[</span><br><span class="line">                Container(</span><br><span class="line">                  child: new Text(</span><br><span class="line">                    &quot;H&quot;,</span><br><span class="line">                    style: TextStyle(</span><br><span class="line">                      fontSize: 100,</span><br><span class="line">                    ),</span><br><span class="line">                  ),</span><br><span class="line">                ),</span><br><span class="line">                Container(</span><br><span class="line">                  height: 100,</span><br><span class="line">                  width: 100,</span><br><span class="line">                  color: Colors.red,</span><br><span class="line">                )</span><br><span class="line">              ],</span><br><span class="line">            ),</span><br><span class="line">          )</span><br><span class="line"></span><br><span class="line">        ),</span><br><span class="line">      ),</span><br><span class="line">    );</span><br><span class="line">  }</span><br></pre></td></tr></table></figure>

<p><img src="https://gitee.com/songjianzaina/juejin_p2/raw/master/img/d2e479e91f840bec8cb406d14657c44367467f409d77dd4c4192fd29416dca9d" alt></p>
<h3 id="&#x4E00;&#x3001;TextStyle"><a href="#&#x4E00;&#x3001;TextStyle" class="headerlink" title="&#x4E00;&#x3001;TextStyle"></a>&#x4E00;&#x3001;TextStyle</h3><p>&#x5982;&#x4E0B;&#x4EE3;&#x7801;&#x6240;&#x793A;&#xFF0C;&#x4E3A;&#x4E86;&#x89E3;&#x7B54;&#x8FD9;&#x4E2A;&#x95EE;&#x9898;&#xFF0C;&#x9996;&#x5148;&#x6211;&#x4EEC;&#x7ED9; <code>Text</code> &#x6240;&#x5728;&#x7684; <code>Container</code> &#x589E;&#x52A0;&#x4E86;&#x4E00;&#x4E2A;&#x84DD;&#x8272;&#x80CC;&#x666F;&#xFF0C;&#x5E76;&#x589E;&#x52A0;&#x4E00;&#x4E2A; <code>100 * 100</code> &#x5927;&#x5C0F;&#x7684;&#x7EA2;&#x8272;&#x5C0F;&#x65B9;&#x5757;&#x505A;&#x5BF9;&#x6BD4;&#x3002;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line">&#x590D;&#x5236;&#x4EE3;&#x7801;@override</span><br><span class="line">  Widget build(BuildContext context) {</span><br><span class="line">    return Scaffold(</span><br><span class="line">      backgroundColor: Colors.black,</span><br><span class="line">      body: Container(</span><br><span class="line">        color: Colors.lime,</span><br><span class="line">        alignment: Alignment.center,</span><br><span class="line">        child: Container(</span><br><span class="line">          alignment: Alignment.center,</span><br><span class="line">          child: Container(</span><br><span class="line">            height: 200,</span><br><span class="line">            alignment: Alignment.center,</span><br><span class="line">            child: new Row(</span><br><span class="line">              mainAxisAlignment: MainAxisAlignment.center,</span><br><span class="line">              children: &lt;Widget&gt;[</span><br><span class="line">                Container(</span><br><span class="line">                  color: Colors.blue,</span><br><span class="line">                  child: new Text(</span><br><span class="line">                    &quot;H&quot;,</span><br><span class="line">                    style: TextStyle(</span><br><span class="line">                      fontSize: 100,</span><br><span class="line">                    ),</span><br><span class="line">                  ),</span><br><span class="line"></span><br><span class="line">                ),</span><br><span class="line">                Container(</span><br><span class="line">                  height: 100,</span><br><span class="line">                  width: 100,</span><br><span class="line">                  color: Colors.red,</span><br><span class="line">                )</span><br><span class="line">              ],</span><br><span class="line">            ),</span><br><span class="line">          )</span><br><span class="line"></span><br><span class="line">        ),</span><br><span class="line">      ),</span><br><span class="line">    );</span><br><span class="line">  }</span><br></pre></td></tr></table></figure>

<p>&#x7ED3;&#x679C;&#x5982;&#x4E0B;&#x56FE;&#x6240;&#x793A;&#xFF0C;&#x53EF;&#x4EE5;&#x770B;&#x5230; <strong>H</strong> &#x5B57;&#x6BCD;&#x7684;&#x4E0A;&#x4E0B;&#x6709;&#x7740;&#x4E00;&#x5B9A;&#x7684; <code>padding</code> &#x533A;&#x57DF;&#xFF0C;&#x84DD;&#x8272;<code>Container</code> &#x7684;&#x5927;&#x5C0F;&#x660E;&#x663E;&#x8D85;&#x8FC7;&#x4E86; <strong>100</strong> &#xFF0C;&#x4F46;&#x662F;&#x9ED1;&#x8272;&#x7684; <strong>H</strong> &#x5B57;&#x6BCD;&#x672C;&#x8EAB;&#x5E76;&#x6CA1;&#x6709;&#x8D85;&#x8FC7;&#x7EA2;&#x8272;&#x5C0F;&#x65B9;&#x5757;&#xFF0C;&#x90A3;&#x84DD;&#x8272;&#x533A;&#x57DF;&#x7684;&#x9AD8;&#x5EA6;&#x662F;&#x4E0D;&#x662F; <code>Text</code> &#x7684;&#x9AD8;&#x5EA6;&#xFF0C;&#x5B83;&#x7684;&#x5927;&#x5C0F;&#x53C8;&#x662F;&#x5982;&#x4F55;&#x7EC4;&#x6210;&#x7684;&#x5462;&#xFF1F;</p>
<p><img src="https://gitee.com/songjianzaina/juejin_p2/raw/master/img/109ca9143f5ef59a84ea1dc9bc4d452b7919410281b63dd14087f979a4501b33" alt></p>
<p><strong>&#x4E8B;&#x5B9E;&#x4E0A;&#xFF0C;&#x524D;&#x9762;&#x7684;&#x84DD;&#x8272;&#x533A;&#x57DF;&#x662F;&#x5B57;&#x4F53;&#x7684;&#x884C;&#x9AD8;&#xFF0C;&#x4E5F;&#x5C31;&#x662F; line height</strong> &#xFF0C;&#x5173;&#x4E8E;&#x8FD9;&#x4E2A;&#x884C;&#x9AD8;&#xFF0C;&#x9996;&#x5148;&#x9700;&#x8981;&#x89E3;&#x91CA;&#x7684;&#x5C31;&#x662F; <code>TextStyle</code> &#x4E2D;&#x7684; <code>height</code> &#x53C2;&#x6570;&#x3002;</p>
<p>&#x9ED8;&#x8BA4;&#x60C5;&#x51B5;&#x4E0B; <code>height</code> &#x53C2;&#x6570;&#x662F; <code>null</code>&#xFF0C;&#x5F53;&#x6211;&#x4EEC;&#x628A;&#x5B83;&#x8BBE;&#x7F6E;&#x4E3A; <strong><code>1</code></strong> &#x4E4B;&#x540E;&#xFF0C;&#x5982;&#x4E0B;&#x56FE;&#x6240;&#x793A;&#xFF0C;&#x53EF;&#x4EE5;&#x770B;&#x5230;&#x84DD;&#x8272;&#x533A;&#x57DF;&#x7684;&#x9AD8;&#x5EA6;&#x548C;&#x7EA2;&#x8272;&#x5C0F;&#x65B9;&#x5757;&#x5BF9;&#x9F50;&#xFF0C;&#x53D8;&#x6210;&#x4E86; <strong>100</strong> &#x7684;&#x9AD8;&#x5EA6;&#xFF0C;&#x4E5F;&#x5C31;&#x662F;&#x884C;&#x9AD8;&#x53D8;&#x6210;&#x4E86; <strong>100</strong> &#xFF0C;&#x800C; <strong>H</strong> &#x5B57;&#x6BCD;&#x5B8C;&#x6574;&#x7684;&#x663E;&#x793A;&#x5728;&#x84DD;&#x8272;&#x533A;&#x57DF;&#x5185;&#x3002;</p>
<p><img src="https://gitee.com/songjianzaina/juejin_p2/raw/master/img/9708eb4216ef232be0ae69e05baaa53514bcaa210f1de3e9e74ee24a71b29b73" alt></p>
<p>&#x90A3; <code>height</code> &#x662F;&#x4EC0;&#x4E48;&#x5462;&#xFF1F;&#x6839;&#x636E;&#x6587;&#x6863;&#x53EF;&#x77E5;&#xFF0C;&#x9996;&#x5148; <code>TextStyle</code> &#x4E2D;&#x7684; <code>height</code> &#x53C2;&#x6570;&#x503C;&#x5728;&#x8BBE;&#x7F6E;&#x540E;&#xFF0C;&#x5176;&#x6548;&#x679C;&#x503C;&#x662F; <code>fontSize</code> &#x7684;&#x500D;&#x6570;&#xFF1A;</p>
<ul>
<li>&#x5F53; <code>height</code> &#x4E3A;&#x7A7A;&#x65F6;&#xFF0C;&#x884C;&#x9AD8;&#x9ED8;&#x8BA4;&#x662F;&#x4F7F;&#x7528;&#x5B57;&#x4F53;&#x7684;<strong>&#x91CF;&#x5EA6;</strong>&#xFF08;&#x8FD9;&#x4E2A;<strong>&#x91CF;&#x5EA6;</strong>&#x540E;&#x9762;&#x4F1A;&#x6709;&#x89E3;&#x91CA;&#xFF09;&#xFF1B;</li>
<li>&#x5F53; <code>height</code> &#x4E0D;&#x662F;&#x7A7A;&#x65F6;&#xFF0C;&#x884C;&#x9AD8;&#x4E3A; <code>height</code> * <code>fontSize</code> &#x7684;&#x5927;&#x5C0F;&#xFF1B;</li>
</ul>
<p>&#x5982;&#x4E0B;&#x56FE;&#x6240;&#x793A;&#xFF0C;&#x84DD;&#x8272;&#x533A;&#x57DF;&#x548C;&#x7EA2;&#x8272;&#x533A;&#x57DF;&#x7684;&#x5BF9;&#x6BD4;&#x5C31;&#x662F; <code>height</code> &#x4E3A; <code>null</code> &#x548C; <code>1</code> &#x7684;&#x5BF9;&#x6BD4;&#x9AD8;&#x5EA6;&#x3002;</p>
<p><img src="https://gitee.com/songjianzaina/juejin_p2/raw/master/img/0c1ded6cf88093d9ea6f96b726b5e2b7d856a1dec563861b89259c58e121d2ac" alt></p>
<p>&#x53E6;&#x5916;&#x4E0A;&#x56FE;&#x7684; <code>BaseLine</code> &#x4E5F;&#x89E3;&#x91CA;&#x4E86;&#xFF1A;&#x4E3A;&#x4EC0;&#x4E48; <code>fontSize</code> &#x4E3A; 100 &#x7684; <strong>H</strong> &#x5B57;&#x6BCD;&#xFF0C;&#x4E0D;&#x662F;&#x5145;&#x6EE1;&#x9AD8;&#x5EA6;&#x4E3A; 100 &#x7684;&#x84DD;&#x8272;&#x533A;&#x57DF;&#x3002;</p>
<p>&#x6839;&#x636E;&#x4E0A;&#x56FE;&#x7684;&#x793A;&#x610F;&#x6548;&#x679C;&#xFF0C;&#x5728; <code>height</code> &#x4E3A; 1 &#x7684;&#x7EA2;&#x8272;&#x533A;&#x57DF;&#x5185;&#xFF0C;<strong>H</strong> &#x5B57;&#x6BCD;&#x4E5F;&#x5E94;&#x8BE5;&#x662F;&#x663E;&#x793A;&#x5728;&#x57FA;&#x7EBF;&#x4E4B;&#x4E0A;&#xFF0C;&#x800C;&#x57FA;&#x7EBF;&#x7684;&#x5E95;&#x90E8;&#x533A;&#x57DF;&#x662F;&#x4E3A;&#x4E86;&#x5982; g &#x548C; j &#x7B49;&#x5B57;&#x6BCD;&#x9884;&#x7559;&#xFF0C;&#x6240;&#x4EE5;&#x5982;&#x4E0B;&#x56FE;&#x6240;&#x793A;&#xFF0C;&#x5728; <code>Text</code> &#x5185;&#x52A0;&#x5165; g &#x5B57;&#x6BCD;&#x5E76;&#x6253;&#x5F00; Flutter &#x8C03;&#x8BD5;&#x7684;&#x6587;&#x672C;&#x57FA;&#x7EBF;&#x663E;&#x793A;&#xFF0C;&#x7531; Flutter &#x6E32;&#x67D3;&#x7684;&#x7EFF;&#x8272;&#x57FA;&#x7EBF;&#x4E5F;&#x53EF;&#x4EE5;&#x770B;&#x5230;&#x7B26;&#x5408;&#x6211;&#x4EEC;&#x9884;&#x671F;&#x7684;&#x6548;&#x679C;&#x3002;</p>
<blockquote>
<p>&#x5FD8;&#x8BB0;&#x622A;&#x56FE;&#x7531; g &#x7684;&#x4E86;&#xFF0C;&#x8111;&#x8865;&#x5427;&#x3002;</p>
</blockquote>
<p><img src="https://gitee.com/songjianzaina/juejin_p2/raw/master/img/1957bfb0cd9efdc9482199715ecc49d2ed095b6bdb8213113ba01f6a2f714a11" alt></p>
<p>&#x63A5;&#x7740;&#x5982;&#x4E0B;&#x4EE3;&#x7801;&#x6240;&#x793A;&#xFF0C;&#x5F53;&#x6211;&#x4EEC;&#x628A; <code>height</code> &#x8BBE;&#x7F6E;&#x4E3A; <strong><code>2</code></strong> &#xFF0C;&#x5E76;&#x4E14;&#x628A;&#x4E0A;&#x5C42;&#x7684;&#x9AD8;&#x5EA6;&#x4E3A; <strong>200</strong> &#x7684; <code>Container</code> &#x6DFB;&#x52A0;&#x4E00;&#x4E2A;&#x7D2B;&#x8272;&#x80CC;&#x666F;&#xFF0C;&#x7ED3;&#x679C;&#x5982;&#x4E0B;&#x56FE;&#x6240;&#x793A;&#xFF0C;&#x53EF;&#x4EE5;&#x770B;&#x5230;&#x84DD;&#x8272;&#x5757;&#x521A;&#x597D;&#x5145;&#x6EE1;&#x7D2B;&#x8272;&#x65B9;&#x5757;&#xFF0C;&#x56E0;&#x4E3A; <code>fontSize</code> &#x4E3A; <strong>100</strong> &#x7684;&#x6587;&#x672C;&#x5728; <strong>x2</strong> &#x4E4B;&#x540E;&#x6070;&#x597D;&#x9AD8;&#x5EA6;&#x5C31;&#x662F; <strong>200</strong>&#x3002;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line">&#x590D;&#x5236;&#x4EE3;&#x7801;@override</span><br><span class="line">  Widget build(BuildContext context) {</span><br><span class="line">    return Scaffold(</span><br><span class="line">      backgroundColor: Colors.black,</span><br><span class="line">      body: Container(</span><br><span class="line">        color: Colors.lime,</span><br><span class="line">        alignment: Alignment.center,</span><br><span class="line">        child: Container(</span><br><span class="line">          alignment: Alignment.center,</span><br><span class="line">          child: Container(</span><br><span class="line">            height: 200,</span><br><span class="line">            color: Colors.purple,</span><br><span class="line">            alignment: Alignment.center,</span><br><span class="line">            child: new Row(</span><br><span class="line">              mainAxisAlignment: MainAxisAlignment.center,</span><br><span class="line">              children: &lt;Widget&gt;[</span><br><span class="line">                Container(</span><br><span class="line">                  color: Colors.blue,</span><br><span class="line">                  child: new Text(</span><br><span class="line">                    &quot;Hg&quot;,</span><br><span class="line">                    style: TextStyle(</span><br><span class="line">                      fontSize: 100,</span><br><span class="line">                      height: 2,</span><br><span class="line">                    ),</span><br><span class="line">                  ),</span><br><span class="line"></span><br><span class="line">                ),</span><br><span class="line">                Container(</span><br><span class="line">                  height: 100,</span><br><span class="line">                  width: 100,</span><br><span class="line">                  color: Colors.red,</span><br><span class="line">                )</span><br><span class="line">              ],</span><br><span class="line">            ),</span><br><span class="line">          )</span><br><span class="line"></span><br><span class="line">        ),</span><br><span class="line">      ),</span><br><span class="line">    );</span><br><span class="line">  }</span><br></pre></td></tr></table></figure>

<p><img src="https://gitee.com/songjianzaina/juejin_p2/raw/master/img/95f350cb0516fd4a8dc76993854cbcf048b1f5ab1faa09fb0d0055b869446f56" alt></p>
<blockquote>
<p>&#x4E0D;&#x8FC7;&#x8FD9;&#x91CC;&#x7684; <code>Hg</code> &#x662F;&#x5F80;&#x4E0B;&#x504F;&#x79FB;&#x7684;&#xFF0C;&#x4E3A;&#x4EC0;&#x4E48;&#x8FD9;&#x6837;&#x504F;&#x79FB;&#x5728;&#x540E;&#x9762;&#x4F1A;&#x4ECB;&#x7ECD;&#xFF0C;&#x8FD8;&#x4F1A;&#x6709;&#x65B0;&#x7684;&#x5BF9;&#x6BD4;&#x3002;</p>
</blockquote>
<p>&#x6700;&#x540E;&#x5982;&#x4E0B;&#x56FE;&#x6240;&#x793A;&#xFF0C;&#x662F;&#x5B98;&#x65B9;&#x63D0;&#x4F9B;&#x7684;&#x5728;&#x4E0D;&#x540C; <code>TextStyle</code> &#x7684; <code>height</code> &#x53C2;&#x6570;&#x4E0B;&#xFF0C; <code>Text</code> &#x6240;&#x5360;&#x9AD8;&#x5EA6;&#x7684;&#x5BF9;&#x6BD4;&#x60C5;&#x51B5;&#x3002;</p>
<p><img src="https://gitee.com/songjianzaina/juejin_p2/raw/master/img/300cdbdb3f3c9a2e74c4f896bc54925e299ec2de2d776756cb03925b575f7278" alt></p>
<h3 id="&#x4E8C;&#x3001;StrutStyle"><a href="#&#x4E8C;&#x3001;StrutStyle" class="headerlink" title="&#x4E8C;&#x3001;StrutStyle"></a>&#x4E8C;&#x3001;StrutStyle</h3><p>&#x90A3;&#x518D;&#x56DE;&#x987E;&#x4E0B;&#x524D;&#x9762;&#x6240;&#x8BF4;&#x7684;&#x9ED8;&#x8BA4;&#x5B57;&#x4F53;&#x7684;<strong>&#x91CF;&#x5EA6;</strong>&#xFF0C;&#x8FD9;&#x4E2A;&#x9ED8;&#x8BA4;&#x5B57;&#x4F53;&#x7684;<strong>&#x91CF;&#x5EA6;</strong>&#x53C8;&#x662F;&#x5982;&#x4F55;&#x7EC4;&#x6210;&#x7684;&#x5462;&#xFF1F;&#x8FD9;&#x5C31;&#x4E0D;&#x5F97;&#x4E0D;&#x8BF4;&#x5230; <code>StrutStyle</code> &#x3002;</p>
<p>&#x5982;&#x4E0B;&#x4EE3;&#x7801;&#x6240;&#x793A;&#xFF0C;&#x5728;&#x4E4B;&#x524D;&#x7684;&#x4EE3;&#x7801;&#x4E2D;&#x6DFB;&#x52A0; <code>StrutStyle</code> &#xFF1A;</p>
<ul>
<li>&#x8BBE;&#x7F6E;&#x4E86; <code>forceStrutHeight</code> &#x4E3A; true &#xFF0C;&#x8FD9;&#x662F;&#x56E0;&#x4E3A;&#x53EA;&#x6709; <code>forceStrutHeight</code> &#x624D;&#x80FD;&#x5F3A;&#x5236;&#x91CD;&#x7F6E; <code>Text</code> &#x7684; <code>height</code> &#x5C5E;&#x6027;&#xFF1B;</li>
<li>&#x8BBE;&#x7F6E;&#x4E86;<code>StrutStyle</code> &#x7684; <code>height</code> &#x8BBE;&#x7F6E;&#x4E3A; <strong><code>1</code></strong> &#xFF0C;&#x8FD9;&#x6837; <code>TextStyle</code> &#x4E2D;&#x7684; <code>height</code> &#x7B49;&#x4E8E; <strong><code>2</code></strong> &#x5C31;&#x6CA1;&#x6709;&#x4E86;&#x6548;&#x679C;&#x3002;</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line">&#x590D;&#x5236;&#x4EE3;&#x7801;  @override</span><br><span class="line">  Widget build(BuildContext context) {</span><br><span class="line">    return Scaffold(</span><br><span class="line">      backgroundColor: Colors.black,</span><br><span class="line">      body: Container(</span><br><span class="line">        color: Colors.lime,</span><br><span class="line">        alignment: Alignment.center,</span><br><span class="line">        child: Container(</span><br><span class="line">          alignment: Alignment.center,</span><br><span class="line">          child: Container(</span><br><span class="line">            height: 200,</span><br><span class="line">            color: Colors.purple,</span><br><span class="line">            alignment: Alignment.center,</span><br><span class="line">            child: new Row(</span><br><span class="line">              mainAxisAlignment: MainAxisAlignment.center,</span><br><span class="line">              children: &lt;Widget&gt;[</span><br><span class="line">                Container(</span><br><span class="line">                  color: Colors.blue,</span><br><span class="line">                  child: new Text(</span><br><span class="line">                    &quot;Hg&quot;,</span><br><span class="line">                    style: TextStyle(</span><br><span class="line">                      fontSize: 100,</span><br><span class="line">                      height: 2,</span><br><span class="line">                    ),</span><br><span class="line">                    strutStyle: StrutStyle(</span><br><span class="line">                      forceStrutHeight: true,</span><br><span class="line">                      fontSize: 100,</span><br><span class="line">                      height: 1</span><br><span class="line">                    ),</span><br><span class="line"></span><br><span class="line">                  ),</span><br><span class="line"></span><br><span class="line">                ),</span><br><span class="line">                Container(</span><br><span class="line">                  height: 100,</span><br><span class="line">                  width: 100,</span><br><span class="line">                  color: Colors.red,</span><br><span class="line">                )</span><br><span class="line">              ],</span><br><span class="line">            ),</span><br><span class="line">          )</span><br><span class="line"></span><br><span class="line">        ),</span><br><span class="line">      ),</span><br><span class="line">    );</span><br><span class="line">  }</span><br></pre></td></tr></table></figure>

<p>&#x6548;&#x679C;&#x5982;&#x4E0B;&#x56FE;&#x6240;&#x793A;&#xFF0C;&#x867D;&#x7136; <code>TextStyle</code> &#x7684; <code>height</code> &#x662F; <strong><code>2</code></strong> ,&#x4F46;&#x662F;&#x663E;&#x793A;&#x51FA;&#x73B0;&#x662F;&#x4EE5; <code>StrutStyle</code> &#x4E2D; <code>height</code> &#x4E3A; <strong><code>1</code></strong> &#x7684;&#x6548;&#x679C;&#x4E3A;&#x51C6;&#x3002;</p>
<p><img src="https://gitee.com/songjianzaina/juejin_p2/raw/master/img/cc2b17036b7af1609c99228773972546eb68a6dd3e90709447a36f19ae95941d" alt></p>
<p>&#x7136;&#x540E;&#x67E5;&#x770B;&#x6587;&#x6863;&#x5BF9;&#x4E8E; <code>StrutStyle</code> &#x4E2D; <code>height</code> &#x7684;&#x63CF;&#x8FF0;&#xFF0C;&#x53EF;&#x4EE5;&#x770B;&#x5230;&#xFF1A;<code>height</code> &#x7684;&#x6548;&#x679C;&#x4F9D;&#x7136;&#x662F; <code>fontSize</code> &#x7684;&#x500D;&#x6570;&#xFF0C;&#x4F46;&#x662F;&#x4E0D;&#x540C;&#x7684;&#x662F;&#x8FD9;&#x91CC;&#x7684;&#x5BF9; <code>fontSize</code> &#x8FDB;&#x884C;&#x4E86;&#x8865;&#x5145;&#x8BF4;&#x660E; &#xFF1A; <code>ascent + descent = fontSize</code>&#xFF0C;&#x5176;&#x4E2D;&#xFF1A;</p>
<ul>
<li><code>ascent</code> &#x4EE3;&#x8868;&#x7684;&#x662F;&#x57FA;&#x7EBF;&#x4E0A;&#x65B9;&#x90E8;&#x5206;&#xFF1B;</li>
<li><code>descent</code> &#x4EE3;&#x8868;&#x7684;&#x662F;&#x57FA;&#x7EBF;&#x7684;&#x534A;&#x90E8;&#x5206;</li>
<li>&#x5176;&#x7EC4;&#x5408;&#x6548;&#x679C;&#x5982;&#x4E0B;&#x56FE;&#x6240;&#x793A;&#xFF1A;</li>
</ul>
<p><img src="https://gitee.com/songjianzaina/juejin_p2/raw/master/img/c8352d817d391065d2b6ca5e4dba420d6101295878c721f08f2c3af594d820df" alt></p>
<blockquote>
<p>Flutter &#x4E2D; <code>ascent</code> &#x548C; <code>descent</code> &#x662F;&#x4E0D;&#x80FD;&#x7528;&#x4EE3;&#x7801;&#x5355;&#x72EC;&#x8BBE;&#x7F6E;&#x3002;</p>
</blockquote>
<p>&#x9664;&#x6B64;&#x4E4B;&#x5916;&#xFF0C;<strong><code>StrutStyle</code> &#x7684; <code>fontSize</code> &#x548C; <code>TextStyle</code> &#x7684; <code>fontSize</code> &#x4F5C;&#x7528;&#x5E76;&#x4E0D;&#x4E00;&#x6837;</strong>&#xFF1A;&#x5F53;&#x6211;&#x4EEC;&#x628A; <code>StrutStyle</code> &#x7684; <code>fontSize</code> &#x8BBE;&#x7F6E;&#x4E3A; <strong>50</strong> &#xFF0C;&#x800C; <code>TextStyle</code> &#x7684; <code>fontSize</code> &#x4F9D;&#x7136;&#x662F; <strong>100</strong> &#x65F6;&#xFF0C;&#x5982;&#x4E0B;&#x56FE;&#x6240;&#x793A;&#xFF0C;&#x53EF;&#x4EE5;&#x770B;&#x5230;&#x9ED1;&#x8272;&#x7684;&#x5B57;&#x4F53;&#x5927;&#x5C0F;&#x6CA1;&#x6709;&#x53D1;&#x751F;&#x53D8;&#x5316;&#xFF0C;&#x800C;&#x84DD;&#x8272;&#x90E8;&#x5206;&#x7684;&#x5927;&#x5C0F;&#x53D8;&#x4E3A;&#x4E86; <strong>50</strong> &#x7684;&#x5927;&#x5C0F;&#x3002;</p>
<p><img src="https://gitee.com/songjianzaina/juejin_p2/raw/master/img/71af94fe17601163b94cb2e3def4949d4050ab16ea6cb3836e855f281b3948ea" alt></p>
<p>&#x6709;&#x4EBA;&#x5C31;&#x8981;&#x8BF4;&#x90A3; <code>StrutStyle</code> &#x8FD9;&#x6837;&#x7684; <code>fontSize</code> &#x6709;&#x4EC0;&#x4E48;&#x7528;&#xFF1F;</p>
<p>&#x8FD9;&#x65F6;&#x5019;&#xFF0C;&#x5982;&#x679C;&#x5728;&#x4E0A;&#x9762;&#x6761;&#x4EF6;&#x4E0D;&#x53D8;&#x7684;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;&#x628A; <code>Text</code> &#x4E2D;&#x7684;&#x6587;&#x672C;&#x53D8;&#x6210; <code>&quot;Hg\nHg&quot;</code> &#x8FD9;&#x6837;&#x7684;&#x4E24;&#x884C;&#x6587;&#x672C;&#xFF0C;&#x53EF;&#x4EE5;&#x770B;&#x5230;&#x6362;&#x884C;&#x540E;&#x7684;&#x6587;&#x672C;&#x91CD;&#x53E0;&#x5728;&#x4E86;&#x4E00;&#x8D77;&#xFF0C;<strong>&#x6240;&#x4EE5; <code>StrutStyle</code>&#x7684; <code>fontSize</code> &#x4E5F;&#x662F;&#x4F1A;&#x5F71;&#x54CD;&#x884C;&#x9AD8;</strong>&#x3002;</p>
<p><img src="https://gitee.com/songjianzaina/juejin_p2/raw/master/img/db5f86f45c08903a838aeb501b7068748f1d3f259713908997cabb7616ab6518" alt></p>
<p>&#x53E6;&#x5916;&#xFF0C;&#x5728; <code>StrutStyle</code> &#x4E2D;&#x8FD8;&#x6709;&#x53E6;&#x5916;&#x4E00;&#x4E2A;&#x53C2;&#x6570;&#x4E5F;&#x4F1A;&#x5F71;&#x54CD;&#x884C;&#x9AD8;&#xFF0C;&#x90A3;&#x5C31;&#x662F; <code>leading</code> &#x3002;</p>
<p>&#x5982;&#x4E0B;&#x56FE;&#x6240;&#x793A;&#xFF0C;&#x52A0;&#x4E0A;&#x4E86; <code>leading</code> &#x540E;&#x624D;&#x662F; Flutter &#x4E2D;&#x5BF9;&#x5B57;&#x4F53;&#x884C;&#x9AD8;&#x5B8C;&#x5168;&#x7684;&#x63A7;&#x5236;&#x7EC4;&#x5408;&#xFF0C;<code>leading</code> &#x9ED8;&#x8BA4;&#x4E3A; <code>null</code> &#xFF0C;&#x540C;&#x65F6;&#x5B83;&#x7684;&#x6548;&#x679C;&#x4E5F;&#x662F; <code>fontSize</code> &#x7684;&#x500D;&#x6570;&#xFF0C;&#x5E76;&#x4E14;&#x5206;&#x5E03;&#x662F;&#x4E0A;&#x4E0B;&#x5747;&#x5206;&#x3002;</p>
<p><img src="https://gitee.com/songjianzaina/juejin_p2/raw/master/img/b3eb04f489a22a3cfe04e5870890a3427fc523ea2d812b82c0ea9f0e70892558" alt></p>
<p>&#x6240;&#x4EE5;&#x5982;&#x4E0B;&#x4EE3;&#x7801;&#x6240;&#x793A;&#xFF0C;&#x5F53; <code>StrutStyle</code> &#x7684; <code>fontSize</code> &#x4E3A; <strong>100</strong> &#xFF0C;<code>height</code> &#x4E3A; 1&#xFF0C;<code>leading</code> &#x4E3A; 1 &#x65F6;&#xFF0C;&#x53EF;&#x4EE5;&#x770B;&#x5230; <code>leading</code> &#x7684;&#x5927;&#x5C0F;&#x8BA9;&#x84DD;&#x8272;&#x533A;&#x57DF;&#x53D8;&#x4E3A;&#x4E86; <strong>200</strong>&#xFF0C;&#x4ECE;&#x800C; &#x548C;&#x7D2B;&#x8272;&#x533A;&#x57DF;&#x9AD8;&#x5EA6;&#x53C8;&#x91CD;&#x53E0;&#x4E86;&#xFF0C;&#x4E0D;&#x540C;&#x7684;&#x5BF9;&#x6BD4;&#x4E4B;&#x524D;&#x7684; <code>Hg</code> &#x5728;&#x8FD9;&#x6B21;&#x5145;&#x6EE1;&#x663E;&#x793A;&#x662F;&#x5C45;&#x4E2D;&#x3002;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line">&#x590D;&#x5236;&#x4EE3;&#x7801;</span><br><span class="line">  @override</span><br><span class="line">  Widget build(BuildContext context) {</span><br><span class="line">    return Scaffold(</span><br><span class="line">      backgroundColor: Colors.black,</span><br><span class="line">      body: Container(</span><br><span class="line">        color: Colors.lime,</span><br><span class="line">        alignment: Alignment.center,</span><br><span class="line">        child: Container(</span><br><span class="line">          alignment: Alignment.center,</span><br><span class="line">          child: Container(</span><br><span class="line">            height: 200,</span><br><span class="line">            color: Colors.purple,</span><br><span class="line">            alignment: Alignment.center,</span><br><span class="line">            child: new Row(</span><br><span class="line">              mainAxisAlignment: MainAxisAlignment.center,</span><br><span class="line">              children: &lt;Widget&gt;[</span><br><span class="line">                Container(</span><br><span class="line">                  color: Colors.blue,</span><br><span class="line">                  child: new Text(</span><br><span class="line">                    &quot;Hg&quot;,</span><br><span class="line">                    style: TextStyle(</span><br><span class="line">                      fontSize: 100,</span><br><span class="line">                      height: 2,</span><br><span class="line">                    ),</span><br><span class="line">                    strutStyle: StrutStyle(</span><br><span class="line">                      forceStrutHeight: true,</span><br><span class="line">                      fontSize: 100,</span><br><span class="line">                      height: 1,</span><br><span class="line">                      leading: 1</span><br><span class="line">                    ),</span><br><span class="line"></span><br><span class="line">                  ),</span><br><span class="line"></span><br><span class="line">                ),</span><br><span class="line">                Container(</span><br><span class="line">                  height: 100,</span><br><span class="line">                  width: 100,</span><br><span class="line">                  color: Colors.red,</span><br><span class="line">                )</span><br><span class="line">              ],</span><br><span class="line">            ),</span><br><span class="line">          )</span><br><span class="line"></span><br><span class="line">        ),</span><br><span class="line">      ),</span><br><span class="line">    );</span><br><span class="line">  }</span><br></pre></td></tr></table></figure>

<blockquote>
<p>&#x56E0;&#x4E3A; <code>leading</code> &#x662F;&#x4E0A;&#x4E0B;&#x5747;&#x5206;&#x7684;&#xFF0C;&#x800C; <code>height</code> &#x662F;&#x6839;&#x636E; <code>ascent</code> &#x548C; <code>descent</code> &#x7684;&#x90E8;&#x5206;&#x653E;&#x5927;&#xFF0C;&#x660E;&#x663E; <code>ascent</code> &#x6BD4; <code>descent</code> &#x5927;&#x5F97;&#x591A;&#xFF0C;&#x6240;&#x4EE5;&#x524D;&#x9762;&#x7684; <code>TextStyle</code> &#x7684; <code>height</code> &#x4E3A; 2 &#x65F6;&#xFF0C;&#x5145;&#x6EE1;&#x540E;&#x6574;&#x4F53;&#x5F80;&#x4E0B;&#x504F;&#x79FB;&#x3002;</p>
</blockquote>
<p><img src="https://gitee.com/songjianzaina/juejin_p2/raw/master/img/ef6dd4ff2b7c662dbead7ce1947cb932975ee3bbc878a3435e688955a2927cbe" alt></p>
<h3 id="&#x4E09;&#x3001;backgroundColor"><a href="#&#x4E09;&#x3001;backgroundColor" class="headerlink" title="&#x4E09;&#x3001;backgroundColor"></a>&#x4E09;&#x3001;backgroundColor</h3><p>&#x90A3;&#x4E48;&#x5230;&#x8FD9;&#x91CC;&#x5E94;&#x8BE5;&#x5BF9;&#x4E8E; Flutter &#x4E2D;&#x5173;&#x4E8E;&#x6587;&#x672C;&#x5927;&#x5C0F;&#x3001;&#x5EA6;&#x91CF;&#x548C;&#x884C;&#x9AD8;&#x7B49;&#x6709;&#x4E86;&#x57FA;&#x672C;&#x7684;&#x8BA4;&#x77E5;&#xFF0C;&#x63A5;&#x7740;&#x518D;&#x4ECB;&#x7ECD;&#x4E00;&#x4E2A;&#x5C5E;&#x6027;&#xFF1A;<code>TextStyle</code> &#x7684; <code>backgroundColor</code> &#x3002;</p>
<blockquote>
<p>&#x4ECB;&#x7ECD;&#x8FD9;&#x4E2A;&#x5C5E;&#x6027;&#x662F;&#x4E3A;&#x4E86;&#x548C;&#x524D;&#x9762;&#x7684;&#x5185;&#x5BB9;&#x4EA7;&#x751F;&#x4E00;&#x4E2A;&#x5BF9;&#x6BD4;&#xFF0C;&#x5E76;&#x4E14;&#x89E3;&#x9664;&#x4E00;&#x4E9B;&#x8BEF;&#x89E3;&#x3002;</p>
</blockquote>
<p>&#x5982;&#x4E0B;&#x4EE3;&#x7801;&#x6240;&#x793A;&#xFF0C;&#x53EF;&#x4EE5;&#x770B;&#x5230; <code>StrutStyle</code> &#x7684; <code>fontSize</code> &#x4E3A; <strong>100</strong> &#xFF0C;<code>height</code> &#x4E3A; <strong><code>1</code></strong>&#xFF0C;&#x6309;&#x7167;&#x524D;&#x9762;&#x7684;&#x4ECB;&#x7ECD;&#xFF0C;&#x84DD;&#x8272;&#x7684;&#x533A;&#x57DF;&#x5927;&#x5C0F;&#x5E94;&#x8BE5;&#x662F;&#x548C;&#x7EA2;&#x8272;&#x5C0F;&#x65B9;&#x5757;&#x4E00;&#x6837;&#x5927;&#x3002;</p>
<p>&#x7136;&#x540E;&#x6211;&#x4EEC;&#x8BBE;&#x7F6E;&#x4E86; <code>TextStyle</code> &#x7684; <code>backgroundColor</code> &#x4E3A;&#x5177;&#x6709;&#x900F;&#x660E;&#x5EA6;&#x7684;&#x7EFF;&#x8272;&#xFF0C;&#x7ED3;&#x679C;&#x5982;&#x4E0B;&#x56FE;&#x6240;&#x793A;&#xFF0C;&#x53EF;&#x4EE5;&#x770B;&#x5230; <code>backgroundColor</code> &#x7684;&#x533A;&#x57DF;&#x8D85;&#x8FC7;&#x4E86; <code>StrutStyle</code>&#xFF0C;&#x663E;&#x793A;&#x4E3A;<strong>&#x9ED8;&#x8BA4;&#x60C5;&#x51B5;&#x4E0B;&#x5B57;&#x4F53;&#x7684;&#x5EA6;&#x91CF;</strong>&#x3002;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line">&#x590D;&#x5236;&#x4EE3;&#x7801;</span><br><span class="line">  @override</span><br><span class="line">  Widget build(BuildContext context) {</span><br><span class="line">    return Scaffold(</span><br><span class="line">      backgroundColor: Colors.black,</span><br><span class="line">      body: Container(</span><br><span class="line">        color: Colors.lime,</span><br><span class="line">        alignment: Alignment.center,</span><br><span class="line">        child: Container(</span><br><span class="line">          alignment: Alignment.center,</span><br><span class="line">          child: Container(</span><br><span class="line">            height: 200,</span><br><span class="line">            color: Colors.purple,</span><br><span class="line">            alignment: Alignment.center,</span><br><span class="line">            child: new Row(</span><br><span class="line">              mainAxisAlignment: MainAxisAlignment.center,</span><br><span class="line">              children: &lt;Widget&gt;[</span><br><span class="line">                Container(</span><br><span class="line">                  color: Colors.blue,</span><br><span class="line">                  child: new Text(</span><br><span class="line">                    &quot;Hg&quot;,</span><br><span class="line">                    style: TextStyle(</span><br><span class="line">                      fontSize: 100,</span><br><span class="line">                      backgroundColor: Colors.green.withAlpha(180)</span><br><span class="line">                    ),</span><br><span class="line">                    strutStyle: StrutStyle(</span><br><span class="line">                      forceStrutHeight: true,</span><br><span class="line">                      fontSize: 100,</span><br><span class="line">                      height: 1,</span><br><span class="line">                    ),</span><br><span class="line"></span><br><span class="line">                  ),</span><br><span class="line"></span><br><span class="line">                ),</span><br><span class="line">                Container(</span><br><span class="line">                  height: 100,</span><br><span class="line">                  width: 100,</span><br><span class="line">                  color: Colors.red,</span><br><span class="line">                )</span><br><span class="line">              ],</span><br><span class="line">            ),</span><br><span class="line">          )</span><br><span class="line"></span><br><span class="line">        ),</span><br><span class="line">      ),</span><br><span class="line">    );</span><br><span class="line">  }</span><br></pre></td></tr></table></figure>

<p><img src="https://gitee.com/songjianzaina/juejin_p2/raw/master/img/e2114e1287c94ba52d4ead05a03c19de70b20d2ef7f31f5ecaf525244f112e68" alt></p>
<p>&#x8FD9;&#x662F;&#x4E0D;&#x662F;&#x5F88;&#x6709;&#x610F;&#x601D;&#xFF0C;&#x4E8B;&#x5B9E;&#x4E0A;&#x4E5F;&#x53EF;&#x4EE5;&#x53CD;&#x5E94;&#x51FA;&#xFF0C;&#x5B57;&#x4F53;&#x7684;&#x5EA6;&#x91CF;&#x5176;&#x5B9E;&#x4E00;&#x76F4;&#x90FD;&#x662F;&#x9ED8;&#x8BA4;&#x7684; <code>ascent + descent = fontSize</code>&#xFF0C;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x6539;&#x53D8; <code>TextStyle</code> &#x7684; <code>height</code> &#x6216;&#x8005; <code>StrutStyle</code> &#x6765;&#x6539;&#x53D8;&#x884C;&#x9AD8;&#x6548;&#x679C;&#xFF0C;&#x4F46;&#x662F;&#x672C;&#x8D28;&#x4E0A;&#x7684; <code>fontSize</code> &#x5176;&#x5B9E;&#x5E76;&#x6CA1;&#x6709;&#x53D8;&#x3002;</p>
<p>&#x5982;&#x679C;&#x628A;&#x8F93;&#x5165;&#x5185;&#x5BB9;&#x6362;&#x6210; <code>&quot;H\ng&quot;</code> &#xFF0C;&#x5982;&#x4E0B;&#x56FE;&#x6240;&#x793A;&#x53EF;&#x4EE5;&#x770B;&#x5230;&#x66F4;&#x6709;&#x610F;&#x601D;&#x7684;&#x6548;&#x679C;&#x3002;</p>
<p><img src="https://gitee.com/songjianzaina/juejin_p2/raw/master/img/6a7584e1e62cf143c9e2d1af9c54d229298b352b81aa9f991eaea83d8f7c304f" alt></p>
<h3 id="&#x56DB;&#x3001;TextBaseline"><a href="#&#x56DB;&#x3001;TextBaseline" class="headerlink" title="&#x56DB;&#x3001;TextBaseline"></a>&#x56DB;&#x3001;TextBaseline</h3><p>&#x6700;&#x540E;&#x518D;&#x4ECB;&#x7ECD;&#x4E00;&#x4E2A;&#x5C5E;&#x6027; &#xFF1A;<code>TextStyle</code> &#x7684; <code>TextBaseline</code>,&#x56E0;&#x4E3A;&#x8FD9;&#x4E2A;&#x5C5E;&#x6027;&#x4E00;&#x76F4;&#x8BA9;&#x4EBA;&#x4EA7;&#x751F;&#x201C;&#x8BEF;&#x89E3;&#x201D;&#x3002;</p>
<p>&#x5173;&#x4E8E; <code>TextBaseline</code> &#x6709;&#x4E24;&#x4E2A;&#x5C5E;&#x6027;&#xFF0C;&#x5206;&#x522B;&#x662F; <code>alphabetic</code> &#x548C; <code>ideographic</code> &#xFF0C;&#x4E3A;&#x4E86;&#x66F4;&#x65B9;&#x4FBF;&#x89E3;&#x91CA;&#x4ED6;&#x4EEC;&#x7684;&#x6548;&#x679C;&#xFF0C;&#x5982;&#x4E0B;&#x4EE3;&#x7801;&#x6240;&#x793A;&#xFF0C;&#x6211;&#x4EEC;&#x901A;&#x8FC7; <code>CustomPaint</code> &#x628A;&#x4E0D;&#x540C;&#x7684;&#x57FA;&#x7EBF;&#x4F4D;&#x7F6E;&#x7ED8;&#x5236;&#x51FA;&#x6765;&#x3002;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br></pre></td><td class="code"><pre><span class="line">&#x590D;&#x5236;&#x4EE3;&#x7801;</span><br><span class="line">  @override</span><br><span class="line">  Widget build(BuildContext context) {</span><br><span class="line">    return Scaffold(</span><br><span class="line">      backgroundColor: Colors.black,</span><br><span class="line">      body: Container(</span><br><span class="line">        color: Colors.lime,</span><br><span class="line">        alignment: Alignment.center,</span><br><span class="line">        child: Container(</span><br><span class="line">          alignment: Alignment.center,</span><br><span class="line">          child: Container(</span><br><span class="line">            height: 200,</span><br><span class="line">            width: 400,</span><br><span class="line">            color: Colors.purple,</span><br><span class="line">            child: CustomPaint(</span><br><span class="line">              painter: Text2Painter(),</span><br><span class="line">            ),</span><br><span class="line">          )</span><br><span class="line"></span><br><span class="line">        ),</span><br><span class="line">      ),</span><br><span class="line">    );</span><br><span class="line">  }</span><br><span class="line">  </span><br><span class="line">class Text2Painter extends CustomPainter {</span><br><span class="line">  @override</span><br><span class="line">  void paint(Canvas canvas, Size size) {</span><br><span class="line">    var baseLine = TextBaseline.alphabetic;</span><br><span class="line">    //var baseLine = TextBaseline.ideographic;</span><br><span class="line"></span><br><span class="line">    final textStyle =</span><br><span class="line">        TextStyle(color: Colors.white, fontSize: 100, textBaseline: baseLine);</span><br><span class="line">    final textSpan = TextSpan(</span><br><span class="line">      text: &apos;My&#x6587;&#x5B57;&apos;,</span><br><span class="line">      style: textStyle,</span><br><span class="line">    );</span><br><span class="line">    final textPainter = TextPainter(</span><br><span class="line">      text: textSpan,</span><br><span class="line">      textDirection: TextDirection.ltr,</span><br><span class="line">    );</span><br><span class="line">    textPainter.layout(</span><br><span class="line">      minWidth: 0,</span><br><span class="line">      maxWidth: size.width,</span><br><span class="line">    );</span><br><span class="line"></span><br><span class="line">    final left = 0.0;</span><br><span class="line">    final top = 0.0;</span><br><span class="line">    final right = textPainter.width;</span><br><span class="line">    final bottom = textPainter.height;</span><br><span class="line">    final rect = Rect.fromLTRB(left, top, right, bottom);</span><br><span class="line">    final paint = Paint()</span><br><span class="line">      ..color = Colors.red</span><br><span class="line">      ..style = PaintingStyle.stroke</span><br><span class="line">      ..strokeWidth = 1;</span><br><span class="line">    canvas.drawRect(rect, paint);</span><br><span class="line"></span><br><span class="line">    // draw the baseline</span><br><span class="line">    final distanceToBaseline =</span><br><span class="line">        textPainter.computeDistanceToActualBaseline(baseLine);</span><br><span class="line"></span><br><span class="line">    canvas.drawLine(</span><br><span class="line">      Offset(0, distanceToBaseline),</span><br><span class="line">      Offset(textPainter.width, distanceToBaseline),</span><br><span class="line">      paint..color = Colors.blue..strokeWidth = 5,</span><br><span class="line">    );</span><br><span class="line"></span><br><span class="line">    // draw the text</span><br><span class="line">    final offset = Offset(0, 0);</span><br><span class="line">    textPainter.paint(canvas, offset);</span><br><span class="line">  }</span><br><span class="line"></span><br><span class="line">  @override</span><br><span class="line">  bool shouldRepaint(CustomPainter oldDelegate) =&gt; true;</span><br><span class="line">}</span><br></pre></td></tr></table></figure>

<p>&#x5982;&#x4E0B;&#x56FE;&#x6240;&#x793A;&#xFF0C;&#x84DD;&#x8272;&#x7684;&#x7EBF;&#x5C31;&#x662F; baseLine&#xFF0C;&#x4ECE;&#x6548;&#x679C;&#x53EF;&#x4EE5;&#x76F4;&#x89C2;&#x770B;&#x5230;&#x4E0D;&#x540C; baseLine &#x4E0B;&#x5BF9;&#x9F50;&#x7684;&#x4F4D;&#x7F6E;&#x5E94;&#x8BE5;&#x5728;&#x54EA;&#x91CC;&#x3002;</p>
<p><img src="https://gitee.com/songjianzaina/juejin_p2/raw/master/img/64bb7b3e970db5920f5bbf954483514c32357ac048dcdd11f921c47f6d08ac93" alt></p>
<p>&#x4F46;&#x662F;&#x4E8B;&#x5B9E;&#x4E0A; baseLine &#x7684;&#x4F5C;&#x7528;&#x5E76;&#x4E0D;&#x4F1A;&#x76F4;&#x63A5;&#x5F71;&#x54CD; <code>TextStyle</code> &#x4E2D;&#x6587;&#x672C;&#x7684;&#x5BF9;&#x9F50;&#x65B9;&#x5F0F;&#xFF0C;Flutter &#x4E2D;&#x9ED8;&#x8BA4;&#x663E;&#x793A;&#x7684;&#x6587;&#x672C;&#x53EA;&#x4F1A;&#x901A;&#x8FC7; <code>TextBaseline.alphabetic</code> &#x5BF9;&#x9F50;&#x7684;&#xFF0C;&#x5982;&#x4E0B;&#x56FE;&#x6240;&#x793A;&#x5B98;&#x65B9;&#x4EBA;&#x5458;&#x4E5F;&#x5BF9;&#x8FD9;&#x4E2A;&#x95EE;&#x9898;&#x6709;&#x8FC7;&#x63CF;&#x8FF0; <a href="/external_links/ad03e52c9cdc28fb473f515abfafd262.html" target="blank" rel="noopener">#47512</a>&#x3002;</p>
<p><img src="https://gitee.com/songjianzaina/juejin_p2/raw/master/img/8a7c314871182873146f65581a1e10d9684bfcebf83b57e2c89bccce093c5846" alt></p>
<blockquote>
<p>&#x8FD9;&#x4E5F;&#x662F;&#x4E3A;&#x4EC0;&#x4E48;&#x8981;&#x7528; <code>CustomPaint</code> &#x5C55;&#x793A;&#x7684;&#x539F;&#x56E0;&#xFF0C;&#x56E0;&#x4E3A;&#x7528;&#x9ED8;&#x8BA4; <code>Text</code> &#x5C55;&#x793A;&#x4E0D;&#x51FA;&#x6765;&#x3002;</p>
</blockquote>
<p>&#x4E3E;&#x4E2A;&#x5178;&#x578B;&#x7684;&#x4F8B;&#x5B50;&#xFF0C;&#x5982;&#x4E0B;&#x4EE3;&#x7801;&#x6240;&#x793A;&#xFF0C;&#x867D;&#x7136;&#x5728; <code>Row</code> &#x548C; <code>Text</code> &#x4E0A;&#x90FD;&#x662F;&#x7528;&#x4E86; <code>ideographic</code> &#xFF0C;&#x4F46;&#x662F;&#x5176;&#x5B9E;&#x5E76;&#x6CA1;&#x6709;&#x8FBE;&#x5230;&#x6211;&#x4EEC;&#x60F3;&#x8981;&#x7684;&#x6548;&#x679C;&#x3002;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">&#x590D;&#x5236;&#x4EE3;&#x7801; @override</span><br><span class="line">  Widget build(BuildContext context) {</span><br><span class="line">    return Scaffold(</span><br><span class="line">      backgroundColor: Colors.black,</span><br><span class="line">      body: Container(</span><br><span class="line">        color: Colors.lime,</span><br><span class="line">        alignment: Alignment.center,</span><br><span class="line">        child: Container(</span><br><span class="line">            alignment: Alignment.center,</span><br><span class="line">            child: Row(</span><br><span class="line">                crossAxisAlignment: CrossAxisAlignment.baseline,</span><br><span class="line">                textBaseline: TextBaseline.ideographic,</span><br><span class="line">                mainAxisSize: MainAxisSize.max,</span><br><span class="line">                children: [</span><br><span class="line">                  Text(</span><br><span class="line">                    &apos;&#x6211;&#x662F;&#x4E2D;&#x6587;&apos;,</span><br><span class="line">                    style: TextStyle(</span><br><span class="line">                      fontSize: 55,</span><br><span class="line">                      textBaseline: TextBaseline.ideographic,</span><br><span class="line">                    ),</span><br><span class="line">                  ),</span><br><span class="line">                  Spacer(),</span><br><span class="line">                  Text(&apos;123y56&apos;,</span><br><span class="line">                      style: TextStyle(</span><br><span class="line">                        fontSize: 55,</span><br><span class="line">                        textBaseline: TextBaseline.ideographic,</span><br><span class="line">                      )),</span><br><span class="line">                ])),</span><br><span class="line">      ),</span><br><span class="line">    );</span><br><span class="line">  }</span><br></pre></td></tr></table></figure>

<blockquote>
<p>&#x5173;&#x952E;&#x5C31;&#x7B97; <code>Row</code> &#x8BBE;&#x7F6E;&#x4E86; <code>center</code> &#xFF0C;&#x8FD9;&#x6BB5;&#x6587;&#x672C;&#x770B;&#x8D77;&#x6765;&#x8FD8;&#x662F;&#x4E0D;&#x662F;&#x7279;&#x522B;&#x201C;&#x5BF9;&#x9F50;&#x201D;&#x3002;</p>
</blockquote>
<p><img src="https://gitee.com/songjianzaina/juejin_p2/raw/master/img/4fe1728069f871c165a03cbe149d1b79d1dce4b4c7e11457d0048266e739adf2" alt></p>
<p>&#x81EA;&#x4ECE;&#xFF0C;&#x5173;&#x4E8E; Flutter &#x4E2D;&#x7684;&#x5B57;&#x4F53;&#x76F8;&#x5173;&#x7684;&#x201C;&#x51B7;&#x201D;&#x77E5;&#x8BC6;&#x4ECB;&#x7ECD;&#x5B8C;&#x4E86;&#xFF0C;&#x4E0D;&#x77E5;&#x9053;&#x4F60;&#x201C;&#x65E0;&#x7528;&#x201D;&#x7684;&#x77E5;&#x8BC6;&#x6709;&#x6CA1;&#x6709;&#x589E;&#x591A;&#x5462;&#xFF1F;</p>
<p><img src="https://gitee.com/songjianzaina/juejin_p2/raw/master/img/81cd7cf770b732e169bf1f03b68c42c2dd3c3188f58e26e529a61b9d909d13de" alt></p>
<p><strong>&#x672C;&#x6587;&#x8F6C;&#x8F7D;&#x81EA;:</strong> <a href="/external_links/50b40d9078a69ff3cd3bf416ead55d03.html" target="blank" rel="noopener">&#x6398;&#x91D1;</a></p>
<p><em><a href="https://dev.newban.cn/">&#x5F00;&#x53D1;&#x8005;&#x535A;&#x5BA2; &#x2013; &#x548C;&#x5F00;&#x53D1;&#x76F8;&#x5173;&#x7684; &#x8FD9;&#x91CC;&#x5168;&#x90FD;&#x6709;</a></em></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://dev.newban.cn../../6844903823966732302.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="开发者博客">
      <meta itemprop="description" content>
      <meta itemprop="image" content="../../images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="开发者博客 – IT技术 尽在开发者博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="../../6844903823966732302.html" itemprop="url">超详细！4小时开发一个SpringBoot+vue前后端分离</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2020-05-28T22:39:13+08:00">
                2020-05-28
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <blockquote>
<p>&#x4F5C;&#x8005;&#xFF1A;&#x5415;&#x4E00;&#x660E;</p>
<p>&#x5173;&#x6CE8;&#x516C;&#x4F17;&#x53F7;&#xFF1A;MarkerHub&#xFF0C;&#x56DE;&#x590D;&#x3010;vueblog&#x3011;&#xFF0C;&#x83B7;&#x53D6;&#x9879;&#x76EE;&#x6E90;&#x7801;&#xFF01;</p>
<p>&#x9879;&#x76EE;&#x89C6;&#x9891;&#xFF1A;<a href="/external_links/ee2628e8e383ef57188cf91d88acc4cf.html" target="blank" rel="noopener">www.bilibili.com/video/BV1PQ&#x2026;</a></p>
<p>&#x9879;&#x76EE;&#x6F14;&#x793A;&#xFF1A;<a href="/external_links/4c99831947cc615064c28724cb12bc93.html" target="blank" rel="noopener">www.markerhub.com:8084/blogs</a></p>
<p>&#x8F6C;&#x8F7D;&#x8BF7;&#x4FDD;&#x7559;&#x6B64;&#x5F15;&#x7528;&#xFF0C;&#x611F;&#x8C22;&#xFF01;</p>
</blockquote>
<h2 id="&#x5173;&#x6CE8;&#x516C;&#x4F17;&#x53F7;&#xFF1A;MarkerHub&#xFF0C;&#x56DE;&#x590D;&#x3010;vueblog&#x3011;&#xFF0C;&#x83B7;&#x53D6;&#x9879;&#x76EE;&#x6E90;&#x7801;&#xFF01;"><a href="#&#x5173;&#x6CE8;&#x516C;&#x4F17;&#x53F7;&#xFF1A;MarkerHub&#xFF0C;&#x56DE;&#x590D;&#x3010;vueblog&#x3011;&#xFF0C;&#x83B7;&#x53D6;&#x9879;&#x76EE;&#x6E90;&#x7801;&#xFF01;" class="headerlink" title="&#x5173;&#x6CE8;&#x516C;&#x4F17;&#x53F7;&#xFF1A;MarkerHub&#xFF0C;&#x56DE;&#x590D;&#x3010;vueblog&#x3011;&#xFF0C;&#x83B7;&#x53D6;&#x9879;&#x76EE;&#x6E90;&#x7801;&#xFF01;"></a>&#x5173;&#x6CE8;&#x516C;&#x4F17;&#x53F7;&#xFF1A;MarkerHub&#xFF0C;&#x56DE;&#x590D;&#x3010;vueblog&#x3011;&#xFF0C;&#x83B7;&#x53D6;&#x9879;&#x76EE;&#x6E90;&#x7801;&#xFF01;</h2><h2 id="&#x5173;&#x6CE8;&#x516C;&#x4F17;&#x53F7;&#xFF1A;MarkerHub&#xFF0C;&#x56DE;&#x590D;&#x3010;vueblog&#x3011;&#xFF0C;&#x83B7;&#x53D6;&#x9879;&#x76EE;&#x6E90;&#x7801;&#xFF01;-1"><a href="#&#x5173;&#x6CE8;&#x516C;&#x4F17;&#x53F7;&#xFF1A;MarkerHub&#xFF0C;&#x56DE;&#x590D;&#x3010;vueblog&#x3011;&#xFF0C;&#x83B7;&#x53D6;&#x9879;&#x76EE;&#x6E90;&#x7801;&#xFF01;-1" class="headerlink" title="&#x5173;&#x6CE8;&#x516C;&#x4F17;&#x53F7;&#xFF1A;MarkerHub&#xFF0C;&#x56DE;&#x590D;&#x3010;vueblog&#x3011;&#xFF0C;&#x83B7;&#x53D6;&#x9879;&#x76EE;&#x6E90;&#x7801;&#xFF01;"></a>&#x5173;&#x6CE8;&#x516C;&#x4F17;&#x53F7;&#xFF1A;MarkerHub&#xFF0C;&#x56DE;&#x590D;&#x3010;vueblog&#x3011;&#xFF0C;&#x83B7;&#x53D6;&#x9879;&#x76EE;&#x6E90;&#x7801;&#xFF01;</h2><p><img src="https://gitee.com/songjianzaina/juejin_p7/raw/master/img/6f0be355af6889ae96469d511743257550a58926d23819feafa4785843ce326f" alt></p>
<h2 id="&#x524D;&#x540E;&#x7AEF;&#x5206;&#x79BB;&#x9879;&#x76EE;"><a href="#&#x524D;&#x540E;&#x7AEF;&#x5206;&#x79BB;&#x9879;&#x76EE;" class="headerlink" title="&#x524D;&#x540E;&#x7AEF;&#x5206;&#x79BB;&#x9879;&#x76EE;"></a>&#x524D;&#x540E;&#x7AEF;&#x5206;&#x79BB;&#x9879;&#x76EE;</h2><p>&#x6587;&#x7AE0;&#x603B;&#x4F53;&#x5206;&#x4E3A;2&#x5927;&#x90E8;&#x5206;&#xFF0C;Java&#x540E;&#x7AEF;&#x63A5;&#x53E3;&#x548C;vue&#x524D;&#x7AEF;&#x9875;&#x9762;&#xFF0C;&#x6BD4;&#x8F83;&#x957F;&#xFF0C;&#x56E0;&#x4E3A;&#x4E0D;&#x60F3;&#x5206;&#x5F00;&#x53D1;&#x5E03;&#xFF0C;&#x771F;&#x6B63;&#x60F3;&#x4F60;4&#x5C0F;&#x65F6;&#x5B66;&#x4F1A;&#xFF0C;&#x54C8;&#x54C8;&#x3002;</p>
<p>&#x5148;&#x770B;&#x6548;&#x679C;&#xFF1A;</p>
<p>&#x9879;&#x76EE;&#x6F14;&#x793A;&#xFF1A;<a href="/external_links/4c99831947cc615064c28724cb12bc93.html" target="blank" rel="noopener">www.markerhub.com:8084/blogs</a></p>
<p><img src="https://gitee.com/songjianzaina/juejin_p7/raw/master/img/b0ee4f807c04e3e5913d3188171936801c95ccfc11b418b78abc691398c41bdc" alt="&#x56FE;&#x7247;"></p>
<p><img src="https://gitee.com/songjianzaina/juejin_p7/raw/master/img/4e0a6a56101b422f0b30c2415ab9d200af8874c58c4b4cca4efe884f8d0a340f" alt="&#x56FE;&#x7247;"></p>
<p>&#x4E0D;&#x591A;&#x8BF4;&#xFF0C;&#x5F00;&#x59CB;&#x6572;&#x4EE3;&#x7801;&#x3002;</p>
<h2 id="Java&#x540E;&#x7AEF;&#x63A5;&#x53E3;&#x5F00;&#x53D1;"><a href="#Java&#x540E;&#x7AEF;&#x63A5;&#x53E3;&#x5F00;&#x53D1;" class="headerlink" title="Java&#x540E;&#x7AEF;&#x63A5;&#x53E3;&#x5F00;&#x53D1;"></a>Java&#x540E;&#x7AEF;&#x63A5;&#x53E3;&#x5F00;&#x53D1;</h2><h3 id="1&#x3001;&#x524D;&#x8A00;"><a href="#1&#x3001;&#x524D;&#x8A00;" class="headerlink" title="1&#x3001;&#x524D;&#x8A00;"></a>1&#x3001;&#x524D;&#x8A00;</h3><p>&#x4ECE;&#x96F6;&#x5F00;&#x59CB;&#x642D;&#x5EFA;&#x4E00;&#x4E2A;&#x9879;&#x76EE;&#x9AA8;&#x67B6;&#xFF0C;&#x6700;&#x597D;&#x9009;&#x62E9;&#x5408;&#x9002;&#xFF0C;&#x719F;&#x6089;&#x7684;&#x6280;&#x672F;&#xFF0C;&#x5E76;&#x4E14;&#x5728;&#x672A;&#x6765;&#x6613;&#x62D3;&#x5C55;&#xFF0C;&#x9002;&#x5408;&#x5FAE;&#x670D;&#x52A1;&#x5316;&#x4F53;&#x7CFB;&#x7B49;&#x3002;&#x6240;&#x4EE5;&#x4E00;&#x822C;&#x4EE5;Springboot&#x4F5C;&#x4E3A;&#x6211;&#x4EEC;&#x7684;&#x6846;&#x67B6;&#x57FA;&#x7840;&#xFF0C;&#x8FD9;&#x662F;&#x79BB;&#x4E0D;&#x5F00;&#x7684;&#x4E86;&#x3002;</p>
<p>&#x7136;&#x540E;&#x6570;&#x636E;&#x5C42;&#xFF0C;&#x6211;&#x4EEC;&#x5E38;&#x7528;&#x7684;&#x662F;Mybatis&#xFF0C;&#x6613;&#x4E0A;&#x624B;&#xFF0C;&#x65B9;&#x4FBF;&#x7EF4;&#x62A4;&#x3002;&#x4F46;&#x662F;&#x5355;&#x8868;&#x64CD;&#x4F5C;&#x6BD4;&#x8F83;&#x56F0;&#x96BE;&#xFF0C;&#x7279;&#x522B;&#x662F;&#x6DFB;&#x52A0;&#x5B57;&#x6BB5;&#x6216;&#x51CF;&#x5C11;&#x5B57;&#x6BB5;&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x6BD4;&#x8F83;&#x7E41;&#x7410;&#xFF0C;&#x6240;&#x4EE5;&#x8FD9;&#x91CC;&#x6211;&#x63A8;&#x8350;&#x4F7F;&#x7528;Mybatis Plus&#xFF08;<a href="/external_links/a8e05fe7691c7c2cc9ebb6585d69927b.html" target="blank" rel="noopener">mp.baomidou.com/&#xFF09;&#xFF0C;&#x4E3A;&#x7B80;&#x5316;&#x5F00;&#x53D1;&#x800C;&#x751F;&#xFF0C;&#x53EA;&#x2026;</a> CRUD &#x64CD;&#x4F5C;&#xFF0C;&#x4ECE;&#x800C;&#x8282;&#x7701;&#x5927;&#x91CF;&#x65F6;&#x95F4;&#x3002;</p>
<p>&#x4F5C;&#x4E3A;&#x4E00;&#x4E2A;&#x9879;&#x76EE;&#x9AA8;&#x67B6;&#xFF0C;&#x6743;&#x9650;&#x4E5F;&#x662F;&#x6211;&#x4EEC;&#x4E0D;&#x80FD;&#x5FFD;&#x7565;&#x7684;&#xFF0C;Shiro&#x914D;&#x7F6E;&#x7B80;&#x5355;&#xFF0C;&#x4F7F;&#x7528;&#x4E5F;&#x7B80;&#x5355;&#xFF0C;&#x6240;&#x4EE5;&#x4F7F;&#x7528;Shiro&#x4F5C;&#x4E3A;&#x6211;&#x4EEC;&#x7684;&#x7684;&#x6743;&#x9650;&#x3002;</p>
<p>&#x8003;&#x8651;&#x5230;&#x9879;&#x76EE;&#x53EF;&#x80FD;&#x9700;&#x8981;&#x90E8;&#x7F72;&#x591A;&#x53F0;&#xFF0C;&#x8FD9;&#x65F6;&#x5019;&#x6211;&#x4EEC;&#x7684;&#x4F1A;&#x8BDD;&#x7B49;&#x4FE1;&#x606F;&#x9700;&#x8981;&#x5171;&#x4EAB;&#xFF0C;Redis&#x662F;&#x73B0;&#x5728;&#x4E3B;&#x6D41;&#x7684;&#x7F13;&#x5B58;&#x4E2D;&#x95F4;&#x4EF6;&#xFF0C;&#x4E5F;&#x9002;&#x5408;&#x6211;&#x4EEC;&#x7684;&#x9879;&#x76EE;&#x3002;</p>
<p>&#x7136;&#x540E;&#x56E0;&#x4E3A;&#x524D;&#x540E;&#x7AEF;&#x5206;&#x79BB;&#xFF0C;&#x6240;&#x4EE5;&#x6211;&#x4EEC;&#x4F7F;&#x7528;jwt&#x4F5C;&#x4E3A;&#x6211;&#x4EEC;&#x7528;&#x6237;&#x8EAB;&#x4EFD;&#x51ED;&#x8BC1;&#x3002;</p>
<p>ok&#xFF0C;&#x6211;&#x4EEC;&#x73B0;&#x5728;&#x5C31;&#x5F00;&#x59CB;&#x642D;&#x5EFA;&#x6211;&#x4EEC;&#x7684;&#x9879;&#x76EE;&#x811A;&#x624B;&#x67B6;&#xFF01;</p>
<p>&#x6280;&#x672F;&#x6808;&#xFF1A;</p>
<ul>
<li>SpringBoot</li>
<li>mybatis plus</li>
<li>shiro</li>
<li>lombok</li>
<li>redis</li>
<li>hibernate validatior</li>
<li>jwt</li>
</ul>
<p>&#x5BFC;&#x56FE;&#xFF1A;<a href="/external_links/df2573b9adff4742123731359404f802.html" target="blank" rel="noopener">www.markerhub.com/map/131</a></p>
<h3 id="2&#x3001;&#x65B0;&#x5EFA;Springboot&#x9879;&#x76EE;"><a href="#2&#x3001;&#x65B0;&#x5EFA;Springboot&#x9879;&#x76EE;" class="headerlink" title="2&#x3001;&#x65B0;&#x5EFA;Springboot&#x9879;&#x76EE;"></a>2&#x3001;&#x65B0;&#x5EFA;Springboot&#x9879;&#x76EE;</h3><p>&#x8FD9;&#x91CC;&#xFF0C;&#x6211;&#x4EEC;&#x4F7F;&#x7528;IDEA&#x6765;&#x5F00;&#x53D1;&#x6211;&#x4EEC;&#x9879;&#x76EE;&#xFF0C;&#x65B0;&#x5EFA;&#x6B65;&#x9AA4;&#x6BD4;&#x8F83;&#x7B80;&#x5355;&#xFF0C;&#x6211;&#x4EEC;&#x5C31;&#x4E0D;&#x622A;&#x56FE;&#x4E86;&#x3002;</p>
<p>&#x5F00;&#x53D1;&#x5DE5;&#x5177;&#x4E0E;&#x73AF;&#x5883;&#xFF1A;</p>
<ul>
<li>idea</li>
<li>mysql</li>
<li>jdk 8</li>
<li>maven3.3.9</li>
</ul>
<p>&#x65B0;&#x5EFA;&#x597D;&#x7684;&#x9879;&#x76EE;&#x7ED3;&#x6784;&#x5982;&#x4E0B;&#xFF0C;SpringBoot&#x7248;&#x672C;&#x4F7F;&#x7528;&#x7684;&#x76EE;&#x524D;&#x6700;&#x65B0;&#x7684;2.2.6.RELEASE&#x7248;&#x672C;</p>
<p><img src="https://gitee.com/songjianzaina/juejin_p7/raw/master/img/60f221cebe11c0c8c36b6297c141f738ea7675b6ef439ccbb43aab7f10e89fd8" alt="&#x56FE;&#x7247;"></p>
<p>pom&#x7684;jar&#x5305;&#x5BFC;&#x5165;&#x5982;&#x4E0B;&#xFF1A;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">xml&#x590D;&#x5236;&#x4EE3;&#x7801;&lt;dependency&gt;</span><br><span class="line">	&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;</span><br><span class="line">	&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;</span><br><span class="line">&lt;/dependency&gt;</span><br><span class="line">&lt;dependency&gt;</span><br><span class="line">	&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;</span><br><span class="line">	&lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;</span><br><span class="line">	&lt;scope&gt;runtime&lt;/scope&gt;</span><br><span class="line">	&lt;optional&gt;true&lt;/optional&gt;</span><br><span class="line">&lt;/dependency&gt;</span><br><span class="line">&lt;dependency&gt;</span><br><span class="line">	&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;</span><br><span class="line">	&lt;artifactId&gt;lombok&lt;/artifactId&gt;</span><br><span class="line">	&lt;optional&gt;true&lt;/optional&gt;</span><br><span class="line">&lt;/dependency&gt;</span><br></pre></td></tr></table></figure>

<ul>
<li>devtools&#xFF1A;&#x9879;&#x76EE;&#x7684;&#x70ED;&#x52A0;&#x8F7D;&#x91CD;&#x542F;&#x63D2;&#x4EF6;</li>
<li>lombok&#xFF1A;&#x7B80;&#x5316;&#x4EE3;&#x7801;&#x7684;&#x5DE5;&#x5177;</li>
</ul>
<h3 id="3&#x3001;&#x6574;&#x5408;mybatis-plus"><a href="#3&#x3001;&#x6574;&#x5408;mybatis-plus" class="headerlink" title="3&#x3001;&#x6574;&#x5408;mybatis plus"></a>3&#x3001;&#x6574;&#x5408;mybatis plus</h3><p>&#x63A5;&#x4E0B;&#x6765;&#xFF0C;&#x6211;&#x4EEC;&#x6765;&#x6574;&#x5408;mybatis plus&#xFF0C;&#x8BA9;&#x9879;&#x76EE;&#x80FD;&#x5B8C;&#x6210;&#x57FA;&#x672C;&#x7684;&#x589E;&#x5220;&#x6539;&#x67E5;&#x64CD;&#x4F5C;&#x3002;&#x6B65;&#x9AA4;&#x5F88;&#x7B80;&#x5355;&#xFF1A;&#x53EF;&#x4EE5;&#x53BB;&#x5B98;&#x7F51;&#x770B;&#x770B;&#xFF1A;<a href="/external_links/1af2ec495657af2e332df72926ff4cc5.html" target="blank" rel="noopener">mp.baomidou.com/guide/insta&#x2026;</a></p>
<p><strong>&#x7B2C;&#x4E00;&#x6B65;&#xFF1A;&#x5BFC;&#x5165;jar&#x5305;</strong></p>
<p>pom&#x4E2D;&#x5BFC;&#x5165;mybatis plus&#x7684;jar&#x5305;&#xFF0C;&#x56E0;&#x4E3A;&#x540E;&#x9762;&#x4F1A;&#x6D89;&#x53CA;&#x5230;&#x4EE3;&#x7801;&#x751F;&#x6210;&#xFF0C;&#x6240;&#x4EE5;&#x6211;&#x4EEC;&#x8FD8;&#x9700;&#x8981;&#x5BFC;&#x5165;&#x9875;&#x9762;&#x6A21;&#x677F;&#x5F15;&#x64CE;&#xFF0C;&#x8FD9;&#x91CC;&#x6211;&#x4EEC;&#x7528;&#x7684;&#x662F;freemarker&#x3002;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">xml&#x590D;&#x5236;&#x4EE3;&#x7801;&lt;!--mp--&gt;</span><br><span class="line">&lt;dependency&gt;</span><br><span class="line">    &lt;groupId&gt;com.baomidou&lt;/groupId&gt;</span><br><span class="line">    &lt;artifactId&gt;mybatis-plus-boot-starter&lt;/artifactId&gt;</span><br><span class="line">    &lt;version&gt;3.2.0&lt;/version&gt;</span><br><span class="line">&lt;/dependency&gt;</span><br><span class="line">&lt;dependency&gt;</span><br><span class="line">    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;</span><br><span class="line">    &lt;artifactId&gt;spring-boot-starter-freemarker&lt;/artifactId&gt;</span><br><span class="line">&lt;/dependency&gt;</span><br><span class="line">&lt;dependency&gt;</span><br><span class="line">    &lt;groupId&gt;mysql&lt;/groupId&gt;</span><br><span class="line">    &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;</span><br><span class="line">    &lt;scope&gt;runtime&lt;/scope&gt;</span><br><span class="line">&lt;/dependency&gt;</span><br><span class="line">&lt;!--mp&#x4EE3;&#x7801;&#x751F;&#x6210;&#x5668;--&gt;</span><br><span class="line">&lt;dependency&gt;</span><br><span class="line">    &lt;groupId&gt;com.baomidou&lt;/groupId&gt;</span><br><span class="line">    &lt;artifactId&gt;mybatis-plus-generator&lt;/artifactId&gt;</span><br><span class="line">    &lt;version&gt;3.2.0&lt;/version&gt;</span><br><span class="line">&lt;/dependency&gt;</span><br></pre></td></tr></table></figure>

<p><strong>&#x7B2C;&#x4E8C;&#x6B65;&#xFF1A;&#x7136;&#x540E;&#x53BB;&#x5199;&#x914D;&#x7F6E;&#x6587;&#x4EF6;</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">ruby&#x590D;&#x5236;&#x4EE3;&#x7801;# DataSource Config</span><br><span class="line">spring:</span><br><span class="line">  datasource:</span><br><span class="line">    driver-class-name: com.mysql.cj.jdbc.Driver</span><br><span class="line">    url: jdbc:mysql://localhost:3306/vueblog?useUnicode=true&amp;useSSL=false&amp;characterEncoding=utf8&amp;serverTimezone=Asia/Shanghai</span><br><span class="line">    username: root</span><br><span class="line">    password: admin</span><br><span class="line">mybatis-plus:</span><br><span class="line">  mapper-locations: classpath*:/mapper/**Mapper.xml</span><br></pre></td></tr></table></figure>

<p>&#x4E0A;&#x9762;&#x9664;&#x4E86;&#x914D;&#x7F6E;&#x6570;&#x636E;&#x5E93;&#x7684;&#x4FE1;&#x606F;&#xFF0C;&#x8FD8;&#x914D;&#x7F6E;&#x4E86;myabtis plus&#x7684;mapper&#x7684;xml&#x6587;&#x4EF6;&#x7684;&#x626B;&#x63CF;&#x8DEF;&#x5F84;&#xFF0C;&#x8FD9;&#x4E00;&#x6B65;&#x4E0D;&#x8981;&#x5FD8;&#x8BB0;&#x4E86;&#x3002;<br><strong>&#x7B2C;&#x4E09;&#x6B65;&#xFF1A;&#x5F00;&#x542F;mapper&#x63A5;&#x53E3;&#x626B;&#x63CF;&#xFF0C;&#x6DFB;&#x52A0;&#x5206;&#x9875;&#x63D2;&#x4EF6;</strong></p>
<p>&#x65B0;&#x5EFA;&#x4E00;&#x4E2A;&#x5305;&#xFF1A;&#x901A;&#x8FC7;@mapperScan&#x6CE8;&#x89E3;&#x6307;&#x5B9A;&#x8981;&#x53D8;&#x6210;&#x5B9E;&#x73B0;&#x7C7B;&#x7684;&#x63A5;&#x53E3;&#x6240;&#x5728;&#x7684;&#x5305;&#xFF0C;&#x7136;&#x540E;&#x5305;&#x4E0B;&#x9762;&#x7684;&#x6240;&#x6709;&#x63A5;&#x53E3;&#x5728;&#x7F16;&#x8BD1;&#x4E4B;&#x540E;&#x90FD;&#x4F1A;&#x751F;&#x6210;&#x76F8;&#x5E94;&#x7684;&#x5B9E;&#x73B0;&#x7C7B;&#x3002;PaginationInterceptor&#x662F;&#x4E00;&#x4E2A;&#x5206;&#x9875;&#x63D2;&#x4EF6;&#x3002;</p>
<ul>
<li>com.markerhub.config.MybatisPlusConfig</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">less&#x590D;&#x5236;&#x4EE3;&#x7801;@Configuration</span><br><span class="line">@EnableTransactionManagement</span><br><span class="line">@MapperScan(&quot;com.markerhub.mapper&quot;)</span><br><span class="line">public class MybatisPlusConfig {</span><br><span class="line">    @Bean</span><br><span class="line">    public PaginationInterceptor paginationInterceptor() {</span><br><span class="line">        PaginationInterceptor paginationInterceptor = new PaginationInterceptor();</span><br><span class="line">        return paginationInterceptor;</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></table></figure>

<p><strong>&#x7B2C;&#x56DB;&#x6B65;&#xFF1A;&#x4EE3;&#x7801;&#x751F;&#x6210;</strong></p>
<p>&#x5982;&#x679C;&#x4F60;&#x6CA1;&#x518D;&#x7528;&#x5176;&#x4ED6;&#x63D2;&#x4EF6;&#xFF0C;&#x90A3;&#x4E48;&#x73B0;&#x5728;&#x5C31;&#x5DF2;&#x7ECF;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;mybatis plus&#x4E86;&#xFF0C;&#x5B98;&#x65B9;&#x7ED9;&#x6211;&#x4EEC;&#x63D0;&#x4F9B;&#x4E86;&#x4E00;&#x4E2A;&#x4EE3;&#x7801;&#x751F;&#x6210;&#x5668;&#xFF0C;&#x7136;&#x540E;&#x6211;&#x5199;&#x4E0A;&#x81EA;&#x5DF1;&#x7684;&#x53C2;&#x6570;&#x4E4B;&#x540E;&#xFF0C;&#x5C31;&#x53EF;&#x4EE5;&#x76F4;&#x63A5;&#x6839;&#x636E;&#x6570;&#x636E;&#x5E93;&#x8868;&#x4FE1;&#x606F;&#x751F;&#x6210;entity&#x3001;service&#x3001;mapper&#x7B49;&#x63A5;&#x53E3;&#x548C;&#x5B9E;&#x73B0;&#x7C7B;&#x3002;</p>
<ul>
<li>com.markerhub.CodeGenerator</li>
</ul>
<p>&#x56E0;&#x4E3A;&#x4EE3;&#x7801;&#x6BD4;&#x8F83;&#x957F;&#xFF0C;&#x5C31;&#x4E0D;&#x8D34;&#x51FA;&#x6765;&#x4E86;&#xFF0C;&#x5728;&#x4EE3;&#x7801;&#x4ED3;&#x5E93;&#x4E0A;&#x770B;&#x54C8;&#xFF01;</p>
<p>&#x9996;&#x5148;&#x6211;&#x5728;&#x6570;&#x636E;&#x5E93;&#x4E2D;&#x65B0;&#x5EFA;&#x4E86;&#x4E00;&#x4E2A;user&#x8868;&#xFF1A;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">sql&#x590D;&#x5236;&#x4EE3;&#x7801;CREATE TABLE `m_user` (</span><br><span class="line">&#xA0; `id` bigint(20) NOT NULL AUTO_INCREMENT,</span><br><span class="line">&#xA0; `username` varchar(64) DEFAULT NULL,</span><br><span class="line">&#xA0; `avatar` varchar(255) DEFAULT NULL,</span><br><span class="line">&#xA0; `email` varchar(64) DEFAULT NULL,</span><br><span class="line">&#xA0; `password` varchar(64) DEFAULT NULL,</span><br><span class="line">&#xA0; `status` int(5) NOT NULL,</span><br><span class="line">&#xA0; `created` datetime DEFAULT NULL,</span><br><span class="line">&#xA0; `last_login` datetime DEFAULT NULL,</span><br><span class="line">&#xA0; PRIMARY KEY (`id`),</span><br><span class="line">&#xA0; KEY `UK_USERNAME` (`username`) USING BTREE</span><br><span class="line">) ENGINE=InnoDB DEFAULT CHARSET=utf8;</span><br><span class="line">CREATE TABLE `m_blog` (</span><br><span class="line">  `id` bigint(20) NOT NULL AUTO_INCREMENT,</span><br><span class="line">  `user_id` bigint(20) NOT NULL,</span><br><span class="line">  `title` varchar(255) NOT NULL,</span><br><span class="line">  `description` varchar(255) NOT NULL,</span><br><span class="line">  `content` longtext,</span><br><span class="line">  `created` datetime NOT NULL ON UPDATE CURRENT_TIMESTAMP,</span><br><span class="line">  `status` tinyint(4) DEFAULT NULL,</span><br><span class="line">  PRIMARY KEY (`id`)</span><br><span class="line">) ENGINE=InnoDB AUTO_INCREMENT=11 DEFAULT CHARSET=utf8mb4;</span><br><span class="line">INSERT INTO `vueblog`.`m_user` (`id`, `username`, `avatar`, `email`, `password`, `status`, `created`, `last_login`) VALUES (&apos;1&apos;, &apos;markerhub&apos;, &apos;https://image-1300566513.cos.ap-guangzhou.myqcloud.com/upload/images/5a9f48118166308daba8b6da7e466aab.jpg&apos;, NULL, &apos;96e79218965eb72c92a549dd5a330112&apos;, &apos;0&apos;, &apos;2020-04-20 10:44:01&apos;, NULL);</span><br></pre></td></tr></table></figure>

<p>&#x8FD0;&#x884C;CodeGenerator&#x7684;main&#x65B9;&#x6CD5;&#xFF0C;&#x8F93;&#x5165;&#x8868;&#x540D;&#xFF1A;m_user&#xFF0C;&#x751F;&#x6210;&#x7ED3;&#x679C;&#x5982;&#x4E0B;&#xFF1A;<br><img src="https://gitee.com/songjianzaina/juejin_p7/raw/master/img/892621106f0097810764334a0b3739436ce5b9607b8b6715ec2d6f14d3574b98" alt="&#x56FE;&#x7247;"></p>
<p>&#x5F97;&#x5230;&#xFF1A;</p>
<p><img src="https://gitee.com/songjianzaina/juejin_p7/raw/master/img/ddedd6ff5418ec3d84a2b073dc65eb2bda17916a97bfc330b9900249c1e2c3ba" alt="&#x56FE;&#x7247;"></p>
<p>&#x7B80;&#x6D01;&#xFF01;&#x65B9;&#x4FBF;&#xFF01;&#x7ECF;&#x8FC7;&#x4E0A;&#x9762;&#x7684;&#x6B65;&#x9AA4;&#xFF0C;&#x57FA;&#x672C;&#x4E0A;&#x6211;&#x4EEC;&#x5DF2;&#x7ECF;&#x628A;mybatis plus&#x6846;&#x67B6;&#x96C6;&#x6210;&#x5230;&#x9879;&#x76EE;&#x4E2D;&#x4E86;&#x3002;</p>
<p>ps&#xFF1A;&#x989D;&#xFF0C;&#x6CE8;&#x610F;&#x4E00;&#x4E0B;m_blog&#x8868;&#x7684;&#x4EE3;&#x7801;&#x4E5F;&#x751F;&#x6210;&#x4E00;&#x4E0B;&#x54C8;&#x3002;</p>
<p>&#x5728;UserController&#x4E2D;&#x5199;&#x4E2A;&#x6D4B;&#x8BD5;&#xFF1A;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">less&#x590D;&#x5236;&#x4EE3;&#x7801;@RestController</span><br><span class="line">@RequestMapping(&quot;/user&quot;)</span><br><span class="line">public class UserController {</span><br><span class="line">    @Autowired</span><br><span class="line">    UserService userService;</span><br><span class="line">    @GetMapping(&quot;/{id}&quot;)</span><br><span class="line">    public Object test(@PathVariable(&quot;id&quot;) Long id) {</span><br><span class="line">        return userService.getById(id);</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></table></figure>

<p>&#x8BBF;&#x95EE;&#xFF1A;<a href="/external_links/608660b0663f464f244718b6ecccd454.html" target="blank" rel="noopener">http://localhost:8080/user/1</a> &#x83B7;&#x5F97;&#x7ED3;&#x679C;&#x5982;&#x4E0B;&#xFF0C;&#x6574;&#x5408;&#x6210;&#x529F;&#xFF01;<br><img src="https://gitee.com/songjianzaina/juejin_p7/raw/master/img/23d5cb36dbc3d30f33f532812d1a31c78cfc225703a639444871f66fc4f2c609" alt="&#x56FE;&#x7247;"></p>
<h3 id="3&#x3001;&#x7EDF;&#x4E00;&#x7ED3;&#x679C;&#x5C01;&#x88C5;"><a href="#3&#x3001;&#x7EDF;&#x4E00;&#x7ED3;&#x679C;&#x5C01;&#x88C5;" class="headerlink" title="3&#x3001;&#x7EDF;&#x4E00;&#x7ED3;&#x679C;&#x5C01;&#x88C5;"></a>3&#x3001;&#x7EDF;&#x4E00;&#x7ED3;&#x679C;&#x5C01;&#x88C5;</h3><p>&#x8FD9;&#x91CC;&#x6211;&#x4EEC;&#x7528;&#x5230;&#x4E86;&#x4E00;&#x4E2A;Result&#x7684;&#x7C7B;&#xFF0C;&#x8FD9;&#x4E2A;&#x7528;&#x4E8E;&#x6211;&#x4EEC;&#x7684;&#x5F02;&#x6B65;&#x7EDF;&#x4E00;&#x8FD4;&#x56DE;&#x7684;&#x7ED3;&#x679C;&#x5C01;&#x88C5;&#x3002;&#x4E00;&#x822C;&#x6765;&#x8BF4;&#xFF0C;&#x7ED3;&#x679C;&#x91CC;&#x9762;&#x6709;&#x51E0;&#x4E2A;&#x8981;&#x7D20;&#x5FC5;&#x8981;&#x7684;</p>
<ul>
<li>&#x662F;&#x5426;&#x6210;&#x529F;&#xFF0C;&#x53EF;&#x7528;code&#x8868;&#x793A;&#xFF08;&#x5982;200&#x8868;&#x793A;&#x6210;&#x529F;&#xFF0C;400&#x8868;&#x793A;&#x5F02;&#x5E38;&#xFF09;</li>
<li>&#x7ED3;&#x679C;&#x6D88;&#x606F;</li>
<li>&#x7ED3;&#x679C;&#x6570;&#x636E;</li>
</ul>
<p>&#x6240;&#x4EE5;&#x53EF;&#x5F97;&#x5230;&#x5C01;&#x88C5;&#x5982;&#x4E0B;&#xFF1A;</p>
<ul>
<li>com.markerhub.common.lang.Result</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line">typescript&#x590D;&#x5236;&#x4EE3;&#x7801;@Data</span><br><span class="line">public class Result implements Serializable {</span><br><span class="line">&#xA0; &#xA0; private String code;</span><br><span class="line">&#xA0; &#xA0; private String msg;</span><br><span class="line">&#xA0; &#xA0; private Object data;</span><br><span class="line">&#xA0; &#xA0; public static Result succ(Object data) {</span><br><span class="line">&#xA0; &#xA0; &#xA0; &#xA0; Result m = new Result();</span><br><span class="line">&#xA0; &#xA0; &#xA0; &#xA0; m.setCode(&quot;0&quot;);</span><br><span class="line">&#xA0; &#xA0; &#xA0; &#xA0; m.setData(data);</span><br><span class="line">&#xA0; &#xA0; &#xA0; &#xA0; m.setMsg(&quot;&#x64CD;&#x4F5C;&#x6210;&#x529F;&quot;);</span><br><span class="line">&#xA0; &#xA0; &#xA0; &#xA0; return m;</span><br><span class="line">&#xA0; &#xA0; }</span><br><span class="line">&#xA0; &#xA0; public static Result succ(String mess, Object data) {</span><br><span class="line">&#xA0; &#xA0; &#xA0; &#xA0; Result m = new Result();</span><br><span class="line">&#xA0; &#xA0; &#xA0; &#xA0; m.setCode(&quot;0&quot;);</span><br><span class="line">&#xA0; &#xA0; &#xA0; &#xA0; m.setData(data);</span><br><span class="line">&#xA0; &#xA0; &#xA0; &#xA0; m.setMsg(mess);</span><br><span class="line">&#xA0; &#xA0; &#xA0; &#xA0; return m;</span><br><span class="line">&#xA0; &#xA0; }</span><br><span class="line">&#xA0; &#xA0; public static Result fail(String mess) {</span><br><span class="line">&#xA0; &#xA0; &#xA0; &#xA0; Result m = new Result();</span><br><span class="line">&#xA0; &#xA0; &#xA0; &#xA0; m.setCode(&quot;-1&quot;);</span><br><span class="line">&#xA0; &#xA0; &#xA0; &#xA0; m.setData(null);</span><br><span class="line">&#xA0; &#xA0; &#xA0; &#xA0; m.setMsg(mess);</span><br><span class="line">&#xA0; &#xA0; &#xA0; &#xA0; return m;</span><br><span class="line">&#xA0; &#xA0; }</span><br><span class="line">&#xA0; &#xA0; public static Result fail(String mess, Object data) {</span><br><span class="line">&#xA0; &#xA0; &#xA0; &#xA0; Result m = new Result();</span><br><span class="line">&#xA0; &#xA0; &#xA0; &#xA0; m.setCode(&quot;-1&quot;);</span><br><span class="line">&#xA0; &#xA0; &#xA0; &#xA0; m.setData(data);</span><br><span class="line">&#xA0; &#xA0; &#xA0; &#xA0; m.setMsg(mess);</span><br><span class="line">&#xA0; &#xA0; &#xA0; &#xA0; return m;</span><br><span class="line">&#xA0; &#xA0; }</span><br><span class="line">}</span><br></pre></td></tr></table></figure>

<h3 id="4&#x3001;&#x6574;&#x5408;shiro-jwt&#xFF0C;&#x5E76;&#x4F1A;&#x8BDD;&#x5171;&#x4EAB;"><a href="#4&#x3001;&#x6574;&#x5408;shiro-jwt&#xFF0C;&#x5E76;&#x4F1A;&#x8BDD;&#x5171;&#x4EAB;" class="headerlink" title="4&#x3001;&#x6574;&#x5408;shiro+jwt&#xFF0C;&#x5E76;&#x4F1A;&#x8BDD;&#x5171;&#x4EAB;"></a>4&#x3001;&#x6574;&#x5408;shiro+jwt&#xFF0C;&#x5E76;&#x4F1A;&#x8BDD;&#x5171;&#x4EAB;</h3><p>&#x8003;&#x8651;&#x5230;&#x540E;&#x9762;&#x53EF;&#x80FD;&#x9700;&#x8981;&#x505A;&#x96C6;&#x7FA4;&#x3001;&#x8D1F;&#x8F7D;&#x5747;&#x8861;&#x7B49;&#xFF0C;&#x6240;&#x4EE5;&#x5C31;&#x9700;&#x8981;&#x4F1A;&#x8BDD;&#x5171;&#x4EAB;&#xFF0C;&#x800C;shiro&#x7684;&#x7F13;&#x5B58;&#x548C;&#x4F1A;&#x8BDD;&#x4FE1;&#x606F;&#xFF0C;&#x6211;&#x4EEC;&#x4E00;&#x822C;&#x8003;&#x8651;&#x4F7F;&#x7528;redis&#x6765;&#x5B58;&#x50A8;&#x8FD9;&#x4E9B;&#x6570;&#x636E;&#xFF0C;&#x6240;&#x4EE5;&#xFF0C;&#x6211;&#x4EEC;&#x4E0D;&#x4EC5;&#x4EC5;&#x9700;&#x8981;&#x6574;&#x5408;shiro&#xFF0C;&#x540C;&#x65F6;&#x4E5F;&#x9700;&#x8981;&#x6574;&#x5408;redis&#x3002;&#x5728;&#x5F00;&#x6E90;&#x7684;&#x9879;&#x76EE;&#x4E2D;&#xFF0C;&#x6211;&#x4EEC;&#x627E;&#x5230;&#x4E86;&#x4E00;&#x4E2A;starter&#x53EF;&#x4EE5;&#x5FEB;&#x901F;&#x6574;&#x5408;shiro-redis&#xFF0C;&#x914D;&#x7F6E;&#x7B80;&#x5355;&#xFF0C;&#x8FD9;&#x91CC;&#x4E5F;&#x63A8;&#x8350;&#x5927;&#x5BB6;&#x4F7F;&#x7528;&#x3002;</p>
<p>&#x800C;&#x56E0;&#x4E3A;&#x6211;&#x4EEC;&#x9700;&#x8981;&#x505A;&#x7684;&#x662F;&#x524D;&#x540E;&#x7AEF;&#x5206;&#x79BB;&#x9879;&#x76EE;&#x7684;&#x9AA8;&#x67B6;&#xFF0C;&#x6240;&#x4EE5;&#x4E00;&#x822C;&#x6211;&#x4EEC;&#x4F1A;&#x91C7;&#x7528;token&#x6216;&#x8005;jwt&#x4F5C;&#x4E3A;&#x8DE8;&#x57DF;&#x8EAB;&#x4EFD;&#x9A8C;&#x8BC1;&#x89E3;&#x51B3;&#x65B9;&#x6848;&#x3002;&#x6240;&#x4EE5;&#x6574;&#x5408;shiro&#x7684;&#x8FC7;&#x7A0B;&#x4E2D;&#xFF0C;&#x6211;&#x4EEC;&#x9700;&#x8981;&#x5F15;&#x5165;jwt&#x7684;&#x8EAB;&#x4EFD;&#x9A8C;&#x8BC1;&#x8FC7;&#x7A0B;&#x3002;</p>
<p>&#x90A3;&#x4E48;&#x6211;&#x4EEC;&#x5C31;&#x5F00;&#x59CB;&#x6574;&#x5408;&#xFF1A;</p>
<p>&#x6211;&#x4EEC;&#x4F7F;&#x7528;&#x4E00;&#x4E2A;shiro-redis-spring-boot-starter&#x7684;jar&#x5305;&#xFF0C;&#x5177;&#x4F53;&#x6559;&#x7A0B;&#x53EF;&#x4EE5;&#x770B;&#x5B98;&#x65B9;&#x6587;&#x6863;&#xFF1A;<a href="/external_links/233fb417e63988fc2a2eca57c4d16de9.html" target="blank" rel="noopener">github.com/alexxiyang/&#x2026;</a></p>
<p>&#x7B2C;&#x4E00;&#x6B65;&#xFF1A;&#x5BFC;&#x5165;shiro-redis&#x7684;starter&#x5305;&#xFF1A;&#x8FD8;&#x6709;jwt&#x7684;&#x5DE5;&#x5177;&#x5305;&#xFF0C;&#x4EE5;&#x53CA;&#x4E3A;&#x4E86;&#x7B80;&#x5316;&#x5F00;&#x53D1;&#xFF0C;&#x6211;&#x5F15;&#x5165;&#x4E86;hutool&#x5DE5;&#x5177;&#x5305;&#x3002;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">xml&#x590D;&#x5236;&#x4EE3;&#x7801;&lt;dependency&gt;</span><br><span class="line">&#xA0; &#xA0; &lt;groupId&gt;org.crazycake&lt;/groupId&gt;</span><br><span class="line">&#xA0; &#xA0; &lt;artifactId&gt;shiro-redis-spring-boot-starter&lt;/artifactId&gt;</span><br><span class="line">&#xA0; &#xA0; &lt;version&gt;3.2.1&lt;/version&gt;</span><br><span class="line">&lt;/dependency&gt;</span><br><span class="line">&lt;!-- hutool&#x5DE5;&#x5177;&#x7C7B;--&gt;</span><br><span class="line">&lt;dependency&gt;</span><br><span class="line">    &lt;groupId&gt;cn.hutool&lt;/groupId&gt;</span><br><span class="line">    &lt;artifactId&gt;hutool-all&lt;/artifactId&gt;</span><br><span class="line">    &lt;version&gt;5.3.3&lt;/version&gt;</span><br><span class="line">&lt;/dependency&gt;</span><br><span class="line">&lt;!-- jwt --&gt;</span><br><span class="line">&lt;dependency&gt;</span><br><span class="line">    &lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;</span><br><span class="line">    &lt;artifactId&gt;jjwt&lt;/artifactId&gt;</span><br><span class="line">    &lt;version&gt;0.9.1&lt;/version&gt;</span><br><span class="line">&lt;/dependency&gt;</span><br></pre></td></tr></table></figure>

<p>&#x7B2C;&#x4E8C;&#x6B65;&#xFF1A;&#x7F16;&#x5199;&#x914D;&#x7F6E;&#xFF1A;</p>
<h4 id="ShiroConfig"><a href="#ShiroConfig" class="headerlink" title="ShiroConfig"></a>ShiroConfig</h4><ul>
<li>com.markerhub.config.ShiroConfig</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br></pre></td><td class="code"><pre><span class="line">typescript&#x590D;&#x5236;&#x4EE3;&#x7801;/**</span><br><span class="line"> * shiro&#x542F;&#x7528;&#x6CE8;&#x89E3;&#x62E6;&#x622A;&#x63A7;&#x5236;&#x5668;</span><br><span class="line"> */</span><br><span class="line">@Configuration</span><br><span class="line">public class ShiroConfig {</span><br><span class="line">    @Autowired</span><br><span class="line">    JwtFilter jwtFilter;</span><br><span class="line">    @Bean</span><br><span class="line">    public SessionManager sessionManager(RedisSessionDAO redisSessionDAO) {</span><br><span class="line">        DefaultWebSessionManager sessionManager = new DefaultWebSessionManager();</span><br><span class="line">        sessionManager.setSessionDAO(redisSessionDAO);</span><br><span class="line">        return sessionManager;</span><br><span class="line">    }</span><br><span class="line">    @Bean</span><br><span class="line">    public DefaultWebSecurityManager securityManager(AccountRealm accountRealm,</span><br><span class="line">                                                     SessionManager sessionManager,</span><br><span class="line">                                                     RedisCacheManager redisCacheManager) {</span><br><span class="line">        DefaultWebSecurityManager securityManager = new DefaultWebSecurityManager(accountRealm);</span><br><span class="line">        securityManager.setSessionManager(sessionManager);</span><br><span class="line">        securityManager.setCacheManager(redisCacheManager);</span><br><span class="line">        /*</span><br><span class="line">         * &#x5173;&#x95ED;shiro&#x81EA;&#x5E26;&#x7684;session&#xFF0C;&#x8BE6;&#x60C5;&#x89C1;&#x6587;&#x6863;</span><br><span class="line">         */</span><br><span class="line">        DefaultSubjectDAO subjectDAO = new DefaultSubjectDAO();</span><br><span class="line">        DefaultSessionStorageEvaluator defaultSessionStorageEvaluator = new DefaultSessionStorageEvaluator();</span><br><span class="line">        defaultSessionStorageEvaluator.setSessionStorageEnabled(false);</span><br><span class="line">        subjectDAO.setSessionStorageEvaluator(defaultSessionStorageEvaluator);</span><br><span class="line">        securityManager.setSubjectDAO(subjectDAO);</span><br><span class="line">        return securityManager;</span><br><span class="line">    }</span><br><span class="line">    @Bean</span><br><span class="line">    public ShiroFilterChainDefinition shiroFilterChainDefinition() {</span><br><span class="line">        DefaultShiroFilterChainDefinition chainDefinition = new DefaultShiroFilterChainDefinition();</span><br><span class="line">        Map&lt;String, String&gt; filterMap = new LinkedHashMap&lt;&gt;();</span><br><span class="line">        filterMap.put(&quot;/**&quot;, &quot;jwt&quot;); // &#x4E3B;&#x8981;&#x901A;&#x8FC7;&#x6CE8;&#x89E3;&#x65B9;&#x5F0F;&#x6821;&#x9A8C;&#x6743;&#x9650;</span><br><span class="line">        chainDefinition.addPathDefinitions(filterMap);</span><br><span class="line">        return chainDefinition;</span><br><span class="line">    }</span><br><span class="line">    @Bean(&quot;shiroFilterFactoryBean&quot;)</span><br><span class="line">    public ShiroFilterFactoryBean shiroFilterFactoryBean(SecurityManager securityManager,</span><br><span class="line">                                                         ShiroFilterChainDefinition shiroFilterChainDefinition) {</span><br><span class="line">        ShiroFilterFactoryBean shiroFilter = new ShiroFilterFactoryBean();</span><br><span class="line">        shiroFilter.setSecurityManager(securityManager);</span><br><span class="line">        Map&lt;String, Filter&gt; filters = new HashMap&lt;&gt;();</span><br><span class="line">        filters.put(&quot;jwt&quot;, jwtFilter);</span><br><span class="line">        shiroFilter.setFilters(filters);</span><br><span class="line">        Map&lt;String, String&gt; filterMap = shiroFilterChainDefinition.getFilterChainMap();</span><br><span class="line">        shiroFilter.setFilterChainDefinitionMap(filterMap);</span><br><span class="line">        return shiroFilter;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    // &#x5F00;&#x542F;&#x6CE8;&#x89E3;&#x4EE3;&#x7406;&#xFF08;&#x9ED8;&#x8BA4;&#x597D;&#x50CF;&#x5DF2;&#x7ECF;&#x5F00;&#x542F;&#xFF0C;&#x53EF;&#x4EE5;&#x4E0D;&#x8981;&#xFF09;</span><br><span class="line">    @Bean</span><br><span class="line">    public AuthorizationAttributeSourceAdvisor authorizationAttributeSourceAdvisor(SecurityManager securityManager){</span><br><span class="line">        AuthorizationAttributeSourceAdvisor authorizationAttributeSourceAdvisor = new AuthorizationAttributeSourceAdvisor();</span><br><span class="line">        authorizationAttributeSourceAdvisor.setSecurityManager(securityManager);</span><br><span class="line">        return authorizationAttributeSourceAdvisor;</span><br><span class="line">    }</span><br><span class="line">    @Bean</span><br><span class="line">    public static DefaultAdvisorAutoProxyCreator getDefaultAdvisorAutoProxyCreator() {</span><br><span class="line">        DefaultAdvisorAutoProxyCreator creator = new DefaultAdvisorAutoProxyCreator();</span><br><span class="line">        return creator;</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></table></figure>

<p>&#x4E0A;&#x9762;ShiroConfig&#xFF0C;&#x6211;&#x4EEC;&#x4E3B;&#x8981;&#x505A;&#x4E86;&#x51E0;&#x4EF6;&#x4E8B;&#x60C5;&#xFF1A;</p>
<ol>
<li>&#x5F15;&#x5165;RedisSessionDAO&#x548C;RedisCacheManager&#xFF0C;&#x4E3A;&#x4E86;&#x89E3;&#x51B3;shiro&#x7684;&#x6743;&#x9650;&#x6570;&#x636E;&#x548C;&#x4F1A;&#x8BDD;&#x4FE1;&#x606F;&#x80FD;&#x4FDD;&#x5B58;&#x5230;redis&#x4E2D;&#xFF0C;&#x5B9E;&#x73B0;&#x4F1A;&#x8BDD;&#x5171;&#x4EAB;&#x3002;</li>
<li>&#x91CD;&#x5199;&#x4E86;SessionManager&#x548C;DefaultWebSecurityManager&#xFF0C;&#x540C;&#x65F6;&#x5728;DefaultWebSecurityManager&#x4E2D;&#x4E3A;&#x4E86;&#x5173;&#x95ED;shiro&#x81EA;&#x5E26;&#x7684;session&#x65B9;&#x5F0F;&#xFF0C;&#x6211;&#x4EEC;&#x9700;&#x8981;&#x8BBE;&#x7F6E;&#x4E3A;false&#xFF0C;&#x8FD9;&#x6837;&#x7528;&#x6237;&#x5C31;&#x4E0D;&#x518D;&#x80FD;&#x901A;&#x8FC7;session&#x65B9;&#x5F0F;&#x767B;&#x5F55;shiro&#x3002;&#x540E;&#x9762;&#x5C06;&#x91C7;&#x7528;jwt&#x51ED;&#x8BC1;&#x767B;&#x5F55;&#x3002;</li>
<li>&#x5728;ShiroFilterChainDefinition&#x4E2D;&#xFF0C;&#x6211;&#x4EEC;&#x4E0D;&#x518D;&#x901A;&#x8FC7;&#x7F16;&#x7801;&#x5F62;&#x5F0F;&#x62E6;&#x622A;Controller&#x8BBF;&#x95EE;&#x8DEF;&#x5F84;&#xFF0C;&#x800C;&#x662F;&#x6240;&#x6709;&#x7684;&#x8DEF;&#x7531;&#x90FD;&#x9700;&#x8981;&#x7ECF;&#x8FC7;JwtFilter&#x8FD9;&#x4E2A;&#x8FC7;&#x6EE4;&#x5668;&#xFF0C;&#x7136;&#x540E;&#x5224;&#x65AD;&#x8BF7;&#x6C42;&#x5934;&#x4E2D;&#x662F;&#x5426;&#x542B;&#x6709;jwt&#x7684;&#x4FE1;&#x606F;&#xFF0C;&#x6709;&#x5C31;&#x767B;&#x5F55;&#xFF0C;&#x6CA1;&#x6709;&#x5C31;&#x8DF3;&#x8FC7;&#x3002;&#x8DF3;&#x8FC7;&#x4E4B;&#x540E;&#xFF0C;&#x6709;Controller&#x4E2D;&#x7684;shiro&#x6CE8;&#x89E3;&#x8FDB;&#x884C;&#x518D;&#x6B21;&#x62E6;&#x622A;&#xFF0C;&#x6BD4;&#x5982;@RequiresAuthentication&#xFF0C;&#x8FD9;&#x6837;&#x63A7;&#x5236;&#x6743;&#x9650;&#x8BBF;&#x95EE;&#x3002;</li>
</ol>
<p>&#x90A3;&#x4E48;&#xFF0C;&#x63A5;&#x4E0B;&#x6765;&#xFF0C;&#x6211;&#x4EEC;&#x804A;&#x804A;ShiroConfig&#x4E2D;&#x51FA;&#x73B0;&#x7684;AccountRealm&#xFF0C;&#x8FD8;&#x6709;JwtFilter&#x3002;</p>
<h4 id="AccountRealm"><a href="#AccountRealm" class="headerlink" title="AccountRealm"></a>AccountRealm</h4><p>AccountRealm&#x662F;shiro&#x8FDB;&#x884C;&#x767B;&#x5F55;&#x6216;&#x8005;&#x6743;&#x9650;&#x6821;&#x9A8C;&#x7684;&#x903B;&#x8F91;&#x6240;&#x5728;&#xFF0C;&#x7B97;&#x662F;&#x6838;&#x5FC3;&#x4E86;&#xFF0C;&#x6211;&#x4EEC;&#x9700;&#x8981;&#x91CD;&#x5199;3&#x4E2A;&#x65B9;&#x6CD5;&#xFF0C;&#x5206;&#x522B;&#x662F;</p>
<ul>
<li>supports&#xFF1A;&#x4E3A;&#x4E86;&#x8BA9;realm&#x652F;&#x6301;jwt&#x7684;&#x51ED;&#x8BC1;&#x6821;&#x9A8C;</li>
<li>doGetAuthorizationInfo&#xFF1A;&#x6743;&#x9650;&#x6821;&#x9A8C;</li>
<li>doGetAuthenticationInfo&#xFF1A;&#x767B;&#x5F55;&#x8BA4;&#x8BC1;&#x6821;&#x9A8C;</li>
</ul>
<p>&#x6211;&#x4EEC;&#x5148;&#x6765;&#x603B;&#x4F53;&#x770B;&#x770B;AccountRealm&#x7684;&#x4EE3;&#x7801;&#xFF0C;&#x7136;&#x540E;&#x9010;&#x4E2A;&#x5206;&#x6790;&#xFF1A;</p>
<ul>
<li>com.markerhub.shiro.AccountRealm</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line">java&#x590D;&#x5236;&#x4EE3;&#x7801;@Slf4j</span><br><span class="line">@Component</span><br><span class="line">public class AccountRealm extends AuthorizingRealm {</span><br><span class="line">    @Autowired</span><br><span class="line">    JwtUtils jwtUtils;</span><br><span class="line">    @Autowired</span><br><span class="line">    UserService userService;</span><br><span class="line">    @Override</span><br><span class="line">    public boolean supports(AuthenticationToken token) {</span><br><span class="line">        return token instanceof JwtToken;</span><br><span class="line">    }</span><br><span class="line">    @Override</span><br><span class="line">    protected AuthorizationInfo doGetAuthorizationInfo(PrincipalCollection principals) {</span><br><span class="line">        return null;</span><br><span class="line">    }</span><br><span class="line">    @Override</span><br><span class="line">    protected AuthenticationInfo doGetAuthenticationInfo(AuthenticationToken token) throws AuthenticationException {</span><br><span class="line">        JwtToken jwt = (JwtToken) token;</span><br><span class="line">        log.info(&quot;jwt-----------------&gt;{}&quot;, jwt);</span><br><span class="line">        String userId = jwtUtils.getClaimByToken((String) jwt.getPrincipal()).getSubject();</span><br><span class="line">        User user = userService.getById(Long.parseLong(userId));</span><br><span class="line">        if(user == null) {</span><br><span class="line">            throw new UnknownAccountException(&quot;&#x8D26;&#x6237;&#x4E0D;&#x5B58;&#x5728;&#xFF01;&quot;);</span><br><span class="line">        }</span><br><span class="line">        if(user.getStatus() == -1) {</span><br><span class="line">            throw new LockedAccountException(&quot;&#x8D26;&#x6237;&#x5DF2;&#x88AB;&#x9501;&#x5B9A;&#xFF01;&quot;);</span><br><span class="line">        }</span><br><span class="line">        AccountProfile profile = new AccountProfile();</span><br><span class="line">        BeanUtil.copyProperties(user, profile);</span><br><span class="line">        log.info(&quot;profile-----------------&gt;{}&quot;, profile.toString());</span><br><span class="line">        return new SimpleAuthenticationInfo(profile, jwt.getCredentials(), getName());</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></table></figure>

<p>&#x5176;&#x5B9E;&#x4E3B;&#x8981;&#x5C31;&#x662F;doGetAuthenticationInfo&#x767B;&#x5F55;&#x8BA4;&#x8BC1;&#x8FD9;&#x4E2A;&#x65B9;&#x6CD5;&#xFF0C;&#x53EF;&#x4EE5;&#x770B;&#x5230;&#x6211;&#x4EEC;&#x901A;&#x8FC7;jwt&#x83B7;&#x53D6;&#x5230;&#x7528;&#x6237;&#x4FE1;&#x606F;&#xFF0C;&#x5224;&#x65AD;&#x7528;&#x6237;&#x7684;&#x72B6;&#x6001;&#xFF0C;&#x6700;&#x540E;&#x5F02;&#x5E38;&#x5C31;&#x629B;&#x51FA;&#x5BF9;&#x5E94;&#x7684;&#x5F02;&#x5E38;&#x4FE1;&#x606F;&#xFF0C;&#x5426;&#x8005;&#x5C01;&#x88C5;&#x6210;SimpleAuthenticationInfo&#x8FD4;&#x56DE;&#x7ED9;shiro&#x3002;<br>&#x63A5;&#x4E0B;&#x6765;&#x6211;&#x4EEC;&#x9010;&#x6B65;&#x5206;&#x6790;&#x91CC;&#x9762;&#x51FA;&#x73B0;&#x7684;&#x65B0;&#x7C7B;&#xFF1A;</p>
<p>1&#x3001;shiro&#x9ED8;&#x8BA4;supports&#x7684;&#x662F;UsernamePasswordToken&#xFF0C;&#x800C;&#x6211;&#x4EEC;&#x73B0;&#x5728;&#x91C7;&#x7528;&#x4E86;jwt&#x7684;&#x65B9;&#x5F0F;&#xFF0C;&#x6240;&#x4EE5;&#x8FD9;&#x91CC;&#x6211;&#x4EEC;&#x81EA;&#x5B9A;&#x4E49;&#x4E00;&#x4E2A;JwtToken&#xFF0C;&#x6765;&#x5B8C;&#x6210;shiro&#x7684;supports&#x65B9;&#x6CD5;&#x3002;</p>
<h4 id="JwtToken"><a href="#JwtToken" class="headerlink" title="JwtToken"></a>JwtToken</h4><ul>
<li>com.markerhub.shiro.JwtToken</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">plain&#x590D;&#x5236;&#x4EE3;&#x7801;public class JwtToken implements AuthenticationToken {</span><br><span class="line">    private String token;</span><br><span class="line">    public JwtToken(String token) {</span><br><span class="line">        this.token = token;</span><br><span class="line">    }</span><br><span class="line">    @Override</span><br><span class="line">    public Object getPrincipal() {</span><br><span class="line">        return token;</span><br><span class="line">    }</span><br><span class="line">    @Override</span><br><span class="line">    public Object getCredentials() {</span><br><span class="line">        return token;</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></table></figure>

<p>2&#x3001;JwtUtils&#x662F;&#x4E2A;&#x751F;&#x6210;&#x548C;&#x6821;&#x9A8C;jwt&#x7684;&#x5DE5;&#x5177;&#x7C7B;&#xFF0C;&#x5176;&#x4E2D;&#x6709;&#x4E9B;jwt&#x76F8;&#x5173;&#x7684;&#x5BC6;&#x94A5;&#x4FE1;&#x606F;&#x662F;&#x4ECE;&#x9879;&#x76EE;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x4E2D;&#x914D;&#x7F6E;&#x7684;&#xFF1A;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">plain&#x590D;&#x5236;&#x4EE3;&#x7801;@Component</span><br><span class="line">@ConfigurationProperties(prefix = &quot;markerhub.jwt&quot;)</span><br><span class="line">public class JwtUtils {</span><br><span class="line">    private String secret;</span><br><span class="line">    private long expire;</span><br><span class="line">    private String header;</span><br><span class="line">    /**</span><br><span class="line">     * &#x751F;&#x6210;jwt token</span><br><span class="line">     */</span><br><span class="line">    public String generateToken(long userId) {</span><br><span class="line">    ...</span><br><span class="line">    }</span><br><span class="line">    </span><br><span class="line">    // &#x83B7;&#x53D6;jwt&#x7684;&#x4FE1;&#x606F;</span><br><span class="line">    public Claims getClaimByToken(String token) {</span><br><span class="line">    ...</span><br><span class="line">    }</span><br><span class="line">    </span><br><span class="line">    /**</span><br><span class="line">     * token&#x662F;&#x5426;&#x8FC7;&#x671F;</span><br><span class="line">     * @return  true&#xFF1A;&#x8FC7;&#x671F;</span><br><span class="line">     */</span><br><span class="line">    public boolean isTokenExpired(Date expiration) {</span><br><span class="line">        return expiration.before(new Date());</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></table></figure>

<p>3&#x3001;&#x800C;&#x5728;AccountRealm&#x6211;&#x4EEC;&#x8FD8;&#x7528;&#x5230;&#x4E86;AccountProfile&#xFF0C;&#x8FD9;&#x662F;&#x4E3A;&#x4E86;&#x767B;&#x5F55;&#x6210;&#x529F;&#x4E4B;&#x540E;&#x8FD4;&#x56DE;&#x7684;&#x4E00;&#x4E2A;&#x7528;&#x6237;&#x4FE1;&#x606F;&#x7684;&#x8F7D;&#x4F53;&#xFF0C;</p>
<h4 id="AccountProfile"><a href="#AccountProfile" class="headerlink" title="AccountProfile"></a>AccountProfile</h4><ul>
<li>com.markerhub.shiro.AccountProfile</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">plain&#x590D;&#x5236;&#x4EE3;&#x7801;@Data</span><br><span class="line">public class AccountProfile implements Serializable {</span><br><span class="line">    private Long id;</span><br><span class="line">    private String username;</span><br><span class="line">    private String avatar;</span><br><span class="line">}</span><br></pre></td></tr></table></figure>

<p>&#x7B2C;&#x4E09;&#x6B65;&#xFF0C;ok&#xFF0C;&#x57FA;&#x672C;&#x7684;&#x6821;&#x9A8C;&#x7684;&#x8DEF;&#x7EBF;&#x5B8C;&#x6210;&#x4E4B;&#x540E;&#xFF0C;&#x6211;&#x4EEC;&#x9700;&#x8981;&#x5C11;&#x91CF;&#x7684;&#x57FA;&#x672C;&#x4FE1;&#x606F;&#x914D;&#x7F6E;&#xFF1A;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">yaml&#x590D;&#x5236;&#x4EE3;&#x7801;shiro-redis:</span><br><span class="line">  enabled: true</span><br><span class="line">  redis-manager:</span><br><span class="line">    host: 127.0.0.1:6379</span><br><span class="line">markerhub:</span><br><span class="line">  jwt:</span><br><span class="line">    # &#x52A0;&#x5BC6;&#x79D8;&#x94A5;</span><br><span class="line">    secret: f4e2e52034348f86b67cde581c0f9eb5</span><br><span class="line">    # token&#x6709;&#x6548;&#x65F6;&#x957F;&#xFF0C;7&#x5929;&#xFF0C;&#x5355;&#x4F4D;&#x79D2;</span><br><span class="line">    expire: 604800</span><br><span class="line">    header: token</span><br></pre></td></tr></table></figure>

<p>&#x7B2C;&#x56DB;&#x6B65;&#xFF1A;&#x53E6;&#x5916;&#xFF0C;&#x5982;&#x679C;&#x4F60;&#x9879;&#x76EE;&#x6709;&#x4F7F;&#x7528;spring-boot-devtools&#xFF0C;&#x9700;&#x8981;&#x6DFB;&#x52A0;&#x4E00;&#x4E2A;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#xFF0C;&#x5728;resources&#x76EE;&#x5F55;&#x4E0B;&#x65B0;&#x5EFA;&#x6587;&#x4EF6;&#x5939;META-INF&#xFF0C;&#x7136;&#x540E;&#x65B0;&#x5EFA;&#x6587;&#x4EF6;spring-devtools.properties&#xFF0C;&#x8FD9;&#x6837;&#x70ED;&#x91CD;&#x542F;&#x65F6;&#x5019;&#x624D;&#x4E0D;&#x4F1A;&#x62A5;&#x9519;&#x3002;</p>
<ul>
<li>resources/META-INF/spring-devtools.properties</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ini&#x590D;&#x5236;&#x4EE3;&#x7801;restart.include.shiro-redis=/shiro-[\\w-\\.]+jar</span><br></pre></td></tr></table></figure>

<p><img src="https://gitee.com/songjianzaina/juejin_p7/raw/master/img/878146d4986c100f3f1389121ea153fc51440c06fc669f7bf723720840643409" alt="&#x56FE;&#x7247;"></p>
<h4 id="JwtFilter"><a href="#JwtFilter" class="headerlink" title="JwtFilter"></a>JwtFilter</h4><p>&#x7B2C;&#x4E94;&#x6B65;&#xFF1A;&#x5B9A;&#x4E49;jwt&#x7684;&#x8FC7;&#x6EE4;&#x5668;JwtFilter&#x3002;</p>
<p>&#x8FD9;&#x4E2A;&#x8FC7;&#x6EE4;&#x5668;&#x662F;&#x6211;&#x4EEC;&#x7684;&#x91CD;&#x70B9;&#xFF0C;&#x8FD9;&#x91CC;&#x6211;&#x4EEC;&#x7EE7;&#x627F;&#x7684;&#x662F;Shiro&#x5185;&#x7F6E;&#x7684;AuthenticatingFilter&#xFF0C;&#x4E00;&#x4E2A;&#x53EF;&#x4EE5;&#x5185;&#x7F6E;&#x4E86;&#x53EF;&#x4EE5;&#x81EA;&#x52A8;&#x767B;&#x5F55;&#x65B9;&#x6CD5;&#x7684;&#x7684;&#x8FC7;&#x6EE4;&#x5668;&#xFF0C;&#x6709;&#x4E9B;&#x540C;&#x5B66;&#x7EE7;&#x627F;BasicHttpAuthenticationFilter&#x4E5F;&#x662F;&#x53EF;&#x4EE5;&#x7684;&#x3002;</p>
<p>&#x6211;&#x4EEC;&#x9700;&#x8981;&#x91CD;&#x5199;&#x51E0;&#x4E2A;&#x65B9;&#x6CD5;&#xFF1A;</p>
<ol>
<li>createToken&#xFF1A;&#x5B9E;&#x73B0;&#x767B;&#x5F55;&#xFF0C;&#x6211;&#x4EEC;&#x9700;&#x8981;&#x751F;&#x6210;&#x6211;&#x4EEC;&#x81EA;&#x5B9A;&#x4E49;&#x652F;&#x6301;&#x7684;JwtToken</li>
<li>onAccessDenied&#xFF1A;&#x62E6;&#x622A;&#x6821;&#x9A8C;&#xFF0C;&#x5F53;&#x5934;&#x90E8;&#x6CA1;&#x6709;Authorization&#x65F6;&#x5019;&#xFF0C;&#x6211;&#x4EEC;&#x76F4;&#x63A5;&#x901A;&#x8FC7;&#xFF0C;&#x4E0D;&#x9700;&#x8981;&#x81EA;&#x52A8;&#x767B;&#x5F55;&#xFF1B;&#x5F53;&#x5E26;&#x6709;&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x9996;&#x5148;&#x6211;&#x4EEC;&#x6821;&#x9A8C;jwt&#x7684;&#x6709;&#x6548;&#x6027;&#xFF0C;&#x6CA1;&#x95EE;&#x9898;&#x6211;&#x4EEC;&#x5C31;&#x76F4;&#x63A5;&#x6267;&#x884C;executeLogin&#x65B9;&#x6CD5;&#x5B9E;&#x73B0;&#x81EA;&#x52A8;&#x767B;&#x5F55;</li>
<li>onLoginFailure&#xFF1A;&#x767B;&#x5F55;&#x5F02;&#x5E38;&#x65F6;&#x5019;&#x8FDB;&#x5165;&#x7684;&#x65B9;&#x6CD5;&#xFF0C;&#x6211;&#x4EEC;&#x76F4;&#x63A5;&#x628A;&#x5F02;&#x5E38;&#x4FE1;&#x606F;&#x5C01;&#x88C5;&#x7136;&#x540E;&#x629B;&#x51FA;</li>
<li>preHandle&#xFF1A;&#x62E6;&#x622A;&#x5668;&#x7684;&#x524D;&#x7F6E;&#x62E6;&#x622A;&#xFF0C;&#x56E0;&#x4E3A;&#x6211;&#x4EEC;&#x662F;&#x524D;&#x540E;&#x7AEF;&#x5206;&#x6790;&#x9879;&#x76EE;&#xFF0C;&#x9879;&#x76EE;&#x4E2D;&#x9664;&#x4E86;&#x9700;&#x8981;&#x8DE8;&#x57DF;&#x5168;&#x5C40;&#x914D;&#x7F6E;&#x4E4B;&#x5916;&#xFF0C;&#x6211;&#x4EEC;&#x518D;&#x62E6;&#x622A;&#x5668;&#x4E2D;&#x4E5F;&#x9700;&#x8981;&#x63D0;&#x4F9B;&#x8DE8;&#x57DF;&#x652F;&#x6301;&#x3002;&#x8FD9;&#x6837;&#xFF0C;&#x62E6;&#x622A;&#x5668;&#x624D;&#x4E0D;&#x4F1A;&#x5728;&#x8FDB;&#x5165;Controller&#x4E4B;&#x524D;&#x5C31;&#x88AB;&#x9650;&#x5236;&#x4E86;&#x3002;</li>
</ol>
<p>&#x4E0B;&#x9762;&#x6211;&#x4EEC;&#x770B;&#x770B;&#x603B;&#x4F53;&#x7684;&#x4EE3;&#x7801;&#xFF1A;</p>
<ul>
<li>com.markerhub.shiro.JwtFilter</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br></pre></td><td class="code"><pre><span class="line">plain&#x590D;&#x5236;&#x4EE3;&#x7801;@Component</span><br><span class="line">public class JwtFilter extends AuthenticatingFilter {</span><br><span class="line">    @Autowired</span><br><span class="line">    JwtUtils jwtUtils;</span><br><span class="line">    @Override</span><br><span class="line">    protected AuthenticationToken createToken(ServletRequest servletRequest, ServletResponse servletResponse) throws Exception {</span><br><span class="line">        // &#x83B7;&#x53D6; token</span><br><span class="line">        HttpServletRequest request = (HttpServletRequest) servletRequest;</span><br><span class="line">        String jwt = request.getHeader(&quot;Authorization&quot;);</span><br><span class="line">        if(StringUtils.isEmpty(jwt)){</span><br><span class="line">            return null;</span><br><span class="line">        }</span><br><span class="line">        return new JwtToken(jwt);</span><br><span class="line">    }</span><br><span class="line">    @Override</span><br><span class="line">    protected boolean onAccessDenied(ServletRequest servletRequest, ServletResponse servletResponse) throws Exception {</span><br><span class="line">        HttpServletRequest request = (HttpServletRequest) servletRequest;</span><br><span class="line">        String token = request.getHeader(&quot;Authorization&quot;);</span><br><span class="line">        if(StringUtils.isEmpty(token)) {</span><br><span class="line">            return true;</span><br><span class="line">        } else {</span><br><span class="line">            // &#x5224;&#x65AD;&#x662F;&#x5426;&#x5DF2;&#x8FC7;&#x671F;</span><br><span class="line">            Claims claim = jwtUtils.getClaimByToken(token);</span><br><span class="line">            if(claim == null || jwtUtils.isTokenExpired(claim.getExpiration())) {</span><br><span class="line">                throw new ExpiredCredentialsException(&quot;token&#x5DF2;&#x5931;&#x6548;&#xFF0C;&#x8BF7;&#x91CD;&#x65B0;&#x767B;&#x5F55;&#xFF01;&quot;);</span><br><span class="line">            }</span><br><span class="line">        }</span><br><span class="line">        // &#x6267;&#x884C;&#x81EA;&#x52A8;&#x767B;&#x5F55;</span><br><span class="line">        return executeLogin(servletRequest, servletResponse);</span><br><span class="line">    }</span><br><span class="line">    @Override</span><br><span class="line">    protected boolean onLoginFailure(AuthenticationToken token, AuthenticationException e, ServletRequest request, ServletResponse response) {</span><br><span class="line">        HttpServletResponse httpResponse = (HttpServletResponse) response;</span><br><span class="line">        try {</span><br><span class="line">            //&#x5904;&#x7406;&#x767B;&#x5F55;&#x5931;&#x8D25;&#x7684;&#x5F02;&#x5E38;</span><br><span class="line">            Throwable throwable = e.getCause() == null ? e : e.getCause();</span><br><span class="line">            Result r = Result.fail(throwable.getMessage());</span><br><span class="line">            String json = JSONUtil.toJsonStr(r);</span><br><span class="line">            httpResponse.getWriter().print(json);</span><br><span class="line">        } catch (IOException e1) {</span><br><span class="line">        }</span><br><span class="line">        return false;</span><br><span class="line">    }</span><br><span class="line">    /**</span><br><span class="line">     * &#x5BF9;&#x8DE8;&#x57DF;&#x63D0;&#x4F9B;&#x652F;&#x6301;</span><br><span class="line">     */</span><br><span class="line">    @Override</span><br><span class="line">    protected boolean preHandle(ServletRequest request, ServletResponse response) throws Exception {</span><br><span class="line">        HttpServletRequest httpServletRequest = WebUtils.toHttp(request);</span><br><span class="line">        HttpServletResponse httpServletResponse = WebUtils.toHttp(response);</span><br><span class="line">        httpServletResponse.setHeader(&quot;Access-control-Allow-Origin&quot;, httpServletRequest.getHeader(&quot;Origin&quot;));</span><br><span class="line">        httpServletResponse.setHeader(&quot;Access-Control-Allow-Methods&quot;, &quot;GET,POST,OPTIONS,PUT,DELETE&quot;);</span><br><span class="line">        httpServletResponse.setHeader(&quot;Access-Control-Allow-Headers&quot;, httpServletRequest.getHeader(&quot;Access-Control-Request-Headers&quot;));</span><br><span class="line">        // &#x8DE8;&#x57DF;&#x65F6;&#x4F1A;&#x9996;&#x5148;&#x53D1;&#x9001;&#x4E00;&#x4E2A;OPTIONS&#x8BF7;&#x6C42;&#xFF0C;&#x8FD9;&#x91CC;&#x6211;&#x4EEC;&#x7ED9;OPTIONS&#x8BF7;&#x6C42;&#x76F4;&#x63A5;&#x8FD4;&#x56DE;&#x6B63;&#x5E38;&#x72B6;&#x6001;</span><br><span class="line">        if (httpServletRequest.getMethod().equals(RequestMethod.OPTIONS.name())) {</span><br><span class="line">            httpServletResponse.setStatus(org.springframework.http.HttpStatus.OK.value());</span><br><span class="line">            return false;</span><br><span class="line">        }</span><br><span class="line">        return super.preHandle(request, response);</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></table></figure>

<p>&#x90A3;&#x4E48;&#x5230;&#x8FD9;&#x91CC;&#xFF0C;&#x6211;&#x4EEC;&#x7684;shiro&#x5C31;&#x5DF2;&#x7ECF;&#x5B8C;&#x6210;&#x6574;&#x5408;&#x8FDB;&#x6765;&#x4E86;&#xFF0C;&#x5E76;&#x4E14;&#x4F7F;&#x7528;&#x4E86;jwt&#x8FDB;&#x884C;&#x8EAB;&#x4EFD;&#x6821;&#x9A8C;&#x3002;</p>
<h3 id="5&#x3001;&#x5F02;&#x5E38;&#x5904;&#x7406;"><a href="#5&#x3001;&#x5F02;&#x5E38;&#x5904;&#x7406;" class="headerlink" title="5&#x3001;&#x5F02;&#x5E38;&#x5904;&#x7406;"></a>5&#x3001;&#x5F02;&#x5E38;&#x5904;&#x7406;</h3><p>&#x6709;&#x65F6;&#x5019;&#x4E0D;&#x53EF;&#x907F;&#x514D;&#x670D;&#x52A1;&#x5668;&#x62A5;&#x9519;&#x7684;&#x60C5;&#x51B5;&#xFF0C;&#x5982;&#x679C;&#x4E0D;&#x914D;&#x7F6E;&#x5F02;&#x5E38;&#x5904;&#x7406;&#x673A;&#x5236;&#xFF0C;&#x5C31;&#x4F1A;&#x9ED8;&#x8BA4;&#x8FD4;&#x56DE;tomcat&#x6216;&#x8005;nginx&#x7684;5XX&#x9875;&#x9762;&#xFF0C;&#x5BF9;&#x666E;&#x901A;&#x7528;&#x6237;&#x6765;&#x8BF4;&#xFF0C;&#x4E0D;&#x592A;&#x53CB;&#x597D;&#xFF0C;&#x7528;&#x6237;&#x4E5F;&#x4E0D;&#x61C2;&#x4EC0;&#x4E48;&#x60C5;&#x51B5;&#x3002;&#x8FD9;&#x65F6;&#x5019;&#x9700;&#x8981;&#x6211;&#x4EEC;&#x7A0B;&#x5E8F;&#x5458;&#x8BBE;&#x8BA1;&#x8FD4;&#x56DE;&#x4E00;&#x4E2A;&#x53CB;&#x597D;&#x7B80;&#x5355;&#x7684;&#x683C;&#x5F0F;&#x7ED9;&#x524D;&#x7AEF;&#x3002;</p>
<p>&#x5904;&#x7406;&#x529E;&#x6CD5;&#x5982;&#x4E0B;&#xFF1A;&#x901A;&#x8FC7;&#x4F7F;&#x7528;@ControllerAdvice&#x6765;&#x8FDB;&#x884C;&#x7EDF;&#x4E00;&#x5F02;&#x5E38;&#x5904;&#x7406;&#xFF0C;@ExceptionHandler(value = RuntimeException.class)&#x6765;&#x6307;&#x5B9A;&#x6355;&#x83B7;&#x7684;Exception&#x5404;&#x4E2A;&#x7C7B;&#x578B;&#x5F02;&#x5E38; &#xFF0C;&#x8FD9;&#x4E2A;&#x5F02;&#x5E38;&#x7684;&#x5904;&#x7406;&#xFF0C;&#x662F;&#x5168;&#x5C40;&#x7684;&#xFF0C;&#x6240;&#x6709;&#x7C7B;&#x4F3C;&#x7684;&#x5F02;&#x5E38;&#xFF0C;&#x90FD;&#x4F1A;&#x8DD1;&#x5230;&#x8FD9;&#x4E2A;&#x5730;&#x65B9;&#x5904;&#x7406;&#x3002;</p>
<ul>
<li>com.markerhub.common.exception.GlobalExceptionHandler</li>
</ul>
<p>&#x6B65;&#x9AA4;&#x4E8C;&#x3001;&#x5B9A;&#x4E49;&#x5168;&#x5C40;&#x5F02;&#x5E38;&#x5904;&#x7406;&#xFF0C;@ControllerAdvice&#x8868;&#x793A;&#x5B9A;&#x4E49;&#x5168;&#x5C40;&#x63A7;&#x5236;&#x5668;&#x5F02;&#x5E38;&#x5904;&#x7406;&#xFF0C;@ExceptionHandler&#x8868;&#x793A;&#x9488;&#x5BF9;&#x6027;&#x5F02;&#x5E38;&#x5904;&#x7406;&#xFF0C;&#x53EF;&#x5BF9;&#x6BCF;&#x79CD;&#x5F02;&#x5E38;&#x9488;&#x5BF9;&#x6027;&#x5904;&#x7406;&#x3002;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line">java&#x590D;&#x5236;&#x4EE3;&#x7801;/**</span><br><span class="line"> * &#x5168;&#x5C40;&#x5F02;&#x5E38;&#x5904;&#x7406;</span><br><span class="line"> */</span><br><span class="line">@Slf4j</span><br><span class="line">@RestControllerAdvice</span><br><span class="line">public class GlobalExcepitonHandler {</span><br><span class="line">    // &#x6355;&#x6349;shiro&#x7684;&#x5F02;&#x5E38;</span><br><span class="line">    @ResponseStatus(HttpStatus.UNAUTHORIZED)</span><br><span class="line">    @ExceptionHandler(ShiroException.class)</span><br><span class="line">    public Result handle401(ShiroException e) {</span><br><span class="line">        return Result.fail(401, e.getMessage(), null);</span><br><span class="line">    }</span><br><span class="line">    /**</span><br><span class="line">     * &#x5904;&#x7406;Assert&#x7684;&#x5F02;&#x5E38;</span><br><span class="line">     */</span><br><span class="line">    @ResponseStatus(HttpStatus.BAD_REQUEST)</span><br><span class="line">    @ExceptionHandler(value = IllegalArgumentException.class)</span><br><span class="line">    public Result handler(IllegalArgumentException e) throws IOException {</span><br><span class="line">        log.error(&quot;Assert&#x5F02;&#x5E38;:--------------&gt;{}&quot;,e.getMessage());</span><br><span class="line">        return Result.fail(e.getMessage());</span><br><span class="line">    }</span><br><span class="line">    /**</span><br><span class="line">     * @Validated &#x6821;&#x9A8C;&#x9519;&#x8BEF;&#x5F02;&#x5E38;&#x5904;&#x7406;</span><br><span class="line">     */</span><br><span class="line">    @ResponseStatus(HttpStatus.BAD_REQUEST)</span><br><span class="line">    @ExceptionHandler(value = MethodArgumentNotValidException.class)</span><br><span class="line">    public Result handler(MethodArgumentNotValidException e) throws IOException {</span><br><span class="line">        log.error(&quot;&#x8FD0;&#x884C;&#x65F6;&#x5F02;&#x5E38;:--------------&gt;&quot;,e);</span><br><span class="line">        BindingResult bindingResult = e.getBindingResult();</span><br><span class="line">        ObjectError objectError = bindingResult.getAllErrors().stream().findFirst().get();</span><br><span class="line">        return Result.fail(objectError.getDefaultMessage());</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    @ResponseStatus(HttpStatus.BAD_REQUEST)</span><br><span class="line">    @ExceptionHandler(value = RuntimeException.class)</span><br><span class="line">    public Result handler(RuntimeException e) throws IOException {</span><br><span class="line">        log.error(&quot;&#x8FD0;&#x884C;&#x65F6;&#x5F02;&#x5E38;:--------------&gt;&quot;,e);</span><br><span class="line">        return Result.fail(e.getMessage());</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></table></figure>

<p>&#x4E0A;&#x9762;&#x6211;&#x4EEC;&#x6355;&#x6349;&#x4E86;&#x51E0;&#x4E2A;&#x5F02;&#x5E38;&#xFF1A;</p>
<ul>
<li>ShiroException&#xFF1A;shiro&#x629B;&#x51FA;&#x7684;&#x5F02;&#x5E38;&#xFF0C;&#x6BD4;&#x5982;&#x6CA1;&#x6709;&#x6743;&#x9650;&#xFF0C;&#x7528;&#x6237;&#x767B;&#x5F55;&#x5F02;&#x5E38;</li>
<li>IllegalArgumentException&#xFF1A;&#x5904;&#x7406;Assert&#x7684;&#x5F02;&#x5E38;</li>
<li>MethodArgumentNotValidException&#xFF1A;&#x5904;&#x7406;&#x5B9E;&#x4F53;&#x6821;&#x9A8C;&#x7684;&#x5F02;&#x5E38;</li>
<li>RuntimeException&#xFF1A;&#x6355;&#x6349;&#x5176;&#x4ED6;&#x5F02;&#x5E38;</li>
</ul>
<h3 id="6&#x3001;&#x5B9E;&#x4F53;&#x6821;&#x9A8C;"><a href="#6&#x3001;&#x5B9E;&#x4F53;&#x6821;&#x9A8C;" class="headerlink" title="6&#x3001;&#x5B9E;&#x4F53;&#x6821;&#x9A8C;"></a>6&#x3001;&#x5B9E;&#x4F53;&#x6821;&#x9A8C;</h3><p>&#x5F53;&#x6211;&#x4EEC;&#x8868;&#x5355;&#x6570;&#x636E;&#x63D0;&#x4EA4;&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x524D;&#x7AEF;&#x7684;&#x6821;&#x9A8C;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#x4E00;&#x4E9B;&#x7C7B;&#x4F3C;&#x4E8E;jQuery Validate&#x7B49;js&#x63D2;&#x4EF6;&#x5B9E;&#x73B0;&#xFF0C;&#x800C;&#x540E;&#x7AEF;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;Hibernate validatior&#x6765;&#x505A;&#x6821;&#x9A8C;&#x3002;</p>
<p>&#x6211;&#x4EEC;&#x4F7F;&#x7528;springboot&#x6846;&#x67B6;&#x4F5C;&#x4E3A;&#x57FA;&#x7840;&#xFF0C;&#x90A3;&#x4E48;&#x5C31;&#x5DF2;&#x7ECF;&#x81EA;&#x52A8;&#x96C6;&#x6210;&#x4E86;Hibernate validatior&#x3002;</p>
<p>&#x90A3;&#x4E48;&#x7528;&#x8D77;&#x6765;&#x5565;&#x6837;&#x5B50;&#x7684;&#x5462;&#xFF1F;</p>
<p>&#x7B2C;&#x4E00;&#x6B65;&#xFF1A;&#x9996;&#x5148;&#x5728;&#x5B9E;&#x4F53;&#x7684;&#x5C5E;&#x6027;&#x4E0A;&#x6DFB;&#x52A0;&#x5BF9;&#x5E94;&#x7684;&#x6821;&#x9A8C;&#x89C4;&#x5219;&#xFF0C;&#x6BD4;&#x5982;&#xFF1A;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">kotlin&#x590D;&#x5236;&#x4EE3;&#x7801;@TableName(&quot;m_user&quot;)</span><br><span class="line">public class User implements Serializable {</span><br><span class="line">    private static final long serialVersionUID = 1L;</span><br><span class="line">    @TableId(value = &quot;id&quot;, type = IdType.AUTO)</span><br><span class="line">    private Long id;</span><br><span class="line">    @NotBlank(message = &quot;&#x6635;&#x79F0;&#x4E0D;&#x80FD;&#x4E3A;&#x7A7A;&quot;)</span><br><span class="line">    private String username;</span><br><span class="line">    @NotBlank(message = &quot;&#x90AE;&#x7BB1;&#x4E0D;&#x80FD;&#x4E3A;&#x7A7A;&quot;)</span><br><span class="line">    @Email(message = &quot;&#x90AE;&#x7BB1;&#x683C;&#x5F0F;&#x4E0D;&#x6B63;&#x786E;&quot;)</span><br><span class="line">    private String email;</span><br><span class="line">    </span><br><span class="line">    ...</span><br><span class="line">}</span><br></pre></td></tr></table></figure>

<p>&#x7B2C;&#x4E8C;&#x6B65; &#xFF1A;&#x8FD9;&#x91CC;&#x6211;&#x4EEC;&#x4F7F;&#x7528;@Validated&#x6CE8;&#x89E3;&#x65B9;&#x5F0F;&#xFF0C;&#x5982;&#x679C;&#x5B9E;&#x4F53;&#x4E0D;&#x7B26;&#x5408;&#x8981;&#x6C42;&#xFF0C;&#x7CFB;&#x7EDF;&#x4F1A;&#x629B;&#x51FA;&#x5F02;&#x5E38;&#xFF0C;&#x90A3;&#x4E48;&#x6211;&#x4EEC;&#x7684;&#x5F02;&#x5E38;&#x5904;&#x7406;&#x4E2D;&#x5C31;&#x6355;&#x83B7;&#x5230;MethodArgumentNotValidException&#x3002;</p>
<ul>
<li>com.markerhub.controller.UserController</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">less&#x590D;&#x5236;&#x4EE3;&#x7801;/**</span><br><span class="line"> * &#x6D4B;&#x8BD5;&#x5B9E;&#x4F53;&#x6821;&#x9A8C;</span><br><span class="line"> * @param user</span><br><span class="line"> * @return</span><br><span class="line"> */</span><br><span class="line">@PostMapping(&quot;/save&quot;)</span><br><span class="line">public Object testUser(@Validated @RequestBody User user) {</span><br><span class="line">    return user.toString();</span><br><span class="line">}</span><br></pre></td></tr></table></figure>

<h3 id="7&#x3001;&#x8DE8;&#x57DF;&#x95EE;&#x9898;"><a href="#7&#x3001;&#x8DE8;&#x57DF;&#x95EE;&#x9898;" class="headerlink" title="7&#x3001;&#x8DE8;&#x57DF;&#x95EE;&#x9898;"></a>7&#x3001;&#x8DE8;&#x57DF;&#x95EE;&#x9898;</h3><p>&#x56E0;&#x4E3A;&#x662F;&#x524D;&#x540E;&#x7AEF;&#x5206;&#x6790;&#xFF0C;&#x6240;&#x4EE5;&#x8DE8;&#x57DF;&#x95EE;&#x9898;&#x662F;&#x907F;&#x514D;&#x4E0D;&#x4E86;&#x7684;&#xFF0C;&#x6211;&#x4EEC;&#x76F4;&#x63A5;&#x5728;&#x540E;&#x53F0;&#x8FDB;&#x884C;&#x5168;&#x5C40;&#x8DE8;&#x57DF;&#x5904;&#x7406;&#xFF1A;</p>
<ul>
<li>com.markerhub.config.CorsConfig</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">plain&#x590D;&#x5236;&#x4EE3;&#x7801;/**</span><br><span class="line"> * &#x89E3;&#x51B3;&#x8DE8;&#x57DF;&#x95EE;&#x9898;</span><br><span class="line"> */</span><br><span class="line">@Configuration</span><br><span class="line">public class CorsConfig implements WebMvcConfigurer {</span><br><span class="line">    @Override</span><br><span class="line">    public void addCorsMappings(CorsRegistry registry) {</span><br><span class="line">        registry.addMapping(&quot;/**&quot;)</span><br><span class="line">                .allowedOrigins(&quot;*&quot;)</span><br><span class="line">                .allowedMethods(&quot;GET&quot;, &quot;HEAD&quot;, &quot;POST&quot;, &quot;PUT&quot;, &quot;DELETE&quot;, &quot;OPTIONS&quot;)</span><br><span class="line">                .allowCredentials(true)</span><br><span class="line">                .maxAge(3600)</span><br><span class="line">                .allowedHeaders(&quot;*&quot;);</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></table></figure>

<p>ok&#xFF0C;&#x56E0;&#x4E3A;&#x6211;&#x4EEC;&#x7CFB;&#x7EDF;&#x5F00;&#x53D1;&#x7684;&#x63A5;&#x53E3;&#x6BD4;&#x8F83;&#x7B80;&#x5355;&#xFF0C;&#x6240;&#x4EE5;&#x6211;&#x5C31;&#x4E0D;&#x96C6;&#x6210;swagger2&#x5566;&#xFF0C;&#x4E5F;&#x6BD4;&#x8F83;&#x7B80;&#x5355;&#x800C;&#x5DF2;&#x3002;&#x4E0B;&#x9762;&#x6211;&#x4EEC;&#x5C31;&#x76F4;&#x63A5;&#x8FDB;&#x5165;&#x6211;&#x4EEC;&#x7684;&#x6B63;&#x9898;&#xFF0C;&#x8FDB;&#x884C;&#x7F16;&#x5199;&#x767B;&#x5F55;&#x63A5;&#x53E3;&#x3002;</p>
<h3 id="8&#x3001;&#x767B;&#x5F55;&#x63A5;&#x53E3;&#x5F00;&#x53D1;"><a href="#8&#x3001;&#x767B;&#x5F55;&#x63A5;&#x53E3;&#x5F00;&#x53D1;" class="headerlink" title="8&#x3001;&#x767B;&#x5F55;&#x63A5;&#x53E3;&#x5F00;&#x53D1;"></a>8&#x3001;&#x767B;&#x5F55;&#x63A5;&#x53E3;&#x5F00;&#x53D1;</h3><p>&#x767B;&#x5F55;&#x7684;&#x903B;&#x8F91;&#x5176;&#x5B9E;&#x5F88;&#x7B80;&#x7B54;&#xFF0C;&#x53EA;&#x9700;&#x8981;&#x63A5;&#x53D7;&#x8D26;&#x53F7;&#x5BC6;&#x7801;&#xFF0C;&#x7136;&#x540E;&#x628A;&#x7528;&#x6237;&#x7684;id&#x751F;&#x6210;jwt&#xFF0C;&#x8FD4;&#x56DE;&#x7ED9;&#x524D;&#x6BB5;&#xFF0C;&#x4E3A;&#x4E86;&#x540E;&#x7EED;&#x7684;jwt&#x7684;&#x5EF6;&#x671F;&#xFF0C;&#x6240;&#x4EE5;&#x6211;&#x4EEC;&#x628A;jwt&#x653E;&#x5728;header&#x4E0A;&#x3002;&#x5177;&#x4F53;&#x4EE3;&#x7801;&#x5982;&#x4E0B;&#xFF1A;</p>
<ul>
<li>com.markerhub.controller.AccountController</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line">plain&#x590D;&#x5236;&#x4EE3;&#x7801;@RestController</span><br><span class="line">public class AccountController {</span><br><span class="line">    @Autowired</span><br><span class="line">    JwtUtils jwtUtils;</span><br><span class="line">    @Autowired</span><br><span class="line">    UserService userService;</span><br><span class="line">    /**</span><br><span class="line">     * &#x9ED8;&#x8BA4;&#x8D26;&#x53F7;&#x5BC6;&#x7801;&#xFF1A;markerhub / 111111</span><br><span class="line">     *</span><br><span class="line">     */</span><br><span class="line">    @CrossOrigin</span><br><span class="line">    @PostMapping(&quot;/login&quot;)</span><br><span class="line">    public Result login(@Validated @RequestBody LoginDto loginDto, HttpServletResponse response) {</span><br><span class="line">        User user = userService.getOne(new QueryWrapper&lt;User&gt;().eq(&quot;username&quot;, loginDto.getUsername()));</span><br><span class="line">        Assert.notNull(user, &quot;&#x7528;&#x6237;&#x4E0D;&#x5B58;&#x5728;&quot;);</span><br><span class="line">        if(!user.getPassword().equals(SecureUtil.md5(loginDto.getPassword()))) {</span><br><span class="line">            return Result.fail(&quot;&#x5BC6;&#x7801;&#x9519;&#x8BEF;&#xFF01;&quot;);</span><br><span class="line">        }</span><br><span class="line">        String jwt = jwtUtils.generateToken(user.getId());</span><br><span class="line">        response.setHeader(&quot;Authorization&quot;, jwt);</span><br><span class="line">        response.setHeader(&quot;Access-Control-Expose-Headers&quot;, &quot;Authorization&quot;);</span><br><span class="line">        // &#x7528;&#x6237;&#x53EF;&#x4EE5;&#x53E6;&#x4E00;&#x4E2A;&#x63A5;&#x53E3;</span><br><span class="line">        return Result.succ(MapUtil.builder()</span><br><span class="line">                .put(&quot;id&quot;, user.getId())</span><br><span class="line">                .put(&quot;username&quot;, user.getUsername())</span><br><span class="line">                .put(&quot;avatar&quot;, user.getAvatar())</span><br><span class="line">                .put(&quot;email&quot;, user.getEmail())</span><br><span class="line">                .map()</span><br><span class="line">        );</span><br><span class="line">    }</span><br><span class="line">    </span><br><span class="line">    // &#x9000;&#x51FA;</span><br><span class="line">    @GetMapping(&quot;/logout&quot;)</span><br><span class="line">    @RequiresAuthentication</span><br><span class="line">    public Result logout() {</span><br><span class="line">        SecurityUtils.getSubject().logout();</span><br><span class="line">        return Result.succ(null);</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></table></figure>

<p>&#x63A5;&#x53E3;&#x6D4B;&#x8BD5;&#xFF1A;<br><img src="https://gitee.com/songjianzaina/juejin_p7/raw/master/img/773856b6be76b4cc1b98e60868adc86fb5c037a7126091260501071c27caddb1" alt="&#x56FE;&#x7247;"></p>
<h3 id="9&#x3001;&#x535A;&#x5BA2;&#x63A5;&#x53E3;&#x5F00;&#x53D1;"><a href="#9&#x3001;&#x535A;&#x5BA2;&#x63A5;&#x53E3;&#x5F00;&#x53D1;" class="headerlink" title="9&#x3001;&#x535A;&#x5BA2;&#x63A5;&#x53E3;&#x5F00;&#x53D1;"></a>9&#x3001;&#x535A;&#x5BA2;&#x63A5;&#x53E3;&#x5F00;&#x53D1;</h3><p>&#x6211;&#x4EEC;&#x7684;&#x9AA8;&#x67B6;&#x5DF2;&#x7ECF;&#x5B8C;&#x6210;&#xFF0C;&#x63A5;&#x4E0B;&#x6765;&#xFF0C;&#x6211;&#x4EEC;&#x5C31;&#x53EF;&#x4EE5;&#x6DFB;&#x52A0;&#x6211;&#x4EEC;&#x7684;&#x4E1A;&#x52A1;&#x63A5;&#x53E3;&#x4E86;&#xFF0C;&#x4E0B;&#x9762;&#x6211;&#x4EE5;&#x4E00;&#x4E2A;&#x7B80;&#x5355;&#x7684;&#x535A;&#x5BA2;&#x5217;&#x8868;&#x3001;&#x535A;&#x5BA2;&#x8BE6;&#x60C5;&#x9875;&#x4E3A;&#x4F8B;&#x5B50;&#x5F00;&#x53D1;&#xFF1A;</p>
<ul>
<li>com.markerhub.controller.BlogController</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line">plain&#x590D;&#x5236;&#x4EE3;&#x7801;@RestController</span><br><span class="line">public class BlogController {</span><br><span class="line">    @Autowired</span><br><span class="line">    BlogService blogService;</span><br><span class="line">    @GetMapping(&quot;/blogs&quot;)</span><br><span class="line">    public Result blogs(Integer currentPage) {</span><br><span class="line">        if(currentPage == null || currentPage &lt; 1) currentPage = 1;</span><br><span class="line">        Page page = new Page(currentPage, 5)</span><br><span class="line">        IPage pageData = blogService.page(page, new QueryWrapper&lt;Blog&gt;().orderByDesc(&quot;created&quot;));</span><br><span class="line">        return Result.succ(pageData);</span><br><span class="line">    }</span><br><span class="line">    @GetMapping(&quot;/blog/{id}&quot;)</span><br><span class="line">    public Result detail(@PathVariable(name = &quot;id&quot;) Long id) {</span><br><span class="line">        Blog blog = blogService.getById(id);</span><br><span class="line">        Assert.notNull(blog, &quot;&#x8BE5;&#x535A;&#x5BA2;&#x5DF2;&#x5220;&#x9664;&#xFF01;&quot;);</span><br><span class="line">        return Result.succ(blog);</span><br><span class="line">    }</span><br><span class="line">    </span><br><span class="line">    @RequiresAuthentication</span><br><span class="line">@PostMapping(&quot;/blog/edit&quot;)</span><br><span class="line">public Result edit(@Validated @RequestBody Blog blog) {</span><br><span class="line">    System.out.println(blog.toString());</span><br><span class="line">    Blog temp = null;</span><br><span class="line">    if(blog.getId() != null) {</span><br><span class="line">        temp = blogService.getById(blog.getId());</span><br><span class="line">        Assert.isTrue(temp.getUserId() == ShiroUtil.getProfile().getId(), &quot;&#x6CA1;&#x6709;&#x6743;&#x9650;&#x7F16;&#x8F91;&quot;);</span><br><span class="line">    } else {</span><br><span class="line">        temp = new Blog();</span><br><span class="line">        temp.setUserId(ShiroUtil.getProfile().getId());</span><br><span class="line">        temp.setCreated(LocalDateTime.now());</span><br><span class="line">        temp.setStatus(0);</span><br><span class="line">    }</span><br><span class="line">    BeanUtil.copyProperties(blog, temp, &quot;id&quot;, &quot;userId&quot;, &quot;created&quot;, &quot;status&quot;);</span><br><span class="line">    blogService.saveOrUpdate(temp);</span><br><span class="line">    return Result.succ(&quot;&#x64CD;&#x4F5C;&#x6210;&#x529F;&quot;, null);</span><br><span class="line">}</span><br><span class="line">}</span><br></pre></td></tr></table></figure>

<p>&#x6CE8;&#x610F;@RequiresAuthentication&#x8BF4;&#x660E;&#x9700;&#x8981;&#x767B;&#x5F55;&#x4E4B;&#x540E;&#x624D;&#x80FD;&#x8BBF;&#x95EE;&#x7684;&#x63A5;&#x53E3;&#xFF0C;&#x5176;&#x4ED6;&#x9700;&#x8981;&#x6743;&#x9650;&#x7684;&#x63A5;&#x53E3;&#x53EF;&#x4EE5;&#x6DFB;&#x52A0;shiro&#x7684;&#x76F8;&#x5173;&#x6CE8;&#x89E3;&#x3002;<br>&#x63A5;&#x53E3;&#x6BD4;&#x8F83;&#x7B80;&#x5355;&#xFF0C;&#x6211;&#x4EEC;&#x5C31;&#x4E0D;&#x591A;&#x8BF4;&#x4E86;&#xFF0C;&#x57FA;&#x672C;&#x589E;&#x5220;&#x6539;&#x67E5;&#x800C;&#x5DF2;&#x3002;&#x6CE8;&#x610F;&#x7684;&#x662F;edit&#x65B9;&#x6CD5;&#x662F;&#x9700;&#x8981;&#x767B;&#x5F55;&#x624D;&#x80FD;&#x64CD;&#x4F5C;&#x7684;&#x53D7;&#x9650;&#x8D44;&#x6E90;&#x3002;</p>
<p>&#x63A5;&#x53E3;&#x6D4B;&#x8BD5;&#xFF1A;</p>
<p><img src="https://gitee.com/songjianzaina/juejin_p7/raw/master/img/14720e97000f5f8cc0804f4e2356080664240219cf7e5adc0179c202a1617a61" alt="&#x56FE;&#x7247;"></p>
<h3 id="10&#x3001;&#x540E;&#x7AEF;&#x603B;&#x7ED3;"><a href="#10&#x3001;&#x540E;&#x7AEF;&#x603B;&#x7ED3;" class="headerlink" title="10&#x3001;&#x540E;&#x7AEF;&#x603B;&#x7ED3;"></a>10&#x3001;&#x540E;&#x7AEF;&#x603B;&#x7ED3;</h3><p>&#x597D;&#x4E86;&#xFF0C;&#x4E00;&#x7BC7;&#x6587;&#x7AE0;&#x641E;&#x5B9A;&#x4E00;&#x4E2A;&#x57FA;&#x672C;&#x9AA8;&#x67B6;&#xFF0C;&#x597D;&#x50CF;&#x6709;&#x70B9;&#x8D76;&#xFF0C;&#x4F46;&#x662F;&#x57FA;&#x672C;&#x7684;&#x4E1C;&#x897F;&#x8FD9;&#x91CC;&#x5DF2;&#x7ECF;&#x6709;&#x4E86;&#x3002;&#x540E;&#x9762;&#x6211;&#x4EEC;&#x5C31;&#x8981;&#x53BB;&#x5F00;&#x53D1;&#x6211;&#x4EEC;&#x7684;&#x524D;&#x7AEF;&#x63A5;&#x53E3;&#x4E86;&#x3002;</p>
<p>&#x9879;&#x76EE;&#x89C6;&#x9891;&#xFF1A;<a href="/external_links/ee2628e8e383ef57188cf91d88acc4cf.html" target="blank" rel="noopener">www.bilibili.com/video/BV1PQ&#x2026;</a></p>
<h2 id="Vue&#x524D;&#x7AEF;&#x9875;&#x9762;&#x5F00;&#x53D1;"><a href="#Vue&#x524D;&#x7AEF;&#x9875;&#x9762;&#x5F00;&#x53D1;" class="headerlink" title="Vue&#x524D;&#x7AEF;&#x9875;&#x9762;&#x5F00;&#x53D1;"></a>Vue&#x524D;&#x7AEF;&#x9875;&#x9762;&#x5F00;&#x53D1;</h2><h3 id="1&#x3001;&#x524D;&#x8A00;-1"><a href="#1&#x3001;&#x524D;&#x8A00;-1" class="headerlink" title="1&#x3001;&#x524D;&#x8A00;"></a>1&#x3001;&#x524D;&#x8A00;</h3><p>&#x63A5;&#x4E0B;&#x6765;&#xFF0C;&#x6211;&#x4EEC;&#x6765;&#x5B8C;&#x6210;vueblog&#x524D;&#x7AEF;&#x7684;&#x90E8;&#x5206;&#x529F;&#x80FD;&#x3002;&#x53EF;&#x80FD;&#x4F1A;&#x4F7F;&#x7528;&#x7684;&#x5230;&#x6280;&#x672F;&#x5982;&#x4E0B;&#xFF1A;</p>
<ul>
<li>vue</li>
<li>element-ui</li>
<li>axios</li>
<li>mavon-editor</li>
<li>markdown-it</li>
<li>github-markdown-css</li>
</ul>
<p>&#x672C;&#x9879;&#x76EE;&#x5B9E;&#x8DF5;&#x9700;&#x8981;&#x4E00;&#x70B9;&#x70B9;vue&#x7684;&#x57FA;&#x7840;&#xFF0C;&#x5E0C;&#x671B;&#x4F60;&#x5BF9;vue&#x7684;&#x4E00;&#x4E9B;&#x6307;&#x4EE4;&#x6709;&#x6240;&#x4E86;&#x89E3;&#xFF0C;&#x8FD9;&#x6837;&#x6211;&#x4EEC;&#x8BB2;&#x89E3;&#x8D77;&#x6765;&#x5C31;&#x7B80;&#x5355;&#x591A;&#x4E86;&#x54C8;&#x3002;</p>
<h3 id="2&#x3001;&#x9879;&#x76EE;&#x6F14;&#x793A;"><a href="#2&#x3001;&#x9879;&#x76EE;&#x6F14;&#x793A;" class="headerlink" title="2&#x3001;&#x9879;&#x76EE;&#x6F14;&#x793A;"></a>2&#x3001;&#x9879;&#x76EE;&#x6F14;&#x793A;</h3><p>&#x6211;&#x4EEC;&#x5148;&#x6765;&#x770B;&#x4E0B;&#x6211;&#x4EEC;&#x9700;&#x8981;&#x5B8C;&#x6210;&#x7684;&#x9879;&#x76EE;&#x957F;&#x4EC0;&#x4E48;&#x6837;&#x5B50;&#xFF0C;&#x8003;&#x8651;&#x5230;&#x5F88;&#x591A;&#x540C;&#x5B66;&#x7684;&#x6837;&#x5F0F;&#x7684;&#x638C;&#x63E1;&#x7A0B;&#x5EA6;&#x4E0D;&#x591F;&#xFF0C;&#x6240;&#x4EE5;&#x6211;&#x5C3D;&#x91CF;&#x4F7F;&#x7528;&#x4E86;element-ui&#x7684;&#x539F;&#x751F;&#x7EC4;&#x4EF6;&#x7684;&#x6837;&#x5F0F;&#x6765;&#x5B8C;&#x6210;&#x6574;&#x4E2A;&#x535A;&#x5BA2;&#x7684;&#x754C;&#x9762;&#x3002;&#x4E0D;&#x591A;&#x8BF4;&#xFF0C;&#x76F4;&#x63A5;&#x4E0A;&#x56FE;&#xFF1A;</p>
<p>&#x5728;&#x7EBF;&#x4F53;&#x9A8C;&#xFF1A;<a href="/external_links/f8757b6a3ba5eb79143c818106b3906a.html" target="blank" rel="noopener">markerhub.com:8083</a></p>
<p><img src="https://gitee.com/songjianzaina/juejin_p7/raw/master/img/c84534f3b30b9703628fe5dce12b4b9dc2b64ed0e515d7114f6d00de2282ac81" alt="&#x56FE;&#x7247;"></p>
<p><img src="https://gitee.com/songjianzaina/juejin_p7/raw/master/img/08c2677c22c0de831c7cccd7bb974cfab0ffc2a9d83bdb3f2fb008047b03975b" alt="&#x56FE;&#x7247;"></p>
<p><img src="https://gitee.com/songjianzaina/juejin_p7/raw/master/img/1a68568ca84e8d700f82649bdfc6da2aee13397b00188251c35492e7410cc703" alt="&#x56FE;&#x7247;"></p>
<h3 id="3&#x3001;&#x73AF;&#x5883;&#x51C6;&#x5907;"><a href="#3&#x3001;&#x73AF;&#x5883;&#x51C6;&#x5907;" class="headerlink" title="3&#x3001;&#x73AF;&#x5883;&#x51C6;&#x5907;"></a>3&#x3001;&#x73AF;&#x5883;&#x51C6;&#x5907;</h3><p>&#x4E07;&#x4E08;&#x9AD8;&#x697C;&#x5E73;&#x5730;&#x8D77;&#xFF0C;&#x6211;&#x4EEC;&#x4E0B;&#x9762;&#x4E00;&#x6B65;&#x4E00;&#x6B65;&#x6765;&#x5B8C;&#x6210;&#xFF0C;&#x9996;&#x5148;&#x6211;&#x4EEC;&#x5B89;&#x88C5;vue&#x7684;&#x73AF;&#x5883;&#xFF0C;&#x6211;&#x5B9E;&#x8DF5;&#x7684;&#x73AF;&#x5883;&#x662F;windows 10&#x54C8;&#x3002;</p>
<p>1&#x3001;&#x9996;&#x5148;&#x6211;&#x4EEC;&#x4E0A;node.js&#x5B98;&#x7F51;(<a href="/external_links/69ac8df6d65654a4d510da7a50f6b240.html" target="blank" rel="noopener">nodejs.org/zh-cn/</a>)&#xFF0C;&#x4E0B;&#x8F7D;&#x6700;&#x65B0;&#x7684;&#x957F;&#x671F;&#x7248;&#x672C;&#xFF0C;&#x76F4;&#x63A5;&#x8FD0;&#x884C;&#x5B89;&#x88C5;&#x5B8C;&#x6210;&#x4E4B;&#x540E;&#xFF0C;&#x6211;&#x4EEC;&#x5C31;&#x5DF2;&#x7ECF;&#x5177;&#x5907;&#x4E86;node&#x548C;npm&#x7684;&#x73AF;&#x5883;&#x5566;&#x3002;</p>
<p><img src="https://gitee.com/songjianzaina/juejin_p7/raw/master/img/d8427997ddf541a7279c50c809016a094689cecc76f7275967b65f3b14405791" alt="&#x56FE;&#x7247;"></p>
<p>&#x5B89;&#x88C5;&#x5B8C;&#x6210;&#x4E4B;&#x540E;&#x68C0;&#x67E5;&#x4E0B;&#x7248;&#x672C;&#x4FE1;&#x606F;&#xFF1A;</p>
<p><img src="https://gitee.com/songjianzaina/juejin_p7/raw/master/img/8da5278a36e2e66d661865a1f55184009d7b73c1a790cbaf660425887d908166" alt="&#x56FE;&#x7247;"></p>
<p>2&#x3001;&#x63A5;&#x4E0B;&#x6765;&#xFF0C;&#x6211;&#x4EEC;&#x5B89;&#x88C5;vue&#x7684;&#x73AF;&#x5883;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">plain&#x590D;&#x5236;&#x4EE3;&#x7801;# &#x5B89;&#x88C5;&#x6DD8;&#x5B9D;npm</span><br><span class="line">npm install -g cnpm --registry=https://registry.npm.taobao.org</span><br><span class="line"># vue-cli &#x5B89;&#x88C5;&#x4F9D;&#x8D56;&#x5305;</span><br><span class="line">cnpm install --g vue-cli</span><br></pre></td></tr></table></figure>

<h3 id="4&#x3001;&#x65B0;&#x5EFA;&#x9879;&#x76EE;"><a href="#4&#x3001;&#x65B0;&#x5EFA;&#x9879;&#x76EE;" class="headerlink" title="4&#x3001;&#x65B0;&#x5EFA;&#x9879;&#x76EE;"></a>4&#x3001;&#x65B0;&#x5EFA;&#x9879;&#x76EE;</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">plain&#x590D;&#x5236;&#x4EE3;&#x7801;# &#x6253;&#x5F00;vue&#x7684;&#x53EF;&#x89C6;&#x5316;&#x7BA1;&#x7406;&#x5DE5;&#x5177;&#x754C;&#x9762;</span><br><span class="line">vue ui</span><br></pre></td></tr></table></figure>

<p>&#x4E0A;&#x9762;&#x6211;&#x4EEC;&#x5206;&#x522B;&#x5B89;&#x88C5;&#x4E86;&#x6DD8;&#x5B9D;npm&#xFF0C;cnpm&#x662F;&#x4E3A;&#x4E86;&#x63D0;&#x9AD8;&#x6211;&#x4EEC;&#x5B89;&#x88C5;&#x4F9D;&#x8D56;&#x7684;&#x901F;&#x5EA6;&#x3002;vue ui&#x662F;@vue/cli3.0&#x589E;&#x52A0;&#x4E00;&#x4E2A;&#x53EF;&#x89C6;&#x5316;&#x9879;&#x76EE;&#x7BA1;&#x7406;&#x5DE5;&#x5177;&#xFF0C;&#x53EF;&#x4EE5;&#x8FD0;&#x884C;&#x9879;&#x76EE;&#x3001;&#x6253;&#x5305;&#x9879;&#x76EE;&#xFF0C;&#x68C0;&#x67E5;&#x7B49;&#x64CD;&#x4F5C;&#x3002;&#x5BF9;&#x4E8E;&#x521D;&#x5B66;&#x8005;&#x6765;&#x8BF4;&#xFF0C;&#x53EF;&#x4EE5;&#x5C11;&#x8BB0;&#x4E00;&#x4E9B;&#x547D;&#x4EE4;&#xFF0C;&#x54C8;&#x54C8;&#x3002;<br>3&#x3001;&#x521B;&#x5EFA;vueblog-vue&#x9879;&#x76EE;</p>
<p>&#x8FD0;&#x884C;vue ui&#x4E4B;&#x540E;&#xFF0C;&#x4F1A;&#x4E3A;&#x6211;&#x4EEC;&#x6253;&#x5F00;&#x4E00;&#x4E2A;<a href="/external_links/37d007a56d816107ce5b52c10342db37.html" target="blank" rel="noopener">http://localhost:8080</a> &#x7684;&#x9875;&#x9762;&#xFF1A;</p>
<p><img src="https://gitee.com/songjianzaina/juejin_p7/raw/master/img/8f695f47a15fbb1f2326ee48b75d05aa92b51d16c3cfebec4ad838a37e46c54d" alt="&#x56FE;&#x7247;"></p>
<p>&#x7136;&#x540E;&#x5207;&#x6362;&#x5230;&#x3010;&#x521B;&#x5EFA;&#x3011;&#xFF0C;&#x6CE8;&#x610F;&#x521B;&#x5EFA;&#x7684;&#x76EE;&#x5F55;&#x6700;&#x597D;&#x662F;&#x548C;&#x4F60;&#x8FD0;&#x884C;vue ui&#x540C;&#x4E00;&#x7EA7;&#x3002;&#x8FD9;&#x6837;&#x65B9;&#x4FBF;&#x7BA1;&#x7406;&#x548C;&#x5207;&#x6362;&#x3002;&#x7136;&#x540E;&#x70B9;&#x51FB;&#x6309;&#x94AE;&#x3010;&#x5728;&#x6B64;&#x521B;&#x5EFA;&#x65B0;&#x7FA1;&#x6155;&#x3011;</p>
<p><img src="https://gitee.com/songjianzaina/juejin_p7/raw/master/img/d0d745cde09e489eaee96f24e163f95b2a044ca3d4b83c21bb3f52aaa22bae65" alt="&#x56FE;&#x7247;"></p>
<p>&#x4E0B;&#x4E00;&#x6B65;&#x4E2D;&#xFF0C;&#x9879;&#x76EE;&#x6587;&#x4EF6;&#x5939;&#x4E2D;&#x8F93;&#x5165;&#x9879;&#x76EE;&#x540D;&#x79F0;&#x201C;vueblog-vue&#x201D;&#xFF0C;&#x5176;&#x4ED6;&#x4E0D;&#x7528;&#x6539;&#xFF0C;&#x70B9;&#x51FB;&#x4E0B;&#x4E00;&#x6B65;&#xFF0C;&#x9009;&#x62E9;&#x3010;&#x624B;&#x52A8;&#x3011;&#xFF0C;&#x518D;&#x70B9;&#x51FB;&#x4E0B;&#x4E00;&#x6B65;&#xFF0C;&#x5982;&#x56FE;&#x70B9;&#x51FB;&#x6309;&#x94AE;&#xFF0C;&#x52FE;&#x9009;&#x4E0A;&#x8DEF;&#x7531;Router&#x3001;&#x72B6;&#x6001;&#x7BA1;&#x7406;Vuex&#xFF0C;&#x53BB;&#x6389;js&#x7684;&#x6821;&#x9A8C;&#x3002;</p>
<p><img src="https://gitee.com/songjianzaina/juejin_p7/raw/master/img/6e82ce8fcd9d3618cd4dafe6a61b2c5282ebcc0c93f62f132b74a43583cea107" alt="&#x56FE;&#x7247;"></p>
<p>&#x4E0B;&#x4E00;&#x6B65;&#x4E2D;&#xFF0C;&#x4E5F;&#x9009;&#x4E0A;&#x3010;Use history mode for router&#x3011;&#xFF0C;&#x70B9;&#x51FB;&#x521B;&#x5EFA;&#x9879;&#x76EE;&#xFF0C;&#x7136;&#x540E;&#x5F39;&#x7A97;&#x4E2D;&#x9009;&#x62E9;&#x6309;&#x94AE;&#x3010;&#x521B;&#x5EFA;&#x9879;&#x76EE;&#xFF0C;&#x4E0D;&#x4FDD;&#x5B58;&#x9884;&#x8BBE;&#x3011;&#xFF0C;&#x5C31;&#x8FDB;&#x5165;&#x9879;&#x76EE;&#x521B;&#x5EFA;&#x5566;&#x3002;</p>
<p>&#x7A0D;&#x7B49;&#x7247;&#x523B;&#x4E4B;&#x540E;&#xFF0C;&#x9879;&#x76EE;&#x5C31;&#x521D;&#x59CB;&#x5316;&#x5B8C;&#x6210;&#x4E86;&#x3002;&#x4E0A;&#x9762;&#x7684;&#x6B65;&#x9AA4;&#x4E2D;&#xFF0C;&#x6211;&#x4EEC;&#x521B;&#x5EFA;&#x4E86;&#x4E00;&#x4E2A;vue&#x9879;&#x76EE;&#xFF0C;&#x5E76;&#x4E14;&#x5B89;&#x88C5;&#x4E86;Router&#x3001;Vuex&#x3002;&#x8FD9;&#x6837;&#x6211;&#x4EEC;&#x540E;&#x9762;&#x5C31;&#x53EF;&#x4EE5;&#x76F4;&#x63A5;&#x4F7F;&#x7528;&#x3002;</p>
<p>&#x6211;&#x4EEC;&#x6765;&#x770B;&#x4E0B;&#x6574;&#x4E2A;vueblog-vue&#x7684;&#x9879;&#x76EE;&#x7ED3;&#x6784;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line">plain&#x590D;&#x5236;&#x4EE3;&#x7801;&#x251C;&#x2500;&#x2500; README.md&#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#x9879;&#x76EE;&#x4ECB;&#x7ECD;</span><br><span class="line">&#x251C;&#x2500;&#x2500; index.html&#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0;&#x5165;&#x53E3;&#x9875;&#x9762;</span><br><span class="line">&#x251C;&#x2500;&#x2500; build&#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#x6784;&#x5EFA;&#x811A;&#x672C;&#x76EE;&#x5F55;</span><br><span class="line">&#x2502;&#xA0; &#x251C;&#x2500;&#x2500; build-server.js&#xA0; &#xA0; &#xA0; &#xA0; &#xA0;&#x8FD0;&#x884C;&#x672C;&#x5730;&#x6784;&#x5EFA;&#x670D;&#x52A1;&#x5668;&#xFF0C;&#x53EF;&#x4EE5;&#x8BBF;&#x95EE;&#x6784;&#x5EFA;&#x540E;&#x7684;&#x9875;&#x9762;</span><br><span class="line">&#x2502;&#xA0; &#x251C;&#x2500;&#x2500; build.js&#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#x751F;&#x4EA7;&#x73AF;&#x5883;&#x6784;&#x5EFA;&#x811A;&#x672C;</span><br><span class="line">&#x2502;&#xA0; &#x251C;&#x2500;&#x2500; dev-client.js&#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#x5F00;&#x53D1;&#x670D;&#x52A1;&#x5668;&#x70ED;&#x91CD;&#x8F7D;&#x811A;&#x672C;&#xFF0C;&#x4E3B;&#x8981;&#x7528;&#x6765;&#x5B9E;&#x73B0;&#x5F00;&#x53D1;&#x9636;&#x6BB5;&#x7684;&#x9875;&#x9762;&#x81EA;&#x52A8;&#x5237;&#x65B0;</span><br><span class="line">&#x2502;&#xA0; &#x251C;&#x2500;&#x2500; dev-server.js&#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#x8FD0;&#x884C;&#x672C;&#x5730;&#x5F00;&#x53D1;&#x670D;&#x52A1;&#x5668;</span><br><span class="line">&#x2502;&#xA0; &#x251C;&#x2500;&#x2500; utils.js&#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#x6784;&#x5EFA;&#x76F8;&#x5173;&#x5DE5;&#x5177;&#x65B9;&#x6CD5;</span><br><span class="line">&#x2502;&#xA0; &#x251C;&#x2500;&#x2500; webpack.base.conf.js&#xA0; &#xA0; &#xA0; wabpack&#x57FA;&#x7840;&#x914D;&#x7F6E;</span><br><span class="line">&#x2502;&#xA0; &#x251C;&#x2500;&#x2500; webpack.dev.conf.js&#xA0; &#xA0; &#xA0; &#xA0;wabpack&#x5F00;&#x53D1;&#x73AF;&#x5883;&#x914D;&#x7F6E;</span><br><span class="line">&#x2502;&#xA0; &#x2514;&#x2500;&#x2500; webpack.prod.conf.js&#xA0; &#xA0; &#xA0; wabpack&#x751F;&#x4EA7;&#x73AF;&#x5883;&#x914D;&#x7F6E;</span><br><span class="line">&#x251C;&#x2500;&#x2500; config&#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0;&#x9879;&#x76EE;&#x914D;&#x7F6E;</span><br><span class="line">&#x2502;&#xA0; &#x251C;&#x2500;&#x2500; dev.env.js&#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0;&#x5F00;&#x53D1;&#x73AF;&#x5883;&#x53D8;&#x91CF;</span><br><span class="line">&#x2502;&#xA0; &#x251C;&#x2500;&#x2500; index.js&#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#x9879;&#x76EE;&#x914D;&#x7F6E;&#x6587;&#x4EF6;</span><br><span class="line">&#x2502;&#xA0; &#x251C;&#x2500;&#x2500; prod.env.js&#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0;&#x751F;&#x4EA7;&#x73AF;&#x5883;&#x53D8;&#x91CF;</span><br><span class="line">&#x2502;&#xA0; &#x2514;&#x2500;&#x2500; test.env.js&#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0;&#x6D4B;&#x8BD5;&#x73AF;&#x5883;&#x53D8;&#x91CF;</span><br><span class="line">&#x251C;&#x2500;&#x2500; mock&#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; mock&#x6570;&#x636E;&#x76EE;&#x5F55;</span><br><span class="line">&#x2502;&#xA0; &#x2514;&#x2500;&#x2500; hello.js</span><br><span class="line">&#x251C;&#x2500;&#x2500; package.json&#xA0; &#xA0; &#xA0; &#xA0; &#xA0; npm&#x5305;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#xFF0C;&#x91CC;&#x9762;&#x5B9A;&#x4E49;&#x4E86;&#x9879;&#x76EE;&#x7684;npm&#x811A;&#x672C;&#xFF0C;&#x4F9D;&#x8D56;&#x5305;&#x7B49;&#x4FE1;&#x606F;</span><br><span class="line">&#x251C;&#x2500;&#x2500; src&#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0;&#x6E90;&#x7801;&#x76EE;&#x5F55;&#xA0;</span><br><span class="line">&#x2502;&#xA0; &#x251C;&#x2500;&#x2500; main.js&#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0;&#x5165;&#x53E3;js&#x6587;&#x4EF6;</span><br><span class="line">&#x2502;&#xA0; &#x251C;&#x2500;&#x2500; app.vue&#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0;&#x6839;&#x7EC4;&#x4EF6;</span><br><span class="line">&#x2502;&#xA0; &#x251C;&#x2500;&#x2500; components&#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0;&#x516C;&#x5171;&#x7EC4;&#x4EF6;&#x76EE;&#x5F55;</span><br><span class="line">&#x2502;&#xA0; &#x2502;&#xA0; &#x2514;&#x2500;&#x2500; title.vue</span><br><span class="line">&#x2502;&#xA0; &#x251C;&#x2500;&#x2500; assets&#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0;&#x8D44;&#x6E90;&#x76EE;&#x5F55;&#xFF0C;&#x8FD9;&#x91CC;&#x7684;&#x8D44;&#x6E90;&#x4F1A;&#x88AB;wabpack&#x6784;&#x5EFA;</span><br><span class="line">&#x2502;&#xA0; &#x2502;&#xA0; &#x2514;&#x2500;&#x2500; images</span><br><span class="line">&#x2502;&#xA0; &#x2502;&#xA0; &#xA0; &#x2514;&#x2500;&#x2500; logo.png</span><br><span class="line">&#x2502;&#xA0; &#x251C;&#x2500;&#x2500; routes&#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0;&#x524D;&#x7AEF;&#x8DEF;&#x7531;</span><br><span class="line">&#x2502;&#xA0; &#x2502;&#xA0; &#x2514;&#x2500;&#x2500; index.js</span><br><span class="line">&#x2502;&#xA0; &#x251C;&#x2500;&#x2500; store&#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#x5E94;&#x7528;&#x7EA7;&#x6570;&#x636E;&#xFF08;state&#xFF09;&#x72B6;&#x6001;&#x7BA1;&#x7406;</span><br><span class="line">&#x2502;&#xA0; &#x2502;&#xA0; &#x2514;&#x2500;&#x2500; index.js</span><br><span class="line">&#x2502;&#xA0; &#x2514;&#x2500;&#x2500; views&#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#x9875;&#x9762;&#x76EE;&#x5F55;</span><br><span class="line">&#x2502;&#xA0; &#xA0; &#x251C;&#x2500;&#x2500; hello.vue</span><br><span class="line">&#x2502;&#xA0; &#xA0; &#x2514;&#x2500;&#x2500; notfound.vue</span><br><span class="line">&#x251C;&#x2500;&#x2500; static&#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0;&#x7EAF;&#x9759;&#x6001;&#x8D44;&#x6E90;&#xFF0C;&#x4E0D;&#x4F1A;&#x88AB;wabpack&#x6784;&#x5EFA;&#x3002;</span><br><span class="line">&#x2514;&#x2500;&#x2500; test&#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#x6D4B;&#x8BD5;&#x6587;&#x4EF6;&#x76EE;&#x5F55;&#xFF08;unit&amp;e2e&#xFF09;</span><br><span class="line">&#xA0; &#x2514;&#x2500;&#x2500; unit&#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#x5355;&#x5143;&#x6D4B;&#x8BD5;</span><br><span class="line">&#xA0; &#xA0; &#x251C;&#x2500;&#x2500; index.js&#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#x5165;&#x53E3;&#x811A;&#x672C;</span><br><span class="line">&#xA0; &#xA0; &#x251C;&#x2500;&#x2500; karma.conf.js&#xA0; &#xA0; &#xA0; &#xA0; &#xA0; karma&#x914D;&#x7F6E;&#x6587;&#x4EF6;</span><br><span class="line">&#xA0; &#xA0; &#x2514;&#x2500;&#x2500; specs&#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#x5355;&#x6D4B;case&#x76EE;&#x5F55;</span><br><span class="line">&#xA0; &#xA0; &#xA0; &#x2514;&#x2500;&#x2500; Hello.spec.js</span><br></pre></td></tr></table></figure>

<h3 id="5&#x3001;&#x5B89;&#x88C5;element-ui"><a href="#5&#x3001;&#x5B89;&#x88C5;element-ui" class="headerlink" title="5&#x3001;&#x5B89;&#x88C5;element-ui"></a>5&#x3001;&#x5B89;&#x88C5;element-ui</h3><p>&#x63A5;&#x4E0B;&#x6765;&#x6211;&#x4EEC;&#x5F15;&#x5165;element-ui&#x7EC4;&#x4EF6;&#xFF08;<a href="/external_links/0ea9b5303ccd6111f4cc1af17a1e8b04.html" target="blank" rel="noopener">element.eleme.cn</a>&#xFF09;&#xFF0C;&#x8FD9;&#x6837;&#x6211;&#x4EEC;&#x5C31;&#x53EF;&#x4EE5;&#x83B7;&#x5F97;&#x597D;&#x770B;&#x7684;vue&#x7EC4;&#x4EF6;&#xFF0C;&#x5F00;&#x53D1;&#x597D;&#x770B;&#x7684;&#x535A;&#x5BA2;&#x754C;&#x9762;&#x3002;</p>
<p><img src="https://gitee.com/songjianzaina/juejin_p7/raw/master/img/be6f616fef7e4b80c7b1ca8ac9a3ce629d96f6a5ce5127dd7bb286315de01e7a" alt="&#x56FE;&#x7247;"></p>
<p>&#x547D;&#x4EE4;&#x5F88;&#x7B80;&#x5355;&#xFF1A;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">plain&#x590D;&#x5236;&#x4EE3;&#x7801;# &#x5207;&#x6362;&#x5230;&#x9879;&#x76EE;&#x6839;&#x76EE;&#x5F55;</span><br><span class="line">cd vueblog-vue</span><br><span class="line"># &#x5B89;&#x88C5;element-ui</span><br><span class="line">cnpm install element-ui --save</span><br></pre></td></tr></table></figure>

<p>&#x7136;&#x540E;&#x6211;&#x4EEC;&#x6253;&#x5F00;&#x9879;&#x76EE;src&#x76EE;&#x5F55;&#x4E0B;&#x7684;main.js&#xFF0C;&#x5F15;&#x5165;element-ui&#x4F9D;&#x8D56;&#x3002;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">plain&#x590D;&#x5236;&#x4EE3;&#x7801;import Element from &apos;element-ui&apos;</span><br><span class="line">import &quot;element-ui/lib/theme-chalk/index.css&quot;</span><br><span class="line">Vue.use(Element)</span><br></pre></td></tr></table></figure>

<p>&#x8FD9;&#x6837;&#x6211;&#x4EEC;&#x5C31;&#x53EF;&#x4EE5;&#x6109;&#x5FEB;&#x5F97;&#x5728;&#x5B98;&#x7F51;&#x4E0A;&#x9009;&#x62E9;&#x7EC4;&#x4EF6;&#x590D;&#x5236;&#x4EE3;&#x7801;&#x5230;&#x6211;&#x4EEC;&#x9879;&#x76EE;&#x4E2D;&#x76F4;&#x63A5;&#x4F7F;&#x7528;&#x5566;&#x3002;</p>
<h3 id="6&#x3001;&#x5B89;&#x88C5;axios"><a href="#6&#x3001;&#x5B89;&#x88C5;axios" class="headerlink" title="6&#x3001;&#x5B89;&#x88C5;axios"></a>6&#x3001;&#x5B89;&#x88C5;axios</h3><p>&#x63A5;&#x4E0B;&#x6765;&#xFF0C;&#x6211;&#x4EEC;&#x6765;&#x5B89;&#x88C5;axios&#xFF08;<a href="/external_links/841f070af2f5887542c912f26bdbeb04.html" target="blank" rel="noopener">www.axios-js.com/</a>&#xFF09;&#xFF0C;axios&#x662F;&#x4E00;&#x4E2A;&#x57FA;&#x4E8E; promise &#x7684; HTTP &#x5E93;&#xFF0C;&#x8FD9;&#x6837;&#x6211;&#x4EEC;&#x8FDB;&#x884C;&#x524D;&#x540E;&#x7AEF;&#x5BF9;&#x63A5;&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x4F7F;&#x7528;&#x8FD9;&#x4E2A;&#x5DE5;&#x5177;&#x53EF;&#x4EE5;&#x63D0;&#x9AD8;&#x6211;&#x4EEC;&#x7684;&#x5F00;&#x53D1;&#x6548;&#x7387;&#x3002;</p>
<p>&#x5B89;&#x88C5;&#x547D;&#x4EE4;&#xFF1A;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">plain&#x590D;&#x5236;&#x4EE3;&#x7801;cnpm install axios --save</span><br></pre></td></tr></table></figure>

<p>&#x7136;&#x540E;&#x540C;&#x6837;&#x6211;&#x4EEC;&#x5728;main.js&#x4E2D;&#x5168;&#x5C40;&#x5F15;&#x5165;axios&#x3002;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">plain&#x590D;&#x5236;&#x4EE3;&#x7801;import axios from &apos;axios&apos;</span><br><span class="line">Vue.prototype.$axios = axios //</span><br></pre></td></tr></table></figure>

<p>&#x7EC4;&#x4EF6;&#x4E2D;&#xFF0C;&#x6211;&#x4EEC;&#x5C31;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;this.$axios.get()&#x6765;&#x53D1;&#x8D77;&#x6211;&#x4EEC;&#x7684;&#x8BF7;&#x6C42;&#x4E86;&#x54C8;&#x3002;</p>
<h3 id="7&#x3001;&#x9875;&#x9762;&#x8DEF;&#x7531;"><a href="#7&#x3001;&#x9875;&#x9762;&#x8DEF;&#x7531;" class="headerlink" title="7&#x3001;&#x9875;&#x9762;&#x8DEF;&#x7531;"></a>7&#x3001;&#x9875;&#x9762;&#x8DEF;&#x7531;</h3><p>&#x63A5;&#x4E0B;&#x6765;&#xFF0C;&#x6211;&#x4EEC;&#x5148;&#x5B9A;&#x4E49;&#x597D;&#x8DEF;&#x7531;&#x548C;&#x9875;&#x9762;&#xFF0C;&#x56E0;&#x4E3A;&#x6211;&#x4EEC;&#x53EA;&#x662F;&#x505A;&#x4E00;&#x4E2A;&#x7B80;&#x5355;&#x7684;&#x535A;&#x5BA2;&#x9879;&#x76EE;&#xFF0C;&#x9875;&#x9762;&#x6BD4;&#x8F83;&#x5C11;&#xFF0C;&#x6240;&#x4EE5;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x76F4;&#x63A5;&#x5148;&#x5B9A;&#x4E49;&#x597D;&#xFF0C;&#x7136;&#x540E;&#x5728;&#x6162;&#x6162;&#x5F00;&#x53D1;&#xFF0C;&#x8FD9;&#x6837;&#x9700;&#x8981;&#x7528;&#x5230;&#x94FE;&#x63A5;&#x7684;&#x5730;&#x65B9;&#x6211;&#x4EEC;&#x5C31;&#x53EF;&#x4EE5;&#x76F4;&#x63A5;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#xFF1A;</p>
<p>&#x6211;&#x4EEC;&#x5728;views&#x6587;&#x4EF6;&#x5939;&#x4E0B;&#x5B9A;&#x4E49;&#x51E0;&#x4E2A;&#x9875;&#x9762;&#xFF1A;</p>
<ul>
<li>BlogDetail.vue&#xFF08;&#x535A;&#x5BA2;&#x8BE6;&#x60C5;&#x9875;&#xFF09;</li>
<li>BlogEdit.vue&#xFF08;&#x7F16;&#x8F91;&#x535A;&#x5BA2;&#xFF09;</li>
<li>Blogs.vue&#xFF08;&#x535A;&#x5BA2;&#x5217;&#x8868;&#xFF09;</li>
<li>Login.vue&#xFF08;&#x767B;&#x5F55;&#x9875;&#x9762;&#xFF09;</li>
</ul>
<p>&#x7136;&#x540E;&#x518D;&#x8DEF;&#x7531;&#x4E2D;&#x5FC3;&#x914D;&#x7F6E;&#xFF1A;</p>
<ul>
<li>router\index.js</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line">plain&#x590D;&#x5236;&#x4EE3;&#x7801;import Vue from &apos;vue&apos;</span><br><span class="line">import VueRouter from &apos;vue-router&apos;</span><br><span class="line">import Login from &apos;../views/Login.vue&apos;</span><br><span class="line">import BlogDetail from &apos;../views/BlogDetail.vue&apos;</span><br><span class="line">import BlogEdit from &apos;../views/BlogEdit.vue&apos;</span><br><span class="line">Vue.use(VueRouter)</span><br><span class="line">const routes = [</span><br><span class="line">  {</span><br><span class="line">    path: &apos;/&apos;,</span><br><span class="line">    name: &apos;Index&apos;,</span><br><span class="line">    redirect: { name: &apos;Blogs&apos; }</span><br><span class="line">  },</span><br><span class="line">  {</span><br><span class="line">    path: &apos;/login&apos;,</span><br><span class="line">    name: &apos;Login&apos;,</span><br><span class="line">    component: Login</span><br><span class="line">  },</span><br><span class="line">  {</span><br><span class="line">    path: &apos;/blogs&apos;,</span><br><span class="line">    name: &apos;Blogs&apos;,</span><br><span class="line">    // &#x61D2;&#x52A0;&#x8F7D;</span><br><span class="line">    component: () =&gt; import(&apos;../views/Blogs.vue&apos;)</span><br><span class="line">  },</span><br><span class="line">  {</span><br><span class="line">    path: &apos;/blog/add&apos;, // &#x6CE8;&#x610F;&#x653E;&#x5728; path: &apos;/blog/:blogId&apos;&#x4E4B;&#x524D;</span><br><span class="line">    name: &apos;BlogAdd&apos;,</span><br><span class="line">    meta: {</span><br><span class="line">      requireAuth: true</span><br><span class="line">    },</span><br><span class="line">    component: BlogEdit</span><br><span class="line">  },</span><br><span class="line">  {</span><br><span class="line">    path: &apos;/blog/:blogId&apos;,</span><br><span class="line">    name: &apos;BlogDetail&apos;,</span><br><span class="line">    component: BlogDetail</span><br><span class="line">  },</span><br><span class="line">  {</span><br><span class="line">    path: &apos;/blog/:blogId/edit&apos;,</span><br><span class="line">    name: &apos;BlogEdit&apos;,</span><br><span class="line">    meta: {</span><br><span class="line">      requireAuth: true</span><br><span class="line">    },</span><br><span class="line">    component: BlogEdit</span><br><span class="line">  }</span><br><span class="line">];</span><br><span class="line">const router = new VueRouter({</span><br><span class="line">  mode: &apos;history&apos;,</span><br><span class="line">  base: process.env.BASE_URL,</span><br><span class="line">  routes</span><br><span class="line">})</span><br><span class="line">export default router</span><br></pre></td></tr></table></figure>

<p>&#x63A5;&#x4E0B;&#x6765;&#x6211;&#x4EEC;&#x53BB;&#x5F00;&#x53D1;&#x6211;&#x4EEC;&#x7684;&#x9875;&#x9762;&#x3002;&#x5176;&#x4E2D;&#xFF0C;&#x5E26;&#x6709;meta&#xFF1A;requireAuth: true&#x8BF4;&#x660E;&#x662F;&#x9700;&#x8981;&#x767B;&#x5F55;&#x5B57;&#x540E;&#x624D;&#x80FD;&#x8BBF;&#x95EE;&#x7684;&#x53D7;&#x9650;&#x8D44;&#x6E90;&#xFF0C;&#x540E;&#x9762;&#x6211;&#x4EEC;&#x8DEF;&#x7531;&#x6743;&#x9650;&#x62E6;&#x622A;&#x65F6;&#x5019;&#x4F1A;&#x7528;&#x5230;&#x3002;</p>
<h3 id="8&#x3001;&#x767B;&#x5F55;&#x9875;&#x9762;"><a href="#8&#x3001;&#x767B;&#x5F55;&#x9875;&#x9762;" class="headerlink" title="8&#x3001;&#x767B;&#x5F55;&#x9875;&#x9762;"></a>8&#x3001;&#x767B;&#x5F55;&#x9875;&#x9762;</h3><p>&#x63A5;&#x4E0B;&#x6765;&#xFF0C;&#x6211;&#x4EEC;&#x6765;&#x641E;&#x4E00;&#x4E2A;&#x767B;&#x9646;&#x9875;&#x9762;&#xFF0C;&#x8868;&#x5355;&#x7EC4;&#x4EF6;&#x6211;&#x4EEC;&#x76F4;&#x63A5;&#x5728;element-ui&#x7684;&#x5B98;&#x7F51;&#x4E0A;&#x627E;&#x5C31;&#x884C;&#x4E86;&#xFF0C;&#x767B;&#x9646;&#x9875;&#x9762;&#x5C31;&#x4E24;&#x4E2A;&#x8F93;&#x5165;&#x6846;&#x548C;&#x4E00;&#x4E2A;&#x63D0;&#x4EA4;&#x6309;&#x94AE;&#xFF0C;&#x76F8;&#x5BF9;&#x7B80;&#x5355;&#xFF0C;&#x7136;&#x540E;&#x6211;&#x4EEC;&#x6700;&#x597D;&#x5E26;&#x9875;&#x9762;&#x7684;js&#x6821;&#x9A8C;&#x3002;emmm&#xFF0C;&#x6211;&#x76F4;&#x63A5;&#x8D34;&#x4EE3;&#x7801;&#x4E86;~~</p>
<ul>
<li>views/Login.vue</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br></pre></td><td class="code"><pre><span class="line">xml&#x590D;&#x5236;&#x4EE3;&#x7801;&lt;template&gt;</span><br><span class="line">&#xA0; &lt;div&gt;</span><br><span class="line">&#xA0; &#xA0; &lt;el-container&gt;</span><br><span class="line">&#xA0; &#xA0; &#xA0; &lt;el-header&gt;</span><br><span class="line">&#xA0; &#xA0; &#xA0; &#xA0; &lt;router-link to=&quot;/blogs&quot;&gt;</span><br><span class="line">&#xA0; &#xA0; &#xA0; &#xA0; &lt;img src=&quot;https://www.markerhub.com/dist/images/logo/markerhub-logo.png&quot;</span><br><span class="line">&#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0;style=&quot;height: 60%; margin-top: 10px;&quot;&gt;</span><br><span class="line">&#xA0; &#xA0; &#xA0; &#xA0; &lt;/router-link&gt;</span><br><span class="line">&#xA0; &#xA0; &#xA0; &lt;/el-header&gt;</span><br><span class="line">&#xA0; &#xA0; &#xA0; &lt;el-main&gt;</span><br><span class="line">&#xA0; &#xA0; &#xA0; &#xA0; &lt;el-form :model=&quot;ruleForm&quot; status-icon :rules=&quot;rules&quot; ref=&quot;ruleForm&quot; label-width=&quot;100px&quot;</span><br><span class="line">&#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0;class=&quot;demo-ruleForm&quot;&gt;</span><br><span class="line">&#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &lt;el-form-item label=&quot;&#x7528;&#x6237;&#x540D;&quot; prop=&quot;username&quot;&gt;</span><br><span class="line">&#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &lt;el-input type=&quot;text&quot; maxlength=&quot;12&quot; v-model=&quot;ruleForm.username&quot;&gt;&lt;/el-input&gt;</span><br><span class="line">&#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &lt;/el-form-item&gt;</span><br><span class="line">&#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &lt;el-form-item label=&quot;&#x5BC6;&#x7801;&quot; prop=&quot;password&quot;&gt;</span><br><span class="line">&#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &lt;el-input type=&quot;password&quot; v-model=&quot;ruleForm.password&quot; autocomplete=&quot;off&quot;&gt;&lt;/el-input&gt;</span><br><span class="line">&#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &lt;/el-form-item&gt;</span><br><span class="line">&#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &lt;el-form-item&gt;</span><br><span class="line">&#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &lt;el-button type=&quot;primary&quot; @click=&quot;submitForm(&apos;ruleForm&apos;)&quot;&gt;&#x767B;&#x5F55;&lt;/el-button&gt;</span><br><span class="line">&#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &lt;el-button @click=&quot;resetForm(&apos;ruleForm&apos;)&quot;&gt;&#x91CD;&#x7F6E;&lt;/el-button&gt;</span><br><span class="line">&#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &lt;/el-form-item&gt;</span><br><span class="line">&#xA0; &#xA0; &#xA0; &#xA0; &lt;/el-form&gt;</span><br><span class="line">&#xA0; &#xA0; &#xA0; &lt;/el-main&gt;</span><br><span class="line">&#xA0; &#xA0; &lt;/el-container&gt;</span><br><span class="line">&#xA0; &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">&#xA0; export default {</span><br><span class="line">&#xA0; &#xA0; name: &apos;Login&apos;,</span><br><span class="line">&#xA0; &#xA0; data() {</span><br><span class="line">&#xA0; &#xA0; &#xA0; var validatePass = (rule, value, callback) =&gt; {</span><br><span class="line">&#xA0; &#xA0; &#xA0; &#xA0; if (value === &apos;&apos;) {</span><br><span class="line">&#xA0; &#xA0; &#xA0; &#xA0; &#xA0; callback(new Error(&apos;&#x8BF7;&#x8F93;&#x5165;&#x5BC6;&#x7801;&apos;));</span><br><span class="line">&#xA0; &#xA0; &#xA0; &#xA0; } else {</span><br><span class="line">&#xA0; &#xA0; &#xA0; &#xA0; &#xA0; callback();</span><br><span class="line">&#xA0; &#xA0; &#xA0; &#xA0; }</span><br><span class="line">&#xA0; &#xA0; &#xA0; };</span><br><span class="line">&#xA0; &#xA0; &#xA0; return {</span><br><span class="line">&#xA0; &#xA0; &#xA0; &#xA0; ruleForm: {</span><br><span class="line">&#xA0; &#xA0; &#xA0; &#xA0; &#xA0; password: &apos;111111&apos;,</span><br><span class="line">&#xA0; &#xA0; &#xA0; &#xA0; &#xA0; username: &apos;markerhub&apos;</span><br><span class="line">&#xA0; &#xA0; &#xA0; &#xA0; },</span><br><span class="line">&#xA0; &#xA0; &#xA0; &#xA0; rules: {</span><br><span class="line">&#xA0; &#xA0; &#xA0; &#xA0; &#xA0; password: [</span><br><span class="line">&#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; {validator: validatePass, trigger: &apos;blur&apos;}</span><br><span class="line">&#xA0; &#xA0; &#xA0; &#xA0; &#xA0; ],</span><br><span class="line">&#xA0; &#xA0; &#xA0; &#xA0; &#xA0; username: [</span><br><span class="line">&#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; {required: true, message: &apos;&#x8BF7;&#x8F93;&#x5165;&#x7528;&#x6237;&#x540D;&apos;, trigger: &apos;blur&apos;},</span><br><span class="line">&#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; {min: 3, max: 12, message: &apos;&#x957F;&#x5EA6;&#x5728; 3 &#x5230; 12 &#x4E2A;&#x5B57;&#x7B26;&apos;, trigger: &apos;blur&apos;}</span><br><span class="line">&#xA0; &#xA0; &#xA0; &#xA0; &#xA0; ]</span><br><span class="line">&#xA0; &#xA0; &#xA0; &#xA0; }</span><br><span class="line">&#xA0; &#xA0; &#xA0; };</span><br><span class="line">&#xA0; &#xA0; },</span><br><span class="line">&#xA0; &#xA0; methods: {</span><br><span class="line">&#xA0; &#xA0; &#xA0; submitForm(formName) {</span><br><span class="line">&#xA0; &#xA0; &#xA0; &#xA0; const _this = this</span><br><span class="line">&#xA0; &#xA0; &#xA0; &#xA0; this.$refs[formName].validate((valid) =&gt; {</span><br><span class="line">&#xA0; &#xA0; &#xA0; &#xA0; &#xA0; if (valid) {</span><br><span class="line">&#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; // &#x63D0;&#x4EA4;&#x903B;&#x8F91;</span><br><span class="line">&#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; this.$axios.post(&apos;http://localhost:8081/login&apos;, this.ruleForm).then((res)=&gt;{</span><br><span class="line">&#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; const token = res.headers[&apos;authorization&apos;]</span><br><span class="line">&#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; _this.$store.commit(&apos;SET_TOKEN&apos;, token)</span><br><span class="line">&#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; _this.$store.commit(&apos;SET_USERINFO&apos;, res.data.data)</span><br><span class="line">&#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; _this.$router.push(&quot;/blogs&quot;)</span><br><span class="line">&#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; })</span><br><span class="line">&#xA0; &#xA0; &#xA0; &#xA0; &#xA0; } else {</span><br><span class="line">&#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; console.log(&apos;error submit!!&apos;);</span><br><span class="line">&#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; return false;</span><br><span class="line">&#xA0; &#xA0; &#xA0; &#xA0; &#xA0; }</span><br><span class="line">&#xA0; &#xA0; &#xA0; &#xA0; });</span><br><span class="line">&#xA0; &#xA0; &#xA0; },</span><br><span class="line">&#xA0; &#xA0; &#xA0; resetForm(formName) {</span><br><span class="line">&#xA0; &#xA0; &#xA0; &#xA0; this.$refs[formName].resetFields();</span><br><span class="line">&#xA0; &#xA0; &#xA0; }</span><br><span class="line">&#xA0; &#xA0; },</span><br><span class="line">&#xA0; &#xA0; mounted() {</span><br><span class="line">&#xA0; &#xA0; &#xA0; this.$notify({</span><br><span class="line">&#xA0; &#xA0; &#xA0; &#xA0; title: &apos;&#x770B;&#x8FD9;&#x91CC;&#xFF1A;&apos;,</span><br><span class="line">&#xA0; &#xA0; &#xA0; &#xA0; message: &apos;&#x5173;&#x6CE8;&#x516C;&#x4F17;&#x53F7;&#xFF1A;MarkerHub&#xFF0C;&#x56DE;&#x590D;&#x3010;vueblog&#x3011;&#xFF0C;&#x9886;&#x53D6;&#x9879;&#x76EE;&#x8D44;&#x6599;&#x4E0E;&#x6E90;&#x7801;&apos;,</span><br><span class="line">&#xA0; &#xA0; &#xA0; &#xA0; duration: 1500</span><br><span class="line">&#xA0; &#xA0; &#xA0; });</span><br><span class="line">&#xA0; &#xA0; }</span><br><span class="line">&#xA0; }</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<p>&#x627E;&#x4E0D;&#x5230;&#x5565;&#x597D;&#x7684;&#x65B9;&#x5F0F;&#x8BB2;&#x89E3;&#x4E86;&#xFF0C;&#x4E4B;&#x540E;&#x5148;&#x8D34;&#x4EE3;&#x7801;&#xFF0C;&#x7136;&#x540E;&#x518D;&#x8BB2;&#x89E3;&#x3002;<br>&#x4E0A;&#x9762;&#x4EE3;&#x7801;&#x4E2D;&#xFF0C;&#x5176;&#x5B9E;&#x4E3B;&#x8981;&#x505A;&#x4E86;&#x4E24;&#x4EF6;&#x4E8B;&#x60C5;</p>
<p>1&#x3001;&#x8868;&#x5355;&#x6821;&#x9A8C;</p>
<p>2&#x3001;&#x767B;&#x5F55;&#x6309;&#x94AE;&#x7684;&#x70B9;&#x51FB;&#x767B;&#x5F55;&#x4E8B;&#x4EF6;</p>
<p>&#x8868;&#x5355;&#x6821;&#x9A8C;&#x89C4;&#x5219;&#x8FD8;&#x597D;&#xFF0C;&#x6BD4;&#x8F83;&#x56FA;&#x5B9A;&#x5199;&#x6CD5;&#xFF0C;&#x67E5;&#x4E00;&#x4E0B;element-ui&#x7684;&#x7EC4;&#x4EF6;&#x5C31;&#x77E5;&#x9053;&#x4E86;&#xFF0C;&#x6211;&#x4EEC;&#x6765;&#x5206;&#x6790;&#x4E00;&#x4E0B;&#x53D1;&#x8D77;&#x767B;&#x5F55;&#x4E4B;&#x540E;&#x7684;&#x4EE3;&#x7801;&#xFF1A;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">plain&#x590D;&#x5236;&#x4EE3;&#x7801;const token = res.headers[&apos;authorization&apos;]</span><br><span class="line">_this.$store.commit(&apos;SET_TOKEN&apos;, token)</span><br><span class="line">_this.$store.commit(&apos;SET_USERINFO&apos;, res.data.data)</span><br><span class="line">_this.$router.push(&quot;/blogs&quot;)</span><br></pre></td></tr></table></figure>

<p>&#x4ECE;&#x8FD4;&#x56DE;&#x7684;&#x7ED3;&#x679C;&#x8BF7;&#x6C42;&#x5934;&#x4E2D;&#x83B7;&#x53D6;&#x5230;token&#x7684;&#x4FE1;&#x606F;&#xFF0C;&#x7136;&#x540E;&#x4F7F;&#x7528;store&#x63D0;&#x4EA4;token&#x548C;&#x7528;&#x6237;&#x4FE1;&#x606F;&#x7684;&#x72B6;&#x6001;&#x3002;&#x5B8C;&#x6210;&#x64CD;&#x4F5C;&#x4E4B;&#x540E;&#xFF0C;&#x6211;&#x4EEC;&#x8C03;&#x6574;&#x5230;&#x4E86;/blogs&#x8DEF;&#x7531;&#xFF0C;&#x5373;&#x535A;&#x5BA2;&#x5217;&#x8868;&#x9875;&#x9762;&#x3002;</p>
<h4 id="token&#x7684;&#x72B6;&#x6001;&#x540C;&#x6B65;"><a href="#token&#x7684;&#x72B6;&#x6001;&#x540C;&#x6B65;" class="headerlink" title="token&#x7684;&#x72B6;&#x6001;&#x540C;&#x6B65;"></a>token&#x7684;&#x72B6;&#x6001;&#x540C;&#x6B65;</h4><p>&#x6240;&#x4EE5;&#x5728;store/index.js&#x4E2D;&#xFF0C;&#x4EE3;&#x7801;&#x662F;&#x8FD9;&#x6837;&#x7684;&#xFF1A;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">plain&#x590D;&#x5236;&#x4EE3;&#x7801;import Vue from &apos;vue&apos;</span><br><span class="line">import Vuex from &apos;vuex&apos;</span><br><span class="line">Vue.use(Vuex)</span><br><span class="line">export default new Vuex.Store({</span><br><span class="line">&#xA0; state: {</span><br><span class="line">&#xA0; &#xA0; token: &apos;&apos;,</span><br><span class="line">&#xA0; &#xA0; userInfo: JSON.parse(sessionStorage.getItem(&quot;userInfo&quot;))</span><br><span class="line">&#xA0; },</span><br><span class="line">&#xA0; mutations: {</span><br><span class="line">&#xA0; &#xA0; SET_TOKEN: (state, token) =&gt; {</span><br><span class="line">&#xA0; &#xA0; &#xA0; state.token = token</span><br><span class="line">&#xA0; &#xA0; &#xA0; localStorage.setItem(&quot;token&quot;, token)</span><br><span class="line">&#xA0; &#xA0; },</span><br><span class="line">&#xA0; &#xA0; SET_USERINFO: (state, userInfo) =&gt; {</span><br><span class="line">&#xA0; &#xA0; &#xA0; state.userInfo = userInfo</span><br><span class="line">&#xA0; &#xA0; &#xA0; sessionStorage.setItem(&quot;userInfo&quot;, JSON.stringify(userInfo))</span><br><span class="line">&#xA0; &#xA0; },</span><br><span class="line">&#xA0; &#xA0; REMOVE_INFO: (state) =&gt; {</span><br><span class="line">&#xA0; &#xA0; &#xA0; localStorage.setItem(&quot;token&quot;, &apos;&apos;)</span><br><span class="line">&#xA0; &#xA0; &#xA0; sessionStorage.setItem(&quot;userInfo&quot;, JSON.stringify(&apos;&apos;))</span><br><span class="line">&#xA0; &#xA0; &#xA0; state.userInfo = {}</span><br><span class="line">&#xA0; &#xA0; }</span><br><span class="line">&#xA0; },</span><br><span class="line">&#xA0; getters: {</span><br><span class="line">&#xA0; &#xA0; getUser: state =&gt; {</span><br><span class="line">&#xA0; &#xA0; &#xA0; return state.userInfo</span><br><span class="line">&#xA0; &#xA0; }</span><br><span class="line">&#xA0; },</span><br><span class="line">&#xA0; actions: {},</span><br><span class="line">&#xA0; modules: {}</span><br><span class="line">})</span><br></pre></td></tr></table></figure>

<p>&#x5B58;&#x50A8;token&#xFF0C;&#x6211;&#x4EEC;&#x7528;&#x7684;&#x662F;localStorage&#xFF0C;&#x5B58;&#x50A8;&#x7528;&#x6237;&#x4FE1;&#x606F;&#xFF0C;&#x6211;&#x4EEC;&#x7528;&#x7684;&#x662F;sessionStorage&#x3002;&#x6BD5;&#x7ADF;&#x7528;&#x6237;&#x4FE1;&#x606F;&#x6211;&#x4EEC;&#x4E0D;&#x9700;&#x8981;&#x957F;&#x4E45;&#x4FDD;&#x5B58;&#xFF0C;&#x4FDD;&#x5B58;&#x4E86;token&#x4FE1;&#x606F;&#xFF0C;&#x6211;&#x4EEC;&#x968F;&#x65F6;&#x90FD;&#x53EF;&#x4EE5;&#x521D;&#x59CB;&#x5316;&#x7528;&#x6237;&#x4FE1;&#x606F;&#x3002;&#x5F53;&#x7136;&#x4E86;&#x56E0;&#x4E3A;&#x672C;&#x9879;&#x76EE;&#x662F;&#x4E2A;&#x6BD4;&#x8F83;&#x7B80;&#x5355;&#x7684;&#x9879;&#x76EE;&#xFF0C;&#x8003;&#x8651;&#x5230;&#x521D;&#x5B66;&#x8005;&#xFF0C;&#x6240;&#x4EE5;&#x5F88;&#x591A;&#x76F8;&#x5BF9;&#x590D;&#x6742;&#x7684;&#x5C01;&#x88C5;&#x548C;&#x529F;&#x80FD;&#x6211;&#x6CA1;&#x6709;&#x505A;&#xFF0C;&#x5F53;&#x7136;&#x4E86;&#xFF0C;&#x5B66;&#x4E86;&#x8FD9;&#x4E2A;&#x9879;&#x76EE;&#x4E4B;&#x540E;&#xFF0C;&#x81EA;&#x5DF1;&#x60F3;&#x518D;&#x7EE7;&#x7EED;&#x6DF1;&#x5165;&#xFF0C;&#x5B8C;&#x6210;&#x53EF;&#x4EE5;&#x81EA;&#x884C;&#x5B66;&#x4E60;&#x548C;&#x6539;&#x9020;&#x54C8;&#x3002;</p>
<h4 id="&#x5B9A;&#x4E49;&#x5168;&#x5C40;axios&#x62E6;&#x622A;&#x5668;"><a href="#&#x5B9A;&#x4E49;&#x5168;&#x5C40;axios&#x62E6;&#x622A;&#x5668;" class="headerlink" title="&#x5B9A;&#x4E49;&#x5168;&#x5C40;axios&#x62E6;&#x622A;&#x5668;"></a>&#x5B9A;&#x4E49;&#x5168;&#x5C40;axios&#x62E6;&#x622A;&#x5668;</h4><p>&#x70B9;&#x51FB;&#x767B;&#x5F55;&#x6309;&#x94AE;&#x53D1;&#x8D77;&#x767B;&#x5F55;&#x8BF7;&#x6C42;&#xFF0C;&#x6210;&#x529F;&#x65F6;&#x5019;&#x8FD4;&#x56DE;&#x4E86;&#x6570;&#x636E;&#xFF0C;&#x5982;&#x679C;&#x662F;&#x5BC6;&#x7801;&#x9519;&#x8BEF;&#xFF0C;&#x6211;&#x4EEC;&#x662F;&#x4E0D;&#x662F;&#x4E5F;&#x5E94;&#x8BE5;&#x5F39;&#x7A97;&#x6D88;&#x606F;&#x63D0;&#x793A;&#x3002;&#x4E3A;&#x4E86;&#x8BA9;&#x8FD9;&#x4E2A;&#x9519;&#x8BEF;&#x5F39;&#x7A97;&#x80FD;&#x8FD0;&#x7528;&#x5230;&#x6240;&#x6709;&#x7684;&#x5730;&#x65B9;&#xFF0C;&#x6240;&#x4EE5;&#x6211;&#x5BF9;axios&#x505A;&#x4E86;&#x4E2A;&#x540E;&#x7F6E;&#x62E6;&#x622A;&#x5668;&#xFF0C;&#x5C31;&#x662F;&#x8FD4;&#x56DE;&#x6570;&#x636E;&#x65F6;&#x5019;&#xFF0C;&#x5982;&#x679C;&#x7ED3;&#x679C;&#x7684;code&#x6216;&#x8005;status&#x4E0D;&#x6B63;&#x5E38;&#xFF0C;&#x90A3;&#x4E48;&#x6211;&#x5BF9;&#x5E94;&#x5F39;&#x7A97;&#x63D0;&#x793A;&#x3002;</p>
<p>&#x5728;src&#x76EE;&#x5F55;&#x4E0B;&#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x6587;&#x4EF6;axios.js&#xFF08;&#x4E0E;main.js&#x540C;&#x7EA7;&#xFF09;&#xFF0C;&#x5B9A;&#x4E49;axios&#x7684;&#x62E6;&#x622A;&#xFF1A;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line">plain&#x590D;&#x5236;&#x4EE3;&#x7801;import axios from &apos;axios&apos;</span><br><span class="line">import Element from &quot;element-ui&quot;;</span><br><span class="line">import store from &quot;./store&quot;;</span><br><span class="line">import router from &quot;./router&quot;;</span><br><span class="line">axios.defaults.baseURL=&apos;http://localhost:8081&apos;</span><br><span class="line">axios.interceptors.request.use(config =&gt; {</span><br><span class="line">&#xA0; console.log(&quot;&#x524D;&#x7F6E;&#x62E6;&#x622A;&quot;)</span><br><span class="line">&#xA0; // &#x53EF;&#x4EE5;&#x7EDF;&#x4E00;&#x8BBE;&#x7F6E;&#x8BF7;&#x6C42;&#x5934;</span><br><span class="line">&#xA0; return config</span><br><span class="line">})</span><br><span class="line">axios.interceptors.response.use(response =&gt; {</span><br><span class="line">&#xA0; &#xA0; const res = response.data;</span><br><span class="line">&#xA0; &#xA0; console.log(&quot;&#x540E;&#x7F6E;&#x62E6;&#x622A;&quot;)</span><br><span class="line">    // &#x5F53;&#x7ED3;&#x679C;&#x7684;code&#x662F;&#x5426;&#x4E3A;200&#x7684;&#x60C5;&#x51B5;</span><br><span class="line">&#xA0; &#xA0; if (res.code === 200) {</span><br><span class="line">&#xA0; &#xA0; &#xA0; return response</span><br><span class="line">&#xA0; &#xA0; } else {</span><br><span class="line">      // &#x5F39;&#x7A97;&#x5F02;&#x5E38;&#x4FE1;&#x606F;</span><br><span class="line">&#xA0; &#xA0; &#xA0; Element.Message({</span><br><span class="line">&#xA0; &#xA0; &#xA0; &#xA0; message: response.data.msg,</span><br><span class="line">&#xA0; &#xA0; &#xA0; &#xA0; type: &apos;error&apos;,</span><br><span class="line">&#xA0; &#xA0; &#xA0; &#xA0; duration: 2 * 1000</span><br><span class="line">&#xA0; &#xA0; &#xA0; })</span><br><span class="line">      // &#x76F4;&#x63A5;&#x62D2;&#x7EDD;&#x5F80;&#x4E0B;&#x9762;&#x8FD4;&#x56DE;&#x7ED3;&#x679C;&#x4FE1;&#x606F;</span><br><span class="line">&#xA0; &#xA0; &#xA0; return Promise.reject(response.data.msg)</span><br><span class="line">&#xA0; &#xA0; }</span><br><span class="line">&#xA0; },</span><br><span class="line">&#xA0; error =&gt; {</span><br><span class="line">&#xA0; &#xA0; console.log(&apos;err&apos; + error)// for debug</span><br><span class="line">&#xA0;&#xA0;&#xA0;&#xA0;if(error.response.data)&#xA0;{</span><br><span class="line">&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;error.message&#xA0;=&#xA0;error.response.data.msg</span><br><span class="line">&#xA0;&#xA0;&#xA0;&#xA0;}</span><br><span class="line">    // &#x6839;&#x636E;&#x8BF7;&#x6C42;&#x72B6;&#x6001;&#x89C9;&#x5F97;&#x662F;&#x5426;&#x767B;&#x5F55;&#x6216;&#x8005;&#x63D0;&#x793A;&#x5176;&#x4ED6;</span><br><span class="line">&#xA0; &#xA0; if (error.response.status === 401) {</span><br><span class="line">&#xA0; &#xA0; &#xA0; store.commit(&apos;REMOVE_INFO&apos;);</span><br><span class="line">&#xA0; &#xA0; &#xA0; router.push({</span><br><span class="line">&#xA0; &#xA0; &#xA0; &#xA0; path: &apos;/login&apos;</span><br><span class="line">&#xA0; &#xA0; &#xA0; });</span><br><span class="line">&#xA0; &#xA0; &#xA0; error.message = &apos;&#x8BF7;&#x91CD;&#x65B0;&#x767B;&#x5F55;&apos;;</span><br><span class="line">&#xA0; &#xA0; }</span><br><span class="line">&#xA0; &#xA0; if (error.response.status === 403) {</span><br><span class="line">&#xA0; &#xA0; &#xA0; error.message = &apos;&#x6743;&#x9650;&#x4E0D;&#x8DB3;&#xFF0C;&#x65E0;&#x6CD5;&#x8BBF;&#x95EE;&apos;;</span><br><span class="line">&#xA0; &#xA0; }</span><br><span class="line">&#xA0; &#xA0; Element.Message({</span><br><span class="line">&#xA0; &#xA0; &#xA0; message: error.message,</span><br><span class="line">&#xA0; &#xA0; &#xA0; type: &apos;error&apos;,</span><br><span class="line">&#xA0; &#xA0; &#xA0; duration: 3 * 1000</span><br><span class="line">&#xA0; &#xA0; })</span><br><span class="line">&#xA0; &#xA0; return Promise.reject(error)</span><br><span class="line">&#xA0; })</span><br></pre></td></tr></table></figure>

<p>&#x524D;&#x7F6E;&#x62E6;&#x622A;&#xFF0C;&#x5176;&#x5B9E;&#x53EF;&#x4EE5;&#x7EDF;&#x4E00;&#x4E3A;&#x6240;&#x6709;&#x9700;&#x8981;&#x6743;&#x9650;&#x7684;&#x8BF7;&#x6C42;&#x88C5;&#x914D;&#x4E0A;header&#x7684;token&#x4FE1;&#x606F;&#xFF0C;&#x8FD9;&#x6837;&#x4E0D;&#x9700;&#x8981;&#x5728;&#x4F7F;&#x7528;&#x662F;&#x518D;&#x914D;&#x7F6E;&#xFF0C;&#x6211;&#x7684;&#x5C0F;&#x9879;&#x76EE;&#x6BD4;&#x8F83;&#x5C0F;&#xFF0C;&#x6240;&#x4EE5;&#xFF0C;&#x8FD8;&#x662F;&#x514D;&#x4E86;&#x5427;~</p>
<p>&#x7136;&#x540E;&#x518D;main.js&#x4E2D;&#x5BFC;&#x5165;axios.js</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">plain&#x590D;&#x5236;&#x4EE3;&#x7801;import &apos;./axios.js&apos; // &#x8BF7;&#x6C42;&#x62E6;&#x622A;</span><br></pre></td></tr></table></figure>

<p>&#x540E;&#x7AEF;&#x56E0;&#x4E3A;&#x8FD4;&#x56DE;&#x7684;&#x5B9E;&#x4F53;&#x662F;Result&#xFF0C;succ&#x65F6;&#x5019;code&#x4E3A;200&#xFF0C;fail&#x65F6;&#x5019;&#x8FD4;&#x56DE;&#x7684;&#x662F;400&#xFF0C;&#x6240;&#x4EE5;&#x53EF;&#x4EE5;&#x6839;&#x636E;&#x8FD9;&#x91CC;&#x5224;&#x65AD;&#x7ED3;&#x679C;&#x662F;&#x5426;&#x662F;&#x6B63;&#x5E38;&#x7684;&#x3002;&#x53E6;&#x5916;&#x6743;&#x9650;&#x4E0D;&#x8DB3;&#x65F6;&#x5019;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;&#x8BF7;&#x6C42;&#x7ED3;&#x679C;&#x7684;&#x72B6;&#x6001;&#x7801;&#x6765;&#x5224;&#x65AD;&#x7ED3;&#x679C;&#x662F;&#x5426;&#x6B63;&#x5E38;&#x3002;&#x8FD9;&#x91CC;&#x90FD;&#x505A;&#x4E86;&#x7B80;&#x5355;&#x7684;&#x5904;&#x7406;&#x3002;</p>
<p>&#x767B;&#x5F55;&#x5F02;&#x5E38;&#x65F6;&#x5019;&#x7684;&#x6548;&#x679C;&#x5982;&#x4E0B;&#xFF1A;</p>
<p><img src="https://gitee.com/songjianzaina/juejin_p7/raw/master/img/4b4c411e131bba566737bde0f840d5672c4dd4658e3894b196a120e3132afe5d" alt="&#x56FE;&#x7247;"></p>
<h3 id="9&#x3001;&#x535A;&#x5BA2;&#x5217;&#x8868;"><a href="#9&#x3001;&#x535A;&#x5BA2;&#x5217;&#x8868;" class="headerlink" title="9&#x3001;&#x535A;&#x5BA2;&#x5217;&#x8868;"></a>9&#x3001;&#x535A;&#x5BA2;&#x5217;&#x8868;</h3><p>&#x767B;&#x5F55;&#x5B8C;&#x6210;&#x4E4B;&#x540E;&#x76F4;&#x63A5;&#x8FDB;&#x5165;&#x535A;&#x5BA2;&#x5217;&#x8868;&#x9875;&#x9762;&#xFF0C;&#x7136;&#x540E;&#x52A0;&#x8F7D;&#x535A;&#x5BA2;&#x5217;&#x8868;&#x7684;&#x6570;&#x636E;&#x6E32;&#x67D3;&#x51FA;&#x6765;&#x3002;&#x540C;&#x65F6;&#x9875;&#x9762;&#x5934;&#x90E8;&#x6211;&#x4EEC;&#x9700;&#x8981;&#x628A;&#x7528;&#x6237;&#x7684;&#x4FE1;&#x606F;&#x5C55;&#x793A;&#x51FA;&#x6765;&#xFF0C;&#x56E0;&#x4E3A;&#x5F88;&#x591A;&#x5730;&#x65B9;&#x90FD;&#x7528;&#x5230;&#x8FD9;&#x4E2A;&#x6A21;&#x5757;&#xFF0C;&#x6240;&#x4EE5;&#x6211;&#x4EEC;&#x628A;&#x9875;&#x9762;&#x5934;&#x90E8;&#x7684;&#x7528;&#x6237;&#x4FE1;&#x606F;&#x5355;&#x72EC;&#x62BD;&#x53D6;&#x51FA;&#x6765;&#x4F5C;&#x4E3A;&#x4E00;&#x4E2A;&#x7EC4;&#x4EF6;&#x3002;</p>
<h4 id="&#x5934;&#x90E8;&#x7528;&#x6237;&#x4FE1;&#x606F;"><a href="#&#x5934;&#x90E8;&#x7528;&#x6237;&#x4FE1;&#x606F;" class="headerlink" title="&#x5934;&#x90E8;&#x7528;&#x6237;&#x4FE1;&#x606F;"></a>&#x5934;&#x90E8;&#x7528;&#x6237;&#x4FE1;&#x606F;</h4><p>&#x90A3;&#x4E48;&#xFF0C;&#x6211;&#x4EEC;&#x5148;&#x6765;&#x5B8C;&#x6210;&#x5934;&#x90E8;&#x7684;&#x7528;&#x6237;&#x4FE1;&#x606F;&#xFF0C;&#x5E94;&#x8BE5;&#x5305;&#x542B;&#x4E09;&#x90E8;&#x5206;&#x4FE1;&#x606F;&#xFF1A;id&#xFF0C;&#x5934;&#x50CF;&#x3001;&#x7528;&#x6237;&#x540D;&#xFF0C;&#x800C;&#x8FD9;&#x4E9B;&#x4FE1;&#x606F;&#x6211;&#x4EEC;&#x662F;&#x5728;&#x767B;&#x5F55;&#x4E4B;&#x540E;&#x5C31;&#x5DF2;&#x7ECF;&#x5B58;&#x5728;&#x4E86;sessionStorage&#x3002;&#x56E0;&#x6B64;&#xFF0C;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;store&#x7684;getters&#x83B7;&#x53D6;&#x5230;&#x7528;&#x6237;&#x4FE1;&#x606F;&#x3002;</p>
<p><img src="https://gitee.com/songjianzaina/juejin_p7/raw/master/img/76f24d1535dd48e55fd6bd91e97a2df030a3e049d9116ebd339c751f3a0a980d" alt="&#x56FE;&#x7247;"></p>
<p>&#x770B;&#x8D77;&#x6765;&#x4E0D;&#x662F;&#x5F88;&#x590D;&#x6742;&#xFF0C;&#x6211;&#x4EEC;&#x8D34;&#x51FA;&#x4EE3;&#x7801;&#xFF1A;</p>
<ul>
<li>components\Header.vue</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br></pre></td><td class="code"><pre><span class="line">plain&#x590D;&#x5236;&#x4EE3;&#x7801;&lt;template&gt;</span><br><span class="line">  &lt;div class=&quot;m-content&quot;&gt;</span><br><span class="line">    &lt;h3&gt;&#x6B22;&#x8FCE;&#x6765;&#x5230;MarkerHub&#x7684;&#x535A;&#x5BA2;&lt;/h3&gt;</span><br><span class="line">    &lt;div class=&quot;block&quot;&gt;</span><br><span class="line">      &lt;el-avatar :size=&quot;50&quot; :src=&quot;user.avatar&quot;&gt;&lt;/el-avatar&gt;</span><br><span class="line">      &lt;div&gt;{{ user.username }}&lt;/div&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">    &lt;div class=&quot;maction&quot;&gt;</span><br><span class="line">      &lt;el-link href=&quot;/blogs&quot;&gt;&#x4E3B;&#x9875;&lt;/el-link&gt;</span><br><span class="line">      &lt;el-divider direction=&quot;vertical&quot;&gt;&lt;/el-divider&gt;</span><br><span class="line">      &lt;span&gt;</span><br><span class="line">          &lt;el-link type=&quot;success&quot; href=&quot;/blog/add&quot; :disabled=&quot;!hasLogin&quot;&gt;&#x53D1;&#x8868;&#x6587;&#x7AE0;&lt;/el-link&gt;</span><br><span class="line">        &lt;/span&gt;</span><br><span class="line">      &lt;el-divider direction=&quot;vertical&quot;&gt;&lt;/el-divider&gt;</span><br><span class="line">      &lt;span v-show=&quot;!hasLogin&quot;&gt;</span><br><span class="line">          &lt;el-link type=&quot;primary&quot; href=&quot;/login&quot;&gt;&#x767B;&#x9646;&lt;/el-link&gt;</span><br><span class="line">        &lt;/span&gt;</span><br><span class="line">      &lt;span v-show=&quot;hasLogin&quot;&gt;</span><br><span class="line">          &lt;el-link type=&quot;danger&quot; @click=&quot;logout&quot;&gt;&#x9000;&#x51FA;&lt;/el-link&gt;</span><br><span class="line">        &lt;/span&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">  export default {</span><br><span class="line">    name: &quot;Header&quot;,</span><br><span class="line">    data() {</span><br><span class="line">      return {</span><br><span class="line">        hasLogin: false,</span><br><span class="line">        user: {</span><br><span class="line">          username: &apos;&#x8BF7;&#x5148;&#x767B;&#x5F55;&apos;,</span><br><span class="line">          avatar: &quot;https://cube.elemecdn.com/3/7c/3ea6beec64369c2642b92c6726f1epng.png&quot;</span><br><span class="line">        },</span><br><span class="line">        blogs: {},</span><br><span class="line">        currentPage: 1,</span><br><span class="line">        total: 0</span><br><span class="line">      }</span><br><span class="line">    },</span><br><span class="line">    methods: {</span><br><span class="line">      logout() {</span><br><span class="line">        const _this = this</span><br><span class="line">        this.$axios.get(&apos;http://localhost:8081/logout&apos;, {</span><br><span class="line">          headers: {</span><br><span class="line">            &quot;Authorization&quot;: localStorage.getItem(&quot;token&quot;)</span><br><span class="line">          }</span><br><span class="line">        }).then((res) =&gt; {</span><br><span class="line">          _this.$store.commit(&apos;REMOVE_INFO&apos;)</span><br><span class="line">          _this.$router.push(&apos;/login&apos;)</span><br><span class="line">        });</span><br><span class="line">      }</span><br><span class="line">    },</span><br><span class="line">    created() {</span><br><span class="line">      if(this.$store.getters.getUser.username) {</span><br><span class="line">        this.user.username = this.$store.getters.getUser.username</span><br><span class="line">        this.user.avatar = this.$store.getters.getUser.avatar</span><br><span class="line">        this.hasLogin = true</span><br><span class="line">      }</span><br><span class="line">    }</span><br><span class="line">  }</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<p>&#x4E0A;&#x9762;&#x4EE3;&#x7801;created()&#x4E2D;&#x521D;&#x59CB;&#x5316;&#x7528;&#x6237;&#x7684;&#x4FE1;&#x606F;&#xFF0C;&#x901A;&#x8FC7;hasLogin&#x7684;&#x72B6;&#x6001;&#x6765;&#x63A7;&#x5236;&#x767B;&#x5F55;&#x548C;&#x9000;&#x51FA;&#x6309;&#x94AE;&#x7684;&#x5207;&#x6362;&#xFF0C;&#x4EE5;&#x53CA;&#x53D1;&#x8868;&#x6587;&#x7AE0;&#x94FE;&#x63A5;&#x7684;disabled&#xFF0C;&#x8FD9;&#x6837;&#x7528;&#x6237;&#x7684;&#x4FE1;&#x606F;&#x5C31;&#x80FD;&#x5C55;&#x793A;&#x51FA;&#x6765;&#x4E86;&#x3002;<br>&#x7136;&#x540E;&#x8FD9;&#x91CC;&#x6709;&#x4E2A;&#x9000;&#x51FA;&#x6309;&#x94AE;&#xFF0C;&#x5728;methods&#x4E2D;&#x6709;&#x4E2A;logout()&#x65B9;&#x6CD5;&#xFF0C;&#x903B;&#x8F91;&#x6BD4;&#x8F83;&#x7B80;&#x5355;&#xFF0C;&#x76F4;&#x63A5;&#x8BBF;&#x95EE;/logout&#xFF0C;&#x56E0;&#x4E3A;&#x4E4B;&#x524D;axios.js&#x4E2D;&#x6211;&#x4EEC;&#x5DF2;&#x7ECF;&#x8BBE;&#x7F6E;axios&#x8BF7;&#x6C42;&#x7684;baseURL&#xFF0C;&#x6240;&#x4EE5;&#x8FD9;&#x91CC;&#x6211;&#x4EEC;&#x4E0D;&#x518D;&#x9700;&#x8981;&#x94FE;&#x63A5;&#x7684;&#x524D;&#x7F00;&#x4E86;&#x54C8;&#x3002;&#x56E0;&#x4E3A;&#x662F;&#x767B;&#x5F55;&#x4E4B;&#x540E;&#x624D;&#x80FD;&#x8BBF;&#x95EE;&#x7684;&#x53D7;&#x9650;&#x8D44;&#x6E90;&#xFF0C;&#x6240;&#x4EE5;&#x5728;header&#x4E2D;&#x5E26;&#x4E0A;&#x4E86;Authorization&#x3002;&#x8FD4;&#x56DE;&#x7ED3;&#x679C;&#x6E05;&#x695A;store&#x4E2D;&#x7684;&#x7528;&#x6237;&#x4FE1;&#x606F;&#x548C;token&#x4FE1;&#x606F;&#xFF0C;&#x8DF3;&#x8F6C;&#x5230;&#x767B;&#x5F55;&#x9875;&#x9762;&#x3002;</p>
<p>&#x7136;&#x540E;&#x9700;&#x8981;&#x5934;&#x90E8;&#x7528;&#x6237;&#x4FE1;&#x606F;&#x7684;&#x9875;&#x9762;&#x53EA;&#x9700;&#x8981;&#x51E0;&#x4E2A;&#x6B65;&#x9AA4;&#xFF1A;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">plain&#x590D;&#x5236;&#x4EE3;&#x7801;import Header from &quot;@/components/Header&quot;;</span><br><span class="line">data() {</span><br><span class="line">  components: {Header}</span><br><span class="line">}</span><br><span class="line"># &#x7136;&#x540E;&#x6A21;&#x677F;&#x4E2D;&#x8C03;&#x7528;&#x7EC4;&#x4EF6;</span><br><span class="line">&lt;Header&gt;&lt;/Header&gt;</span><br></pre></td></tr></table></figure>

<h4 id="&#x535A;&#x5BA2;&#x5206;&#x9875;"><a href="#&#x535A;&#x5BA2;&#x5206;&#x9875;" class="headerlink" title="&#x535A;&#x5BA2;&#x5206;&#x9875;"></a>&#x535A;&#x5BA2;&#x5206;&#x9875;</h4><p>&#x63A5;&#x4E0B;&#x6765;&#x5C31;&#x662F;&#x5217;&#x8868;&#x9875;&#x9762;&#xFF0C;&#x9700;&#x8981;&#x505A;&#x5206;&#x9875;&#xFF0C;&#x5217;&#x8868;&#x6211;&#x4EEC;&#x5728;element-ui&#x4E2D;&#x76F4;&#x63A5;&#x4F7F;&#x7528;<strong>&#x65F6;&#x95F4;&#x7EBF;</strong>&#x7EC4;&#x4EF6;&#x6765;&#x4F5C;&#x4E3A;&#x6211;&#x4EEC;&#x7684;&#x5217;&#x8868;&#x6837;&#x5F0F;&#xFF0C;&#x8FD8;&#x662F;&#x633A;&#x597D;&#x770B;&#x7684;&#x3002;&#x8FD8;&#x6709;&#x6211;&#x4EEC;&#x7684;&#x5206;&#x9875;&#x7EC4;&#x4EF6;&#x3002;</p>
<p>&#x9700;&#x8981;&#x51E0;&#x90E8;&#x5206;&#x4FE1;&#x606F;&#xFF1A;</p>
<ul>
<li>&#x5206;&#x9875;&#x4FE1;&#x606F;</li>
<li>&#x535A;&#x5BA2;&#x5217;&#x8868;&#x5185;&#x5BB9;&#xFF0C;&#x5305;&#x62EC;id&#x3001;&#x6807;&#x9898;&#x3001;&#x6458;&#x8981;&#x3001;&#x521B;&#x5EFA;&#x65F6;&#x95F4;</li>
<li>views\Blogs.vue</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line">plain&#x590D;&#x5236;&#x4EE3;&#x7801;&lt;template&gt;</span><br><span class="line">  &lt;div class=&quot;m-container&quot;&gt;</span><br><span class="line">    &lt;Header&gt;&lt;/Header&gt;</span><br><span class="line">    &lt;div class=&quot;block&quot;&gt;</span><br><span class="line">      &lt;el-timeline&gt;</span><br><span class="line">        &lt;el-timeline-item v-bind:timestamp=&quot;blog.created&quot; placement=&quot;top&quot; v-for=&quot;blog in blogs&quot;&gt;</span><br><span class="line">          &lt;el-card&gt;</span><br><span class="line">            &lt;h4&gt;&lt;router-link :to=&quot;{name: &apos;BlogDetail&apos;, params: {blogId: blog.id}}&quot;&gt;{{blog.title}}&lt;/router-link&gt;&lt;/h4&gt;</span><br><span class="line">            &lt;p&gt;{{blog.description}}&lt;/p&gt;</span><br><span class="line">          &lt;/el-card&gt;</span><br><span class="line">        &lt;/el-timeline-item&gt;</span><br><span class="line">      &lt;/el-timeline&gt;</span><br><span class="line">     </span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">    &lt;el-pagination class=&quot;mpage&quot;</span><br><span class="line">      background</span><br><span class="line">      layout=&quot;prev, pager, next&quot;</span><br><span class="line">      :current-page=currentPage</span><br><span class="line">      :page-size=pageSize</span><br><span class="line">      @current-change=page</span><br><span class="line">      :total=&quot;total&quot;&gt;</span><br><span class="line">    &lt;/el-pagination&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">  import Header from &quot;@/components/Header&quot;;</span><br><span class="line">  export default {</span><br><span class="line">    name: &quot;Blogs&quot;,</span><br><span class="line">    components: {Header},</span><br><span class="line">    data() {</span><br><span class="line">      return {</span><br><span class="line">        blogs: {},</span><br><span class="line">        currentPage: 1,</span><br><span class="line">        total: 0,</span><br><span class="line">        pageSize: 5</span><br><span class="line">      }</span><br><span class="line">    },</span><br><span class="line">    methods: {</span><br><span class="line">      page(currentPage) {</span><br><span class="line">        const _this = this</span><br><span class="line">        this.$axios.get(&apos;http://localhost:8081/blogs?currentPage=&apos; + currentPage).then((res) =&gt; {</span><br><span class="line">          console.log(res.data.data.records)</span><br><span class="line">          _this.blogs = res.data.data.records</span><br><span class="line">          _this.currentPage = res.data.data.current</span><br><span class="line">          _this.total = res.data.data.total</span><br><span class="line">          _this.pageSize = res.data.data.size</span><br><span class="line">        })</span><br><span class="line">      }</span><br><span class="line">    },</span><br><span class="line">    mounted () {</span><br><span class="line">      this.page(1);</span><br><span class="line">    }</span><br><span class="line">  }</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<p>data()&#x4E2D;&#x76F4;&#x63A5;&#x5B9A;&#x4E49;&#x535A;&#x5BA2;&#x5217;&#x8868;blogs&#x3001;&#x4EE5;&#x53CA;&#x4E00;&#x4E9B;&#x5206;&#x9875;&#x4FE1;&#x606F;&#x3002;methods()&#x4E2D;&#x5B9A;&#x4E49;&#x5206;&#x9875;&#x7684;&#x8C03;&#x7528;&#x63A5;&#x53E3;page&#xFF08;currentPage&#xFF09;&#xFF0C;&#x53C2;&#x6570;&#x662F;&#x9700;&#x8981;&#x8C03;&#x6574;&#x7684;&#x9875;&#x7801;currentPage&#xFF0C;&#x5F97;&#x5230;&#x7ED3;&#x679C;&#x4E4B;&#x540E;&#x76F4;&#x63A5;&#x8D4B;&#x503C;&#x5373;&#x53EF;&#x3002;&#x7136;&#x540E;&#x521D;&#x59CB;&#x5316;&#x65F6;&#x5019;&#xFF0C;&#x76F4;&#x63A5;&#x5728;mounted()&#x65B9;&#x6CD5;&#x4E2D;&#x8C03;&#x7528;&#x7B2C;&#x4E00;&#x9875;this.page(1)&#x3002;&#x5B8C;&#x7F8E;&#x3002;&#x4F7F;&#x7528;element-ui&#x7EC4;&#x4EF6;&#x5C31;&#x662F;&#x7B80;&#x5355;&#x5FEB;&#x6377;&#x54C8;&#x54C8;&#xFF01;<br>&#x6CE8;&#x610F;&#x6807;&#x9898;&#x8FD9;&#x91CC;&#x6211;&#x4EEC;&#x6DFB;&#x52A0;&#x4E86;&#x94FE;&#x63A5;&#xFF0C;&#x4F7F;&#x7528;&#x7684;&#x662F;&#x6807;&#x7B7E;&#x3002;</p>
<h3 id="10&#x3001;&#x535A;&#x5BA2;&#x7F16;&#x8F91;&#xFF08;&#x53D1;&#x8868;&#xFF09;"><a href="#10&#x3001;&#x535A;&#x5BA2;&#x7F16;&#x8F91;&#xFF08;&#x53D1;&#x8868;&#xFF09;" class="headerlink" title="10&#x3001;&#x535A;&#x5BA2;&#x7F16;&#x8F91;&#xFF08;&#x53D1;&#x8868;&#xFF09;"></a>10&#x3001;&#x535A;&#x5BA2;&#x7F16;&#x8F91;&#xFF08;&#x53D1;&#x8868;&#xFF09;</h3><p>&#x6211;&#x4EEC;&#x70B9;&#x51FB;&#x53D1;&#x8868;&#x535A;&#x5BA2;&#x94FE;&#x63A5;&#x8C03;&#x6574;&#x5230;/blog/add&#x9875;&#x9762;&#xFF0C;&#x8FD9;&#x91CC;&#x6211;&#x4EEC;&#x9700;&#x8981;&#x7528;&#x5230;&#x4E00;&#x4E2A;markdown&#x7F16;&#x8F91;&#x5668;&#xFF0C;&#x5728;vue&#x7EC4;&#x4EF6;&#x4E2D;&#xFF0C;&#x6BD4;&#x8F83;&#x597D;&#x7528;&#x7684;&#x662F;mavon-editor&#xFF0C;&#x90A3;&#x4E48;&#x6211;&#x4EEC;&#x76F4;&#x63A5;&#x4F7F;&#x7528;&#x54C8;&#x3002;&#x5148;&#x6765;&#x5B89;&#x88C5;mavon-editor&#x76F8;&#x5173;&#x7EC4;&#x4EF6;&#xFF1A;</p>
<h4 id="&#x5B89;&#x88C5;mavon-editor"><a href="#&#x5B89;&#x88C5;mavon-editor" class="headerlink" title="&#x5B89;&#x88C5;mavon-editor"></a>&#x5B89;&#x88C5;mavon-editor</h4><p>&#x57FA;&#x4E8E;Vue&#x7684;markdown&#x7F16;&#x8F91;&#x5668;mavon-editor</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">plain&#x590D;&#x5236;&#x4EE3;&#x7801;cnpm install mavon-editor --save</span><br></pre></td></tr></table></figure>

<p>&#x7136;&#x540E;&#x5728;main.js&#x4E2D;&#x5168;&#x5C40;&#x6CE8;&#x518C;&#xFF1A;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">javascript&#x590D;&#x5236;&#x4EE3;&#x7801;// &#x5168;&#x5C40;&#x6CE8;&#x518C;</span><br><span class="line">import Vue from &apos;vue&apos;</span><br><span class="line">import mavonEditor from &apos;mavon-editor&apos;</span><br><span class="line">import &apos;mavon-editor/dist/css/index.css&apos;</span><br><span class="line">// use</span><br><span class="line">Vue.use(mavonEditor)</span><br></pre></td></tr></table></figure>

<p>ok&#xFF0C;&#x90A3;&#x4E48;&#x6211;&#x4EEC;&#x53BB;&#x5B9A;&#x4E49;&#x6211;&#x4EEC;&#x7684;&#x535A;&#x5BA2;&#x8868;&#x5355;&#xFF1A;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br></pre></td><td class="code"><pre><span class="line">plain&#x590D;&#x5236;&#x4EE3;&#x7801;&lt;template&gt;</span><br><span class="line">  &lt;div class=&quot;m-container&quot;&gt;</span><br><span class="line">    &lt;Header&gt;&lt;/Header&gt;</span><br><span class="line">    &lt;div class=&quot;m-content&quot;&gt;</span><br><span class="line">      &lt;el-form ref=&quot;editForm&quot; status-icon :model=&quot;editForm&quot; :rules=&quot;rules&quot; label-width=&quot;80px&quot;&gt;</span><br><span class="line">        &lt;el-form-item label=&quot;&#x6807;&#x9898;&quot; prop=&quot;title&quot;&gt;</span><br><span class="line">          &lt;el-input v-model=&quot;editForm.title&quot;&gt;&lt;/el-input&gt;</span><br><span class="line">        &lt;/el-form-item&gt;</span><br><span class="line">        &lt;el-form-item label=&quot;&#x6458;&#x8981;&quot; prop=&quot;description&quot;&gt;</span><br><span class="line">          &lt;el-input type=&quot;textarea&quot; v-model=&quot;editForm.description&quot;&gt;&lt;/el-input&gt;</span><br><span class="line">        &lt;/el-form-item&gt;</span><br><span class="line">        &lt;el-form-item label=&quot;&#x5185;&#x5BB9;&quot; prop=&quot;content&quot;&gt;</span><br><span class="line">          &lt;mavon-editor v-model=&quot;editForm.content&quot;/&gt;</span><br><span class="line">        &lt;/el-form-item&gt;</span><br><span class="line">        &lt;el-form-item&gt;</span><br><span class="line">          &lt;el-button type=&quot;primary&quot; @click=&quot;submitForm()&quot;&gt;&#x7ACB;&#x5373;&#x521B;&#x5EFA;&lt;/el-button&gt;</span><br><span class="line">          &lt;el-button&gt;&#x53D6;&#x6D88;&lt;/el-button&gt;</span><br><span class="line">        &lt;/el-form-item&gt;</span><br><span class="line">      &lt;/el-form&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">  import Header from &quot;@/components/Header&quot;;</span><br><span class="line">  export default {</span><br><span class="line">    name: &quot;BlogEdit&quot;,</span><br><span class="line">    components: {Header},</span><br><span class="line">    data() {</span><br><span class="line">      return {</span><br><span class="line">        editForm: {</span><br><span class="line">          id: null,</span><br><span class="line">          title: &apos;&apos;,</span><br><span class="line">          description: &apos;&apos;,</span><br><span class="line">          content: &apos;&apos;</span><br><span class="line">        },</span><br><span class="line">        rules: {</span><br><span class="line">          title: [</span><br><span class="line">            {required: true, message: &apos;&#x8BF7;&#x8F93;&#x5165;&#x6807;&#x9898;&apos;, trigger: &apos;blur&apos;},</span><br><span class="line">            {min: 3, max: 50, message: &apos;&#x957F;&#x5EA6;&#x5728; 3 &#x5230; 50 &#x4E2A;&#x5B57;&#x7B26;&apos;, trigger: &apos;blur&apos;}</span><br><span class="line">          ],</span><br><span class="line">          description: [</span><br><span class="line">            {required: true, message: &apos;&#x8BF7;&#x8F93;&#x5165;&#x6458;&#x8981;&apos;, trigger: &apos;blur&apos;}</span><br><span class="line">          ]</span><br><span class="line">        }</span><br><span class="line">      }</span><br><span class="line">    },</span><br><span class="line">    created() {</span><br><span class="line">      const blogId = this.$route.params.blogId</span><br><span class="line">      const _this = this</span><br><span class="line">      if(blogId) {</span><br><span class="line">        this.$axios.get(&apos;/blog/&apos; + blogId).then((res) =&gt; {</span><br><span class="line">          const blog = res.data.data</span><br><span class="line">          _this.editForm.id = blog.id</span><br><span class="line">          _this.editForm.title = blog.title</span><br><span class="line">          _this.editForm.description = blog.description</span><br><span class="line">          _this.editForm.content = blog.content</span><br><span class="line">        });</span><br><span class="line">      }</span><br><span class="line">    },</span><br><span class="line">    methods: {</span><br><span class="line">      submitForm() {</span><br><span class="line">        const _this = this</span><br><span class="line">        this.$refs.editForm.validate((valid) =&gt; {</span><br><span class="line">          if (valid) {</span><br><span class="line">            this.$axios.post(&apos;/blog/edit&apos;, this.editForm, {</span><br><span class="line">              headers: {</span><br><span class="line">                &quot;Authorization&quot;: localStorage.getItem(&quot;token&quot;)</span><br><span class="line">              }</span><br><span class="line">            }).then((res) =&gt; {</span><br><span class="line">              _this.$alert(&apos;&#x64CD;&#x4F5C;&#x6210;&#x529F;&apos;, &apos;&#x63D0;&#x793A;&apos;, {</span><br><span class="line">                confirmButtonText: &apos;&#x786E;&#x5B9A;&apos;,</span><br><span class="line">                callback: action =&gt; {</span><br><span class="line">                  _this.$router.push(&quot;/blogs&quot;)</span><br><span class="line">                }</span><br><span class="line">              });</span><br><span class="line">            });</span><br><span class="line">          } else {</span><br><span class="line">            console.log(&apos;error submit!!&apos;);</span><br><span class="line">            return false;</span><br><span class="line">          }</span><br><span class="line">        })</span><br><span class="line">      }</span><br><span class="line">    }</span><br><span class="line">  }</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<p>&#x903B;&#x8F91;&#x4F9D;&#x7136;&#x7B80;&#x5355;&#xFF0C;&#x6821;&#x9A8C;&#x8868;&#x5355;&#xFF0C;&#x7136;&#x540E;&#x70B9;&#x51FB;&#x6309;&#x94AE;&#x63D0;&#x4EA4;&#x8868;&#x5355;&#xFF0C;&#x6CE8;&#x610F;&#x5934;&#x90E8;&#x52A0;&#x4E0A;Authorization&#x4FE1;&#x606F;&#xFF0C;&#x8FD4;&#x56DE;&#x7ED3;&#x679C;&#x5F39;&#x7A97;&#x63D0;&#x793A;&#x64CD;&#x4F5C;&#x6210;&#x529F;&#xFF0C;&#x7136;&#x540E;&#x8DF3;&#x8F6C;&#x5230;&#x535A;&#x5BA2;&#x5217;&#x8868;&#x9875;&#x9762;&#x3002;emm&#xFF0C;&#x548C;&#x5199;ajax&#x6CA1;&#x5565;&#x533A;&#x522B;&#x3002;&#x719F;&#x6089;&#x4E00;&#x4E0B;vue&#x7684;&#x4E00;&#x4E9B;&#x6307;&#x4EE4;&#x4F7F;&#x7528;&#x5373;&#x53EF;&#x3002;<br>&#x7136;&#x540E;&#x56E0;&#x4E3A;&#x7F16;&#x8F91;&#x548C;&#x6DFB;&#x52A0;&#x662F;&#x540C;&#x4E00;&#x4E2A;&#x9875;&#x9762;&#xFF0C;&#x6240;&#x4EE5;&#x6709;&#x4E86;create()&#x65B9;&#x6CD5;&#xFF0C;&#x6BD4;&#x5982;&#x4ECE;&#x7F16;&#x8F91;&#x8FDE;&#x63A5;/blog/7/edit&#x4E2D;&#x83B7;&#x53D6;blogId&#x4E3A;7&#x7684;&#x8FD9;&#x4E2A;id&#x3002;&#x7136;&#x540E;&#x56DE;&#x663E;&#x535A;&#x5BA2;&#x4FE1;&#x606F;&#x3002;&#x83B7;&#x53D6;&#x65B9;&#x5F0F;&#x662F;const blogId = this.$route.params.blogId&#x3002;</p>
<p>&#x5BF9;&#x4E86;&#xFF0C;mavon-editor&#x56E0;&#x4E3A;&#x5DF2;&#x7ECF;&#x5168;&#x5C40;&#x6CE8;&#x518C;&#xFF0C;&#x6240;&#x4EE5;&#x6211;&#x4EEC;&#x76F4;&#x63A5;&#x4F7F;&#x7528;&#x7EC4;&#x4EF6;&#x5373;&#x53EF;&#xFF1A;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">plain&#x590D;&#x5236;&#x4EE3;&#x7801;&lt;mavon-editor v-model=&quot;editForm.content&quot;/&gt;</span><br></pre></td></tr></table></figure>

<p>&#x6548;&#x679C;&#x5982;&#x4E0B;&#xFF1A;<br><img src="https://gitee.com/songjianzaina/juejin_p7/raw/master/img/0789e7d9e712bb66575fbc016a24b36b618f705a94a7f09750fa3ed01be150cc" alt="&#x56FE;&#x7247;"></p>
<h3 id="11&#x3001;&#x535A;&#x5BA2;&#x8BE6;&#x60C5;"><a href="#11&#x3001;&#x535A;&#x5BA2;&#x8BE6;&#x60C5;" class="headerlink" title="11&#x3001;&#x535A;&#x5BA2;&#x8BE6;&#x60C5;"></a>11&#x3001;&#x535A;&#x5BA2;&#x8BE6;&#x60C5;</h3><p>&#x535A;&#x5BA2;&#x8BE6;&#x60C5;&#x4E2D;&#x9700;&#x8981;&#x56DE;&#x663E;&#x535A;&#x5BA2;&#x4FE1;&#x606F;&#xFF0C;&#x7136;&#x540E;&#x6709;&#x4E2A;&#x95EE;&#x9898;&#x5C31;&#x662F;&#xFF0C;&#x540E;&#x7AEF;&#x4F20;&#x8FC7;&#x6765;&#x7684;&#x662F;&#x535A;&#x5BA2;&#x5185;&#x5BB9;&#x662F;markdown&#x683C;&#x5F0F;&#x7684;&#x5185;&#x5BB9;&#xFF0C;&#x6211;&#x4EEC;&#x9700;&#x8981;&#x8FDB;&#x884C;&#x6E32;&#x67D3;&#x7136;&#x540E;&#x663E;&#x793A;&#x51FA;&#x6765;&#xFF0C;&#x8FD9;&#x91CC;&#x6211;&#x4EEC;&#x4F7F;&#x7528;&#x4E00;&#x4E2A;&#x63D2;&#x4EF6;markdown-it&#xFF0C;&#x7528;&#x4E8E;&#x89E3;&#x6790;md&#x6587;&#x6863;&#xFF0C;&#x7136;&#x540E;&#x5BFC;&#x5165;github-markdown-c&#xFF0C;&#x6240;&#x8C13;md&#x7684;&#x6837;&#x5F0F;&#x3002;</p>
<p>&#x65B9;&#x6CD5;&#x5982;&#x4E0B;&#xFF1A;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">plain&#x590D;&#x5236;&#x4EE3;&#x7801;# &#x7528;&#x4E8E;&#x89E3;&#x6790;md&#x6587;&#x6863;</span><br><span class="line">cnpm install markdown-it --save</span><br><span class="line"># md&#x6837;&#x5F0F;</span><br><span class="line">cnpm install github-markdown-css</span><br></pre></td></tr></table></figure>

<p>&#x7136;&#x540E;&#x5C31;&#x53EF;&#x4EE5;&#x5728;&#x9700;&#x8981;&#x6E32;&#x67D3;&#x7684;&#x5730;&#x65B9;&#x4F7F;&#x7528;&#xFF1A;</p>
<ul>
<li>views\BlogDetail.vue</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line">plain&#x590D;&#x5236;&#x4EE3;&#x7801;&lt;template&gt;</span><br><span class="line">  &lt;div class=&quot;m-container&quot;&gt;</span><br><span class="line">    &lt;Header&gt;&lt;/Header&gt;</span><br><span class="line">    &lt;div class=&quot;mblog&quot;&gt;</span><br><span class="line">      &lt;h2&gt;{{ blog.title }}&lt;/h2&gt;</span><br><span class="line">      &lt;el-link icon=&quot;el-icon-edit&quot; v-if=&quot;ownBlog&quot;&gt;&lt;router-link :to=&quot;{name: &apos;BlogEdit&apos;, params: {blogId: blog.id}}&quot;&gt;&#x7F16;&#x8F91;&lt;/router-link&gt;&lt;/el-link&gt;</span><br><span class="line">      &lt;el-divider&gt;&lt;/el-divider&gt;</span><br><span class="line">      &lt;div class=&quot;content markdown-body&quot; v-html=&quot;blog.content&quot;&gt;&lt;/div&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">  import &apos;github-markdown-css/github-markdown.css&apos; // &#x7136;&#x540E;&#x6DFB;&#x52A0;&#x6837;&#x5F0F;markdown-body</span><br><span class="line">  import Header from &quot;@/components/Header&quot;;</span><br><span class="line">  export default {</span><br><span class="line">    name: &quot;BlogDetail&quot;,</span><br><span class="line">    components: {</span><br><span class="line">      Header</span><br><span class="line">    },</span><br><span class="line">    data() {</span><br><span class="line">      return {</span><br><span class="line">        blog: {</span><br><span class="line">          userId: null,</span><br><span class="line">          title: &quot;&quot;,</span><br><span class="line">          description: &quot;&quot;,</span><br><span class="line">          content: &quot;&quot;</span><br><span class="line">        },</span><br><span class="line">        ownBlog: false</span><br><span class="line">      }</span><br><span class="line">    },</span><br><span class="line">    methods: {</span><br><span class="line">      getBlog() {</span><br><span class="line">        const blogId = this.$route.params.blogId</span><br><span class="line">        const _this = this</span><br><span class="line">        this.$axios.get(&apos;/blog/&apos; + blogId).then((res) =&gt; {</span><br><span class="line">          console.log(res)</span><br><span class="line">          console.log(res.data.data)</span><br><span class="line">          _this.blog = res.data.data</span><br><span class="line">          var MarkdownIt = require(&apos;markdown-it&apos;),</span><br><span class="line">            md = new MarkdownIt();</span><br><span class="line">          var result = md.render(_this.blog.content);</span><br><span class="line">          _this.blog.content = result</span><br><span class="line">          // &#x5224;&#x65AD;&#x662F;&#x5426;&#x662F;&#x81EA;&#x5DF1;&#x7684;&#x6587;&#x7AE0;&#xFF0C;&#x80FD;&#x5426;&#x7F16;&#x8F91;</span><br><span class="line">          _this.ownBlog =  (_this.blog.userId === _this.$store.getters.getUser.id)</span><br><span class="line">        });</span><br><span class="line">      }</span><br><span class="line">    },</span><br><span class="line">    created() {</span><br><span class="line">      this.getBlog()</span><br><span class="line">    }</span><br><span class="line">  }</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<p>&#x5177;&#x4F53;&#x903B;&#x8F91;&#x8FD8;&#x662F;&#x633A;&#x7B80;&#x5355;&#xFF0C;&#x521D;&#x59CB;&#x5316;create()&#x65B9;&#x6CD5;&#x4E2D;&#x8C03;&#x7528;getBlog()&#x65B9;&#x6CD5;&#xFF0C;&#x8BF7;&#x6C42;&#x535A;&#x5BA2;&#x8BE6;&#x60C5;&#x63A5;&#x53E3;&#xFF0C;&#x8FD4;&#x56DE;&#x7684;&#x535A;&#x5BA2;&#x8BE6;&#x60C5;content&#x901A;&#x8FC7;markdown-it&#x5DE5;&#x5177;&#x8FDB;&#x884C;&#x6E32;&#x67D3;&#x3002;</p>
<p>&#x518D;&#x5BFC;&#x5165;&#x6837;&#x5F0F;&#xFF1A;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">plain&#x590D;&#x5236;&#x4EE3;&#x7801;import &apos;github-markdown.css&apos;</span><br></pre></td></tr></table></figure>

<p>&#x7136;&#x540E;&#x5728;content&#x7684;div&#x4E2D;&#x6DFB;&#x52A0;class&#x4E3A;markdown-body&#x5373;&#x53EF;&#x54C8;&#x3002;<br>&#x6548;&#x679C;&#x5982;&#x4E0B;&#xFF1A;</p>
<p><img src="https://gitee.com/songjianzaina/juejin_p7/raw/master/img/06e232edb5c4c879c53ffd92e6a60d6997e1753bed91247cfd1acc320dfc74bb" alt="&#x56FE;&#x7247;"></p>
<p>&#x53E6;&#x5916;&#x6807;&#x9898;&#x4E0B;&#x6DFB;&#x52A0;&#x4E86;&#x4E2A;&#x5C0F;&#x5C0F;&#x7684;&#x7F16;&#x8F91;&#x6309;&#x94AE;&#xFF0C;&#x901A;&#x8FC7;ownBlog &#xFF08;&#x5224;&#x65AD;&#x535A;&#x6587;&#x4F5C;&#x8005;&#x4E0E;&#x767B;&#x5F55;&#x7528;&#x6237;&#x662F;&#x5426;&#x540C;&#x4E00;&#x4EBA;&#xFF09;&#x6765;&#x5224;&#x65AD;&#x6309;&#x94AE;&#x662F;&#x5426;&#x663E;&#x793A;&#x51FA;&#x6765;&#x3002;</p>
<h3 id="12&#x3001;&#x8DEF;&#x7531;&#x6743;&#x9650;&#x62E6;&#x622A;"><a href="#12&#x3001;&#x8DEF;&#x7531;&#x6743;&#x9650;&#x62E6;&#x622A;" class="headerlink" title="12&#x3001;&#x8DEF;&#x7531;&#x6743;&#x9650;&#x62E6;&#x622A;"></a>12&#x3001;&#x8DEF;&#x7531;&#x6743;&#x9650;&#x62E6;&#x622A;</h3><p>&#x9875;&#x9762;&#x5DF2;&#x7ECF;&#x5F00;&#x53D1;&#x5B8C;&#x6BD5;&#x4E4B;&#x540E;&#xFF0C;&#x6211;&#x4EEC;&#x6765;&#x63A7;&#x5236;&#x4E00;&#x4E0B;&#x54EA;&#x4E9B;&#x9875;&#x9762;&#x662F;&#x9700;&#x8981;&#x767B;&#x5F55;&#x4E4B;&#x540E;&#x624D;&#x80FD;&#x8DF3;&#x8F6C;&#x7684;&#xFF0C;&#x5982;&#x679C;&#x672A;&#x767B;&#x5F55;&#x8BBF;&#x95EE;&#x5C31;&#x76F4;&#x63A5;&#x91CD;&#x5B9A;&#x5411;&#x5230;&#x767B;&#x5F55;&#x9875;&#x9762;&#xFF0C;&#x56E0;&#x6B64;&#x6211;&#x4EEC;&#x5728;src&#x76EE;&#x5F55;&#x4E0B;&#x5B9A;&#x4E49;&#x4E00;&#x4E2A;js&#x6587;&#x4EF6;&#xFF1A;</p>
<ul>
<li>src\permission.js</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">plain&#x590D;&#x5236;&#x4EE3;&#x7801;import router from &quot;./router&quot;;</span><br><span class="line">// &#x8DEF;&#x7531;&#x5224;&#x65AD;&#x767B;&#x5F55; &#x6839;&#x636E;&#x8DEF;&#x7531;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x7684;&#x53C2;&#x6570;</span><br><span class="line">router.beforeEach((to, from, next) =&gt; {</span><br><span class="line">  if (to.matched.some(record =&gt; record.meta.requireAuth)) { // &#x5224;&#x65AD;&#x8BE5;&#x8DEF;&#x7531;&#x662F;&#x5426;&#x9700;&#x8981;&#x767B;&#x5F55;&#x6743;&#x9650;</span><br><span class="line">    const token = localStorage.getItem(&quot;token&quot;)</span><br><span class="line">    console.log(&quot;------------&quot; + token)</span><br><span class="line">    if (token) { // &#x5224;&#x65AD;&#x5F53;&#x524D;&#x7684;token&#x662F;&#x5426;&#x5B58;&#x5728; &#xFF1B; &#x767B;&#x5F55;&#x5B58;&#x5165;&#x7684;token</span><br><span class="line">      if (to.path === &apos;/login&apos;) {</span><br><span class="line">      } else {</span><br><span class="line">        next()</span><br><span class="line">      }</span><br><span class="line">    } else {</span><br><span class="line">      next({</span><br><span class="line">        path: &apos;/login&apos;</span><br><span class="line">      })</span><br><span class="line">    }</span><br><span class="line">  } else {</span><br><span class="line">    next()</span><br><span class="line">  }</span><br><span class="line">})</span><br></pre></td></tr></table></figure>

<p>&#x901A;&#x8FC7;&#x4E4B;&#x524D;&#x6211;&#x4EEC;&#x518D;&#x5B9A;&#x4E49;&#x9875;&#x9762;&#x8DEF;&#x7531;&#x65F6;&#x5019;&#x7684;&#x7684;meta&#x4FE1;&#x606F;&#xFF0C;&#x6307;&#x5B9A;requireAuth: true&#xFF0C;&#x9700;&#x8981;&#x767B;&#x5F55;&#x624D;&#x80FD;&#x8BBF;&#x95EE;&#xFF0C;&#x56E0;&#x6B64;&#x8FD9;&#x91CC;&#x6211;&#x4EEC;&#x5728;&#x6BCF;&#x6B21;&#x8DEF;&#x7531;&#x4E4B;&#x524D;&#xFF08;router.beforeEach&#xFF09;&#x5224;&#x65AD;token&#x7684;&#x72B6;&#x6001;&#xFF0C;&#x89C9;&#x5F97;&#x662F;&#x5426;&#x9700;&#x8981;&#x8DF3;&#x8F6C;&#x5230;&#x767B;&#x5F55;&#x9875;&#x9762;&#x3002;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">plain&#x590D;&#x5236;&#x4EE3;&#x7801;{</span><br><span class="line">  path: &apos;/blog/add&apos;, // &#x6CE8;&#x610F;&#x653E;&#x5728; path: &apos;/blog/:blogId&apos;&#x4E4B;&#x524D;</span><br><span class="line">  name: &apos;BlogAdd&apos;,</span><br><span class="line">  meta: {</span><br><span class="line">    requireAuth: true</span><br><span class="line">  },</span><br><span class="line">  component: BlogEdit</span><br><span class="line">}</span><br></pre></td></tr></table></figure>

<p>&#x7136;&#x540E;&#x6211;&#x4EEC;&#x518D;main.js&#x4E2D;import&#x6211;&#x4EEC;&#x7684;permission.js</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">plain&#x590D;&#x5236;&#x4EE3;&#x7801;import &apos;./permission.js&apos; // &#x8DEF;&#x7531;&#x62E6;&#x622A;</span><br></pre></td></tr></table></figure>

<h3 id="13&#x3001;&#x524D;&#x7AEF;&#x603B;&#x7ED3;"><a href="#13&#x3001;&#x524D;&#x7AEF;&#x603B;&#x7ED3;" class="headerlink" title="13&#x3001;&#x524D;&#x7AEF;&#x603B;&#x7ED3;"></a>13&#x3001;&#x524D;&#x7AEF;&#x603B;&#x7ED3;</h3><p>ok&#xFF0C;&#x57FA;&#x672C;&#x6240;&#x6709;&#x9875;&#x9762;&#x5C31;&#x5DF2;&#x7ECF;&#x5F00;&#x53D1;&#x5B8C;&#x6BD5;&#x5566;&#xFF0C;css&#x6837;&#x5F0F;&#x4FE1;&#x606F;&#x6211;&#x672A;&#x8D34;&#x51FA;&#x6765;&#xFF0C;&#x5927;&#x5BB6;&#x76F4;&#x63A5;&#x4E0A;github&#x4E0A;clone&#x4E0B;&#x6765;&#x67E5;&#x770B;&#x3002;</p>
<h2 id="&#x9879;&#x76EE;&#x5927;&#x603B;&#x7ED3;"><a href="#&#x9879;&#x76EE;&#x5927;&#x603B;&#x7ED3;" class="headerlink" title="&#x9879;&#x76EE;&#x5927;&#x603B;&#x7ED3;"></a>&#x9879;&#x76EE;&#x5927;&#x603B;&#x7ED3;</h2><p>&#x597D;&#x5566;&#xFF0C;&#x9879;&#x76EE;&#x5148;&#x5230;&#x8FD9;&#x91CC;&#xFF0C;&#x82B1;&#x4E86;3&#x5929;&#x534A;&#x5F55;&#x5236;&#x4E86;&#x4E00;&#x5957;&#x5BF9;&#x5E94;&#x7684;&#x89C6;&#x9891;&#xFF0C;&#x8BB0;&#x5F97;&#x53BB;&#x770B;&#xFF0C;&#x7ED9;&#x6211;&#x4E09;&#x8FDE;&#x54C7;&#x3002;</p>
<p>&#x9879;&#x76EE;&#x89C6;&#x9891;&#xFF1A;<a href="/external_links/ee2628e8e383ef57188cf91d88acc4cf.html" target="blank" rel="noopener">www.bilibili.com/video/BV1PQ&#x2026;</a></p>
<h2 id="&#x5173;&#x6CE8;&#x516C;&#x4F17;&#x53F7;&#xFF1A;MarkerHub&#xFF0C;&#x56DE;&#x590D;&#x3010;vueblog&#x3011;&#xFF0C;&#x83B7;&#x53D6;&#x9879;&#x76EE;&#x6E90;&#x7801;&#xFF01;-2"><a href="#&#x5173;&#x6CE8;&#x516C;&#x4F17;&#x53F7;&#xFF1A;MarkerHub&#xFF0C;&#x56DE;&#x590D;&#x3010;vueblog&#x3011;&#xFF0C;&#x83B7;&#x53D6;&#x9879;&#x76EE;&#x6E90;&#x7801;&#xFF01;-2" class="headerlink" title="&#x5173;&#x6CE8;&#x516C;&#x4F17;&#x53F7;&#xFF1A;MarkerHub&#xFF0C;&#x56DE;&#x590D;&#x3010;vueblog&#x3011;&#xFF0C;&#x83B7;&#x53D6;&#x9879;&#x76EE;&#x6E90;&#x7801;&#xFF01;"></a>&#x5173;&#x6CE8;&#x516C;&#x4F17;&#x53F7;&#xFF1A;MarkerHub&#xFF0C;&#x56DE;&#x590D;&#x3010;vueblog&#x3011;&#xFF0C;&#x83B7;&#x53D6;&#x9879;&#x76EE;&#x6E90;&#x7801;&#xFF01;</h2><h2 id="&#x5173;&#x6CE8;&#x516C;&#x4F17;&#x53F7;&#xFF1A;MarkerHub&#xFF0C;&#x56DE;&#x590D;&#x3010;vueblog&#x3011;&#xFF0C;&#x83B7;&#x53D6;&#x9879;&#x76EE;&#x6E90;&#x7801;&#xFF01;-3"><a href="#&#x5173;&#x6CE8;&#x516C;&#x4F17;&#x53F7;&#xFF1A;MarkerHub&#xFF0C;&#x56DE;&#x590D;&#x3010;vueblog&#x3011;&#xFF0C;&#x83B7;&#x53D6;&#x9879;&#x76EE;&#x6E90;&#x7801;&#xFF01;-3" class="headerlink" title="&#x5173;&#x6CE8;&#x516C;&#x4F17;&#x53F7;&#xFF1A;MarkerHub&#xFF0C;&#x56DE;&#x590D;&#x3010;vueblog&#x3011;&#xFF0C;&#x83B7;&#x53D6;&#x9879;&#x76EE;&#x6E90;&#x7801;&#xFF01;"></a>&#x5173;&#x6CE8;&#x516C;&#x4F17;&#x53F7;&#xFF1A;MarkerHub&#xFF0C;&#x56DE;&#x590D;&#x3010;vueblog&#x3011;&#xFF0C;&#x83B7;&#x53D6;&#x9879;&#x76EE;&#x6E90;&#x7801;&#xFF01;</h2><h2 id="&#x5173;&#x6CE8;&#x516C;&#x4F17;&#x53F7;&#xFF1A;MarkerHub&#xFF0C;&#x56DE;&#x590D;&#x3010;vueblog&#x3011;&#xFF0C;&#x83B7;&#x53D6;&#x9879;&#x76EE;&#x6E90;&#x7801;&#xFF01;-4"><a href="#&#x5173;&#x6CE8;&#x516C;&#x4F17;&#x53F7;&#xFF1A;MarkerHub&#xFF0C;&#x56DE;&#x590D;&#x3010;vueblog&#x3011;&#xFF0C;&#x83B7;&#x53D6;&#x9879;&#x76EE;&#x6E90;&#x7801;&#xFF01;-4" class="headerlink" title="&#x5173;&#x6CE8;&#x516C;&#x4F17;&#x53F7;&#xFF1A;MarkerHub&#xFF0C;&#x56DE;&#x590D;&#x3010;vueblog&#x3011;&#xFF0C;&#x83B7;&#x53D6;&#x9879;&#x76EE;&#x6E90;&#x7801;&#xFF01;"></a>&#x5173;&#x6CE8;&#x516C;&#x4F17;&#x53F7;&#xFF1A;MarkerHub&#xFF0C;&#x56DE;&#x590D;&#x3010;vueblog&#x3011;&#xFF0C;&#x83B7;&#x53D6;&#x9879;&#x76EE;&#x6E90;&#x7801;&#xFF01;</h2><p><img src="https://gitee.com/songjianzaina/juejin_p7/raw/master/img/6f0be355af6889ae96469d511743257550a58926d23819feafa4785843ce326f" alt></p>
<p><strong>&#x672C;&#x6587;&#x8F6C;&#x8F7D;&#x81EA;:</strong> <a href="/external_links/ef8b58c630e069eea3daf8d800547daa.html" target="blank" rel="noopener">&#x6398;&#x91D1;</a></p>
<p><em><a href="https://dev.newban.cn/">&#x5F00;&#x53D1;&#x8005;&#x535A;&#x5BA2; &#x2013; &#x548C;&#x5F00;&#x53D1;&#x76F8;&#x5173;&#x7684; &#x8FD9;&#x91CC;&#x5168;&#x90FD;&#x6709;</a></em></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://dev.newban.cn../../6844904170651172871.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="开发者博客">
      <meta itemprop="description" content>
      <meta itemprop="image" content="../../images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="开发者博客 – IT技术 尽在开发者博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="../../6844904170651172871.html" itemprop="url">个人吐血系列-总结RocketMQ 大纲</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2020-05-28T10:20:05+08:00">
                2020-05-28
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <blockquote>
<p>&#x4E00;&#x822C;&#x9762;&#x8BD5;&#x95EE;&#x6D88;&#x606F;&#x961F;&#x5217;&#xFF0C;&#x90FD;&#x662F;&#x7ED3;&#x5408;&#x81EA;&#x5DF1;&#x7684;&#x9879;&#x76EE;&#x8FDB;&#x884C;&#x56DE;&#x7B54;&#x7684;&#x2026;&#x6700;&#x597D;&#x6709;&#x4E2A;&#x9879;&#x76EE;&#x6709;&#x6D88;&#x606F;&#x961F;&#x5217;&#x7684;&#x4E2D;&#x95F4;&#x4EF6;.&#x672C;&#x9879;&#x76EE;&#x4F7F;&#x7528;&#x4E86;RocketMQ</p>
</blockquote>
<h1 id="&#x5927;&#x7EB2;"><a href="#&#x5927;&#x7EB2;" class="headerlink" title="&#x5927;&#x7EB2;"></a>&#x5927;&#x7EB2;</h1><p><img src="https://gitee.com/songjianzaina/juejin_p7/raw/master/img/4e8dccd23f9ba4b9a49fe47d1c1bdcd549ed5f81b437b16930f39ede99e43327" alt="&#x5927;&#x7EB2;"></p>
<p>&#x5927;&#x7EB2;</p>
<h2 id="&#x4EC0;&#x4E48;&#x662F;&#x6D88;&#x606F;&#x961F;&#x5217;&#xFF1F;&#x6D88;&#x606F;&#x961F;&#x5217;&#x7684;&#x4E3B;&#x8981;&#x4F5C;&#x7528;&#x662F;&#x4EC0;&#x4E48;&#xFF1F;"><a href="#&#x4EC0;&#x4E48;&#x662F;&#x6D88;&#x606F;&#x961F;&#x5217;&#xFF1F;&#x6D88;&#x606F;&#x961F;&#x5217;&#x7684;&#x4E3B;&#x8981;&#x4F5C;&#x7528;&#x662F;&#x4EC0;&#x4E48;&#xFF1F;" class="headerlink" title="&#x4EC0;&#x4E48;&#x662F;&#x6D88;&#x606F;&#x961F;&#x5217;&#xFF1F;&#x6D88;&#x606F;&#x961F;&#x5217;&#x7684;&#x4E3B;&#x8981;&#x4F5C;&#x7528;&#x662F;&#x4EC0;&#x4E48;&#xFF1F;"></a>&#x4EC0;&#x4E48;&#x662F;&#x6D88;&#x606F;&#x961F;&#x5217;&#xFF1F;&#x6D88;&#x606F;&#x961F;&#x5217;&#x7684;&#x4E3B;&#x8981;&#x4F5C;&#x7528;&#x662F;&#x4EC0;&#x4E48;&#xFF1F;</h2><p>&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x628A;&#x6D88;&#x606F;&#x961F;&#x5217;&#x6BD4;&#x4F5C;&#x662F;&#x4E00;&#x4E2A;<strong>&#x5B58;&#x653E;&#x6D88;&#x606F;&#x7684;&#x5BB9;&#x5668;</strong>&#xFF0C;&#x5F53;&#x6211;&#x4EEC;&#x9700;&#x8981;&#x4F7F;&#x7528;&#x6D88;&#x606F;&#x7684;&#x65F6;&#x5019;&#x53EF;&#x4EE5;&#x53D6;&#x51FA;&#x6D88;&#x606F;&#x4F9B;&#x81EA;&#x5DF1;&#x4F7F;&#x7528;&#x3002;&#x6D88;&#x606F;&#x961F;&#x5217;&#x662F;&#x5206;&#x5E03;&#x5F0F;&#x7CFB;&#x7EDF;&#x4E2D;&#x91CD;&#x8981;&#x7684;&#x7EC4;&#x4EF6;&#xFF0C;&#x4F7F;&#x7528;&#x6D88;&#x606F;&#x961F;&#x5217;&#x4E3B;&#x8981;&#x662F;&#x4E3A;&#x4E86;&#x901A;&#x8FC7;<strong>&#x5F02;&#x6B65;&#x5904;&#x7406;&#x63D0;&#x9AD8;&#x7CFB;&#x7EDF;&#x6027;&#x80FD;&#x548C;&#x524A;&#x5CF0;&#x3001;&#x964D;&#x4F4E;&#x7CFB;&#x7EDF;&#x8026;&#x5408;&#x6027;</strong>&#x3002;</p>
<ul>
<li><strong>&#x5F02;&#x6B65;&#x5904;&#x7406;</strong>&#xFF1A;&#x975E;&#x6838;&#x5FC3;&#x6D41;&#x7A0B;&#x5F02;&#x6B65;&#x5316;&#xFF0C;&#x63D0;&#x9AD8;&#x7CFB;&#x7EDF;&#x54CD;&#x5E94;&#x6027;&#x80FD;</li>
<li><strong>&#x5E94;&#x7528;&#x89E3;&#x8026;</strong>&#xFF1A;<ul>
<li>&#x7CFB;&#x7EDF;&#x4E0D;&#x662F;&#x5F3A;&#x8026;&#x5408;&#xFF0C;&#x6D88;&#x606F;&#x63A5;&#x53D7;&#x8005;&#x53EF;&#x4EE5;&#x968F;&#x610F;&#x589E;&#x52A0;&#xFF0C;&#x800C;&#x4E0D;&#x9700;&#x8981;&#x4FEE;&#x6539;&#x6D88;&#x606F;&#x53D1;&#x9001;&#x8005;&#x7684;&#x4EE3;&#x7801;&#x3002;&#x6D88;&#x606F;&#x53D1;&#x9001;&#x8005;&#x7684;&#x6210;&#x529F;&#x4E0D;&#x4F9D;&#x8D56;&#x6D88;&#x606F;&#x63A5;&#x53D7;&#x8005;&#xFF08;&#x6BD4;&#x5982;&#x6709;&#x4E9B;&#x94F6;&#x884C;&#x63A5;&#x53E3;&#x4E0D;&#x7A33;&#x5B9A;&#xFF0C;&#x4F46;&#x8C03;&#x7528;&#x65B9;&#x5E76;&#x4E0D;&#x9700;&#x8981;&#x4F9D;&#x8D56;&#x8FD9;&#x4E9B;&#x63A5;&#x53E3;&#xFF09;</li>
<li>&#x6D88;&#x606F;&#x53D1;&#x9001;&#x8005;&#x7684;&#x6210;&#x529F;&#x4E0D;&#x4F9D;&#x8D56;&#x6D88;&#x606F;&#x63A5;&#x53D7;&#x8005;&#xFF08;&#x6BD4;&#x5982;&#x6709;&#x4E9B;&#x94F6;&#x884C;&#x63A5;&#x53E3;&#x4E0D;&#x7A33;&#x5B9A;&#xFF0C;&#x4F46;&#x8C03;&#x7528;&#x65B9;&#x5E76;&#x4E0D;&#x9700;&#x8981;&#x4F9D;&#x8D56;&#x8FD9;&#x4E9B;&#x63A5;&#x53E3;&#xFF09;</li>
</ul>
</li>
<li><strong>&#x6700;&#x7EC8;&#x4E00;&#x81F4;&#x6027;</strong>&#xFF1A;&#x6700;&#x7EC8;&#x4E00;&#x81F4;&#x6027;&#x4E0D;&#x662F;&#x6D88;&#x606F;&#x961F;&#x5217;&#x7684;&#x5FC5;&#x5907;&#x7279;&#x6027;&#xFF0C;&#x4F46;&#x786E;&#x5B9E;&#x53EF;&#x4EE5;&#x4F9D;&#x9760;&#x6D88;&#x606F;&#x961F;&#x5217;&#x6765;&#x505A;&#x6700;&#x7EC8;&#x4E00;&#x81F4;&#x6027;&#x7684;&#x4E8B;&#x60C5;&#x3002;<ul>
<li>&#x5148;&#x5199;&#x6D88;&#x606F;&#x518D;&#x64CD;&#x4F5C;&#xFF0C;&#x786E;&#x4FDD;&#x64CD;&#x4F5C;&#x5B8C;&#x6210;&#x540E;&#x518D;&#x4FEE;&#x6539;&#x6D88;&#x606F;&#x72B6;&#x6001;&#x3002;&#x5B9A;&#x65F6;&#x4EFB;&#x52A1;&#x8865;&#x507F;&#x673A;&#x5236;&#x5B9E;&#x73B0;&#x6D88;&#x606F;&#x53EF;&#x9760;&#x53D1;&#x9001;&#x63A5;&#x6536;&#x3001;&#x4E1A;&#x52A1;&#x64CD;&#x4F5C;&#x7684;&#x53EF;&#x9760;&#x6267;&#x884C;&#xFF0C;&#x8981;&#x6CE8;&#x610F;&#x6D88;&#x606F;&#x91CD;&#x590D;&#x4E0E;&#x5E42;&#x7B49;&#x8BBE;&#x8BA1;</li>
<li>&#x6240;&#x6709;&#x4E0D;&#x4FDD;&#x8BC1;100%&#x4E0D;&#x4E22;&#x6D88;&#x606F;&#x7684;&#x6D88;&#x606F;&#x961F;&#x5217;&#xFF0C;&#x7406;&#x8BBA;&#x4E0A;&#x65E0;&#x6CD5;&#x5B9E;&#x73B0;&#x6700;&#x7EC8;&#x4E00;&#x81F4;&#x6027;&#x3002;</li>
</ul>
</li>
<li><strong>&#x5E7F;&#x64AD;</strong>&#xFF1A;&#x53EA;&#x9700;&#x8981;&#x5173;&#x5FC3;&#x6D88;&#x606F;&#x662F;&#x5426;&#x9001;&#x8FBE;&#x4E86;&#x961F;&#x5217;&#xFF0C;&#x81F3;&#x4E8E;&#x8C01;&#x5E0C;&#x671B;&#x8BA2;&#x9605;&#xFF0C;&#x662F;&#x4E0B;&#x6E38;&#x7684;&#x4E8B;&#x60C5;</li>
<li><strong>&#x6D41;&#x91CF;&#x524A;&#x5CF0;&#x4E0E;&#x76D1;&#x63A7;</strong>&#xFF1A;&#x5F53;&#x4E0A;&#x4E0B;&#x6E38;&#x7CFB;&#x7EDF;&#x5904;&#x7406;&#x80FD;&#x529B;&#x5B58;&#x5728;&#x5DEE;&#x8DDD;&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x5229;&#x7528;&#x6D88;&#x606F;&#x961F;&#x5217;&#x505A;&#x4E00;&#x4E2A;&#x901A;&#x7528;&#x7684;&#x201C;&#x6F0F;&#x6597;&#x201D;&#x3002;&#x5728;&#x4E0B;&#x6E38;&#x6709;&#x80FD;&#x529B;&#x5904;&#x7406;&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x518D;&#x8FDB;&#x884C;&#x5206;&#x53D1;&#x3002;</li>
<li><strong>&#x65E5;&#x5FD7;&#x5904;&#x7406;</strong>&#xFF1A;&#x5C06;&#x6D88;&#x606F;&#x961F;&#x5217;&#x7528;&#x5728;&#x65E5;&#x5FD7;&#x5904;&#x7406;&#x4E2D;&#xFF0C;&#x6BD4;&#x5982;Kafka&#x7684;&#x5E94;&#x7528;&#xFF0C;&#x89E3;&#x51B3;&#x5927;&#x91CF;&#x65E5;&#x5FD7;&#x4F20;&#x8F93;&#x7684;&#x95EE;&#x9898;</li>
<li><strong>&#x6D88;&#x606F;&#x901A;&#x8BAF;</strong>&#xFF1A;&#x6D88;&#x606F;&#x961F;&#x5217;&#x4E00;&#x822C;&#x90FD;&#x5185;&#x7F6E;&#x4E86;&#x9AD8;&#x6548;&#x7684;&#x901A;&#x4FE1;&#x673A;&#x5236;&#xFF0C;&#x56E0;&#x6B64;&#x4E5F;&#x53EF;&#x4EE5;&#x7528;&#x4E8E;&#x5355;&#x7EAF;&#x7684;&#x6D88;&#x606F;&#x901A;&#x8BAF;&#xFF0C;&#x5982;&#x5B9E;&#x73B0;&#x70B9;&#x5BF9;&#x70B9;&#x6D88;&#x606F;&#x961F;&#x5217;&#x6216;&#x8005;&#x804A;&#x5929;&#x5BA4;&#x7B49;&#x3002;</li>
</ul>
<p><strong>&#x63A8;&#x8350;&#x6D45;&#x663E;&#x6613;&#x61C2;&#x7684;&#x8BB2;&#x89E3;</strong>&#xFF1A;</p>
<ul>
<li><a href="/external_links/b7faf15683c5089c501ed04c4dcb7b87.html" target="blank" rel="noopener">&#x6D88;&#x606F;&#x961F;&#x5217;&#x57FA;&#x7840;</a></li>
<li><a href="/external_links/57b0e4d6d7bbaa6fcb08584c001878db.html" target="blank" rel="noopener">&#x9762;&#x8BD5;&#x5B98;&#x95EE;&#x4F60;&#x4EC0;&#x4E48;&#x662F;&#x6D88;&#x606F;&#x961F;&#x5217;&#xFF1F;&#x628A;&#x8FD9;&#x7BC7;&#x7529;&#x7ED9;&#x4ED6;&#xFF01;</a></li>
</ul>
<h2 id="kafka&#x3001;activemq&#x3001;rabbitmq&#x3001;rocketmq&#x90FD;&#x6709;&#x4EC0;&#x4E48;&#x533A;&#x522B;&#xFF1F;"><a href="#kafka&#x3001;activemq&#x3001;rabbitmq&#x3001;rocketmq&#x90FD;&#x6709;&#x4EC0;&#x4E48;&#x533A;&#x522B;&#xFF1F;" class="headerlink" title="kafka&#x3001;activemq&#x3001;rabbitmq&#x3001;rocketmq&#x90FD;&#x6709;&#x4EC0;&#x4E48;&#x533A;&#x522B;&#xFF1F;"></a>kafka&#x3001;activemq&#x3001;rabbitmq&#x3001;rocketmq&#x90FD;&#x6709;&#x4EC0;&#x4E48;&#x533A;&#x522B;&#xFF1F;</h2><ul>
<li>ActiveMQ &#x7684;&#x793E;&#x533A;&#x7B97;&#x662F;&#x6BD4;&#x8F83;&#x6210;&#x719F;&#xFF0C;&#x4F46;&#x662F;&#x8F83;&#x76EE;&#x524D;&#x6765;&#x8BF4;&#xFF0C;ActiveMQ &#x7684;&#x6027;&#x80FD;&#x6BD4;&#x8F83;&#x5DEE;&#xFF0C;&#x800C;&#x4E14;&#x7248;&#x672C;&#x8FED;&#x4EE3;&#x5F88;&#x6162;&#xFF0C;&#x4E0D;&#x63A8;&#x8350;&#x4F7F;&#x7528;&#x3002;</li>
<li>RabbitMQ &#x5728;&#x541E;&#x5410;&#x91CF;&#x65B9;&#x9762;&#x867D;&#x7136;&#x7A0D;&#x900A;&#x4E8E; Kafka &#x548C; RocketMQ &#xFF0C;&#x4F46;&#x662F;&#x7531;&#x4E8E;&#x5B83;&#x57FA;&#x4E8E; erlang &#x5F00;&#x53D1;&#xFF0C;&#x6240;&#x4EE5;&#x5E76;&#x53D1;&#x80FD;&#x529B;&#x5F88;&#x5F3A;&#xFF0C;&#x6027;&#x80FD;&#x6781;&#x5176;&#x597D;&#xFF0C;&#x5EF6;&#x65F6;&#x5F88;&#x4F4E;&#xFF0C;&#x8FBE;&#x5230;&#x5FAE;&#x79D2;&#x7EA7;&#x3002;&#x4F46;&#x662F;&#x4E5F;&#x56E0;&#x4E3A; RabbitMQ &#x57FA;&#x4E8E; erlang &#x5F00;&#x53D1;&#xFF0C;&#x6240;&#x4EE5;&#x56FD;&#x5185;&#x5F88;&#x5C11;&#x6709;&#x516C;&#x53F8;&#x6709;&#x5B9E;&#x529B;&#x505A;erlang&#x6E90;&#x7801;&#x7EA7;&#x522B;&#x7684;&#x7814;&#x7A76;&#x548C;&#x5B9A;&#x5236;&#x3002;&#x5982;&#x679C;&#x4E1A;&#x52A1;&#x573A;&#x666F;&#x5BF9;&#x5E76;&#x53D1;&#x91CF;&#x8981;&#x6C42;&#x4E0D;&#x662F;&#x592A;&#x9AD8;&#xFF08;&#x5341;&#x4E07;&#x7EA7;&#x3001;&#x767E;&#x4E07;&#x7EA7;&#xFF09;&#xFF0C;&#x90A3;&#x8FD9;&#x56DB;&#x79CD;&#x6D88;&#x606F;&#x961F;&#x5217;&#x4E2D;&#xFF0C;RabbitMQ &#x4E00;&#x5B9A;&#x662F;&#x4F60;&#x7684;&#x9996;&#x9009;&#x3002;&#x5982;&#x679C;&#x662F;&#x5927;&#x6570;&#x636E;&#x9886;&#x57DF;&#x7684;&#x5B9E;&#x65F6;&#x8BA1;&#x7B97;&#x3001;&#x65E5;&#x5FD7;&#x91C7;&#x96C6;&#x7B49;&#x573A;&#x666F;&#xFF0C;&#x7528; Kafka &#x662F;&#x4E1A;&#x5185;&#x6807;&#x51C6;&#x7684;&#xFF0C;&#x7EDD;&#x5BF9;&#x6CA1;&#x95EE;&#x9898;&#xFF0C;&#x793E;&#x533A;&#x6D3B;&#x8DC3;&#x5EA6;&#x5F88;&#x9AD8;&#xFF0C;&#x7EDD;&#x5BF9;&#x4E0D;&#x4F1A;&#x9EC4;&#xFF0C;&#x4F55;&#x51B5;&#x51E0;&#x4E4E;&#x662F;&#x5168;&#x4E16;&#x754C;&#x8FD9;&#x4E2A;&#x9886;&#x57DF;&#x7684;&#x4E8B;&#x5B9E;&#x6027;&#x89C4;&#x8303;&#x3002;</li>
<li>RocketMQ &#x963F;&#x91CC;&#x51FA;&#x54C1;&#xFF0C;Java &#x7CFB;&#x5F00;&#x6E90;&#x9879;&#x76EE;&#xFF0C;&#x6E90;&#x4EE3;&#x7801;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x76F4;&#x63A5;&#x9605;&#x8BFB;&#xFF0C;&#x7136;&#x540E;&#x53EF;&#x4EE5;&#x5B9A;&#x5236;&#x81EA;&#x5DF1;&#x516C;&#x53F8;&#x7684;MQ&#xFF0C;&#x5E76;&#x4E14; RocketMQ &#x6709;&#x963F;&#x91CC;&#x5DF4;&#x5DF4;&#x7684;&#x5B9E;&#x9645;&#x4E1A;&#x52A1;&#x573A;&#x666F;&#x7684;&#x5B9E;&#x6218;&#x8003;&#x9A8C;&#x3002;RocketMQ &#x793E;&#x533A;&#x6D3B;&#x8DC3;&#x5EA6;&#x76F8;&#x5BF9;&#x8F83;&#x4E3A;&#x4E00;&#x822C;&#xFF0C;&#x4E0D;&#x8FC7;&#x4E5F;&#x8FD8;&#x53EF;&#x4EE5;&#xFF0C;&#x6587;&#x6863;&#x76F8;&#x5BF9;&#x6765;&#x8BF4;&#x7B80;&#x5355;&#x4E00;&#x4E9B;&#xFF0C;&#x7136;&#x540E;&#x63A5;&#x53E3;&#x8FD9;&#x5757;&#x4E0D;&#x662F;&#x6309;&#x7167;&#x6807;&#x51C6; JMS &#x89C4;&#x8303;&#x8D70;&#x7684;&#x6709;&#x4E9B;&#x7CFB;&#x7EDF;&#x8981;&#x8FC1;&#x79FB;&#x9700;&#x8981;&#x4FEE;&#x6539;&#x5927;&#x91CF;&#x4EE3;&#x7801;&#x3002;&#x8FD8;&#x6709;&#x5C31;&#x662F;&#x963F;&#x91CC;&#x51FA;&#x53F0;&#x7684;&#x6280;&#x672F;&#xFF0C;&#x4F60;&#x5F97;&#x505A;&#x597D;&#x8FD9;&#x4E2A;&#x6280;&#x672F;&#x4E07;&#x4E00;&#x88AB;&#x629B;&#x5F03;&#xFF0C;&#x793E;&#x533A;&#x9EC4;&#x6389;&#x7684;&#x98CE;&#x9669;&#xFF0C;&#x90A3;&#x5982;&#x679C;&#x4F60;&#x4EEC;&#x516C;&#x53F8;&#x6709;&#x6280;&#x672F;&#x5B9E;&#x529B;&#x6211;&#x89C9;&#x5F97;&#x7528;RocketMQ &#x633A;&#x597D;&#x7684;</li>
<li>kafka &#x7684;&#x7279;&#x70B9;&#x5176;&#x5B9E;&#x5F88;&#x660E;&#x663E;&#xFF0C;&#x5C31;&#x662F;&#x4EC5;&#x4EC5;&#x63D0;&#x4F9B;&#x8F83;&#x5C11;&#x7684;&#x6838;&#x5FC3;&#x529F;&#x80FD;&#xFF0C;&#x4F46;&#x662F;&#x63D0;&#x4F9B;&#x8D85;&#x9AD8;&#x7684;&#x541E;&#x5410;&#x91CF;&#xFF0C;ms &#x7EA7;&#x7684;&#x5EF6;&#x8FDF;&#xFF0C;&#x6781;&#x9AD8;&#x7684;&#x53EF;&#x7528;&#x6027;&#x4EE5;&#x53CA;&#x53EF;&#x9760;&#x6027;&#xFF0C;&#x800C;&#x4E14;&#x5206;&#x5E03;&#x5F0F;&#x53EF;&#x4EE5;&#x4EFB;&#x610F;&#x6269;&#x5C55;&#x3002;&#x540C;&#x65F6; kafka &#x6700;&#x597D;&#x662F;&#x652F;&#x6491;&#x8F83;&#x5C11;&#x7684; topic &#x6570;&#x91CF;&#x5373;&#x53EF;&#xFF0C;&#x4FDD;&#x8BC1;&#x5176;&#x8D85;&#x9AD8;&#x541E;&#x5410;&#x91CF;&#x3002;kafka &#x552F;&#x4E00;&#x7684;&#x4E00;&#x70B9;&#x52A3;&#x52BF;&#x662F;&#x6709;&#x53EF;&#x80FD;&#x6D88;&#x606F;&#x91CD;&#x590D;&#x6D88;&#x8D39;&#xFF0C;&#x90A3;&#x4E48;&#x5BF9;&#x6570;&#x636E;&#x51C6;&#x786E;&#x6027;&#x4F1A;&#x9020;&#x6210;&#x6781;&#x5176;&#x8F7B;&#x5FAE;&#x7684;&#x5F71;&#x54CD;&#xFF0C;&#x5728;&#x5927;&#x6570;&#x636E;&#x9886;&#x57DF;&#x4E2D;&#x4EE5;&#x53CA;&#x65E5;&#x5FD7;&#x91C7;&#x96C6;&#x4E2D;&#xFF0C;&#x8FD9;&#x70B9;&#x8F7B;&#x5FAE;&#x5F71;&#x54CD;&#x53EF;&#x4EE5;&#x5FFD;&#x7565;&#x8FD9;&#x4E2A;&#x7279;&#x6027;&#x5929;&#x7136;&#x9002;&#x5408;&#x5927;&#x6570;&#x636E;&#x5B9E;&#x65F6;&#x8BA1;&#x7B97;&#x4EE5;&#x53CA;&#x65E5;&#x5FD7;&#x6536;&#x96C6;&#x3002;</li>
</ul>
<h2 id="MQ&#x5728;&#x9AD8;&#x5E76;&#x53D1;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;&#x5047;&#x8BBE;&#x961F;&#x5217;&#x6EE1;&#x4E86;&#x5982;&#x4F55;&#x9632;&#x6B62;&#x6D88;&#x606F;&#x4E22;&#x5931;&#xFF1F;"><a href="#MQ&#x5728;&#x9AD8;&#x5E76;&#x53D1;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;&#x5047;&#x8BBE;&#x961F;&#x5217;&#x6EE1;&#x4E86;&#x5982;&#x4F55;&#x9632;&#x6B62;&#x6D88;&#x606F;&#x4E22;&#x5931;&#xFF1F;" class="headerlink" title="MQ&#x5728;&#x9AD8;&#x5E76;&#x53D1;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;&#x5047;&#x8BBE;&#x961F;&#x5217;&#x6EE1;&#x4E86;&#x5982;&#x4F55;&#x9632;&#x6B62;&#x6D88;&#x606F;&#x4E22;&#x5931;&#xFF1F;"></a>MQ&#x5728;&#x9AD8;&#x5E76;&#x53D1;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;&#x5047;&#x8BBE;&#x961F;&#x5217;&#x6EE1;&#x4E86;&#x5982;&#x4F55;&#x9632;&#x6B62;&#x6D88;&#x606F;&#x4E22;&#x5931;&#xFF1F;</h2><p><img src="https://gitee.com/songjianzaina/juejin_p7/raw/master/img/c551d6fbed25f68d37c1d96e6a6a9c56a52af37938013f3d2c16e298e2dc35c3" alt></p>
<ol>
<li>&#x751F;&#x4EA7;&#x8005;&#x53EF;&#x4EE5;&#x91C7;&#x7528;&#x91CD;&#x8BD5;&#x673A;&#x5236;&#x3002;&#x56E0;&#x4E3A;&#x6D88;&#x8D39;&#x8005;&#x4F1A;&#x4E0D;&#x505C;&#x7684;&#x6D88;&#x8D39;&#x6D88;&#x606F;&#xFF0C;&#x53EF;&#x4EE5;&#x91CD;&#x8BD5;&#x5C06;&#x6D88;&#x606F;&#x653E;&#x5165;&#x961F;&#x5217;&#x3002;</li>
<li>&#x6B7B;&#x4FE1;&#x961F;&#x5217;&#xFF0C;&#x53EF;&#x4EE5;&#x7406;&#x89E3;&#x4E3A;&#x5907;&#x80CE;(&#x63A8;&#x8350;)<ul>
<li>&#x5373;&#x5728;&#x6D88;&#x606F;&#x8FC7;&#x671F;&#xFF0C;&#x961F;&#x5217;&#x6EE1;&#x4E86;&#xFF0C;&#x6D88;&#x606F;&#x88AB;&#x62D2;&#x7EDD;&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x90FD;&#x53EF;&#x4EE5;&#x6254;&#x7ED9;&#x6B7B;&#x4FE1;&#x961F;&#x5217;&#x3002;</li>
<li>&#x5982;&#x679C;&#x51FA;&#x73B0;&#x6B7B;&#x4FE1;&#x961F;&#x5217;&#x548C;&#x666E;&#x901A;&#x961F;&#x5217;&#x90FD;&#x6EE1;&#x7684;&#x60C5;&#x51B5;&#xFF0C;&#x6B64;&#x65F6;&#x8003;&#x8651;&#x6D88;&#x8D39;&#x8005;&#x6D88;&#x8D39;&#x80FD;&#x529B;&#x4E0D;&#x8DB3;&#xFF0C;&#x53EF;&#x4EE5;&#x5BF9;&#x6D88;&#x8D39;&#x8005;&#x5F00;&#x591A;&#x7EBF;&#x7A0B;&#x8FDB;&#x884C;&#x5904;&#x7406;&#x3002;</li>
</ul>
</li>
</ol>
<h2 id="&#x8C08;&#x8C08;&#x6B7B;&#x4FE1;&#x961F;&#x5217;"><a href="#&#x8C08;&#x8C08;&#x6B7B;&#x4FE1;&#x961F;&#x5217;" class="headerlink" title="&#x8C08;&#x8C08;&#x6B7B;&#x4FE1;&#x961F;&#x5217;"></a>&#x8C08;&#x8C08;&#x6B7B;&#x4FE1;&#x961F;&#x5217;</h2><p><strong>&#x6B7B;&#x4FE1;&#x961F;&#x5217;&#x7528;&#x4E8E;&#x5904;&#x7406;&#x65E0;&#x6CD5;&#x88AB;&#x6B63;&#x5E38;&#x6D88;&#x8D39;&#x7684;&#x6D88;&#x606F;&#xFF0C;&#x5373;&#x6B7B;&#x4FE1;&#x6D88;&#x606F;</strong>&#x3002;</p>
<p>&#x5F53;&#x4E00;&#x6761;&#x6D88;&#x606F;&#x521D;&#x6B21;&#x6D88;&#x8D39;&#x5931;&#x8D25;&#xFF0C;<strong>&#x6D88;&#x606F;&#x961F;&#x5217; RocketMQ &#x7248;&#x4F1A;&#x81EA;&#x52A8;&#x8FDB;&#x884C;&#x6D88;&#x606F;&#x91CD;&#x8BD5;</strong>&#xFF1B;&#x8FBE;&#x5230;&#x6700;&#x5927;&#x91CD;&#x8BD5;&#x6B21;&#x6570;&#x540E;&#xFF0C;&#x82E5;&#x6D88;&#x8D39;&#x4F9D;&#x7136;&#x5931;&#x8D25;&#xFF0C;&#x5219;&#x8868;&#x660E;&#x6D88;&#x8D39;&#x8005;&#x5728;&#x6B63;&#x5E38;&#x60C5;&#x51B5;&#x4E0B;&#x65E0;&#x6CD5;&#x6B63;&#x786E;&#x5730;&#x6D88;&#x8D39;&#x8BE5;&#x6D88;&#x606F;&#xFF0C;&#x6B64;&#x65F6;&#xFF0C;&#x6D88;&#x606F;&#x961F;&#x5217; RocketMQ &#x7248;&#x4E0D;&#x4F1A;&#x7ACB;&#x523B;&#x5C06;&#x6D88;&#x606F;&#x4E22;&#x5F03;&#xFF0C;&#x800C;&#x662F;&#x5C06;&#x5176;&#x53D1;&#x9001;&#x5230;&#x8BE5;<strong>&#x6D88;&#x8D39;&#x8005;&#x5BF9;&#x5E94;&#x7684;&#x7279;&#x6B8A;&#x961F;&#x5217;&#x4E2D;</strong>&#xFF0C;&#x8BE5;&#x7279;&#x6B8A;&#x961F;&#x5217;&#x79F0;&#x4E3A;<strong>&#x6B7B;&#x4FE1;&#x961F;&#x5217;</strong>&#x3002;</p>
<p><strong>&#x6B7B;&#x4FE1;&#x6D88;&#x606F;&#x7684;&#x7279;&#x70B9;</strong>&#xFF1A;</p>
<ul>
<li>&#x4E0D;&#x4F1A;&#x518D;&#x88AB;&#x6D88;&#x8D39;&#x8005;&#x6B63;&#x5E38;&#x6D88;&#x8D39;&#x3002;</li>
<li>&#x6709;&#x6548;&#x671F;&#x4E0E;&#x6B63;&#x5E38;&#x6D88;&#x606F;&#x76F8;&#x540C;&#xFF0C;&#x5747;&#x4E3A; 3 &#x5929;&#xFF0C;3 &#x5929;&#x540E;&#x4F1A;&#x88AB;&#x81EA;&#x52A8;&#x5220;&#x9664;&#x3002;&#x56E0;&#x6B64;&#xFF0C;&#x8BF7;&#x5728;&#x6B7B;&#x4FE1;&#x6D88;&#x606F;&#x4EA7;&#x751F;&#x540E;&#x7684; 3 &#x5929;&#x5185;&#x53CA;&#x65F6;&#x5904;&#x7406;&#x3002;</li>
</ul>
<p><strong>&#x6B7B;&#x4FE1;&#x961F;&#x5217;&#x7684;&#x7279;&#x70B9;</strong>&#xFF1A;</p>
<ul>
<li>&#x4E00;&#x4E2A;&#x6B7B;&#x4FE1;&#x961F;&#x5217;&#x5BF9;&#x5E94;&#x4E00;&#x4E2A; Group ID&#xFF0C; &#x800C;&#x4E0D;&#x662F;&#x5BF9;&#x5E94;&#x5355;&#x4E2A;&#x6D88;&#x8D39;&#x8005;&#x5B9E;&#x4F8B;&#x3002;</li>
<li>&#x5982;&#x679C;&#x4E00;&#x4E2A; Group ID &#x672A;&#x4EA7;&#x751F;&#x6B7B;&#x4FE1;&#x6D88;&#x606F;&#xFF0C;&#x6D88;&#x606F;&#x961F;&#x5217; RocketMQ &#x7248;&#x4E0D;&#x4F1A;&#x4E3A;&#x5176;&#x521B;&#x5EFA;&#x76F8;&#x5E94;&#x7684;&#x6B7B;&#x4FE1;&#x961F;&#x5217;&#x3002;</li>
<li>&#x4E00;&#x4E2A;&#x6B7B;&#x4FE1;&#x961F;&#x5217;&#x5305;&#x542B;&#x4E86;&#x5BF9;&#x5E94; Group ID &#x4EA7;&#x751F;&#x7684;&#x6240;&#x6709;&#x6B7B;&#x4FE1;&#x6D88;&#x606F;&#xFF0C;&#x4E0D;&#x8BBA;&#x8BE5;&#x6D88;&#x606F;&#x5C5E;&#x4E8E;&#x54EA;&#x4E2A; Topic&#x3002;</li>
</ul>
<p>&#x6D88;&#x606F;&#x961F;&#x5217; RocketMQ &#x7248;&#x63A7;&#x5236;&#x53F0;&#x63D0;&#x4F9B;&#x5BF9;&#x6B7B;&#x4FE1;&#x6D88;&#x606F;&#x7684;&#x67E5;&#x8BE2;&#x3001;&#x5BFC;&#x51FA;&#x548C;&#x91CD;&#x53D1;&#x7684;&#x529F;&#x80FD;&#x3002;</p>
<h2 id="&#x6D88;&#x8D39;&#x8005;&#x6D88;&#x8D39;&#x6D88;&#x606F;&#xFF0C;&#x5982;&#x4F55;&#x4FDD;&#x8BC1;MQ&#x5E42;&#x7B49;&#x6027;&#xFF1F;"><a href="#&#x6D88;&#x8D39;&#x8005;&#x6D88;&#x8D39;&#x6D88;&#x606F;&#xFF0C;&#x5982;&#x4F55;&#x4FDD;&#x8BC1;MQ&#x5E42;&#x7B49;&#x6027;&#xFF1F;" class="headerlink" title="&#x6D88;&#x8D39;&#x8005;&#x6D88;&#x8D39;&#x6D88;&#x606F;&#xFF0C;&#x5982;&#x4F55;&#x4FDD;&#x8BC1;MQ&#x5E42;&#x7B49;&#x6027;&#xFF1F;"></a>&#x6D88;&#x8D39;&#x8005;&#x6D88;&#x8D39;&#x6D88;&#x606F;&#xFF0C;&#x5982;&#x4F55;&#x4FDD;&#x8BC1;MQ&#x5E42;&#x7B49;&#x6027;&#xFF1F;</h2><h3 id="&#x5E42;&#x7B49;&#x6027;"><a href="#&#x5E42;&#x7B49;&#x6027;" class="headerlink" title="&#x5E42;&#x7B49;&#x6027;"></a>&#x5E42;&#x7B49;&#x6027;</h3><p>&#x6D88;&#x8D39;&#x8005;&#x5728;&#x6D88;&#x8D39;mq&#x4E2D;&#x7684;&#x6D88;&#x606F;&#x65F6;&#xFF0C;mq&#x5DF2;&#x628A;&#x6D88;&#x606F;&#x53D1;&#x9001;&#x7ED9;&#x6D88;&#x8D39;&#x8005;&#xFF0C;&#x6D88;&#x8D39;&#x8005;&#x5728;&#x7ED9;mq&#x8FD4;&#x56DE;ack&#x65F6;&#x7F51;&#x7EDC;&#x4E2D;&#x65AD;&#xFF0C;&#x6545;mq&#x672A;&#x6536;&#x5230;&#x786E;&#x8BA4;&#x4FE1;&#x606F;&#xFF0C;&#x8BE5;&#x6761;&#x6D88;&#x606F;&#x4F1A;&#x91CD;&#x65B0;&#x53D1;&#x7ED9;&#x5176;&#x4ED6;&#x7684;&#x6D88;&#x8D39;&#x8005;&#xFF0C;&#x6216;&#x8005;&#x5728;&#x7F51;&#x7EDC;&#x91CD;&#x8FDE;&#x540E;&#x518D;&#x6B21;&#x53D1;&#x9001;&#x7ED9;&#x8BE5;&#x6D88;&#x8D39;&#x8005;&#xFF0C;&#x4F46;&#x5B9E;&#x9645;&#x4E0A;&#x8BE5;&#x6D88;&#x8D39;&#x8005;&#x5DF2;&#x6210;&#x529F;&#x6D88;&#x8D39;&#x4E86;&#x8BE5;&#x6761;&#x6D88;&#x606F;&#xFF0C;&#x9020;&#x6210;&#x6D88;&#x8D39;&#x8005;&#x6D88;&#x8D39;&#x4E86;&#x91CD;&#x590D;&#x7684;&#x6D88;&#x606F;&#xFF1B;</p>
<h3 id="&#x89E3;&#x51B3;&#x65B9;&#x6848;"><a href="#&#x89E3;&#x51B3;&#x65B9;&#x6848;" class="headerlink" title="&#x89E3;&#x51B3;&#x65B9;&#x6848;"></a>&#x89E3;&#x51B3;&#x65B9;&#x6848;</h3><ul>
<li>MQ&#x6D88;&#x8D39;&#x8005;&#x7684;&#x5E42;&#x7B49;&#x884C;&#x7684;&#x89E3;&#x51B3;&#x4E00;&#x822C;&#x4F7F;&#x7528;&#x5168;&#x5C40;ID &#x6216;&#x8005;&#x5199;&#x4E2A;&#x552F;&#x4E00;&#x6807;&#x8BC6;&#x6BD4;&#x5982;&#x65F6;&#x95F4;&#x6233; &#x6216;&#x8005;UUID &#x6216;&#x8005;&#x8BA2;&#x5355;</li>
<li>&#x4E5F;&#x53EF;&#x5229;&#x7528;mq&#x7684;&#x8BE5;id&#x6765;&#x5224;&#x65AD;&#xFF0C;&#x6216;&#x8005;&#x53EF;&#x6309;&#x81EA;&#x5DF1;&#x7684;&#x89C4;&#x5219;&#x751F;&#x6210;&#x4E00;&#x4E2A;&#x5168;&#x5C40;&#x552F;&#x4E00;id&#xFF0C;&#x6BCF;&#x6B21;&#x6D88;&#x8D39;&#x6D88;&#x606F;&#x65F6;&#x7528;&#x8BE5;id&#x5148;&#x5224;&#x65AD;&#x8BE5;&#x6D88;&#x606F;&#x662F;&#x5426;&#x5DF2;&#x6D88;&#x8D39;&#x8FC7;&#x3002;</li>
<li>&#x7ED9;&#x6D88;&#x606F;&#x5206;&#x914D;&#x4E00;&#x4E2A;&#x5168;&#x5C40;id&#xFF0C;&#x53EA;&#x8981;&#x6D88;&#x8D39;&#x8FC7;&#x8BE5;&#x6D88;&#x606F;&#xFF0C;&#x5C06; &lt; id,message&gt;&#x4EE5;K-V&#x5F62;&#x5F0F;&#x5199;&#x5165;redis&#x3002;&#x90A3;&#x6D88;&#x8D39;&#x8005;&#x5F00;&#x59CB;&#x6D88;&#x8D39;&#x524D;&#xFF0C;&#x5148;&#x53BB;redis&#x4E2D;&#x67E5;&#x8BE2;&#x6709;&#x6CA1;&#x6D88;&#x8D39;&#x8BB0;&#x5F55;&#x5373;&#x53EF;&#x3002;</li>
</ul>
<h2 id="&#x4F7F;&#x7528;&#x5F02;&#x6B65;&#x6D88;&#x606F;&#x65F6;&#x5982;&#x4F55;&#x4FDD;&#x8BC1;&#x6570;&#x636E;&#x7684;&#x4E00;&#x81F4;&#x6027;"><a href="#&#x4F7F;&#x7528;&#x5F02;&#x6B65;&#x6D88;&#x606F;&#x65F6;&#x5982;&#x4F55;&#x4FDD;&#x8BC1;&#x6570;&#x636E;&#x7684;&#x4E00;&#x81F4;&#x6027;" class="headerlink" title="&#x4F7F;&#x7528;&#x5F02;&#x6B65;&#x6D88;&#x606F;&#x65F6;&#x5982;&#x4F55;&#x4FDD;&#x8BC1;&#x6570;&#x636E;&#x7684;&#x4E00;&#x81F4;&#x6027;"></a>&#x4F7F;&#x7528;&#x5F02;&#x6B65;&#x6D88;&#x606F;&#x65F6;&#x5982;&#x4F55;&#x4FDD;&#x8BC1;&#x6570;&#x636E;&#x7684;&#x4E00;&#x81F4;&#x6027;</h2><ol>
<li><strong>&#x501F;&#x52A9;&#x6570;&#x636E;&#x5E93;&#x7684;&#x4E8B;&#x52A1;</strong>&#xFF1A;&#x4F7F;&#x7528;&#x5F02;&#x6B65;&#x6D88;&#x606F;&#x600E;&#x4E48;&#x8FD8;&#x80FD;&#x501F;&#x52A9;&#x5230;&#x6570;&#x636E;&#x5E93;&#x4E8B;&#x52A1;&#xFF1F;&#x8FD9;&#x9700;&#x8981;&#x5728;&#x6570;&#x636E;&#x5E93;&#x4E2D;&#x521B;&#x5EFA;&#x4E00;&#x4E2A;<strong>&#x672C;&#x5730;&#x6D88;&#x606F;&#x8868;</strong>&#xFF0C;&#x8FD9;&#x6837;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;<strong>&#x4E00;&#x4E2A;&#x4E8B;&#x52A1;&#x6765;&#x63A7;&#x5236;&#x672C;&#x5730;&#x4E1A;&#x52A1;&#x903B;&#x8F91;&#x66F4;&#x65B0;</strong>&#x548C;&#x672C;<strong>&#x5730;&#x6D88;&#x606F;&#x8868;&#x7684;&#x5199;&#x5165;&#x5728;&#x540C;&#x4E00;&#x4E2A;&#x4E8B;&#x52A1;&#x4E2D;</strong>&#xFF0C;&#x4E00;&#x65E6;&#x6D88;&#x606F;&#x843D;&#x5E93;&#x5931;&#x8D25;&#xFF0C;&#x5219;&#x76F4;&#x63A5;&#x5168;&#x90E8;&#x56DE;&#x6EDA;&#x3002;&#x5982;&#x679C;&#x6D88;&#x606F;&#x843D;&#x5E93;&#x6210;&#x529F;&#xFF0C;&#x540E;&#x7EED;&#x5C31;&#x53EF;&#x4EE5;&#x6839;&#x636E;&#x60C5;&#x51B5;&#x57FA;&#x4E8E;&#x672C;&#x5730;&#x6570;&#x636E;&#x5E93;&#x4E2D;&#x7684;&#x6D88;&#x606F;&#x6570;&#x636E;&#x5BF9;&#x6D88;&#x606F;&#x8FDB;&#x884C;&#x91CD;&#x6295;&#x4E86;&#x3002;&#x5173;&#x4E8E;&#x672C;&#x5730;&#x6D88;&#x606F;&#x8868;&#x548C;&#x6D88;&#x606F;&#x961F;&#x5217;&#x4E2D;&#x72B6;&#x6001;&#x5982;&#x4F55;&#x4FDD;&#x6301;&#x4E00;&#x81F4;&#xFF0C;&#x53EF;&#x4EE5;&#x91C7;&#x7528; 2PC &#x7684;&#x65B9;&#x5F0F;&#x3002;&#x5728;&#x53D1;&#x6D88;&#x606F;&#x4E4B;&#x524D;&#x843D;&#x5E93;&#xFF0C;&#x7136;&#x540E;&#x53D1;&#x6D88;&#x606F;&#xFF0C;&#x5728;&#x5F97;&#x5230;&#x540C;&#x6B65;&#x7ED3;&#x679C;&#x6216;&#x8005;&#x6D88;&#x606F;&#x56DE;&#x8C03;&#x7684;&#x65F6;&#x5019;&#x66F4;&#x65B0;&#x672C;&#x5730;&#x6570;&#x636E;&#x5E93;&#x8868;&#x4E2D;&#x6D88;&#x606F;&#x72B6;&#x6001;&#x3002;&#x7136;&#x540E;&#x53EA;&#x9700;&#x8981;&#x901A;&#x8FC7;<strong>&#x5B9A;&#x65F6;&#x8F6E;&#x8BE2;</strong>&#x7684;&#x65B9;&#x5F0F;&#x5BF9;&#x72B6;&#x6001;&#x672A;&#x5DF2;&#x8BB0;&#x5F55;&#x4F46;&#x662F;&#x672A;&#x53D1;&#x9001;&#x7684;&#x6D88;&#x606F;&#x91CD;&#x65B0;&#x6295;&#x9012;&#x5C31;&#x884C;&#x4E86;&#x3002;&#x4F46;&#x662F;&#x8FD9;&#x79CD;&#x65B9;&#x6848;&#x6709;&#x4E2A;&#x524D;&#x63D0;&#xFF0C;&#x5C31;&#x662F;&#x8981;&#x6C42;&#x6D88;&#x606F;&#x7684;&#x6D88;&#x8D39;&#x8005;<strong>&#x505A;&#x597D;&#x5E42;&#x7B49;&#x63A7;&#x5236;</strong>&#xFF0C;&#x8FD9;&#x4E2A;&#x5176;&#x5B9E;&#x5F02;&#x6B65;&#x6D88;&#x606F;&#x7684;&#x6D88;&#x8D39;&#x8005;&#x4E00;&#x822C;&#x90FD;&#x9700;&#x8981;&#x8003;&#x8651;&#x7684;&#x3002;</li>
<li>&#x9664;&#x4E86;&#x4F7F;&#x7528;&#x6570;&#x636E;&#x5E93;&#x4EE5;&#x5916;&#xFF0C;&#x8FD8;&#x53EF;&#x4EE5;&#x4F7F;&#x7528; <strong>Redis</strong> &#x7B49;&#x7F13;&#x5B58;&#x3002;&#x8FD9;&#x6837;&#x5C31;&#x662F;&#x65E0;&#x6CD5;&#x5229;&#x7528;&#x5173;&#x7CFB;&#x578B;&#x6570;&#x636E;&#x5E93;&#x81EA;&#x5E26;&#x7684;&#x4E8B;&#x52A1;&#x56DE;&#x6EDA;&#x4E86;&#x3002;</li>
</ol>
<h2 id="RockMQ&#x4E0D;&#x9002;&#x7528;Zookeeper&#x4F5C;&#x4E3A;&#x6CE8;&#x518C;&#x4E2D;&#x5FC3;&#x7684;&#x539F;&#x56E0;&#xFF0C;&#x4EE5;&#x53CA;&#x81EA;&#x5236;&#x7684;NameServer&#x4F18;&#x7F3A;&#x70B9;&#xFF1F;"><a href="#RockMQ&#x4E0D;&#x9002;&#x7528;Zookeeper&#x4F5C;&#x4E3A;&#x6CE8;&#x518C;&#x4E2D;&#x5FC3;&#x7684;&#x539F;&#x56E0;&#xFF0C;&#x4EE5;&#x53CA;&#x81EA;&#x5236;&#x7684;NameServer&#x4F18;&#x7F3A;&#x70B9;&#xFF1F;" class="headerlink" title="RockMQ&#x4E0D;&#x9002;&#x7528;Zookeeper&#x4F5C;&#x4E3A;&#x6CE8;&#x518C;&#x4E2D;&#x5FC3;&#x7684;&#x539F;&#x56E0;&#xFF0C;&#x4EE5;&#x53CA;&#x81EA;&#x5236;&#x7684;NameServer&#x4F18;&#x7F3A;&#x70B9;&#xFF1F;"></a>RockMQ&#x4E0D;&#x9002;&#x7528;Zookeeper&#x4F5C;&#x4E3A;&#x6CE8;&#x518C;&#x4E2D;&#x5FC3;&#x7684;&#x539F;&#x56E0;&#xFF0C;&#x4EE5;&#x53CA;&#x81EA;&#x5236;&#x7684;NameServer&#x4F18;&#x7F3A;&#x70B9;&#xFF1F;</h2><ol>
<li>ZooKeeper &#x4F5C;&#x4E3A;&#x652F;&#x6301;<strong>&#x987A;&#x5E8F;&#x4E00;&#x81F4;&#x6027;</strong>&#x7684;&#x4E2D;&#x95F4;&#x4EF6;&#xFF0C;&#x5728;&#x67D0;&#x4E9B;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;&#x5B83;&#x4E3A;&#x4E86;&#x6EE1;&#x8DB3;&#x4E00;&#x81F4;&#x6027;&#xFF0C;&#x4F1A;&#x4E22;&#x5931;&#x4E00;&#x5B9A;&#x65F6;&#x95F4;&#x5185;&#x7684;<strong>&#x53EF;&#x7528;&#x6027;</strong>&#xFF0C;RocketMQ &#x9700;&#x8981;&#x6CE8;&#x518C;&#x4E2D;&#x5FC3;&#x53EA;&#x662F;&#x4E3A;&#x4E86;<strong>&#x53D1;&#x73B0;&#x7EC4;&#x4EF6;&#x5730;&#x5740;</strong>&#xFF0C;&#x5728;&#x67D0;&#x4E9B;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;RocketMQ &#x7684;&#x6CE8;&#x518C;&#x4E2D;&#x5FC3;&#x53EF;&#x4EE5;&#x51FA;&#x73B0;&#x6570;&#x636E;&#x4E0D;&#x4E00;&#x81F4;&#x6027;&#xFF0C;&#x8FD9;&#x540C;&#x65F6;&#x4E5F;&#x662F; <strong>NameServer &#x7684;&#x7F3A;&#x70B9;&#xFF0C;&#x56E0;&#x4E3A; NameServer &#x96C6;&#x7FA4;&#x95F4;&#x4E92;&#x4E0D;&#x901A;&#x4FE1;&#xFF0C;&#x5B83;&#x4EEC;&#x4E4B;&#x95F4;&#x7684;&#x6CE8;&#x518C;&#x4FE1;&#x606F;&#x53EF;&#x80FD;&#x4F1A;&#x4E0D;&#x4E00;&#x81F4;</strong>&#x3002;</li>
<li>&#x53E6;&#x5916;&#xFF0C;&#x5F53;&#x6709;&#x65B0;&#x7684;&#x670D;&#x52A1;&#x5668;&#x52A0;&#x5165;&#x65F6;&#xFF0C;<strong>NameServer &#x5E76;&#x4E0D;&#x4F1A;&#x7ACB;&#x9A6C;&#x901A;&#x77E5;&#x5230; Produer</strong>&#xFF0C;&#x800C;&#x662F;&#x7531; <strong>Produer &#x5B9A;&#x65F6;&#x53BB;&#x8BF7;&#x6C42; NameServer &#x83B7;&#x53D6;&#x6700;&#x65B0;&#x7684; Broker/Consumer &#x4FE1;&#x606F;</strong>&#xFF08;&#x8FD9;&#x79CD;&#x60C5;&#x51B5;&#x662F;&#x901A;&#x8FC7; Producer &#x53D1;&#x9001;&#x6D88;&#x606F;&#x65F6;&#xFF0C;&#x8D1F;&#x8F7D;&#x5747;&#x8861;&#x89E3;&#x51B3;&#xFF09;</li>
<li>&#x5305;&#x62EC;&#x7EC4;&#x4EF6;&#x901A;&#x4FE1;&#x95F4;&#x4F7F;&#x7528; Netty &#x7684;&#x81EA;&#x5B9A;&#x4E49;&#x534F;&#x8BAE;</li>
<li>&#x6D88;&#x606F;&#x91CD;&#x8BD5;&#x8D1F;&#x8F7D;&#x5747;&#x8861;&#x7B56;&#x7565;&#xFF08;&#x5177;&#x4F53;&#x53C2;&#x8003; Dubbo &#x8D1F;&#x8F7D;&#x5747;&#x8861;&#x7B56;&#x7565;&#xFF09;</li>
<li>&#x6D88;&#x606F;&#x8FC7;&#x6EE4;&#x5668;&#xFF08;Producer &#x53D1;&#x9001;&#x6D88;&#x606F;&#x5230; Broker&#xFF0C;Broker &#x5B58;&#x50A8;&#x6D88;&#x606F;&#x4FE1;&#x606F;&#xFF0C;Consumer &#x6D88;&#x8D39;&#x65F6;&#x8BF7;&#x6C42; Broker &#x7AEF;&#x4ECE;&#x78C1;&#x76D8;&#x6587;&#x4EF6;&#x67E5;&#x8BE2;&#x6D88;&#x606F;&#x6587;&#x4EF6;&#x65F6;,&#x5728; Broker &#x7AEF;&#x5C31;&#x4F7F;&#x7528;&#x8FC7;&#x6EE4;&#x670D;&#x52A1;&#x5668;&#x8FDB;&#x884C;&#x8FC7;&#x6EE4;&#xFF09;</li>
<li>Broker &#x540C;&#x6B65;&#x53CC;&#x5199;&#x548C;&#x5F02;&#x6B65;&#x53CC;&#x5199;&#x4E2D; Master &#x548C; Slave &#x7684;&#x4EA4;&#x4E92;</li>
</ol>
<blockquote>
<p>&#x521B;&#x4F5C;&#x4E0D;&#x6613;&#x54C7;&#xFF0C;&#x89C9;&#x5F97;&#x6709;&#x5E2E;&#x52A9;&#x7684;&#x8BDD;&#xFF0C;&#x7ED9;&#x4E2A;&#x5C0F;&#x5C0F;&#x7684;star&#x5457;&#x3002;<br><a href="/external_links/4eb9dafaf82ed807eb7d15ad0f61cf71.html" target="blank" rel="noopener">github.com/DreamCats/J&#x2026;</a></p>
</blockquote>
<blockquote>
<p>&#x5C0F;Demo&#x9879;&#x76EE;&#x7ED3;&#x5408;&#x4E86;RocketMQ&#x6D88;&#x606F;&#x961F;&#x5217;&#xFF1A;<a href="/external_links/86ecbedf1cce8c68a5a54c6e938de908.html" target="blank" rel="noopener">github.com/DreamCats/s&#x2026;</a></p>
</blockquote>
<p><strong>&#x672C;&#x6587;&#x8F6C;&#x8F7D;&#x81EA;:</strong> <a href="/external_links/b82ec3d4a5af296112dde3b30a79388d.html" target="blank" rel="noopener">&#x6398;&#x91D1;</a></p>
<p><em><a href="https://dev.newban.cn/">&#x5F00;&#x53D1;&#x8005;&#x535A;&#x5BA2; &#x2013; &#x548C;&#x5F00;&#x53D1;&#x76F8;&#x5173;&#x7684; &#x8FD9;&#x91CC;&#x5168;&#x90FD;&#x6709;</a></em></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://dev.newban.cn../../6844904169833234439.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="开发者博客">
      <meta itemprop="description" content>
      <meta itemprop="image" content="../../images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="开发者博客 – IT技术 尽在开发者博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="../../6844904169833234439.html" itemprop="url">【奇技淫巧】除了 buildSrc 还能这样统一配置依赖版本</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2020-05-27T12:06:03+08:00">
                2020-05-27
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="buildSrc-&#x7684;&#x7F3A;&#x9677;"><a href="#buildSrc-&#x7684;&#x7F3A;&#x9677;" class="headerlink" title="buildSrc &#x7684;&#x7F3A;&#x9677;"></a>buildSrc &#x7684;&#x7F3A;&#x9677;</h2><p>Android &#x5F00;&#x53D1;&#x4E2D;&#x7EDF;&#x4E00;&#x4E0D;&#x540C; module &#x7684;&#x4F9D;&#x8D56;&#x7248;&#x672C;&#x5341;&#x5206;&#x91CD;&#x8981;&#xFF0C;&#x4F20;&#x7EDF;&#x7684;&#x65B9;&#x5F0F;&#x662F;&#x4F7F;&#x7528; ext &#x7684;&#x65B9;&#x5F0F;</p>
<p><img src="https://gitee.com/songjianzaina/juejin_p4/raw/master/img/deb99986ddd2e14344118c83fd130e6f6b0bd509babab4b61e27ecd93bacba03" alt="ext"></p>
<p>ext</p>
<p>&#x4E4B;&#x524D;&#x6211;&#x53D1;&#x8FC7;&#x5173;&#x4E8E;&#x4F7F;&#x7528; buildSrc &#x7B80;&#x5316;&#x9879;&#x76EE;&#x4E2D; gradle &#x4EE3;&#x7801;&#x7684;&#x8BD1;&#x6587;&#xFF1A;<a href="https://dev.newban.cn/6844904050798886919">&#x4EC0;&#x4E48;&#xFF1F;&#x9879;&#x76EE;&#x91CC;gradle&#x4EE3;&#x7801;&#x8D85;&#x8FC7;200&#x884C;&#x4E86;&#xFF01;&#x4F60;&#x53EF;&#x80FD;&#x9700;&#x8981; Kotlin+buildSrc Plugin</a></p>
<p>&#x8BE5;&#x79CD;&#x65B9;&#x5F0F;&#x53EF;&#x4EE5;&#x5F88;&#x597D;&#x7684;&#x7BA1;&#x7406; gradle &#x7684;&#x516C;&#x5171;&#x914D;&#x7F6E;&#xFF0C;&#x8FD9;&#x5176;&#x4E2D;&#x5F53;&#x7136;&#x5305;&#x62EC;&#x4F9D;&#x8D56;&#x7248;&#x672C;</p>
<p><img src="https://gitee.com/songjianzaina/juejin_p4/raw/master/img/205d449fd78ad82b8a38f4cda28f958f1cfea3bc4186fdee1763f3fd1d90e2e3" alt="&#x914D;&#x7F6E;&#x4F9D;&#x8D56;"></p>
<p>&#x914D;&#x7F6E;&#x4F9D;&#x8D56;</p>
<p>&#x5982;&#x56FE;&#xFF0C;&#x5728;&#x4F7F;&#x7528;&#x4F9D;&#x8D56;&#x65F6;&#x6709;&#x4EE3;&#x7801;&#x63D0;&#x793A;&#xFF0C;&#x800C;&#x4E14;&#x53EF;&#x4EE5;&#x70B9;&#x51FB;&#x8FDB;&#x5165;&#x67E5;&#x770B;</p>
<p>&#x4F46;&#x662F;&#x7531;&#x4E8E; buildSrc &#x662F;&#x5BF9;&#x5168;&#x5C40;&#x7684;&#x6240;&#x6709; module &#x7684;&#x914D;&#x7F6E;&#xFF0C;&#x56E0;&#x6B64;&#x5728;&#x6784;&#x5EFA;&#x901F;&#x5EA6;&#x4E0A;&#x4F1A;&#x6162;&#x4E00;&#x4E9B;&#x3002;&#x90A3;&#x4E48;&#x6709;&#x6CA1;&#x6709;&#x4E00;&#x4E2A;&#x66F4;&#x7EAF;&#x51C0;&#x7684;&#x65B9;&#x5F0F;&#x6765;&#x914D;&#x7F6E;&#x4F9D;&#x8D56;&#x7248;&#x672C;&#x5462;&#xFF1F;</p>
<p>&#x4ECA;&#x5929;&#x6211;&#x4EEC;&#x6765;&#x4ECB;&#x7ECD;&#x4E00;&#x79CD;&#x65B0;&#x7684;&#x65B9;&#x5F0F;</p>
<h2 id="&#x81EA;&#x5B9A;&#x4E49;-plugin-includeBuild"><a href="#&#x81EA;&#x5B9A;&#x4E49;-plugin-includeBuild" class="headerlink" title="&#x81EA;&#x5B9A;&#x4E49; plugin + includeBuild"></a>&#x81EA;&#x5B9A;&#x4E49; plugin + includeBuild</h2><p>&#x4F7F;&#x7528; <a href="/external_links/c1a1f1378653daea3ab4524c5bbb0027.html" target="blank" rel="noopener">Gradle Composite builds</a> &#x53EF;&#x4EE5;&#x5F88;&#x5BB9;&#x6613;&#x89E3;&#x51B3;&#x8FD9;&#x4E00;&#x95EE;&#x9898;</p>
<p>&#x6211;&#x4EEC;&#x65B0;&#x5EFA;&#x4E00;&#x4E2A; module&#xFF0C;&#x547D;&#x540D;&#x4E3A; version &#xFF0C;&#x5E76;&#x5C06;&#x539F;&#x6765;&#x7684; buildSrc &#x7684;&#x4EE3;&#x7801;&#x8F6C;&#x79FB;&#x8FC7;&#x6765;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&#x590D;&#x5236;&#x4EE3;&#x7801;class DependencyVersionPlugin : Plugin&lt;Project&gt; {</span><br><span class="line">    override fun apply(project: Project) {</span><br><span class="line"></span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></table></figure>

<p>&#x5728; version &#x7684; build.gradle &#x6587;&#x4EF6;&#x52A0;&#x5165;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&#x590D;&#x5236;&#x4EE3;&#x7801;gradlePlugin {</span><br><span class="line">    plugins {</span><br><span class="line">        version {</span><br><span class="line">            id = &apos;com.flywith24.version&apos;</span><br><span class="line">            implementationClass = &apos;com.flywith24.version.DependencyVersionPlugin&apos;</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></table></figure>

<p>&#x5728; settings.gradle &#x52A0;&#x5165; <code>includeBuild(&quot;version&quot;)</code> &#xFF08;<strong>&#x91CD;&#x70B9;</strong>&#xFF09;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&#x590D;&#x5236;&#x4EE3;&#x7801;includeBuild(&quot;version&quot;)</span><br><span class="line"></span><br><span class="line">rootProject.name=&apos;VersionControlDemo&apos;</span><br><span class="line">include &apos;:app&apos;</span><br><span class="line">include &apos;:lib&apos;</span><br></pre></td></tr></table></figure>

<p>&#x63A5;&#x4E0B;&#x6765;&#x5728;&#x9700;&#x8981;&#x5F15;&#x7528;&#x7684; module &#x4E2D;&#x5F15;&#x5165;&#x8BE5;&#x63D2;&#x4EF6;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&#x590D;&#x5236;&#x4EE3;&#x7801;plugins {</span><br><span class="line">    id &quot;com.flywith24.version&quot;</span><br><span class="line">}</span><br></pre></td></tr></table></figure>

<p>&#x4E4B;&#x540E;&#x6211;&#x4EEC;&#x5C31;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#x4E86;</p>
<h2 id="Demo"><a href="#Demo" class="headerlink" title="Demo"></a>Demo</h2><p><img src="https://gitee.com/songjianzaina/juejin_p4/raw/master/img/68263dce0c0057abb1a49ca53d440cf99bf4103c3aabd41aae1ac05b2f70d16f" alt="demo&#x4EE3;&#x7801;&#x622A;&#x56FE;"></p>
<p>demo&#x4EE3;&#x7801;&#x622A;&#x56FE;</p>
<p><img src="https://gitee.com/songjianzaina/juejin_p4/raw/master/img/38382e49464a997c3cb8ec451cafb604dc46d51f05a2be91d76bd0c2ee3a62e5" alt="demo&#x4EE3;&#x7801;&#x622A;&#x56FE;"></p>
<p>demo&#x4EE3;&#x7801;&#x622A;&#x56FE;</p>
<p><a href="/external_links/b3ca43a0413cf03432476c1b2e190731.html" target="blank" rel="noopener">demo &#x5728;&#x8FD9;</a></p>
<h2 id="&#x5F80;&#x671F;&#x6587;&#x7AE0;"><a href="#&#x5F80;&#x671F;&#x6587;&#x7AE0;" class="headerlink" title="&#x5F80;&#x671F;&#x6587;&#x7AE0;"></a>&#x5F80;&#x671F;&#x6587;&#x7AE0;</h2><p>&#x8BE5;&#x7CFB;&#x5217;&#x4E3B;&#x8981;&#x4ECB;&#x7ECD;&#x4E00;&#x4E9B;&#x300C;&#x9A9A;&#x64CD;&#x4F5C;&#x300D;&#xFF0C;&#x5B83;&#x672A;&#x5FC5;&#x9002;&#x5408;&#x751F;&#x4EA7;&#x73AF;&#x5883;&#x4F7F;&#x7528;&#xFF0C;&#x4F46;&#x662F;&#x662F;&#x4E00;&#x4E9B;&#x6BD4;&#x8F83;&#x65B0;&#x9896;&#x7684;&#x601D;&#x8DEF;</p>
<ul>
<li><a href="https://dev.newban.cn/6844904065671888903">&#x3010;&#x5947;&#x6280;&#x6DEB;&#x5DE7;&#x3011;AndroidStudio Nexus3.x&#x642D;&#x5EFA;Maven&#x79C1;&#x670D;&#x9047;&#x5230;&#x95EE;&#x9898;&#x53CA;&#x89E3;&#x51B3;&#x65B9;&#x6848;</a></li>
<li><a href="https://dev.newban.cn/6844904050798886919">&#x3010;&#x5947;&#x6280;&#x6DEB;&#x5DE7;&#x3011;&#x4EC0;&#x4E48;&#xFF1F;&#x9879;&#x76EE;&#x91CC;gradle&#x4EE3;&#x7801;&#x8D85;&#x8FC7;200&#x884C;&#x4E86;&#xFF01;&#x4F60;&#x53EF;&#x80FD;&#x9700;&#x8981; Kotlin+buildSrc Plugin</a></li>
<li><a href="https://dev.newban.cn/6844904065671888903">&#x3010;&#x5947;&#x6280;&#x6DEB;&#x5DE7;&#x3011;gradle&#x4F9D;&#x8D56;&#x67E5;&#x627E;&#x592A;&#x9EBB;&#x70E6;&#xFF1F;&#x8FD9;&#x4E2A;&#x63D2;&#x4EF6;&#x53EF;&#x80FD;&#x5E2E;&#x5230;&#x4F60;</a></li>
<li><a href="https://dev.newban.cn/6844904127638536205">&#x3010;&#x5947;&#x6280;&#x6DEB;&#x5DE7;&#x3011;Android&#x7EC4;&#x4EF6;&#x5316;&#x4E0D;&#x4F7F;&#x7528; Router &#x5982;&#x4F55;&#x5B9E;&#x73B0;&#x7EC4;&#x4EF6;&#x95F4; activity &#x8DF3;&#x8F6C;</a></li>
<li><a href="https://dev.newban.cn/6844904159527829518">&#x3010;&#x5947;&#x6280;&#x6DEB;&#x5DE7;&#x3011;&#x65B0;&#x7684;&#x56FE;&#x7247;&#x52A0;&#x8F7D;&#x5E93;&#xFF1F;&#x57FA;&#x4E8E;Kotlin&#x534F;&#x7A0B;&#x7684;&#x56FE;&#x7247;&#x52A0;&#x8F7D;&#x5E93;&#x2014;&#x2014;Coil</a></li>
<li><a href="https://dev.newban.cn/6844904164166909965">&#x3010;&#x5947;&#x6280;&#x6DEB;&#x5DE7;&#x3011;&#x4F7F;&#x7528; Navigation + Dynamic Feature Module &#x5B9E;&#x73B0;&#x6A21;&#x5757;&#x5316;</a></li>
</ul>
<p>&#x6211;&#x7684;&#x5176;&#x4ED6;&#x7CFB;&#x5217;&#x6587;&#x7AE0; <a href="/external_links/a91d6a514844f3269d2590130a1d5f43.html" target="blank" rel="noopener">&#x5728;&#x8FD9;&#x91CC;</a></p>
<h2 id="&#x5173;&#x4E8E;&#x6211;"><a href="#&#x5173;&#x4E8E;&#x6211;" class="headerlink" title="&#x5173;&#x4E8E;&#x6211;"></a>&#x5173;&#x4E8E;&#x6211;</h2><p>&#x6211;&#x662F; <a href="/external_links/f172067982bb5e52cab07bce4aa1a68c.html" target="blank" rel="noopener">Fly_with24</a></p>
<ul>
<li><a href="/external_links/e91b954bff8565cd53debb24f36199c4.html" target="blank" rel="noopener">&#x6398;&#x91D1;</a></li>
<li><a href="/external_links/f5bd3cd9c71dc28aaea27f1934557350.html" target="blank" rel="noopener">&#x7B80;&#x4E66;</a></li>
<li><a href="/external_links/f7f854b2dd81e35ec46837c75f7510d7.html" target="blank" rel="noopener">Github</a></li>
</ul>
<p><strong>&#x672C;&#x6587;&#x8F6C;&#x8F7D;&#x81EA;:</strong> <a href="/external_links/bc7af3f87438344605299b79c622ea9a.html" target="blank" rel="noopener">&#x6398;&#x91D1;</a></p>
<p><em><a href="https://dev.newban.cn/">&#x5F00;&#x53D1;&#x8005;&#x535A;&#x5BA2; &#x2013; &#x548C;&#x5F00;&#x53D1;&#x76F8;&#x5173;&#x7684; &#x8FD9;&#x91CC;&#x5168;&#x90FD;&#x6709;</a></em></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://dev.newban.cn../../6844904168583331854.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="开发者博客">
      <meta itemprop="description" content>
      <meta itemprop="image" content="../../images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="开发者博客 – IT技术 尽在开发者博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="../../6844904168583331854.html" itemprop="url">【译】 解密 RxJava 的异常处理机制</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2020-05-26T02:42:36+08:00">
                2020-05-26
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="&#x524D;&#x8A00;"><a href="#&#x524D;&#x8A00;" class="headerlink" title="&#x524D;&#x8A00;"></a>&#x524D;&#x8A00;</h2><blockquote>
<ul>
<li>&#x539F;&#x6807;&#x9898;: Beyond Basic RxJava Error Handling</li>
<li>&#x539F;&#x6587;&#x5730;&#x5740;: <a href="/external_links/28937801dbfe527ee3b855d77a1129da.html" target="blank" rel="noopener">proandroiddev.com/beyond-basi&#x2026;</a></li>
<li>&#x539F;&#x6587;&#x4F5C;&#x8005;&#xFF1A;Elye</li>
</ul>
</blockquote>
<p>&#x4ECA;&#x5929;&#x770B;&#x5230;&#x4E00;&#x7BC7;&#x5927;&#x795E; Elye &#x5173;&#x4E8E; RxJava &#x5F02;&#x5E38;&#x7684;&#x5904;&#x7406;&#x7684;&#x6587;&#x7AE0;&#xFF0C;&#x8BA9;&#x6211;&#x5BF9; RxJava &#x5F02;&#x5E38;&#x7684;&#x5904;&#x7406;&#x6709;&#x4E86;&#x4E00;&#x4E2A;&#x6E05;&#x6670;&#x7684;&#x4E86;&#x89E3;&#xFF0C;&#x7528;&#x4E86; RxJava &#x5F88;&#x4E45;&#x4E86;&#x5BF9;&#x91CC;&#x9762;&#x7684;&#x5F02;&#x5E38;&#x5904;&#x7406;&#x673A;&#x5236;&#x4E00;&#x76F4;&#x5F88;&#x61F5;&#x61C2;&#x3002;</p>
<p><strong>&#x901A;&#x8FC7;&#x8FD9;&#x7BC7;&#x6587;&#x7AE0;&#x4F60;&#x5C06;&#x5B66;&#x4E60;&#x5230;&#x4EE5;&#x4E0B;&#x5185;&#x5BB9;&#xFF0C;&#x5C06;&#x5728;&#x8BD1;&#x8005;&#x601D;&#x8003;&#x90E8;&#x5206;&#x4F1A;&#x7ED9;&#x51FA;&#x76F8;&#x5E94;&#x7684;&#x7B54;&#x6848;</strong></p>
<ul>
<li>just &#x548C; fromCallable &#x533A;&#x522B;&#xFF1F;</li>
<li>&#x4EC0;&#x4E48;&#x662F; RxJavaPlugins.setErrorHandler&#xFF1F;</li>
<li>Crashes &#x53D1;&#x751F;&#x5728; just() &#x4E2D;&#x7684;&#x5904;&#x7406;&#x65B9;&#x6848;&#xFF1F;</li>
<li>Crashes &#x53D1;&#x751F;&#x5728; subscribe success &#x4E2D;&#x7684;&#x5904;&#x7406;&#x65B9;&#x6848;&#xFF1F;</li>
<li>Crashes &#x53D1;&#x751F;&#x5728; subscribe error &#x4E2D;&#x7684;&#x5904;&#x7406;&#x65B9;&#x6848;&#xFF1F;</li>
<li>Crashes &#x53D1;&#x751F;&#x5728; complete &#x4E2D;&#x7684;&#x5904;&#x7406;&#x65B9;&#x6848;&#xFF1F;</li>
<li>Crashes &#x53D1;&#x751F;&#x5728; complete &#x4E4B;&#x524D;&#x7684;&#x5904;&#x7406;&#x65B9;&#x6848;&#xFF1F;</li>
</ul>
<p>&#x8FD9;&#x7BC7;&#x6587;&#x7AE0;&#x6D89;&#x53CA;&#x5F88;&#x591A;&#x91CD;&#x8981;&#x7684;&#x77E5;&#x8BC6;&#x70B9;&#xFF0C;&#x8BF7;&#x8010;&#x5FC3;&#x8BFB;&#x4E0B;&#x53BB;&#xFF0C;&#x5E94;&#x8BE5;&#x53EF;&#x4EE5;&#x4ECE;&#x4E2D;&#x5B66;&#x5230;&#x5F88;&#x591A;&#x6280;&#x5DE7;&#x3002;</p>
<h2 id="&#x8BD1;&#x6587;"><a href="#&#x8BD1;&#x6587;" class="headerlink" title="&#x8BD1;&#x6587;"></a>&#x8BD1;&#x6587;</h2><p>&#x5927;&#x90E8;&#x5206;&#x4E86;&#x89E3; RxJava &#x7684;&#x4EBA;&#x90FD;&#x4F1A;&#x559C;&#x6B22;&#x5B83;&#xFF0C;&#x56E0;&#x4E3A;&#x5B83;&#x80FD;&#x591F;&#x5C01;&#x88C5; onError &#x56DE;&#x8C03;&#x4E0A;&#x7684;&#x9519;&#x8BEF;&#x5904;&#x7406;&#xFF0C;&#x5982;&#x4E0B;&#x6240;&#x793A;&#xFF1A;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&#x590D;&#x5236;&#x4EE3;&#x7801;Single.just(getSomeData())</span><br><span class="line"> .map { item -&gt; handleMap(item) } </span><br><span class="line"> .subscribe(</span><br><span class="line">        { result -&gt; handleResult(result) }, </span><br><span class="line">        { error -&gt; handleError(error) } // Expect all error capture </span><br><span class="line">    )</span><br></pre></td></tr></table></figure>

<p>&#x4F60;&#x53EF;&#x80FD;&#x4F1A;&#x4EE5;&#x4E3A;&#x6240;&#x6709;&#x7684; Crashes &#x90FD;&#x5C06;&#x8C03;&#x7528; handleError &#x6765;&#x5904;&#x7406;&#xFF0C;&#x4F46;&#x5176;&#x5B9E;&#x5E76;&#x5168;&#x90FD;&#x662F;&#x8FD9;&#x6837;&#x7684;</p>
<h3 id="Crashes-&#x53D1;&#x751F;&#x5728;-just-&#x4E2D;"><a href="#Crashes-&#x53D1;&#x751F;&#x5728;-just-&#x4E2D;" class="headerlink" title="Crashes &#x53D1;&#x751F;&#x5728; just() &#x4E2D;"></a>Crashes &#x53D1;&#x751F;&#x5728; just() &#x4E2D;</h3><p>&#x6211;&#x5148;&#x6765;&#x770B;&#x4E00;&#x4E2A;&#x7B80;&#x5355;&#x7684;&#x4F8B;&#x5B50;&#xFF0C;&#x5047;&#x8BBE; crashes &#x53D1;&#x751F;&#x5728; getSomeData() &#x65B9;&#x6CD5;&#x5185;&#x90E8;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&#x590D;&#x5236;&#x4EE3;&#x7801;Single.just(getSomeData() /**&#x1F525;Crash&#x1F525;**/ )</span><br><span class="line">   .map { item -&gt; handleMap(item) } </span><br><span class="line">   .subscribe(</span><br><span class="line">        { result -&gt; handleResult(result) }, </span><br><span class="line">        { error -&gt; handleError(error) } // Crash NOT caught &#x26D4;&#xFE0F;</span><br></pre></td></tr></table></figure>

<p>&#x8FD9;&#x4E2A;&#x9519;&#x8BEF;&#x5C06;&#x4E0D;&#x4F1A;&#x5728; handleError &#x4E2D;&#x6355;&#x83B7;&#xFF0C;&#x56E0;&#x4E3A; just() &#x4E0D;&#x662F; RxJava &#x8C03;&#x7528;&#x94FE;&#x7684;&#x4E00;&#x90E8;&#x5206;&#xFF0C;&#x5982;&#x679C;&#x4F60;&#x60F3;&#x6355;&#x83B7;&#x5B83;&#xFF0C;&#x4F60;&#x53EF;&#x80FD;&#x9700;&#x8981;&#x5728;&#x6700;&#x5916;&#x5C42;&#x6DFB;&#x52A0; try-catch &#x6765;&#x5904;&#x7406;&#xFF0C;&#x5982;&#x4E0B;&#x6240;&#x793A;&#xFF1A;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&#x590D;&#x5236;&#x4EE3;&#x7801;try { </span><br><span class="line">   Single.just(getSomeData() /**&#x1F525;Crash&#x1F525;**/ )</span><br><span class="line">      .map { item -&gt; handleMap(item) } </span><br><span class="line">      .subscribe(</span><br><span class="line">          { result -&gt; handleResult(result) }, </span><br><span class="line">          { error -&gt; handleError(error) } // Crash NOT caught &#x26D4;&#xFE0F; </span><br><span class="line">      )</span><br><span class="line">} catch (exception: Exception) {</span><br><span class="line">   handleError(exception)  // Crash caught &#x2705;</span><br><span class="line">}</span><br></pre></td></tr></table></figure>

<p>&#x5982;&#x679C;&#x4F60;&#x4E0D;&#x4F7F;&#x7528; just &#xFF0C;&#x800C;&#x662F;&#x4F7F;&#x7528; RxJava &#x5185;&#x90E8;&#x7684;&#x4E00;&#x4E9B;&#x4E1C;&#x897F;&#xFF0C;&#x4F8B;&#x5982; fromCallable&#xFF0C;&#x9519;&#x8BEF;&#x5C06;&#x4F1A;&#x88AB;&#x6355;&#x83B7;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&#x590D;&#x5236;&#x4EE3;&#x7801;Single.fromCallable{ getSomeData() /**&#x1F525;Crash&#x1F525;**/ }</span><br><span class="line">   .map { item -&gt; handleMap(item) } </span><br><span class="line">   .subscribe(</span><br><span class="line">        { result -&gt; handleResult(result) }, </span><br><span class="line">        { error -&gt; handleError(error) } // Crash caught &#x2705;</span><br><span class="line">    )</span><br></pre></td></tr></table></figure>

<h3 id="Crashes-&#x53D1;&#x751F;&#x5728;-subscribe-success-&#x4E2D;"><a href="#Crashes-&#x53D1;&#x751F;&#x5728;-subscribe-success-&#x4E2D;" class="headerlink" title="Crashes &#x53D1;&#x751F;&#x5728; subscribe success &#x4E2D;"></a>Crashes &#x53D1;&#x751F;&#x5728; subscribe success &#x4E2D;</h3><p>&#x8BA9;&#x6211;&#x4EEC;&#x6765;&#x5047;&#x8BBE;&#x4E00;&#x4E0B; Crashes &#x51FA;&#x73B0;&#x5728; subscribe success &#x4E2D;&#xFF0C;&#x5982;&#x4E0B;&#x6240;&#x793A;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&#x590D;&#x5236;&#x4EE3;&#x7801;Single.just(getSomeData() )</span><br><span class="line">   .map { item -&gt; handleMap(item) } </span><br><span class="line">   .subscribe(</span><br><span class="line">        { result -&gt; handleResult(result) /**&#x1F525;Crash&#x1F525;**/ }, </span><br><span class="line">        { error -&gt; handleError(error) } // Crash NOT caught &#x26D4;&#xFE0F; </span><br><span class="line">    )</span><br></pre></td></tr></table></figure>

<p>&#x8FD9;&#x4E2A;&#x9519;&#x8BEF;&#x5C06;&#x4E0D;&#x4F1A;&#x88AB; handleError &#x6355;&#x83B7;&#xFF0C;&#x5947;&#x602A;&#x7684;&#x662F;&#xFF0C;&#x5982;&#x679C;&#x6211;&#x4EEC;&#x5C06; Single &#x6362;&#x6210; Observable&#xFF0C;&#x5F02;&#x5E38;&#x5C31;&#x4F1A;&#x88AB;&#x6355;&#x83B7;&#xFF0C;&#x5982;&#x4E0B;&#x6240;&#x793A;&#xFF1A;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&#x590D;&#x5236;&#x4EE3;&#x7801;Observable.just(getSomeData() )</span><br><span class="line">   .map { item -&gt; handleMap(item) } </span><br><span class="line">   .subscribe(</span><br><span class="line">        { result -&gt; handleResult(result) /**&#x1F525;Crash&#x1F525;**/ }, </span><br><span class="line">        { error -&gt; handleError(error) }, // Crash caught &#x2705;</span><br><span class="line">        { handleCompletion() }</span><br><span class="line">    )</span><br></pre></td></tr></table></figure>

<p>&#x539F;&#x56E0;&#x662F;&#x5728; Single &#x4E2D;&#x6210;&#x529F;&#x7684;&#x8BA2;&#x9605;&#x88AB;&#x8BA4;&#x4E3A;&#x662F;&#x4E00;&#x4E2A;&#x5B8C;&#x6574;&#x7684;&#x6D41;&#x3002;&#x56E0;&#x6B64;&#xFF0C;&#x9519;&#x8BEF;&#x4E0D;&#x518D;&#x80FD;&#x88AB;&#x6355;&#x83B7;&#x3002;&#x800C;&#x5728; Observable &#x4E2D;&#xFF0C;&#x5B83;&#x8BA4;&#x4E3A; onNext &#x9700;&#x8981;&#x5904;&#x7406;&#xFF0C;&#x56E0;&#x6B64; crash &#x4ECD;&#x7136;&#x53EF;&#x4EE5;&#x88AB;&#x6355;&#x83B7;&#xFF0C;&#x90A3;&#x4E48;&#x6211;&#x4EEC;&#x5E94;&#x8BE5;&#x5982;&#x4F55;&#x89E3;&#x51B3;&#x8FD9;&#x4E2A;&#x95EE;&#x9898;&#x5462;</p>
<p><strong>&#x9519;&#x8BEF;&#x7684;&#x5904;&#x7406;&#x65B9;&#x5F0F;&#xFF0C;&#x50CF;&#x4E4B;&#x524D;&#x4E00;&#x6837;&#xFF0C;&#x5728;&#x6700;&#x5916;&#x5C42;&#x4F7F;&#x7528; try-catch &#x8FDB;&#x884C;&#x5F02;&#x5E38;&#x6355;&#x83B7;</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&#x590D;&#x5236;&#x4EE3;&#x7801;try { </span><br><span class="line">   Single.just(getSomeData())</span><br><span class="line">      .map { item -&gt; handleMap(item) } </span><br><span class="line">      .subscribe(</span><br><span class="line">          { result -&gt; handleResult(result)/**&#x1F525;Crash&#x1F525;**/ }, </span><br><span class="line">          { error -&gt; handleError(error) } // Crash NOT caught &#x26D4;&#xFE0F; </span><br><span class="line">      )</span><br><span class="line">} catch (exception: Exception) {</span><br><span class="line">   handleError(exception)  // Crash NOT caught &#x26D4;&#xFE0F;</span><br><span class="line">}</span><br></pre></td></tr></table></figure>

<p>&#x4F46;&#x662F;&#x8FD9;&#x6837;&#x505A;&#x5176;&#x5B9E;&#x5F02;&#x5E38;&#x5E76;&#x6CA1;&#x6709;&#x88AB;&#x6355;&#x83B7;&#xFF0C;crash &#x4F9D;&#x7136;&#x5728;&#x4F20;&#x9012;&#xFF0C;&#x56E0;&#x4E3A; RxJava &#x5728;&#x5185;&#x90E8;&#x5904;&#x7406;&#x4E86; crash&#xFF0C;&#x5E76;&#x6CA1;&#x6709;&#x4F20;&#x9012;&#x5230;&#x5916;&#x90E8;</p>
<p><strong>&#x4E00;&#x79CD;&#x5F88;&#x5947;&#x602A;&#x7684;&#x65B9;&#x5F0F;&#xFF0C;&#x5728; subscribe successful &#x4E2D;&#xFF0C;&#x6267;&#x884C; try-catch</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">&#x590D;&#x5236;&#x4EE3;&#x7801;Single.just(getSomeData() )</span><br><span class="line">   .map { item -&gt; handleMap(item) } </span><br><span class="line">   .subscribe(</span><br><span class="line">        { result -&gt; try {</span><br><span class="line">                handleResult(result) /**&#x1F525;Crash&#x1F525;**/</span><br><span class="line">             } catch (exception: Exception) {</span><br><span class="line">                handleError(exception) // Crash caught &#x2705;            </span><br><span class="line">             }</span><br><span class="line">        }, </span><br><span class="line">        { error -&gt; handleError(error) }, // Crash NOT caught &#x26D4;&#xFE0F;</span><br><span class="line">    )</span><br></pre></td></tr></table></figure>

<p>&#x8FD9;&#x79CD;&#x65B9;&#x5F0F;&#x867D;&#x7136;&#x6355;&#x83B7;&#x4F4F;&#x4E86;&#x8FD9;&#x4E2A;&#x5F02;&#x5E38;&#xFF0C;&#x4F46;&#x662F; RxJava &#x5E76;&#x4E0D;&#x77E5;&#x9053;&#x5982;&#x4F55;&#x5904;&#x7406;</p>
<p><strong>&#x4E00;&#x79CD;&#x6BD4;&#x8F83;&#x597D;&#x7684;&#x65B9;&#x5F0F;</strong></p>
<p>&#x4E0A;&#x6587;&#x63D0;&#x5230;&#x4E86;&#x4F7F;&#x7528; Single &#x5728; subscribe successful &#x4E2D;&#x4E0D;&#x80FD;&#x6355;&#x83B7;&#x5F02;&#x5E38;&#xFF0C;&#x56E0;&#x4E3A;&#x88AB;&#x8BA4;&#x4E3A;&#x662F;&#x4E00;&#x4E2A;&#x5B8C;&#x6574;&#x7684;&#x6D41;&#xFF0C;&#x5904;&#x7406;&#x8FD9;&#x4E2A;&#x60C5;&#x51B5;&#x6BD4;&#x8F83;&#x597D;&#x7684;&#x65B9;&#x5F0F;&#xFF0C;&#x53EF;&#x4EE5;&#x4F7F;&#x7528; doOnSuccess &#x65B9;&#x6CD5;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&#x590D;&#x5236;&#x4EE3;&#x7801;Single.just(getSomeData() )</span><br><span class="line">   .map { item -&gt; handleMap(item) }</span><br><span class="line">   .doOnSuccess { result -&gt; handleResult(result) /*&#x1F525;Crash&#x1F525;*/ }, }</span><br><span class="line">   .subscribe(</span><br><span class="line">        { /** REMOVE CODE **/ },</span><br><span class="line">        { error -&gt; handleError(error) } // Crash caught &#x2705;</span><br><span class="line">   )</span><br></pre></td></tr></table></figure>

<p>&#x5F53;&#x6211;&#x4EEC;&#x6309;&#x7167;&#x4E0A;&#x9762;&#x65B9;&#x5F0F;&#x5904;&#x7406;&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x9519;&#x8BEF;&#x5C06;&#x4F1A;&#x88AB; onError &#x6355;&#x83B7;&#xFF0C;&#x5982;&#x679C;&#x60F3;&#x8BA9;&#x4EE3;&#x7801;&#x66F4;&#x597D;&#x770B;&#xFF0C;&#x53EF;&#x4EE5;&#x4F7F;&#x7528; doOnError &#x65B9;&#x6CD5;&#xFF0C;&#x5982;&#x4E0B;&#x6240;&#x793A;:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&#x590D;&#x5236;&#x4EE3;&#x7801;Single.just(getSomeData() )</span><br><span class="line">   .map { item -&gt; handleMap(item) }</span><br><span class="line">   .doOnSuccess { result -&gt; handleResult(result) /*&#x1F525;Crash&#x1F525;*/ }, }</span><br><span class="line">   .doOnError { error -&gt; handleError(error) } // Crash NOT stop &#x26D4;&#xFE0F;   </span><br><span class="line">   .subscribe()</span><br></pre></td></tr></table></figure>

<p>&#x4F46;&#x662F;&#x8FD9;&#x5E76;&#x6CA1;&#x6709;&#x5B8C;&#x5168;&#x89E3;&#x51B3; crash &#x95EE;&#x9898;&#xFF0C;&#x867D;&#x7136;&#x5DF2;&#x7ECF;&#x6355;&#x83B7;&#x4E86;&#x4F46;&#x5E76;&#x6CA1;&#x6709;&#x505C;&#x6B62;&#xFF0C;&#x56E0;&#x6B64; crash &#x4ECD;&#x7136;&#x53D1;&#x751F;&#x3002;</p>
<p>&#x66F4;&#x51C6;&#x786E;&#x7684;&#x89E3;&#x91CA;&#xFF0C;&#x5B83;&#x5B9E;&#x9645;&#x4E0A;&#x786E;&#x5B9E;&#x6355;&#x83B7;&#x4E86; crash&#xFF0C;&#x4F46;&#x662F; doOnError &#x4E0D;&#x662F;&#x5B8C;&#x6574;&#x72B6;&#x6001;&#xFF0C;&#x56E0;&#x6B64;&#x9519;&#x8BEF;&#x4ECD;&#x5E94;&#x8BE5;&#x5728; onError &#x4E2D;&#x5904;&#x7406;&#xFF0C;&#x5426;&#x5219;&#x5B83;&#x4F1A;&#x5728;&#x91CC;&#x9762; crash&#xFF0C;&#x6240;&#x4EE5;&#x6211;&#x4EEC;&#x81F3;&#x5C11;&#x5E94;&#x8BE5;&#x63D0;&#x4F9B;&#x4E00;&#x4E2A;&#x7A7A;&#x7684; onError</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&#x590D;&#x5236;&#x4EE3;&#x7801;Single.just(getSomeData() )</span><br><span class="line">   .map { item -&gt; handleMap(item) }</span><br><span class="line">   .doOnSuccess { result -&gt; handleResult(result) /*&#x1F525;Crash&#x1F525;*/ }, }</span><br><span class="line">   .doOnError { error -&gt; handleError(error) } // Crash NOT stop &#x26D4;&#xFE0F;   </span><br><span class="line">   .subscribe({} {}) // But crash stop here &#x2705;</span><br></pre></td></tr></table></figure>

<h3 id="Crashes-&#x53D1;&#x751F;&#x5728;-subscribe-error-&#x4E2D;"><a href="#Crashes-&#x53D1;&#x751F;&#x5728;-subscribe-error-&#x4E2D;" class="headerlink" title="Crashes &#x53D1;&#x751F;&#x5728; subscribe error &#x4E2D;"></a>Crashes &#x53D1;&#x751F;&#x5728; subscribe error &#x4E2D;</h3><p>&#x6211;&#x4EEC;&#x6765;&#x601D;&#x8003;&#x4E00;&#x4E0B;&#x5982;&#x679C; Crashes &#x53D1;&#x751F;&#x5728; subscribe error &#x4E2D;&#x600E;&#x4E48;&#x5904;&#x7406;&#xFF0C;&#x5982;&#x4E0B;&#x6240;&#x793A;&#xFF1A;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&#x590D;&#x5236;&#x4EE3;&#x7801;Single.just(getSomeData() )</span><br><span class="line">   .map { item -&gt; handleMap(item) } </span><br><span class="line">   .subscribe(</span><br><span class="line">        { result -&gt; handleResult(result) }, </span><br><span class="line">        { error -&gt; handleError(error) /**&#x1F525;Crash&#x1F525;**/ } </span><br><span class="line">    )</span><br></pre></td></tr></table></figure>

<p>&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x60F3;&#x5230;&#x4F7F;&#x7528;&#x4E0A;&#x6587;&#x63D0;&#x5230;&#x7684;&#x65B9;&#x6CD5;&#x6765;&#x89E3;&#x51B3;&#x8FD9;&#x4E2A;&#x95EE;&#x9898;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&#x590D;&#x5236;&#x4EE3;&#x7801;Single.just(getSomeData() )</span><br><span class="line">   .map { item -&gt; handleMap(item) }</span><br><span class="line">   .doOnSuccess { result -&gt; handleResult(result) }, }</span><br><span class="line">   .doOnError { error -&gt; handleError(error) /*&#x1F525;Crash&#x1F525;*/ }</span><br><span class="line">   .subscribe({} {}) // Crash stop here &#x2705;</span><br></pre></td></tr></table></figure>

<p>&#x5C3D;&#x7BA1;&#x8FD9;&#x6837;&#x53EF;&#x4EE5;&#x907F;&#x514D; crash &#xFF0C;&#x4F46;&#x662F;&#x4ECD;&#x7136;&#x5F88;&#x5947;&#x602A;&#xFF0C;&#x56E0;&#x4E3A;&#x6CA1;&#x6709;&#x5728; crash &#x65F6;&#x505A;&#x4EFB;&#x4F55;&#x4E8B;&#x60C5;&#xFF0C;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x6309;&#x7167;&#x4E0B;&#x9762;&#x7684;&#x65B9;&#x5F0F;&#xFF0C;&#x5728; onError &#x4E2D;&#x6355;&#x83B7;&#x5F02;&#x5E38;&#xFF0C;&#x8FD9;&#x662F;&#x4E00;&#x79CD;&#x975E;&#x5E38;&#x6709;&#x8DA3;&#x7684;&#x7F16;&#x7A0B;&#x65B9;&#x5F0F;&#x3002;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&#x590D;&#x5236;&#x4EE3;&#x7801;Single.just(getSomeData() )</span><br><span class="line">   .map { item -&gt; handleMap(item) }</span><br><span class="line">   .doOnSuccess { result -&gt; handleResult(result) }, }</span><br><span class="line">   .doOnError { error -&gt; handleError(error) /*&#x1F525;Crash&#x1F525;*/ }</span><br><span class="line">   .subscribe({} { error -&gt; handleError(error) }) // Crash caught &#x2705;</span><br></pre></td></tr></table></figure>

<p>&#x4E0D;&#x7BA1;&#x600E;&#x4E48;&#x6837;&#x8FD9;&#x4E2A;&#x65B9;&#x6848;&#x662F;&#x53EF;&#x884C;&#x7684;&#xFF0C;&#x5728;&#x8FD9;&#x91CC;&#x53EA;&#x662F;&#x5C55;&#x793A;&#x5982;&#x4F55;&#x5904;&#x7406;&#xFF0C;&#x540E;&#x9762;&#x8FD8;&#x4F1A;&#x6709;&#x5F88;&#x597D;&#x7684;&#x65B9;&#x5F0F;</p>
<h3 id="Crashes-&#x53D1;&#x751F;&#x5728;-complete-&#x4E2D;"><a href="#Crashes-&#x53D1;&#x751F;&#x5728;-complete-&#x4E2D;" class="headerlink" title="Crashes &#x53D1;&#x751F;&#x5728; complete &#x4E2D;"></a>Crashes &#x53D1;&#x751F;&#x5728; complete &#x4E2D;</h3><p>&#x4F8B;&#x5982; Observable &#x9664;&#x4E86; onError &#x548C; onNext&#xFF08;&#x8FD8;&#x6709;&#x7C7B;&#x4F3C;&#x4E8E; Single &#x7684; onSuccess&#xFF09;&#x4E4B;&#x5916;&#xFF0C;&#x8FD8;&#x6709;onComplete &#x72B6;&#x6001;&#x3002;</p>
<p>&#x5982;&#x679C; crashes &#x53D1;&#x751F;&#x5728;&#x5982;&#x4E0B;&#x6240;&#x793A;&#x7684; onComplete &#x4E2D;&#xFF0C;&#x5B83;&#x5C06;&#x4E0D;&#x4F1A;&#x88AB;&#x6355;&#x83B7;&#x3002;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&#x590D;&#x5236;&#x4EE3;&#x7801;Observable.just(getSomeData() )</span><br><span class="line">   .map { item -&gt; handleMap(item) } </span><br><span class="line">   .subscribe(</span><br><span class="line">        { result -&gt; handleResult(result) }, </span><br><span class="line">        { error -&gt; handleError(error) }, // Crash NOT caught &#x26D4;&#xFE0F;</span><br><span class="line">        { handleCompletion()/**&#x1F525;Crash&#x1F525;**/ }</span><br><span class="line">    )</span><br></pre></td></tr></table></figure>

<p>&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x6309;&#x7167;&#x4E4B;&#x524D;&#x7684;&#x65B9;&#x6CD5;&#x5728; doOnComplete &#x65B9;&#x6CD5;&#x4E2D;&#x8FDB;&#x884C;&#x5904;&#x7406;&#xFF0C;&#x5982;&#x4E0B;&#x6240;&#x793A;&#xFF1A;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&#x590D;&#x5236;&#x4EE3;&#x7801;Observable.just(getSomeData() )</span><br><span class="line">   .map { item -&gt; handleMap(item) } </span><br><span class="line">   .doOnNext{ result -&gt; handleResult(result) }</span><br><span class="line">   .doOnError{ error -&gt; handleError(error) } Crash NOT stop &#x26D4;&#xFE0F;</span><br><span class="line">   .doOnComplete { handleCompletion()/**&#x1F525;Crash&#x1F525;**/ }</span><br><span class="line">   .subscribe({ }, { }, { }) // Crash STOP here &#x2705;</span><br></pre></td></tr></table></figure>

<p>&#x6700;&#x7EC8; crash &#x80FD;&#x591F;&#x5728; doOnError &#x4E2D;&#x6355;&#x83B7;&#xFF0C;&#x5E76;&#x5728;&#x6211;&#x4EEC;&#x63D0;&#x4F9B;&#x7684;&#x6700;&#x540E;&#x4E00;&#x4E2A;&#x7A7A; onError &#x51FD;&#x6570;&#x5904;&#x505C;&#x6B62;&#xFF0C;&#x4F46;&#x662F;&#x6211;&#x4EEC;&#x901A;&#x8FC7;&#x8FD9;&#x79CD;&#x89E3;&#x51B3;&#x65B9;&#x6CD5;&#x9003;&#x907F;&#x4E86;&#x95EE;&#x9898;&#x3002;</p>
<h3 id="Crashes-&#x53D1;&#x751F;&#x5728;-complete-&#x4E4B;&#x524D;"><a href="#Crashes-&#x53D1;&#x751F;&#x5728;-complete-&#x4E4B;&#x524D;" class="headerlink" title="Crashes &#x53D1;&#x751F;&#x5728; complete &#x4E4B;&#x524D;"></a>Crashes &#x53D1;&#x751F;&#x5728; complete &#x4E4B;&#x524D;</h3><p>&#x8BA9;&#x6211;&#x4EEC;&#x770B;&#x53E6;&#x4E00;&#x79CD;&#x6709;&#x8DA3;&#x7684;&#x60C5;&#x51B5;&#xFF0C;&#x6211;&#x4EEC;&#x6A21;&#x62DF;&#x4E00;&#x79CD;&#x60C5;&#x51B5;&#xFF0C;&#x6211;&#x4EEC;&#x8BA2;&#x9605;&#x7684;&#x64CD;&#x4F5C;&#x975E;&#x5E38;&#x6162;&#xFF0C;&#x65E0;&#x6CD5;&#x8F7B;&#x6613;&#x7EC8;&#x6B62;&#xFF08;&#x5982;&#x679C;&#x7EC8;&#x6B62;&#xFF0C;&#x5B83;&#x5C06;crash&#xFF09;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&#x590D;&#x5236;&#x4EE3;&#x7801;val disposeMe  = Observable.fromCallable { Thread.sleep(1000) }</span><br><span class="line">    .doOnError{ error -&gt; handleError(error) } // Crash NOT caught &#x26D4;&#xFE0F;</span><br><span class="line">    .subscribe({}, {}, {}) // Crash NOT caught or stop &#x26D4;&#xFE0F;</span><br><span class="line">Handler().postDelayed({ disposeMe.dispose() }, 100)</span><br></pre></td></tr></table></figure>

<p>&#x6211;&#x4EEC;&#x5728; fromCallable &#x4E2D;&#x7B49;&#x5F85; 1000 &#x624D;&#x80FD;&#x5B8C;&#x6210;&#xFF0C;&#x4F46;&#x662F;&#x5728;100&#x6BEB;&#x79D2;&#xFF0C;&#x6211;&#x4EEC;&#x901A;&#x8FC7;&#x8C03;&#x7528; disposeMe.dispose() &#x7EC8;&#x6B62;&#x64CD;&#x4F5C;&#x3002;</p>
<p>&#x8FD9;&#x5C06;&#x8FEB;&#x4F7F; Thread.sleep&#xFF08;1000&#xFF09;&#x5728;&#x7ED3;&#x675F;&#x4E4B;&#x524D;&#x7EC8;&#x6B62;&#xFF0C;&#x4ECE;&#x800C;&#x4F7F;&#x5176;&#x5D29;&#x6E83;&#xFF0C;&#x65E0;&#x6CD5;&#x901A;&#x8FC7; doOnError &#x6216;&#x8005;&#x63D0;&#x4F9B;&#x7684; onError &#x51FD;&#x6570;&#x6355;&#x83B7;&#x5D29;&#x6E83;</p>
<p>&#x5373;&#x4F7F;&#x6211;&#x4EEC;&#x5728;&#x6700;&#x5916;&#x9762;&#x4F7F;&#x7528; try-catch&#xFF0C;&#x4E5F;&#x662F;&#x6CA1;&#x7528;&#x7684;&#xFF0C;&#x4E5F;&#x65E0;&#x6CD5;&#x50CF;&#x5176;&#x4ED6;&#x6240;&#x6709; RxJava &#x5185;&#x90E8; crash &#x4E00;&#x6837;&#x8D77;&#x4F5C;&#x7528;&#x3002;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&#x590D;&#x5236;&#x4EE3;&#x7801;try {</span><br><span class="line">    val disposeMe  = Observable.fromCallable { Thread.sleep(1000) }</span><br><span class="line">        .doOnError{} // Crash NOT caught &#x26D4;&#xFE0F;</span><br><span class="line">        .subscribe({}, {}, {}) // Crash NOT caught or stop &#x26D4;&#xFE0F;</span><br><span class="line">    Handler().postDelayed({ disposeMe.dispose() }, 100)</span><br><span class="line">} catch (exception: Exception) {</span><br><span class="line">    handleError(exception) // Crash NOT caught too &#x26D4;&#xFE0F;</span><br><span class="line">}</span><br></pre></td></tr></table></figure>

<h3 id="RxJava-Crash-&#x7EC8;&#x6781;&#x89E3;&#x51B3;&#x65B9;&#x6848;"><a href="#RxJava-Crash-&#x7EC8;&#x6781;&#x89E3;&#x51B3;&#x65B9;&#x6848;" class="headerlink" title="RxJava Crash &#x7EC8;&#x6781;&#x89E3;&#x51B3;&#x65B9;&#x6848;"></a>RxJava Crash &#x7EC8;&#x6781;&#x89E3;&#x51B3;&#x65B9;&#x6848;</h3><p>&#x5BF9;&#x4E8E; RxJava &#x5982;&#x679C;&#x786E;&#x5B9E;&#x53D1;&#x751F;&#x4E86; crash&#xFF0C;&#x4F46; crash &#x4E0D;&#x5728;&#x60A8;&#x7684;&#x63A7;&#x5236;&#x8303;&#x56F4;&#x5185;&#xFF0C;&#x5E76;&#x4E14;&#x60A8;&#x5E0C;&#x671B;&#x91C7;&#x7528;&#x4E00;&#x79CD;&#x5168;&#x5C40;&#x7684;&#x65B9;&#x5F0F;&#x6355;&#x83B7;&#x5B83;&#xFF0C;&#x53EF;&#x4EE5;&#x7528;&#x4E0B;&#x9762;&#x662F;&#x89E3;&#x51B3;&#x65B9;&#x6848;&#x3002;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#x590D;&#x5236;&#x4EE3;&#x7801;RxJavaPlugins.setErrorHandler { e -&gt; handleError(e) }</span><br></pre></td></tr></table></figure>

<p>&#x6CE8;&#x518C; ErrorHandler &#x5B83;&#x5C06;&#x6355;&#x83B7;&#x4E0A;&#x8FF0;&#x4EFB;&#x4F55;&#x60C5;&#x51B5;&#x4E0B;&#x7684;&#x6240;&#x6709; RxJava &#x672A;&#x6355;&#x83B7;&#x7684;&#x9519;&#x8BEF;&#xFF08; just() &#x9664;&#x5916;&#xFF0C;&#x56E0;&#x4E3A;&#x5B83;&#x4E0D;&#x5C5E;&#x4E8E;RxJava &#x8C03;&#x7528;&#x94FE;&#x7684;&#x4E00;&#x90E8;&#x5206;&#xFF09;</p>
<p>&#x4F46;&#x662F;&#x8981;&#x6CE8;&#x610F;&#x7528;&#x4E8E;&#x8C03;&#x7528;&#x9519;&#x8BEF;&#x5904;&#x7406;&#x7684;&#x7EBF;&#x7A0B;&#x5728; crash &#x53D1;&#x751F;&#x7684;&#x5730;&#x65B9;&#x6302;&#x8D77;&#xFF0C;&#x5982;&#x679C;&#x4F60;&#x60F3;&#x786E;&#x4FDD;&#x5B83;&#x603B;&#x662F;&#x53D1;&#x751F;&#x5728;&#x4E3B;UI&#x7EBF;&#x7A0B;&#x4E0A;&#xFF0C;&#x7528; runOnUiThread{ } &#x5305;&#x62EC;&#x8D77;&#x6765;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&#x590D;&#x5236;&#x4EE3;&#x7801;RxJavaPlugins.setErrorHandler { e -&gt; </span><br><span class="line">    runOnUiThread { handleError(e))}</span><br><span class="line">}</span><br></pre></td></tr></table></figure>

<p>&#x56E0;&#x6B64;&#xFF0C;&#x5BF9;&#x4E8E;&#x4E0A;&#x9762;&#x7684;&#x60C5;&#x51B5;&#xFF0C;&#x7531;&#x4E8E;&#x5728;&#x5B8C;&#x6210;&#x4E4B;&#x524D;&#x7EC8;&#x6B62;&#x800C;&#x5BFC;&#x81F4; Crash&#xFF0C;&#x4E0B;&#x9762;&#x5C06;&#x5BF9;&#x6B64;&#x8FDB;&#x884C;&#x5904;&#x7406;&#x3002;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&#x590D;&#x5236;&#x4EE3;&#x7801;RxJavaPlugins.setErrorHandler { e -&gt; handle(e) } // Crash caught &#x2705;</span><br><span class="line">val disposeMe  = Observable.fromCallable { Thread.sleep(1000) }</span><br><span class="line">    .doOnError{ error -&gt; handleError(error) } // Crash NOT caught &#x26D4;&#xFE0F;</span><br><span class="line">    .subscribe({}, {}, {}) // Crash NOT caught or stop &#x26D4;&#xFE0F;</span><br><span class="line">Handler().postDelayed({ disposeMe.dispose() }, 100)</span><br></pre></td></tr></table></figure>

<p>&#x6709;&#x4E86;&#x8FD9;&#x4E2A;&#x89E3;&#x51B3;&#x65B9;&#x6848;&#xFF0C;&#x5E76;&#x4E0D;&#x610F;&#x5473;&#x7740;&#x6CE8;&#x518C; ErrorHandler &#x5C31;&#x662F;&#x6B63;&#x786E;&#x7684;&#x65B9;&#x5F0F;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#x590D;&#x5236;&#x4EE3;&#x7801;RxJavaPlugins.setErrorHandler { e -&gt; handle(e) }</span><br></pre></td></tr></table></figure>

<p>&#x901A;&#x8FC7;&#x4E86;&#x89E3;&#x4E0A;&#x9762;&#x53D1;&#x751F; Crash &#x5904;&#x7406;&#x65B9;&#x6848;&#xFF0C;&#x60A8;&#x5C31;&#x53EF;&#x4EE5;&#x9009;&#x62E9;&#x6700;&#x6709;&#x6548;&#x7684;&#x89E3;&#x51B3;&#x65B9;&#x6848;&#xFF0C;&#x591A;&#x4E2A;&#x65B9;&#x6848;&#x914D;&#x5408;&#x4E00;&#x8D77;&#x4F7F;&#x7528;&#xFF0C;&#x4EE5;&#x66F4;&#x5065;&#x58EE;&#x5730;&#x5904;&#x7406;&#x7A0B;&#x5E8F;&#x6240;&#x53D1;&#x751F;&#x7684;&#x7684; Crash&#x3002;</p>
<h2 id="&#x8BD1;&#x8005;&#x601D;&#x8003;"><a href="#&#x8BD1;&#x8005;&#x601D;&#x8003;" class="headerlink" title="&#x8BD1;&#x8005;&#x601D;&#x8003;"></a>&#x8BD1;&#x8005;&#x601D;&#x8003;</h2><p>&#x4F5C;&#x8005;&#x5927;&#x6982;&#x603B;&#x4E86; 5 &#x79CD; RxJava &#x53EF;&#x80FD;&#x51FA;&#x73B0;&#x7684;&#x5F02;&#x5E38;&#x7684;&#x4F4D;&#x7F6E;</p>
<ul>
<li>Crashes &#x53D1;&#x751F;&#x5728; just() &#x4E2D;</li>
<li>Crashes &#x53D1;&#x751F;&#x5728; subscribe success &#x4E2D;</li>
<li>Crashes &#x53D1;&#x751F;&#x5728; subscribe error &#x4E2D;</li>
<li>Crashes &#x53D1;&#x751F;&#x5728; complete &#x4E2D;</li>
<li>Crashes &#x53D1;&#x751F;&#x5728; complete &#x4E4B;&#x524D;</li>
</ul>
<p>&#x603B;&#x7684;&#x6765;&#x8BF4; RxJava &#x65E0;&#x6CD5;&#x5224;&#x65AD;&#x8FD9;&#x4E9B;&#x8D85;&#x51FA;&#x751F;&#x547D;&#x5468;&#x671F;&#x7684;&#x3001;&#x4E0D;&#x53EF;&#x4EA4;&#x4ED8;&#x7684;&#x5F02;&#x5E38;&#x4E2D;&#x54EA;&#x4E9B;&#x5E94;&#x8BE5;&#x6216;&#x4E0D;&#x5E94;&#x8BE5;&#x5BFC;&#x81F4;&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x5D29;&#x6E83;&#xFF0C;&#x6700;&#x540E;&#x4F5C;&#x8005;&#x7ED9;&#x51FA;&#x4E86;&#xFF0C;RxJava Crash &#x7EC8;&#x6781;&#x89E3;&#x51B3;&#x65B9;&#x6848;&#xFF0C;&#x6CE8;&#x518C; ErrorHandler</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#x590D;&#x5236;&#x4EE3;&#x7801;RxJavaPlugins.setErrorHandler { e -&gt; handleError(e) }</span><br></pre></td></tr></table></figure>

<p>&#x5B83;&#x5C06;&#x6355;&#x83B7;&#x4E0A;&#x8FF0;&#x4EFB;&#x4F55;&#x60C5;&#x51B5;&#x4E0B;&#x7684;&#x6240;&#x6709; RxJava &#x672A;&#x6355;&#x83B7;&#x7684;&#x9519;&#x8BEF;&#xFF0C;just() &#x9664;&#x5916;&#xFF0C;&#x63A5;&#x4E0B;&#x6765;&#x6211;&#x4EEC;&#x6765;&#x4E86;&#x89E3;&#x4E00;&#x4E0B; RxJavaPlugins.setErrorHandler</p>
<h3 id="&#x5173;&#x4E8E;-RxJavaPlugins-setErrorHandler"><a href="#&#x5173;&#x4E8E;-RxJavaPlugins-setErrorHandler" class="headerlink" title="&#x5173;&#x4E8E; RxJavaPlugins.setErrorHandler"></a>&#x5173;&#x4E8E; RxJavaPlugins.setErrorHandler</h3><p>&#x8FD9;&#x662F; RxJava2.x &#x7684;&#x4E00;&#x4E2A;&#x91CD;&#x8981;&#x8BBE;&#x8BA1;&#xFF0C;&#x4EE5;&#x4E0B;&#x51E0;&#x79CD;&#x7C7B;&#x578B;&#x7684;&#x9519;&#x8BEF; RxJava &#x662F;&#x65E0;&#x6CD5;&#x6355;&#x83B7;&#x7684;&#xFF1A;</p>
<ul>
<li>&#x7531;&#x4E8E;&#x4E0B;&#x6E38;&#x7684;&#x751F;&#x547D;&#x5468;&#x671F;&#x5DF2;&#x7ECF;&#x8FBE;&#x5230;&#x5176;&#x7EC8;&#x7AEF;&#x72B6;&#x6001;&#x5BFC;&#x81F4;&#x7684;&#x5F02;&#x5E38;</li>
<li>&#x4E0B;&#x6E38;&#x53D6;&#x6D88;&#x4E86;&#x5C06;&#x8981;&#x53D1;&#x51FA;&#x9519;&#x8BEF;&#x7684;&#x5E8F;&#x5217;&#x800C;&#x65E0;&#x6CD5;&#x53D1;&#x51FA;&#x7684;&#x9519;&#x8BEF;</li>
<li>&#x53D1;&#x751F;&#x4E86; crash &#xFF0C;&#x4F46;&#x662F; crash &#x4E0D;&#x5728;&#x60A8;&#x7684;&#x63A7;&#x5236;&#x8303;&#x56F4;&#x5185;</li>
<li>&#x4E00;&#x4E9B;&#x7B2C;&#x4E09;&#x65B9;&#x5E93;&#x7684;&#x4EE3;&#x7801;&#x5728;&#x88AB;&#x53D6;&#x6D88; &#x6216;&#x8005; &#x8C03;&#x7528;&#x4E2D;&#x65AD;&#x65F6;&#x4F1A;&#x629B;&#x51FA;&#x8BE5;&#x5F02;&#x5E38;&#xFF0C;&#x8FD9;&#x901A;&#x5E38;&#x4F1A;&#x5BFC;&#x81F4;&#x65E0;&#x6CD5;&#x4EA4;&#x4ED8;&#x7684;&#x5F02;&#x5E38;&#x3002;</li>
</ul>
<p>RxJava &#x65E0;&#x6CD5;&#x5224;&#x65AD;&#x8FD9;&#x4E9B;&#x8D85;&#x51FA;&#x751F;&#x547D;&#x5468;&#x671F;&#x7684;&#x3001;&#x4E0D;&#x53EF;&#x4EA4;&#x4ED8;&#x7684;&#x5F02;&#x5E38;&#x4E2D;&#x54EA;&#x4E9B;&#x5E94;&#x8BE5;&#x6216;&#x4E0D;&#x5E94;&#x8BE5;&#x5BFC;&#x81F4;&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x5D29;&#x6E83;&#x3002;</p>
<p>&#x8FD9;&#x4E9B;&#x65E0;&#x6CD5;&#x6355;&#x83B7;&#x7684;&#x9519;&#x8BEF;&#xFF0C;&#x6700;&#x540E;&#x4F1A;&#x53D1;&#x9001;&#x5230; RxJavaPlugins.onError &#x5904;&#x7406;&#x7A0B;&#x5E8F;&#x4E2D;&#x3002;&#x8FD9;&#x4E2A;&#x5904;&#x7406;&#x7A0B;&#x5E8F;&#x53EF;&#x4EE5;&#x7528;&#x65B9;&#x6CD5;RxJavaPlugins.setErrorHandler() &#x91CD;&#x5199;&#xFF0C;RxJava &#x9ED8;&#x8BA4;&#x60C5;&#x51B5;&#x4E0B;&#x4F1A;&#x5C06; Throwable &#x7684; stacktrace &#x6253;&#x5370;&#x5230;&#x63A7;&#x5236;&#x53F0;&#xFF0C;&#x5E76;&#x8C03;&#x7528;&#x5F53;&#x524D;&#x7EBF;&#x7A0B;&#x7684;&#x672A;&#x6355;&#x83B7;&#x5F02;&#x5E38;&#x5904;&#x7406;&#x7A0B;&#x5E8F;&#x3002;</p>
<p>&#x6240;&#x4EE5;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x91C7;&#x7528;&#x4E00;&#x79CD;&#x5168;&#x5C40;&#x7684;&#x5904;&#x7406;&#x65B9;&#x5F0F;&#xFF0C;&#x6CE8;&#x518C;&#x4E00;&#x4E2A; RxJavaPlugins.setErrorHandler() &#xFF0C;&#x6DFB;&#x52A0;&#x4E00;&#x4E2A;&#x975E;&#x7A7A;&#x7684;&#x5168;&#x5C40;&#x9519;&#x8BEF;&#x5904;&#x7406;&#xFF0C;&#x4E0B;&#x9762;&#x7684;&#x793A;&#x4F8B;&#x6F14;&#x793A;&#x4E86;&#x4E0A;&#x9762;&#x5217;&#x51FA;&#x6765;&#x7684;&#x51E0;&#x79CD;&#x65E0;&#x6CD5;&#x4EA4;&#x4ED8;&#x7684;&#x5F02;&#x5E38;&#x3002;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">&#x590D;&#x5236;&#x4EE3;&#x7801;RxJavaPlugins.setErrorHandler(e -&gt; {</span><br><span class="line">    if (e instanceof UndeliverableException) {</span><br><span class="line">        e = e.getCause();</span><br><span class="line">    }</span><br><span class="line">    if ((e instanceof IOException) || (e instanceof SocketException)) {</span><br><span class="line">        // fine, irrelevant network problem or API that throws on cancellation</span><br><span class="line">        return;</span><br><span class="line">    }</span><br><span class="line">    if (e instanceof InterruptedException) {</span><br><span class="line">        // fine, some blocking code was interrupted by a dispose call</span><br><span class="line">        return;</span><br><span class="line">    }</span><br><span class="line">    if ((e instanceof NullPointerException) || (e instanceof IllegalArgumentException)) {</span><br><span class="line">        // that&apos;s likely a bug in the application</span><br><span class="line">        Thread.currentThread().getUncaughtExceptionHandler()</span><br><span class="line">            .handleException(Thread.currentThread(), e);</span><br><span class="line">        return;</span><br><span class="line">    }</span><br><span class="line">    if (e instanceof IllegalStateException) {</span><br><span class="line">        // that&apos;s a bug in RxJava or in a custom operator</span><br><span class="line">        Thread.currentThread().getUncaughtExceptionHandler()</span><br><span class="line">            .handleException(Thread.currentThread(), e);</span><br><span class="line">        return;</span><br><span class="line">    }</span><br><span class="line">    Log.warning(&quot;Undeliverable exception received, not sure what to do&quot;, e);</span><br><span class="line">});</span><br></pre></td></tr></table></figure>

<p>&#x6211;&#x76F8;&#x4FE1;&#x5230;&#x8FD9;&#x91CC;&#x5173;&#x4E8E; RxJava Crash &#x5904;&#x7406;&#x65B9;&#x6848;&#xFF0C;&#x5E94;&#x8BE5;&#x4E86;&#x89E3;&#x7684;&#x5F88;&#x6E05;&#x695A;&#x4E86;&#xFF0C;&#x9009;&#x62E9;&#x6700;&#x6709;&#x6548;&#x7684;&#x89E3;&#x51B3;&#x65B9;&#x6848;&#xFF0C;&#x591A;&#x4E2A;&#x65B9;&#x6848;&#x914D;&#x5408;&#x4E00;&#x8D77;&#x4F7F;&#x7528;&#xFF0C;&#x53EF;&#x4EE5;&#x66F4;&#x5065;&#x58EE;&#x5730;&#x5904;&#x7406;&#x7A0B;&#x5E8F;&#x6240;&#x53D1;&#x751F;&#x7684;&#x7684; Crash&#x3002;</p>
<p>&#x63A5;&#x4E0B;&#x6765;&#x6211;&#x4EEC;&#x6765;&#x4E86;&#x89E3;&#x4E00;&#x4E0B; just &#x548C; fromCallable &#x533A;&#x522B; &#xFF0C;&#x4F5C;&#x8005;&#x5728;&#x53E6;&#x5916;&#x4E00;&#x7BC7;&#x6587;&#x7AE0; <a href="/external_links/c0cba60e4b6a0a0bc29036db70909812.html" target="blank" rel="noopener">just-vs-fromcallable</a> &#x505A;&#x4E86;&#x8BE6;&#x7EC6;&#x7684;&#x4ECB;&#x7ECD;</p>
<h3 id="just-&#x548C;-fromCallable-&#x533A;&#x522B;"><a href="#just-&#x548C;-fromCallable-&#x533A;&#x522B;" class="headerlink" title="just &#x548C; fromCallable &#x533A;&#x522B;"></a>just &#x548C; fromCallable &#x533A;&#x522B;</h3><h4 id="1-&#x503C;&#x83B7;&#x53D6;&#x6765;&#x6E90;&#x4E0D;&#x4E00;&#x6837;"><a href="#1-&#x503C;&#x83B7;&#x53D6;&#x6765;&#x6E90;&#x4E0D;&#x4E00;&#x6837;" class="headerlink" title="1. &#x503C;&#x83B7;&#x53D6;&#x6765;&#x6E90;&#x4E0D;&#x4E00;&#x6837;"></a>1. &#x503C;&#x83B7;&#x53D6;&#x6765;&#x6E90;&#x4E0D;&#x4E00;&#x6837;</h4><p>just &#x503C;&#x4ECE;&#x5916;&#x90E8;&#x83B7;&#x53D6;&#x7684;&#xFF0C;&#x800C; fromCallable &#x503C;&#x6765;&#x81EA;&#x4E8E;&#x5185;&#x90E8;&#x751F;&#x6210;&#xFF0C;&#x4E3A;&#x4E86;&#x66F4;&#x6E05;&#x695A;&#x7684;&#x4E86;&#x89E3;&#xFF0C;&#x6211;&#x4EEC;&#x6765;&#x770B;&#x4E00;&#x4E0B;&#x4E0B;&#x9762;&#x7684;&#x4EE3;&#x7801;&#xFF1A;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&#x590D;&#x5236;&#x4EE3;&#x7801;println(&quot;From Just&quot;)</span><br><span class="line">val justSingle = Single.just(Random.nextInt())</span><br><span class="line">justSingle.subscribe{ it -&gt; println(it) }</span><br><span class="line">justSingle.subscribe{ it -&gt; println(it) }</span><br><span class="line"></span><br><span class="line">println(&quot;\nFrom Callable&quot;)</span><br><span class="line">val callableSingle = Single.fromCallable { Random.nextInt() }</span><br><span class="line">callableSingle.subscribe{ it -&gt; println(it) }</span><br><span class="line">callableSingle.subscribe{ it -&gt; println(it) }</span><br></pre></td></tr></table></figure>

<p>&#x5BF9;&#x4E8E; Just &#x548C; fromCallable &#x5206;&#x522B;&#x8C03;&#x7528; 2 &#x6B21; subscribe &#x6267;&#x884C;&#x7ED3;&#x679C;&#x5982;&#x4E0B;&#x6240;&#x793A;&#xFF1A;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&#x590D;&#x5236;&#x4EE3;&#x7801;From Just</span><br><span class="line">801570614</span><br><span class="line">801570614</span><br><span class="line"></span><br><span class="line">From Callable</span><br><span class="line">1251601849</span><br><span class="line">2033593269</span><br></pre></td></tr></table></figure>

<p>&#x4F60;&#x4F1A;&#x53D1;&#x73B0;&#x5BF9;&#x4E8E; just &#x65E0;&#x8BBA; subscribe &#x591A;&#x5C11;&#x6B21;&#xFF0C;&#x751F;&#x6210;&#x7684;&#x968F;&#x673A;&#x503C;&#x90FD;&#x4FDD;&#x6301;&#x4E0D;&#x53D8;&#xFF0C;&#x56E0;&#x4E3A;&#x8BE5;&#x503C;&#x662F;&#x4ECE; Observable &#x5916;&#x90E8;&#x751F;&#x6210;&#x7684;&#xFF0C;&#x800C; Observable &#x53EA;&#x662F;&#x5C06;&#x5176;&#x5B58;&#x50A8;&#x4F9B;&#x4EE5;&#x540E;&#x4F7F;&#x7528;&#x3002;</p>
<p>&#x4F46;&#x662F;&#x5BF9;&#x4E8E; fromCallable &#x5B83;&#x662F;&#x4ECE; Observable &#x5185;&#x90E8;&#x751F;&#x6210;&#x7684;&#xFF0C;&#x6BCF;&#x6B21; subscribe &#x90FD;&#x4F1A;&#x90FD;&#x4F1A;&#x751F;&#x6210;&#x4E00;&#x4E2A;&#x65B0;&#x7684;&#x968F;&#x673A;&#x6570;&#x3002;</p>
<h4 id="2-&#x7ACB;&#x5373;&#x6267;&#x884C;&#x548C;&#x5EF6;&#x8FDF;&#x6267;&#x884C;"><a href="#2-&#x7ACB;&#x5373;&#x6267;&#x884C;&#x548C;&#x5EF6;&#x8FDF;&#x6267;&#x884C;" class="headerlink" title="2. &#x7ACB;&#x5373;&#x6267;&#x884C;&#x548C;&#x5EF6;&#x8FDF;&#x6267;&#x884C;"></a>2. &#x7ACB;&#x5373;&#x6267;&#x884C;&#x548C;&#x5EF6;&#x8FDF;&#x6267;&#x884C;</h4><ul>
<li>just &#x5728;&#x8C03;&#x7528; subscribe &#x65B9;&#x6CD5;&#x4E4B;&#x524D;&#x503C;&#x5DF2;&#x7ECF;&#x751F;&#x6210;&#x4E86;&#xFF0C;&#x5C5E;&#x4E8E;&#x7ACB;&#x5373;&#x6267;&#x884C;&#x3002;</li>
<li>&#x800C; fromCallable &#x662F;&#x8C03;&#x7528; subscribe &#x65B9;&#x6CD5;&#x4E4B;&#x540E;&#x6267;&#x884C;&#x7684;&#xFF0C;&#x5C5E;&#x4E8E;&#x5EF6;&#x8FDF;&#x6267;&#x884C;&#x3002;</li>
</ul>
<p>&#x4E3A;&#x4E86;&#x66F4;&#x6E05;&#x695A;&#x7684;&#x4E86;&#x89E3;&#xFF0C;&#x6211;&#x4EEC;&#x6765;&#x770B;&#x4E00;&#x4E0B;&#x4E0B;&#x9762;&#x7684;&#x4EE3;&#x7801;&#xFF1A;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">&#x590D;&#x5236;&#x4EE3;&#x7801;fun main() {</span><br><span class="line">    println(&quot;From Just&quot;)</span><br><span class="line">    val justSingle = Single.just(getRandomMessage())</span><br><span class="line">    println(&quot;start subscribing&quot;)</span><br><span class="line">    justSingle.subscribe{ it -&gt; println(it) }</span><br><span class="line">   </span><br><span class="line">    println(&quot;\nFrom Callable&quot;)</span><br><span class="line">    val callableSingle = Single.fromCallable { getRandomMessage() }</span><br><span class="line">    println(&quot;start subscribing&quot;)</span><br><span class="line">    callableSingle.subscribe{ it -&gt; println(it) }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line">fun getRandomMessage(): Int {</span><br><span class="line">    println(&quot;-Generating-&quot;)</span><br><span class="line">    return Random.nextInt()</span><br><span class="line">}</span><br></pre></td></tr></table></figure>

<p>&#x7ED3;&#x679C;&#x5982;&#x4E0B;&#x6240;&#x793A;&#xFF1A;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&#x590D;&#x5236;&#x4EE3;&#x7801;From Just</span><br><span class="line">-Generating-</span><br><span class="line">start subscribing</span><br><span class="line">1778320787</span><br><span class="line"></span><br><span class="line">From Callable</span><br><span class="line">start subscribing</span><br><span class="line">-Generating-</span><br><span class="line">1729786515</span><br></pre></td></tr></table></figure>

<p>&#x5BF9;&#x4E8E; just &#x5728;&#x8C03;&#x7528; subscribe &#x4E4B;&#x524D;&#x6253;&#x5370;&#x4E86; -Generating-&#xFF0C;&#x800C; fromCallable &#x662F;&#x5728;&#x8C03;&#x7528; subscribe &#x4E4B;&#x540E;&#x624D;&#x6253;&#x5370; -Generating-&#x3002;</p>
<p>&#x5230;&#x8FD9;&#x91CC;&#x6587;&#x7AE0;&#x5C31;&#x7ED3;&#x675F;&#x4E86;&#xFF0C;&#x6211;&#x4EEC;&#x6765;&#x4E00;&#x8D77;&#x63A2;&#x8BA8;&#x4E00;&#x4E2A;&#x95EE;&#x9898;&#xFF0C; &#x5728; Java &#x65F6;&#x4EE3; RxJava &#x786E;&#x5B9E;&#x5E2E;&#x52A9;&#x6211;&#x4EEC;&#x89E3;&#x51B3;&#x4E86;&#x5F88;&#x591A;&#x95EE;&#x9898;&#xFF0C;&#x4F46;&#x662F;&#x76F8;&#x5BF9;&#x800C;&#x8A00;&#x4E0D;&#x597D;&#x7684;&#x5730;&#x65B9; RxJava &#x91CC;&#x9762;&#x5404;&#x79CD;&#x64CD;&#x4F5C;&#x7B26;&#xFF0C;&#x7406;&#x89E3;&#x8D77;&#x6765;&#x786E;&#x5B9E;&#x5F88;&#x8D39;&#x52B2;&#xFF0C;&#x968F;&#x7740; Google &#x5C06; Kotlin &#x4F5C;&#x4E3A; Android &#x9996;&#x9009;&#x8BED;&#x8A00;&#xFF0C;&#x90A3;&#x4E48; RxKotlin&#xFF0C;&#x6709;&#x80FD;&#x7ED9;&#x6211;&#x4EEC;&#x5E26;&#x6765;&#x54EA;&#x4E9B;&#x597D;&#x5904;&#x5462;&#xFF1F;</p>
<h2 id="&#x53C2;&#x8003;&#x6587;&#x732E;"><a href="#&#x53C2;&#x8003;&#x6587;&#x732E;" class="headerlink" title="&#x53C2;&#x8003;&#x6587;&#x732E;"></a>&#x53C2;&#x8003;&#x6587;&#x732E;</h2><ul>
<li><a href="/external_links/28937801dbfe527ee3b855d77a1129da.html" target="blank" rel="noopener">Beyond Basic RxJava Error Handling</a></li>
<li><a href="/external_links/c0cba60e4b6a0a0bc29036db70909812.html" target="blank" rel="noopener">RxJava 2 : Understanding Hot vs. Cold with just vs. fromCallable</a></li>
<li><a href="/external_links/2e042a688450a9470ed5ee0c315a9741.html" target="blank" rel="noopener">What&#x2019;s different in 2.0</a></li>
</ul>
<h2 id="&#x7ED3;&#x8BED;"><a href="#&#x7ED3;&#x8BED;" class="headerlink" title="&#x7ED3;&#x8BED;"></a>&#x7ED3;&#x8BED;</h2><p>&#x81F4;&#x529B;&#x4E8E;&#x5206;&#x4EAB;&#x4E00;&#x7CFB;&#x5217; Android &#x7CFB;&#x7EDF;&#x6E90;&#x7801;&#x3001;&#x9006;&#x5411;&#x5206;&#x6790;&#x3001;&#x7B97;&#x6CD5;&#x3001;&#x7FFB;&#x8BD1;&#x76F8;&#x5173;&#x7684;&#x6587;&#x7AE0;&#xFF0C;&#x76EE;&#x524D;&#x6B63;&#x5728;&#x7FFB;&#x8BD1;&#x4E00;&#x7CFB;&#x5217;&#x6B27;&#x7F8E;&#x7CBE;&#x9009;&#x6587;&#x7AE0;&#xFF0C;&#x8BF7;&#x6301;&#x7EED;&#x5173;&#x6CE8;&#xFF0C;&#x9664;&#x4E86;&#x7FFB;&#x8BD1;&#x8FD8;&#x6709;&#x5BF9;&#x6BCF;&#x7BC7;&#x6B27;&#x7F8E;&#x6587;&#x7AE0;&#x601D;&#x8003;&#xFF0C;&#x5982;&#x679C;&#x5BF9;&#x4F60;&#x6709;&#x5E2E;&#x52A9;&#xFF0C;&#x8BF7;&#x5E2E;&#x6211;&#x70B9;&#x4E2A;&#x8D5E;&#xFF0C;&#x611F;&#x8C22;&#xFF01;&#xFF01;&#xFF01;&#x671F;&#x5F85;&#x4E0E;&#x4F60;&#x4E00;&#x8D77;&#x6210;&#x957F;&#x3002;</p>
<h3 id="&#x6587;&#x7AE0;&#x5217;&#x8868;"><a href="#&#x6587;&#x7AE0;&#x5217;&#x8868;" class="headerlink" title="&#x6587;&#x7AE0;&#x5217;&#x8868;"></a>&#x6587;&#x7AE0;&#x5217;&#x8868;</h3><h4 id="Android-10-&#x6E90;&#x7801;&#x7CFB;&#x5217;"><a href="#Android-10-&#x6E90;&#x7801;&#x7CFB;&#x5217;" class="headerlink" title="Android 10 &#x6E90;&#x7801;&#x7CFB;&#x5217;"></a>Android 10 &#x6E90;&#x7801;&#x7CFB;&#x5217;</h4><ul>
<li><a href="https://dev.newban.cn/6844904063155322887">0xA01 Android 10 &#x6E90;&#x7801;&#x5206;&#x6790;&#xFF1A;APK &#x662F;&#x5982;&#x4F55;&#x751F;&#x6210;&#x7684;</a></li>
<li><a href="https://dev.newban.cn/6844904078015725576">0xA02 Android 10 &#x6E90;&#x7801;&#x5206;&#x6790;&#xFF1A;APK &#x7684;&#x5B89;&#x88C5;&#x6D41;&#x7A0B;</a></li>
<li><a href="https://dev.newban.cn/6844904089696862221">0xA03 Android 10 &#x6E90;&#x7801;&#x5206;&#x6790;&#xFF1A;APK &#x52A0;&#x8F7D;&#x6D41;&#x7A0B;&#x4E4B;&#x8D44;&#x6E90;&#x52A0;&#x8F7D;</a></li>
<li><a href="https://dev.newban.cn/6844904105433907207">0xA04 Android 10 &#x6E90;&#x7801;&#x5206;&#x6790;&#xFF1A;APK &#x52A0;&#x8F7D;&#x6D41;&#x7A0B;&#x4E4B;&#x8D44;&#x6E90;&#x52A0;&#x8F7D;&#xFF08;&#x4E8C;&#xFF09;</a></li>
<li><a href="https://dev.newban.cn/6844904122467123214">0xA05 Android 10 &#x6E90;&#x7801;&#x5206;&#x6790;&#xFF1A;Dialog &#x52A0;&#x8F7D;&#x7ED8;&#x5236;&#x6D41;&#x7A0B;&#x4EE5;&#x53CA;&#x5728; Kotlin&#x3001;DataBinding &#x4E2D;&#x7684;&#x4F7F;&#x7528;</a></li>
<li><a href="https://dev.newban.cn/6844904146227691527">0xA06 Android 10 &#x6E90;&#x7801;&#x5206;&#x6790;&#xFF1A;WindowManager &#x89C6;&#x56FE;&#x7ED1;&#x5B9A;&#x4EE5;&#x53CA;&#x4F53;&#x7CFB;&#x7ED3;&#x6784;</a></li>
</ul>
<h4 id="Android-&#x5E94;&#x7528;&#x7CFB;&#x5217;"><a href="#Android-&#x5E94;&#x7528;&#x7CFB;&#x5217;" class="headerlink" title="Android &#x5E94;&#x7528;&#x7CFB;&#x5217;"></a>Android &#x5E94;&#x7528;&#x7CFB;&#x5217;</h4><ul>
<li><a href="https://dev.newban.cn/6844903874361311239">&#x5982;&#x4F55;&#x9AD8;&#x6548;&#x83B7;&#x53D6;&#x89C6;&#x9891;&#x622A;&#x56FE;</a></li>
<li><a href="https://dev.newban.cn/6844904131803480071">&#x5982;&#x4F55;&#x5728;&#x9879;&#x76EE;&#x4E2D;&#x5C01;&#x88C5; Kotlin + Android Databinding</a></li>
<li><a href="https://dev.newban.cn/6844904151508320263">[&#x8BD1;][Google&#x5DE5;&#x7A0B;&#x5E08;] &#x521A;&#x521A;&#x53D1;&#x5E03;&#x4E86; Fragment &#x7684;&#x65B0;&#x7279;&#x6027; &#x201C;Fragment &#x95F4;&#x4F20;&#x9012;&#x6570;&#x636E;&#x7684;&#x65B0;&#x65B9;&#x5F0F;&#x201D; &#x4EE5;&#x53CA;&#x6E90;&#x7801;&#x5206;&#x6790;</a></li>
<li><a href="https://dev.newban.cn/6844904158324064269?utm_source=gold_browser_extension">[&#x8BD1;][2.4K Start] &#x653E;&#x5F03; Dagger &#x62E5;&#x62B1; Koin</a></li>
<li><a href="https://dev.newban.cn/6844904161419640840#heading-7">[&#x8BD1;][5k+] Kotlin &#x7684;&#x6027;&#x80FD;&#x4F18;&#x5316;&#x90A3;&#x4E9B;&#x4E8B;</a></li>
<li><a href="https://dev.newban.cn/6844904167685750798">[&#x8BD1;][Google&#x5DE5;&#x7A0B;&#x5E08;] &#x8BE6;&#x89E3; FragmentFactory &#x5982;&#x4F55;&#x4F18;&#x96C5;&#x4F7F;&#x7528; Koin &#x4EE5;&#x53CA;&#x90E8;&#x5206;&#x6E90;&#x7801;&#x5206;&#x6790;</a></li>
</ul>
<h4 id="&#x5DE5;&#x5177;&#x7CFB;&#x5217;"><a href="#&#x5DE5;&#x5177;&#x7CFB;&#x5217;" class="headerlink" title="&#x5DE5;&#x5177;&#x7CFB;&#x5217;"></a>&#x5DE5;&#x5177;&#x7CFB;&#x5217;</h4><ul>
<li><a href="https://dev.newban.cn/6844904020511981581">&#x4E3A;&#x6570;&#x4E0D;&#x591A;&#x7684;&#x4EBA;&#x77E5;&#x9053;&#x7684; AndroidStudio &#x5FEB;&#x6377;&#x952E;(&#x4E00;)</a></li>
<li><a href="https://dev.newban.cn/6844904023082926087">&#x4E3A;&#x6570;&#x4E0D;&#x591A;&#x7684;&#x4EBA;&#x77E5;&#x9053;&#x7684; AndroidStudio &#x5FEB;&#x6377;&#x952E;(&#x4E8C;)</a></li>
<li><a href="https://dev.newban.cn/6844903918112079885">&#x5173;&#x4E8E; adb &#x547D;&#x4EE4;&#x4F60;&#x6240;&#x9700;&#x8981;&#x77E5;&#x9053;&#x7684;</a></li>
<li><a href="https://dev.newban.cn/6844903553119748109">10&#x5206;&#x949F;&#x5165;&#x95E8; Shell &#x811A;&#x672C;&#x7F16;&#x7A0B;</a></li>
</ul>
<h4 id="&#x9006;&#x5411;&#x7CFB;&#x5217;"><a href="#&#x9006;&#x5411;&#x7CFB;&#x5217;" class="headerlink" title="&#x9006;&#x5411;&#x7CFB;&#x5217;"></a>&#x9006;&#x5411;&#x7CFB;&#x5217;</h4><ul>
<li><a href="https://dev.newban.cn/6844903798972891144">&#x57FA;&#x4E8E; Smali &#x6587;&#x4EF6; Android Studio &#x52A8;&#x6001;&#x8C03;&#x8BD5; APP</a></li>
<li><a href="https://dev.newban.cn/6844903773890936839">&#x89E3;&#x51B3;&#x5728; Android Studio 3.2 &#x627E;&#x4E0D;&#x5230; Android Device Monitor &#x5DE5;&#x5177;</a></li>
</ul>
<p><strong>&#x672C;&#x6587;&#x8F6C;&#x8F7D;&#x81EA;:</strong> <a href="/external_links/2c78e05504e53c244438318c70aae065.html" target="blank" rel="noopener">&#x6398;&#x91D1;</a></p>
<p><em><a href="https://dev.newban.cn/">&#x5F00;&#x53D1;&#x8005;&#x535A;&#x5BA2; &#x2013; &#x548C;&#x5F00;&#x53D1;&#x76F8;&#x5173;&#x7684; &#x8FD9;&#x91CC;&#x5168;&#x90FD;&#x6709;</a></em></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://dev.newban.cn../../6844904168155512845.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="开发者博客">
      <meta itemprop="description" content>
      <meta itemprop="image" content="../../images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="开发者博客 – IT技术 尽在开发者博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="../../6844904168155512845.html" itemprop="url">【实战🚀】手摸手教你Bomb Lab</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2020-05-25T16:30:13+08:00">
                2020-05-25
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h3 id="&#x624B;&#x6478;&#x624B;&#x6559;&#x4F60;Bomb-Lab"><a href="#&#x624B;&#x6478;&#x624B;&#x6559;&#x4F60;Bomb-Lab" class="headerlink" title="&#x624B;&#x6478;&#x624B;&#x6559;&#x4F60;Bomb Lab"></a>&#x624B;&#x6478;&#x624B;&#x6559;&#x4F60;Bomb Lab</h3><p>&#x9605;&#x8BFB;&#x987B;&#x77E5;: &#x7F51;&#x4E0A;&#x5173;&#x4E8E;CMU&#x914D;&#x5957;&#x6559;&#x6750;&#x5F00;&#x6E90;&#x7684;&#x7248;&#x672C;&#x7684;bomb&#x7684;&#x6559;&#x7A0B;&#x5DF2;&#x7ECF;&#x5F88;&#x591A;&#x4E86;,&#x6BD4;&#x5982;&#x6211;&#x79D1;&#x5B66;&#x957F;&#x7684;&#x8FD9;&#x4E24;&#x7BC7;&#x5199;&#x5F97;&#x76F8;&#x5F53;&#x597D;</p>
<p><a href="/external_links/4371881d1a409792e146df6a6fa79790.html" target="blank" rel="noopener">&#x6DF1;&#x5165;&#x7406;&#x89E3;&#x8BA1;&#x7B97;&#x673A;&#x7CFB;&#x7EDF;&#xFF08;CS:APP) - Bomb Lab&#x8BE6;&#x89E3;</a>, &#x6DF1;&#x5165;&#x7406;&#x89E3;&#x8BA1;&#x7B97;&#x673A;&#x7CFB;&#x7EDF;BombLab&#x5B9E;&#x9A8C;&#x62A5;&#x544A;. &#x6211;&#x4E5F;&#x4E0D;&#x60F3;&#x505A;&#x91CD;&#x590D;&#x7684;&#x52B3;&#x52A8;,&#x53BB;&#x5199;&#x522B;&#x4EBA;&#x5DF2;&#x7ECF;&#x5199;&#x8FC7;&#x7684;&#x4E1C;&#x897F;,&#x8FD9;&#x4E00;&#x7BC7;&#x535A;&#x5BA2;&#x662F;&#x57FA;&#x4E8E;&#x5B66;&#x6821;&#x7ED9;&#x6211;&#x53D1;&#x7684;bomb&#x7248;&#x672C;&#x6765;&#x5199;&#x7684;, &#x76F8;&#x5173;&#x7684;&#x53EF;&#x6267;&#x884C;&#x6587;&#x4EF6;&#x7B49;&#x5B9E;&#x9A8C;&#x7ED3;&#x675F;&#x540E;&#x4F1A;&#x4E0A;&#x4F20;&#x5230;&#x6211;&#x7684;github&#x4E0A;&#x9762;, &#x5982;&#x679C;&#x4F60;&#x60F3;&#x8981;&#x4E00;&#x4E2A;&#x5176;&#x4ED6;&#x7248;&#x672C;&#x7684;bomb&#x6765;&#x7EC3;&#x4E60;&#x7684;&#x8BDD;,&#x90A3;&#x4E48;&#x53EF;&#x4EE5;&#x7528;&#x6211;&#x7684;&#x8FD9;&#x4E00;&#x4EFD;.</p>
<p>&#x8FD9;&#x4E2A;&#x5B9E;&#x9A8C;&#x4E00;&#x5171;&#x6709;6&#x4E2A;&#x9636;&#x6BB5;&#x4EE5;&#x53CA;&#x4E00;&#x4E2A;&#x9690;&#x85CF;&#x9636;&#x6BB5;,&#x6211;&#x76EE;&#x524D;&#x6CA1;&#x6709;&#x505A;&#x90A3;&#x4E2A;&#x9690;&#x85CF;&#x9636;&#x6BB5;,&#x5982;&#x679C;&#x8001;&#x5E08;&#x8BF4;&#x505A;&#x9690;&#x85CF;&#x9636;&#x6BB5;&#x52A0;&#x5206;&#x7684;&#x8BDD;,&#x6211;&#x6216;&#x8BB8;&#x4F1A;&#x8865;&#x4E0A;^_^! ps:&#x5199;&#x535A;&#x5BA2;&#x6BD4;&#x505A;&#x5B9E;&#x9A8C;&#x82B1;&#x65F6;&#x95F4;&#x591A;&#x7CFB;&#x5217;QwQ</p>
<h4 id="&#x9996;&#x5148;&#x642C;&#x8FD0;&#x4E00;&#x4E0B;&#x6307;&#x5BFC;&#x4E66;&#x4E0A;&#x9762;&#x7684;&#x5B9E;&#x9A8C;&#x7B80;&#x4ECB;"><a href="#&#x9996;&#x5148;&#x642C;&#x8FD0;&#x4E00;&#x4E0B;&#x6307;&#x5BFC;&#x4E66;&#x4E0A;&#x9762;&#x7684;&#x5B9E;&#x9A8C;&#x7B80;&#x4ECB;" class="headerlink" title="&#x9996;&#x5148;&#x642C;&#x8FD0;&#x4E00;&#x4E0B;&#x6307;&#x5BFC;&#x4E66;&#x4E0A;&#x9762;&#x7684;&#x5B9E;&#x9A8C;&#x7B80;&#x4ECB;:"></a>&#x9996;&#x5148;&#x642C;&#x8FD0;&#x4E00;&#x4E0B;&#x6307;&#x5BFC;&#x4E66;&#x4E0A;&#x9762;&#x7684;&#x5B9E;&#x9A8C;&#x7B80;&#x4ECB;:</h4><p>&#x672C;&#x5B9E;&#x9A8C;&#x4E2D;&#xFF0C;&#x4F60;&#x8981;&#x4F7F;&#x7528;&#x8BFE;&#x7A0B;&#x6240;&#x5B66;&#x77E5;&#x8BC6;&#x62C6;&#x9664;&#x4E00;&#x4E2A;&#x201C;binary bombs&#x201D;&#x6765;&#x589E;&#x5F3A;&#x5BF9;&#x7A0B;&#x5E8F;&#x7684;&#x673A;&#x5668;&#x7EA7;&#x8868;&#x793A;&#x3001;&#x6C47;&#x7F16;&#x8BED;&#x8A00;&#x3001;&#x8C03;&#x8BD5;&#x5668;&#x548C;&#x9006;&#x5411;&#x5DE5;&#x7A0B;&#x7B49;&#x65B9;&#x9762;&#x539F;&#x7406;&#x4E0E;&#x6280;&#x80FD;&#x7684;&#x638C;&#x63E1;&#x3002;</p>
<p>&#x4E00;&#x4E2A;&#x201C;binary bombs&#x201D;&#xFF08;&#x4E8C;&#x8FDB;&#x5236;&#x70B8;&#x5F39;&#xFF0C;&#x4E0B;&#x6587;&#x5C06;&#x7B80;&#x79F0;&#x4E3A;&#x70B8;&#x5F39;&#xFF09;&#x662F;&#x4E00;&#x4E2A;Linux&#x53EF;&#x6267;&#x884C;C&#x7A0B;&#x5E8F;&#xFF0C;&#x5305;&#x542B;&#x4E86;6&#x4E2A;&#x9636;&#x6BB5;&#xFF08;phase1~phase6&#xFF09;&#x3002;&#x70B8;&#x5F39;&#x8FD0;&#x884C;&#x7684;&#x6BCF;&#x4E2A;&#x9636;&#x6BB5;&#x8981;&#x6C42;&#x4F60;&#x8F93;&#x5165;&#x4E00;&#x4E2A;&#x7279;&#x5B9A;&#x7684;&#x5B57;&#x7B26;&#x4E32;&#xFF0C;&#x82E5;&#x4F60;&#x7684;&#x8F93;&#x5165;&#x7B26;&#x5408;&#x7A0B;&#x5E8F;&#x9884;&#x671F;&#x7684;&#x8F93;&#x5165;&#xFF0C;&#x8BE5;&#x9636;&#x6BB5;&#x7684;&#x70B8;&#x5F39;&#x5C31;&#x88AB;&#x201C;&#x62C6;&#x9664;&#x201D;&#xFF0C;&#x5426;&#x5219;&#x70B8;&#x5F39;&#x201C;&#x7206;&#x70B8;&#x201D;&#x5E76;&#x6253;&#x5370;&#x8F93;&#x51FA; &#x201C;BOOM!!!&#x201D;&#x5B57;&#x6837;&#x3002;&#x5B9E;&#x9A8C;&#x7684;&#x76EE;&#x6807;&#x662F;&#x62C6;&#x9664;&#x5C3D;&#x53EF;&#x80FD;&#x591A;&#x7684;&#x70B8;&#x5F39;&#x5C42;&#x6B21;&#x3002;</p>
<p>&#x6BCF;&#x4E2A;&#x70B8;&#x5F39;&#x9636;&#x6BB5;&#x8003;&#x5BDF;&#x4E86;&#x673A;&#x5668;&#x7EA7;&#x8BED;&#x8A00;&#x7A0B;&#x5E8F;&#x7684;&#x4E00;&#x4E2A;&#x4E0D;&#x540C;&#x65B9;&#x9762;&#xFF0C;&#x96BE;&#x5EA6;&#x9010;&#x7EA7;&#x9012;&#x589E;&#xFF1A;</p>
<p>* &#x9636;&#x6BB5;1&#xFF1A;&#x5B57;&#x7B26;&#x4E32;&#x6BD4;&#x8F83;</p>
<p>* &#x9636;&#x6BB5;2&#xFF1A;&#x5FAA;&#x73AF;</p>
<p>* &#x9636;&#x6BB5;3&#xFF1A;&#x6761;&#x4EF6;/&#x5206;&#x652F;</p>
<p>* &#x9636;&#x6BB5;4&#xFF1A;&#x9012;&#x5F52;&#x8C03;&#x7528;&#x548C;&#x6808;</p>
<p>* &#x9636;&#x6BB5;5&#xFF1A;&#x6307;&#x9488;</p>
<p>* &#x9636;&#x6BB5;6&#xFF1A;&#x94FE;&#x8868;/&#x6307;&#x9488;/&#x7ED3;&#x6784;</p>
<p>&#x53E6;&#x5916;&#x8FD8;&#x6709;&#x4E00;&#x4E2A;&#x9690;&#x85CF;&#x9636;&#x6BB5;&#xFF0C;&#x4F46;&#x53EA;&#x6709;&#x5F53;&#x4F60;&#x5728;&#x7B2C;4&#x9636;&#x6BB5;&#x7684;&#x89E3;&#x4E4B;&#x540E;&#x9644;&#x52A0;&#x4E00;&#x7279;&#x5B9A;&#x5B57;&#x7B26;&#x4E32;&#x540E;&#x624D;&#x4F1A;&#x51FA;&#x73B0;&#x3002;</p>
<p>&#x4E3A;&#x4E86;&#x5B8C;&#x6210;&#x4E8C;&#x8FDB;&#x5236;&#x70B8;&#x5F39;&#x62C6;&#x9664;&#x4EFB;&#x52A1;&#xFF0C;&#x4F60;&#x9700;&#x8981;&#x4F7F;&#x7528;gdb&#x8C03;&#x8BD5;&#x5668;&#x548C;objdump&#x6765;&#x53CD;&#x6C47;&#x7F16;&#x70B8;&#x5F39;&#x7684;&#x53EF;&#x6267;&#x884C;&#x6587;&#x4EF6;&#xFF0C;&#x5E76;&#x5355;&#x6B65;&#x8DDF;&#x8E2A;&#x8C03;&#x8BD5;&#x6BCF;&#x4E00;&#x9636;&#x6BB5;&#x7684;&#x673A;&#x5668;&#x4EE3;&#x7801;&#xFF0C;&#x4ECE;&#x4E2D;&#x7406;&#x89E3;&#x6BCF;&#x4E00;&#x6C47;&#x7F16;&#x8BED;&#x8A00;&#x4EE3;&#x7801;&#x7684;&#x884C;&#x4E3A;&#x6216;&#x4F5C;&#x7528;&#xFF0C;&#x8FDB;&#x800C;&#x8BBE;&#x6CD5;&#x201C;&#x63A8;&#x65AD;&#x201D;&#x51FA;&#x62C6;&#x9664;&#x70B8;&#x5F39;&#x6240;&#x9700;&#x7684;&#x76EE;&#x6807;&#x5B57;&#x7B26;&#x4E32;&#x3002;&#x8FD9;&#x53EF;&#x80FD;&#x9700;&#x8981;&#x4F60;&#x5728;&#x6BCF;&#x4E00;&#x9636;&#x6BB5;&#x7684;&#x5F00;&#x59CB;&#x4EE3;&#x7801;&#x524D;&#x548C;&#x5F15;&#x7206;&#x70B8;&#x5F39;&#x7684;&#x51FD;&#x6570;&#x524D;&#x8BBE;&#x7F6E;&#x65AD;&#x70B9;&#xFF0C;&#x4EE5;&#x4FBF;&#x4E8E;&#x8C03;&#x8BD5;&#x3002;</p>
<p>&#x5B9E;&#x9A8C;&#x8BED;&#x8A00;&#xFF1A;C&#x8BED;&#x8A00;</p>
<p>&#x5B9E;&#x9A8C;&#x73AF;&#x5883;&#xFF1A;linux</p>
<h4 id="&#x7136;&#x540E;&#x5BF9;&#x5B9E;&#x9A8C;&#x4E2D;&#x7528;&#x5230;&#x7684;&#x4E00;&#x4E9B;&#x6587;&#x4EF6;&#x505A;&#x4E00;&#x4E2A;&#x7B80;&#x5355;&#x7684;&#x8BF4;&#x660E;"><a href="#&#x7136;&#x540E;&#x5BF9;&#x5B9E;&#x9A8C;&#x4E2D;&#x7528;&#x5230;&#x7684;&#x4E00;&#x4E9B;&#x6587;&#x4EF6;&#x505A;&#x4E00;&#x4E2A;&#x7B80;&#x5355;&#x7684;&#x8BF4;&#x660E;" class="headerlink" title="&#x7136;&#x540E;&#x5BF9;&#x5B9E;&#x9A8C;&#x4E2D;&#x7528;&#x5230;&#x7684;&#x4E00;&#x4E9B;&#x6587;&#x4EF6;&#x505A;&#x4E00;&#x4E2A;&#x7B80;&#x5355;&#x7684;&#x8BF4;&#x660E;:"></a>&#x7136;&#x540E;&#x5BF9;&#x5B9E;&#x9A8C;&#x4E2D;&#x7528;&#x5230;&#x7684;&#x4E00;&#x4E9B;&#x6587;&#x4EF6;&#x505A;&#x4E00;&#x4E2A;&#x7B80;&#x5355;&#x7684;&#x8BF4;&#x660E;:</h4><ul>
<li>bomb&#xFF1A;bomb&#x7684;&#x53EF;&#x6267;&#x884C;&#x7A0B;&#x5E8F;&#x3002;</li>
<li>bomb.c&#xFF1A;bomb&#x7A0B;&#x5E8F;&#x7684;main&#x51FD;&#x6570;&#x3002;</li>
</ul>
<p><strong>&#x300C;&#x8FD0;&#x884C;./bomb&#x300D;</strong>&#xFF1A;<code>./bomb</code>&#x662F;&#x4E00;&#x4E2A;&#x53EF;&#x6267;&#x884C;&#x7A0B;&#x5E8F;&#xFF0C;&#x9700;&#x8981;0&#x6216;1&#x4E2A;&#x547D;&#x4EE4;&#x884C;&#x53C2;&#x6570;&#xFF08;&#x8BE6;&#x89C1;bomb.c&#x6E90;&#x6587;&#x4EF6;&#x4E2D;&#x7684;main()&#x51FD;&#x6570;&#xFF09;&#x3002;&#x5982;&#x679C;&#x8FD0;&#x884C;&#x65F6;&#x4E0D;&#x6307;&#x5B9A;&#x53C2;&#x6570;&#xFF0C;&#x5219;&#x8BE5;&#x7A0B;&#x5E8F;&#x6253;&#x5370;&#x51FA;&#x6B22;&#x8FCE;&#x4FE1;&#x606F;&#x540E;&#xFF0C;&#x671F;&#x5F85;&#x4F60;&#x6309;&#x884C;&#x8F93;&#x5165;&#x6BCF;&#x4E00;&#x9636;&#x6BB5;&#x7528;&#x6765;&#x62C6;&#x9664;&#x70B8;&#x5F39;&#x7684;&#x5B57;&#x7B26;&#x4E32;&#xFF0C;&#x5E76;&#x6839;&#x636E;&#x4F60;&#x5F53;&#x524D;&#x8F93;&#x5165;&#x7684;&#x5B57;&#x7B26;&#x4E32;&#x51B3;&#x5B9A;&#x4F60;&#x662F;&#x901A;&#x8FC7;&#x76F8;&#x5E94;&#x9636;&#x6BB5;&#x8FD8;&#x662F;&#x70B8;&#x5F39;&#x7206;&#x70B8;&#x5BFC;&#x81F4;&#x4EFB;&#x52A1;&#x5931;&#x8D25;&#x3002;</p>
<p>&#x4F60;&#x4E5F;&#x53EF;&#x5C06;&#x62C6;&#x9664;&#x6BCF;&#x4E00;&#x9636;&#x6BB5;&#x70B8;&#x5F39;&#x7684;&#x5B57;&#x7B26;&#x4E32;&#x6309;&#x884C;&#x7EC4;&#x7EC7;&#x5728;&#x4E00;&#x4E2A;&#x6587;&#x672C;&#x6587;&#x4EF6;&#x4E2D;&#xFF08;&#x6BD4;&#x5982;&#xFF1A;result.txt&#xFF09;&#xFF0C;&#x7136;&#x540E;&#x4F5C;&#x4E3A;&#x8FD0;&#x884C;&#x7A0B;&#x5E8F;&#x65F6;&#x7684;&#x552F;&#x4E00;&#x4E00;&#x4E2A;&#x547D;&#x4EE4;&#x884C;&#x53C2;&#x6570;&#x4F20;&#x7ED9;&#x7A0B;&#x5E8F;&#xFF08;./bomb result.txt&#xFF09;&#xFF0C;&#x7A0B;&#x5E8F;&#x4F1A;&#x81EA;&#x52A8;&#x8BFB;&#x53D6;&#x6587;&#x672C;&#x6587;&#x4EF6;&#x4E2D;&#x7684;&#x5B57;&#x7B26;&#x4E32;&#xFF0C;&#x5E76;&#x4F9D;&#x6B21;&#x68C0;&#x67E5;&#x5BF9;&#x5E94;&#x6BCF;&#x4E00;&#x9636;&#x6BB5;&#x7684;&#x5B57;&#x7B26;&#x4E32;&#x6765;&#x51B3;&#x5B9A;&#x70B8;&#x5F39;&#x62C6;&#x9664;&#x6210;&#x8D25;&#x3002;</p>
<h4 id="&#x6B63;&#x6587;&#x5F00;&#x59CB;"><a href="#&#x6B63;&#x6587;&#x5F00;&#x59CB;" class="headerlink" title="&#x6B63;&#x6587;&#x5F00;&#x59CB;"></a>&#x6B63;&#x6587;&#x5F00;&#x59CB;</h4><p>&#x9996;&#x5148;&#x5C06;&#x53EF;&#x6267;&#x884C;&#x7A0B;&#x5E8F;<code>bomb</code>&#x8FDB;&#x884C;&#x53CD;&#x6C47;&#x7F16;:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#x590D;&#x5236;&#x4EE3;&#x7801;objdump -d bomb &gt; disassemble.asm</span><br></pre></td></tr></table></figure>

<p>&#x7136;&#x540E;&#x7528;&#x4F60;&#x559C;&#x6B22;&#x7684;&#x7F16;&#x8F91;&#x5668;&#x6253;&#x5F00;&#x8FD9;&#x4E2A;&#x6587;&#x4EF6;, &#x6211;&#x7528;&#x7684;&#x662F;<code>VsCode</code></p>
<p>&#x53EF;&#x4EE5;&#x88C5;&#x8FD9;&#x4E2A;&#x63D2;&#x4EF6;&#x6765;&#x9AD8;&#x4EAE;&#x663E;&#x793A;&#x4EE3;&#x7801;</p>
<p><img src="https://gitee.com/songjianzaina/juejin_p7/raw/master/img/b756ce917fbbf0cfe07e79fac90e3d8a1fc798bffc5b7421bb181a93ccd74d1b" alt><br>&#x4E3B;&#x51FD;&#x6570;&#x6BD4;&#x8F83;&#x957F;,&#x53CD;&#x6B63;&#x6211;&#x662F;&#x6CA1;&#x770B;,&#x76F4;&#x63A5;<code>Ctrl + F</code>&#x641C;&#x7D22;<code>phase_1</code>&#x8FDB;&#x5165;&#x9636;&#x6BB5;1</p>
<h4 id="&#x9636;&#x6BB5;&#x4E00;"><a href="#&#x9636;&#x6BB5;&#x4E00;" class="headerlink" title="&#x9636;&#x6BB5;&#x4E00;"></a>&#x9636;&#x6BB5;&#x4E00;</h4><p>&#x9636;&#x6BB5;1&#x6BD4;&#x8F83;&#x7B80;&#x5355;,&#x6211;&#x5206;&#x914D;&#x5230;&#x7684;&#x9898;&#x76EE;&#x5982;&#x4E0B;&#x6240;&#x793A;:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">&#x590D;&#x5236;&#x4EE3;&#x7801;08048b33 &lt;phase_1&gt;:</span><br><span class="line"> 8048b33:	83 ec 14             	sub    $0x14,%esp</span><br><span class="line"> 8048b36:	68 a4 9f 04 08       	push   $0x8049fa4</span><br><span class="line"> 8048b3b:	ff 74 24 1c          	pushl  0x1c(%esp)</span><br><span class="line"> 8048b3f:	e8 5e 04 00 00       	call   8048fa2 &lt;strings_not_equal&gt;</span><br><span class="line"> 8048b44:	83 c4 10             	add    $0x10,%esp</span><br><span class="line"> 8048b47:	85 c0                	test   %eax,%eax</span><br><span class="line"> 8048b49:	74 05                   je     8048b50 &lt;phase_1+0x1d&gt;</span><br><span class="line"> 8048b4b:	e8 49 05 00 00          call   8049099 &lt;explode_bomb&gt;</span><br><span class="line"> 8048b50:	83 c4 0c             	add    $0xc,%esp</span><br><span class="line"> 8048b53:	c3                   	ret</span><br></pre></td></tr></table></figure>

<p>&#x6211;&#x4EEC;&#x6765;&#x5206;&#x6790;&#x4E00;&#x4E0B;&#x8FD9;&#x4E2A;&#x4EE3;&#x7801;,&#x53EF;&#x4EE5;&#x770B;&#x5230;&#x6709;&#x4E24;&#x4E2A;push&#x64CD;&#x4F5C;,&#x7136;&#x540E;&#x6709;&#x4E00;&#x4E2A;call&#x64CD;&#x4F5C;,&#x6240;&#x4EE5;&#x731C;&#x6D4B;&#x8FD9;&#x4E24;&#x4E2A;push&#x64CD;&#x4F5C;&#x662F;&#x5728;&#x4E3A;&#x8FD9;&#x4E2A;<code>strings_not_equal</code>&#x51FD;&#x6570;&#x4F20;&#x9012;&#x53C2;&#x6570;, &#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x7528;<code>gdb</code>&#x8C03;&#x8BD5;&#x4E00;&#x4E0B;&#x770B;&#x770B;&#x662F;&#x4E0D;&#x662F;&#x8FD9;&#x6837;:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&#x590D;&#x5236;&#x4EE3;&#x7801;gdb bomb</span><br><span class="line">b phase_1 //&#x6253;&#x65AD;&#x70B9;</span><br><span class="line">b explode_bomb</span><br><span class="line">run</span><br><span class="line">layout asm //&#x63D0;&#x4F9B;&#x56FE;&#x5F62;&#x754C;&#x9762;, &#x53EF;&#x4EE5;&#x66F4;&#x597D;&#x7684;&#x89C2;&#x5BDF;&#x6267;&#x884C;&#x5230;&#x54EA;&#x4E00;&#x6761;&#x8BED;&#x53E5;&#x4E86;</span><br></pre></td></tr></table></figure>

<p>&#x6211;&#x8F93;&#x5165;&#x7684;&#x5B57;&#x7B26;&#x4E32;&#x662F;<code>hello</code>, &#x7136;&#x540E;&#x901A;&#x8FC7;&#x8C03;&#x8BD5;&#x53EF;&#x4EE5;&#x770B;&#x5230;,0x1c(%esp)&#x538B;&#x8FDB;&#x6808;&#x4E2D;&#x7684;&#x5B57;&#x7B26;&#x4E32;&#x5C31;&#x662F;<code>hello</code></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#x590D;&#x5236;&#x4EE3;&#x7801;$1 = 0x804c3e0 &lt;input_strings&gt; &quot;hello&quot;</span><br></pre></td></tr></table></figure>

<p>&#x6240;&#x4EE5;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x731C;&#x6D4B;&#x6211;&#x4EEC;&#x8F93;&#x5165;&#x7684;&#x5B57;&#x7B26;&#x4E32;&#x9700;&#x8981;&#x4E0E;<code>0x8049fa4</code>&#x5904;&#x7684;&#x5B57;&#x7B26;&#x4E32;&#x8FDB;&#x884C;&#x6BD4;&#x5BF9;,&#x5982;&#x679C;&#x76F8;&#x7B49;,&#x90A3;&#x4E48;&#x5C31;&#x53EF;&#x4EE5;&#x6210;&#x529F;&#x62C6;&#x9664;&#x70B8;&#x5F39;&#x4E86;,&#x73B0;&#x5728;&#x67E5;&#x770B;&#x8FD9;&#x4E2A;&#x5730;&#x5740;&#x5904;&#x7684;&#x5B57;&#x7B26;&#x4E32;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#x590D;&#x5236;&#x4EE3;&#x7801;x /s 0x8049fa4</span><br></pre></td></tr></table></figure>

<p>&#x6267;&#x884C;&#x540E;&#x83B7;&#x5F97;&#x4EE5;&#x4E0B;&#x7684;&#x8F93;&#x51FA;, <code>All your base are belong to us.</code>&#x5373;&#x4E3A;&#x6B63;&#x786E;&#x7B54;&#x6848;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&#x590D;&#x5236;&#x4EE3;&#x7801;(gdb) x /s 0x8049fa4</span><br><span class="line">0x8049fa4:      &quot;All your base are belong to us.&quot;</span><br></pre></td></tr></table></figure>

<p>&#x603B;&#x7684;&#x6765;&#x8BF4;,&#x8FD9;&#x4E2A;&#x4EFB;&#x52A1;&#x8FD8;&#x7B97;&#x662F;&#x975E;&#x5E38;&#x7B80;&#x5355;&#x7684;.</p>
<h4 id="&#x9636;&#x6BB5;&#x4E8C;"><a href="#&#x9636;&#x6BB5;&#x4E8C;" class="headerlink" title="&#x9636;&#x6BB5;&#x4E8C;"></a>&#x9636;&#x6BB5;&#x4E8C;</h4><p>&#x9636;&#x6BB5;2&#x8003;&#x5BDF;&#x7684;&#x662F;&#x5FAA;&#x73AF;,&#x4EE3;&#x7801;&#x91CF;&#x76F8;&#x5BF9;&#x4E8E;&#x9636;&#x6BB5;1&#x8981;&#x5927;&#x5F88;&#x591A;,&#x9996;&#x5148;&#x8D34;&#x4E00;&#x4E0B;&#x9636;&#x6BB5;&#x4E8C;&#x5B8C;&#x6574;&#x7684;&#x4EE3;&#x7801;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line">&#x590D;&#x5236;&#x4EE3;&#x7801;08048b54 &lt;phase_2&gt;:</span><br><span class="line"> 8048b54:	56                   	push   %esi</span><br><span class="line"> 8048b55:	53                   	push   %ebx</span><br><span class="line"> 8048b56:	83 ec 2c             	sub    $0x2c,%esp</span><br><span class="line"> 8048b59:	65 a1 14 00 00 00    	mov    %gs:0x14,%eax</span><br><span class="line"> 8048b5f:	89 44 24 24          	mov    %eax,0x24(%esp)</span><br><span class="line"> 8048b63:	31 c0                	xor    %eax,%eax</span><br><span class="line"> 8048b65:	8d 44 24 0c          	lea    0xc(%esp),%eax</span><br><span class="line"> 8048b69:	50                   	push   %eax</span><br><span class="line"> 8048b6a:	ff 74 24 3c          	pushl  0x3c(%esp)</span><br><span class="line"> 8048b6e:	e8 4b 05 00 00       	call   80490be &lt;read_six_numbers&gt;</span><br><span class="line"> 8048b73:	83 c4 10             	add    $0x10,%esp</span><br><span class="line"> 8048b76:	83 7c 24 04 01       	cmpl   $0x1,0x4(%esp)</span><br><span class="line"> 8048b7b:	74 05                	je     8048b82 &lt;phase_2+0x2e&gt;</span><br><span class="line"> 8048b7d:	e8 17 05 00 00       	call   8049099 &lt;explode_bomb&gt;</span><br><span class="line"> 8048b82:	8d 5c 24 04          	lea    0x4(%esp),%ebx</span><br><span class="line"> 8048b86:	8d 74 24 18          	lea    0x18(%esp),%esi</span><br><span class="line"> 8048b8a:	8b 03                	mov    (%ebx),%eax</span><br><span class="line"> 8048b8c:	01 c0                	add    %eax,%eax</span><br><span class="line"> 8048b8e:	39 43 04             	cmp    %eax,0x4(%ebx)</span><br><span class="line"> 8048b91:	74 05                	je     8048b98 &lt;phase_2+0x44&gt;</span><br><span class="line"> 8048b93:	e8 01 05 00 00       	call   8049099 &lt;explode_bomb&gt;</span><br><span class="line"> 8048b98:	83 c3 04             	add    $0x4,%ebx</span><br><span class="line"> 8048b9b:	39 f3                	cmp    %esi,%ebx</span><br><span class="line"> 8048b9d:	75 eb                	jne    8048b8a &lt;phase_2+0x36&gt;</span><br><span class="line"> 8048b9f:	8b 44 24 1c          	mov    0x1c(%esp),%eax</span><br><span class="line"> 8048ba3:	65 33 05 14 00 00 00 	xor    %gs:0x14,%eax</span><br><span class="line"> 8048baa:	74 05                	je     8048bb1 &lt;phase_2+0x5d&gt;</span><br><span class="line"> 8048bac:	e8 df fb ff ff       	call   8048790 &lt;__stack_chk_fail@plt&gt;</span><br><span class="line"> 8048bb1:	83 c4 24             	add    $0x24,%esp</span><br><span class="line"> 8048bb4:	5b                   	pop    %ebx</span><br><span class="line"> 8048bb5:	5e                   	pop    %esi</span><br><span class="line"> 8048bb6:	c3                   	ret</span><br></pre></td></tr></table></figure>

<p>&#x5F00;&#x59CB;&#x7684;&#x51E0;&#x884C;&#x5C31;&#x662F;&#x4E00;&#x4E9B;&#x51C6;&#x5907;&#x5DE5;&#x4F5C;,&#x4E0D;&#x7528;&#x53BB;&#x7814;&#x7A76;&#x5B83;&#x662F;&#x5E72;&#x4EC0;&#x4E48;&#x7684;,&#x7237;&#x4E5F;&#x4E0D;&#x60F3;&#x7814;&#x7A76;.</p>
<p>&#x4E0B;&#x9762;&#x4ECE;&#x7B2C;8&#x884C;&#x5F00;&#x59CB;&#x770B;&#x8D77;,&#x7B2C;8&#x884C;&#x7528;&#x4E86;&#x4E00;&#x6761;<code>lea</code>&#x8BED;&#x53E5;,&#x8FD9;&#x662F;&#x83B7;&#x5F97;<code>0xc(%esp)</code>&#x5904;&#x7684;&#x5730;&#x5740;, &#x7136;&#x540E;&#x5C31;&#x628A;&#x8FD9;&#x4E2A;&#x5730;&#x5740;&#x538B;&#x6808;&#x4E86;, &#x53EF;&#x4EE5;&#x731C;&#x6D4B;&#x8FD9;&#x4E2A;&#x5730;&#x5740;&#x662F;&#x7528;&#x6765;&#x5B58;&#x653E;&#x8BFB;&#x53D6;&#x7684;6&#x4E2A;&#x6570;&#x5B57;&#x7684;,&#x540E;&#x9762;&#x7684;&#x4E00;&#x4E2A;pushl&#x662F;&#x5E72;&#x5565;&#x7684;&#x6211;&#x4E5F;8&#x592A;&#x6E05;&#x695A;.&#x7136;&#x540E;&#x8C03;&#x7528;<code>read_six_numbers</code>&#x51FD;&#x6570;&#x8BFB;&#x53D6;6&#x4E2A;&#x6570;&#x5B57;.</p>
<p>&#x7B2C;13&#x884C;, <code>cmpl $0x1,0x4(%esp)</code>&#x8FD9;&#x4E00;&#x6761;&#x8BED;&#x53E5;&#x662F;&#x6BD4;&#x8F83;&#x8BFB;&#x5165;&#x7684;&#x7B2C;&#x4E00;&#x4E2A;&#x53C2;&#x6570;&#x548C;1&#x7684;&#x5927;&#x5C0F;&#x5173;&#x7CFB;,&#x81F3;&#x4E8E;&#x4E3A;&#x4EC0;&#x4E48;&#x662F;&#x7B2C;&#x4E00;&#x4E2A;&#x53C2;&#x6570;,&#x53EF;&#x4EE5;&#x901A;&#x8FC7;&#x81EA;&#x5DF1;&#x6A21;&#x62DF;&#x6808;&#x7684;push pop&#x77E5;&#x9053;. &#x8FD9;&#x91CC;&#x7B2C;&#x4E00;&#x4E2A;&#x53C2;&#x6570;&#x5FC5;&#x987B;&#x7B49;&#x4E8E;1, &#x5426;&#x5219;&#x5C31;&#x4F1A;&#x5F15;&#x7206;&#x70B8;&#x5F39;. &#x7136;&#x540E;&#x8DF3;&#x8F6C;&#x5230;16&#x884C;&#x8FDB;&#x884C;&#x6267;&#x884C;,.</p>
<p>16, 17&#x884C;&#x5206;&#x522B;&#x5C06;&#x6307;&#x5411;&#x7B2C;1&#x4E2A;&#x6570;&#x548C;&#x7B2C;6&#x4E2A;&#x6570;&#x7684;&#x6307;&#x9488;&#x5B58;&#x8FDB;&#x4E86;ebx &#x548C; esi&#x5BC4;&#x5B58;&#x5668;&#x4E2D;. &#x4ECE;&#x8FD9;&#x91CC;&#x53EF;&#x4EE5;&#x770B;&#x51FA;, esi&#x5BC4;&#x5B58;&#x5668;&#x7684;&#x503C;&#x53EF;&#x4EE5;&#x770B;&#x505A;&#x5FAA;&#x73AF;&#x7EC8;&#x6B62;&#x7684;&#x6761;&#x4EF6;.</p>
<p>18, 19&#x884C;&#x4E24;&#x884C;&#x662F;&#x5C06;ebx&#x5BC4;&#x5B58;&#x5668;&#x4E2D;&#x7684;&#x6570;&#x5B57;&#x53D8;&#x4E3A;&#x539F;&#x6765;&#x7684;&#x4E24;&#x500D;&#x540E;&#x653E;&#x8FDB;&#x4E86;eax&#x5BC4;&#x5B58;&#x5668;&#x4E2D;,&#x7136;&#x540E;&#x6BD4;&#x8F83;ebx&#x5BC4;&#x5B58;&#x5668;&#x4E2D;&#x6570;&#x5B57;&#x7684;&#x540E;&#x4E00;&#x4E2A;&#x6570;&#x5B57;&#x662F;&#x5426;&#x4E0E;eax&#x5BC4;&#x5B58;&#x5668;&#x4E2D;&#x7684;&#x503C;&#x76F8;&#x7B49;, &#x4E5F;&#x5C31;&#x662F;&#x6BD4;&#x8F83;&#x540E;&#x4E00;&#x4E2A;&#x6570;&#x5B57;&#x662F;&#x5426;&#x662F;&#x524D;&#x4E00;&#x4E2A;&#x6570;&#x5B57;&#x7684;&#x4E24;&#x500D;, &#x5982;&#x679C;&#x4E0D;&#x662F;, &#x90A3;&#x4E48;&#x5F15;&#x7206;&#x70B8;&#x5F39;, &#x5426;&#x5219;&#x5FAA;&#x73AF;&#x7EE7;&#x7EED;, &#x6307;&#x9488;&#x5F80;&#x540E;&#x632A;&#x4E00;&#x4F4D;, &#x77E5;&#x9053;&#x632A;&#x5230;&#x4E86;&#x6700;&#x540E;&#x4E00;&#x4E2A;.</p>
<p>&#x6240;&#x4EE5;&#x6700;&#x540E;&#x7684;&#x7B54;&#x6848;&#x5C31;&#x662F;<code>1 2 4 8 16 32</code>, &#x8FD9;&#x4E00;&#x9898;&#x4E5F;&#x6BD4;&#x8F83;&#x7B80;&#x5355;</p>
<h4 id="&#x9636;&#x6BB5;&#x4E09;"><a href="#&#x9636;&#x6BB5;&#x4E09;" class="headerlink" title="&#x9636;&#x6BB5;&#x4E09;"></a>&#x9636;&#x6BB5;&#x4E09;</h4><p>&#x9636;&#x6BB5;&#x4E09;&#x8003;&#x5BDF;&#x7684;&#x662F;&#x6761;&#x4EF6;&#x4E0E;&#x5206;&#x652F;, &#x4E5F;&#x6BD4;&#x8F83;&#x7B80;&#x5355;, &#x5148;&#x6765;&#x770B;&#x4E00;&#x770B;&#x9636;&#x6BB5;&#x4E09;&#x7684;&#x6E90;&#x4EE3;&#x7801;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line">&#x590D;&#x5236;&#x4EE3;&#x7801; 8048bb7:	83 ec 1c             	sub    $0x1c,%esp</span><br><span class="line"> 8048bba:	65 a1 14 00 00 00    	mov    %gs:0x14,%eax</span><br><span class="line"> 8048bc0:	89 44 24 0c          	mov    %eax,0xc(%esp)</span><br><span class="line"> 8048bc4:	31 c0                	xor    %eax,%eax</span><br><span class="line"> 8048bc6:	8d 44 24 08          	lea    0x8(%esp),%eax</span><br><span class="line"> 8048bca:	50                   	push   %eax</span><br><span class="line"> 8048bcb:	8d 44 24 08          	lea    0x8(%esp),%eax</span><br><span class="line"> 8048bcf:	50                   	push   %eax</span><br><span class="line"> 8048bd0:	68 6f a1 04 08       	push   $0x804a16f</span><br><span class="line"> 8048bd5:	ff 74 24 2c          	pushl  0x2c(%esp)</span><br><span class="line"> 8048bd9:	e8 32 fc ff ff       	call   8048810 &lt;__isoc99_sscanf@plt&gt;</span><br><span class="line"> 8048bde:	83 c4 10             	add    $0x10,%esp</span><br><span class="line"> 8048be1:	83 f8 01             	cmp    $0x1,%eax</span><br><span class="line"> 8048be4:	7f 05                	jg     8048beb &lt;phase_3+0x34&gt;</span><br><span class="line"> 8048be6:	e8 ae 04 00 00       	call   8049099 &lt;explode_bomb&gt;</span><br><span class="line"> 8048beb:	83 7c 24 04 07       	cmpl   $0x7,0x4(%esp)</span><br><span class="line"> 8048bf0:	77 3c                	ja     8048c2e &lt;phase_3+0x77&gt;</span><br><span class="line"> 8048bf2:	8b 44 24 04          	mov    0x4(%esp),%eax</span><br><span class="line"> 8048bf6:	ff 24 85 00 a0 04 08 	jmp    *0x804a000(,%eax,4)</span><br><span class="line"> 8048bfd:	b8 f3 01 00 00       	mov    $0x1f3,%eax</span><br><span class="line"> 8048c02:	eb 3b                	jmp    8048c3f &lt;phase_3+0x88&gt;</span><br><span class="line"> 8048c04:	b8 c0 00 00 00       	mov    $0xc0,%eax</span><br><span class="line"> 8048c09:	eb 34                	jmp    8048c3f &lt;phase_3+0x88&gt;</span><br><span class="line"> 8048c0b:	b8 57 01 00 00       	mov    $0x157,%eax</span><br><span class="line"> 8048c10:	eb 2d                	jmp    8048c3f &lt;phase_3+0x88&gt;</span><br><span class="line"> 8048c12:	b8 9b 01 00 00       	mov    $0x19b,%eax</span><br><span class="line"> 8048c17:	eb 26                	jmp    8048c3f &lt;phase_3+0x88&gt;</span><br><span class="line"> 8048c19:	b8 5c 03 00 00       	mov    $0x35c,%eax</span><br><span class="line"> 8048c1e:	eb 1f                	jmp    8048c3f &lt;phase_3+0x88&gt;</span><br><span class="line"> 8048c20:	b8 38 02 00 00       	mov    $0x238,%eax</span><br><span class="line"> 8048c25:	eb 18                	jmp    8048c3f &lt;phase_3+0x88&gt;</span><br><span class="line"> 8048c27:	b8 67 01 00 00       	mov    $0x167,%eax</span><br><span class="line"> 8048c2c:	eb 11                	jmp    8048c3f &lt;phase_3+0x88&gt;</span><br><span class="line"> 8048c2e:	e8 66 04 00 00       	call   8049099 &lt;explode_bomb&gt;</span><br><span class="line"> 8048c33:	b8 00 00 00 00       	mov    $0x0,%eax</span><br><span class="line"> 8048c38:	eb 05                	jmp    8048c3f &lt;phase_3+0x88&gt;</span><br><span class="line"> 8048c3a:	b8 83 02 00 00       	mov    $0x283,%eax</span><br><span class="line"> 8048c3f:	3b 44 24 08          	cmp    0x8(%esp),%eax</span><br><span class="line"> 8048c43:	74 05                	je     8048c4a &lt;phase_3+0x93&gt;</span><br><span class="line"> 8048c45:	e8 4f 04 00 00       	call   8049099 &lt;explode_bomb&gt;</span><br><span class="line"> 8048c4a:	8b 44 24 0c          	mov    0xc(%esp),%eax</span><br><span class="line"> 8048c4e:	65 33 05 14 00 00 00 	xor    %gs:0x14,%eax</span><br><span class="line"> 8048c55:	74 05                	je     8048c5c &lt;phase_3+0xa5&gt;</span><br><span class="line"> 8048c57:	e8 34 fb ff ff       	call   8048790 &lt;__stack_chk_fail@plt&gt;</span><br><span class="line"> 8048c5c:	83 c4 1c             	add    $0x1c,%esp</span><br><span class="line"> 8048c5f:	c3                   	ret</span><br></pre></td></tr></table></figure>

<p>&#x4ECE;&#x7B2C;5&#x884C;&#x5F00;&#x59CB;&#x770B;, &#x8FD9;&#x91CC;&#x7684;&#x4E24;&#x4E2A;lea&#x64CD;&#x4F5C;&#x5F88;&#x663E;&#x7136;&#x5C31;&#x662F;&#x4F20;&#x5730;&#x5740;, &#x7C7B;&#x4F3C;&#x4E0E;&amp;a, &#x7136;&#x540E;&#x4F9B;sacnf&#x51FD;&#x6570;&#x4F7F;&#x7528;</p>
<p>&#x8FD9;&#x91CC;&#x6CE8;&#x610F;&#x7B2C;9&#x884C;<code>push $0x804a16f</code>, &#x8FD9;&#x91CC;&#x538B;&#x5165;&#x4E86;&#x4E00;&#x4E2A;&#x5730;&#x5740;&#x5E38;&#x91CF;, &#x6839;&#x636E;&#x540E;&#x9762;&#x8C03;&#x7528;&#x7684;scanf&#x731C;&#x6D4B;&#x8FD9;&#x4E2A;&#x5E94;&#x8BE5;&#x662F;&#x683C;&#x5F0F;&#x5B57;&#x7B26;&#x4E32;, &#x6211;&#x4EEC;&#x901A;&#x8FC7;gdb&#x67E5;&#x770B;&#x8FD9;&#x4E2A;&#x5B57;&#x7B26;&#x4E32;&#x7684;&#x503C;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&#x590D;&#x5236;&#x4EE3;&#x7801;(gdb) x /s 0x804a16f</span><br><span class="line">0x804a16f:	&quot;%d %d&quot;</span><br></pre></td></tr></table></figure>

<p>&#x4ECE;&#x8F93;&#x51FA;&#x53EF;&#x4EE5;&#x770B;&#x5230;, scanf&#x63A5;&#x53D7;&#x7684;&#x662F;&#x4E24;&#x4E2A;int&#x7C7B;&#x578B;&#x7684;&#x6574;&#x6570;.</p>
<p>&#x63A5;&#x7740;&#x770B;&#x7B2C;13&#x884C;, &#x6709;&#x4E00;&#x4E2A;eax&#x5BC4;&#x5B58;&#x5668;&#x4E0E;1&#x7684;&#x6BD4;&#x8F83;&#x64CD;&#x4F5C;, &#x4E00;&#x822C;eax&#x5BC4;&#x5B58;&#x5668;&#x5B58;&#x50A8;&#x51FD;&#x6570;&#x7684;&#x8FD4;&#x56DE;&#x503C;, &#x800C;sacnf&#x51FD;&#x6570;&#x7684;&#x8FD4;&#x56DE;&#x503C;&#x5C31;&#x662F;&#x6210;&#x529F;&#x8BFB;&#x53D6;&#x7684;&#x5143;&#x7D20;&#x4E2A;&#x6570;,&#x4E8E;&#x662F;&#x53EF;&#x77E5;,&#x8FD9;&#x91CC;&#x8BFB;&#x53D6;&#x7684;&#x5143;&#x7D20;&#x4E2A;&#x6570;&#x5C0F;&#x4E8E;&#x7B49;&#x4E8E;1&#x7684;&#x8BDD;&#x5C31;&#x4F1A;&#x5F15;&#x7206;&#x70B8;&#x5F39;.</p>
<p>&#x63A5;&#x7740;&#x770B;&#x7B2C;16&#x884C;, &#x662F;&#x6BD4;&#x8F83;&#x8BFB;&#x5165;&#x7684;&#x7B2C;&#x4E00;&#x4E2A;&#x53C2;&#x6570;&#x548C;7&#x7684;&#x5927;&#x5C0F;&#x5173;&#x7CFB;, &#x6CE8;&#x610F;&#x540E;&#x9762;&#x4E00;&#x884C;&#x7684;ja&#x662F;&#x65E0;&#x7B26;&#x53F7;&#x6BD4;&#x8F83;, &#x6240;&#x4EE5;&#x53EF;&#x77E5;&#x7B2C;&#x4E00;&#x4E2A;&#x53C2;&#x6570;&#x7684;1&#x503C;&#x5FC5;&#x987B;&#x5728;0~7&#x4E4B;&#x95F4;, &#x5426;&#x5219;&#x5C31;&#x4F1A;&#x5F15;&#x7206;&#x70B8;&#x5F39;</p>
<p>&#x63A5;&#x7740;&#x7684;18, 19&#x884C;, &#x6709;&#x610F;&#x601D;&#x7684;&#x5730;&#x65B9;&#x6765;&#x4E86;, &#x8FD9;&#x91CC;&#x662F;&#x4E00;&#x4E2A;&#x5178;&#x578B;&#x7684;&#x8DF3;&#x8F6C;&#x8868;&#x7684;&#x5B9E;&#x73B0;,&#x6BD4;&#x5982;&#x4E2D;&#x65AD;&#x5411;&#x91CF;&#x8868;, switch&#x90FD;&#x662F;&#x7528;&#x7684;&#x8FD9;&#x79CD;&#x601D;&#x60F3;.&#x6BD4;&#x5982;&#x8BF4;&#x6211;&#x8F93;&#x5165;&#x7684;&#x7B2C;&#x4E00;&#x4E2A;&#x6570;&#x5B57;&#x662F;1, &#x90A3;&#x4E48;&#x6211;&#x8DF3;&#x8F6C;&#x5230;&#x7684;&#x5730;&#x5740;&#x9700;&#x8981;&#x5728;gdb&#x4E2D;&#x901A;&#x8FC7;&#x5982;&#x4E0B;&#x65B9;&#x5F0F;&#x83B7;&#x5F97;:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&#x590D;&#x5236;&#x4EE3;&#x7801;(gdb) print /x *(int*)(0x804a000+4)</span><br><span class="line">$1 = 0x8048bfd</span><br></pre></td></tr></table></figure>

<p>&#x7136;&#x540E;&#x518D;&#x5728;19~36&#x884C;&#x4E2D;&#x5BFB;&#x627E;&#x5BF9;&#x5E94;&#x7684;&#x5730;&#x5740;&#x8DF3;&#x8F6C;&#x8FC7;&#x53BB;&#x5C31;&#x884C;, &#x6BD4;&#x5982;0x8048bfd&#x662F;&#x7B2C;20&#x884C;,&#x5BF9;&#x5E94;&#x7684;&#x4EE3;&#x7801;&#x662F;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&#x590D;&#x5236;&#x4EE3;&#x7801;8048bfd:	b8 f3 01 00 00       	mov    $0x1f3,%eax</span><br><span class="line"> 8048c02:	eb 3b                	jmp    8048c3f &lt;phase_3+0x88&gt;</span><br></pre></td></tr></table></figure>

<p>&#x6240;&#x4EE5;eax&#x7684;&#x503C;&#x5C31;&#x662F;0x1f3, &#x4E5F;&#x5C31;&#x662F;499</p>
<p>&#x901A;&#x8FC7;&#x7B2C;38&#x884C;&#x7684;&#x4EE3;&#x7801;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&#x590D;&#x5236;&#x4EE3;&#x7801; 8048c3f:	3b 44 24 08          	cmp    0x8(%esp),%eax</span><br><span class="line"> 8048c43:	74 05                	je     8048c4a &lt;phase_3+0x93&gt;</span><br><span class="line"> 8048c45:	e8 4f 04 00 00       	call   8049099 &lt;explode_bomb&gt;</span><br></pre></td></tr></table></figure>

<p>&#x53EF;&#x4EE5;&#x77E5;&#x9053;, &#x6211;&#x4EEC;&#x9700;&#x8981;&#x8F93;&#x5165;&#x7684;&#x7B2C;&#x4E8C;&#x4E2A;&#x6570;&#x4E0E;eax&#x5BC4;&#x5B58;&#x5668;&#x4E2D;&#x7684;&#x503C;&#x76F8;&#x7B49;,&#x4E0D;&#x7136;&#x5C31;&#x4F1A;&#x5F15;&#x7206;&#x70B8;&#x5F39;, &#x4E8E;&#x662F;&#x4E00;&#x4E2A;&#x53EF;&#x80FD;&#x7684;&#x7B54;&#x6848;&#x5C31;&#x662F;1 499, &#x5F53;&#x7136;, &#x8FD8;&#x6709;&#x5176;&#x4ED6;&#x7684;&#x7B54;&#x6848;.</p>
<h4 id="&#x9636;&#x6BB5;&#x56DB;"><a href="#&#x9636;&#x6BB5;&#x56DB;" class="headerlink" title="&#x9636;&#x6BB5;&#x56DB;"></a>&#x9636;&#x6BB5;&#x56DB;</h4><p>&#x9636;&#x6BB5;&#x56DB;&#x9700;&#x8981;&#x4F60;&#x8FDB;&#x884C;&#x9006;&#x5411;&#x51FA;&#x5BF9;&#x5E94;&#x7684;C&#x4EE3;&#x7801;, &#x8FD9;&#x6837;&#x89E3;&#x51B3;&#x8D77;&#x6765;&#x4F1A;&#x7B80;&#x5355;&#x8BB8;&#x591A;,&#x8FD9;&#x4E00;&#x9898;&#x6211;&#x5F88;&#x5FEB;&#x5C31;&#x9006;&#x5411;&#x51FA;C&#x4EE3;&#x7801;&#x4E86;,&#x4F46;&#x662F;&#x6CA1;&#x60F3;&#x5230;&#x88AB;scanf&#x51FD;&#x6570;&#x5751;&#x4E86;, &#x5B83;&#x7684;&#x7B2C;&#x4E00;&#x4E2A;&#x53C2;&#x6570;&#x662F;&#x4F60;&#x8F93;&#x5165;&#x7684;&#x7B2C;&#x4E8C;&#x4E2A;, &#x7B2C;&#x4E8C;&#x4E2A;&#x53C2;&#x6570;&#x662F;&#x4F60;&#x8F93;&#x5165;&#x7684;&#x7B2C;&#x4E00;&#x4E2A;, &#x641E;&#x5F97;&#x6211;&#x8FD8;&#x4E00;&#x76F4;&#x4EE5;&#x4E3A;&#x6211;&#x9006;&#x5411;&#x9519;&#x4E86;,&#x540E;&#x6765;&#x5728;&#x8F66;&#x5927;&#x725B;&#x7684;&#x63D0;&#x9192;&#x4E0B;, &#x5355;&#x6B65;&#x8C03;&#x8BD5;&#x7EC8;&#x4E8E;&#x53D1;&#x73B0;&#x4E86;&#x8FD9;&#x4E2A;&#x5751;&#x7239;&#x7684;BUG</p>
<p>&#x4E0B;&#x9762;&#x6211;&#x5C31;&#x6765;&#x8BB2;&#x4E00;&#x8BB2;&#x6211;&#x662F;&#x5982;&#x4F55;&#x9006;&#x5411;&#x7684;, &#x4EE5;&#x53CA;&#x6211;&#x662F;&#x5982;&#x4F55;&#x8C03;&#x8BD5;&#x7684;</p>
<p>&#x9996;&#x5148;&#x6211;&#x4EEC;&#x5148;&#x8D34;&#x4E0A;phase_4&#x7684;&#x4EE3;&#x7801;&#x5982;&#x4E0B;&#x6240;&#x793A;:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line">&#x590D;&#x5236;&#x4EE3;&#x7801;08048ca3 &lt;phase_4&gt;:</span><br><span class="line"> 8048ca3:	83 ec 1c             	sub    $0x1c,%esp</span><br><span class="line"> 8048ca6:	65 a1 14 00 00 00    	mov    %gs:0x14,%eax</span><br><span class="line"> 8048cac:	89 44 24 0c          	mov    %eax,0xc(%esp)</span><br><span class="line"> 8048cb0:	31 c0                	xor    %eax,%eax</span><br><span class="line"> 8048cb2:	8d 44 24 04          	lea    0x4(%esp),%eax</span><br><span class="line"> 8048cb6:	50                   	push   %eax</span><br><span class="line"> 8048cb7:	8d 44 24 0c          	lea    0xc(%esp),%eax</span><br><span class="line"> 8048cbb:	50                   	push   %eax</span><br><span class="line"> 8048cbc:	68 6f a1 04 08       	push   $0x804a16f</span><br><span class="line"> 8048cc1:	ff 74 24 2c          	pushl  0x2c(%esp)</span><br><span class="line"> 8048cc5:	e8 46 fb ff ff       	call   8048810 &lt;__isoc99_sscanf@plt&gt;</span><br><span class="line"> 8048cca:	83 c4 10             	add    $0x10,%esp</span><br><span class="line"> 8048ccd:	83 f8 02             	cmp    $0x2,%eax</span><br><span class="line"> 8048cd0:	75 0c                	jne    8048cde &lt;phase_4+0x3b&gt;</span><br><span class="line"> 8048cd2:	8b 44 24 04          	mov    0x4(%esp),%eax</span><br><span class="line"> 8048cd6:	83 e8 02             	sub    $0x2,%eax</span><br><span class="line"> 8048cd9:	83 f8 02             	cmp    $0x2,%eax</span><br><span class="line"> 8048cdc:	76 05                	jbe    8048ce3 &lt;phase_4+0x40&gt;</span><br><span class="line"> 8048cde:	e8 b6 03 00 00       	call   8049099 &lt;explode_bomb&gt;</span><br><span class="line"> 8048ce3:	83 ec 08             	sub    $0x8,%esp</span><br><span class="line"> 8048ce6:	ff 74 24 0c          	pushl  0xc(%esp)</span><br><span class="line"> 8048cea:	6a 09                	push   $0x9</span><br><span class="line"> 8048cec:	e8 6f ff ff ff       	call   8048c60 &lt;func4&gt;</span><br><span class="line"> 8048cf1:	83 c4 10             	add    $0x10,%esp</span><br><span class="line"> 8048cf4:	3b 44 24 08          	cmp    0x8(%esp),%eax</span><br><span class="line"> 8048cf8:	74 05                	je     8048cff &lt;phase_4+0x5c&gt;</span><br><span class="line"> 8048cfa:	e8 9a 03 00 00       	call   8049099 &lt;explode_bomb&gt;</span><br><span class="line"> 8048cff:	8b 44 24 0c          	mov    0xc(%esp),%eax</span><br><span class="line"> 8048d03:	65 33 05 14 00 00 00 	xor    %gs:0x14,%eax</span><br><span class="line"> 8048d0a:	74 05                	je     8048d11 &lt;phase_4+0x6e&gt;</span><br><span class="line"> 8048d0c:	e8 7f fa ff ff       	call   8048790 &lt;__stack_chk_fail@plt&gt;</span><br><span class="line"> 8048d11:	83 c4 1c             	add    $0x1c,%esp</span><br><span class="line"> 8048d14:	c3                   	ret</span><br></pre></td></tr></table></figure>

<p>&#x4ECE;&#x7B2C;6&#x884C;&#x5F00;&#x59CB;&#x770B;&#x8D77;, &#x8FD9;&#x91CC;&#x662F;&#x719F;&#x6089;&#x7684;lea, &#x719F;&#x6089;&#x7684;push, &#x719F;&#x6089;&#x7684;scanf, &#x7136;&#x540E;&#x7528;&#x76F8;&#x540C;&#x7684;&#x4F0E;&#x4FE9;&#x53EF;&#x4EE5;&#x77E5;&#x9053;&#x683C;&#x5F0F;&#x5316;&#x5B57;&#x7B26;&#x4E32;&#x8FD8;&#x662F;<code>%d %d</code>, &#x4E8E;&#x662F;&#x6211;&#x4EEC;&#x77E5;&#x9053;&#x8FD9;&#x91CC;&#x4E5F;&#x662F;&#x8BFB;&#x5165;&#x4E24;&#x4E2A;&#x6570;&#x5B57;, &#x4F46;&#x662F;, &#x8FD9;&#x91CC;&#x5148;push&#x8FDB;&#x53BB;&#x7684;&#x662F;&#x4F4E;&#x5730;&#x5740;&#x7684;&#x90A3;&#x4E00;&#x4E2A;&#x2026;</p>
<p>14&#x884C;&#x6BD4;&#x8F83;&#x4E86;&#x4E00;&#x4E0B;&#x8FD4;&#x56DE;&#x503C;, &#x4E0D;&#x662F;2&#x5C31;&#x5F15;&#x7206;&#x70B8;&#x5F39;, &#x4E5F;&#x518D;&#x4E00;&#x6B21;&#x8BC1;&#x660E;&#x4E86;&#x8981;&#x8BFB;&#x4E24;&#x4E2A;&#x6570;</p>
<p>16-18&#x884C;&#x6BD4;&#x8F83;&#x4E86;scanf&#x7684;&#x7B2C;&#x4E00;&#x4E2A;&#x53C2;&#x6570;, &#x4E5F;&#x5C31;&#x662F;&#x6211;&#x4EEC;&#x8F93;&#x5165;&#x7684;&#x7B2C;&#x4E8C;&#x4E2A;&#x6570;&#x51CF;2&#x540E;&#x4E0E;2&#x7684;&#x5927;&#x5C0F;&#x5173;&#x7CFB;, &#x8FD9;&#x91CC;&#x9700;&#x8981;&#x7279;&#x522B;&#x6CE8;&#x610F;19&#x884C;&#x662F;jbe, &#x662F;&#x65E0;&#x7B26;&#x53F7;&#x6570;&#x6BD4;&#x8F83;, &#x6240;&#x4EE5;&#x6211;&#x4EEC;&#x8F93;&#x5165;&#x7684;&#x7B2C;&#x4E8C;&#x4E2A;&#x53C2;&#x6570;&#x7684;&#x503C;&#x5FC5;&#x987B;&#x5728;2~4&#x4E4B;&#x95F4;.</p>
<p>21~23&#x884C;&#x662F;&#x5728;&#x4E3A;&#x8C03;&#x7528;func4&#x51C6;&#x5907;&#x53C2;&#x6570;, &#x67E5;&#x770B;func4&#x7684;&#x6E90;&#x4EE3;&#x7801;&#x540E;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x77E5;&#x9053;,&#x5148;push&#x8FDB;&#x53BB;&#x7684;&#x662F;&#x53F3;&#x8FB9;&#x7684;&#x53C2;&#x6570;</p>
<p>&#x5047;&#x8BBE;&#x6211;&#x4EEC;&#x8F93;&#x5165;&#x7684;&#x4E24;&#x4E2A;&#x6570;&#x662F;b a, &#x90A3;&#x4E48;&#x8FD9;&#x91CC;&#x7684;&#x51FD;&#x6570;&#x8C03;&#x7528;&#x5C31;&#x662F;func4(9, a), &#x81F3;&#x4E8E;&#x4E3A;&#x4EC0;&#x4E48;&#x4F60;&#x81EA;&#x5DF1;&#x753B;&#x4E00;&#x4E0B;&#x8FD9;&#x91CC;&#x7684;&#x6808;&#x5C31;&#x77E5;&#x9053;&#x4E86;, &#x7535;&#x8111;&#x4E0A;&#x753B;&#x56FE;&#x592A;&#x9EBB;&#x70E6;, &#x6211;&#x5C31;&#x4E0D;&#x753B;&#x4E86;.(&#x5BF9;&#x4E86;, &#x5728;&#x81EA;&#x5DF1;&#x5206;&#x6790;&#x6808;&#x65F6;&#x8981;&#x6CE8;&#x610F;&#x51FD;&#x6570;&#x8C03;&#x7528;&#x65F6;&#x4F1A;&#x5C06;&#x8FD4;&#x56DE;&#x5730;&#x5740;&#x538B;&#x6808;)</p>
<p>&#x6211;&#x4EEC;&#x5148;&#x4E0D;&#x770B;func4, &#x5148;&#x63A5;&#x7740;&#x770B;phase_4, &#x7531;26&#x5230;28&#x884C;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x770B;&#x5230;&#x6211;&#x4EEC;&#x9700;&#x8981;&#x6211;&#x4EEC;&#x8F93;&#x5165;&#x7684;&#x7B2C;&#x4E00;&#x4E2A;&#x53C2;&#x6570;&#x7684;&#x503C;&#x7B49;&#x4E8E;&#x8C03;&#x7528;func4&#x540E;&#x7684;&#x8FD4;&#x56DE;&#x503C;, &#x4E0D;&#x7136;&#x5C31;&#x4F1A;&#x5F15;&#x7206;&#x70B8;&#x5F39;, &#x4E8E;&#x662F;, &#x63A5;&#x4E0B;&#x6765;, &#x6211;&#x4EEC;&#x9006;&#x5411;func4</p>
<p>&#x5148;&#x4E0A;func4&#x7684;&#x6E90;&#x4EE3;&#x7801;:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">&#x590D;&#x5236;&#x4EE3;&#x7801;08048c60 &lt;func4&gt;:</span><br><span class="line"> 8048c60:	57                   	push   %edi</span><br><span class="line"> 8048c61:	56                   	push   %esi</span><br><span class="line"> 8048c62:	53                   	push   %ebx</span><br><span class="line"> 8048c63:	8b 5c 24 10          	mov    0x10(%esp),%ebx</span><br><span class="line"> 8048c67:	8b 7c 24 14          	mov    0x14(%esp),%edi</span><br><span class="line"> 8048c6b:	85 db                	test   %ebx,%ebx</span><br><span class="line"> 8048c6d:	7e 2b                	jle    8048c9a &lt;func4+0x3a&gt;</span><br><span class="line"> 8048c6f:	89 f8                	mov    %edi,%eax</span><br><span class="line"> 8048c71:	83 fb 01             	cmp    $0x1,%ebx</span><br><span class="line"> 8048c74:	74 29                	je     8048c9f &lt;func4+0x3f&gt;</span><br><span class="line"> 8048c76:	83 ec 08             	sub    $0x8,%esp</span><br><span class="line"> 8048c79:	57                   	push   %edi</span><br><span class="line"> 8048c7a:	8d 43 ff             	lea    -0x1(%ebx),%eax</span><br><span class="line"> 8048c7d:	50                   	push   %eax</span><br><span class="line"> 8048c7e:	e8 dd ff ff ff       	call   8048c60 &lt;func4&gt;</span><br><span class="line"> 8048c83:	83 c4 08             	add    $0x8,%esp</span><br><span class="line"> 8048c86:	8d 34 07             	lea    (%edi,%eax,1),%esi</span><br><span class="line"> 8048c89:	57                   	push   %edi</span><br><span class="line"> 8048c8a:	83 eb 02             	sub    $0x2,%ebx</span><br><span class="line"> 8048c8d:	53                   	push   %ebx</span><br><span class="line"> 8048c8e:	e8 cd ff ff ff       	call   8048c60 &lt;func4&gt;</span><br><span class="line"> 8048c93:	83 c4 10             	add    $0x10,%esp</span><br><span class="line"> 8048c96:	01 f0                	add    %esi,%eax</span><br><span class="line"> 8048c98:	eb 05                	jmp    8048c9f &lt;func4+0x3f&gt;</span><br><span class="line"> 8048c9a:	b8 00 00 00 00       	mov    $0x0,%eax</span><br><span class="line"> 8048c9f:	5b                   	pop    %ebx</span><br><span class="line"> 8048ca0:	5e                   	pop    %esi</span><br><span class="line"> 8048ca1:	5f                   	pop    %edi</span><br><span class="line"> 8048ca2:	c3                   	ret</span><br></pre></td></tr></table></figure>

<p>&#x524D;&#x9762;&#x51E0;&#x884C;&#x662F;&#x5728;&#x4E3A;&#x51FD;&#x6570;&#x8C03;&#x7528;&#x51C6;&#x5907;, &#x4E0D;&#x505A;&#x5206;&#x6790;.</p>
<p>5, 6&#x4E24;&#x884C;&#x662F;&#x4ECE;&#x6808;&#x4E2D;&#x53D6;&#x51FA;&#x53C2;&#x6570;, &#x5982;&#x679C;&#x524D;&#x9762;&#x7684;&#x6808;&#x4F60;&#x81EA;&#x5DF1;&#x5206;&#x6790;&#x4E86;, &#x90A3;&#x4E48;&#x8FD9;&#x91CC;&#x4E5F;&#x4E0D;&#x96BE;&#x5206;&#x6790;&#x5F97;&#x51FA;ebx&#x653E;&#x7684;&#x662F;&#x7B2C;&#x4E00;&#x4E2A;&#x53C2;&#x6570;x1, edi&#x653E;&#x7684;&#x662F;&#x7B2C;&#x4E8C;&#x4E2A;&#x53C2;&#x6570;x2.</p>
<p>&#x7B2C;7, 8&#x4E24;&#x884C;&#x7684;&#x4F5C;&#x7528;&#x5C31;&#x662F;&#x5224;&#x65AD;x1&#x662F;&#x5426;&#x2264;0, &#x7ECF;&#x8FC7;&#x5206;&#x6790;&#x4E0D;&#x96BE;&#x5F97;&#x51FA;&#x8FD9;&#x51E0;&#x53E5;&#x6C47;&#x7F16;&#x4EE3;&#x7801;&#x5BF9;&#x5E94;&#x7684;C&#x8BED;&#x8A00;&#x4EE3;&#x7801;, &#x6CE8;&#x610F;:eax&#x5BC4;&#x5B58;&#x5668;&#x5B58;&#x50A8;&#x7684;&#x662F;&#x51FD;&#x6570;&#x7684;&#x8FD4;&#x56DE;&#x503C;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#x590D;&#x5236;&#x4EE3;&#x7801;if (x1 &lt;= 0) return 0;</span><br></pre></td></tr></table></figure>

<p>&#x63A5;&#x4E0B;&#x6765;&#x7B2C;9&#x884C;&#x5C06;eax&#x5BC4;&#x5B58;&#x5668;&#x8D4B;&#x503C;&#x4E3A;x2, &#x7136;&#x540E;&#x53C8;&#x5BF9;x1&#x505A;&#x4E86;&#x4E00;&#x4E2A;&#x5224;&#x65AD;, &#x5982;&#x679C;&#x7B49;&#x4E8E;0, &#x90A3;&#x4E48;&#x8DF3;&#x8F6C;&#x5230;&#x7B2C;27&#x884C;&#x6267;&#x884C;, &#x4E8E;&#x662F;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x636E;&#x6B64;&#x9006;&#x5411;&#x51FA;&#x4E0B;&#x9762;&#x7684;C&#x8BED;&#x8A00;&#x4EE3;&#x7801;:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#x590D;&#x5236;&#x4EE3;&#x7801;if (x1 == 1) return x2;</span><br></pre></td></tr></table></figure>

<p>&#x63A5;&#x4E0B;&#x6765;&#x8C03;&#x7528;<code>func4(x1 - 1, x2)</code>, &#x7531;18&#x884C;&#x53EF;&#x77E5;&#x7136;&#x540E;&#x5C06;&#x8FD4;&#x56DE;&#x503C;&#x52A0;&#x4E0A;x2&#x8D4B;&#x503C;&#x7ED9;&#x4E86;esi</p>
<p>19~21&#x884C;&#x53C8;&#x5728;&#x4E3A;&#x8C03;&#x7528;func4&#x51FD;&#x6570;&#x51C6;&#x5907;&#x53C2;&#x6570;, &#x7A0D;&#x52A0;&#x5206;&#x6790;&#x53EF;&#x4EE5;&#x77E5;&#x9053;&#x63A5;&#x4E0B;&#x6765;&#x8C03;&#x7528;&#x7684;&#x662F;<code>func4(x1 -2, x2)</code></p>
<p>&#x6700;&#x540E;&#x7531;24&#x884C;&#x53EF;&#x77E5;, &#x5C06;&#x7B2C;&#x4E8C;&#x6B21;&#x8C03;&#x7528;func4&#x7684;&#x8FD4;&#x56DE;&#x503C;&#x52A0;&#x4E0A;esi&#x7684;&#x503C;&#x5F97;&#x5230;&#x6700;&#x7EC8;&#x7684;&#x8FD4;&#x56DE;&#x503C;, &#x4E8E;&#x662F;&#x603B;&#x7684;&#x9006;&#x5411;&#x7A0B;&#x5E8F;&#x4EE3;&#x7801;&#x5982;&#x4E0B;&#x6240;&#x793A;:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&#x590D;&#x5236;&#x4EE3;&#x7801;int func(int x1, int x2) {</span><br><span class="line">    if (x1 &lt;= 0) return 0;</span><br><span class="line">    if (x1 == 1) return x2;</span><br><span class="line"></span><br><span class="line">    return func(x1 - 1, x2) + x1 + func(x1 - 2, x2);</span><br><span class="line">}</span><br></pre></td></tr></table></figure>

<p>&#x975E;&#x5E38;&#x7684;&#x4F18;&#x96C5;.</p>
<p>&#x5F53;&#x7136;&#x4E86;, &#x5982;&#x679C;&#x4F60;&#x5BF9;&#x4E0A;&#x9762;&#x7684;&#x6709;&#x4E9B;&#x96BE;&#x4EE5;&#x7406;&#x89E3;, &#x90A3;&#x4E48;&#x6211;&#x53EF;&#x4EE5;&#x7ED9;&#x51FA;&#x53E6;&#x4E00;&#x4EFD;&#x6BD4;&#x8F83;&#x7B28;, &#x4F46;&#x5BB9;&#x6613;&#x7406;&#x89E3;&#x7684;&#x4EE3;&#x7801;, &#x6211;&#x4EEC;&#x6CE8;&#x610F;&#x5230;, &#x5728;&#x8C03;&#x7528;&#x7684;&#x8FC7;&#x7A0B;&#x4E2D;eax&#x5BC4;&#x5B58;&#x5668;&#x7684;&#x503C;&#x662F;&#x6CA1;&#x6709;&#x4FDD;&#x5B58;&#x7684;, &#x6240;&#x4EE5;, &#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x628A;&#x5B83;&#x770B;&#x505A;&#x5168;&#x5C40;&#x53D8;&#x91CF;, &#x4EE4;&#x5B83;&#x4E3A;&#x53D8;&#x91CF;eax, &#x4E8E;&#x662F;&#x6709;&#x4E0B;&#x9762;&#x7684;&#x7A0B;&#x5E8F;, &#x5B8C;&#x5168;&#x5BF9;&#x5E94;&#x6C47;&#x7F16;&#x8BED;&#x53E5;&#x7684;&#x4E11;&#x964B;&#x7684;C&#x7A0B;&#x5E8F;:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">&#x590D;&#x5236;&#x4EE3;&#x7801;int eax;</span><br><span class="line"></span><br><span class="line">void func(int x1, int x2) {</span><br><span class="line">    if (x1 &lt;= 0) {</span><br><span class="line">        eax = 0;</span><br><span class="line">        return;</span><br><span class="line">    }</span><br><span class="line">   </span><br><span class="line">    eax = x2;</span><br><span class="line">    if (x1 == 1) return;</span><br><span class="line">    eax = x1 - 1;</span><br><span class="line">    func(eax, x2);</span><br><span class="line">    int temp = x2 + eax;</span><br><span class="line">    x1 -= 2;</span><br><span class="line">    func(x1, x2);</span><br><span class="line">    eax += temp;</span><br><span class="line">    return;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line">int main() {</span><br><span class="line">    printf(&quot;%d&quot;, eax);</span><br><span class="line">}</span><br></pre></td></tr></table></figure>

<p>&#x5982;&#x679C;&#x4F60;&#x4ED4;&#x7EC6;&#x5BF9;&#x6BD4;&#x7684;&#x8BDD;, &#x53EF;&#x4EE5;&#x770B;&#x51FA;&#x8FD9;&#x4E2A;&#x7A0B;&#x5E8F;&#x7684;&#x6BCF;&#x4E00;&#x6761;&#x8BED;&#x53E5;&#x7684;&#x884C;&#x4E3A;&#x90FD;&#x662F;&#x548C;&#x6C47;&#x7F16;&#x4E00;&#x4E00;&#x5BF9;&#x5E94;&#x7684;, &#x53EF;&#x80FD;&#x66F4;&#x5BB9;&#x6613;&#x7406;&#x89E3;&#x4E00;&#x70B9;.</p>
<p>&#x6700;&#x540E;&#x7684;&#x7ED3;&#x679C;&#x662F;264 3</p>
<p>&#x4E0B;&#x9762;&#x8BB2;&#x4E00;&#x4E0B;&#x6211;&#x5728;&#x4E00;&#x5F00;&#x59CB;&#x88AB;scanf&#x5751;&#x5230;&#x65F6;&#x662F;&#x5982;&#x4F55;&#x8FDB;&#x884C;&#x8C03;&#x8BD5;&#x7684;.</p>
<p>&#x9996;&#x5148;gdb&#x8FDB;&#x5165;&#x8C03;&#x8BD5;&#x754C;&#x9762;, &#x7136;&#x540E;&#x5728;explode_bomb&#x5904;&#x6253;&#x4E00;&#x4E2A;&#x65AD;&#x70B9;, phase_4&#x5904;&#x4E5F;&#x6253;&#x4E00;&#x4E2A;&#x65AD;&#x70B9;, &#x7136;&#x540E;&#x5355;&#x6B65;&#x8C03;&#x8BD5;, &#x7136;&#x540E;&#x89C2;&#x5BDF;&#x5BC4;&#x5B58;&#x5668;&#x7684;&#x503C;, &#x4EE5;&#x53CA;&#x662F;&#x5728;&#x54EA;&#x91CC;&#x70B8;&#x7684;, &#x597D;&#x5427;, &#x6211;&#x5728;&#x8BF4;&#x5E9F;&#x8BDD;, &#x4E0D;&#x8FD9;&#x4E48;&#x8C03;&#x8BD5;&#x8FD8;&#x600E;&#x4E48;&#x8C03;&#x8BD5;, gdb&#x76F8;&#x5173;&#x547D;&#x4EE4;&#x76F4;&#x63A5;&#x770B;&#x6587;&#x6863;&#x5C31;&#x884C;, &#x4E0D;&#x7528;&#x80CC;.</p>
<h4 id="&#x9636;&#x6BB5;&#x4E94;"><a href="#&#x9636;&#x6BB5;&#x4E94;" class="headerlink" title="&#x9636;&#x6BB5;&#x4E94;"></a>&#x9636;&#x6BB5;&#x4E94;</h4><p>&#x4F60;&#x53EF;&#x80FD;&#x6CE8;&#x610F;&#x5230;&#x4E86;, &#x524D;&#x9762;&#x7684;&#x7A0B;&#x5E8F;&#x6211;&#x90FD;&#x6CA1;&#x6709;&#x4EFB;&#x4F55;&#x7684;&#x6CE8;&#x91CA;, &#x56E0;&#x4E3A;&#x786E;&#x5B9E;&#x4E5F;&#x4E0D;&#x9700;&#x8981;&#x6CE8;&#x91CA;, &#x4F46;&#x662F;&#x4ECE;&#x9636;&#x6BB5;&#x4E94;&#x5F00;&#x59CB;, &#x6211;&#x5F00;&#x59CB;&#x5199;&#x6CE8;&#x91CA;&#x4E86;, &#x4E0D;&#x7136;&#x81EA;&#x5DF1;&#x90FD;&#x4E0D;&#x77E5;&#x9053;&#x81EA;&#x5DF1;&#x5728;&#x770B;&#x4EC0;&#x4E48;</p>
<p>&#x4E0D;&#x8FC7;&#x9636;&#x6BB5;&#x4E94;&#x96BE;&#x5EA6;&#x8FD8;&#x597D;, &#x6211;&#x4E0D;&#x5230;&#x4E00;&#x4E2A;&#x5C0F;&#x65F6;&#x5C31;&#x505A;&#x51FA;&#x6765;&#x4E86;.</p>
<p>&#x5148;&#x4E0A;&#x9636;&#x6BB5;&#x4E94;&#x7684;&#x6E90;&#x4EE3;&#x7801;:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">&#x590D;&#x5236;&#x4EE3;&#x7801;08048d15 &lt;phase_5&gt;:</span><br><span class="line"> 8048d15:	53                   	push   %ebx</span><br><span class="line"> 8048d16:	83 ec 14             	sub    $0x14,%esp</span><br><span class="line"> 8048d19:	8b 5c 24 1c          	mov    0x1c(%esp),%ebx</span><br><span class="line"> 8048d1d:	53                   	push   %ebx</span><br><span class="line"> 8048d1e:	e8 60 02 00 00       	call   8048f83 &lt;string_length&gt;</span><br><span class="line"> 8048d23:	83 c4 10             	add    $0x10,%esp</span><br><span class="line"> 8048d26:	83 f8 06             	cmp    $0x6,%eax</span><br><span class="line"> 8048d29:	74 05                	je     8048d30 &lt;phase_5+0x1b&gt;</span><br><span class="line"> 8048d2b:	e8 69 03 00 00       	call   8049099 &lt;explode_bomb&gt;</span><br><span class="line"> 8048d30:	89 d8                	mov    %ebx,%eax;eax&#x6307;&#x5411;&#x4E86;&#x5B57;&#x7B26;&#x4E32;&#x7684;&#x5F00;&#x59CB;</span><br><span class="line"> 8048d32:	83 c3 06             	add    $0x6,%ebx;ebx&#x73B0;&#x5728;&#x6307;&#x5411;&#x4E86;&#x5B57;&#x7B26;&#x4E32;&#x7684;&#x7ED3;&#x5C3E;&#x7684;&#x540E;&#x4E00;&#x4E2A;,&#x8C61;&#x5F81;&#x7740;&#x7ED3;&#x675F;&#x6807;&#x5FD7;</span><br><span class="line"> 8048d35:	b9 00 00 00 00       	mov    $0x0,%ecx</span><br><span class="line"> 8048d3a:	0f b6 10      loop:  	movzbl (%eax),%edx;&#x53D6;&#x51FA;&#x4E86;eax&#x6307;&#x5411;&#x7684;&#x90A3;&#x4E2A;&#x5B57;&#x7B26;,&#x653E;&#x5230;&#x4E86;edx&#x4E2D;,&#x800C;&#x4E14;&#x662F;0&#x6269;&#x5C55;</span><br><span class="line"> 8048d3d:	83 e2 0f             	and    $0xf,%edx;&#x5C06;&#x4F4E;&#x56DB;&#x4F4D;&#x4FDD;&#x7559;,&#x9AD8;&#x56DB;&#x4F4D;&#x6E05;&#x96F6;&#x4E86;</span><br><span class="line"> 8048d40:	03 0c 95 20 a0 04 08 	add    0x804a020(,%edx,4),%ecx;&#x8FD9;&#x4E2A;&#x6709;&#x70B9;switch&#x7684;&#x611F;&#x89C9;</span><br><span class="line"> 8048d47:	83 c0 01             	add    $0x1,%eax</span><br><span class="line"> 8048d4a:	39 d8                	cmp    %ebx,%eax</span><br><span class="line"> 8048d4c:	75 ec                	jne    8048d3a &lt;phase_5+0x25&gt;</span><br><span class="line"> 8048d4e:	83 f9 2c             	cmp    $0x2c,%ecx;&#x9700;&#x8981;ecx&#x52A0;6&#x6B21;&#x7B49;&#x4E8E;0x2c 10 + 10 + 10 + 10 + 2 + 2</span><br><span class="line"> 8048d51:	74 05                	je     8048d58 &lt;phase_5+0x43&gt;</span><br><span class="line"> 8048d53:	e8 41 03 00 00       	call   8049099 &lt;explode_bomb&gt;</span><br><span class="line"> 8048d58:	83 c4 08             	add    $0x8,%esp</span><br><span class="line"> 8048d5b:	5b                   	pop    %ebx</span><br><span class="line"> 8048d5c:	c3                   	ret</span><br></pre></td></tr></table></figure>

<p>&#x8FD9;&#x4E00;&#x9898;&#x8003;&#x5BDF;&#x7684;&#x662F;&#x6307;&#x9488;, &#x4E0D;&#x505A;&#x70B9;&#x6CE8;&#x91CA;&#x6211;&#x90FD;&#x4E0D;&#x77E5;&#x9053;&#x6211;&#x81EA;&#x5DF1;&#x6307;&#x5230;&#x54EA;&#x91CC;&#x53BB;&#x4E86;.</p>
<p>&#x9996;&#x5148;&#x770B;&#x5230;&#x7B2C;6&#x884C;, &#x8FD9;&#x4E2A;&#x51FD;&#x6570;&#x540D;&#x4E00;&#x770B;&#x5C31;&#x77E5;&#x9053;&#x662F;&#x8BA1;&#x7B97;&#x5B57;&#x7B26;&#x4E32;&#x7684;&#x957F;&#x5EA6;, &#x800C;&#x8FD9;&#x4E2A;&#x5B57;&#x7B26;&#x4E32;&#x80AF;&#x5B9A;&#x5C31;&#x662F;&#x6211;&#x4EEC;&#x8F93;&#x7684;&#x5B57;&#x7B26;&#x4E32;, &#x4E0D;&#x8981;&#x95EE;&#x6211;&#x4E3A;&#x4EC0;&#x4E48;, &#x7537;&#x4EBA;&#x7684;&#x76F4;&#x89C9;, &#x5C31;&#x662F;&#x8FD9;&#x4E48;&#x51C6;.</p>
<p>&#x7B2C;8&#x884C;&#x4E2D;, &#x6BD4;&#x8F83;&#x4E86;eax&#x4E0E;6&#x7684;&#x5927;&#x5C0F;,eax&#x7684;&#x503C;&#x5C31;&#x662F;string_length&#x51FD;&#x6570;&#x7684;&#x8FD4;&#x56DE;&#x503C;, &#x4E0D;&#x4FE1;&#x7684;&#x8BDD;&#x4F60;&#x53EF;&#x4EE5;&#x81EA;&#x5DF1;&#x8C03;&#x8BD5;&#x770B;&#x770B;. &#x6240;&#x4EE5;&#x4ECE;&#x8FD9;&#x91CC;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x83B7;&#x5F97;&#x4E00;&#x4E2A;&#x91CD;&#x8981;&#x4FE1;&#x606F;, &#x8FD9;&#x4E2A;&#x5B57;&#x7B26;&#x4E32;&#x7684;&#x957F;&#x5EA6;&#x662F;6</p>
<p>&#x5BF9;&#x4E86;, &#x7B2C;5&#x884C;&#x4E5F;&#x6709;&#x91CD;&#x8981;&#x4FE1;&#x606F;, &#x8FD9;&#x4E2A;push&#x8BED;&#x53E5;&#x5F88;&#x663E;&#x7136;&#x662F;&#x5728;&#x4E3A;&#x8C03;&#x7528;string_length&#x51FD;&#x6570;&#x51C6;&#x5907;&#x53C2;&#x6570;, &#x6240;&#x4EE5;ebx&#x5BC4;&#x5B58;&#x5668;&#x4E2D;&#x5B58;&#x50A8;&#x7684;&#x5C31;&#x662F;&#x6307;&#x5411;&#x5B57;&#x7B26;&#x4E32;&#x9996;&#x5B57;&#x7B26;&#x7684;&#x6307;&#x9488;, &#x6709;&#x5185;&#x5473;&#x4E86;!</p>
<p>&#x7136;&#x540E;&#x7B2C;11&#x884C;&#x7684;&#x8D4B;&#x503C;&#x8BA9;eax&#x4E5F;&#x6307;&#x5411;&#x4E86;&#x5B57;&#x7B26;&#x4E32;&#x9996;, &#x7531;&#x4E8E;&#x5B57;&#x7B26;&#x4E32;&#x957F;&#x5EA6;&#x4E3A;6, &#x6240;&#x4EE5;&#x7531;12&#x884C;&#x53EF;&#x77E5;, &#x8FD9;&#x91CC;&#x6307;&#x5411;&#x4E86;&#x4E32;&#x5C3E;&#x7684;&#x540E;&#x4E00;&#x4E2A;, &#x5F88;&#x663E;&#x7136;&#x662F;&#x6211;&#x4EEC;&#x5E38;&#x7528;&#x7684;<code>str[i] != 0</code>&#x7684;&#x7ED3;&#x675F;&#x6807;&#x5FD7;</p>
<p>14&#x884C;15&#x884C;&#x6CE8;&#x91CA;&#x8BF4;&#x7684;&#x5F88;&#x6E05;&#x695A;&#x4E86;, &#x5C31;&#x662F;&#x5BF9;&#x5B57;&#x7B26;&#x505A;&#x4E86;&#x4E00;&#x4E9B;&#x5904;&#x7406;</p>
<p>&#x7B2C;16&#x884C;&#x5C31;&#x662F;&#x5C06;ecx&#x52A0;&#x4E0A;&#x5BF9;&#x5E94;&#x5730;&#x5740;&#x5904;&#x7684;&#x503C;, &#x8FD9;&#x91CC;&#x53C8;&#x51FA;&#x73B0;&#x4E86;&#x524D;&#x9762;&#x7684;&#x90A3;&#x4E2A;&#x8DF3;&#x8F6C;&#x8868;&#x6709;&#x6728;&#x6709;, &#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x5728;gdb&#x4E2D;&#x770B;&#x4E00;&#x770B;&#x90A3;&#x4E2A;&#x5730;&#x5740;&#x5904;&#x7684;&#x503C;&#x662F;&#x5565;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">&#x590D;&#x5236;&#x4EE3;&#x7801;(gdb) print (int)*(0x804a020)</span><br><span class="line">$2 = 2</span><br><span class="line">(gdb) print (int)*(0x804a024)</span><br><span class="line">$3 = 10</span><br><span class="line">(gdb) print (int)*(0x804a028)</span><br><span class="line">$4 = 6</span><br><span class="line">(gdb) print (int)*(0x804a02c)</span><br><span class="line">$5 = 1</span><br><span class="line">(gdb) print (int)*(0x804a030)</span><br><span class="line">$6 = 12</span><br><span class="line">(gdb) print (int)*(0x804a034)</span><br><span class="line">$7 = 16</span><br><span class="line">(gdb) print (int)*(0x804a038)</span><br><span class="line">$8 = 9</span><br><span class="line">(gdb) print (int)*(0x804a03c)</span><br><span class="line">$9 = 3</span><br><span class="line">(gdb) ...</span><br></pre></td></tr></table></figure>

<p>17~19&#x884C;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x77E5;&#x9053;&#x4E00;&#x5171;&#x8981;&#x52A0;6&#x6B21;</p>
<p>20&#x884C;&#x4E2D;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x770B;&#x51FA;&#x52A0;&#x4E86;6&#x6B21;&#x540E;&#x7684;&#x503C;&#x8981;&#x7B49;&#x4E8E;0x2c</p>
<p>&#x6240;&#x4EE5;&#x4E00;&#x4E2A;&#x53EF;&#x80FD;&#x7684;&#x7ED3;&#x679C;&#x5C31;&#x662F;10 + 10 + 10 + 10 + 2 + 2</p>
<p>10&#x4EE3;&#x8868;&#x5BF9;&#x5E94;&#x7684;&#x5B57;&#x7B26;&#x4F4E;&#x56DB;&#x4F4D;&#x4E3A;1, 2&#x4EE3;&#x8868;&#x4F4E;&#x56DB;&#x4F4D;&#x7684;&#x503C;&#x4E3A;0, &#x8FD9;&#x4E2A;&#x662F;&#x7531;&#x8DF3;&#x8F6C;&#x8868;&#x5730;&#x5740;&#x4EE5;&#x53CA;&#x5BF9;&#x5E94;&#x503C;&#x7684;&#x5173;&#x7CFB;&#x5F97;&#x5230;&#x7684;,&#x6240;&#x4EE5;&#x4E00;&#x4E2A;&#x53EF;&#x80FD;&#x7684;&#x7B54;&#x6848;&#x662F;111100</p>
<p>&#x6700;&#x540E;, &#x5230;&#x4E86;&#x8FD9;&#x6B21;&#x5B9E;&#x9A8C;&#x4E2D;&#x6700;&#x96BE;&#x7684;&#x4E00;&#x9898;, &#x6211;&#x5199;&#x4E86;&#x4E0D;&#x5C11;&#x6CE8;&#x91CA;&#x624D;&#x770B;&#x61C2;&#x8FD9;&#x4E00;&#x9898;, &#x8FD9;&#x4E00;&#x9898;&#x5927;&#x6982;&#x82B1;&#x4E86;&#x6211;&#x4E24;&#x4E2A;&#x591A;&#x5C0F;&#x65F6;</p>
<h4 id="&#x9636;&#x6BB5;&#x516D;"><a href="#&#x9636;&#x6BB5;&#x516D;" class="headerlink" title="&#x9636;&#x6BB5;&#x516D;"></a>&#x9636;&#x6BB5;&#x516D;</h4><p>&#x8FD9;&#x4E00;&#x9898;&#x7684;&#x4EE3;&#x7801;&#x5DE8;&#x957F;&#x65E0;&#x6BD4;, &#x5982;&#x679C;&#x4E0D;&#x662F;&#x56E0;&#x4E3A;&#x8981;&#x4EA4;&#x4F5C;&#x4E1A;, &#x6211;&#x662F;&#x4E0D;&#x4F1A;&#x53BB;&#x505A;&#x8FD9;&#x4E2A;&#x7684;QwQ</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br></pre></td><td class="code"><pre><span class="line">&#x590D;&#x5236;&#x4EE3;&#x7801;08048d5d &lt;phase_6&gt;:</span><br><span class="line"> 8048d5d:	56                   	push   %esi</span><br><span class="line"> 8048d5e:	53                   	push   %ebx</span><br><span class="line"> 8048d5f:	83 ec 4c             	sub    $0x4c,%esp</span><br><span class="line"> 8048d62:	65 a1 14 00 00 00    	mov    %gs:0x14,%eax</span><br><span class="line"> 8048d68:	89 44 24 44          	mov    %eax,0x44(%esp)</span><br><span class="line"> 8048d6c:	31 c0                	xor    %eax,%eax</span><br><span class="line"> 8048d6e:	8d 44 24 14          	lea    0x14(%esp),%eax</span><br><span class="line"> 8048d72:	50                   	push   %eax</span><br><span class="line"> 8048d73:	ff 74 24 5c          	pushl  0x5c(%esp)</span><br><span class="line"> 8048d77:	e8 42 03 00 00       	call   80490be &lt;read_six_numbers&gt;</span><br><span class="line"> 8048d7c:	83 c4 10             	add    $0x10,%esp</span><br><span class="line"> 8048d7f:	be 00 00 00 00       	mov    $0x0,%esi</span><br><span class="line"> 8048d84:	8b 44 b4 0c          	mov    0xc(%esp,%esi,4),%eax</span><br><span class="line"> 8048d88:	83 e8 01             	sub    $0x1,%eax</span><br><span class="line"> 8048d8b:	83 f8 05             	cmp    $0x5,%eax</span><br><span class="line"> 8048d8e:	76 05                	jbe    8048d95 &lt;phase_6+0x38&gt;</span><br><span class="line"> 8048d90:	e8 04 03 00 00       	call   8049099 &lt;explode_bomb&gt;</span><br><span class="line"> 8048d95:	83 c6 01             	add    $0x1,%esi;&#x8FD9;&#x91CC;&#x5C31;&#x662F;&#x9650;&#x5B9A;&#x4E86;&#x6570;&#x7684;&#x53D6;&#x503C;&#x8303;&#x56F4;</span><br><span class="line"> 8048d98:	83 fe 06             	cmp    $0x6,%esi</span><br><span class="line"> 8048d9b:	74 1b                	je     8048db8 &lt;phase_6+0x5b&gt;</span><br><span class="line"> 8048d9d:	89 f3                	mov    %esi,%ebx</span><br><span class="line"> 8048d9f:	8b 44 9c 0c          	mov    0xc(%esp,%ebx,4),%eax</span><br><span class="line"> 8048da3:	39 44 b4 08          	cmp    %eax,0x8(%esp,%esi,4)</span><br><span class="line"> 8048da7:	75 05                	jne    8048dae &lt;phase_6+0x51&gt;</span><br><span class="line"> 8048da9:	e8 eb 02 00 00       	call   8049099 &lt;explode_bomb&gt;</span><br><span class="line"> 8048dae:	83 c3 01             	add    $0x1,%ebx;&#x8FD9;&#x91CC;&#x9650;&#x5B9A;&#x4E86;&#x6570;&#x5B57;&#x4E24;&#x4E24;&#x4E0D;&#x80FD;&#x76F8;&#x7B49;</span><br><span class="line"> 8048db1:	83 fb 05             	cmp    $0x5,%ebx</span><br><span class="line"> 8048db4:	7e e9                	jle    8048d9f &lt;phase_6+0x42&gt;</span><br><span class="line"> 8048db6:	eb cc                	jmp    8048d84 &lt;phase_6+0x27&gt;</span><br><span class="line"> 8048db8:	8d 44 24 0c          	lea    0xc(%esp),%eax;&#x6307;&#x5411;&#x7B2C;1&#x4E2A;&#x6570;</span><br><span class="line"> 8048dbc:	8d 5c 24 24          	lea    0x24(%esp),%ebx;&#x6307;&#x5411;&#x7B2C;6&#x4E2A;&#x6570;&#x7684;&#x540E;&#x4E00;&#x4E2A;,&#x4E5F;&#x5C31;&#x662F;end&#x6807;&#x5FD7;</span><br><span class="line"> 8048dc0:	b9 07 00 00 00       	mov    $0x7,%ecx</span><br><span class="line"> 8048dc5:	89 ca                	mov    %ecx,%edx;an = 7 - an, &#x540E;&#x9762;&#x8BB0;&#x5F97;&#x8FD8;&#x8981;&#x518D;&#x53D8;&#x56DE;&#x6765;</span><br><span class="line"> 8048dc7:	2b 10                	sub    (%eax),%edx</span><br><span class="line"> 8048dc9:	89 10                	mov    %edx,(%eax)</span><br><span class="line"> 8048dcb:	83 c0 04             	add    $0x4,%eax;&#x6307;&#x5411;&#x4E0B;&#x4E00;&#x4E2A;</span><br><span class="line"> 8048dce:	39 c3                	cmp    %eax,%ebx</span><br><span class="line"> 8048dd0:	75 f3                	jne    8048dc5 &lt;phase_6+0x68&gt;;;</span><br><span class="line">8048dd2:	bb 00 00 00 00       	mov    $0x0,%ebx</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">8048dd7:	eb 16                	jmp    8048def &lt;phase_6+0x92&gt;</span><br><span class="line">8048dd9:	8b 52 08             	mov    0x8(%edx),%edx;&#x5927;&#x4E8E;1&#x8DF3;&#x5230;&#x8FD9;&#x91CC;, &#x8FD9;&#x91CC;&#x76EE;&#x6D4B;&#x662F;&#x94FE;&#x8868;&#x7684; p = p -&gt; next&#x64CD;&#x4F5C;</span><br><span class="line">8048ddc:	83 c0 01             	add    $0x1,%eax</span><br><span class="line">8048ddf:	39 c8                	cmp    %ecx,%eax</span><br><span class="line">8048de1:	75 f6                	jne    8048dd9 &lt;phase_6+0x7c&gt;</span><br><span class="line">8048de3:	89 54 b4 24          	mov    %edx,0x24(%esp,%esi,4);&#x5C0F;&#x4E8E;&#x7B49;&#x4E8E;1&#x8DF3;&#x5230;&#x8FD9;&#x91CC;,&#x8FD9;&#x91CC;&#x7684;&#x64CD;&#x4F5C;&#x5C31;&#x662F;&#x628A;&#x94FE;&#x8868;&#x6307;&#x9488;&#x4F9D;&#x6B21;&#x653E;&#x5230;&#x8FD9;6&#x4E2A;&#x6570;&#x7684;&#x540E;&#x9762;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">8048de7:	83 c3 01             	add    $0x1,%ebx</span><br><span class="line">8048dea:	83 fb 06             	cmp    $0x6,%ebx</span><br><span class="line">8048ded:	74 17                	je     8048e06 &lt;phase_6+0xa9&gt;;&#x8FD9;&#x91CC;&#x7684;&#x5904;&#x7406;&#x5B8C;&#x540E;,&#x8FD9;6&#x4E2A;&#x6570;&#x540E;&#x9762;&#x7684;&#x94FE;&#x8868;&#x6307;&#x9488;&#x7684;&#x5927;&#x5C0F;1&#x6392;&#x5E8F;&#x5C31;&#x5BF9;&#x5E94;&#x7740;&#x8FD9;6&#x4E2A;&#x6570;&#x7684;&#x6392;&#x5E8F;</span><br><span class="line">`8048def:	89 de                	mov    %ebx,%esi</span><br><span class="line">8048df1:	8b 4c 9c 0c          	mov    0xc(%esp,%ebx,4),%ecx;&#x4ECE;&#x8F93;&#x5165;&#x540E;&#x5904;&#x7406;&#x5B8C;&#x7684;&#x7B2C;&#x4E00;&#x4E2A;&#x6570;&#x5F00;&#x59CB;&#x904D;&#x5386;</span><br><span class="line">8048df5:	b8 01 00 00 00       	mov    $0x1,%eax</span><br><span class="line">8048dfa:	ba 3c c1 04 08       	mov    $0x804c13c,%edx;&#x8FD9;&#x4E2A;&#x662F;&#x94FE;&#x8868;&#x7684;&#x9996;&#x5730;&#x5740;</span><br><span class="line">8048dff:	83 f9 01             	cmp    $0x1,%ecx;&#x8FD9;&#x4E2A;&#x6570;&#x548C;1&#x8FDB;&#x884C;&#x6BD4;&#x8F83;</span><br><span class="line">8048e02:	7f d5                	jg     8048dd9 &lt;phase_6+0x7c&gt;;&#x5927;&#x4E8E;&#x8DF3;&#x8F6C;</span><br><span class="line">8048e04:	eb dd                	jmp    8048de3 &lt;phase_6+0x86&gt;;&#x5C0F;&#x4E8E;&#x6216;&#x8005;&#x7B49;&#x4E8E;&#x8DF3;&#x8F6C;</span><br><span class="line">8048e06:	8b 5c 24 24          	mov    0x24(%esp),%ebx;&#x8FD9;&#x4E2A;&#x503C;&#x5C31;&#x662F;&#x8FD9;6&#x4E2A;&#x6570;&#x540E;&#x9762;&#x7684;&#x7B2C;&#x4E00;&#x4E2A;&#x94FE;&#x8868;&#x6307;&#x9488;&#x7684;&#x503C;</span><br><span class="line">8048e0a:	8d 44 24 24          	lea    0x24(%esp),%eax;&#x6307;&#x5411;&#x4E86;&#x540E;&#x9762;&#x7B2C;&#x4E00;&#x4E2A;&#x94FE;&#x8868;&#x6307;&#x9488;</span><br><span class="line">8048e0e:	8d 74 24 38          	lea    0x38(%esp),%esi;&#x6307;&#x5411;&#x6700;&#x540E;&#x4E00;&#x4E2A;&#x94FE;&#x8868;&#x6307;&#x9488;</span><br><span class="line">8048e12:	89 d9                	mov    %ebx,%ecx</span><br><span class="line">8048e14:	8b 50 04             	mov    0x4(%eax),%edx;&#x6307;&#x5411;&#x6808;&#x4E0A;&#x7B2C;&#x4E8C;&#x4E2A;&#x94FE;&#x8868;&#x6307;&#x9488;</span><br><span class="line">8048e17:	89 51 08             	mov    %edx,0x8(%ecx);&#x8BA9;&#x6808;&#x4E0A;&#x7B2C;&#x4E00;&#x4E2A;&#x94FE;&#x8868;&#x6307;&#x9488;&#x6307;&#x5411;&#x6808;&#x4E0A;&#x7B2C;&#x4E8C;&#x4E2A;&#x94FE;&#x8868;&#x6307;&#x9488;</span><br><span class="line">8048e1a:	83 c0 04             	add    $0x4,%eax</span><br><span class="line">8048e1d:	89 d1                	mov    %edx,%ecx</span><br><span class="line">8048e1f:	39 c6                	cmp    %eax,%esi</span><br><span class="line">8048e21:	75 f1                	jne    8048e14 &lt;phase_6+0xb7&gt;;&#x8FD9;&#x4E2A;&#x5FAA;&#x73AF;&#x5C31;&#x662F;&#x8BA9;&#x6808;&#x4E0A;&#x8FD9;6&#x4E2A;&#x94FE;&#x8868;&#x8282;&#x70B9;&#x6309;&#x6808;&#x4E0A;&#x9762;&#x7684;&#x987A;&#x5E8F;&#x5EFA;&#x7ACB;&#x8FDE;&#x63A5;&#x5173;&#x7CFB;</span><br><span class="line">8048e23:	c7 42 08 00 00 00 00 	movl   $0x0,0x8(%edx);&#x6700;&#x540E;&#x4E00;&#x4E2A;&#x6307;&#x5411;null</span><br><span class="line">8048e2a:	be 05 00 00 00       	mov    $0x5,%esi</span><br><span class="line">8048e2f:	8b 43 08             	mov    0x8(%ebx),%eax</span><br><span class="line">8048e32:	8b 00                	mov    (%eax),%eax;&#x73B0;&#x5728;eax&#x6307;&#x5411;&#x4E86;&#x7B2C;&#x4E8C;&#x4E2A;&#x8282;&#x70B9;&#x4E86;</span><br><span class="line">8048e34:	39 03                	cmp    %eax,(%ebx);&#x6BD4;&#x8F83;&#x8FD9;&#x4E24;&#x4E2A;&#x8282;&#x70B9;&#x7684;&#x503C;?</span><br><span class="line">8048e36:	7d 05                	jge    8048e3d &lt;phase_6+0xe0&gt;;&#x524D;&#x4E00;&#x4E2A;&#x9700;&#x8981;&#x5927;&#x4E8E;&#x6216;&#x8005;&#x7B49;&#x4E8E;&#x540E;&#x9762;&#x4E00;&#x4E2A;</span><br><span class="line">8048e38:	e8 5c 02 00 00       	call   8049099 &lt;explode_bomb&gt;</span><br><span class="line">8048e3d:	8b 5b 08             	mov    0x8(%ebx),%ebx</span><br><span class="line">8048e40:	83 ee 01             	sub    $0x1,%esi</span><br><span class="line">8048e43:	75 ea                	jne    8048e2f &lt;phase_6+0xd2&gt;</span><br><span class="line">8048e45:	8b 44 24 3c          	mov    0x3c(%esp),%eax</span><br><span class="line">8048e49:	65 33 05 14 00 00 00 	xor    %gs:0x14,%eax</span><br><span class="line">8048e50:	74 05                	je     8048e57 &lt;phase_6+0xfa&gt;</span><br><span class="line">8048e52:	e8 39 f9 ff ff       	call   8048790 &lt;__stack_chk_fail@plt&gt;</span><br><span class="line">8048e57:	83 c4 44             	add    $0x44,%esp</span><br><span class="line">8048e5a:	5b                   	pop    %ebx</span><br><span class="line">8048e5b:	5e                   	pop    %esi</span><br><span class="line">8048e5c:	c3                   	ret`</span><br></pre></td></tr></table></figure>

<p>&#x5199;&#x7684;&#x6709;&#x70B9;&#x7D2F;&#x4E86;, &#x8FD9;&#x4E2A;&#x4E0D;&#x592A;&#x60F3;&#x7EC6;&#x8BB2;&#x4E86;, &#x6CE8;&#x91CA;&#x4E5F;&#x5199;&#x4E86;&#x86EE;&#x591A;&#x4E86;, &#x6CE8;&#x610F;, &#x6CE8;&#x91CA;&#x4E2D;&#x8BF4;&#x7684;&#x94FE;&#x8868;&#x6307;&#x7684;&#x662F;&#x6808;&#x4E0A;&#x9762;&#x63A5;&#x5728;&#x90A3;6&#x4E2A;&#x6570;&#x540E;&#x9762;&#x7684;&#x90E8;&#x5206;.</p>
<p>&#x4ECE;&#x7B2C;8&#x884C;&#x5F00;&#x59CB;&#x770B;&#x8D77;, &#x8FD9;&#x91CC;&#x53C8;&#x662F;&#x719F;&#x6089;&#x7684;lea&#x64CD;&#x4F5C;, &#x719F;&#x6089;&#x7684;push&#x548C;call&#x64CD;&#x4F5C;, &#x8FD9;&#x4E2A;&#x51FD;&#x6570;&#x8BFB;&#x4E86;&#x516D;&#x4E2A;&#x6570;&#x5B57;&#x5230;&#x6808;&#x4E0A;&#x7684;&#x6307;&#x5B9A;&#x5730;&#x5740;.</p>
<p>&#x540E;&#x9762;&#x7528;&#x4E86;&#x5F88;&#x591A;&#x4EE3;&#x7801;&#x5C31;&#x662F;&#x8FDB;&#x884C;&#x4E86;&#x4E24;&#x4E2A;&#x5F88;&#x65E0;&#x804A;&#x7684;&#x64CD;&#x4F5C;, &#x4E00;&#x662F;&#x9650;&#x5B9A;&#x4E86;6&#x4E2A;&#x6570;&#x7684;&#x53D6;&#x503C;&#x8303;&#x56F4;&#x5FC5;&#x987B;&#x5728;1~6, &#x4E8C;&#x662F;&#x9650;&#x5B9A;&#x4E86;6&#x4E2A;&#x6570;&#x4E92;&#x4E0D;&#x76F8;&#x540C;</p>
<p>&#x7136;&#x540E;&#x8FDB;&#x884C;&#x4E86;&#x53D8;&#x6362;&#x7684;&#x64CD;&#x4F5C;</p>
<p>56&#x884C;&#x6CE8;&#x610F;&#x5230;&#x6709;&#x4E00;&#x4E2A;&#x5730;&#x5740;&#x5E38;&#x91CF;&#x8D4B;&#x503C;&#x7684;&#x64CD;&#x4F5C;, &#x8FD9;&#x4E2A;&#x5730;&#x5740;&#x503C;&#x5C31;&#x662F;&#x94FE;&#x8868;&#x5934;&#x6240;&#x5728;&#x7684;&#x5730;&#x5740;, &#x901A;&#x8FC7;gdb&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x770B;&#x5230;&#x5982;&#x4E0B;&#x7684;&#x4FE1;&#x606F;</p>
<p><img src="https://gitee.com/songjianzaina/juejin_p7/raw/master/img/747d7c57e914a846b399e823831816e4a77d4507d703b38f09f1e28c961db6d3" alt><br>&#x6BCF;&#x4E2A;&#x8282;&#x70B9;&#x5360;12&#x4E2A;&#x5B57;&#x8282;, &#x7B2C;&#x4E00;&#x4E2A;&#x5B57;&#x8282;&#x5C31;&#x662F;&#x503C;, &#x7B2C;&#x4E8C;&#x4E2A;&#x5B57;&#x8282;&#x662F;id&#x53F7;, &#x7B2C;&#x4E09;&#x4E2A;&#x5B57;&#x8282;&#x5C31;&#x662F;&#x4E0B;&#x4E00;&#x4E2A;&#x8282;&#x70B9;&#x7684;&#x5730;&#x5740;.</p>
<p>&#x540E;&#x9762;&#x8FDB;&#x884C;&#x4E86;&#x5C06;&#x94FE;&#x8868;&#x7684;&#x8282;&#x70B9;&#x6309;&#x4E00;&#x5B9A;&#x987A;&#x5E8F;&#x653E;&#x5230;&#x6808;&#x4E0A;&#x90A3;6&#x4E2A;&#x6570;&#x540E;&#x9762;&#x7684;&#x64CD;&#x4F5C;, &#x7136;&#x540E;&#x8FD8;&#x8FDB;&#x884C;&#x4E86;&#x6808;&#x4E0A;&#x7684;&#x94FE;&#x8868;&#x7684;&#x8FDE;&#x63A5;&#x5173;&#x7CFB;&#x7684;&#x5EFA;&#x7ACB;&#x64CD;&#x4F5C;, &#x4E5F;&#x5C31;&#x662F;&#x91CD;&#x65B0;&#x89C4;&#x5B9A;&#x4E86;&#x6BCF;&#x4E00;&#x4E2A;&#x8282;&#x70B9;&#x7684;&#x4E0B;&#x4E00;&#x4E2A;&#x8282;&#x70B9;&#x662F;&#x8C01;(&#x662F;&#x5B83;&#x5728;&#x6808;&#x4E0A;&#x7684;&#x540E;&#x4E00;&#x4E2A;),&#x6700;&#x540E;&#x6709;&#x4E00;&#x4E2A;&#x91CD;&#x5927;&#x7684;&#x4FE1;&#x606F;, &#x5C31;&#x662F;&#x8FD9;6&#x4E2A;&#x8282;&#x70B9;&#x7684;&#x987A;&#x5E8F;&#x662F;&#x6309;&#x7167;&#x503C;&#x4ECE;&#x5927;&#x5230;&#x5C0F;&#x7684;,, &#x4E8E;&#x662F;&#x6211;&#x4EEC;&#x901A;&#x8FC7;&#x4E0A;&#x56FE;&#x53EF;&#x4EE5;&#x77E5;&#x9053;&#x8282;&#x70B9;&#x7684;id&#x6309;&#x7167;&#x8282;&#x70B9;&#x7684;&#x503C;&#x4ECE;&#x5927;&#x5230;&#x5C0F;&#x7684;&#x987A;&#x5E8F;&#x4E3A;6 2 4 3 1 5, &#x6700;&#x540E;&#x6267;&#x884C;an = 7 - an&#x7684;&#x8FD8;&#x539F;&#x64CD;&#x4F5C;&#x5F97;&#x5230;&#x6700;&#x7EC8;&#x7B54;&#x6848; 1 5 3 4 6 2!</p>
<p>&#x5B8C;&#x7ED3;&#x6492;&#x82B1;!!!<br><img src="https://gitee.com/songjianzaina/juejin_p7/raw/master/img/38312784584b15f16260da396c6c582737c93977fd5e0e11a9bbdccc57c2dcef" alt></p>
<p><strong>&#x672C;&#x6587;&#x8F6C;&#x8F7D;&#x81EA;:</strong> <a href="/external_links/63886ec672a7abcb247ac730d12d3d11.html" target="blank" rel="noopener">&#x6398;&#x91D1;</a></p>
<p><em><a href="https://dev.newban.cn/">&#x5F00;&#x53D1;&#x8005;&#x535A;&#x5BA2; &#x2013; &#x548C;&#x5F00;&#x53D1;&#x76F8;&#x5173;&#x7684; &#x8FD9;&#x91CC;&#x5168;&#x90FD;&#x6709;</a></em></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://dev.newban.cn../../6844904167685750798.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="开发者博客">
      <meta itemprop="description" content>
      <meta itemprop="image" content="../../images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="开发者博客 – IT技术 尽在开发者博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="../../6844904167685750798.html" itemprop="url">【译】【Google工程师】 详解 FragmentFact</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2020-05-25T08:58:08+08:00">
                2020-05-25
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="&#x524D;&#x8A00;"><a href="#&#x524D;&#x8A00;" class="headerlink" title="&#x524D;&#x8A00;"></a>&#x524D;&#x8A00;</h2><blockquote>
<ul>
<li>&#x539F;&#x6807;&#x9898;: Android Fragments: FragmentFactory</li>
<li>&#x539F;&#x6587;&#x5730;&#x5740;: <a href="/external_links/7abac9bd1438921c8136a96d3ce941d1.html" target="blank" rel="noopener">proandroiddev.com/fragmentfac&#x2026;</a></li>
<li>&#x539F;&#x6587;&#x4F5C;&#x8005;&#xFF1A;Husayn Hakeem</li>
</ul>
</blockquote>
<p>&#x5728;&#x4E4B;&#x524D;&#x7684;&#x6587;&#x7AE0; <a href="https://dev.newban.cn/6844904151508320263">[&#x8BD1;][Google&#x5DE5;&#x7A0B;&#x5E08;] &#x521A;&#x521A;&#x53D1;&#x5E03;&#x4E86; Fragment &#x7684;&#x65B0;&#x7279;&#x6027; &#x201C;Fragment &#x95F4;&#x4F20;&#x9012;&#x6570;&#x636E;&#x7684;&#x65B0;&#x65B9;&#x5F0F;&#x201D; &#x4EE5;&#x53CA;&#x6E90;&#x7801;&#x5206;&#x6790;</a> &#x4ECB;&#x7ECD;&#x4E86; Fragment 1.3.0 &#x4E2D;&#x6DFB;&#x52A0;&#x4E86;&#x51E0;&#x4E2A;&#x91CD;&#x8981;&#x7684; API&#x3002;</p>
<p>&#x7EE7;&#x7EED;&#x4E0A;&#x4E00;&#x7BC7;&#x6587;&#x7AE0;&#xFF0C;&#x4ECB;&#x7ECD;&#x4E00;&#x4E0B; FragmentFactory &#x548C; FragmentContainerView &#x4EE5;&#x53CA;&#x5982;&#x4F55;&#x548C; Koin &#x4E00;&#x8D77;&#x4F7F;&#x7528;&#xFF0C; &#x8FD9;&#x662F; Google &#x5728; Fragment 1.2.0 &#x4E0A;&#x505A;&#x7684;&#x91CD;&#x8981;&#x7684;&#x66F4;&#x65B0;&#xFF0C;&#x5F3A;&#x70C8;&#x5EFA;&#x8BAE;&#x5927;&#x5BB6;&#x53BB;&#x4F7F;&#x7528;</p>
<p><strong>&#x901A;&#x8FC7;&#x8FD9;&#x7BC7;&#x6587;&#x7AE0;&#x4F60;&#x5C06;&#x5B66;&#x4E60;&#x5230;&#x4EE5;&#x4E0B;&#x5185;&#x5BB9;&#xFF0C;&#x5C06;&#x5728;&#x8BD1;&#x8005;&#x601D;&#x8003;&#x90E8;&#x5206;&#x4F1A;&#x7ED9;&#x51FA;&#x76F8;&#x5E94;&#x7684;&#x7B54;&#x6848;</strong></p>
<ul>
<li>FragmentFactory &#x662F;&#x4EC0;&#x4E48;&#xFF1F;</li>
<li>&#x4EC0;&#x4E48;&#x60C5;&#x51B5;&#x4E0B;&#x4F7F;&#x7528; FragmentFactory&#xFF1F;</li>
<li>FragmentContainerView &#x662F;&#x4EC0;&#x4E48;&#xFF1F;</li>
<li>&#x4E3A;&#x4EC0;&#x4E48; Google &#x5F3A;&#x70C8;&#x5EFA;&#x8BAE;&#x4F7F;&#x7528; FragmentContainerView&#xFF1F;</li>
<li>Koin &#x5982;&#x4F55;&#x548C; FragmentFactory &#x4E00;&#x8D77;&#x4F7F;&#x7528;&#x4EE5;&#x53CA;&#x90E8;&#x5206;&#x6E90;&#x7801;&#x5206;&#x6790;&#xFF1F;</li>
<li>&#x5982;&#x4F55;&#x5904;&#x7406;&#x5D4C;&#x5957; Fragment?</li>
</ul>
<p>&#x8FD9;&#x7BC7;&#x6587;&#x7AE0;&#x6D89;&#x53CA;&#x5F88;&#x591A;&#x91CD;&#x8981;&#x65B0;&#x7684;&#x77E5;&#x8BC6;&#x70B9;&#xFF0C;&#x5E26;&#x7740;&#x81EA;&#x5DF1;&#x7406;&#x89E3;&#xFF0C;&#x8BF7;&#x8010;&#x5FC3;&#x8BFB;&#x4E0B;&#x53BB;&#xFF0C;&#x5E94;&#x8BE5;&#x53EF;&#x4EE5;&#x4ECE;&#x4E2D;&#x5B66;&#x5230;&#x5F88;&#x591A;&#x6280;&#x5DE7;&#x3002;</p>
<h2 id="&#x8BD1;&#x6587;"><a href="#&#x8BD1;&#x6587;" class="headerlink" title="&#x8BD1;&#x6587;"></a>&#x8BD1;&#x6587;</h2><p>&#x73B0;&#x5728;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x4F7F;&#x7528; FragmentFactory &#x6765;&#x5B8C;&#x6210; Fragment &#x6784;&#x9020;&#x51FD;&#x6570;&#x7684;&#x6CE8;&#x5165;&#xFF0C;&#x4F46;&#x662F;&#x8FD9;&#x4E0D;&#x662F;&#x5F00;&#x53D1;&#x4EBA;&#x5458;&#x5FC5;&#x987B;&#x4F7F;&#x7528;&#x7684; API, &#x5728;&#x67D0;&#x4E9B;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;&#x5B83;&#x53EF;&#x4EE5;&#x88AB;&#x8BA4;&#x4E3A;&#x662F;&#x4E00;&#x79CD;&#x5F88;&#x597D;&#x7684;&#x8BBE;&#x8BA1;&#x65B9;&#x6CD5;&#xFF0C;&#x5E2E;&#x52A9;&#x6211;&#x4EEC;&#x6D4B;&#x8BD5;&#x5E26;&#x6709;&#x5916;&#x90E8;&#x4F9D;&#x8D56;&#x9879;&#x7684; Fragment&#x3002;</p>
<p>&#x8FD9;&#x7BC7;&#x6587;&#x7AE0;&#x5C06;&#x4F1A;&#x89E3;&#x91CA;&#x4EC0;&#x4E48;&#x662F; FragmentFactory&#xFF0C;&#x4EC0;&#x4E48;&#x65F6;&#x5019;&#x4EE5;&#x53CA;&#x5982;&#x4F55;&#x4F7F;&#x7528;&#x5B83;&#xFF0C;&#x5982;&#x4F55;&#x5904;&#x7406;&#x5D4C;&#x5957; Fragment&#x3002;</p>
<h3 id="&#x4EC0;&#x4E48;&#x662F;-FragmentFactory&#xFF1F;"><a href="#&#x4EC0;&#x4E48;&#x662F;-FragmentFactory&#xFF1F;" class="headerlink" title="&#x4EC0;&#x4E48;&#x662F; FragmentFactory&#xFF1F;"></a>&#x4EC0;&#x4E48;&#x662F; FragmentFactory&#xFF1F;</h3><p>&#x4E4B;&#x524D; Fragment &#x7684;&#x5B9E;&#x4F8B;&#x90FD;&#x662F;&#x901A;&#x8FC7;&#x4F7F;&#x7528;&#x9ED8;&#x8BA4;&#x7684;&#x7A7A;&#x7684;&#x6784;&#x9020;&#x51FD;&#x6570;&#x8FDB;&#x884C;&#x5B9E;&#x4F8B;&#x5316;&#xFF0C;&#x8FD9;&#x662F;&#x56E0;&#x4E3A;&#x7CFB;&#x7EDF;&#x9700;&#x8981;&#x5728;&#x67D0;&#x4E9B;&#x60C5;&#x51B5;&#x4E0B;&#x91CD;&#x65B0;&#x521D;&#x59CB;&#x5316;&#x5B83;&#xFF0C;&#x6BD4;&#x5982;&#x914D;&#x7F6E;&#x66F4;&#x6539;&#x6216;&#x8005; App &#x7684;&#x8FDB;&#x7A0B;&#x91CD;&#x5EFA;&#xFF0C;&#x5982;&#x679C;&#x6CA1;&#x6709;&#x9ED8;&#x8BA4;&#x6784;&#x9020;&#x51FD;&#x6570;&#x7684;&#x9650;&#x5236;&#xFF0C;&#x7CFB;&#x7EDF;&#x4E0D;&#x77E5;&#x9053;&#x5982;&#x4F55;&#x91CD;&#x65B0;&#x521D;&#x59CB;&#x5316; Fragment &#x5B9E;&#x4F8B;&#x3002;</p>
<p>FragmentFactory &#x51FA;&#x73B0;&#x5C31;&#x662F;&#x4E3A;&#x4E86;&#x89E3;&#x51B3;&#x8FD9;&#x4E2A;&#x9650;&#x5236;&#xFF0C;&#x901A;&#x8FC7;&#x5411;&#x5176;&#x63D0;&#x4F9B;&#x5B9E;&#x4F8B;&#x5316; Fragment &#x6240;&#x9700;&#x7684;&#x53C2;&#x6570;/&#x4F9D;&#x8D56;&#x5173;&#x7CFB;&#xFF0C;FragmentFactory &#x53EF;&#x4EE5;&#x5E2E;&#x52A9;&#x7CFB;&#x7EDF;&#x521B;&#x5EFA; Fragment &#x5B9E;&#x4F8B;&#x3002;</p>
<h3 id="&#x5982;&#x4F55;&#x4F7F;&#x7528;-FragmentFactory&#xFF1F;"><a href="#&#x5982;&#x4F55;&#x4F7F;&#x7528;-FragmentFactory&#xFF1F;" class="headerlink" title="&#x5982;&#x4F55;&#x4F7F;&#x7528; FragmentFactory&#xFF1F;"></a>&#x5982;&#x4F55;&#x4F7F;&#x7528; FragmentFactory&#xFF1F;</h3><p>&#x5982;&#x679C;&#x4F60;&#x7684; Fragment &#x6CA1;&#x6709;&#x7A7A;&#x7684;&#x6784;&#x9020;&#x51FD;&#x6570;&#xFF0C;&#x60A8;&#x9700;&#x8981;&#x521B;&#x5EFA;&#x4E00;&#x4E2A; FragmentFactory &#x6765;&#x5904;&#x7406;&#x521D;&#x59CB;&#x5316;&#x5B83;&#xFF0C;&#x901A;&#x8FC7;&#x7EE7;&#x627F; FragmentFactory &#x5E76;&#x4E14;&#x8986;&#x76D6; <a href="/external_links/f30f481aed94de04d17c4711fd1f35de.html" target="blank" rel="noopener">FragmentFactory#instantiate()</a> &#x6765;&#x5B8C;&#x6210;&#x3002;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">kotlin&#x590D;&#x5236;&#x4EE3;&#x7801;class CustomFragmentFactory(private val dependency: Dependency) : FragmentFactory() {</span><br><span class="line">    override fun instantiate(classLoader: ClassLoader, className: String): Fragment {</span><br><span class="line">        if (className == CustomFragment::class.java.name) {</span><br><span class="line">            return CustomFragment(dependency)</span><br><span class="line">        }</span><br><span class="line">        return super.instantiate(classLoader, className)</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></table></figure>

<p>Fragment &#x662F;&#x7531; FragmentManagers &#x6765;&#x7BA1;&#x7406;&#x7684;&#xFF0C;&#x6240;&#x4EE5;&#x4E3A;&#x4E86;&#x4F7F;&#x7528; FragmentFactory &#x9700;&#x8981;&#x5173;&#x8054; FragmentManager&#xFF0C;&#x66F4;&#x5177;&#x4F53;&#x7684;&#x8BF4;&#x5B83;&#x5FC5;&#x987B;&#x5206;&#x914D;&#x7ED9;&#x5305;&#x542B; Fragment &#x7EC4;&#x4EF6;&#x7684; FragmentManager&#xFF0C;&#x5B83;&#x53EF;&#x4EE5;&#x662F; Activity &#x6216;&#x8005; Fragment&#x3002;</p>
<h3 id="&#x4EC0;&#x4E48;&#x65F6;&#x5019;-FragmentFactory-&#x548C;-FragmentManager-&#x505A;&#x5173;&#x8054;"><a href="#&#x4EC0;&#x4E48;&#x65F6;&#x5019;-FragmentFactory-&#x548C;-FragmentManager-&#x505A;&#x5173;&#x8054;" class="headerlink" title="&#x4EC0;&#x4E48;&#x65F6;&#x5019; FragmentFactory &#x548C; FragmentManager &#x505A;&#x5173;&#x8054;"></a>&#x4EC0;&#x4E48;&#x65F6;&#x5019; FragmentFactory &#x548C; FragmentManager &#x505A;&#x5173;&#x8054;</h3><p>FragmentFactory &#x8D1F;&#x8D23;&#x5728; Activity &#x548C; parent Fragment &#x521D;&#x59CB;&#x5316; Fragment&#xFF0C;&#x6240;&#x4EE5;&#x5E94;&#x8BE5;&#x5728;&#x521B;&#x5EFA; Fragment &#x4E4B;&#x524D;&#x8BBE;&#x7F6E;&#x5B83;&#x3002;</p>
<ul>
<li>&#x5728;&#x521B;&#x5EFA; component&#x2019;s View &#x4E4B;&#x524D;&#xFF1A;&#x5982;&#x679C;&#x5728; XML &#x4E2D;&#x5B9A;&#x4E49; Fragment&#xFF0C;&#x5E94;&#x8BE5;&#x4F7F;&#x7528; Fragment &#x7684; tag <code>&lt;fragment&gt;</code> &#x6216;&#x8005; FragmentContainerView&#x3002;</li>
<li>&#x5728;&#x521B;&#x5EFA; Fragment &#x4E4B;&#x524D;&#xFF1A;&#x5982;&#x679C; Fragment &#x662F;&#x52A8;&#x6001;&#x6DFB;&#x52A0;&#x7684;&#x5E94;&#x8BE5;&#x4F7F;&#x7528; FragmentTransaction&#x3002;</li>
<li>&#x5728;&#x7CFB;&#x7EDF;&#x6062;&#x590D; Fragment &#x4E4B;&#x524D;&#xFF1A;&#x5982;&#x679C;&#x662F;&#x56E0;&#x4E3A;&#x914D;&#x7F6E;&#x66F4;&#x6539;&#x6216;&#x8005; App &#x7684;&#x8FDB;&#x7A0B;&#x91CD;&#x5EFA;&#xFF0C;&#x5BFC;&#x81F4; Fragment &#x91CD;&#x5EFA;&#x3002;</li>
</ul>
<p>&#x6709;&#x4E86;&#x8FD9;&#x4E9B;&#x9650;&#x5236;&#xFF0C;&#x53EF;&#x4EE5;&#x5728; <a href="/external_links/3a8dbd058a84c7ae8a4c7b076b920e16.html" target="blank" rel="noopener">Activity#onCreate()</a> &#x548C; <a href="/external_links/fc04400770bf7076c320b4fc30275315.html" target="blank" rel="noopener">Fragment#onCreate()</a> &#x4E4B;&#x524D;&#x5173;&#x8054; FragmentFactory &#x548C; FragmentManager&#xFF0C;&#x5728;&#x8FD9;&#x4E24;&#x4E2A;&#x8C03;&#x7528;&#x5904; view &#x521B;&#x5EFA;&#x4E4B;&#x524D;&#x4F1A;&#x91CD;&#x65B0;&#x521D;&#x59CB;&#x5316; Fragment&#x3002;</p>
<p>&#x8FD9;&#x4E5F;&#x5C31;&#x610F;&#x5473;&#x7740;&#x5E94;&#x8BE5;&#x5728; super#onCreate() &#x4E4B;&#x524D;&#x5173;&#x8054; FragmentFactory &#x548C; FragmentManager&#x3002;</p>
<ul>
<li>&#x5728; Activity &#x5173;&#x8054; FragmentFactory &#x548C; FragmentManager</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">kotlin&#x590D;&#x5236;&#x4EE3;&#x7801;class HostActivity : AppCompatActivity() {</span><br><span class="line">    private val customFragmentFactory = CustomFragmentFactory(Dependency())</span><br><span class="line"></span><br><span class="line">    override fun onCreate(savedInstanceState: Bundle?) {</span><br><span class="line">        supportFragmentManager.fragmentFactory = customFragmentFactory</span><br><span class="line">        super.onCreate(savedInstanceState)</span><br><span class="line">        // ...</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></table></figure>

<ul>
<li>&#x5728; Fragment &#x5173;&#x8054; FragmentFactory &#x548C; FragmentManager</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">kotlin&#x590D;&#x5236;&#x4EE3;&#x7801;class ParentFragment : Fragment() {</span><br><span class="line">    private val customFragmentFactory = CustomFragmentFactory(Dependency())</span><br><span class="line"></span><br><span class="line">    override fun onCreate(savedInstanceState: Bundle?) {</span><br><span class="line">        childFragmentManager.fragmentFactory = customFragmentFactory</span><br><span class="line">        super.onCreate(savedInstanceState)</span><br><span class="line">        // ...</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></table></figure>

<h3 id="&#x9700;&#x8981;&#x4F7F;&#x7528;-FragmentFactory-&#x5417;&#xFF1F;"><a href="#&#x9700;&#x8981;&#x4F7F;&#x7528;-FragmentFactory-&#x5417;&#xFF1F;" class="headerlink" title="&#x9700;&#x8981;&#x4F7F;&#x7528; FragmentFactory &#x5417;&#xFF1F;"></a>&#x9700;&#x8981;&#x4F7F;&#x7528; FragmentFactory &#x5417;&#xFF1F;</h3><p>&#x5230;&#x76EE;&#x524D;&#x4E3A;&#x6B62;&#xFF0C;&#x60A8;&#x53EF;&#x80FD;&#x5DF2;&#x7ECF;&#x4F7F;&#x7528;&#x5B83;&#x4EEC;&#x7684;&#x9ED8;&#x8BA4;&#x6784;&#x9020;&#x51FD;&#x6570;&#x521B;&#x5EFA; Fragment&#xFF0C;&#x7136;&#x540E;&#x4F7F;&#x7528; Dagger &#x6216; Koin &#x8FD9;&#x6837;&#x7684;&#x5E93;&#x6CE8;&#x5165;&#x5B83;&#x4EEC;&#x9700;&#x8981;&#x7684;&#x4F9D;&#x8D56;&#x9879;&#xFF0C;&#x6216;&#x8005;&#x5728;&#x5B83;&#x4EEC;&#x88AB;&#x4F7F;&#x7528;&#x4E4B;&#x524D;&#x5728; Fragment &#x4E2D;&#x521D;&#x59CB;&#x5316;&#x5B83;&#x4EEC;&#x3002;</p>
<p>&#x5982;&#x679C;&#x4F60;&#x7684; Fragment &#x6709;&#x4E00;&#x4E2A;&#x9ED8;&#x8BA4;&#x7684;&#x7A7A;&#x6784;&#x9020;&#x51FD;&#x6570;&#xFF0C;&#x90A3;&#x4E48;&#x5C31;&#x4E0D;&#x9700;&#x8981;&#x4F7F;&#x7528; FragmentFactory&#xFF0C;&#x5982;&#x679C;&#x5728; Fragment &#x6784;&#x9020;&#x51FD;&#x6570;&#x4E2D;&#x63A5;&#x53D7;&#x53C2;&#x6570;&#xFF0C;&#x5FC5;&#x987B;&#x4F7F;&#x7528; FragmentFactory&#xFF0C;&#x5426;&#x8005;&#x4F1A;&#x629B;&#x51FA; <a href="/external_links/e459579fdf3b262a48a66d2136390fc9.html" target="blank" rel="noopener">Fragment.InstantiationException</a> &#x5F02;&#x5E38;</p>
<h3 id="&#x5982;&#x4F55;&#x540C;&#x65F6;&#x4F7F;&#x7528;-Fragment-&#x548C;-FragmentFactory&#xFF1F;"><a href="#&#x5982;&#x4F55;&#x540C;&#x65F6;&#x4F7F;&#x7528;-Fragment-&#x548C;-FragmentFactory&#xFF1F;" class="headerlink" title="&#x5982;&#x4F55;&#x540C;&#x65F6;&#x4F7F;&#x7528; Fragment &#x548C; FragmentFactory&#xFF1F;"></a>&#x5982;&#x4F55;&#x540C;&#x65F6;&#x4F7F;&#x7528; Fragment &#x548C; FragmentFactory&#xFF1F;</h3><p>&#x53EA;&#x9700;&#x8981;&#x5728;&#x521B;&#x5EFA; Fragment &#x4E4B;&#x524D;&#xFF0C;&#x8BBE;&#x7F6E; FragmentFactory&#xFF0C;&#x5B83;&#x5C31;&#x4F1A;&#x88AB;&#x7528;&#x6765;&#x5B9E;&#x4F8B;&#x5316;&#xFF0C;&#x8FD9;&#x610F;&#x5473;&#x7740;&#x5728;&#x6DFB;&#x52A0; Fragments &#x4E4B;&#x524D;&#x4F7F;&#x7528;&#x81EA;&#x5B9A;&#x4E49;&#x7684; FragmentFactory&#x3002;</p>
<ul>
<li><strong>&#x9759;&#x6001;&#x6DFB;&#x52A0;&#xFF1A;</strong> &#x4F7F;&#x7528; Fragment &#x7684; tag <code>&lt;fragment&gt;</code> &#x548C; FragmentContainerView&#x3002;</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">ini&#x590D;&#x5236;&#x4EE3;&#x7801;&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;</span><br><span class="line">&lt;androidx.fragment.app.FragmentContainerView</span><br><span class="line">    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;</span><br><span class="line">    android:id=&quot;@+id/customFragment&quot;</span><br><span class="line">    android:name=&quot;com.example.CustomFragment&quot;</span><br><span class="line">    android:layout_width=&quot;match_parent&quot;</span><br><span class="line">    android:layout_height=&quot;match_parent&quot;</span><br><span class="line">    android:tag=&quot;custom_fragment&quot; /&gt;</span><br></pre></td></tr></table></figure>

<p>&#x8BBE;&#x7F6E; FragmentFactory &#x7528;&#x4E8E;&#x521D;&#x59CB;&#x5316;&#x5728;Fragment &#x58F0;&#x660E;&#x7684; FragmentContainerView</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">kotlin&#x590D;&#x5236;&#x4EE3;&#x7801;class HostActivity : AppCompatActivity() {</span><br><span class="line">    private val customFragmentFactory = CustomFragmentFactory(Dependency())</span><br><span class="line"></span><br><span class="line">    override fun onCreate(savedInstanceState: Bundle?) {</span><br><span class="line">        supportFragmentManager.fragmentFactory = customFragmentFactory</span><br><span class="line">        super.onCreate(savedInstanceState)</span><br><span class="line">        setContentView(R.layout.activity_with_fragment_container_view)</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></table></figure>

<ul>
<li><strong>&#x52A8;&#x6001;&#x6DFB;&#x52A0;&#xFF1A;</strong> &#x4F7F;&#x7528; FragmentTransaction#add() &#x65B9;&#x6CD5;&#x52A8;&#x6001;&#x7684;&#x6DFB;&#x52A0; Fragment</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">kotlin&#x590D;&#x5236;&#x4EE3;&#x7801;class HostActivity : AppCompatActivity() {</span><br><span class="line">    private val customFragmentFactory = CustomFragmentFactory(Dependency())</span><br><span class="line"></span><br><span class="line">    override fun onCreate(savedInstanceState: Bundle?) {</span><br><span class="line">        supportFragmentManager.fragmentFactory = customFragmentFactory</span><br><span class="line">        super.onCreate(savedInstanceState)</span><br><span class="line">        setContentView(R.layout.activity_with_empty_frame_layout)</span><br><span class="line">        if (savedInstanceState == null) {</span><br><span class="line">            supportFragmentManager.beginTransaction()</span><br><span class="line">                .add(R.id.content, CustomFragment::class.java, arguments)</span><br><span class="line">                .commit()</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></table></figure>

<h3 id="FragmentFactory-&#x548C;&#x5D4C;&#x5957;&#x7684;-Fragment"><a href="#FragmentFactory-&#x548C;&#x5D4C;&#x5957;&#x7684;-Fragment" class="headerlink" title="FragmentFactory &#x548C;&#x5D4C;&#x5957;&#x7684; Fragment"></a>FragmentFactory &#x548C;&#x5D4C;&#x5957;&#x7684; Fragment</h3><p>&#x5982;&#x679C; parent Fragment &#x5305;&#x542B;&#x5D4C;&#x5957;&#x7684; Fragment &#x6216;&#x8005;&#x591A;&#x5C42;&#x6B21;&#x5D4C;&#x5957;&#x7684; Fragment&#xFF0C;&#x5B83;&#x4EEC;&#x90FD;&#x4F1A;&#x4F7F;&#x7528; parent Fragment &#x7684;&#x76F8;&#x540C; FragmentFactory&#xFF0C;&#x5D4C;&#x5957; Fragment &#x9700;&#x8981;&#x8C03;&#x7528; Fragment#childFragmentManager.fragmentFactory</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">kotlin&#x590D;&#x5236;&#x4EE3;&#x7801;class ParentFragment : Fragment() {</span><br><span class="line">    override fun onCreate(savedInstanceState: Bundle?) {</span><br><span class="line">        childFragmentManager.fragmentFactory = parentFragmentFactory</span><br><span class="line">        super.onCreate(savedInstanceState)</span><br><span class="line">        if (savedInstanceState == null) {</span><br><span class="line">            // Add NestedFragment</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line">class NestedFragment : Fragment() {</span><br><span class="line">    override fun onCreate(savedInstanceState: Bundle?) {</span><br><span class="line">        childFragmentManager.fragmentFactory = childFragmentFactory</span><br><span class="line">        super.onCreate(savedInstanceState)</span><br><span class="line">        if (savedInstanceState == null) {</span><br><span class="line">            // Add NestedNestedFragment</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line">class NestedNestedFragment : Fragment()</span><br></pre></td></tr></table></figure>

<h2 id="&#x8BD1;&#x8005;&#x601D;&#x8003;"><a href="#&#x8BD1;&#x8005;&#x601D;&#x8003;" class="headerlink" title="&#x8BD1;&#x8005;&#x601D;&#x8003;"></a>&#x8BD1;&#x8005;&#x601D;&#x8003;</h2><p>&#x6211;&#x4EEC;&#x6765;&#x603B;&#x7ED3;&#x4E00;&#x4E0B; Fragment &#x51E0;&#x4E2A;&#x91CD;&#x8981;&#x7684;&#x66F4;&#x65B0;&#xFF0C;&#x4EE5;&#x53CA;&#x5728;&#x4EC0;&#x4E48;&#x60C5;&#x51B5;&#x4E0B;&#x4F7F;&#x7528;&#xFF1A;</p>
<ul>
<li>&#x4E4B;&#x524D; Fragment &#x7684;&#x5B9E;&#x4F8B;&#x90FD;&#x662F;&#x901A;&#x8FC7;&#x4F7F;&#x7528;&#x9ED8;&#x8BA4;&#x7684;&#x7A7A;&#x7684;&#x6784;&#x9020;&#x51FD;&#x6570;&#x8FDB;&#x884C;&#x5B9E;&#x4F8B;&#x5316;&#x7684;&#xFF0C;FragmentFactory &#x51FA;&#x73B0;&#x5C31;&#x662F;&#x4E3A;&#x4E86;&#x89E3;&#x51B3;&#x8FD9;&#x4E2A;&#x9650;&#x5236;&#x3002;</li>
<li>FragmentFactory &#x4E0D;&#x662F;&#x5FC5;&#x987B;&#x8981;&#x4F7F;&#x7528;&#x7684;&#xFF0C;&#x5982;&#x679C;&#x5728; Fragment &#x6784;&#x9020;&#x51FD;&#x6570;&#x4E2D;&#x63A5;&#x53D7;&#x53C2;&#x6570;&#xFF0C;&#x5FC5;&#x987B;&#x4F7F;&#x7528; FragmentFactory</li>
<li>FragmentFactory &#x9700;&#x8981;&#x5728; Activity &#x6216;&#x8005; Fragment &#x4E2D;&#x4F7F;&#x7528;&#xFF0C;&#x5E76;&#x4E14;&#x9700;&#x8981;&#x5728; <a href="/external_links/3a8dbd058a84c7ae8a4c7b076b920e16.html" target="blank" rel="noopener">Activity#onCreate()</a> &#x548C; <a href="/external_links/fc04400770bf7076c320b4fc30275315.html" target="blank" rel="noopener">Fragment#onCreate()</a> &#x4E4B;&#x524D;&#x548C; FragmentManager &#x505A;&#x5173;&#x8054;</li>
<li>&#x5D4C;&#x5957;&#x7684; Fragment &#x6216;&#x8005;&#x591A;&#x5C42;&#x6B21;&#x5D4C;&#x5957;&#x7684; Fragment&#xFF0C;&#x4F7F;&#x7528;&#x7684;&#x662F;&#x76F8;&#x540C; FragmentFactory</li>
<li>&#x6B63;&#x56E0;&#x4E3A; FragmentFactory &#x51FA;&#x73B0;&#xFF0C;&#x53EF;&#x4EE5;&#x5728; Fragment &#x6784;&#x9020;&#x51FD;&#x6570;&#x4E2D;&#x4F20;&#x9012;&#x53C2;&#x6570;&#xFF0C;&#x610F;&#x5473;&#x7740;&#x53EF;&#x4EE5;&#x4F7F;&#x7528; Koin &#x7B49;&#x6846;&#x67B6;&#xFF0C;&#x53EF;&#x4EE5;&#x5B9E;&#x73B0;&#x6784;&#x9020;&#x51FD;&#x6570;&#x4F9D;&#x8D56;&#x6CE8;&#x5165;&#xFF0C;&#x540E;&#x9762;&#x6211;&#x4F1A;&#x6F14;&#x793A;&#x5982;&#x4F55;&#x4F7F;&#x7528;</li>
</ul>
<p>&#x63A5;&#x4E0B;&#x6765;&#x4E00;&#x8D77;&#x4E86;&#x89E3;&#x4E00;&#x4E0B;&#x4EC0;&#x4E48; FragmentContainerView&#xFF0C;&#x4E3A;&#x4EC0;&#x4E48; Google &#x5F3A;&#x70C8;&#x5EFA;&#x8BAE;&#x4F7F;&#x7528; FragmentContainerView &#x5BB9;&#x5668;&#x6765;&#x5B58;&#x50A8;&#x52A8;&#x6001;&#x6DFB;&#x52A0;&#x7684; Fragment&#x3002;</p>
<h3 id="FragmentContainerView-&#x662F;&#x4EC0;&#x4E48;&#xFF1F;&#x4E3A;&#x4EC0;&#x4E48;-Google-&#x5F3A;&#x70C8;&#x5EFA;&#x8BAE;&#x4F7F;&#x7528;&#xFF1F;"><a href="#FragmentContainerView-&#x662F;&#x4EC0;&#x4E48;&#xFF1F;&#x4E3A;&#x4EC0;&#x4E48;-Google-&#x5F3A;&#x70C8;&#x5EFA;&#x8BAE;&#x4F7F;&#x7528;&#xFF1F;" class="headerlink" title="FragmentContainerView &#x662F;&#x4EC0;&#x4E48;&#xFF1F;&#x4E3A;&#x4EC0;&#x4E48; Google &#x5F3A;&#x70C8;&#x5EFA;&#x8BAE;&#x4F7F;&#x7528;&#xFF1F;"></a>FragmentContainerView &#x662F;&#x4EC0;&#x4E48;&#xFF1F;&#x4E3A;&#x4EC0;&#x4E48; Google &#x5F3A;&#x70C8;&#x5EFA;&#x8BAE;&#x4F7F;&#x7528;&#xFF1F;</h3><p>&#x6211;&#x4EEC;&#x5148;&#x6765;&#x770B;&#x4E00;&#x4E0B; Google &#x7684;&#x66F4;&#x65B0;&#x8BF4;&#x660E;&#xFF1A;</p>
<p><img src="https://gitee.com/songjianzaina/juejin_p3/raw/master/img/85dd7cb66ca774041a433d8a29e34bab188e206f73c6062fbad58c4ada7f33d8" alt></p>
<p>FragmentContainerView&#xFF1A; FragmentContainerView &#x662F;&#x4E00;&#x4E2A;&#x81EA;&#x5B9A;&#x4E49; View &#x7EE7;&#x627F; FrameLayout&#xFF0C;&#x4E0E; ViewGroups &#x4E0D;&#x540C;&#xFF0C;&#x5B83;&#x53EA;&#x63A5;&#x53D7; Fragment Views&#x3002;</p>
<p><strong>&#x4E3A;&#x4EC0;&#x4E48; Google &#x5F3A;&#x70C8;&#x5EFA;&#x8BAE;&#x4F7F;&#x7528;&#xFF1F;</strong></p>
<p>&#x4E4B;&#x524D;&#x5728; <a href="/external_links/a4e547286246d979addb327e9c55c98d.html" target="blank" rel="noopener">Google issue</a> &#x63D0;&#x4E86;&#x4E00;&#x4E2A; fragment z-ordering &#x7684;&#x95EE;&#x9898;&#xFF0C;&#x5C31;&#x662F;&#x8BF4; Fragment &#x8FDB;&#x5165;&#x548C;&#x9000;&#x51FA;&#x52A8;&#x753B;&#x4F1A;&#x5BFC;&#x81F4;&#x4E00;&#x4E2A;&#x95EE;&#x9898;&#xFF0C;&#x8FDB;&#x5165;&#x7684; Fragment &#x4F1A;&#x5728;&#x9000;&#x51FA;&#x7684; Fragment&#x4E0B;&#x9762;&#xFF0C;&#x76F4;&#x5230;&#x5B83;&#x5B8C;&#x5168;&#x9000;&#x51FA;&#x5C4F;&#x5E55;&#xFF0C;&#x8FD9;&#x4F1A;&#x5BFC;&#x81F4;&#x5728; Fragment &#x4E4B;&#x95F4;&#x5207;&#x6362;&#x65F6;&#x4EA7;&#x751F;&#x9519;&#x8BEF;&#x7684;&#x52A8;&#x753B;&#x3002;</p>
<p>&#x4F7F;&#x7528; FragmentContainerView &#x5E26;&#x6765;&#x7684;&#x597D;&#x5904;&#x662F;&#x6539;&#x8FDB;&#x4E86;&#x5BF9; fragment z-ordering &#x7684;&#x5904;&#x7406;&#x3002;&#x8FD9;&#x662F; Google &#x6F14;&#x793A;&#x7684;<a href="/external_links/e9d6cc9e8347b1a1cc6208580e047b88.html" target="blank" rel="noopener">&#x4F8B;&#x5B50;</a>&#xFF0C;&#x4F18;&#x5316;&#x4E86;&#x4E24;&#x4E2A; Fragment &#x9000;&#x51FA;&#x548C;&#x8FDB;&#x5165;&#x8FC7;&#x6E21;&#x4E0D;&#x4F1A;&#x4E92;&#x76F8;&#x91CD;&#x53E0;&#xFF0C;&#x4F7F;&#x7528; FragmentContainerView &#x5C06;&#x5148;&#x5F00;&#x542F;&#x9000;&#x51FA;&#x52A8;&#x753B;&#x7136;&#x540E;&#x624D;&#x662F;&#x8FDB;&#x5165;&#x52A8;&#x753B;&#x3002;</p>
<h3 id="Koin-&#x5982;&#x4F55;&#x548C;-FragmentFactory-&#x4E00;&#x8D77;&#x4F7F;&#x7528;&#x4EE5;&#x53CA;&#x6E90;&#x7801;&#x5206;&#x6790;"><a href="#Koin-&#x5982;&#x4F55;&#x548C;-FragmentFactory-&#x4E00;&#x8D77;&#x4F7F;&#x7528;&#x4EE5;&#x53CA;&#x6E90;&#x7801;&#x5206;&#x6790;" class="headerlink" title="Koin &#x5982;&#x4F55;&#x548C; FragmentFactory &#x4E00;&#x8D77;&#x4F7F;&#x7528;&#x4EE5;&#x53CA;&#x6E90;&#x7801;&#x5206;&#x6790;"></a>Koin &#x5982;&#x4F55;&#x548C; FragmentFactory &#x4E00;&#x8D77;&#x4F7F;&#x7528;&#x4EE5;&#x53CA;&#x6E90;&#x7801;&#x5206;&#x6790;</h3><p>&#x5728;&#x4E4B;&#x524D;&#x7684;&#x6587;&#x7AE0; <a href="https://dev.newban.cn/6844904158324064269?utm_source=gold_browser_extension">[&#x8BD1;][2.4K Start] &#x653E;&#x5F03; Dagger &#x62E5;&#x62B1; Koin</a> &#x5206;&#x6790;&#x4E86; Koin &#x6027;&#x80FD;&#xFF0C;&#x5982;&#x679C;&#x6CA1;&#x6709;&#x770B;&#x8FC7;&#xFF0C;&#x5EFA;&#x8BAE;&#x53EF;&#x4EE5;&#x53BB;&#x4E86;&#x89E3;&#x4E00;&#x4E0B;&#x3002;</p>
<p>Koin &#x56E2;&#x961F;&#x5728; 2.1.0 &#x7248;&#x672C;&#x5F00;&#x59CB;&#x652F;&#x6301; Fragment &#x7684;&#x4F9D;&#x8D56;&#x6CE8;&#x5165;&#xFF0C;&#x622A;&#x56FE;&#x5982;&#x4E0B;&#x6240;&#x793A;&#xFF1A;</p>
<p><img src="https://gitee.com/songjianzaina/juejin_p3/raw/master/img/4a5eb7f8820eac77067e1fb09be283d7bea8986abe5c33f52440279ee821af45" alt></p>
<p><strong>1. &#x6DFB;&#x52A0; Koin Fragment &#x4F9D;&#x8D56;</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">arduino&#x590D;&#x5236;&#x4EE3;&#x7801;implementation &quot;org.koin:koin-androidx-fragment:2.1.5&quot;</span><br></pre></td></tr></table></figure>

<p><strong>2. &#x521B;&#x5EFA; Fragment &#x5E76;&#x4F20;&#x9012; ViewModel</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">arduino&#x590D;&#x5236;&#x4EE3;&#x7801;class FragmentTest(val mainViewModel: MainViewModel) : Fragment(){</span><br><span class="line">    ......</span><br><span class="line">}</span><br></pre></td></tr></table></figure>

<p><strong>3. &#x521B;&#x5EFA; Fragment modules</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">ini&#x590D;&#x5236;&#x4EE3;&#x7801;val viewModelsModule = module {</span><br><span class="line">    viewModel { MainViewModel() }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line">val fragmentModules = module {</span><br><span class="line">    fragment { FragmentTest(get()) }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line">val appModules = listOf(fragmentModules, viewModelsModule)</span><br></pre></td></tr></table></figure>

<p><strong>4. &#x5728;&#x8C03;&#x7528; startKoin &#x65B9;&#x6CD5;&#x65F6;&#x8BBE;&#x7F6E; KoinFragmentFactory</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">less&#x590D;&#x5236;&#x4EE3;&#x7801;startKoin {</span><br><span class="line">    AndroidLogger(Level.DEBUG)</span><br><span class="line">    androidContext(this@App)</span><br><span class="line">    fragmentFactory()</span><br><span class="line">    loadKoinModules(appModules)</span><br><span class="line">}</span><br></pre></td></tr></table></figure>

<p>fragmentFactory &#x662F; KoinApplication &#x7684;&#x6269;&#x5C55;&#x51FD;&#x6570;&#xFF0C;&#x63D0;&#x4F9B;&#x4E86; KoinFragmentFactory &#x4EE3;&#x7801;&#x5982;&#x4E0B;&#x6240;&#x793A;&#xFF1A;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">less&#x590D;&#x5236;&#x4EE3;&#x7801;koin.loadModules(listOf(module {</span><br><span class="line">        single&lt;FragmentFactory&gt; { KoinFragmentFactory() }</span><br><span class="line">    }))</span><br><span class="line">}</span><br></pre></td></tr></table></figure>

<p>&#x4E00;&#x8D77;&#x6765;&#x5206;&#x6790; KoinFragmentFactory &#x5185;&#x90E8;&#x7684;&#x6E90;&#x7801;&#xFF1A;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">kotlin&#x590D;&#x5236;&#x4EE3;&#x7801;class KoinFragmentFactory(val scope: Scope? = null) : FragmentFactory(), KoinComponent {</span><br><span class="line"></span><br><span class="line">    override fun instantiate(classLoader: ClassLoader, className: String): Fragment {</span><br><span class="line">        val clazz = Class.forName(className).kotlin</span><br><span class="line">        val instance = if (scope != null) {</span><br><span class="line">            scope.getOrNull&lt;Fragment&gt;(clazz)</span><br><span class="line">        }else{</span><br><span class="line">            getKoin().getOrNull&lt;Fragment&gt;(clazz)</span><br><span class="line">        }</span><br><span class="line">        return instance ?: super.instantiate(classLoader, className)</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">}</span><br></pre></td></tr></table></figure>

<p>&#x7EE7;&#x627F; FragmentFactory &#x5E76;&#x4E14;&#x91CD;&#x5199;&#x4E86; FragmentFactory#instantiate() &#x65B9;&#x6CD5;&#xFF0C;&#x5728;&#x8FD9;&#x4E2A;&#x51FD;&#x6570;&#x4E2D;&#xFF0C;&#x6211;&#x4EEC;&#x4F7F;&#x7528; className &#x4F5C;&#x4E3A;&#x53C2;&#x6570;&#x83B7;&#x53D6; Fragment&#xFF0C;&#x5E76;&#x5C1D;&#x8BD5;&#x4ECE; Koin &#x4E2D;&#x68C0;&#x7D22; Fragment &#x5B9E;&#x4F8B;</p>
<p><strong>5. &#x5728; onCreate &#x65B9;&#x6CD5;&#x4E4B;&#x524D; &#x8C03;&#x7528; setupKoinFragmentFactory &#x7ED1;&#x5B9A; FragmentFactory</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">kotlin&#x590D;&#x5236;&#x4EE3;&#x7801;override fun onCreate(savedInstanceState: Bundle?) {</span><br><span class="line">    setupKoinFragmentFactory()</span><br><span class="line">    super.onCreate(savedInstanceState)</span><br><span class="line">    setContentView(R.layout.activity_main)</span><br><span class="line">}</span><br></pre></td></tr></table></figure>

<p><strong>6. &#x6DFB;&#x52A0; Fragment &#x5E76;&#x4F20;&#x9012; Bundle</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">scss&#x590D;&#x5236;&#x4EE3;&#x7801;val arguments = Bundle().apply {</span><br><span class="line">    putString(FragmentTest.KEY_NAME, &quot;&#x6765;&#x6E90;&#x4E8E; MainActivity&quot;)</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line">supportFragmentManager.beginTransaction()</span><br><span class="line">    .replace(R.id.container, FragmentTest::class.java, arguments)</span><br><span class="line">    .commit()</span><br></pre></td></tr></table></figure>

<p>&#x76F8;&#x5173;&#x6E90;&#x7801;&#x5DF2;&#x7ECF;&#x4E0A;&#x4F20;&#x5230; <a href="/external_links/63021388cc625ef7209720ab90da6b74.html" target="blank" rel="noopener">JDataBinding</a> &#x4E2D;, &#x53EF;&#x4EE5;&#x67E5;&#x770B; App&#x3001;MainActivity&#x3001;AppModule &#x548C; FragmentTest &#x8FD9;&#x51E0;&#x4E2A;&#x7C7B;</p>
<h2 id="&#x53C2;&#x8003;&#x6587;&#x732E;"><a href="#&#x53C2;&#x8003;&#x6587;&#x732E;" class="headerlink" title="&#x53C2;&#x8003;&#x6587;&#x732E;"></a>&#x53C2;&#x8003;&#x6587;&#x732E;</h2><ul>
<li><a href="/external_links/f84caf525dce171666c3daee3c5b0d65.html" target="blank" rel="noopener">github.com/InsertKoinI&#x2026;</a></li>
<li><a href="/external_links/7abac9bd1438921c8136a96d3ce941d1.html" target="blank" rel="noopener">Android Fragments: FragmentFactory</a></li>
<li><a href="/external_links/4398f0daa9d6305cadfd646826574c7b.html" target="blank" rel="noopener">developer.android.com/jetpack/and&#x2026;</a></li>
</ul>
<h2 id="&#x7ED3;&#x8BED;"><a href="#&#x7ED3;&#x8BED;" class="headerlink" title="&#x7ED3;&#x8BED;"></a>&#x7ED3;&#x8BED;</h2><p>&#x81F4;&#x529B;&#x4E8E;&#x5206;&#x4EAB;&#x4E00;&#x7CFB;&#x5217; Android &#x7CFB;&#x7EDF;&#x6E90;&#x7801;&#x3001;&#x9006;&#x5411;&#x5206;&#x6790;&#x3001;&#x7B97;&#x6CD5;&#x3001;&#x7FFB;&#x8BD1;&#x76F8;&#x5173;&#x7684;&#x6587;&#x7AE0;&#xFF0C;&#x76EE;&#x524D;&#x6B63;&#x5728;&#x7FFB;&#x8BD1;&#x4E00;&#x7CFB;&#x5217;&#x6B27;&#x7F8E;&#x7CBE;&#x9009;&#x6587;&#x7AE0;&#xFF0C;&#x8BF7;&#x6301;&#x7EED;&#x5173;&#x6CE8;&#xFF0C;&#x9664;&#x4E86;&#x7FFB;&#x8BD1;&#x8FD8;&#x6709;&#x5BF9;&#x6BCF;&#x7BC7;&#x6B27;&#x7F8E;&#x6587;&#x7AE0;&#x601D;&#x8003;&#xFF0C;&#x5982;&#x679C;&#x5BF9;&#x4F60;&#x6709;&#x5E2E;&#x52A9;&#xFF0C;&#x8BF7;&#x5E2E;&#x6211;&#x70B9;&#x4E2A;&#x8D5E;&#xFF0C;&#x611F;&#x8C22;&#xFF01;&#xFF01;&#xFF01;&#x671F;&#x5F85;&#x4E0E;&#x4F60;&#x4E00;&#x8D77;&#x6210;&#x957F;&#x3002;</p>
<blockquote>
<p>&#x8BA1;&#x5212;&#x5EFA;&#x7ACB;&#x4E00;&#x4E2A;&#x6700;&#x5168;&#x3001;&#x6700;&#x65B0;&#x7684; AndroidX Jetpack &#x76F8;&#x5173;&#x7EC4;&#x4EF6;&#x7684;&#x5B9E;&#x6218;&#x9879;&#x76EE; &#x4EE5;&#x53CA; &#x76F8;&#x5173;&#x7EC4;&#x4EF6;&#x539F;&#x7406;&#x5206;&#x6790;&#x6587;&#x7AE0;&#xFF0C;&#x76EE;&#x524D;&#x5DF2;&#x7ECF;&#x5305;&#x542B;&#x4E86; App Startup&#x3001;Paging3&#x3001;Hilt &#x7B49;&#x7B49;&#xFF0C;&#x6B63;&#x5728;&#x9010;&#x6E10;&#x589E;&#x52A0;&#x5176;&#x4ED6; Jetpack &#x65B0;&#x6210;&#x5458;&#xFF0C;&#x4ED3;&#x5E93;&#x6301;&#x7EED;&#x66F4;&#x65B0;&#xFF0C;&#x53EF;&#x4EE5;&#x524D;&#x53BB;&#x67E5;&#x770B;&#xFF1A;<a href="/external_links/b80583732bf296966253b1e973e41238.html" target="blank" rel="noopener">AndroidX-Jetpack-Practice</a>, &#x5982;&#x679C;&#x8FD9;&#x4E2A;&#x4ED3;&#x5E93;&#x5BF9;&#x4F60;&#x6709;&#x5E2E;&#x52A9;&#xFF0C;&#x8BF7;&#x5E2E;&#x6211;&#x70B9;&#x4E2A;&#x8D5E;&#xFF0C;&#x6211;&#x4F1A;&#x9646;&#x7EED;&#x5B8C;&#x6210;&#x66F4;&#x591A; Jetpack &#x65B0;&#x6210;&#x5458;&#x7684;&#x9879;&#x76EE;&#x5B9E;&#x8DF5;&#x3002;</p>
</blockquote>
<h3 id="&#x7B97;&#x6CD5;"><a href="#&#x7B97;&#x6CD5;" class="headerlink" title="&#x7B97;&#x6CD5;"></a>&#x7B97;&#x6CD5;</h3><p>&#x7531;&#x4E8E; LeetCode &#x7684;&#x9898;&#x5E93;&#x5E9E;&#x5927;&#xFF0C;&#x6BCF;&#x4E2A;&#x5206;&#x7C7B;&#x90FD;&#x80FD;&#x7B5B;&#x9009;&#x51FA;&#x6570;&#x767E;&#x9053;&#x9898;&#xFF0C;&#x7531;&#x4E8E;&#x6BCF;&#x4E2A;&#x4EBA;&#x7684;&#x7CBE;&#x529B;&#x6709;&#x9650;&#xFF0C;&#x4E0D;&#x53EF;&#x80FD;&#x5237;&#x5B8C;&#x6240;&#x6709;&#x9898;&#x76EE;&#xFF0C;&#x56E0;&#x6B64;&#x6211;&#x6309;&#x7167;&#x7ECF;&#x5178;&#x7C7B;&#x578B;&#x9898;&#x76EE;&#x53BB;&#x5206;&#x7C7B;&#x3001;&#x548C;&#x9898;&#x76EE;&#x7684;&#x96BE;&#x6613;&#x7A0B;&#x5EA6;&#x53BB;&#x6392;&#x5E8F;&#x3002;</p>
<ul>
<li>&#x6570;&#x636E;&#x7ED3;&#x6784;&#xFF1A; &#x6570;&#x7EC4;&#x3001;&#x6808;&#x3001;&#x961F;&#x5217;&#x3001;&#x5B57;&#x7B26;&#x4E32;&#x3001;&#x94FE;&#x8868;&#x3001;&#x6811;&#x2026;&#x2026;</li>
<li>&#x7B97;&#x6CD5;&#xFF1A; &#x67E5;&#x627E;&#x7B97;&#x6CD5;&#x3001;&#x641C;&#x7D22;&#x7B97;&#x6CD5;&#x3001;&#x4F4D;&#x8FD0;&#x7B97;&#x3001;&#x6392;&#x5E8F;&#x3001;&#x6570;&#x5B66;&#x3001;&#x2026;&#x2026;</li>
</ul>
<p>&#x6BCF;&#x9053;&#x9898;&#x76EE;&#x90FD;&#x4F1A;&#x7528; Java &#x548C; kotlin &#x53BB;&#x5B9E;&#x73B0;&#xFF0C;&#x5E76;&#x4E14;&#x6BCF;&#x9053;&#x9898;&#x76EE;&#x90FD;&#x6709;&#x89E3;&#x9898;&#x601D;&#x8DEF;&#x3001;&#x65F6;&#x95F4;&#x590D;&#x6742;&#x5EA6;&#x548C;&#x7A7A;&#x95F4;&#x590D;&#x6742;&#x5EA6;&#xFF0C;&#x5982;&#x679C;&#x4F60;&#x540C;&#x6211;&#x4E00;&#x6837;&#x559C;&#x6B22;&#x7B97;&#x6CD5;&#x3001;LeetCode&#xFF0C;&#x53EF;&#x4EE5;&#x5173;&#x6CE8;&#x6211; GitHub &#x4E0A;&#x7684; LeetCode &#x9898;&#x89E3;&#xFF1A;<a href="/external_links/48692a253fdcd93124fad2e322bd1f8f.html" target="blank" rel="noopener">Leetcode-Solutions-with-Java-And-Kotlin</a>&#xFF0C;&#x4E00;&#x8D77;&#x6765;&#x5B66;&#x4E60;&#xFF0C;&#x671F;&#x5F85;&#x4E0E;&#x4F60;&#x4E00;&#x8D77;&#x6210;&#x957F;&#x3002;</p>
<h3 id="Android-10-&#x6E90;&#x7801;&#x7CFB;&#x5217;"><a href="#Android-10-&#x6E90;&#x7801;&#x7CFB;&#x5217;" class="headerlink" title="Android 10 &#x6E90;&#x7801;&#x7CFB;&#x5217;"></a>Android 10 &#x6E90;&#x7801;&#x7CFB;&#x5217;</h3><ul>
<li><a href="https://dev.newban.cn/6844904063155322887">0xA01 Android 10 &#x6E90;&#x7801;&#x5206;&#x6790;&#xFF1A;APK &#x662F;&#x5982;&#x4F55;&#x751F;&#x6210;&#x7684;</a></li>
<li><a href="https://dev.newban.cn/6844904078015725576">0xA02 Android 10 &#x6E90;&#x7801;&#x5206;&#x6790;&#xFF1A;APK &#x7684;&#x5B89;&#x88C5;&#x6D41;&#x7A0B;</a></li>
<li><a href="https://dev.newban.cn/6844904089696862221">0xA03 Android 10 &#x6E90;&#x7801;&#x5206;&#x6790;&#xFF1A;APK &#x52A0;&#x8F7D;&#x6D41;&#x7A0B;&#x4E4B;&#x8D44;&#x6E90;&#x52A0;&#x8F7D;</a></li>
<li><a href="https://dev.newban.cn/6844904105433907207">0xA04 Android 10 &#x6E90;&#x7801;&#x5206;&#x6790;&#xFF1A;APK &#x52A0;&#x8F7D;&#x6D41;&#x7A0B;&#x4E4B;&#x8D44;&#x6E90;&#x52A0;&#x8F7D;&#xFF08;&#x4E8C;&#xFF09;</a></li>
<li><a href="https://dev.newban.cn/6844904122467123214">0xA05 Android 10 &#x6E90;&#x7801;&#x5206;&#x6790;&#xFF1A;Dialog &#x52A0;&#x8F7D;&#x7ED8;&#x5236;&#x6D41;&#x7A0B;&#x4EE5;&#x53CA;&#x5728; Kotlin&#x3001;DataBinding &#x4E2D;&#x7684;&#x4F7F;&#x7528;</a></li>
<li><a href="https://dev.newban.cn/6844904146227691527">0xA06 Android 10 &#x6E90;&#x7801;&#x5206;&#x6790;&#xFF1A;WindowManager &#x89C6;&#x56FE;&#x7ED1;&#x5B9A;&#x4EE5;&#x53CA;&#x4F53;&#x7CFB;&#x7ED3;&#x6784;</a></li>
</ul>
<h3 id="Android-&#x5E94;&#x7528;&#x7CFB;&#x5217;"><a href="#Android-&#x5E94;&#x7528;&#x7CFB;&#x5217;" class="headerlink" title="Android &#x5E94;&#x7528;&#x7CFB;&#x5217;"></a>Android &#x5E94;&#x7528;&#x7CFB;&#x5217;</h3><ul>
<li><a href="https://dev.newban.cn/6844903874361311239">&#x5982;&#x4F55;&#x9AD8;&#x6548;&#x83B7;&#x53D6;&#x89C6;&#x9891;&#x622A;&#x56FE;</a></li>
<li><a href="https://dev.newban.cn/6844904131803480071">&#x5982;&#x4F55;&#x5728;&#x9879;&#x76EE;&#x4E2D;&#x5C01;&#x88C5; Kotlin + Android Databinding</a></li>
<li><a href="https://dev.newban.cn/6844904151508320263">[&#x8BD1;][Google&#x5DE5;&#x7A0B;&#x5E08;] &#x521A;&#x521A;&#x53D1;&#x5E03;&#x4E86; Fragment &#x7684;&#x65B0;&#x7279;&#x6027; &#x201C;Fragment &#x95F4;&#x4F20;&#x9012;&#x6570;&#x636E;&#x7684;&#x65B0;&#x65B9;&#x5F0F;&#x201D; &#x4EE5;&#x53CA;&#x6E90;&#x7801;&#x5206;&#x6790;</a></li>
<li><a href="https://dev.newban.cn/6844904158324064269?utm_source=gold_browser_extension">[&#x8BD1;][2.4K Start] &#x653E;&#x5F03; Dagger &#x62E5;&#x62B1; Koin</a></li>
<li><a href="https://dev.newban.cn/6844904161419640840#heading-7">[&#x8BD1;][5k+] Kotlin &#x7684;&#x6027;&#x80FD;&#x4F18;&#x5316;&#x90A3;&#x4E9B;&#x4E8B;</a></li>
</ul>
<h3 id="&#x5DE5;&#x5177;&#x7CFB;&#x5217;"><a href="#&#x5DE5;&#x5177;&#x7CFB;&#x5217;" class="headerlink" title="&#x5DE5;&#x5177;&#x7CFB;&#x5217;"></a>&#x5DE5;&#x5177;&#x7CFB;&#x5217;</h3><ul>
<li><a href="https://dev.newban.cn/6844904020511981581">&#x4E3A;&#x6570;&#x4E0D;&#x591A;&#x7684;&#x4EBA;&#x77E5;&#x9053;&#x7684; AndroidStudio &#x5FEB;&#x6377;&#x952E;(&#x4E00;)</a></li>
<li><a href="https://dev.newban.cn/6844904023082926087">&#x4E3A;&#x6570;&#x4E0D;&#x591A;&#x7684;&#x4EBA;&#x77E5;&#x9053;&#x7684; AndroidStudio &#x5FEB;&#x6377;&#x952E;(&#x4E8C;)</a></li>
<li><a href="https://dev.newban.cn/6844903918112079885">&#x5173;&#x4E8E; adb &#x547D;&#x4EE4;&#x4F60;&#x6240;&#x9700;&#x8981;&#x77E5;&#x9053;&#x7684;</a></li>
<li><a href="https://dev.newban.cn/6844903553119748109">10&#x5206;&#x949F;&#x5165;&#x95E8; Shell &#x811A;&#x672C;&#x7F16;&#x7A0B;</a></li>
</ul>
<h3 id="&#x9006;&#x5411;&#x7CFB;&#x5217;"><a href="#&#x9006;&#x5411;&#x7CFB;&#x5217;" class="headerlink" title="&#x9006;&#x5411;&#x7CFB;&#x5217;"></a>&#x9006;&#x5411;&#x7CFB;&#x5217;</h3><ul>
<li><a href="https://dev.newban.cn/6844903798972891144">&#x57FA;&#x4E8E; Smali &#x6587;&#x4EF6; Android Studio &#x52A8;&#x6001;&#x8C03;&#x8BD5; APP</a></li>
<li><a href="https://dev.newban.cn/6844903773890936839">&#x89E3;&#x51B3;&#x5728; Android Studio 3.2 &#x627E;&#x4E0D;&#x5230; Android Device Monitor &#x5DE5;&#x5177;</a></li>
</ul>
<p><strong>&#x672C;&#x6587;&#x8F6C;&#x8F7D;&#x81EA;:</strong> <a href="/external_links/931afff3ab6a5faaa142bbff5bedcb26.html" target="blank" rel="noopener">&#x6398;&#x91D1;</a></p>
<p><em><a href="https://dev.newban.cn/">&#x5F00;&#x53D1;&#x8005;&#x535A;&#x5BA2; &#x2013; &#x548C;&#x5F00;&#x53D1;&#x76F8;&#x5173;&#x7684; &#x8FD9;&#x91CC;&#x5168;&#x90FD;&#x6709;</a></em></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://dev.newban.cn../../6844904164166909965.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="开发者博客">
      <meta itemprop="description" content>
      <meta itemprop="image" content="../../images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="开发者博客 – IT技术 尽在开发者博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="../../6844904164166909965.html" itemprop="url">【奇技淫巧】使用 Navigation + Dynamic</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2020-05-20T18:51:23+08:00">
                2020-05-20
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p><code>androidx navigation 2.3.0</code> &#x52A0;&#x5165;&#x4E86;&#x5BF9; <code>dynamic feature module</code> &#x7684;&#x5BFC;&#x822A;&#x652F;&#x6301;&#xFF0C;&#x56E0;&#x6B64;&#x6211;&#x4EEC;&#x5229;&#x7528;&#x8FD9;&#x4E2A;&#x6765;&#x5206;&#x79BB;&#x51FA;&#x591A;&#x4E2A;&#x529F;&#x80FD; module &#x6765;&#x5B9E;&#x73B0;&#x6A21;&#x5757;&#x5316;</p>
<p><img src="https://gitee.com/songjianzaina/juejin_p4/raw/master/img/a5934c429cf134261d7315a8054b79397bb6fc8c8abfe72211b71eda5008d115" alt="navigation 2.3.0 &#x66F4;&#x65B0;"></p>
<p>navigation 2.3.0 &#x66F4;&#x65B0;</p>
<h2 id="&#x56FD;&#x5185;&#x57FA;&#x672C;&#x4E0D;&#x7528;&#x7684;-dynamic-feature-module"><a href="#&#x56FD;&#x5185;&#x57FA;&#x672C;&#x4E0D;&#x7528;&#x7684;-dynamic-feature-module" class="headerlink" title="&#x56FD;&#x5185;&#x57FA;&#x672C;&#x4E0D;&#x7528;&#x7684; dynamic feature module"></a>&#x56FD;&#x5185;&#x57FA;&#x672C;&#x4E0D;&#x7528;&#x7684; dynamic feature module</h2><p><a href="/external_links/5c89103ce06195a5e8dba929d94d1f4b.html" target="blank" rel="noopener">Android App Bundle</a> &#x662F;&#x5B98;&#x65B9; 18 &#x5E74;&#x63A8;&#x51FA;&#x7684;&#x52A8;&#x6001;&#x53D1;&#x5E03;&#x65B9;&#x6848;&#xFF0C;&#x7C7B;&#x4F3C;&#x56FD;&#x5185;&#x5404;&#x79CD;&#x63D2;&#x4EF6;&#x5316;&#x65B9;&#x6848;&#x3002;&#x4E0D;&#x8FC7;&#x5B83;&#x9700;&#x8981; Google Play Store &#x652F;&#x6301;&#xFF0C;&#x8FD9;&#x5BFC;&#x81F4;&#x5728;&#x56FD;&#x5185;&#x65E0;&#x6CD5;&#x4F7F;&#x7528;</p>
<p>&#x501F;&#x7740; navigation &#x7EC4;&#x4EF6;&#x652F;&#x6301; <code>dynamic feature module</code> &#x95F4;&#x5BFC;&#x822A;&#x7684;&#x5951;&#x673A;&#xFF0C;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x4F7F;&#x7528; <code>dynamic feature module</code> &#x6765;&#x62C6;&#x5206;&#x529F;&#x80FD;&#x6A21;&#x5757;&#x4EE5;&#x5B9E;&#x73B0;&#x6A21;&#x5757;&#x5316;</p>
<p>&#x4F20;&#x7EDF;&#x7684;&#x62C6;&#x5206;&#x65B9;&#x6848;&#x5927;&#x6982;&#x662F;&#x8FD9;&#x6837;&#xFF0C;feature module &#x4E4B;&#x95F4;&#x76F8;&#x4E92;&#x9694;&#x79BB;&#xFF0C;app module &#x4F9D;&#x8D56;&#x5404;&#x4E2A; feature module &#x95F4;&#x63A5;&#x4F9D;&#x8D56; base &#x5E93;&#xFF0C;&#x516C;&#x5171;&#x5E93;</p>
<p><img src="https://gitee.com/songjianzaina/juejin_p4/raw/master/img/ef1dc03b619910cb074028c4b60884952f52bff675db83b09e955f7c1dd0858b" alt="&#x4F20;&#x7EDF;&#x67B6;&#x6784;"></p>
<p>&#x4F20;&#x7EDF;&#x67B6;&#x6784;</p>
<p>&#x800C;&#x4F7F;&#x7528; <code>dynamic feature module</code> &#xFF0C;&#x5176;&#x7ED3;&#x6784;&#x662F;&#x8FD9;&#x6837;&#x7684;</p>
<p><img src="https://gitee.com/songjianzaina/juejin_p4/raw/master/img/4c3d0e0c52cd042f7d0d50bf643179319f71dc6e6d9f6f09164766f71134f307" alt="dynamic feature &#x67B6;&#x6784;"></p>
<p>dynamic feature &#x67B6;&#x6784;</p>
<p><code>dynamic feature module</code> &#x4E5F;&#x53EF;&#x4EE5;&#x6309;&#x9700;&#x5B89;&#x88C5;&#xFF0C;&#x4E5F;&#x5C31;&#x662F;&#x8BF4;&#xFF0C;&#x5B83;&#x4EEC;&#x53EF;&#x80FD;&#x4E0D;&#x5305;&#x542B;&#x5728;&#x7528;&#x6237;&#x6700;&#x521D;&#x4E0B;&#x8F7D;&#x7684; APK &#x4E2D;&#xFF0C;&#x800C;&#x662F;&#x5728;&#x8FD0;&#x884C;&#x65F6;&#x5B89;&#x88C5;&#x3002;&#x800C;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x76F4;&#x63A5;&#x5C06;&#x5B83;&#x4EEC;&#x5305;&#x542B;&#x5230; APK &#x4E2D;</p>
<h2 id="&#x4F7F;&#x7528;-dynamic-feature-module"><a href="#&#x4F7F;&#x7528;-dynamic-feature-module" class="headerlink" title="&#x4F7F;&#x7528; dynamic feature module"></a>&#x4F7F;&#x7528; dynamic feature module</h2><p>&#x9996;&#x5148;&#x6211;&#x4EEC;&#x5728; base lib &#x4E2D;&#x5F15;&#x5165;&#x4F9D;&#x8D56;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&#x590D;&#x5236;&#x4EE3;&#x7801;dependencies {</span><br><span class="line">    def nav_version = &quot;2.3.0-alpha06&quot;</span><br><span class="line"></span><br><span class="line">    api &quot;androidx.navigation:navigation-fragment-ktx:$nav_version&quot;</span><br><span class="line">    api &quot;androidx.navigation:navigation-ui-ktx:$nav_version&quot;</span><br><span class="line">    api &quot;androidx.navigation:navigation-dynamic-features-fragment:$nav_version&quot;</span><br><span class="line">}</span><br></pre></td></tr></table></figure>

<p>&#x6211;&#x4EEC;&#x5728; app module &#x4E2D;&#x7684; res/navigation &#x76EE;&#x5F55;&#x4E0B;&#x521B;&#x5EFA; main_nav.xml</p>
<p><img src="https://gitee.com/songjianzaina/juejin_p4/raw/master/img/3fffc5dd1ee35c818749258a24866bf56d88879c52ac1138d3500ddf9d07243e" alt="main_nav.xml"></p>
<p>main_nav.xml</p>
<p>&#x63A5;&#x7740;&#x6211;&#x4EEC;&#x5728; activity_main &#x4E2D;&#x8BBE;&#x7F6E;&#x9ED8;&#x8BA4;&#x7684; host</p>
<p><img src="https://gitee.com/songjianzaina/juejin_p4/raw/master/img/d28558fc7dc5a7175727284c4d23a006e9a2137822c0d3d436afabc4e45f8b9c" alt="&#x9ED8;&#x8BA4; host"></p>
<p>&#x9ED8;&#x8BA4; host</p>
<blockquote>
<p>&#x275D;<br>&#x8FD9;&#x91CC;&#x4E0D;&#x540C;&#x4E8E;&#x6B63;&#x5E38; navigation &#x7684;&#x7528;&#x6CD5;&#xFF0C;&#x6CA1;&#x6709;&#x4F7F;&#x7528; NavHostFragment&#xFF0C;&#x800C;&#x662F;&#x4F7F;&#x7528; DynamicNavHostFragment</p>
<p>&#x275E;</p>
</blockquote>
<h3 id="&#x76F4;&#x63A5;&#x8DF3;&#x8F6C;-fragment"><a href="#&#x76F4;&#x63A5;&#x8DF3;&#x8F6C;-fragment" class="headerlink" title="&#x76F4;&#x63A5;&#x8DF3;&#x8F6C; fragment"></a>&#x76F4;&#x63A5;&#x8DF3;&#x8F6C; fragment</h3><p>&#x6211;&#x4EEC;&#x521B;&#x5EFA; dynamic feature module &#xFF0C;&#x53D6;&#x540D;&#x4E3A; feature1</p>
<p><img src="https://gitee.com/songjianzaina/juejin_p4/raw/master/img/635316cc9c328eb513baf615324bb63bb821cd9f5ffd3672c2a91a671925287f" alt="&#x521B;&#x5EFA; dynamic feature module"></p>
<p>&#x521B;&#x5EFA; dynamic feature module</p>
<p><img src="https://gitee.com/songjianzaina/juejin_p4/raw/master/img/f2b5470729635b7f4f9b45b39fa1e3f5ebfac3c8c986491b023afd59c77dc3d1" alt="&#x5305;&#x540D;&#x524D;&#x90E8;&#x5206;&#x9700;&#x4FDD;&#x8BC1;&#x4E0E; applicationId &#x76F8;&#x540C;"></p>
<p>&#x5305;&#x540D;&#x524D;&#x90E8;&#x5206;&#x9700;&#x4FDD;&#x8BC1;&#x4E0E; applicationId &#x76F8;&#x540C;</p>
<blockquote>
<p>&#x275D;<br>&#x8FD9;&#x91CC; <code>dynamic feature module</code> &#x7684;&#x5305;&#x540D;&#x524D;&#x90E8;&#x5206;&#x8981;&#x548C; applicationId &#x5373; app module &#x5305;&#x540D;&#x76F8;&#x540C;&#xFF0C;&#x5426;&#x5219;&#x540E;&#x7EED;&#x7684; include &#x64CD;&#x4F5C;&#x4F1A;&#x6709;&#x95EE;&#x9898;</p>
<p>&#x275E;</p>
</blockquote>
<p><img src="https://gitee.com/songjianzaina/juejin_p4/raw/master/img/f7830ba7e4cbe0abc5133be8bd67e44d495f82197de6670800be84f97f959a2d" alt="&#x9009;&#x62E9;&#x52A0;&#x8F7D;&#x6A21;&#x5F0F;"></p>
<p>&#x9009;&#x62E9;&#x52A0;&#x8F7D;&#x6A21;&#x5F0F;</p>
<p>&#x8FD9;&#x91CC;&#x6211;&#x4EEC;&#x9009;&#x62E9;&#x5728;&#x5B89;&#x88C5;&#x65F6;&#x96C6;&#x6210;&#x8BE5; module</p>
<p>&#x63A5;&#x7740;&#x6211;&#x4EEC;&#x5728;&#x8BE5; module &#x4E0B;&#x521B;&#x5EFA;&#x4E00;&#x4E2A; fragment &#x53D6;&#x540D;&#x4E3A; <code>Feature1OneFragment</code></p>
<p>&#x4E4B;&#x540E;&#x6211;&#x4EEC;&#x76F4;&#x63A5;&#x5728; main_nav.xml &#x4E2D;&#x5F15;&#x5165; &#x8BE5; fragment &#x5E76;&#x52A0;&#x5165; action</p>
<p><img src="https://gitee.com/songjianzaina/juejin_p4/raw/master/img/161be2d1de1968a3d98437e6cf85f8a7e726219b62360162f6bf3f53894664eb" alt="&#x76F4;&#x63A5;&#x5F15;&#x5165; fragment"></p>
<p>&#x76F4;&#x63A5;&#x5F15;&#x5165; fragment</p>
<p>&#x63A5;&#x7740;&#x6211;&#x4EEC;&#x5C31;&#x53EF;&#x4EE5;&#x5728; app &#x4E0B;&#x7684; MainFragment &#x6253;&#x5F00; Feature1OneFragment</p>
<p><img src="https://gitee.com/songjianzaina/juejin_p4/raw/master/img/ef16ae5fd82778d9913075f9d242f6e46081d6735394b1b9e712cda467e458fb" alt="&#x542F;&#x52A8; fragment"></p>
<p>&#x542F;&#x52A8; fragment</p>
<blockquote>
<p>&#x275D;<br>&#x6211;&#x7684; demo &#x4E2D; feature2 &#x662F;&#x76F4;&#x63A5;&#x5F15;&#x5165; fragment&#xFF0C;&#x56E0;&#x6B64;&#x8DF3;&#x8F6C;&#x7684;&#x662F; Feature2OneFragment</p>
<p>&#x275E;</p>
</blockquote>
<h3 id="&#x76F4;&#x63A5;&#x8DF3;&#x8F6C;-activity"><a href="#&#x76F4;&#x63A5;&#x8DF3;&#x8F6C;-activity" class="headerlink" title="&#x76F4;&#x63A5;&#x8DF3;&#x8F6C; activity"></a>&#x76F4;&#x63A5;&#x8DF3;&#x8F6C; activity</h3><p>&#x5728; feature1 &#x4E2D;&#x521B;&#x5EFA; activity (demo &#x4E2D;&#x4E3A; feature2)</p>
<p><img src="https://gitee.com/songjianzaina/juejin_p4/raw/master/img/7bca3f846225df95de8276e4536ec961612dbb164d391efd45b123565ff1f70c" alt="&#x8DF3;&#x8F6C; activity"></p>
<p>&#x8DF3;&#x8F6C; activity</p>
<p>&#x540C;&#x6837;&#x9700;&#x8981;&#x6307;&#x5B9A; moduleName</p>
<p><img src="https://gitee.com/songjianzaina/juejin_p4/raw/master/img/2d97a18dff054941593366065bb5637b6669eb81e5b6180698233692ade5e5c0" alt="&#x542F;&#x52A8;activity"></p>
<p>&#x542F;&#x52A8;activity</p>
<h3 id="&#x4F7F;&#x7528;-dynamic-feature-module-&#x5185;&#x90E8;&#x7684;-graph"><a href="#&#x4F7F;&#x7528;-dynamic-feature-module-&#x5185;&#x90E8;&#x7684;-graph" class="headerlink" title="&#x4F7F;&#x7528; dynamic feature module &#x5185;&#x90E8;&#x7684; graph"></a>&#x4F7F;&#x7528; dynamic feature module &#x5185;&#x90E8;&#x7684; graph</h3><p>&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x4E3A; dynamic feature module &#x5355;&#x72EC;&#x914D;&#x7F6E; navigation graph&#xFF0C;&#x8FD9;&#x6837;&#x5C31;&#x53EF;&#x4EE5;&#x5904;&#x7406; dynamic feature module &#x5185;&#x90E8;&#x7684;&#x8DF3;&#x8F6C;&#x4E86;</p>
<p>&#x5728; feature1 &#x4E2D;&#x521B;&#x5EFA; feature1_nav.xml &#xFF0C;&#x5176;&#x4E2D; startDestination &#x4E3A; Feature1OneFragment</p>
<p><img src="https://gitee.com/songjianzaina/juejin_p4/raw/master/img/80169ab0304fec673a56192600d137a060d0f8397c3bbfc75b0c624751dd562c" alt="feature1_nav.xml"></p>
<p>feature1_nav.xml</p>
<p>&#x5728; main_nav.xml &#x6211;&#x4EEC;&#x9700;&#x8981;&#x4F7F;&#x7528;&#x53E6;&#x5916;&#x4E00;&#x79CD;&#x65B9;&#x5F0F;&#x6765;&#x4F7F;&#x7528;&#x8BE5; graph</p>
<p><img src="https://gitee.com/songjianzaina/juejin_p4/raw/master/img/4739b5d99e46dc86cb98f6d8e0dd19d3c2d64f41eab4e232afa14883caaca4da" alt="include-dynamic"></p>
<p>include-dynamic</p>
<p>&#x6211;&#x4EEC;&#x4F7F;&#x7528;&#x4E86;&#x4E00;&#x4E2A;&#x65B0;&#x7684;&#x6807;&#x7B7E; <code>include-dynamic</code>&#xFF0C;&#x540C;&#x65F6;&#x6211;&#x4EEC;&#x770B;&#x5230;&#x4E86;&#x51E0;&#x4E2A;&#x6CA1;&#x7528;&#x8FC7;&#x7684;&#x5C5E;&#x6027;</p>
<ul>
<li><code>graphPackage</code> &#x4E3A; <code>dynamic feature module</code> &#x7684;&#x5305;&#x540D;</li>
<li><code>graphResName</code> &#x4E3A; <code>dynamic feature module</code> &#x5185;&#x90E8; graph &#x7684;&#x540D;&#x5B57;</li>
<li><code>moduleName</code> &#x4E3A; module &#x540D;</li>
</ul>
<blockquote>
<p>&#x275D;<br>&#x6CE8;&#x610F;&#xFF1A;&#x8FD9;&#x91CC;&#x7684; graphPackage &#x53EF;&#x4EE5;&#x7701;&#x7565;</p>
<ol>
<li>&#x5982;&#x679C; module &#x7684;&#x5305;&#x540D;&#x6CA1;&#x7528;&#x6309;&#x7167;&#x524D;&#x6587;&#x7684;&#x683C;&#x5F0F;&#x914D;&#x7F6E;&#x4F1A;&#x5BFC;&#x81F4;&#x65E0;&#x6CD5;&#x627E;&#x5230; graphId &#x7684;&#x5F02;&#x5E38;</li>
<li>include-dynamic &#x6807;&#x7B7E;&#x7684; id &#x8981;&#x4E0E; <code>feature1_nav.xml</code> navigation &#x6807;&#x7B7E;&#x4E0B;&#x7684; id &#x4E00;&#x81F4;&#xFF0C;&#x6216;&#x8005;&#x540E;&#x8005;&#x4E0D;&#x8BBE;&#x7F6E; id</li>
</ol>
<p>&#x275E;</p>
</blockquote>
<p>&#x8FD9;&#x6837;&#x4ECE; app module &#x5BFC;&#x822A;&#x5230; feature1 &#x7684; startDestination &#x540E;&#x4FBF;&#x53EF;&#x4F7F;&#x7528;&#x5176;&#x5185;&#x90E8;&#x7684;&#x903B;&#x8F91;&#x8FDB;&#x884C;&#x540E;&#x7EED;&#x7684;&#x5BFC;&#x822A;&#x4E86;</p>
<p><img src="https://gitee.com/songjianzaina/juejin_p4/raw/master/img/4cd003fc417dc23062e623c8bd39cd9b7b8efdd961869d28ca5d8cc359dd6f18" alt="include &#x8DF3;&#x8F6C;"></p>
<p>include &#x8DF3;&#x8F6C;</p>
<h2 id="feature-module-&#x95F4;&#x8DF3;&#x8F6C;"><a href="#feature-module-&#x95F4;&#x8DF3;&#x8F6C;" class="headerlink" title="feature module &#x95F4;&#x8DF3;&#x8F6C;"></a>feature module &#x95F4;&#x8DF3;&#x8F6C;</h2><p><img src="https://gitee.com/songjianzaina/juejin_p4/raw/master/img/ad355229144ce8ad293b9b216c5f3bab60828e662bfe0c6552eeaca5749c7c8a" alt="&#x6682;&#x4E0D;&#x652F;&#x6301; deep link"></p>
<p>&#x6682;&#x4E0D;&#x652F;&#x6301; deep link</p>
<p>Navigation &#x7EC4;&#x4EF6;&#x6682;&#x4E0D;&#x652F;&#x6301; Dynamic include graph &#x7684; deep link</p>
<p>&#x56E0;&#x6B64;&#x6211;&#x76EE;&#x524D;&#x4E5F;&#x6CA1;&#x6709;&#x627E;&#x5230;&#x7279;&#x522B;&#x4F18;&#x96C5;&#x7684;&#x65B9;&#x5F0F;&#xFF0C;&#x5DF2;&#x77E5;&#x7684;&#x65B9;&#x6848;&#x5982;&#x4E0B;</p>
<ul>
<li>&#x53CD;&#x5C04;</li>
<li>&#x4F7F;&#x7528; <a href="/external_links/131c0f6cf00068312d3dc30651aaf802.html" target="blank" rel="noopener">ServiceLoader</a></li>
<li>&#x4F7F;&#x7528;&#x4F9D;&#x8D56;&#x6CE8;&#x5165;</li>
</ul>
<p><a href="/external_links/0a35d6b2e9d162b86120c4725fd87fc7.html" target="blank" rel="noopener">demo</a></p>
<h2 id="&#x5173;&#x4E8E;&#x6211;"><a href="#&#x5173;&#x4E8E;&#x6211;" class="headerlink" title="&#x5173;&#x4E8E;&#x6211;"></a>&#x5173;&#x4E8E;&#x6211;</h2><p>&#x6211;&#x662F; <a href="/external_links/f172067982bb5e52cab07bce4aa1a68c.html" target="blank" rel="noopener">Fly_with24</a></p>
<ul>
<li><a href="/external_links/e91b954bff8565cd53debb24f36199c4.html" target="blank" rel="noopener">&#x6398;&#x91D1;</a></li>
<li><a href="/external_links/f5bd3cd9c71dc28aaea27f1934557350.html" target="blank" rel="noopener">&#x7B80;&#x4E66;</a></li>
<li><a href="/external_links/f7f854b2dd81e35ec46837c75f7510d7.html" target="blank" rel="noopener">Github</a></li>
</ul>
<p><strong>&#x672C;&#x6587;&#x8F6C;&#x8F7D;&#x81EA;:</strong> <a href="/external_links/17f9b30b757577630290499f1cc77205.html" target="blank" rel="noopener">&#x6398;&#x91D1;</a></p>
<p><em><a href="https://dev.newban.cn/">&#x5F00;&#x53D1;&#x8005;&#x535A;&#x5BA2; &#x2013; &#x548C;&#x5F00;&#x53D1;&#x76F8;&#x5173;&#x7684; &#x8FD9;&#x91CC;&#x5168;&#x90FD;&#x6709;</a></em></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://dev.newban.cn../../6844904164082843655.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="开发者博客">
      <meta itemprop="description" content>
      <meta itemprop="image" content="../../images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="开发者博客 – IT技术 尽在开发者博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="../../6844904164082843655.html" itemprop="url">Flutter 上默认的文本和字体知识点</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2020-05-20T17:15:03+08:00">
                2020-05-20
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>&#x6211;&#x4EEC;&#x90FD;&#x77E5;&#x9053;&#x5728; Flutter &#x4E2D;&#x53EF;&#x4EE5;&#x901A;&#x8FC7; <code>fontFamily</code> &#x6765;&#x5F15;&#x5165;&#x7B2C;&#x4E09;&#x65B9;&#x5B57;&#x4F53;&#xFF0C;&#x4F8B;&#x5982;<strong>&#x901A;&#x5E38;&#x4F1A;&#x5C06; svg &#x56FE;&#x6807;&#x8F6C;&#x6362;&#x4E3A; <code>iconfont.ttf</code> &#x6765;&#x5B9E;&#x73B0;&#x77E2;&#x91CF;&#x56FE;&#x6807;&#x7684;&#x5165;</strong>&#xFF0C;&#x800C;&#x4E00;&#x822C;&#x60C5;&#x51B5;&#x4E0B;&#x6211;&#x4EEC;&#x662F;&#x4E0D;&#x4F1A;&#x8BBE;&#x7F6E; <code>fontFamily</code> &#x6765;&#x4F7F;&#x7528;&#x7B2C;&#x4E09;&#x65B9;&#x5B57;&#x4F53;&#xFF0C; &#x90A3;&#x9ED8;&#x8BA4;&#x60C5;&#x51B5;&#x4E0B; Flutter &#x4F7F;&#x7528;&#x7684;&#x662F;&#x4EC0;&#x4E48;&#x5B57;&#x4F53;&#x5462;&#xFF1F;</p>
<p>&#x4F1A;&#x51FA;&#x73B0;&#x8FD9;&#x4E2A;&#x7591;&#x95EE;&#xFF0C;&#x662F;&#x56E0;&#x4E3A;&#x6709;&#x4E00;&#x5929;&#x8BBE;&#x8BA1;&#x7ED9;&#x6211;&#x53D1;&#x4E86;&#x4E0B;&#x9762;&#x90A3;&#x5F20;&#x56FE;&#xFF0C;&#x95EE;&#x6211; <em>&#x201C;&#x4E3A;&#x4EC0;&#x4E48;&#x5E94;&#x7528;&#x5728;&#x82F9;&#x679C;&#x5E73;&#x53F0;&#x4E0A;&#x7684;&#x82F1;&#x6587;&#x4F7F;&#x7528;&#x7684;&#x662F; <code>PingFang SC</code> &#x5B57;&#x4F53;&#x800C;&#x4E0D;&#x662F; <code>.SF UI Display</code> &#x201D;</em> &#xFF1F; &#x6B63;&#x5982;&#x4E0B;&#x56FE;&#x6240;&#x793A;&#xFF0C;&#x5B83;&#x4EEC;&#x7684; <em>G</em> &#x5B57;&#x6BCD;&#x5728;&#x663E;&#x793A;&#x6548;&#x679C;&#x4E0A;&#x4F1A;&#x6709;&#x6240;&#x5DEE;&#x5F02;&#xFF0C;&#x6BD4;&#x5982; &#x5E73;&#x65B9;&#x7684; <em>G</em> &#x6709;&#x660E;&#x663E;&#x7684;&#x8F6C;&#x6298;&#x7EBF;&#x3002;</p>
<p><img src="https://gitee.com/songjianzaina/juejin_p2/raw/master/img/abe8f0443452641a27a83ef944078f9a9d4dace1f111e951e1480830ffc5bbda" alt></p>
<p><strong>&#x8FD9;&#x65F6;&#x5019;&#x6211;&#x4E0D;&#x7981;&#x4EA7;&#x751F;&#x7684;&#x597D;&#x5947;&#xFF0C;&#x5728; Flutter &#x4E2D;&#x5F15;&#x64CE;&#x9ED8;&#x8BA4;&#x7A76;&#x7ADF;&#x662F;&#x5982;&#x4F55;&#x9009;&#x62E9;&#x5B57;&#x4F53;&#xFF1F;</strong></p>
<p>&#x901A;&#x8FC7;&#x5B98;&#x65B9;&#x89E3;&#x91CA;&#xFF0C;&#x5728;<br><code>typography.dart</code> &#x6E90;&#x7801;&#x4E2D;&#x53EF;&#x4EE5;&#x770B;&#x5230;&#xFF0C;</p>
<ul>
<li>Flutter &#x9ED8;&#x8BA4;&#x5728; Android &#x4E0A;&#x4F7F;&#x7528;&#x7684;&#x662F; <code>Roboto</code> &#x5B57;&#x4F53;&#xFF1B;</li>
<li>&#x5728; iOS &#x4E0A;&#x4F7F;&#x7528;&#x7684;&#x662F; <code>.SF UI Display</code> &#x6216;&#x8005; <code>.SF UI Text</code> &#x5B57;&#x4F53;&#x3002;</li>
</ul>
<blockquote>
<p>The default font on Android is Roboto and on iOS it is .SF UI Display or .SF UI Text (SF meaning San Francisco). If you want to use a different font, then you will need to add it to your app.</p>
</blockquote>
<p><img src="https://gitee.com/songjianzaina/juejin_p2/raw/master/img/940579c7a9c767b2abe71eec14725f46eb2c576b69eb9f8761e563a26cf6dac2" alt></p>
<p>&#x90A3;&#x7406;&#x8BBA;&#x4E0A;&#x5728; iOS &#x4F7F;&#x7528;&#x7684;&#x5C31;&#x662F; <code>.SF UI Display</code> &#x5B57;&#x4F53;&#x624D;&#x5BF9;&#xFF0C;&#x56E0;&#x4E3A;&#x5982;&#x4E0B;&#x6E90;&#x7801;&#x6240;&#x793A;&#xFF0C;&#x5728; <code>Typography</code> &#x4E2D;&#x5F53; <code>platform</code> &#x662F; <code>iOS</code> &#x65F6;&#xFF0C;&#x4F7F;&#x7528;&#x7684;&#x5C31;&#x662F; <code>Cupertino</code> &#x76F8;&#x5173;&#x7684; <code>TextTheme</code>&#xFF0C;&#x800C; <code>Typography</code> &#x4E2D;&#x7684; <code>white</code> &#x548C; <code>black</code> &#x5C5E;&#x6027;&#x6700;&#x7EC8;&#x4F1A;&#x5E94;&#x7528;&#x5230; <code>ThemeData</code> &#x7684; <code>defaultTextTheme</code>&#x3001; <code>defaultPrimaryTextTheme</code> &#x548C; <code>defaultAccentTextTheme</code> &#x4E2D;&#xFF0C;&#x6240;&#x4EE5;&#x5E94;&#x8BE5;&#x662F;&#x4F7F;&#x7528; <code>.SF</code> &#x76F8;&#x5173;&#x5B57;&#x4F53;&#x624D;&#x4F1A;&#xFF0C;&#x4E3A;&#x4EC0;&#x4E48;&#x4F1A;&#x663E;&#x793A;&#x7684;&#x662F; <code>PingFang SC</code> &#x7684;&#x6548;&#x679C;&#xFF1F;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">&#x590D;&#x5236;&#x4EE3;&#x7801; factory Typography({</span><br><span class="line">    TargetPlatform platform = TargetPlatform.android,</span><br><span class="line">    TextTheme black,</span><br><span class="line">    TextTheme white,</span><br><span class="line">    TextTheme englishLike,</span><br><span class="line">    TextTheme dense,</span><br><span class="line">    TextTheme tall,</span><br><span class="line">  }) {</span><br><span class="line">    assert(platform != null || (black != null &amp;&amp; white != null));</span><br><span class="line">    switch (platform) {</span><br><span class="line">      case TargetPlatform.iOS:</span><br><span class="line">        black ??= blackCupertino;</span><br><span class="line">        white ??= whiteCupertino;</span><br><span class="line">        break;</span><br><span class="line">      case TargetPlatform.android:</span><br><span class="line">      case TargetPlatform.fuchsia:</span><br><span class="line">        black ??= blackMountainView;</span><br><span class="line">        white ??= whiteMountainView;</span><br><span class="line">    }</span><br><span class="line">    englishLike ??= englishLike2014;</span><br><span class="line">    dense ??= dense2014;</span><br><span class="line">    tall ??= tall2014;</span><br><span class="line">    return Typography._(black, white, englishLike, dense, tall);</span><br><span class="line">  }</span><br></pre></td></tr></table></figure>

<p>&#x4E3A;&#x4E86;&#x641E;&#x6E05;&#x4E0D;&#x540C;&#x7CFB;&#x7EDF;&#x4E0A;&#x5B57;&#x4F53;&#x7684;&#x533A;&#x522B;&#xFF0C;&#x5728;&#x67E5;&#x9605;&#x4E86;&#x8D44;&#x6599;&#x540E;&#x53EF;&#x77E5;&#xFF1A;</p>
<ul>
<li>&#x9ED8;&#x8BA4;&#x5728; iOS &#x4E0A;&#xFF1A;</li>
</ul>
<pre><code>+ &#x4E2D;&#x6587;&#x5B57;&#x4F53;&#xFF1A;`PingFang SC`
+ &#x82F1;&#x6587;&#x5B57;&#x4F53;&#xFF1A;`.SF UI Text` &#x3001;`.SF UI Display`</code></pre><ul>
<li>&#x9ED8;&#x8BA4;&#x5728; Android &#x4E0A;&#xFF1A;</li>
</ul>
<pre><code>+ &#x4E2D;&#x6587;&#x5B57;&#x4F53;&#xFF1A;`Source Han Sans` / `Noto`
+ &#x82F1;&#x6587;&#x5B57;&#x4F53;&#xFF1A;`Roboto`</code></pre><p>&#x4E5F;&#x5C31;&#x662F;&#x5C31; iOS &#x4E0A;&#x9664;&#x4E86; <code>.SF</code> &#x76F8;&#x5173;&#x7684;&#x5B57;&#x4F53;&#x5916;&#xFF0C;&#x8FD8;&#x6709; <code>PingFang</code> &#x5B57;&#x4F53;&#x7684;&#x5B58;&#x5728;&#xFF0C;&#x8FD9;&#x65F6;&#x5019;&#x6211;&#x7A81;&#x7136;&#x60F3;&#x8D77;&#x5728;&#x4E4B;&#x524D;&#x7684; <a href="https://dev.newban.cn/6844903930183286791#heading-10">&#x300A;Flutter&#x5B8C;&#x6574;&#x5F00;&#x53D1;&#x5B9E;&#x6218;&#x8BE6;&#x89E3;(&#x5341;&#x4E03;&#x3001; &#x5B9E;&#x7528;&#x6280;&#x5DE7;&#x4E0E;&#x586B;&#x5751;&#x4E8C;)&#x300B;</a> &#x4E2D;&#xFF0C;&#x56E0;&#x4E3A;&#x56FD;&#x9645;&#x5316;&#x591A;&#x8BED;&#x8A00;&#x5728; <code>.SF</code> &#x4F1A;&#x51FA;&#x73B0;&#x663E;&#x793A;&#x5F02;&#x5E38;&#xFF0C;&#x6240;&#x4EE5;&#x4F7F;&#x7528;&#x4E86; <code>fontFamilyFallback</code> &#x5F3A;&#x884C;&#x6307;&#x5B9A;&#x4E86; <code>PingFang SC</code> &#x3002;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&#x590D;&#x5236;&#x4EE3;&#x7801;  getCopyTextStyle(TextStyle textStyle) {</span><br><span class="line">    return textStyle.copyWith(fontFamilyFallback: [&quot;PingFang SC&quot;, &quot;Heiti SC&quot;]);</span><br><span class="line">  }</span><br></pre></td></tr></table></figure>

<p><img src="https://gitee.com/songjianzaina/juejin_p2/raw/master/img/01c787761571d525f60f83dcd124270151ada5f042c3563e46c2db462bfde747" alt></p>
<p>&#x7EC8;&#x4E8E;&#x7834;&#x6848;&#x4E86;&#xFF0C;&#x56E0;&#x4E3A;&#x5F53; <code>fontFamily</code> &#x6CA1;&#x6709;&#x8BBE;&#x7F6E;&#x65F6;&#xFF0C;&#x5C31;&#x4F1A;&#x4F7F;&#x7528; <code>fontFamilyFallback</code> &#x4E2D;&#x7684;&#x7B2C;&#x4E00;&#x4E2A;&#x503C;&#x5C06;&#x4F5C;&#x4E3A;&#x9996;&#x9009;&#x5B57;&#x4F53;&#xFF0C;&#x800C;&#x5728; <code>fontFamilyFallback</code> &#x4E2D;&#x662F;&#x987A;&#x5E8F;&#x5339;&#x914D;&#x7684;&#xFF0C;&#x5F53;<code>fontFamily</code> &#x548C; <code>fontFamilyFallback</code> &#x4E24;&#x8005;&#x90FD;&#x4E0D;&#x63D0;&#x4F9B;&#xFF0C;&#x5219;&#x5C06;&#x4F7F;&#x7528;&#x9ED8;&#x8BA4;&#x5E73;&#x53F0;&#x5B57;&#x4F53;&#x3002;</p>
<p>&#x800C;&#x5728; 1.12.13 &#x7248;&#x672C;&#x4E0B;&#x6D4B;&#x8BD5;&#x53D1;&#x73B0; <code>.SF</code> &#x5BFC;&#x81F4;&#x7684;&#x95EE;&#x9898;&#x5DF2;&#x7ECF;&#x4FEE;&#x590D;&#x4E86;&#xFF0C;&#x6240;&#x4EE5;&#x53EA;&#x9700;&#x8981;&#x5C06; <code>fontFamilyFallback</code> &#x76F8;&#x5173;&#x7684;&#x4EE3;&#x7801;&#x53BB;&#x9664;&#x5373;&#x53EF;&#x3002;</p>
<p><strong>&#x90A3;&#x5728; iOS &#x4E0A;&#x4F7F;&#x7528; <code>.SF</code> &#x5B57;&#x4F53;&#x6709;&#x4EC0;&#x4E48;&#x597D;&#x5904;&#xFF1F;</strong> &#x6309;&#x7167;&#x7F51;&#x7EDC;&#x4E0A;&#x7684;&#x8BF4;&#x6CD5;&#x662F;&#xFF1A;</p>
<blockquote>
<p><code>SF Text</code> &#x7684;&#x5B57;&#x8DDD;&#x53CA;&#x5B57;&#x6BCD;&#x7684;&#x534A;&#x5C01;&#x95ED;&#x7A7A;&#x95F4;&#xFF0C;&#x6BD4;&#x5982; <code>&quot;a&quot;!</code> &#x4E0A;&#x534A;&#x90E8;&#x5206;&#x4F1A;&#x66F4;&#x5927;&#xFF0C;&#x56E0;&#x5176;&#x53EF;&#x8BFB;&#x6027;&#x66F4;&#x597D;&#xFF0C;&#x9002;&#x7528;&#x4E8E;&#x66F4;&#x5C0F;&#x7684;&#x5B57;&#x4F53;; <code>SF Display</code> &#x5219;&#x9002;&#x7528;&#x4E8E;&#x504F;&#x5927;&#x7684;&#x5B57;&#x4F53;&#x3002;&#x5177;&#x4F53;&#x5206;&#x6C34;&#x5CAD;&#x5C31;&#x662F; <code>20pt</code> , &#x5373;&#x5B57;&#x4F53;&#x5C0F;&#x4E8E; <code>20pt</code> &#x65F6;&#x7528; <code>Text</code> &#xFF0C;&#x5927;&#x4E8E;&#x7B49;&#x4E8E; <code>20pt</code> &#x65F6;&#x7528; <code>Display</code> &#x3002;</p>
<p>&#x66F4;&#x68D2;&#x7684;&#x662F;&#x7531;&#x4E8E; <code>SF</code> &#x5C5E;&#x4E8E;&#x52A8;&#x6001;&#x5B57;&#x4F53;&#xFF0C;<code>Text</code> &#x548C; <code>Display</code> &#x4E24;&#x79CD;&#x5B57;&#x4F53;&#x65CF;&#x662F;&#x7CFB;&#x7EDF;&#x52A8;&#x6001;&#x5339;&#x914D;&#x7684;&#xFF0C;&#x4E5F;&#x5C31;&#x662F;&#x8BF4;&#x4F60;&#x4E0D;&#x7528;&#x8D39;&#x5FC3;&#x53BB;&#x81EA;&#x5DF1;&#x624B;&#x52A8;&#x8C03;&#x8282;&#xFF0C;&#x7CFB;&#x7EDF;&#x81EA;&#x52A8;&#x6839;&#x636E;&#x5B57;&#x4F53;&#x7684;&#x5927;&#x5C0F;&#x5339;&#x914D;&#x8FD9;&#x4E24;&#x79CD;&#x663E;&#x793A;&#x6A21;&#x5F0F;&#x3002;</p>
</blockquote>
<p>&#x90A3;&#x80FD;&#x4E0D;&#x80FD;&#x5728; Android &#x4E0A;&#x4E5F;&#x4F7F;&#x7528;<code>.SF</code> &#x5B57;&#x4F53;&#x5462;&#xFF1F;&#x6309;&#x7167;&#x5B98;&#x65B9;&#x7684;&#x8BF4;&#x6CD5;&#xFF1A;</p>
<ul>
<li>&#x5728;&#x4F7F;&#x7528; Material package &#x65F6;&#xFF0C;&#x5728; Android &#x4E0A;&#x4F7F;&#x7528;&#x7684;&#x662F; &#xB7;Roboto font&#xB7; &#xFF0C;&#x800C; iOS &#x4F7F;&#x7528;&#x7684;&#x662F; <code>San Francisco font(SF)</code> &#xFF1B;</li>
<li>&#x5728;&#x4F7F;&#x7528; Cupertino package &#x65F6;&#xFF0C;&#x9ED8;&#x8BA4;&#x4E3B;&#x9898;&#x59CB;&#x7EC8;&#x4F7F;&#x7528; <code>San Francisco font(SF)</code> &#xFF1B;</li>
</ul>
<p><strong>&#x4F46;&#x662F;&#x56E0;&#x4E3A; <code>San Francisco font license</code> &#x9650;&#x5236;&#x4E86;&#x8BE5;&#x5B57;&#x4F53;&#x53EA;&#x80FD;&#x5728; iOS&#x3001;macOS &#x6216; tvOS &#x4E0A;&#x8FD0;&#x884C;&#x4F7F;&#x7528;&#xFF0C;&#x6240;&#x4EE5;&#x5982;&#x679C;&#x4F7F;&#x7528;&#x4E86; Cupertino &#x4E3B;&#x9898;&#x7684;&#x8BDD;&#xFF0C;&#x5728; Android &#x4E0A;&#x8FD0;&#x884C;&#x65F6;&#x4F7F;&#x7528; fallback font&#x3002;</strong></p>
<p>&#x6240;&#x4EE5;&#x4F60;&#x89C9;&#x5F97;&#x80FD;&#x4E0D;&#x80FD;&#x5728; Android &#x4E0A;&#x4F7F;&#x7528;&#xFF1F;</p>
<p>&#x6700;&#x540E;&#x518D;&#x8865;&#x5145;&#x4E0B;&#xFF0C;&#x5728;&#x5B98;&#x65B9;&#x7684; <a href="/external_links/900d553e32bf3608447b05ec8fee90a9.html" target="blank" rel="noopener">architecture</a> &#x4E2D;&#x6709;&#x63D0;&#x5230;&#xFF0C;&#x5728; Flutter &#x4E2D;&#x7684;&#x6587;&#x672C;&#x5448;&#x73B0;&#x903B;&#x8F91;&#x662F;&#x6709;&#x5206;&#x5C42;&#x7684;&#xFF0C;&#x5176;&#x4E2D;&#xFF1A;</p>
<ul>
<li>&#x884D;&#x751F;&#x81EA; Minikin &#x7684; libtxt &#x5E93;&#x7528;&#x4E8E;&#x5B57;&#x4F53;&#x9009;&#x62E9;&#xFF0C;&#x5206;&#x9694;&#x884C;&#x7B49;&#xFF1B;</li>
<li>HartBuzz &#x7528;&#x4E8E;&#x5B57;&#x5F62;&#x9009;&#x62E9;&#x548C;&#x6210;&#x578B;&#xFF1B;</li>
<li>Skia&#x4F5C;&#x4E3A; &#x6E32;&#x67D3; / GPU&#x540E;&#x7AEF;&#xFF1B;</li>
<li>&#x5728; Android / Fuchsia &#x4E0A;&#x4F7F;&#x7528; FreeType &#x6E32;&#x67D3;&#xFF0C;&#x5728; iOS &#x4E0A;&#x4F7F;&#x7528;CoreGraphics &#x6765;&#x6E32;&#x67D3;&#x5B57;&#x4F53; &#x3002;</li>
</ul>
<blockquote>
<p>&#x90A3;&#x8BFB;&#x5B8C;&#x672C;&#x7BC7;&#xFF0C;&#x4F60;&#x5947;&#x5947;&#x602A;&#x602A;&#x7684;&#x77E5;&#x8BC6;&#x70B9;&#x6709;&#x6CA1;&#x6709;&#x589E;&#x52A0;&#xFF1F;</p>
</blockquote>
<p><img src="https://gitee.com/songjianzaina/juejin_p2/raw/master/img/27843022fe391190fd41841d8b4e36bfbcbb62313e7768afddb928d852e44c06" alt></p>
<p><strong>&#x672C;&#x6587;&#x8F6C;&#x8F7D;&#x81EA;:</strong> <a href="/external_links/1f3dee461e63ec0c91b95ec4b0ae2a2b.html" target="blank" rel="noopener">&#x6398;&#x91D1;</a></p>
<p><em><a href="https://dev.newban.cn/">&#x5F00;&#x53D1;&#x8005;&#x535A;&#x5BA2; &#x2013; &#x548C;&#x5F00;&#x53D1;&#x76F8;&#x5173;&#x7684; &#x8FD9;&#x91CC;&#x5168;&#x90FD;&#x6709;</a></em></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://dev.newban.cn../../6844904163290120206.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="开发者博客">
      <meta itemprop="description" content>
      <meta itemprop="image" content="../../images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="开发者博客 – IT技术 尽在开发者博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="../../6844904163290120206.html" itemprop="url">大白话 六问数据中台！你想知道的都在这了！ 第一问：数据中台</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2020-05-19T22:06:51+08:00">
                2020-05-19
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p><img src="https://gitee.com/songjianzaina/juejin_p7/raw/master/img/65ef6f5a7ac5a22f6f25185f3943a3e997cfed8308195ddfcd147eba64343d07" alt="_1"></p>
<p>&#x6570;&#x636E;&#x4E2D;&#x53F0;&#x3001;&#x76F8;&#x4FE1;&#x8FD9;&#x56DB;&#x4E2A;&#x5B57;&#x5927;&#x5BB6;&#x4E00;&#x5B9A;&#x4E0D;&#x964C;&#x751F;&#x3002;&#x56E0;&#x4E3A;&#x5728;2019&#x5E74;&#x3001;&#x6570;&#x636E;&#x4E2D;&#x53F0;&#x53EF;&#x8C13;&#x662F;&#x6700;&#x706B;&#x7684;&#x6982;&#x5FF5;&#x4E4B;&#x4E00;&#xFF0C;&#x5F88;&#x591A;&#x5927;&#x516C;&#x53F8;&#x90FD;&#x5728;&#x5E03;&#x5C40;&#x81EA;&#x5DF1;&#x7684;&#x6570;&#x636E;&#x4E2D;&#x53F0;&#x3002;</p>
<p>&#x90A3;&#x4E48;&#x6570;&#x636E;&#x4E2D;&#x53F0;&#x5230;&#x5E95;&#x662F;&#x4EC0;&#x4E48;&#xFF1F;&#x5B83;&#x548C;&#x6211;&#x4EEC;&#x719F;&#x77E5;&#x7684;&#x6570;&#x636E;&#x5E73;&#x53F0;&#x6709;&#x5565;&#x533A;&#x522B;&#xFF1F;&#x5B83;&#x4E3A;&#x4EC0;&#x4E48;&#x4F1A;&#x8FD9;&#x4E48;&#x706B;&#x3001;&#x80FD;&#x7ED9;&#x4F01;&#x4E1A;&#x5E26;&#x6765;&#x4EC0;&#x4E48;&#x4EF7;&#x503C;&#x5462;&#xFF1F;&#x6570;&#x636E;&#x4E2D;&#x53F0;&#x6574;&#x4F53;&#x67B6;&#x6784;&#x548C;&#x5168;&#x666F;&#x56FE;&#x53C8;&#x662F;&#x4EC0;&#x4E48;&#x5462;&#xFF1F;</p>
<p>&#x7B14;&#x8005;&#x6709;&#x5E78;&#x53C2;&#x4E0E;&#x4E86;&#x516C;&#x53F8;&#x6570;&#x636E;&#x4E2D;&#x53F0;&#x4ECE;0&#x5230;N&#x7684;&#x5EFA;&#x8BBE;&#xFF0C;&#x8BA1;&#x5212;&#x4ECE;&#x6982;&#x5FF5;&#x5230;&#x843D;&#x5730;&#xFF0C;&#x628A;&#x4E2D;&#x53F0;&#x90A3;&#x4E9B;&#x4E8B;&#x8DDF;&#x60A8;&#x8BF4;&#x900F;&#xFF0C;&#x4E0E;&#x60A8;&#x4E00;&#x8D77;&#x5206;&#x4EAB;&#x5B66;&#x4E60;&#x3002;&#x7B14;&#x8005;&#x516C;&#x4F17;&#x53F7;&#xFF1A;&#x3010;&#x80D6;&#x6EDA;&#x732A;&#x5B66;&#x7F16;&#x7A0B;&#x3011;</p>
<h1 id="&#x7B2C;&#x4E00;&#x95EE;&#xFF1A;&#x6570;&#x636E;&#x4E2D;&#x53F0;&#x662F;&#x4EC0;&#x4E48;"><a href="#&#x7B2C;&#x4E00;&#x95EE;&#xFF1A;&#x6570;&#x636E;&#x4E2D;&#x53F0;&#x662F;&#x4EC0;&#x4E48;" class="headerlink" title="&#x7B2C;&#x4E00;&#x95EE;&#xFF1A;&#x6570;&#x636E;&#x4E2D;&#x53F0;&#x662F;&#x4EC0;&#x4E48;"></a>&#x7B2C;&#x4E00;&#x95EE;&#xFF1A;&#x6570;&#x636E;&#x4E2D;&#x53F0;&#x662F;&#x4EC0;&#x4E48;</h1><p>&#x5148;&#x4E0D;&#x8BF4;&#x90A3;&#x4E9B;&#x5B98;&#x65B9;&#x7684;&#x62BD;&#x8C61;&#x7684;&#x6982;&#x5FF5;&#x4E86;&#xFF0C;&#x6211;&#x60F3;&#x7528;&#x6211;&#x81EA;&#x5DF1;&#x7684;&#x5927;&#x767D;&#x8BDD;&#x53BB;&#x8BF4;&#x6570;&#x636E;&#x4E2D;&#x53F0;&#x7684;&#x6982;&#x5FF5;&#x3002;</p>
<p>&#x90A3;&#x5C31;&#x662F;<strong>&#x5982;&#x679C;&#x628A;&#x524D;&#x53F0;&#x6BD4;&#x4F5C;&#x8D5A;&#x94B1;&#x7684;&#x3002;&#x540E;&#x53F0;&#x6BD4;&#x4F5C;&#x652F;&#x6301;&#x7684;&#x3002;&#x90A3;&#x4E48;&#x4E2D;&#x53F0;&#x5462;&#x5C31;&#x662F;&#x652F;&#x6301;&#x52A0;&#x901F;&#x8D5A;&#x94B1;</strong>&#x7684;&#x3002;</p>
<p>&#x8FD9;&#x4E2A;&#x6BD4;&#x55BB;&#x6211;&#x89C9;&#x5F97;&#x8FD8;&#x662F;&#x5F88;&#x5F62;&#x8C61;&#x7684;&#xFF0C;<strong>&#x4E2D;&#x53F0;&#x5462;&#x5B83;&#x5B9E;&#x8D28;&#x5C31;&#x662F;&#x524D;&#x53F0;&#x548C;&#x540E;&#x53F0;&#x7684;&#x4E00;&#x4E2A;&#x6865;&#x6881;&#xFF0C;&#x5E76;&#x4E14;&#x5B83;&#x80FD;&#x5728;&#x8FD9;&#x5F53;&#x4E2D;&#x8D77;&#x5230;&#x5F88;&#x597D;&#x7684;&#x52A0;&#x901F;&#x6548;&#x679C;&#x3002;&#x8FD9;&#x91CC;&#x7684;&#x52A0;&#x901F;&#xFF0C;&#x53EF;&#x4EE5;&#x662F;&#x6548;&#x7387;&#x4E0A;&#x7684;&#x63D0;&#x9AD8;&#xFF0C;&#x53EF;&#x4EE5;&#x662F;&#x534F;&#x4F5C;&#x4E0A;&#x7684;&#x5171;&#x8D62;</strong>&#x3002;</p>
<p><img src="https://gitee.com/songjianzaina/juejin_p7/raw/master/img/3402251c8e866c9adaf13cdacbe024f2d9134307546c57645010516357220239" alt="image"></p>
<p>&#x4E3E;&#x4E2A;&#x4F8B;&#x5B50;&#xFF0C;&#x6BD4;&#x5982;&#x524D;&#x53F0;&#x4E1A;&#x52A1;&#x4EBA;&#x5458;&#x65E5;&#x5E38;&#x8981;&#x5206;&#x6790;&#x5E7F;&#x544A;&#x6295;&#x653E;&#x3001;&#x5728;&#x54EA;&#x4E2A;&#x5E73;&#x53F0;&#x6295;&#x653E;&#x6548;&#x76CA;&#x6700;&#x597D;&#x5462;&#xFF1F;&#x6296;&#x97F3;&#x8FD8;&#x662F;&#x5934;&#x6761;&#x5462;&#xFF1F;&#x8FD9;&#x76F4;&#x63A5;&#x6D89;&#x53CA;&#x5230;&#x516C;&#x53F8;&#x7684;money&#x4E86;&#x3002;</p>
<p>&#x524D;&#x53F0;&#x4EBA;&#x5458;&#x8981;&#x5206;&#x6790;&#x8FD9;&#x4E2A;&#x80AF;&#x5B9A;&#x8981;&#x6709;&#x6570;&#x636E;&#x5427;&#x3001;&#x5C31;&#x4F1A;&#x5411;&#x540E;&#x53F0;&#x4EBA;&#x5458;&#x8981;&#x6570;&#x636E;&#xFF1A;&#x6211;&#x9700;&#x8981;&#x54EA;&#x4E9B;&#x8868;&#x4F60;&#x8981;&#x5E2E;&#x6211;&#x540C;&#x6B65;&#x8FC7;&#x6765;&#x6570;&#x4ED3;&#x91CC;&#xFF0C;&#x540C;&#x6B65;&#x597D;&#x4E86;&#x4F60;&#x8981;&#x6388;&#x6743;&#x7ED9;&#x6211;&#xFF0C;&#x7136;&#x540E;&#x4F60;&#x518D;&#x53BB;&#x914D;&#x7F6E;&#x5B9A;&#x65F6;&#x62A5;&#x8868;&#x4EFB;&#x52A1;&#x3001;&#x914D;&#x7F6E;&#x597D;&#x4E86;&#x4F60;&#x8981;&#x518D;&#x505A;&#x4E00;&#x4E2A;&#x524D;&#x7AEF;&#x7684;&#x5C55;&#x793A;&#x9875;&#x9762;&#x3002;&#x8FD9;&#x8FD8;&#x6CA1;&#x5B8C;&#xFF0C;&#x6570;&#x636E;&#x6709;&#x95EE;&#x9898;&#x4E86;&#x8FD8;&#x5F97;&#x8DDF;&#x4F60;&#x903C;&#x903C;&#x53E8;&#x53E8;&#xFF01;</p>
<p>&#x8FD9;&#x4E2A;&#x6D41;&#x7A0B;&#x4E0B;&#x6765;&#xFF0C;&#x524D;&#x53F0;&#x4EBA;&#x5458;&#x9700;&#x8981;&#x5411;&#x540E;&#x53F0;&#x4EBA;&#x5458;&#x6C9F;&#x901A;100&#x53E5;&#x3002;&#x6709;&#x4E86;&#x6570;&#x636E;&#x4E2D;&#x53F0;&#x3001;&#x4E00;&#x53E5;&#x8BDD;&#x90FD;&#x4E0D;&#x7528;&#x8BF4;&#x4E86;&#x3002;&#x4E0A;&#x9762;&#x8FD9;&#x4E9B;&#x64CD;&#x4F5C;&#xFF0C;&#x524D;&#x53F0;&#x4EBA;&#x5458;&#x90FD;&#x53EF;&#x4EE5;&#x81EA;&#x884C;&#x5B8C;&#x6210;&#x3002;</p>
<p>&#x6240;&#x4EE5;&#x8BF4;&#x6570;&#x636E;&#x4E2D;&#x53F0;&#x7ED9;&#x6211;&#x4EEC;&#x4E1A;&#x52A1;&#x6548;&#x7387;&#x5E26;&#x6765;&#x4E86;&#x5DE8;&#x5927;&#x7684;&#x63D0;&#x5347;&#x3002;</p>
<p><strong>&#x90A3;&#x6570;&#x636E;&#x4E2D;&#x53F0;&#x6709;&#x6CA1;&#x6709;&#x7F3A;&#x70B9;&#x5462;&#xFF1F;</strong></p>
<p>&#x6211;&#x89C9;&#x5F97;&#x4E5F;&#x662F;&#x6709;&#x7684;&#xFF0C;&#x672C;&#x6765;&#x540E;&#x53F0;&#x90A3;&#x4E9B;&#x5355;&#x8EAB;&#x5C0F;&#x54E5;&#x54E5;&#x53EF;&#x4EE5;&#x8E6D;&#x8FD9;&#x4E2A;&#x673A;&#x4F1A;&#x53BB;&#x8DDF;&#x524D;&#x53F0;&#x59B9;&#x5B50;&#x6253;&#x4E9B;&#x4EA4;&#x9053;&#x3001;&#x8BF4;&#x4E0D;&#x5B9A;&#x59FB;&#x7F18;&#x5C31;&#x6765;&#x4E86;&#xFF0C;&#x6BD5;&#x7ADF;&#x524D;&#x53F0;&#x59B9;&#x5B50;&#x591A;&#xFF0C;&#x7ED3;&#x679C;&#x88AB;&#x8FD9;&#x6570;&#x636E;&#x4E2D;&#x53F0;&#x4E00;&#x641E;&#xFF0C;&#x4E00;&#x53E5;&#x8BDD;&#x90FD;&#x8BF4;&#x4E0D;&#x4E0A;&#x4E86;&#x3002;&#x8FD9;&#x786E;&#x5B9E;&#x662F;&#x6570;&#x636E;&#x4E2D;&#x53F0;&#x7684;&#x4E00;&#x4E2A;&#x7F3A;&#x70B9;&#x3002;</p>
<p>&#x73B0;&#x5728;&#x5927;&#x5BB6;&#x5E94;&#x8BE5;&#x6709;&#x4E2A;&#x521D;&#x6B65;&#x7684;&#x5370;&#x8C61;&#x4E86;&#xFF0C;&#x90A3;&#x4E48;&#x6211;&#x518D;&#x7528;&#x5B98;&#x65B9;&#x62BD;&#x8C61;&#x7684;&#x8BED;&#x53E5;&#x505A;&#x4E00;&#x4E2A;&#x603B;&#x7ED3;&#xFF1A;&#x6570;&#x636E;&#x4E2D;&#x53F0;&#x662F;<strong>&#x4F01;&#x4E1A;&#x7EA7;&#x80FD;&#x529B;&#x590D;&#x7528;&#x5E73;&#x53F0;</strong>&#xFF01;&#x4F01;&#x4E1A;&#x7EA7;&#x5927;&#x6570;&#x636E;&#x901A;&#x8FC7;&#x7CFB;&#x7EDF;&#x5316;&#x7684;&#x65B9;&#x5F0F;&#x5B9E;&#x73B0;&#x7EDF;&#x4E00;&#x5171;&#x4EAB;&#x7684;&#x6570;&#x636E;&#x7EC4;&#x7EC7;&#x3002;&#x5176;&#x4E2D;<strong>&#x5171;&#x4EAB;</strong>&#x5305;&#x62EC;&#x6570;&#x636E;&#x3001;&#x4FE1;&#x606F;&#x3001;&#x6280;&#x672F;&#x3001;&#x4E1A;&#x52A1;&#x7684;&#x5171;&#x4EAB;&#x7B49;&#x3002;&#x5B83;&#x4EE5;&#x670D;&#x52A1;&#x5316;&#x7684;&#x65B9;&#x5F0F;&#x8D4B;&#x80FD;&#x524D;&#x53F0;&#x6570;&#x636E;&#x5E94;&#x7528;&#xFF0C;&#x7A33;&#x5B9A;&#x53EF;&#x9760;&#x3001;&#x9AD8;&#x6548;&#x7684;&#x652F;&#x6301;&#x4E0A;&#x5C42;&#x4E1A;&#x52A1;&#x7684;&#x5FEB;&#x901F;&#x521B;&#x65B0;&#xFF0C;&#x4E3A;&#x4E1A;&#x52A1;<strong>&#x5FEB;&#x901F;&#x8D4B;&#x80FD;</strong>&#x3002;</p>
<h1 id="&#x7B2C;&#x4E8C;&#x95EE;&#xFF1A;&#x6570;&#x636E;&#x4E2D;&#x53F0;&#x548C;&#x6570;&#x636E;&#x5E73;&#x53F0;&#x7684;&#x533A;&#x522B;"><a href="#&#x7B2C;&#x4E8C;&#x95EE;&#xFF1A;&#x6570;&#x636E;&#x4E2D;&#x53F0;&#x548C;&#x6570;&#x636E;&#x5E73;&#x53F0;&#x7684;&#x533A;&#x522B;" class="headerlink" title="&#x7B2C;&#x4E8C;&#x95EE;&#xFF1A;&#x6570;&#x636E;&#x4E2D;&#x53F0;&#x548C;&#x6570;&#x636E;&#x5E73;&#x53F0;&#x7684;&#x533A;&#x522B;"></a>&#x7B2C;&#x4E8C;&#x95EE;&#xFF1A;&#x6570;&#x636E;&#x4E2D;&#x53F0;&#x548C;&#x6570;&#x636E;&#x5E73;&#x53F0;&#x7684;&#x533A;&#x522B;</h1><p>&#x56E0;&#x4E3A;&#x6211;&#x4EEC;&#x4E00;&#x76F4;&#x4EE5;&#x6765;&#x90FD;&#x662F;&#x542C;&#x6570;&#x636E;&#x5E73;&#x53F0;&#x8FD9;&#x4E2A;&#x8BCD;&#x542C;&#x5F97;&#x6BD4;&#x8F83;&#x591A;&#xFF0C;&#x6240;&#x4EE5;&#x7B2C;&#x4E8C;&#x95EE;&#x6211;&#x4EEC;&#x8FD8;&#x662F;&#x8981;&#x6765;&#x8BF4;&#x4E00;&#x4E0B;&#x5B83;&#x4EEC;&#x4E4B;&#x95F4;&#x7684;&#x5DEE;&#x522B;&#x3002;</p>
<p>&#x6570;&#x636E;&#x5E73;&#x53F0;&#x4F60;&#x53EF;&#x4EE5;&#x628A;&#x5B83;&#x770B;&#x6210;&#x662F;&#x6570;&#x636E;&#x96C6;&#xFF0C;&#x90A3;&#x4E48;&#x6570;&#x636E;&#x4E2D;&#x53F0;&#x5462;&#x4ED6;&#x5C31;&#x662F;<strong>&#x6570;&#x636E;&#x96C6;API</strong>,&#x90A3;&#x4E48;&#x5B83;&#x4EEC;&#x4E4B;&#x95F4;&#x5C31;&#x5DEE;&#x5728;API&#x8FD9;&#x4E09;&#x4E2A;&#x5B57;&#x6BCD;&#x4E0A;&#xFF0C;API&#x6211;&#x60F3;&#x5E94;&#x8BE5;&#x4E0D;&#x9700;&#x8981;&#x8FC7;&#x591A;&#x89E3;&#x91CA;&#x5462;&#xFF0C;&#x5927;&#x5BB6;&#x90FD;&#x77E5;&#x9053;&#xFF0C;&#x6BD4;&#x5982;&#x5B66;JAVA&#x7684;&#x65F6;&#x5019;&#x6709;&#x4E86;JAVA API&#x4F60;&#x624D;&#x77E5;&#x9053;&#x600E;&#x4E48;&#x4F7F;&#x7528;&#xFF0C;&#x90A3;&#x4E48;&#x6570;&#x636E;&#x4E2D;&#x53F0;&#x76F8;&#x5F53;&#x4E8E;&#x5728;&#x6570;&#x636E;&#x5E73;&#x53F0;&#x7684;&#x57FA;&#x7840;&#x4E0A;&#x544A;&#x8BC9;&#x4F60;&#x8FD9;&#x4E9B;&#x6570;&#x636E;<strong>&#x600E;&#x4E48;&#x4F7F;&#x7528;</strong>&#x3002;</p>
<p>&#x53E6;&#x5916;&#xFF0C;<strong>&#x6570;&#x636E;&#x4E2D;&#x53F0;&#x662F;&#x504F;&#x5411;&#x4E8E;&#x4E1A;&#x52A1;&#x7684;&#xFF0C;&#x800C;&#x6570;&#x636E;&#x5E73;&#x53F0;&#x662F;&#x504F;&#x6280;&#x672F;&#x7684;</strong></p>
<p><img src="https://gitee.com/songjianzaina/juejin_p7/raw/master/img/441753c8bf68138033a91cdc39d071fe43dbcc5418310013d3b2edff74ba193c" alt="image"></p>
<p>&#x4F46;&#x662F;&#x3001;&#x6570;&#x636E;&#x4E2D;&#x53F0;&#x548C;&#x6570;&#x636E;&#x5E73;&#x53F0;&#x4E5F;&#x6709;&#x5343;&#x4E1D;&#x4E07;&#x7F15;&#x7684;&#x8054;&#x7CFB;&#x3002;&#x6570;&#x636E;&#x4E2D;&#x53F0;&#x9700;&#x8981;&#x4F9D;&#x8D56;&#x5927;&#x6570;&#x636E;&#x5E73;&#x53F0;&#xFF0C;&#x5927;&#x6570;&#x636E;&#x5E73;&#x53F0;&#x5B8C;&#x6210;&#x4E86;&#x6570;&#x636E;&#x7814;&#x53D1;&#x7684;&#x5168;&#x6D41;&#x7A0B;&#x8986;&#x76D6;&#xFF0C;&#x800C;&#x6570;&#x636E;&#x4E2D;&#x53F0;&#x589E;&#x52A0;&#x4E86;&#x6570;&#x636E;&#x6CBB;&#x7406;&#x548C;&#x6570;&#x636E;&#x670D;&#x52A1;&#x5316;&#x7684;&#x5185;&#x5BB9;&#x3002;&#x603B;&#x7684;&#x6765;&#x8BF4;&#xFF0C;&#x6570;&#x636E;&#x4E2D;&#x53F0;&#x5438;&#x6536;&#x4E86;&#x4F20;&#x7EDF;&#x6570;&#x636E;&#x4ED3;&#x5E93;&#x3001;&#x6570;&#x636E;&#x6E56;&#x3001;&#x5927;&#x6570;&#x636E;&#x5E73;&#x53F0;&#x7684;&#x4F18;&#x52BF;&#xFF0C;&#x540C;&#x65F6;&#x53C8;&#x89E3;&#x51B3;&#x4E86;&#x6570;&#x636E;&#x5171;&#x4EAB;&#x7684;&#x96BE;&#x9898;&#xFF0C;&#x901A;&#x8FC7;&#x6570;&#x636E;&#x5E94;&#x7528;&#xFF0C;&#x5B9E;&#x73B0;&#x6570;&#x636E;&#x4EF7;&#x503C;&#x7684;&#x843D;&#x5730;&#x3002;</p>
<h1 id="&#x7B2C;&#x4E09;&#x95EE;&#xFF1A;&#x6570;&#x636E;&#x4E2D;&#x53F0;&#x6709;&#x54EA;&#x4E9B;&#x4EF7;&#x503C;"><a href="#&#x7B2C;&#x4E09;&#x95EE;&#xFF1A;&#x6570;&#x636E;&#x4E2D;&#x53F0;&#x6709;&#x54EA;&#x4E9B;&#x4EF7;&#x503C;" class="headerlink" title="&#x7B2C;&#x4E09;&#x95EE;&#xFF1A;&#x6570;&#x636E;&#x4E2D;&#x53F0;&#x6709;&#x54EA;&#x4E9B;&#x4EF7;&#x503C;"></a>&#x7B2C;&#x4E09;&#x95EE;&#xFF1A;&#x6570;&#x636E;&#x4E2D;&#x53F0;&#x6709;&#x54EA;&#x4E9B;&#x4EF7;&#x503C;</h1><p>&#x6570;&#x636E;&#x4E2D;&#x53F0;&#x7684;&#x4EF7;&#x503C;&#xFF0C;&#x6211;&#x60F3;&#x7528;&#x4E09;&#x4E2A;&#x5173;&#x952E;&#x8BCD;&#x6765;&#x6982;&#x62EC;&#xFF1A;&#x6548;&#x7387;&#x3001;&#x534F;&#x4F5C;&#x3001;&#x8D28;&#x91CF;</p>
<ul>
<li>&#x6548;&#x7387;&#xFF1A;&#x6BD4;&#x5982;&#x6570;&#x636E;&#x7814;&#x53D1;&#x7684;&#x6548;&#x7387;&#x3001;&#x53D1;&#x73B0;&#x6570;&#x636E;&#x7684;&#x6548;&#x7387;&#x3002;&#x4E3A;&#x4EC0;&#x4E48;&#x6211;&#x4EEC;&#x6BCF;&#x5F00;&#x53D1;&#x4E00;&#x4E2A;&#x62A5;&#x8868;&#x90FD;&#x8981;&#x6539;&#x4EE3;&#x7801;&#x5462;&#xFF1F;&#x4E3A;&#x4EC0;&#x4E48;&#x6570;&#x636E;&#x6709;&#x95EE;&#x9898;&#x7684;&#x95EE;&#x9898;&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x6211;&#x4EEC;&#x8981;&#x627E;&#x5F88;&#x4E45;&#x624D;&#x80FD;&#x53D1;&#x73B0;&#x662F;&#x67D0;&#x67D0;&#x4E0A;&#x6E38;&#x7684;&#x95EE;&#x9898;&#x5462;&#x3002;</li>
<li>&#x534F;&#x4F5C;&#xFF1A;&#x5F88;&#x591A;&#x5E94;&#x7528;&#x5F00;&#x53D1;&#xFF0C;&#x5176;&#x5B9E;&#x4E0D;&#x540C;&#x7684;&#x9879;&#x76EE;&#x7EC4;&#x9700;&#x6C42;&#x5927;&#x81F4;&#x76F8;&#x540C;&#x3002;&#x8FD8;&#x662F;&#x7528;&#x5F00;&#x53D1;&#x62A5;&#x8868;&#x6765;&#x4E3E;&#x4F8B;&#xFF0C;&#x4E0D;&#x540C;&#x4E1A;&#x52A1;&#x7EBF;&#x9879;&#x76EE;&#x7EC4;&#x5F00;&#x53D1;&#x62A5;&#x8868;&#x90FD;&#x4E00;&#x4E2A;&#x5957;&#x8DEF;&#xFF0C;&#x4F46;&#x56E0;&#x4E3A;&#x662F;&#x522B;&#x7684;&#x9879;&#x76EE;&#x7EC4;&#x7EF4;&#x62A4;&#x7684;&#xFF0C;&#x6240;&#x4EE5;&#x5C31;&#x662F;&#x5F97;&#x5206;&#x522B;&#x5F00;&#x53D1;&#x4E00;&#x904D;&#x3002;&#x5C31;&#x4E0D;&#x80FD;&#x534F;&#x4F5C;&#x5171;&#x8D62;&#xFF1F;</li>
<li>&#x8D28;&#x91CF;&#xFF1A;&#x6BD4;&#x5982;&#x6570;&#x636E;&#x7684;&#x4E00;&#x81F4;&#x6027;&#x3001;&#x51C6;&#x786E;&#x6027;&#x3001;&#x53CA;&#x65F6;&#x6027;&#x4EE5;&#x53CA;&#x5B8C;&#x6574;&#x6027;&#xFF0C;&#x6709;&#x6CA1;&#x6709;&#x4E00;&#x4E2A;&#x901A;&#x7528;&#x7684;&#x5E73;&#x53F0;&#x6765;&#x68C0;&#x9A8C;&#x8FD9;&#x4E9B;&#x6570;&#x636E;&#x5462;&#x3002;</li>
</ul>
<p>&#x4E0A;&#x9762;&#x8BF4;&#x7684;&#x8FD8;&#x662F;&#x6709;&#x4E00;&#x70B9;&#x513F;&#x62BD;&#x8C61;&#xFF0C;&#x5176;&#x5B9E;&#x8981;&#x5177;&#x4F53;&#x56DE;&#x7B54;&#x8FD9;&#x4E2A;&#x95EE;&#x9898;&#xFF0C;&#x4F60;&#x9996;&#x5148;&#x5F97;&#x5927;&#x6982;&#x77E5;&#x9053;&#x6570;&#x636E;&#x4E2D;&#x53F0;&#x6709;&#x54EA;&#x4E9B;&#x529F;&#x80FD;&#x54EA;&#x4E9B;&#x6A21;&#x5757;&#x3002;&#x6BD4;&#x5982;&#x6570;&#x636E;&#x5730;&#x56FE;&#x3001;&#x5143;&#x6570;&#x636E;&#x7BA1;&#x7406;&#x3001;&#x6570;&#x636E;&#x8840;&#x7F18;&#x3001;&#x6570;&#x636E;&#x5904;&#x7406;&#x7B49;&#x7B49;&#x90FD;&#x5C5E;&#x4E8E;&#x6570;&#x636E;&#x4E2D;&#x53F0;&#x3002;&#x6BCF;&#x4E2A;&#x6A21;&#x5757;&#x90FD;&#x6709;&#x5B83;&#x7684;&#x529F;&#x80FD;&#xFF0C;&#x6240;&#x4EE5;&#x5B83;&#x7684;&#x4F5C;&#x7528;&#x5E76;&#x4E0D;&#x662F;&#x4E00;&#x8A00;&#x4E24;&#x8BED;&#x53EF;&#x4EE5;&#x8BF4;&#x5F97;&#x6E05;&#xFF0C;&#x8FD9;&#x91CC;&#x7B14;&#x8005;&#x518D;&#x4E3E;&#x4E00;&#x4E9B;&#x771F;&#x5B9E;&#x7684;&#x4F8B;&#x5B50;&#x6765;&#x5BF9;&#x6BD4;&#x4E00;&#x4E0B;&#xFF1A;</p>
<p>&#x4F8B;&#x4E00;&#xFF1A;&#x6CA1;&#x6709;&#x6570;&#x636E;&#x4E2D;&#x53F0;&#x4E4B;&#x524D;&#xFF0C;&#x4E1A;&#x52A1;&#x4EBA;&#x5458;&#x6839;&#x672C;&#x5C31;&#x4E0D;&#x77E5;&#x9053;HIVE&#x6570;&#x4ED3;&#x6709;&#x54EA;&#x4E9B;&#x8868;&#xFF0C;&#x4E0D;&#x77E5;&#x9053;&#x8FD9;&#x4E9B;&#x8868;&#x7684;&#x5177;&#x4F53;&#x4FE1;&#x606F;(&#x5217;&#x4FE1;&#x606F;&#x3001;&#x7D22;&#x5F15;&#x4FE1;&#x606F;&#x3001;&#x5206;&#x533A;&#x4FE1;&#x606F;&#x3001;&#x8D23;&#x4EFB;&#x4EBA;&#x4FE1;&#x606F;)&#x3002;&#x4ED6;&#x8981;&#x51FA;&#x4E00;&#x5F20;&#x62A5;&#x8868;&#x8FD8;&#x8981;&#x6765;&#x95EE;&#x4F60;:&#x201D;hello &#x5E2E;&#x6211;&#x770B;&#x4E00;&#x4E0B;HIVE&#x6709;&#x6CA1;&#x6709;&#x540C;&#x6B65;&#x8FD9;&#x5F20;&#x8868;&#x5427;&#xFF1F;hello &#x5E2E;&#x6211;&#x770B;&#x4E00;&#x4E0B;&#x8FD9;&#x5F20;&#x8868;&#x662F;&#x4E0D;&#x662F;&#x5206;&#x533A;&#x8868;&#x5427;&#xFF1F;&#x201D;&#x3002;&#x8FD9;&#x4E2A;&#x8868;&#x6709;&#x95EE;&#x9898;&#x4E86;&#xFF0C;&#x4ED6;&#x53C8;&#x8981;&#x6765;&#x95EE;&#x4F60;&#x201D;hello &#x8FD9;&#x5F20;&#x8868;&#x8D1F;&#x8D23;&#x4EBA;&#x662F;&#x8C01;&#x554A;&#xFF1F;&#x201D; &#x6709;&#x4E86;&#x6570;&#x636E;&#x4E2D;&#x53F0;&#x4E4B;&#x540E;&#xFF0C;&#x5B8C;&#x5168;&#x4E0D;&#x9700;&#x8981;&#x7BA1;&#x4E86;&#x3002;(<strong>&#x8FD9;&#x4E2A;&#x662F;&#x5143;&#x6570;&#x636E;&#x7BA1;&#x7406;&#x7ED9;&#x6211;&#x4EEC;&#x5E26;&#x6765;&#x7684;&#x4FBF;&#x6377;</strong>)</p>
<p>&#x4F8B;&#x4E8C;&#xFF1A;&#x6CA1;&#x6709;&#x6570;&#x636E;&#x4E2D;&#x53F0;&#x4E4B;&#x524D;&#xFF0C;&#x6211;&#x4EEC;&#x6839;&#x672C;&#x5C31;&#x4E0D;&#x6E05;&#x695A;&#x8868;&#x7684;&#x6765;&#x6E90;&#x548C;&#x94FE;&#x8DEF;&#xFF0C;&#x5C24;&#x5176;&#x662F;&#x4E00;&#x4E9B;&#x590D;&#x6742;&#x62A5;&#x8868;&#x7684;&#x7ED3;&#x679C;&#x8868;&#xFF0C;&#x6765;&#x6E90;&#x975E;&#x5E38;&#x590D;&#x6742;&#x53EF;&#x80FD;&#x6D89;&#x53CA;&#x5230;&#x591A;&#x4E2A;&#x7CFB;&#x7EDF;&#xFF0C;&#x6D89;&#x53CA;&#x5341;&#x51E0;&#x4E2A;&#x6E90;&#x8868;&#x3002;&#x7B49;&#x5230;&#x4E0A;&#x6E38;&#x4E1A;&#x52A1;&#x8868;&#x8981;&#x505A;&#x53D8;&#x66F4;&#x3001;&#x90FD;&#x4E0D;&#x77E5;&#x9053;&#x4F1A;&#x5F71;&#x54CD;&#x54EA;&#x4E9B;&#x62A5;&#x8868;&#xFF0C;&#x7EBF;&#x4E0A;&#x5DF2;&#x7ECF;&#x8FD0;&#x884C;&#x4E0A;&#x5343;&#x4E2A;&#x62A5;&#x8868;&#x4E86;&#x554A;&#xFF01;&#x8981;&#x53BB;&#x63EA;&#x51FA;&#x8FD9;&#x4E9B;&#x6765;&#x5B9E;&#x5728;&#x662F;&#x9EBB;&#x70E6;&#xFF01;&#x6709;&#x4E86;&#x6570;&#x636E;&#x4E2D;&#x53F0;&#x4E4B;&#x540E;&#xFF0C;10&#x79D2;&#x949F;&#x5C31;&#x80FD;&#x89E3;&#x51B3;&#x8FD9;&#x4E2A;&#x95EE;&#x9898;&#x3002;(<strong>&#x8FD9;&#x4E2A;&#x662F;&#x6570;&#x636E;&#x8840;&#x7F18;&#x7ED9;&#x6211;&#x4EEC;&#x5E26;&#x6765;&#x7684;&#x4FBF;&#x6377;</strong>)</p>
<h1 id="&#x7B2C;&#x56DB;&#x95EE;&#xFF1A;&#x6570;&#x636E;&#x4E2D;&#x53F0;&#x67B6;&#x6784;"><a href="#&#x7B2C;&#x56DB;&#x95EE;&#xFF1A;&#x6570;&#x636E;&#x4E2D;&#x53F0;&#x67B6;&#x6784;" class="headerlink" title="&#x7B2C;&#x56DB;&#x95EE;&#xFF1A;&#x6570;&#x636E;&#x4E2D;&#x53F0;&#x67B6;&#x6784;"></a>&#x7B2C;&#x56DB;&#x95EE;&#xFF1A;&#x6570;&#x636E;&#x4E2D;&#x53F0;&#x67B6;&#x6784;</h1><p>&#x6211;&#x4EEC;&#x8BF4;&#x6570;&#x636E;&#x4E2D;&#x53F0;&#x662F;&#x670D;&#x52A1;&#x4E8E;&#x516C;&#x53F8;&#x4E1A;&#x52A1;&#x7684;&#xFF0C;&#x56E0;&#x6B64;&#x5FC5;&#x987B;&#x8981;&#x4ECE;&#x81EA;&#x5DF1;&#x7684;&#x4E1A;&#x52A1;&#x89D2;&#x5EA6;&#x53BB;&#x8FDB;&#x884C;&#x4E00;&#x4E2A;&#x5168;&#x5C40;&#x7684;&#x89C4;&#x5212;&#x548C;&#x67B6;&#x6784;&#x3002;&#x4E0D;&#x8FC7;&#x4F60;&#x4F9D;&#x65E7;&#x53EF;&#x4EE5;&#x53C2;&#x8003;&#x4E00;&#x4E0B;&#x5178;&#x578B;&#x7684;&#x67B6;&#x6784;&#x56FE;&#xFF1A;</p>
<p><img src="https://gitee.com/songjianzaina/juejin_p7/raw/master/img/409db65c6ff46f1a73f93e450ea73c0e975c31a25add1fe24ccd6e431feb8ffc" alt="image"></p>
<p>&#x7B14;&#x8005;&#x8BA4;&#x4E3A;&#x53EF;&#x4EE5;&#x5206;&#x4E3A;&#x51E0;&#x5927;&#x90E8;&#x5206;&#xFF1A;</p>
<ul>
<li>&#x6570;&#x636E;&#x91C7;&#x96C6;&#x6C47;&#x805A;(&#x6570;&#x636E;&#x5E93;&#xFF0C;&#x65E5;&#x5FD7;&#xFF0C;&#x524D;&#x7AEF;&#x57CB;&#x70B9;&#xFF0C;&#x722C;&#x866B;&#x7CFB;&#x7EDF;&#x7B49;)</li>
<li>&#x6570;&#x636E;&#x5904;&#x7406;&#x548C;&#x5F00;&#x53D1;(&#x79BB;&#x7EBF;&#x8BA1;&#x7B97;&#x3001;&#x5B9E;&#x65F6;&#x6D41;&#x8BA1;&#x7B97;&#x7B49;)</li>
<li>&#x6570;&#x636E;&#x6CBB;&#x7406;(&#x5143;&#x6570;&#x636E;&#x7BA1;&#x7406;&#x3001;&#x6570;&#x636E;&#x8840;&#x7F18;&#x3001;&#x6570;&#x636E;&#x8D28;&#x91CF;&#x3001;&#x6570;&#x636E;&#x5B89;&#x5168;&#x7B49;)</li>
<li>&#x6570;&#x636E;&#x670D;&#x52A1;(&#x667A;&#x80FD;&#x62A5;&#x8868;&#x3001;&#x6807;&#x7B7E;&#x7CFB;&#x7EDF;&#x3001;&#x63A8;&#x8350;&#x7CFB;&#x7EDF;&#x3001;&#x5927;&#x5C4F;&#x7B49;)</li>
</ul>
<p>&#x5176;&#x4E2D;&#x3001;&#x6570;&#x636E;&#x91C7;&#x96C6;&#x548C;&#x6570;&#x636E;&#x5904;&#x7406;&#x5F00;&#x53D1;&#xFF0C;&#x4F60;&#x4E5F;&#x53EF;&#x4EE5;&#x7406;&#x89E3;&#x4E3A;&#x662F;&#x6570;&#x636E;&#x5E73;&#x53F0;&#x7684;&#x4E1C;&#x897F;&#x3002;&#x7531;&#x4E8E;&#x7BC7;&#x5E45;&#x95EE;&#x9898;&#xFF0C;&#x4E0D;&#x5BF9;&#x6BCF;&#x4E00;&#x4E2A;&#x6A21;&#x5757;&#x4F5C;&#x8BE6;&#x7EC6;&#x8BF4;&#x660E;&#x3002;&#x7B14;&#x8005;&#x5C06;&#x5728;&#x4E2A;&#x4EBA;&#x516C;&#x4F17;&#x53F7;&#x3010;&#x80D6;&#x6EDA;&#x732A;&#x5B66;&#x7F16;&#x7A0B;&#x3011;&#x8BE6;&#x7EC6;&#x5206;&#x4EAB;&#x5404;&#x4E2A;&#x6A21;&#x5757;&#x7684;&#x6982;&#x5FF5;&#x3001;&#x529F;&#x80FD;&#x3001;&#x4EE5;&#x53CA;&#x751F;&#x4EA7;&#x843D;&#x5730;&#x65B9;&#x6848;&#xFF01;</p>
<h1 id="&#x7B2C;&#x4E94;&#x95EE;&#xFF1A;&#x6211;&#x4EEC;&#x8BE5;&#x505A;&#x6570;&#x636E;&#x4E2D;&#x53F0;&#x5417;&#xFF1F;"><a href="#&#x7B2C;&#x4E94;&#x95EE;&#xFF1A;&#x6211;&#x4EEC;&#x8BE5;&#x505A;&#x6570;&#x636E;&#x4E2D;&#x53F0;&#x5417;&#xFF1F;" class="headerlink" title="&#x7B2C;&#x4E94;&#x95EE;&#xFF1A;&#x6211;&#x4EEC;&#x8BE5;&#x505A;&#x6570;&#x636E;&#x4E2D;&#x53F0;&#x5417;&#xFF1F;"></a>&#x7B2C;&#x4E94;&#x95EE;&#xFF1A;&#x6211;&#x4EEC;&#x8BE5;&#x505A;&#x6570;&#x636E;&#x4E2D;&#x53F0;&#x5417;&#xFF1F;</h1><p>&#x9996;&#x5148;&#x4E00;&#x53E5;&#x8BDD;&#xFF1A;&#x5343;&#x4E07;&#x4E0D;&#x8981;&#x8DDF;&#x98CE;&#x3002;&#x4E2D;&#x53F0;&#x4E0D;&#x662F;&#x4F60;&#x60F3;&#x505A;&#x60F3;&#x505A;&#x5C31;&#x80FD;&#x505A;&#x3002;</p>
<p>&#x56E0;&#x4E3A;&#x8981;&#x505A;&#x8D77;&#x4E00;&#x4E2A;&#x771F;&#x6B63;&#x610F;&#x4E49;&#x4E0A;&#x7684;&#x6570;&#x636E;&#x4E2D;&#x53F0;&#xFF0C;&#x4E00;&#x5B9A;&#x662F;&#x7AD9;&#x5728;&#x516C;&#x53F8;&#x7684;&#x5C42;&#x9762;&#x53BB;&#x770B;&#x5F85;&#xFF0C;&#x800C;&#x4E0D;&#x662F;&#x67D0;&#x4E2A;&#x4E1A;&#x52A1;&#x90E8;&#x95E8;&#x81EA;&#x5DF1;&#x73A9;&#x73A9;&#x8FC7;&#x5BB6;&#x5BB6;&#x3002;&#x56E0;&#x6B64;&#x9700;&#x8981;&#x975E;&#x5E38;&#x5927;&#x7684;&#x6295;&#x5165;&#xFF0C;&#x4EBA;&#x529B;&#x3001;&#x7269;&#x529B;&#x7684;&#x6295;&#x5165;&#x3002;&#x800C;&#x8FD9;&#x4E9B;&#x7CFB;&#x7EDF;&#x662F;&#x5426;&#x80FD;&#x591F;&#x5339;&#x914D;&#x4E2D;&#x53F0;&#x5EFA;&#x8BBE;&#x7684;&#x9700;&#x6C42;&#xFF0C;&#x8FD8;&#x9700;&#x8981;&#x6301;&#x7EED;&#x6253;&#x78E8;&#x3002;&#x53E6;&#x5916;&#x5FC5;&#x987B;&#x5BF9;&#x516C;&#x53F8;&#x7684;&#x6574;&#x4F53;&#x4E1A;&#x52A1;&#x6EDA;&#x74DC;&#x70C2;&#x719F;&#xFF0C;&#x624D;&#x80FD;&#x6709;&#x8FD9;&#x79CD;&#x5168;&#x5C40;&#x7684;&#x89C6;&#x91CE;&#x53BB;&#x5EFA;&#x8BBE;&#x4E2D;&#x53F0;&#x3002;</p>
<p>&#x90A3;&#x4EC0;&#x4E48;&#x60C5;&#x51B5;&#x4E0B;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x8003;&#x8651;&#x5EFA;&#x8BBE;&#x4E2D;&#x53F0;&#x5462;&#xFF1F;</p>
<ul>
<li>&#x4F01;&#x4E1A;&#x662F;&#x5426;&#x6709;&#x5927;&#x91CF;&#x7684;&#x6570;&#x636E;&#x5E94;&#x7528;&#x573A;&#x666F;&#xFF1F;&#x6570;&#x636E;&#x4E2D;&#x53F0;&#x672C;&#x8EAB;&#x5E76;&#x4E0D;&#x80FD;&#x76F4;&#x63A5;&#x4EA7;&#x751F;&#x4E1A;&#x52A1;&#x4EF7;&#x503C;&#xFF0C;&#x6570;&#x636E;&#x4E2D;&#x53F0;&#x7684;&#x672C;&#x8D28;&#x662F;&#x652F;&#x6491;&#x5FEB;&#x901F;&#x5730;&#x5B75;&#x5316;&#x6570;&#x636E;&#x5E94;&#x7528;&#x3002;&#x6240;&#x4EE5;&#x5F53;&#x4F60;&#x7684;&#x4F01;&#x4E1A;&#x6709;&#x8F83;&#x591A;&#x6570;&#x636E;&#x5E94;&#x7528;&#x7684;&#x573A;&#x666F;&#x65F6;&#xFF08;&#x4E00;&#x822C;&#x6709;3&#x4E2A;&#x4EE5;&#x4E0A;&#x5C31;&#x53EF;&#x4EE5;&#x8003;&#x8651;&#xFF09;</li>
<li>&#x4F01;&#x4E1A;&#x5B58;&#x5728;&#x8F83;&#x591A;&#x7684;&#x4E1A;&#x52A1;&#x6570;&#x636E;&#x7684;&#x5B64;&#x5C9B;&#xFF0C;&#x9700;&#x8981;&#x6574;&#x5408;&#x5404;&#x4E2A;&#x4E1A;&#x52A1;&#x7CFB;&#x7EDF;&#x7684;&#x6570;&#x636E;&#xFF0C;&#x8FDB;&#x884C;&#x5173;&#x8054;&#x7684;&#x5206;&#x6790;&#xFF0C;&#x6B64;&#x65F6;&#xFF0C;&#x4F60;&#x9700;&#x8981;&#x6784;&#x5EFA;&#x4E00;&#x4E2A;&#x6570;&#x636E;&#x4E2D;&#x53F0;&#x3002;&#x6BD4;&#x5982;&#x5728;&#x6211;&#x4EEC;&#x505A;&#x7535;&#x5546;&#x7684;&#x521D;&#x671F;&#xFF0C;&#x4ED3;&#x50A8;&#x3001;&#x4F9B;&#x5E94;&#x94FE;&#x3001;&#x5E02;&#x573A;&#x8FD0;&#x8425;&#x90FD;&#x662F;&#x72EC;&#x7ACB;&#x7684;&#x6570;&#x636E;&#x4ED3;&#x5E93;&#xFF0C;&#x5F53;&#x65F6;&#x6570;&#x636E;&#x5206;&#x6790;&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x5F80;&#x5F80;&#x8DE8;&#x4E86;&#x5F88;&#x591A;&#x6570;&#x636E;&#x7CFB;&#x7EDF;&#xFF0C;&#x4E3A;&#x4E86;&#x6D88;&#x9664;&#x8FD9;&#x4E9B;&#x6570;&#x636E;&#x5B64;&#x5C9B;&#xFF0C;&#x5C31;&#x5FC5;&#x987B;&#x8981;&#x6784;&#x5EFA;&#x4E00;&#x4E2A;&#x6570;&#x636E;&#x4E2D;&#x53F0;&#x3002;</li>
<li>&#x5F53;&#x4F60;&#x7684;&#x56E2;&#x961F;&#x6B63;&#x5728;&#x9762;&#x4E34;&#x6548;&#x7387;&#x3001;&#x8D28;&#x91CF;&#x548C;&#x6210;&#x672C;&#x7684;&#x82E6;&#x607C;&#x65F6;&#xFF0C;&#x9762;&#x5BF9;&#x5927;&#x91CF;&#x7684;&#x5F00;&#x53D1;&#xFF0C;&#x5374;&#x4E0D;&#x77E5;&#x9053;&#x5982;&#x4F55;&#x63D0;&#x9AD8;&#x6548;&#x80FD;&#xFF0C;&#x6570;&#x636E;&#x7ECF;&#x5E38;&#x51FA;&#x95EE;&#x9898;&#x800C;&#x675F;&#x624B;&#x65E0;&#x7B56;&#xFF0C;&#x8001;&#x677F;&#x8FD8;&#x8981;&#x6C42;&#x4F60;&#x63A7;&#x5236;&#x6570;&#x636E;&#x7684;&#x6210;&#x672C;&#xFF0C;&#x8FD9;&#x4E2A;&#x65F6;&#x5019;&#xFF0C;&#x6570;&#x636E;&#x4E2D;&#x53F0;&#x53EF;&#x4EE5;&#x5E2E;&#x52A9;&#x4F60;&#x3002;</li>
<li>&#x5F53;&#x4F60;&#x6240;&#x5728;&#x7684;&#x4F01;&#x4E1A;&#x9762;&#x4E34;&#x7ECF;&#x8425;&#x56F0;&#x96BE;&#xFF0C;&#x9700;&#x8981;&#x901A;&#x8FC7;&#x6570;&#x636E;&#x5B9E;&#x73B0;&#x7CBE;&#x76CA;&#x8FD0;&#x8425;&#xFF0C;&#x63D0;&#x9AD8;&#x4F01;&#x4E1A;&#x7684;&#x8FD0;&#x8425;&#x6548;&#x7387;&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x4F60;&#x9700;&#x8981;&#x6784;&#x5EFA;&#x4E00;&#x4E2A;&#x6570;&#x636E;&#x4E2D;&#x53F0;&#xFF0C;&#x540C;&#x65F6;&#x7ED3;&#x5408;&#x53EF;&#x89C6;&#x5316;&#x7684;Bl&#x6570;&#x636E;&#x4EA7;&#x54C1;&#xFF0C;&#x5B9E;&#x73B0;&#x6570;&#x636E;&#x4ECE;&#x5E94;&#x7528;&#x5230;&#x4E2D;&#x53F0;&#x7684;&#x5B8C;&#x6574;&#x6784;&#x5EFA;&#x3002;</li>
<li>&#x4F01;&#x4E1A;&#x89C4;&#x6A21;&#x4E5F;&#x662F;&#x5FC5;&#x987B;&#x8981;&#x8003;&#x8651;&#x7684;&#x4E00;&#x4E2A;&#x56E0;&#x7D20;&#xFF0C;&#x6570;&#x636E;&#x4E2D;&#x53F0;&#x56E0;&#x4E3A;&#x6295;&#x5165;&#x5927;&#xFF0C;&#x6536;&#x76CA;&#x504F;&#x957F;&#x7EBF;&#xFF0C;&#x6240;&#x4EE5;&#x66F4;&#x9002;&#x5408;&#x4E1A;&#x52A1;&#x76F8;&#x5BF9;&#x7A33;&#x5B9A;&#x7684;&#x5927;&#x516C;&#x53F8;&#xFF0C;&#x5E76;&#x4E0D;&#x9002;&#x5408;&#x521D;&#x521B;&#x578B;&#x7684;&#x5C0F;&#x516C;&#x53F8;&#x3002;</li>
</ul>
<h1 id="&#x7B2C;&#x516D;&#x95EE;&#xFF1A;&#x6570;&#x636E;&#x4E2D;&#x53F0;&#x7684;&#x53C2;&#x8003;&#x8D44;&#x6599;"><a href="#&#x7B2C;&#x516D;&#x95EE;&#xFF1A;&#x6570;&#x636E;&#x4E2D;&#x53F0;&#x7684;&#x53C2;&#x8003;&#x8D44;&#x6599;" class="headerlink" title="&#x7B2C;&#x516D;&#x95EE;&#xFF1A;&#x6570;&#x636E;&#x4E2D;&#x53F0;&#x7684;&#x53C2;&#x8003;&#x8D44;&#x6599;"></a>&#x7B2C;&#x516D;&#x95EE;&#xFF1A;&#x6570;&#x636E;&#x4E2D;&#x53F0;&#x7684;&#x53C2;&#x8003;&#x8D44;&#x6599;</h1><p>&#x4E0D;&#x5F97;&#x4E0D;&#x627F;&#x8BA4;&#x4E00;&#x70B9;&#xFF0C;&#x7F51;&#x4E0A;&#x5173;&#x4E8E;&#x6570;&#x636E;&#x4E2D;&#x53F0;&#x7684;&#x8D44;&#x6599;&#x592A;&#x5C11;&#x4E86;&#xFF0C;&#x7B14;&#x8005;&#x53BB;&#x5E74;&#x4E2D;&#x65EC;&#x4ECE;0&#x5F00;&#x59CB;&#x5EFA;&#x8BBE;&#x6570;&#x636E;&#x4E2D;&#x53F0;&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x82B1;&#x4E86;&#x5927;&#x91CF;&#x65F6;&#x95F4;&#x641C;&#x96C6;&#x8D44;&#x6599;&#x3002;&#x73B0;&#x5728;&#x4E5F;&#x613F;&#x610F;&#x4E0E;&#x5927;&#x5BB6;&#x5206;&#x4EAB;&#x4E00;&#x4E0B;&#x6211;&#x6536;&#x96C6;&#x5230;&#x7684;&#x8D44;&#x6599;&#x3002;</p>
<p><strong>&#x4E66;&#x7C4D;&#x63A8;&#x8350;&#xFF1A;&#x6570;&#x636E;&#x4E2D;&#x53F0;-&#x8BA9;&#x6570;&#x636E;&#x7528;&#x8D77;&#x6765;&#x3002;</strong></p>
<p><img src="https://gitee.com/songjianzaina/juejin_p7/raw/master/img/79b0cd4f8c0c9cf707b421ac2dcbe85196983358fddf3c0975271bc84b314fd7" alt="image"></p>
<p><strong>&#x535A;&#x6587;&#x63A8;&#x8350;&#xFF1A;</strong><br><a href="/external_links/e44e2e999ea5bcd099d2debcc2470e3b.html" target="blank" rel="noopener">&#x4EC0;&#x4E48;&#x662F;&#x4E2D;&#x53F0;&#xFF0C;&#x4EC0;&#x4E48;&#x4E0D;&#x662F;&#x4E2D;&#x53F0;&#x3002;&#x6240;&#x6709;&#x7684;&#x4E2D;&#x53F0;&#x90FD;&#x662F;&#x4E1A;&#x52A1;&#x4E2D;&#x53F0;</a><br><a href="/external_links/3b173fe367fb9fda8b4d1462cb200f44.html" target="blank" rel="noopener">&#x5230;&#x5E95;&#x5565;&#x662F;&#x5E73;&#x53F0;&#xFF0C;&#x5230;&#x5E95;&#x5565;&#x662F;&#x4E2D;&#x53F0;&#xFF1F;</a><br><a href="/external_links/8a791e12cd98fcaa62befb9fc79b1bf4.html" target="blank" rel="noopener">&#x5728;&#x6784;&#x5EFA;&#x6570;&#x636E;&#x4E2D;&#x53F0;&#x4E4B;&#x524D;&#xFF0C;&#x4F60;&#x9700;&#x8981;&#x77E5;&#x9053;&#x7684;&#x51E0;&#x4E2A;&#x8D8B;&#x52BF;</a><br><a href="/external_links/d394485a4b372c70fb88cc54c4d0c727.html" target="blank" rel="noopener">&#x706B;&#x70ED;&#x7684;&#x6570;&#x636E;&#x4E2D;&#x53F0;&#x5BF9;&#x4F01;&#x4E1A;&#x7684;&#x4EF7;&#x503C;&#x662F;&#x4EC0;&#x4E48;&#xFF1F;</a><br><a href="/external_links/f38bcd8446a3e33016bd6d4b3e82d74f.html" target="blank" rel="noopener">&#x4F60;&#x771F;&#x5730;&#x9700;&#x8981;&#x4E00;&#x4E2A;&#x4E2D;&#x53F0;&#x5417;&#xFF1F;</a><br><a href="/external_links/8af310b6226b06a4dd52e828c901c4bd.html" target="blank" rel="noopener">&#x963F;&#x91CC;&#x7684;&#x4E2D;&#x53F0;&#x6218;&#x7565;&#x5176;&#x5B9E;&#x662F;&#x4E2A;&#x4F2A;&#x547D;&#x9898;</a><br><a href="/external_links/ebdbf319d425bce2b15f0f7b2fb3bc0c.html" target="blank" rel="noopener">&#x4ECE;&#x5E73;&#x53F0;&#x5230;&#x4E2D;&#x53F0; | Elasticsearch &#x5728;&#x8682;&#x8681;&#x91D1;&#x670D;&#x7684;&#x5B9E;&#x8DF5;&#x7ECF;&#x9A8C;</a><br><a href="/external_links/e5b938aec4fa285bb346985cb10b9a1c.html" target="blank" rel="noopener">&#x4E03;&#x95EE;&#x4E03;&#x7B54;&#xFF0C;&#x4EB2;&#x5386;&#x8005;&#x8BB2;&#x963F;&#x91CC;&#x4E2D;&#x53F0;&#x843D;&#x5730;&#x7684;&#x5B9E;&#x8DF5;&#x6211;&#x7684;&#x4E00;&#x5E74;&#x4E2D;&#x53F0;&#x5B9E;&#x6218;&#x5F55;</a><br><a href="/external_links/0e049893108c668ff9f0f0a39619617e.html" target="blank" rel="noopener">&#x6EF4;&#x6EF4;&#x51FA;&#x884C;&#x6784;&#x5EFA;&#x4E1A;&#x52A1;&#x4E2D;&#x53F0;&#x5E94;&#x5BF9;&#x8F6F;&#x4EF6;&#x590D;&#x6742;&#x5EA6;&#x7684;&#x5177;&#x4F53;&#x5BF9;&#x7B56;&#x4E0E;&#x5B9E;&#x8DF5;</a><br><a href="/external_links/a2dd0b95d3416f1c5698f48992cc155b.html" target="blank" rel="noopener">10&#x5F20;&#x56FE;&#x89E3;&#x5BC6;&#x963F;&#x91CC;&#x6570;&#x636E;&#x4E2D;&#x53F0;</a> </p>
<p><strong>&#x843D;&#x5730;&#x63A8;&#x8350;</strong><br>&#x53EF;&#x4EE5;&#x53C2;&#x8003;&#x963F;&#x91CC;&#x7684;DataWorks&#x4EA7;&#x54C1;&#xFF0C;&#x4E0A;&#x9762;&#x6709;&#x5F88;&#x591A;&#x5173;&#x4E8E;&#x6570;&#x636E;&#x4E2D;&#x53F0;&#x7684;&#x539F;&#x578B;&#x56FE;&#x53EF;&#x4EE5;&#x4F5C;&#x4E3A;&#x53C2;&#x8003;&#x3002;<br><a href="/external_links/152bb8760fb356534cda160650ff03ed.html" target="blank" rel="noopener">DataWorks</a> </p>
<p><img src="https://gitee.com/songjianzaina/juejin_p7/raw/master/img/c4607dbac2fa4ef63cf33baece0f9ffb63404c96aa53845432f7a4ea54d2d67e" alt="image"></p>
<p>&#x7B14;&#x8005;&#x4E5F;&#x5C06;&#x5728;&#x516C;&#x4F17;&#x53F7;&#x3010;&#x80D6;&#x6EDA;&#x732A;&#x5B66;&#x7F16;&#x7A0B;&#x3011;&#x4E0A;&#x5206;&#x4EAB;&#x81EA;&#x5DF1;&#x642D;&#x5EFA;&#x6570;&#x636E;&#x4E2D;&#x53F0;&#x7684;&#x4EB2;&#x8EAB;&#x7ECF;&#x5386;&#xFF0C;&#x4E0D;&#x591A;&#x8BF4;&#x65E0;&#x7528;&#x6982;&#x5FF5;&#xFF0C;&#x76F4;&#x63A5;&#x628A;&#x751F;&#x4EA7;&#x843D;&#x5730;&#x65B9;&#x6848;&#x5206;&#x4EAB;&#x7ED9;&#x4F60;&#xFF01;</p>
<p><strong>&#x6700;&#x540E;&#x603B;&#x7ED3;&#xFF1A;&#x4EE5;&#x7528;&#x6237;&#x4E3A;&#x4E2D;&#x5FC3;&#xFF0C;&#x4EE5;&#x613F;&#x666F;&#x4E3A;&#x6307;&#x5F15;&#xFF0C;&#x4ECE;&#x6218;&#x7565;&#x5165;&#x624B;&#xFF0C;&#x7528;&#x79D1;&#x5B66;&#x6709;&#x6548;&#x7684;&#x65B9;&#x6CD5;&#xFF0C;&#x6B65;&#x6B65;&#x4E3A;&#x8425;&#x6C89;&#x6DC0;&#x4F01;&#x4E1A;&#x7EA7;&#x80FD;&#x529B;&#xFF0C;&#x4ED8;&#x4EE5;&#x5FC5;&#x8981;&#x7684;&#x7EC4;&#x7EC7;&#x4E0E;&#x7CFB;&#x7EDF;&#x67B6;&#x6784;&#x8C03;&#x6574;&#xFF0C;&#x65B9;&#x5F97;&#x4E2D;&#x53F0;&#x3002;</strong></p>
<p><img src="https://gitee.com/songjianzaina/juejin_p7/raw/master/img/bf38e8f149331e36e2c1818d340ec39f4986836a0fdbc9c579968cc28914d296" alt="wchat1"></p>
<blockquote>
<p>&#x672C;&#x6587;&#x8F6C;&#x8F7D;&#x81EA;&#x516C;&#x4F17;&#x53F7;&#x3010;&#x80D6;&#x6EDA;&#x732A;&#x5B66;&#x7F16;&#x7A0B;&#x3011; &#x7528;&#x6F2B;&#x753B;&#x8BA9;&#x7F16;&#x7A0B;so easy and interesting&#xFF01;&#x6B22;&#x8FCE;&#x5173;&#x6CE8;&#xFF01;</p>
</blockquote>
<p><strong>&#x672C;&#x6587;&#x8F6C;&#x8F7D;&#x81EA;:</strong> <a href="/external_links/58f25eaa88f53d684c21c0c2743abf19.html" target="blank" rel="noopener">&#x6398;&#x91D1;</a></p>
<p><em><a href="https://dev.newban.cn/">&#x5F00;&#x53D1;&#x8005;&#x535A;&#x5BA2; &#x2013; &#x548C;&#x5F00;&#x53D1;&#x76F8;&#x5173;&#x7684; &#x8FD9;&#x91CC;&#x5168;&#x90FD;&#x6709;</a></em></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
  </section>

  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="../321/"><i class="fa fa-angle-left"></i></a><a class="page-number" href="../../">1</a><span class="space">&hellip;</span><a class="page-number" href="../321/">321</a><span class="page-number current">322</span><a class="page-number" href="../323/">323</a><span class="space">&hellip;</span><a class="page-number" href="../399/">399</a><a class="extend next" rel="next" href="../323/"><i class="fa fa-angle-right"></i></a>
  </nav>



          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      

      <section class="site-overview-wrap sidebar-panel sidebar-panel-active">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <p class="site-author-name" itemprop="name">开发者博客</p>
              <p class="site-description motion-element" itemprop="description"></p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="https://dev.newban.cn/archives/">
              
                  <span class="site-state-item-count">3990</span>
                  <span class="site-state-item-name">日志</span>
                </a>
              </div>
            

            

            
              
              
              <div class="site-state-item site-state-tags">
                
                  <span class="site-state-item-count">1304</span>
                  <span class="site-state-item-name">标签</span>
                
              </div>
            

          </nav>

          
            <div class="feed-link motion-element">
              <a href="../../atom.xml" rel="alternate">
                <i class="fa fa-rss"></i>
                RSS
              </a>
            </div>
          

          

          
          

          
          

          

        </div>
      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2024</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">开发者博客</span>
  <div>
  <script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
  <span id="busuanzi_container_site_pv">本站总访问量<span id="busuanzi_value_site_pv"></span>次</span>
  </div>
  
</div>


  <div class="powered-by">由 <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a> 强力驱动</div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">主题 &mdash; <a class="theme-link" target="_blank" href="https://github.com/iissnan/hexo-theme-next">NexT.Muse</a> v5.1.4</div>




  <script type="text/javascript" async src="js/src/mermaid.min.js"></script>
  <script>
  if (window.mermaid) {
        var mermaid_config = {
            startOnLoad: true,
            theme: 'default',
            flowchart:{
                useMaxWidth: false,
                htmlLabels: true
            }                
        }
        mermaid.initialize(mermaid_config);
  }
  </script>
  

        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
          <span id="scrollpercent"><span>0</span>%</span>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  
    <script type="text/javascript" src="../../lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="../../lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="../../lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="../../lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="../../lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="../../lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  


  


  <script type="text/javascript" src="../../js/src/utils.js?v=5.1.4"></script>

  <script type="text/javascript" src="../../js/src/motion.js?v=5.1.4"></script>



  
  

  

  


  <script type="text/javascript" src="../../js/src/bootstrap.js?v=5.1.4"></script>



  


  




	





  





  












  

  <script type="text/javascript">
    // Popup Window;
    var isfetched = false;
    var isXml = true;
    // Search DB path;
    var search_path = "search.xml";
    if (search_path.length === 0) {
      search_path = "search.xml";
    } else if (/json$/i.test(search_path)) {
      isXml = false;
    }
    var path = "/" + search_path;
    // monitor main search box;

    var onPopupClose = function (e) {
      $('.popup').hide();
      $('#local-search-input').val('');
      $('.search-result-list').remove();
      $('#no-result').remove();
      $(".local-search-pop-overlay").remove();
      $('body').css('overflow', '');
    }

    function proceedsearch() {
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay"></div>')
        .css('overflow', 'hidden');
      $('.search-popup-overlay').click(onPopupClose);
      $('.popup').toggle();
      var $localSearchInput = $('#local-search-input');
      $localSearchInput.attr("autocapitalize", "none");
      $localSearchInput.attr("autocorrect", "off");
      $localSearchInput.focus();
    }

    // search function;
    var searchFunc = function(path, search_id, content_id) {
      'use strict';

      // start loading animation
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay">' +
          '<div id="search-loading-icon">' +
          '<i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>' +
          '</div>' +
          '</div>')
        .css('overflow', 'hidden');
      $("#search-loading-icon").css('margin', '20% auto 0 auto').css('text-align', 'center');

      $.ajax({
        url: path,
        dataType: isXml ? "xml" : "json",
        async: true,
        success: function(res) {
          // get the contents from search data
          isfetched = true;
          $('.popup').detach().appendTo('.header-inner');
          var datas = isXml ? $("entry", res).map(function() {
            return {
              title: $("title", this).text(),
              content: $("content",this).text(),
              url: $("url" , this).text()
            };
          }).get() : res;
          var input = document.getElementById(search_id);
          var resultContent = document.getElementById(content_id);
          var inputEventFunction = function() {
            var searchText = input.value.trim().toLowerCase();
            var keywords = searchText.split(/[\s\-]+/);
            if (keywords.length > 1) {
              keywords.push(searchText);
            }
            var resultItems = [];
            if (searchText.length > 0) {
              // perform local searching
              datas.forEach(function(data) {
                var isMatch = false;
                var hitCount = 0;
                var searchTextCount = 0;
                var title = data.title.trim();
                var titleInLowerCase = title.toLowerCase();
                var content = data.content.trim().replace(/<[^>]+>/g,"");
                var contentInLowerCase = content.toLowerCase();
                var articleUrl = decodeURIComponent(data.url);
                var indexOfTitle = [];
                var indexOfContent = [];
                // only match articles with not empty titles
                if(title != '') {
                  keywords.forEach(function(keyword) {
                    function getIndexByWord(word, text, caseSensitive) {
                      var wordLen = word.length;
                      if (wordLen === 0) {
                        return [];
                      }
                      var startPosition = 0, position = [], index = [];
                      if (!caseSensitive) {
                        text = text.toLowerCase();
                        word = word.toLowerCase();
                      }
                      while ((position = text.indexOf(word, startPosition)) > -1) {
                        index.push({position: position, word: word});
                        startPosition = position + wordLen;
                      }
                      return index;
                    }

                    indexOfTitle = indexOfTitle.concat(getIndexByWord(keyword, titleInLowerCase, false));
                    indexOfContent = indexOfContent.concat(getIndexByWord(keyword, contentInLowerCase, false));
                  });
                  if (indexOfTitle.length > 0 || indexOfContent.length > 0) {
                    isMatch = true;
                    hitCount = indexOfTitle.length + indexOfContent.length;
                  }
                }

                // show search results

                if (isMatch) {
                  // sort index by position of keyword

                  [indexOfTitle, indexOfContent].forEach(function (index) {
                    index.sort(function (itemLeft, itemRight) {
                      if (itemRight.position !== itemLeft.position) {
                        return itemRight.position - itemLeft.position;
                      } else {
                        return itemLeft.word.length - itemRight.word.length;
                      }
                    });
                  });

                  // merge hits into slices

                  function mergeIntoSlice(text, start, end, index) {
                    var item = index[index.length - 1];
                    var position = item.position;
                    var word = item.word;
                    var hits = [];
                    var searchTextCountInSlice = 0;
                    while (position + word.length <= end && index.length != 0) {
                      if (word === searchText) {
                        searchTextCountInSlice++;
                      }
                      hits.push({position: position, length: word.length});
                      var wordEnd = position + word.length;

                      // move to next position of hit

                      index.pop();
                      while (index.length != 0) {
                        item = index[index.length - 1];
                        position = item.position;
                        word = item.word;
                        if (wordEnd > position) {
                          index.pop();
                        } else {
                          break;
                        }
                      }
                    }
                    searchTextCount += searchTextCountInSlice;
                    return {
                      hits: hits,
                      start: start,
                      end: end,
                      searchTextCount: searchTextCountInSlice
                    };
                  }

                  var slicesOfTitle = [];
                  if (indexOfTitle.length != 0) {
                    slicesOfTitle.push(mergeIntoSlice(title, 0, title.length, indexOfTitle));
                  }

                  var slicesOfContent = [];
                  while (indexOfContent.length != 0) {
                    var item = indexOfContent[indexOfContent.length - 1];
                    var position = item.position;
                    var word = item.word;
                    // cut out 100 characters
                    var start = position - 20;
                    var end = position + 80;
                    if(start < 0){
                      start = 0;
                    }
                    if (end < position + word.length) {
                      end = position + word.length;
                    }
                    if(end > content.length){
                      end = content.length;
                    }
                    slicesOfContent.push(mergeIntoSlice(content, start, end, indexOfContent));
                  }

                  // sort slices in content by search text's count and hits' count

                  slicesOfContent.sort(function (sliceLeft, sliceRight) {
                    if (sliceLeft.searchTextCount !== sliceRight.searchTextCount) {
                      return sliceRight.searchTextCount - sliceLeft.searchTextCount;
                    } else if (sliceLeft.hits.length !== sliceRight.hits.length) {
                      return sliceRight.hits.length - sliceLeft.hits.length;
                    } else {
                      return sliceLeft.start - sliceRight.start;
                    }
                  });

                  // select top N slices in content

                  var upperBound = parseInt('1');
                  if (upperBound >= 0) {
                    slicesOfContent = slicesOfContent.slice(0, upperBound);
                  }

                  // highlight title and content

                  function highlightKeyword(text, slice) {
                    var result = '';
                    var prevEnd = slice.start;
                    slice.hits.forEach(function (hit) {
                      result += text.substring(prevEnd, hit.position);
                      var end = hit.position + hit.length;
                      result += '<b class="search-keyword">' + text.substring(hit.position, end) + '</b>';
                      prevEnd = end;
                    });
                    result += text.substring(prevEnd, slice.end);
                    return result;
                  }

                  var resultItem = '';

                  if (slicesOfTitle.length != 0) {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + highlightKeyword(title, slicesOfTitle[0]) + "</a>";
                  } else {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + title + "</a>";
                  }

                  slicesOfContent.forEach(function (slice) {
                    resultItem += "<a href='" + articleUrl + "'>" +
                      "<p class=\"search-result\">" + highlightKeyword(content, slice) +
                      "...</p>" + "</a>";
                  });

                  resultItem += "</li>";
                  resultItems.push({
                    item: resultItem,
                    searchTextCount: searchTextCount,
                    hitCount: hitCount,
                    id: resultItems.length
                  });
                }
              })
            };
            if (keywords.length === 1 && keywords[0] === "") {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-search fa-5x" /></div>'
            } else if (resultItems.length === 0) {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-frown-o fa-5x" /></div>'
            } else {
              resultItems.sort(function (resultLeft, resultRight) {
                if (resultLeft.searchTextCount !== resultRight.searchTextCount) {
                  return resultRight.searchTextCount - resultLeft.searchTextCount;
                } else if (resultLeft.hitCount !== resultRight.hitCount) {
                  return resultRight.hitCount - resultLeft.hitCount;
                } else {
                  return resultRight.id - resultLeft.id;
                }
              });
              var searchResultList = '<ul class=\"search-result-list\">';
              resultItems.forEach(function (result) {
                searchResultList += result.item;
              })
              searchResultList += "</ul>";
              resultContent.innerHTML = searchResultList;
            }
          }

          if ('auto' === 'auto') {
            input.addEventListener('input', inputEventFunction);
          } else {
            $('.search-icon').click(inputEventFunction);
            input.addEventListener('keypress', function (event) {
              if (event.keyCode === 13) {
                inputEventFunction();
              }
            });
          }

          // remove loading animation
          $(".local-search-pop-overlay").remove();
          $('body').css('overflow', '');

          proceedsearch();
        }
      });
    }

    // handle and trigger popup window;
    $('.popup-trigger').click(function(e) {
      e.stopPropagation();
      if (isfetched === false) {
        searchFunc(path, 'local-search-input', 'local-search-result');
      } else {
        proceedsearch();
      };
    });

    $('.popup-btn-close').click(onPopupClose);
    $('.popup').click(function(e){
      e.stopPropagation();
    });
    $(document).on('keyup', function (event) {
      var shouldDismissSearchPopup = event.which === 27 &&
        $('.search-popup').is(':visible');
      if (shouldDismissSearchPopup) {
        onPopupClose();
      }
    });
  </script>





  

  

  

  
  

  

  

  

</body>
</html>
