<!DOCTYPE html>



  


<html class="theme-next muse use-motion" lang="zh-Hans">
<head><meta name="generator" content="Hexo 3.9.0">
  <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
<meta name="theme-color" content="#222">
<meta name="referrer" content="never">









<meta http-equiv="Cache-Control" content="no-transform">
<meta http-equiv="Cache-Control" content="no-siteapp">
















  
  
  <link href="../../lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css">







<link href="../../lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css">

<link href="../../css/main.css?v=5.1.4" rel="stylesheet" type="text/css">


  <link rel="apple-touch-icon" sizes="180x180" href="../../images/apple-touch-icon-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="32x32" href="../../images/favicon-32x32-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="16x16" href="../../images/favicon-16x16-next.png?v=5.1.4">


  <link rel="mask-icon" href="../../images/logo.svg?v=5.1.4" color="#222">





  <meta name="keywords" content="Hexo, NexT">





  <link rel="alternate" href="../../atom.xml" title="开发者博客 – IT技术 尽在开发者博客" type="application/atom+xml">






<meta property="og:type" content="website">
<meta property="og:title" content="开发者博客 – IT技术 尽在开发者博客">
<meta property="og:url" content="https://dev.newban.cn/page/129/index.html">
<meta property="og:site_name" content="开发者博客 – IT技术 尽在开发者博客">
<meta property="og:locale" content="zh-Hans">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="开发者博客 – IT技术 尽在开发者博客">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Muse',
    version: '5.1.4',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":true,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>
<!--谷歌广告验证代码-->
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({
          google_ad_client: "ca-pub-2626449904708114",
          enable_page_level_ads: true
     });
</script>
<!--谷歌广告验证代码-->



  <link rel="canonical" href="https://dev.newban.cn/page/129/">





  <title>开发者博客 – IT技术 尽在开发者博客</title>
  








</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  
  
    
  

  <div class="container sidebar-position-left 
  page-home">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">开发者博客 – IT技术 尽在开发者博客</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle">开发者博客 – 科技是第一生产力</p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="http://dev.newban.cn/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br>
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="https://dev.newban.cn/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br>
            
            归档
          </a>
        </li>
      

      
        <li class="menu-item menu-item-search">
          
            <a href="javascript:;" class="popup-trigger">
          
            
              <i class="menu-item-icon fa fa-search fa-fw"></i> <br>
            
            搜索
          </a>
        </li>
      
    </ul>
  

  
    <div class="site-search">
      
  <div class="popup search-popup local-search-popup">
  <div class="local-search-header clearfix">
    <span class="search-icon">
      <i class="fa fa-search"></i>
    </span>
    <span class="popup-btn-close">
      <i class="fa fa-times-circle"></i>
    </span>
    <div class="local-search-input-wrapper">
      <input autocomplete="off" placeholder="搜索..." spellcheck="false" type="text" id="local-search-input">
    </div>
  </div>
  <div id="local-search-result"></div>
</div>



    </div>
  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://dev.newban.cn../../7036188827039301639.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="开发者博客">
      <meta itemprop="description" content>
      <meta itemprop="image" content="../../images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="开发者博客 – IT技术 尽在开发者博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="../../7036188827039301639.html" itemprop="url">基于mybatis的数据库脱敏</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2021-11-30T10:47:02+08:00">
                2021-11-30
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <ul>
<li>&#x80CC;&#x666F;</li>
<li>&#x601D;&#x8DEF;</li>
<li>&#x5B9E;&#x73B0;</li>
<li>&#x601D;&#x8003;</li>
</ul>
<h2 id="&#x80CC;&#x666F;"><a href="#&#x80CC;&#x666F;" class="headerlink" title="&#x80CC;&#x666F;"></a>&#x80CC;&#x666F;</h2><p>&#x6700;&#x8FD1;&#x63A5;&#x5230;&#x9700;&#x6C42;&#x9700;&#x8981;&#x5BF9;&#x6570;&#x636E;&#x5E93;&#x4E2D;&#x7684;&#x7535;&#x8BDD;&#x3001;&#x8EAB;&#x4EFD;&#x8BC1;&#x53F7;&#x7B49;&#x654F;&#x611F;&#x4FE1;&#x606F;&#x8FDB;&#x884C;&#x8131;&#x654F;&#x52A0;&#x5BC6;&#x5904;&#x7406;&#xFF0C;&#x518D;&#x52A0;&#x4E0A;&#x4E4B;&#x524D;&#x9762;&#x8BD5;&#x65F6;&#x4E5F;&#x88AB;&#x95EE;&#x5230;&#x76F8;&#x5173;&#x95EE;&#x9898;&#xFF0C;&#x6240;&#x6709;&#x5728;&#x6B64;&#x8BB0;&#x5F55;&#x3002;&#x8131;&#x654F;&#x5BF9;&#x8C61;&#x662F;&#x6570;&#x636E;&#x5E93;&#x7684;&#x5B57;&#x6BB5;&#xFF0C;&#x6240;&#x4EE5;&#x5728;&#x6570;&#x636E;&#x5E93;&#x5B58;&#x53D6;&#x7684;&#x51FA;&#x5165;&#x53E3;&#x8FDB;&#x884C;&#x52A0;&#x89E3;&#x5BC6;&#x64CD;&#x4F5C;&#x662F;&#x6700;&#x5408;&#x9002;&#x7684;&#xFF0C;&#x9879;&#x76EE;&#x4E2D;&#x4F7F;&#x7528;mybatis&#x4F5C;&#x4E3A;ORM&#x6846;&#x67B6;&#xFF0C;&#x6240;&#x4EE5;&#x4F7F;&#x7528;&#x57FA;&#x4E8E;mybatis&#x7684;&#x6570;&#x636E;&#x5E93;&#x8131;&#x654F;&#x3002;</p>
<h2 id="&#x601D;&#x8DEF;"><a href="#&#x601D;&#x8DEF;" class="headerlink" title="&#x601D;&#x8DEF;"></a>&#x601D;&#x8DEF;</h2><p>&#x5BF9;&#x6570;&#x636E;&#x5E93;&#x4E2D;&#x7684;&#x6570;&#x636E;&#x8FDB;&#x884C;&#x8131;&#x654F;&#x5904;&#x7406;&#xFF0C;&#x6838;&#x5FC3;&#x601D;&#x60F3;&#x5C31;&#x662F;&#x5728;&#x5165;&#x5E93;&#x65F6;&#x5BF9;&#x654F;&#x611F;&#x5B57;&#x6BB5;&#x8FDB;&#x884C;&#x52A0;&#x5BC6;&#xFF0C;&#x5728;&#x51FA;&#x5E93;&#x65F6;&#x5BF9;&#x654F;&#x611F;&#x5B57;&#x6BB5;&#x89E3;&#x5BC6;&#x3002;&#x770B;&#x6E05;&#x4E86;&#x8FD9;&#x4E2A;&#x95EE;&#x9898;&#xFF0C;&#x6211;&#x4EEC;&#x7684;&#x5173;&#x6CE8;&#x70B9;&#x5C31;&#x6709;&#x4E24;&#x4E2A;&#x3002;</p>
<ol>
<li>&#x4F55;&#x65F6;&#xFF1F;&#x5165;&#x5E93;&#x548C;&#x51FA;&#x5E93;</li>
<li>&#x4F55;&#x5730;&#xFF1F;&#x5165;&#x53C2;&#x548C;&#x67E5;&#x8BE2;&#x7ED3;&#x679C;</li>
</ol>
<p>mybatis&#x6846;&#x67B6;&#x4E2D;&#x7684;plugin&#xFF0C;&#x80FD;&#x591F;&#x5BF9;&#x4E0A;&#x9762;&#x4E24;&#x4E2A;&#x5173;&#x6CE8;&#x70B9;&#x8FDB;&#x884C;&#x5F88;&#x597D;&#x7684;&#x63A7;&#x5236;&#xFF0C;&#x518D;&#x7ED3;&#x5408;&#x81EA;&#x5B9A;&#x4E49;&#x6CE8;&#x89E3;&#xFF0C;&#x5BF9;&#x9700;&#x8981;&#x8131;&#x654F;&#x7684;&#x5B57;&#x6BB5;&#x8FDB;&#x884C;&#x6807;&#x6CE8;&#xFF0C;&#x5C31;&#x80FD;&#x591F;&#x6EE1;&#x8DB3;&#x6211;&#x4EEC;&#x7684;&#x9700;&#x6C42;&#x3002;</p>
<h2 id="&#x5B9E;&#x73B0;"><a href="#&#x5B9E;&#x73B0;" class="headerlink" title="&#x5B9E;&#x73B0;"></a>&#x5B9E;&#x73B0;</h2><p>&#x7406;&#x8BBA;&#x77E5;&#x8BC6;&#x50A8;&#x5907;</p>
<ul>
<li>mybatis interceptor&#x6267;&#x884C;&#x6D41;&#x7A0B;&#x4E0E;&#x539F;&#x7406;(<a href="/external_links/3117d74e26df878b06600ae27e2d33c0.html" target="blank" rel="noopener">blog.csdn.net/weixin_3949&#x2026;</a>)</li>
<li>&#x81EA;&#x5B9A;&#x4E49;&#x6CE8;&#x89E3;</li>
<li>&#x53CD;&#x5C04;</li>
</ul>
<ol>
<li>&#x5B9A;&#x4E49;&#x81EA;&#x5B9A;&#x4E49;&#x6CE8;&#x89E3;&#xFF0C;&#x7528;&#x4E8E;&#x6807;&#x8BC6;&#x654F;&#x611F;&#x5B57;&#x6BB5;</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">less&#x590D;&#x5236;&#x4EE3;&#x7801;/**</span><br><span class="line"> * &#x6807;&#x8BC6;&#x5B57;&#x6BB5;&#x5165;&#x5E93;&#x4FE1;&#x606F;&#x9700;&#x8981;&#x52A0;&#x5BC6;</span><br><span class="line"> * @see com.vcg.veer.sign.utils.DesUtils</span><br><span class="line"> * @author zhouyao</span><br><span class="line"> * @date 2021/10/27 9:22 &#x4E0A;&#x5348;</span><br><span class="line"> **/</span><br><span class="line">@Retention(RetentionPolicy.RUNTIME)</span><br><span class="line">@Target(ElementType.FIELD)</span><br><span class="line">public @interface Encrypt {</span><br><span class="line">}</span><br></pre></td></tr></table></figure>

<ol start="2">
<li>mybatis&#x63D2;&#x4EF6;&#x903B;&#x8F91;(&#x5BF9;&#x9879;&#x76EE;&#x4E2D;&#x4F7F;&#x7528;&#x7684;pagehelper&#x548C;mybatis-processor&#x63D2;&#x4EF6;&#x517C;&#x5BB9;)</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br></pre></td><td class="code"><pre><span class="line">ini&#x590D;&#x5236;&#x4EE3;&#x7801;</span><br><span class="line">/**</span><br><span class="line"> * &#x654F;&#x611F;&#x5B57;&#x6BB5;&#x5165;&#x5E93;&#x3001;&#x51FA;&#x5E93;&#x5904;&#x7406;</span><br><span class="line"> *</span><br><span class="line"> * @author zhouyao</span><br><span class="line"> * @date 2021/10/27 9:25 &#x4E0A;&#x5348;</span><br><span class="line"> **/</span><br><span class="line">@Intercepts(</span><br><span class="line">        {</span><br><span class="line">                @Signature(type = Executor.class, method = &quot;query&quot;, args = {MappedStatement.class, Object.class, RowBounds.class, ResultHandler.class}),</span><br><span class="line">                @Signature(type = Executor.class, method = &quot;update&quot;, args = {MappedStatement.class, Object.class})</span><br><span class="line">        }</span><br><span class="line">)</span><br><span class="line">public class EncryptInterceptor implements Interceptor {</span><br><span class="line"></span><br><span class="line">    private final String EXAMPLE_SUFFIX = &quot;Example&quot;;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    @Override</span><br><span class="line">    public Object intercept(Invocation invocation) throws Throwable {</span><br><span class="line">        Object[] args = invocation.getArgs();</span><br><span class="line">        MappedStatement ms = (MappedStatement) args[0];</span><br><span class="line">        Object parameter = args[1];</span><br><span class="line">        Class&lt;?&gt; argClass = parameter.getClass();</span><br><span class="line">        String argClassName = argClass.getName();</span><br><span class="line">        //&#x517C;&#x5BB9;mybatis-processor</span><br><span class="line">        if (needHandleExample(argClassName)){</span><br><span class="line">            handleExample(args);</span><br><span class="line">        }else{</span><br><span class="line">            //&#x81EA;&#x5B9A;&#x4E49;&#x7684;mapper&#x6587;&#x4EF6;&#x589E;&#x5220;&#x67E5;&#x6539;&#x53C2;&#x6570;&#x5904;&#x7406;</span><br><span class="line">            handleCustomizeMapperParams(args);</span><br><span class="line">        }</span><br><span class="line"></span><br><span class="line">        //update &#x65B9;&#x6CD5;</span><br><span class="line">        if (args.length == 2 ){</span><br><span class="line">            return invocation.proceed();</span><br><span class="line">        }</span><br><span class="line">        //&#x517C;&#x5BB9;pagehelper</span><br><span class="line">        if(args.length == 4){</span><br><span class="line">            RowBounds rowBounds = (RowBounds) args[2];</span><br><span class="line">            ResultHandler resultHandler = (ResultHandler) args[3];</span><br><span class="line">            Executor executor = (Executor) invocation.getTarget();</span><br><span class="line">            CacheKey cacheKey;</span><br><span class="line">            BoundSql boundSql;</span><br><span class="line">            //4 &#x4E2A;&#x53C2;&#x6570;&#x65F6;</span><br><span class="line">            boundSql = ms.getBoundSql(parameter);</span><br><span class="line">            cacheKey = executor.createCacheKey(ms, parameter, rowBounds, boundSql);</span><br><span class="line">            List&lt;Object&gt; queryResult = executor.query(ms, parameter, rowBounds, resultHandler, cacheKey, boundSql);</span><br><span class="line">            //&#x5904;&#x7406;&#x9700;&#x8981;&#x89E3;&#x5BC6;&#x7684;&#x5B57;&#x6BB5;</span><br><span class="line">            decryptFieldIfNeeded(queryResult);</span><br><span class="line">            return queryResult;</span><br><span class="line">        }</span><br><span class="line"></span><br><span class="line">        return invocation.proceed();</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    /**</span><br><span class="line">     * &#x5BF9;&#x6570;&#x636E;&#x8FDB;&#x884C;&#x89E3;&#x5BC6;</span><br><span class="line">     * @param queryResult</span><br><span class="line">     */</span><br><span class="line">    private void decryptFieldIfNeeded(List&lt;Object&gt; queryResult) throws IllegalAccessException {</span><br><span class="line">        if (CollectionUtils.isEmpty(queryResult)) {</span><br><span class="line">            return;</span><br><span class="line">        }</span><br><span class="line">        Object o1 = queryResult.get(0);</span><br><span class="line">        Class&lt;?&gt; resultClass = o1.getClass();</span><br><span class="line">        Field[] resultClassDeclaredFields = resultClass.getDeclaredFields();</span><br><span class="line">        List&lt;Field&gt; needDecryptFieldList = new ArrayList&lt;&gt;();</span><br><span class="line">        for (Field resultClassDeclaredField : resultClassDeclaredFields) {</span><br><span class="line">            Encrypt encrypt = resultClassDeclaredField.getDeclaredAnnotation(Encrypt.class);</span><br><span class="line">            if (encrypt == null){</span><br><span class="line">                continue;</span><br><span class="line">            }</span><br><span class="line">            Class&lt;?&gt; type = resultClassDeclaredField.getType();</span><br><span class="line">            if (!String.class.isAssignableFrom(type)){</span><br><span class="line">                throw new IllegalStateException(&quot;@Encrypt should annotated on String field&quot;);</span><br><span class="line">            }</span><br><span class="line">            needDecryptFieldList.add(resultClassDeclaredField);</span><br><span class="line">        }</span><br><span class="line">        if (CollectionUtils.isEmpty(needDecryptFieldList)){</span><br><span class="line">            return;</span><br><span class="line">        }</span><br><span class="line">        for (Field field : needDecryptFieldList) {</span><br><span class="line">            field.setAccessible(true);</span><br><span class="line">            for (Object o : queryResult) {</span><br><span class="line">                String fieldValue = (String) field.get(o);</span><br><span class="line">                if (!StringUtils.hasText(fieldValue)){</span><br><span class="line">                    continue;</span><br><span class="line">                }</span><br><span class="line">                field.set(o,DesUtils.decrypt(fieldValue));</span><br><span class="line">            }</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    /**</span><br><span class="line">     * &#x5904;&#x7406;&#x81EA;&#x5B9A;&#x4E49;mapper&#x53C2;&#x6570;</span><br><span class="line">     * @param args</span><br><span class="line">     */</span><br><span class="line">    private void handleCustomizeMapperParams(Object[] args) throws Exception {</span><br><span class="line">        Object param = args[1];</span><br><span class="line">        encryptObjectField(param);</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    private void encryptObjectField(Object param) throws Exception {</span><br><span class="line">        Class&lt;?&gt; paramClass = param.getClass();</span><br><span class="line">        //mybatis @param&#x6CE8;&#x89E3;&#x4F1A;&#x5904;&#x7406;&#x4E3A;&#x591A;&#x53C2;&#x6570;</span><br><span class="line">        if (Map.class.isAssignableFrom(paramClass)){</span><br><span class="line">            Map mapParam = (Map) param;</span><br><span class="line">            Set&lt;Object&gt; params = new HashSet&lt;&gt;();</span><br><span class="line">            params.addAll(mapParam.values());</span><br><span class="line">            for (Object o : params) {</span><br><span class="line">                encryptObjectField(o);</span><br><span class="line">            }</span><br><span class="line">            return;</span><br><span class="line">        }</span><br><span class="line">        Field[] paramClassDeclaredFields = paramClass.getDeclaredFields();</span><br><span class="line">        // &#x904D;&#x5386;&#x53C2;&#x6570;&#x7684;&#x6240;&#x6709;&#x5B57;&#x6BB5;&#x67E5;&#x627E;&#x9700;&#x8981;&#x52A0;&#x5BC6;&#x7684;&#x5B57;&#x6BB5;</span><br><span class="line">        for (Field paramClassDeclaredField : paramClassDeclaredFields) {</span><br><span class="line">            Encrypt encrypt = paramClassDeclaredField.getDeclaredAnnotation(Encrypt.class);</span><br><span class="line">            if (encrypt != null){</span><br><span class="line">                //&#x52A0;&#x5BC6;</span><br><span class="line">                encryptField(param,paramClassDeclaredField);</span><br><span class="line">            }</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    /**</span><br><span class="line">     * &#x7ED9;&#x6307;&#x5B9A;&#x5B57;&#x6BB5;&#x52A0;&#x5BC6;</span><br><span class="line">     * @param targetObj</span><br><span class="line">     * @param paramClassDeclaredField</span><br><span class="line">     */</span><br><span class="line">    private void encryptField(Object targetObj, Field paramClassDeclaredField) throws Exception {</span><br><span class="line">        paramClassDeclaredField.setAccessible(true);</span><br><span class="line">        Class&lt;?&gt; type = paramClassDeclaredField.getType();</span><br><span class="line">        Object fieldValue = paramClassDeclaredField.get(targetObj);</span><br><span class="line">        if (fieldValue == null){</span><br><span class="line">            return;</span><br><span class="line">        }</span><br><span class="line"></span><br><span class="line">        if (Collection.class.isAssignableFrom(type)) {</span><br><span class="line">            try {</span><br><span class="line">                Collection&lt;String&gt; collection = (Collection&lt;String&gt;) fieldValue;</span><br><span class="line">                List&lt;String&gt; tempList = new ArrayList&lt;&gt;();</span><br><span class="line">                Iterator&lt;String&gt; iterator = collection.iterator();</span><br><span class="line">                while (iterator.hasNext()) {</span><br><span class="line">                    String next = iterator.next();</span><br><span class="line">                    tempList.add(DesUtils.encrypt(next));</span><br><span class="line">                    iterator.remove();</span><br><span class="line">                }</span><br><span class="line">                collection.addAll(tempList);</span><br><span class="line">            }catch (Exception ex){</span><br><span class="line">                //&#x52A0;&#x5BC6;&#x5B57;&#x6BB5;&#x53C2;&#x6570;&#x53EA;&#x652F;&#x6301;String&#x7C7B;&#x578B;</span><br><span class="line">                throw new IllegalArgumentException(&quot;Encrypted fields only support String type&quot;);</span><br><span class="line">            }</span><br><span class="line">        }</span><br><span class="line">        else if(String.class.isAssignableFrom(type)){</span><br><span class="line">            //&#x57FA;&#x7840;&#x6570;&#x636E;&#x7C7B;&#x578B;&#x76F4;&#x63A5;&#x8BBE;&#x503C;</span><br><span class="line">            paramClassDeclaredField.set(targetObj, DesUtils.encrypt(fieldValue.toString()));</span><br><span class="line">        }</span><br><span class="line">        else if (isBasicType(type)) {</span><br><span class="line">            //&#x52A0;&#x5BC6;&#x5B57;&#x6BB5;&#x53C2;&#x6570;&#x53EA;&#x652F;&#x6301;String&#x7C7B;&#x578B;</span><br><span class="line">            throw new IllegalArgumentException(&quot;Encrypted fields only support String type&quot;);</span><br><span class="line">        } else {</span><br><span class="line">            //&#x9012;&#x5F52;&#x8C03;&#x7528;</span><br><span class="line">            encryptObjectField(fieldValue);</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    private boolean isBasicType(Class&lt;?&gt; clz) {</span><br><span class="line">        try {</span><br><span class="line">            return ((Class) clz.getField(&quot;TYPE&quot;).get(null)).isPrimitive();</span><br><span class="line">        } catch (Exception e) {</span><br><span class="line">            return false;</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    //&#x517C;&#x5BB9;processor</span><br><span class="line">    private void handleExample(Object[] args) throws Exception {</span><br><span class="line">        Object arg = args[1];</span><br><span class="line">        Class&lt;?&gt; argClass = arg.getClass();</span><br><span class="line">        String argClassName = argClass.getName();</span><br><span class="line">        //&#x517C;&#x5BB9; mybatis-processor</span><br><span class="line">        if (argClassName.endsWith(EXAMPLE_SUFFIX)) {</span><br><span class="line">            //&#x5B9E;&#x4F53;&#x7C7B;&#x7684;&#x7C7B;&#x540D;</span><br><span class="line">            String modelClassName = argClassName.substring(0, argClassName.length() - 7);</span><br><span class="line">            Class&lt;?&gt; modelClass;</span><br><span class="line">            try {</span><br><span class="line">                modelClass = Class.forName(modelClassName);</span><br><span class="line">            }catch(ClassNotFoundException ex){</span><br><span class="line">                return;</span><br><span class="line">            }</span><br><span class="line"></span><br><span class="line">            Method getCriteria = argClass.getDeclaredMethod(&quot;getCriteria&quot;);</span><br><span class="line">            getCriteria.setAccessible(true);</span><br><span class="line">            Object criteria = getCriteria.invoke(arg);</span><br><span class="line">            Class&lt;?&gt; criteriaClass = criteria.getClass();</span><br><span class="line">            Method getAllCriteria = criteriaClass.getDeclaredMethod(&quot;getAllCriteria&quot;);</span><br><span class="line">            Set&lt;Object&gt; criterions = (Set&lt;Object&gt;) getAllCriteria.invoke(criteria);</span><br><span class="line">            for (Object criterionObj : criterions) {</span><br><span class="line">                Class&lt;?&gt; criterionClass = criterionObj.getClass();</span><br><span class="line">                Method getCondition = criterionClass.getDeclaredMethod(&quot;getCondition&quot;);</span><br><span class="line">                String condition = (String) getCondition.invoke(criterionObj);</span><br><span class="line">                //&#x5217;&#x540D;</span><br><span class="line">                String[] conditionParts = condition.split(&quot; &quot;);</span><br><span class="line">                if (conditionParts.length != 2){</span><br><span class="line">                    continue;</span><br><span class="line">                }</span><br><span class="line">                String columnName = conditionParts[0];</span><br><span class="line">                //&#x64CD;&#x4F5C; &gt;=&lt; like</span><br><span class="line">                String operateType = conditionParts[1];</span><br><span class="line">                Field[] modelClassDeclaredFields = modelClass.getDeclaredFields();</span><br><span class="line">                for (Field modelClassDeclaredField : modelClassDeclaredFields) {</span><br><span class="line">                    Column annotation = modelClassDeclaredField.getAnnotation(Column.class);</span><br><span class="line">                    if (annotation == null){</span><br><span class="line">                        continue;</span><br><span class="line">                    }</span><br><span class="line">                    if (columnName.equalsIgnoreCase(annotation.name())){</span><br><span class="line">                        Encrypt encrypt = modelClassDeclaredField.getDeclaredAnnotation(Encrypt.class);</span><br><span class="line">                        if (encrypt != null) {</span><br><span class="line">                            //&#x52A0;&#x5BC6;&#x5B57;&#x6BB5;&#x53EA;&#x80FD;&#x7528;&#x7B49;&#x4E8E;&#x6BD4;&#x8F83;</span><br><span class="line">                            if (!&quot;=&quot;.equalsIgnoreCase(operateType)) {</span><br><span class="line">                                throw new IllegalArgumentException(&quot;encrypt field only can be operate by &apos;=&apos;&quot;);</span><br><span class="line">                            }</span><br><span class="line">                            Field value = criterionClass.getDeclaredField(&quot;value&quot;);</span><br><span class="line">                            value.setAccessible(true);</span><br><span class="line"></span><br><span class="line">                            List&lt;Integer&gt; list = new ArrayList&lt;&gt;();</span><br><span class="line">                            list.add(1);</span><br><span class="line">                            //&#x91CD;&#x65B0;&#x8BBE;&#x7F6E;&#x53C2;&#x6570;</span><br><span class="line">                            value.set(criterionObj,list);</span><br><span class="line"></span><br><span class="line">                            break;</span><br><span class="line">                        }</span><br><span class="line">                        break;</span><br><span class="line">                    }</span><br><span class="line"></span><br><span class="line">                }</span><br><span class="line">            }</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    /**</span><br><span class="line">     * &#x5224;&#x65AD;&#x662F;&#x5426;&#x9700;&#x8981;&#x5904;&#x7406;Example&#x7C7B;&#x578B;&#x7684;&#x67E5;&#x8BE2;</span><br><span class="line">     * @param argClassName</span><br><span class="line">     * @return</span><br><span class="line">     */</span><br><span class="line">    private boolean needHandleExample(String argClassName) {</span><br><span class="line">        return argClassName.endsWith(EXAMPLE_SUFFIX);</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    private Object decryptIfNeeded(Invocation invocation) throws InvocationTargetException, IllegalAccessException {</span><br><span class="line">        return invocation.proceed();</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    @Override</span><br><span class="line">    public Object plugin(Object target) {</span><br><span class="line">        return Plugin.wrap(target, this);</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    @Override</span><br><span class="line">    public void setProperties(Properties properties) {</span><br><span class="line">        Interceptor.super.setProperties(properties);</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></table></figure>

<ol start="3">
<li>&#x63D2;&#x4EF6;&#x7684;&#x4F7F;&#x7528;</li>
</ol>
<p>&#x5728;&#x9879;&#x76EE;&#x542F;&#x52A8;&#x65F6;&#x6CE8;&#x518C;&#x63D2;&#x4EF6;(&#x6CE8;&#x610F;&#xFF0C;&#x6839;&#x636E;mybatis&#x63D2;&#x4EF6;&#x7684;&#x6267;&#x884C;&#x539F;&#x7406;&#xFF0C;&#x6B64;&#x63D2;&#x4EF6;&#x9700;&#x8981;&#x5728;&#x6700;&#x540E;&#x6CE8;&#x518C;&#xFF0C;&#x624D;&#x80FD;&#x4FDD;&#x8BC1;&#x6700;&#x5148;&#x89E3;&#x6790;&#x53C2;&#x6570;)</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">java&#x590D;&#x5236;&#x4EE3;&#x7801;SqlSessionFactoryBean bean = new SqlSessionFactoryBean();</span><br><span class="line">		bean.setDataSource(dataSource);</span><br><span class="line">		//&#x52A0;&#x89E3;&#x5BC6;&#x63D2;&#x4EF6;</span><br><span class="line">		EncryptInterceptor encryptInterceptor = new EncryptInterceptor();</span><br><span class="line"></span><br><span class="line">		//&#x5206;&#x9875;&#x63D2;&#x4EF6;</span><br><span class="line">		PageInterceptor pageInterceptor = new PageInterceptor();</span><br><span class="line">		Properties properties = new Properties();</span><br><span class="line">		properties.setProperty(&quot;reasonable&quot;, &quot;true&quot;);</span><br><span class="line">		properties.setProperty(&quot;supportMethodsArguments&quot;, &quot;true&quot;);</span><br><span class="line">		properties.setProperty(&quot;returnPageInfo&quot;, &quot;check&quot;);</span><br><span class="line">		properties.setProperty(&quot;params&quot;, &quot;count=countSql&quot;);</span><br><span class="line">		pageInterceptor.setProperties(properties);</span><br><span class="line"></span><br><span class="line">		//&#x6DFB;&#x52A0;&#x63D2;&#x4EF6;</span><br><span class="line">		bean.setPlugins(pageInterceptor,encryptInterceptor);</span><br></pre></td></tr></table></figure>

<p>&#x5BF9;&#x9700;&#x8981;&#x52A0;&#x5BC6;&#x5904;&#x7406;&#x7684;&#x5B57;&#x6BB5;&#x6807;&#x6CE8;@Encrypt&#x6CE8;&#x89E3;(&#x5165;&#x53C2;&#x548C;&#x7ED3;&#x679C;DTO&#x5BF9;&#x8C61;&#x5B57;&#x6BB5;&#x90FD;&#x9700;&#x8981;&#x6807;&#x6CE8;)</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">typescript&#x590D;&#x5236;&#x4EE3;&#x7801;    @Encrypt</span><br><span class="line">    private String mobile;</span><br></pre></td></tr></table></figure>

<h2 id="&#x601D;&#x8003;"><a href="#&#x601D;&#x8003;" class="headerlink" title="&#x601D;&#x8003;"></a>&#x601D;&#x8003;</h2><p>&#x901A;&#x8FC7;mybatis&#x7684;&#x63D2;&#x4EF6;&#x5BF9;&#x6570;&#x636E;&#x5E93;&#x7684;&#x589E;&#x5220;&#x6539;&#x67E5;&#x5B9E;&#x73B0;&#x8131;&#x654F;&#x5904;&#x7406;&#x8FD8;&#x662F;&#x6BD4;&#x8F83;&#x7B80;&#x5355;&#x7684;&#x3002;&#x91CD;&#x70B9;&#x5C31;&#x5728;&#x4E8E;&#xFF1A;</p>
<ol>
<li>&#x62E6;&#x622A;Executor&#x5BF9;&#x8C61;&#x7684;query&#x548C;update&#x65B9;&#x6CD5;&#xFF0C;&#x83B7;&#x53D6;&#x67E5;&#x8BE2;/&#x66F4;&#x65B0;&#x53C2;&#x6570;&#x548C;&#x67E5;&#x8BE2;&#x7ED3;&#x679C;&#x96C6;</li>
<li>&#x901A;&#x8FC7;&#x53CD;&#x5C04;&#x5BF9;&#x53C2;&#x6570;&#x4E2D;&#x6807;&#x6CE8;&#x81EA;&#x5B9A;&#x4E49;&#x6CE8;&#x89E3;&#x7684;&#x5B57;&#x6BB5;&#x8FDB;&#x884C;&#x52A0;/&#x89E3;&#x5BC6;&#x5904;&#x7406;</li>
</ol>
<p>&#x5728;&#x5F00;&#x53D1;&#x8FC7;&#x7A0B;&#x4E2D;&#x4E5F;&#x9047;&#x5230;&#x4E86;&#x7531;&#x4E8E;&#x4F7F;&#x7528;&#x4E86;pagehelper&#x63D2;&#x4EF6;&#xFF0C;&#x5BFC;&#x81F4;&#x81EA;&#x5B9A;&#x4E49;&#x62E6;&#x622A;&#x5668;&#x4E0D;&#x751F;&#x6548;&#x7684;&#x95EE;&#x9898;&#xFF0C;&#x6700;&#x540E;&#x67E5;&#x9605;pagehelper&#x7684;&#x6587;&#x6863;&#x89E3;&#x51B3;&#x4E86;(&#x9700;&#x8981;&#x6839;&#x636E;pagehelper&#x5B9A;&#x4E49;&#x7684;&#x62E6;&#x622A;&#x5668;&#x7F16;&#x5199;&#x89C4;&#x8303;&#x6765;&#x5F00;&#x53D1;)&#x3002;</p>
<p>&#x5B8C;&#x6574;&#x7684;&#x4EE3;&#x7801;&#x53C2;&#x8003;&#xFF1A;</p>
<p><a href="/external_links/210c0de4be45d77adb08f7c854270b7f.html" target="blank" rel="noopener">github.com/zhouyao423/&#x2026;</a></p>
<p>&#x53C2;&#x8003;&#x6587;&#x6863;&#xFF1A;</p>
<p><a href="/external_links/4c13f6e23cec1366276e56cd9a9013ef.html" target="blank" rel="noopener">pagehelper interceptor&#x9AD8;&#x7EA7;&#x7528;&#x6CD5;</a></p>
<p><a href="/external_links/3117d74e26df878b06600ae27e2d33c0.html" target="blank" rel="noopener">mybatis interceptor</a></p>
<p><strong>&#x672C;&#x6587;&#x8F6C;&#x8F7D;&#x81EA;:</strong> <a href="/external_links/1922a779cc33666ffbe524022a5e1c2f.html" target="blank" rel="noopener">&#x6398;&#x91D1;</a></p>
<p><em><a href="https://dev.newban.cn/">&#x5F00;&#x53D1;&#x8005;&#x535A;&#x5BA2; &#x2013; &#x548C;&#x5F00;&#x53D1;&#x76F8;&#x5173;&#x7684; &#x8FD9;&#x91CC;&#x5168;&#x90FD;&#x6709;</a></em></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://dev.newban.cn../../7036185323734302757.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="开发者博客">
      <meta itemprop="description" content>
      <meta itemprop="image" content="../../images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="开发者博客 – IT技术 尽在开发者博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="../../7036185323734302757.html" itemprop="url">关于函数的学习(五) — 传递任意数量的实参</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2021-11-30T10:33:50+08:00">
                2021-11-30
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="&#x4F20;&#x9012;&#x4EFB;&#x610F;&#x6570;&#x91CF;&#x7684;&#x5B9E;&#x53C2;"><a href="#&#x4F20;&#x9012;&#x4EFB;&#x610F;&#x6570;&#x91CF;&#x7684;&#x5B9E;&#x53C2;" class="headerlink" title="&#x4F20;&#x9012;&#x4EFB;&#x610F;&#x6570;&#x91CF;&#x7684;&#x5B9E;&#x53C2;"></a>&#x4F20;&#x9012;&#x4EFB;&#x610F;&#x6570;&#x91CF;&#x7684;&#x5B9E;&#x53C2;</h2><p>&#x6709;&#x65F6;&#x5019;&#xFF0C;&#x4F60;&#x9884;&#x5148;&#x4E0D;&#x77E5;&#x9053;&#x51FD;&#x6570;&#x9700;&#x8981;&#x63A5;&#x53D7;&#x591A;&#x5C11;&#x4E2A;&#x5B9E;&#x53C2;&#xFF0C;&#x597D;&#x5728;Python&#x5141;&#x8BB8;&#x51FD;&#x6570;&#x4ECE;&#x8C03;&#x7528;&#x8BED;&#x53E5;&#x4E2D;&#x6536;&#x96C6;&#x4EFB;&#x610F;&#x6570;&#x91CF;&#x7684;&#x5B9E;&#x53C2;&#x3002;<br>&#x4F8B;&#x5982;&#xFF0C;&#x6765;&#x770B;&#x4E00;&#x4E2A;&#x5236;&#x4F5C;&#x6BD4;&#x8428;&#x7684;&#x51FD;&#x6570;&#xFF0C;&#x5B83;&#x9700;&#x8981;&#x63A5;&#x53D7;&#x5F88;&#x591A;&#x914D;&#x6599;&#xFF0C;&#x4F46;&#x4F60;&#x65E0;&#x6CD5;&#x9884;&#x5148;&#x786E;&#x5B9A;&#x987E;&#x5BA2;&#x8981;&#x591A;&#x5C11;&#x79CD;&#x914D;&#x6599;&#x3002;&#x4E0B;&#x9762;&#x7684;&#x51FD;&#x6570;&#x53EA;&#x6709;&#x4E00;&#x4E2A;&#x5F62;&#x53C2;*toppings&#xFF0C;&#x4F46;&#x4E0D;&#x7BA1;&#x8C03;&#x7528;&#x8BED;&#x53E5;&#x63D0;&#x4F9B;&#x4E86;&#x591A;&#x5C11;&#x5B9E;&#x53C2;&#xFF0C;&#x8FD9;&#x4E2A;&#x5F62;&#x53C2;&#x90FD;&#x5C06;&#x5B83;&#x4EEC;&#x7EDF;&#x7EDF;&#x6536;&#x5165;&#x56CA;&#x4E2D;&#xFF1A;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">handlebars&#x590D;&#x5236;&#x4EE3;&#x7801;def make_pizza(*toppings):</span><br><span class="line">    &quot;&quot;&quot;&#x6253;&#x5370;&#x987E;&#x5BA2;&#x70B9;&#x7684;&#x6240;&#x6709;&#x914D;&#x6599;&quot;&quot;&quot;</span><br><span class="line">    print(toppings)</span><br><span class="line">make_pizza(&apos;pepperoni&apos;)</span><br><span class="line">make_pizza(&apos;mushrooms&apos;, &apos;green peppers&apos;, &apos;extra cheese&apos;)</span><br></pre></td></tr></table></figure>

<p>&#x5F62;&#x53C2;&#x540D;*toppings&#x4E2D;&#x7684;&#x661F;&#x53F7;&#x8BA9;Python&#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x540D;&#x4E3A;toppings&#x7684;&#x7A7A;&#x5143;&#x7EC4;&#xFF0C;&#x5E76;&#x5C06;&#x6536;&#x5230;&#x7684;&#x6240;&#x6709;&#x503C;&#x90FD;&#x5C01;&#x88C5;&#x5230;&#x8FD9;&#x4E2A;&#x5143;&#x7EC4;&#x4E2D;&#x3002;&#x51FD;&#x6570;&#x4F53;&#x5185;&#x7684;print&#x8BED;&#x53E5;&#x901A;&#x8FC7;&#x751F;&#x6210;&#x8F93;&#x51FA;&#x6765;&#x8BC1;&#x660E;Python&#x80FD;&#x591F;&#x5904;&#x7406;&#x4F7F;&#x7528;&#x4E00;&#x4E2A;&#x503C;&#x8C03;&#x7528;&#x51FD;&#x6570;&#x7684;&#x60C5;&#x5F62;&#xFF0C;&#x4E5F;&#x80FD;&#x5904;&#x7406;&#x4F7F;&#x7528;&#x4E09;&#x4E2A;&#x503C;&#x6765;&#x8C03;&#x7528;&#x51FD;&#x6570;&#x7684;&#x60C5;&#x5F62;&#x3002;&#x5B83;&#x4EE5;&#x7C7B;&#x4F3C;&#x7684;&#x65B9;&#x5F0F;&#x5904;&#x7406;&#x4E0D;&#x540C;&#x7684;&#x8C03;&#x7528;&#xFF0C;&#x6CE8;&#x610F;&#xFF0C;Python&#x5C06;&#x5B9E;&#x53C2;&#x5C01;&#x88C5;&#x5230;&#x4E00;&#x4E2A;&#x5143;&#x7EC4;&#x4E2D;&#xFF0C;&#x5373;&#x4FBF;&#x51FD;&#x6570;&#x53EA;&#x6536;&#x5230;&#x4E00;&#x4E2A;&#x503C;&#x4E5F;&#x5982;&#x6B64;&#xFF1A;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">handlebars&#x590D;&#x5236;&#x4EE3;&#x7801;(&apos;pepperoni&apos;,)</span><br><span class="line">(&apos;mushrooms&apos;, &apos;green peppers&apos;, &apos;extra cheese&apos;)</span><br></pre></td></tr></table></figure>

<p>&#x73B0;&#x5728;&#xFF0C;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x5C06;&#x8FD9;&#x6761;print&#x8BED;&#x53E5;&#x66FF;&#x6362;&#x4E3A;&#x4E00;&#x4E2A;&#x5FAA;&#x73AF;&#xFF0C;&#x5BF9;&#x914D;&#x6599;&#x5217;&#x8868;&#x8FDB;&#x884C;&#x904D;&#x5386;&#xFF0C;&#x5E76;&#x5BF9;&#x987E;&#x5BA2;&#x70B9;&#x7684;&#x6BD4;&#x8428;&#x8FDB;&#x884C;&#x63CF;&#x8FF0;&#xFF1A;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">handlebars&#x590D;&#x5236;&#x4EE3;&#x7801;def make_pizza(*toppings):</span><br><span class="line">    &quot;&quot;&quot;&#x6982;&#x8FF0;&#x8981;&#x5236;&#x4F5C;&#x7684;&#x6BD4;&#x8428;&quot;&quot;&quot;</span><br><span class="line">    print(&quot;\nMaking a pizza with the following toppings:&quot;)</span><br><span class="line">    for topping in toppings:</span><br><span class="line">        print(&quot;- &quot;+topping)</span><br><span class="line">make_pizza(&apos;pepperoni&apos;)</span><br><span class="line">make_pizza(&apos;mushrooms&apos;, &apos;green peppers&apos;, &apos;extra cheese&apos;)</span><br></pre></td></tr></table></figure>

<p>&#x4E0D;&#x7BA1;&#x6536;&#x5230;&#x7684;&#x662F;&#x4E00;&#x4E2A;&#x503C;&#x8FD8;&#x662F;&#x4E09;&#x4E2A;&#x503C;&#xFF0C;&#x8FD9;&#x4E2A;&#x51FD;&#x6570;&#x90FD;&#x80FD;&#x59A5;&#x5584;&#x5730;&#x5904;&#x7406;&#xFF1A;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">handlebars&#x590D;&#x5236;&#x4EE3;&#x7801;Making a pizza with the following toppings:</span><br><span class="line">- pepperoni</span><br><span class="line">Making a pizza with the following toppings:</span><br><span class="line">- mushrooms</span><br><span class="line">- green peppers</span><br><span class="line">- extra cheese</span><br></pre></td></tr></table></figure>

<p>&#x4E0D;&#x7BA1;&#x51FD;&#x6570;&#x6536;&#x5230;&#x7684;&#x5B9E;&#x53C2;&#x662F;&#x591A;&#x5C11;&#x4E2A;&#xFF0C;&#x8FD9;&#x79CD;&#x8BED;&#x6CD5;&#x90FD;&#x7BA1;&#x7528;&#x3002;</p>
<h3 id="1-&#x7ED3;&#x5408;&#x4F7F;&#x7528;&#x4F4D;&#x7F6E;&#x5B9E;&#x53C2;&#x548C;&#x4EFB;&#x610F;&#x6570;&#x91CF;&#x5B9E;&#x53C2;"><a href="#1-&#x7ED3;&#x5408;&#x4F7F;&#x7528;&#x4F4D;&#x7F6E;&#x5B9E;&#x53C2;&#x548C;&#x4EFB;&#x610F;&#x6570;&#x91CF;&#x5B9E;&#x53C2;" class="headerlink" title="1.&#x7ED3;&#x5408;&#x4F7F;&#x7528;&#x4F4D;&#x7F6E;&#x5B9E;&#x53C2;&#x548C;&#x4EFB;&#x610F;&#x6570;&#x91CF;&#x5B9E;&#x53C2;"></a>1.&#x7ED3;&#x5408;&#x4F7F;&#x7528;&#x4F4D;&#x7F6E;&#x5B9E;&#x53C2;&#x548C;&#x4EFB;&#x610F;&#x6570;&#x91CF;&#x5B9E;&#x53C2;</h3><p>&#x5982;&#x679C;&#x8981;&#x8BA9;&#x51FD;&#x6570;&#x63A5;&#x53D7;&#x4E0D;&#x540C;&#x7C7B;&#x578B;&#x7684;&#x5B9E;&#x53C2;&#xFF0C;&#x5FC5;&#x987B;&#x5728;&#x51FD;&#x6570;&#x5B9A;&#x4E49;&#x4E2D;&#x5C06;&#x63A5;&#x7EB3;&#x4EFB;&#x610F;&#x6570;&#x91CF;&#x5B9E;&#x53C2;&#x7684;&#x5F62;&#x53C2;&#x653E;&#x5728;&#x6700;&#x540E;&#x3002;Python&#x5148;&#x5339;&#x914D;&#x4F4D;&#x7F6E;&#x5B9E;&#x53C2;&#x548C;&#x5173;&#x952E;&#x5B57;&#x5B9E;&#x53C2;&#xFF0C;&#x518D;&#x5C06;&#x4F59;&#x4E0B;&#x7684;&#x5B9E;&#x53C2;&#x90FD;&#x6536;&#x96C6;&#x5230;&#x6700;&#x540E;&#x4E00;&#x4E2A;&#x5F62;&#x53C2;&#x4E2D;&#x3002;<br>&#x4F8B;&#x5982;&#xFF0C;&#x5982;&#x679C;&#x524D;&#x9762;&#x7684;&#x51FD;&#x6570;&#x8FD8;&#x9700;&#x8981;&#x4E00;&#x4E2A;&#x8868;&#x793A;&#x6BD4;&#x8428;&#x5C3A;&#x5BF8;&#x7684;&#x5B9E;&#x53C2;&#xFF0C;&#x5FC5;&#x987B;&#x5C06;&#x8BE5;&#x5F62;&#x53C2;&#x653E;&#x5728;&#x5F62;&#x53C2;*toppings&#x7684;&#x524D;&#x9762;&#xFF1A;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">handlebars&#x590D;&#x5236;&#x4EE3;&#x7801;def make_pizza(size, *toppings):</span><br><span class="line">    &quot;&quot;&quot;&#x6982;&#x8FF0;&#x8981;&#x5236;&#x4F5C;&#x7684;&#x6BD4;&#x8428;&quot;&quot;&quot;</span><br><span class="line">    print(&quot;\nMaking a &quot;+str(size)+</span><br><span class="line">          &quot;-inch pizza with the following toppings:&quot;)</span><br><span class="line">    for topping in toppings:</span><br><span class="line">        print(&quot;- &quot;+topping)</span><br><span class="line">make_pizza(16, &apos;pepperoni&apos;)</span><br><span class="line">make_pizza(12, &apos;mushrooms&apos;, &apos;green peppers&apos;, &apos;extra cheese&apos;)</span><br></pre></td></tr></table></figure>

<p>&#x57FA;&#x4E8E;&#x4E0A;&#x8FF0;&#x51FD;&#x6570;&#x5B9A;&#x4E49;&#xFF0C;Python&#x5C06;&#x6536;&#x5230;&#x7684;&#x7B2C;&#x4E00;&#x4E2A;&#x503C;&#x5B58;&#x50A8;&#x5728;&#x5F62;&#x53C2;size&#x4E2D;&#xFF0C;&#x5E76;&#x5C06;&#x5176;&#x4ED6;&#x7684;&#x6240;&#x6709;&#x503C;&#x90FD;&#x5B58;&#x50A8;&#x5728;&#x5143;&#x7EC4;toppings&#x4E2D;&#x3002;&#x5728;&#x51FD;&#x6570;&#x8C03;&#x7528;&#x4E2D;&#xFF0C;&#x9996;&#x5148;&#x6307;&#x5B9A;&#x8868;&#x793A;&#x6BD4;&#x8428;&#x5C3A;&#x5BF8;&#x7684;&#x5B9E;&#x53C2;&#xFF0C;&#x7136;&#x540E;&#x6839;&#x636E;&#x9700;&#x8981;&#x6307;&#x5B9A;&#x4EFB;&#x610F;&#x6570;&#x91CF;&#x7684;&#x914D;&#x6599;&#x3002;<br>&#x73B0;&#x5728;&#xFF0C;&#x6BCF;&#x4E2A;&#x6BD4;&#x8428;&#x90FD;&#x6709;&#x4E86;&#x5C3A;&#x5BF8;&#x548C;&#x4E00;&#x7CFB;&#x5217;&#x914D;&#x6599;&#xFF0C;&#x8FD9;&#x4E9B;&#x4FE1;&#x606F;&#x6309;&#x6B63;&#x786E;&#x7684;&#x987A;&#x5E8F;&#x6253;&#x5370;&#x51FA;&#x6765;&#x4E86;&#x2014;&#x2014;&#x9996;&#x5148;&#x662F;&#x5C3A;&#x5BF8;&#xFF0C;&#x7136;&#x540E;&#x662F;&#x914D;&#x6599;&#xFF1A;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">handlebars&#x590D;&#x5236;&#x4EE3;&#x7801;Making a 16-inch pizza with the following toppings:</span><br><span class="line">- pepperoni</span><br><span class="line">Making a 12-inch pizza with the following toppings:</span><br><span class="line">- mushrooms</span><br><span class="line">- green peppers</span><br><span class="line">- extra cheese</span><br></pre></td></tr></table></figure>

<h3 id="2-&#x4F7F;&#x7528;&#x4EFB;&#x610F;&#x6570;&#x91CF;&#x7684;&#x5173;&#x952E;&#x5B57;&#x5B9E;&#x53C2;"><a href="#2-&#x4F7F;&#x7528;&#x4EFB;&#x610F;&#x6570;&#x91CF;&#x7684;&#x5173;&#x952E;&#x5B57;&#x5B9E;&#x53C2;" class="headerlink" title="2.*&#x4F7F;&#x7528;&#x4EFB;&#x610F;&#x6570;&#x91CF;&#x7684;&#x5173;&#x952E;&#x5B57;&#x5B9E;&#x53C2;"></a>2.*&#x4F7F;&#x7528;&#x4EFB;&#x610F;&#x6570;&#x91CF;&#x7684;&#x5173;&#x952E;&#x5B57;&#x5B9E;&#x53C2;</h3><p>&#x6709;&#x65F6;&#x5019;&#xFF0C;&#x9700;&#x8981;&#x63A5;&#x53D7;&#x4EFB;&#x610F;&#x6570;&#x91CF;&#x7684;&#x5B9E;&#x53C2;&#xFF0C;&#x4F46;&#x9884;&#x5148;&#x4E0D;&#x77E5;&#x9053;&#x4F20;&#x9012;&#x7ED9;&#x51FD;&#x6570;&#x7684;&#x4F1A;&#x662F;&#x4EC0;&#x4E48;&#x6837;&#x7684;&#x4FE1;&#x606F;&#x3002;&#x5728;&#x8FD9;&#x79CD;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;&#x53EF;&#x5C06;&#x51FD;&#x6570;&#x7F16;&#x5199;&#x6210;&#x80FD;&#x591F;&#x63A5;&#x53D7;&#x4EFB;&#x610F;&#x6570;&#x91CF;&#x7684;&#x952E;*&#x2014;&#x503C;&#x5BF9;&#x2014;&#x2014;&#x8C03;&#x7528;&#x8BED;&#x53E5;&#x63D0;&#x4F9B;&#x4E86;&#x591A;&#x5C11;&#x5C31;&#x63A5;&#x53D7;&#x591A;&#x5C11;&#x3002;&#x4E00;&#x4E2A;&#x8FD9;&#x6837;&#x7684;&#x793A;&#x4F8B;&#x662F;&#x521B;&#x5EFA;&#x7528;&#x6237;&#x7B80;&#x4ECB;&#xFF1A;&#x4F60;&#x77E5;&#x9053;&#x4F60;&#x5C06;&#x6536;&#x5230;&#x6709;&#x5173;&#x7528;&#x6237;&#x7684;&#x4FE1;&#x606F;&#xFF0C;&#x4F46;&#x4E0D;&#x786E;&#x5B9A;&#x4F1A;&#x662F;&#x4EC0;&#x4E48;&#x6837;&#x7684;&#x4FE1;&#x606F;&#x3002;&#x5728;&#x4E0B;&#x9762;&#x7684;&#x793A;&#x4F8B;&#x4E2D;&#xFF0C;&#x51FD;&#x6570;build_profile()&#x63A5;&#x53D7;&#x540D;&#x548C;&#x59D3;&#xFF0C;&#x540C;&#x65F6;&#x8FD8;&#x63A5;&#x53D7;&#x4EFB;&#x610F;&#x6570;&#x91CF;&#x7684;&#x5173;&#x952E;&#x5B57;&#x5B9E;&#x53C2;&#xFF1A;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">handlebars&#x590D;&#x5236;&#x4EE3;&#x7801;def build_profile(first, last, **user_info):</span><br><span class="line">    &quot;&quot;&quot;&#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x5B57;&#x5178;&#xFF0C;&#x5176;&#x4E2D;&#x5305;&#x542B;&#x6211;&#x4EEC;&#x77E5;&#x9053;&#x7684;&#x6709;&#x5173;&#x7528;&#x6237;&#x7684;&#x4E00;&#x5207;&quot;&quot;&quot;</span><br><span class="line">    profile = {}</span><br><span class="line">    profile[&apos;first_name&apos;] = first</span><br><span class="line">    profile[&apos;last_name&apos;] = last</span><br><span class="line">    for key, value in user_info.items():</span><br><span class="line">        profile[key] = value</span><br><span class="line">    return profile</span><br><span class="line">user_profile = build_profile(&apos;albert&apos;, &apos;einstein&apos;,</span><br><span class="line">                             location=&apos;princeton&apos;,</span><br><span class="line">                             field=&apos;physics&apos;)</span><br><span class="line">print(user_profile)</span><br></pre></td></tr></table></figure>

<p>&#x51FD;&#x6570;build_profile()&#x7684;&#x5B9A;&#x4E49;&#x8981;&#x6C42;&#x63D0;&#x4F9B;&#x540D;&#x548C;&#x59D3;&#xFF0C;&#x540C;&#x65F6;&#x5141;&#x8BB8;&#x7528;&#x6237;&#x6839;&#x636E;&#x9700;&#x8981;&#x63D0;&#x4F9B;&#x4EFB;&#x610F;&#x6570;&#x91CF;&#x7684;&#x540D;&#x79F0;&#x2014;&#x503C;&#x5BF9;&#x3002;&#x5F62;&#x53C2;user_info&#x4E2D;&#x7684;&#x4E24;&#x4E2A;&#x661F;&#x53F7;&#x8BA9;Python&#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x540D;&#x4E3A;user_info&#x7684;&#x7A7A;&#x5B57;&#x5178;&#xFF0C;&#x5E76;&#x5C06;&#x6536;&#x5230;&#x7684;&#x6240;&#x6709;&#x540D;&#x79F0;&#x2014;&#x503C;&#x5BF9;&#x90FD;&#x5C01;&#x88C5;&#x5230;&#x8FD9;&#x4E2A;&#x5B57;&#x5178;&#x4E2D;&#x3002;&#x5728;&#x8FD9;&#x4E2A;&#x51FD;&#x6570;&#x4E2D;&#xFF0C;&#x53EF;&#x4EE5;&#x50CF;&#x8BBF;&#x95EE;&#x5176;&#x4ED6;&#x5B57;&#x5178;&#x90A3;&#x6837;&#x8BBF;&#x95EE;user_info&#x4E2D;&#x7684;&#x540D;&#x79F0;&#x2014;&#x503C;&#x5BF9;&#x3002;<br>&#x5728;build_profile()&#x7684;&#x51FD;&#x6570;&#x4F53;&#x5185;&#xFF0C;&#x6211;&#x4EEC;&#x521B;&#x5EFA;&#x4E86;&#x4E00;&#x4E2A;&#x540D;&#x4E3A;profile&#x7684;&#x7A7A;&#x5B57;&#x5178;&#xFF0C;&#x7528;&#x4E8E;&#x5B58;&#x50A8;&#x7528;&#x6237;&#x7B80;&#x4ECB;&#x3002;&#x6211;&#x4EEC;&#x5C06;&#x540D;&#x548C;&#x59D3;&#x52A0;&#x5165;&#x5230;&#x8FD9;&#x4E2A;&#x5B57;&#x5178;&#x4E2D;&#xFF0C;&#x56E0;&#x4E3A;&#x6211;&#x4EEC;&#x603B;&#x662F;&#x4F1A;&#x4ECE;&#x7528;&#x6237;&#x90A3;&#x91CC;&#x6536;&#x5230;&#x8FD9;&#x4E24;&#x9879;&#x4FE1;&#x606F;&#x3002;&#x6211;&#x4EEC;&#x904D;&#x5386;&#x5B57;&#x5178;user_info&#x4E2D;&#x7684;&#x952E;&#x2014;&#x503C;&#x5BF9;&#xFF0C;&#x5E76;&#x5C06;&#x6BCF;&#x4E2A;&#x952E;&#x2014;&#x503C;&#x5BF9;&#x90FD;&#x52A0;&#x5165;&#x5230;&#x5B57;&#x5178;profile&#x4E2D;&#x3002;&#x6700;&#x540E;&#xFF0C;&#x6211;&#x4EEC;&#x5C06;&#x5B57;&#x5178;profile&#x8FD4;&#x56DE;&#x7ED9;&#x51FD;&#x6570;&#x8C03;&#x7528;&#x884C;&#x3002;<br>&#x6211;&#x4EEC;&#x8C03;&#x7528;build_profile()&#xFF0C;&#x5411;&#x5B83;&#x4F20;&#x9012;&#x540D;&#xFF08;&#x2019;albert&#x2019;&#xFF09;&#x3001;&#x59D3;&#xFF08;&#x2019;einstein&#x2019;&#xFF09;&#x548C;&#x4E24;&#x4E2A;&#x952E;&#x2014;&#x503C;&#x5BF9;&#xFF08;location=&#x2019;princeton&#x2019;&#x548C;field=&#x2019;physics&#x2019;&#xFF09;&#xFF0C;&#x5E76;&#x5C06;&#x8FD4;&#x56DE;&#x7684;profile&#x5B58;&#x50A8;&#x5728;&#x53D8;&#x91CF;user_profile&#x4E2D;&#xFF0C;&#x518D;&#x6253;&#x5370;&#x8FD9;&#x4E2A;&#x53D8;&#x91CF;&#xFF1A;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">handlebars&#x590D;&#x5236;&#x4EE3;&#x7801;{&apos;first_name&apos;: &apos;albert&apos;, &apos;last_name&apos;: &apos;einstein&apos;,</span><br><span class="line">&apos;location&apos;: &apos;princeton&apos;, &apos;field&apos;: &apos;physics&apos;}</span><br></pre></td></tr></table></figure>

<p>&#x5728;&#x8FD9;&#x91CC;&#xFF0C;&#x8FD4;&#x56DE;&#x7684;&#x5B57;&#x5178;&#x5305;&#x542B;&#x7528;&#x6237;&#x7684;&#x540D;&#x548C;&#x59D3;&#xFF0C;&#x8FD8;&#x6709;&#x6C42;&#x5B66;&#x7684;&#x5730;&#x65B9;&#x548C;&#x6240;&#x5B66;&#x4E13;&#x4E1A;&#x3002;&#x8C03;&#x7528;&#x8FD9;&#x4E2A;&#x51FD;&#x6570;&#x65F6;&#xFF0C;&#x4E0D;&#x7BA1;&#x989D;&#x5916;&#x63D0;&#x4F9B;&#x4E86;&#x591A;&#x5C11;&#x4E2A;&#x952E;&#x2014;&#x503C;&#x5BF9;&#xFF0C;&#x5B83;&#x90FD;&#x80FD;&#x6B63;&#x786E;&#x5730;&#x5904;&#x7406;&#x3002;<br>&#x7F16;&#x5199;&#x51FD;&#x6570;&#x65F6;&#xFF0C;&#x4F60;&#x53EF;&#x4EE5;&#x4EE5;&#x5404;&#x79CD;&#x65B9;&#x5F0F;&#x6DF7;&#x5408;&#x4F7F;&#x7528;&#x4F4D;&#x7F6E;&#x5B9E;&#x53C2;&#x3001;&#x5173;&#x952E;&#x5B57;&#x5B9E;&#x53C2;&#x548C;&#x4EFB;&#x610F;&#x6570;&#x91CF;&#x7684;&#x5B9E;&#x53C2;&#x3002;</p>
<p><strong>&#x672C;&#x6587;&#x8F6C;&#x8F7D;&#x81EA;:</strong> <a href="/external_links/1e6b99e93ec85cd58060635d258e4b46.html" target="blank" rel="noopener">&#x6398;&#x91D1;</a></p>
<p><em><a href="https://dev.newban.cn/">&#x5F00;&#x53D1;&#x8005;&#x535A;&#x5BA2; &#x2013; &#x548C;&#x5F00;&#x53D1;&#x76F8;&#x5173;&#x7684; &#x8FD9;&#x91CC;&#x5168;&#x90FD;&#x6709;</a></em></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://dev.newban.cn../../7036184691245842446.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="开发者博客">
      <meta itemprop="description" content>
      <meta itemprop="image" content="../../images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="开发者博客 – IT技术 尽在开发者博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="../../7036184691245842446.html" itemprop="url">Java 中的抽象简介</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2021-11-30T10:32:09+08:00">
                2021-11-30
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>&#x300C;&#x8FD9;&#x662F;&#x6211;&#x53C2;&#x4E0E;11&#x6708;&#x66F4;&#x6587;&#x6311;&#x6218;&#x7684;&#x7B2C;30&#x5929;&#xFF0C;&#x6D3B;&#x52A8;&#x8BE6;&#x60C5;&#x67E5;&#x770B;&#xFF1A;<a href="https://dev.newban.cn/7023643374569816095/">2021&#x6700;&#x540E;&#x4E00;&#x6B21;&#x66F4;&#x6587;&#x6311;&#x6218;</a>&#x300D;</p>
<p>&#x1F30A; &#x4F5C;&#x8005;&#x4E3B;&#x9875;&#xFF1A;<a href="/external_links/12f54153229a9c6db9f1273b4e773723.html" target="blank" rel="noopener">&#x6D77;&#x62E5;</a>  </p>
<p>&#x1F30A; &#x4F5C;&#x8005;&#x7B80;&#x4ECB;&#xFF1A;&#x1F3C6;CSDN&#x5168;&#x6808;&#x9886;&#x57DF;&#x4F18;&#x8D28;&#x521B;&#x4F5C;&#x8005;&#x3001;&#x1F947;HDZ&#x6838;&#x5FC3;&#x7EC4;&#x6210;&#x5458;  </p>
<p>&#x1F30A; &#x7C89;&#x4E1D;&#x798F;&#x5229;&#xFF1A;<a href="/external_links/d7f0fbcb1bb90997537df5a9a69b0e65.html" target="blank" rel="noopener">&#x5F80;&#x671F;&#x83B7;&#x5956;&#x8BB0;&#x5F55;</a> &#x6BCF;&#x5468;&#x9001;&#x516D;&#x672C;&#x4E66;&#xFF0C;&#x4E0D;&#x5B9A;&#x671F;&#x9001;&#x5404;&#x79CD;&#x5C0F;&#x793C;&#x54C1;</p>
<p>&#x6570;&#x636E;&#x62BD;&#x8C61;&#x662F;&#x4E00;&#x79CD;&#x4EC5;&#x5411;&#x7528;&#x6237;&#x663E;&#x793A;&#x57FA;&#x672C;&#x7EC6;&#x8282;&#x7684;&#x5C5E;&#x6027;&#x3002;&#x4E0D;&#x5411;&#x7528;&#x6237;&#x663E;&#x793A;&#x7410;&#x788E;&#x6216;&#x975E;&#x5FC5;&#x9700;&#x7684;&#x5355;&#x5143;&#x3002;&#x4F8B;&#x5982;&#xFF1A;&#x6C7D;&#x8F66;&#x88AB;&#x89C6;&#x4E3A;&#x6C7D;&#x8F66;&#x800C;&#x4E0D;&#x662F;&#x5176;&#x5355;&#x4E2A;&#x7EC4;&#x4EF6;&#x3002;</p>
<p>&#x6570;&#x636E;&#x62BD;&#x8C61;&#x4E5F;&#x53EF;&#x4EE5;&#x5B9A;&#x4E49;&#x4E3A;&#x4EC5;&#x8BC6;&#x522B;&#x5BF9;&#x8C61;&#x6240;&#x9700;&#x7279;&#x5F81;&#x800C;&#x5FFD;&#x7565;&#x4E0D;&#x76F8;&#x5173;&#x7EC6;&#x8282;&#x7684;&#x8FC7;&#x7A0B;&#x3002;&#x5BF9;&#x8C61;&#x7684;&#x5C5E;&#x6027;&#x548C;&#x884C;&#x4E3A;&#x5C06;&#x5176;&#x4E0E;&#x5176;&#x4ED6;&#x7C7B;&#x4F3C;&#x7C7B;&#x578B;&#x7684;&#x5BF9;&#x8C61;&#x533A;&#x5206;&#x5F00;&#x6765;&#xFF0C;&#x4E5F;&#x6709;&#x52A9;&#x4E8E;&#x5BF9;&#x5BF9;&#x8C61;&#x8FDB;&#x884C;&#x5206;&#x7C7B;/&#x5206;&#x7EC4;&#x3002;</p>
<p>&#x8003;&#x8651;&#x4E00;&#x4E2A;&#x7537;&#x4EBA;&#x5F00;&#x8F66;&#x7684;&#x771F;&#x5B9E;&#x4F8B;&#x5B50;&#x3002;&#x7537;&#x4EBA;&#x53EA;&#x77E5;&#x9053;&#x8E29;&#x6CB9;&#x95E8;&#x4F1A;&#x63D0;&#x9AD8;&#x8F66;&#x901F;&#x6216;&#x8E29;&#x5239;&#x8F66;&#x4F1A;&#x505C;&#x8F66;&#xFF0C;&#x4F46;&#x4ED6;&#x4E0D;&#x77E5;&#x9053;&#x8E29;&#x6CB9;&#x95E8;&#x8F66;&#x901F;&#x5B9E;&#x9645;&#x4E0A;&#x662F;&#x5982;&#x4F55;&#x589E;&#x52A0;&#x7684;&#xFF0C;&#x4ED6;&#x4E0D;&#x77E5;&#x9053;&#x6C7D;&#x8F66;&#x7684;&#x5185;&#x90E8;&#x673A;&#x5236;&#x6C7D;&#x8F66;&#x6216;&#x5728;&#x6C7D;&#x8F66;&#x4E2D;&#x6267;&#x884C;&#x6CB9;&#x95E8;&#x3001;&#x5239;&#x8F66;&#x7B49;&#x3002;&#x8FD9;&#x5C31;&#x662F;&#x62BD;&#x8C61;&#x3002; </p>
<p>&#x5728;java&#x4E2D;&#xFF0C;&#x62BD;&#x8C61;&#x662F;&#x901A;&#x8FC7;&#x63A5;&#x53E3;&#x548C;&#x62BD;&#x8C61;&#x7C7B;&#x6765;&#x5B9E;&#x73B0;&#x7684;&#x3002;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#x63A5;&#x53E3;&#x5B9E;&#x73B0; 100% &#x7684;&#x62BD;&#x8C61;&#x3002;</p>
<p><strong>&#x62BD;&#x8C61;&#x7C7B;&#x548C;&#x62BD;&#x8C61;&#x65B9;&#x6CD5;&#xFF1A;</strong> </p>
<ol>
<li>&#x62BD;&#x8C61;&#x7C7B;&#x662F;&#x7528;&#x62BD;&#x8C61;&#x5173;&#x952E;&#x5B57;&#x58F0;&#x660E;&#x7684;&#x7C7B;&#x3002;</li>
<li>&#x62BD;&#x8C61;&#x65B9;&#x6CD5;&#x662F;&#x58F0;&#x660E;&#x800C;&#x6CA1;&#x6709;&#x5B9E;&#x73B0;&#x7684;&#x65B9;&#x6CD5;&#x3002;</li>
<li>&#x4E00;&#x4E2A;&#x62BD;&#x8C61;&#x7C7B;&#x53EF;&#x80FD;&#x6709;&#x4E5F;&#x53EF;&#x80FD;&#x6CA1;&#x6709;&#x6240;&#x6709;&#x7684;&#x62BD;&#x8C61;&#x65B9;&#x6CD5;&#x3002;&#x5176;&#x4E2D;&#x4E00;&#x4E9B;&#x53EF;&#x4EE5;&#x662F;&#x5177;&#x4F53;&#x7684;&#x65B9;&#x6CD5;</li>
<li>&#x5B9A;&#x4E49;&#x4E3A;&#x62BD;&#x8C61;&#x7684;&#x65B9;&#x6CD5;&#x5FC5;&#x987B;&#x59CB;&#x7EC8;&#x5728;&#x5B50;&#x7C7B;&#x4E2D;&#x91CD;&#x65B0;&#x5B9A;&#x4E49;&#xFF0C;&#x4ECE;&#x800C;&#x5F3A;&#x5236;&#x8986;&#x76D6;&#x6216;&#x4F7F;&#x5B50;&#x7C7B;&#x672C;&#x8EAB;&#x6210;&#x4E3A;&#x62BD;&#x8C61;&#x7684;&#x3002;</li>
<li>&#x4EFB;&#x4F55;&#x5305;&#x542B;&#x4E00;&#x4E2A;&#x6216;&#x591A;&#x4E2A;&#x62BD;&#x8C61;&#x65B9;&#x6CD5;&#x7684;&#x7C7B;&#x4E5F;&#x5FC5;&#x987B;&#x7528;&#x62BD;&#x8C61;&#x5173;&#x952E;&#x5B57;&#x58F0;&#x660E;&#x3002;</li>
<li>&#x62BD;&#x8C61;&#x7C7B;&#x4E0D;&#x80FD;&#x6709;&#x5BF9;&#x8C61;&#x3002;&#x4E5F;&#x5C31;&#x662F;&#x8BF4;&#xFF0C;&#x62BD;&#x8C61;&#x7C7B;&#x4E0D;&#x80FD;&#x76F4;&#x63A5;&#x7528;<em>new operator</em>&#x5B9E;&#x4F8B;&#x5316;&#x3002;</li>
<li>&#x62BD;&#x8C61;&#x7C7B;&#x53EF;&#x4EE5;&#x5177;&#x6709;&#x53C2;&#x6570;&#x5316;&#x6784;&#x9020;&#x51FD;&#x6570;&#xFF0C;&#x5E76;&#x4E14;&#x9ED8;&#x8BA4;&#x6784;&#x9020;&#x51FD;&#x6570;&#x59CB;&#x7EC8;&#x5B58;&#x5728;&#x4E8E;&#x62BD;&#x8C61;&#x7C7B;&#x4E2D;&#x3002;</li>
</ol>
<p><strong>&#x4F55;&#x65F6;&#x5728;&#x793A;&#x4F8B;&#x4E2D;&#x4F7F;&#x7528;&#x62BD;&#x8C61;&#x7C7B;&#x548C;&#x62BD;&#x8C61;&#x65B9;&#x6CD5;</strong></p>
<p>&#x5728;&#x67D0;&#x4E9B;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;&#x6211;&#x4EEC;&#x5E0C;&#x671B;&#x5B9A;&#x4E49;&#x4E00;&#x4E2A;&#x8D85;&#x7C7B;&#x6765;&#x58F0;&#x660E;&#x7ED9;&#x5B9A;&#x62BD;&#x8C61;&#x7684;&#x7ED3;&#x6784;&#xFF0C;&#x800C;&#x65E0;&#x9700;&#x63D0;&#x4F9B;&#x6BCF;&#x4E2A;&#x65B9;&#x6CD5;&#x7684;&#x5B8C;&#x6574;&#x5B9E;&#x73B0;&#x3002;&#x4E5F;&#x5C31;&#x662F;&#x8BF4;&#xFF0C;&#x6709;&#x65F6;&#x6211;&#x4EEC;&#x4F1A;&#x60F3;&#x8981;&#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x53EA;&#x5B9A;&#x4E49;&#x4E00;&#x4E2A;&#x6CDB;&#x5316;&#x5F62;&#x5F0F;&#x7684;&#x8D85;&#x7C7B;&#xFF0C;&#x8BE5;&#x6CDB;&#x5316;&#x5F62;&#x5F0F;&#x5C06;&#x88AB;&#x5176;&#x6240;&#x6709;&#x5B50;&#x7C7B;&#x5171;&#x4EAB;&#xFF0C;&#x800C;&#x5C06;&#x5176;&#x7559;&#x7ED9;&#x6BCF;&#x4E2A;&#x5B50;&#x7C7B;&#x6765;&#x586B;&#x5145;&#x7EC6;&#x8282;&#x3002;</p>
<p>&#x8003;&#x8651;&#x4E00;&#x4E2A;&#x7ECF;&#x5178;&#x7684;&#x201C;&#x5F62;&#x72B6;&#x201D;&#x793A;&#x4F8B;&#xFF0C;&#x53EF;&#x80FD;&#x7528;&#x4E8E;&#x8BA1;&#x7B97;&#x673A;&#x8F85;&#x52A9;&#x8BBE;&#x8BA1;&#x7CFB;&#x7EDF;&#x6216;&#x6E38;&#x620F;&#x6A21;&#x62DF;&#x3002;&#x57FA;&#x672C;&#x7C7B;&#x578B;&#x662F;&#x201C;&#x5F62;&#x72B6;&#x201D;&#xFF0C;&#x6BCF;&#x4E2A;&#x5F62;&#x72B6;&#x90FD;&#x6709;&#x989C;&#x8272;&#x3001;&#x5927;&#x5C0F;&#x7B49;&#x3002;&#x7531;&#x6B64;&#xFF0C;&#x884D;&#x751F;&#x51FA;&#xFF08;&#x7EE7;&#x627F;&#xFF09;&#x7279;&#x5B9A;&#x7C7B;&#x578B;&#x7684;&#x5F62;&#x72B6;&#x2014;&#x2014;&#x5706;&#x5F62;&#x3001;&#x65B9;&#x5F62;&#x3001;&#x4E09;&#x89D2;&#x5F62;&#x7B49;&#x2014;&#x2014;&#x6BCF;&#x4E00;&#x79CD;&#x90FD;&#x53EF;&#x80FD;&#x6709;&#x989D;&#x5916;&#x7684;&#x7279;&#x5F81;&#x548C;&#x884C;&#x4E3A;&#x3002;&#x4F8B;&#x5982;&#xFF0C;&#x67D0;&#x4E9B;&#x5F62;&#x72B6;&#x53EF;&#x4EE5;&#x7FFB;&#x8F6C;&#x3002;&#x67D0;&#x4E9B;&#x884C;&#x4E3A;&#x53EF;&#x80FD;&#x4F1A;&#x6709;&#x6240;&#x4E0D;&#x540C;&#xFF0C;&#x4F8B;&#x5982;&#x5F53;&#x60A8;&#x8981;&#x8BA1;&#x7B97;&#x5F62;&#x72B6;&#x7684;&#x9762;&#x79EF;&#x65F6;&#x3002;&#x7C7B;&#x578B;&#x5C42;&#x6B21;&#x4F53;&#x73B0;&#x4E86;&#x5F62;&#x72B6;&#x4E4B;&#x95F4;&#x7684;&#x76F8;&#x4F3C;&#x6027;&#x548C;&#x5DEE;&#x5F02;&#x6027;&#x3002;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><span class="line">java&#x590D;&#x5236;&#x4EE3;&#x7801;abstract class Shape {</span><br><span class="line">	String color;</span><br><span class="line"></span><br><span class="line">	abstract double area();</span><br><span class="line">	public abstract String toString();</span><br><span class="line"></span><br><span class="line">	public Shape(String color){</span><br><span class="line">		System.out.println(&quot;Shape constructor called&quot;);</span><br><span class="line">		this.color = color;</span><br><span class="line">	}</span><br><span class="line">	public String getColor() { return color; }</span><br><span class="line">}</span><br><span class="line">class Circle extends Shape {</span><br><span class="line">	double radius;</span><br><span class="line"></span><br><span class="line">	public Circle(String color, double radius){</span><br><span class="line">		super(color);</span><br><span class="line">		System.out.println(&quot;Circle constructor called&quot;);</span><br><span class="line">		this.radius = radius;</span><br><span class="line">	}</span><br><span class="line"></span><br><span class="line">	@Override double area(){</span><br><span class="line">		return Math.PI * Math.pow(radius, 2);</span><br><span class="line">	}</span><br><span class="line"></span><br><span class="line">	@Override public String toString(){</span><br><span class="line">		return &quot;Circle color is &quot; + super.getColor()</span><br><span class="line">			+ &quot;and area is : &quot; + area();</span><br><span class="line">	}</span><br><span class="line">}</span><br><span class="line">class Rectangle extends Shape {</span><br><span class="line"></span><br><span class="line">	double length;</span><br><span class="line">	double width;</span><br><span class="line"></span><br><span class="line">	public Rectangle(String color, double length,double width){</span><br><span class="line">		super(color);</span><br><span class="line">		System.out.println(&quot;Rectangle constructor called&quot;);</span><br><span class="line">		this.length = length;</span><br><span class="line">		this.width = width;</span><br><span class="line">	}</span><br><span class="line"></span><br><span class="line">	@Override double area() { return length * width; }</span><br><span class="line"></span><br><span class="line">	@Override public String toString(){</span><br><span class="line">		return &quot;Rectangle color is &quot; + super.getColor()</span><br><span class="line">			+ &quot;and area is : &quot; + area();</span><br><span class="line">	}</span><br><span class="line">}</span><br><span class="line">public class Test {</span><br><span class="line">	public static void main(String[] args){</span><br><span class="line">		Shape s1 = new Circle(&quot;Red&quot;, 2.2);</span><br><span class="line">		Shape s2 = new Rectangle(&quot;Yellow&quot;, 2, 4);</span><br><span class="line">		System.out.println(s1.toString());</span><br><span class="line">		System.out.println(s2.toString());</span><br><span class="line">	}</span><br><span class="line">}</span><br></pre></td></tr></table></figure>

<p><strong>&#x8F93;&#x51FA;</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">java&#x590D;&#x5236;&#x4EE3;&#x7801;Shape constructor called</span><br><span class="line">Circle constructor called</span><br><span class="line">Shape constructor called</span><br><span class="line">Rectangle constructor called</span><br><span class="line">Circle color is Redand area is : 15.205308443374602</span><br><span class="line">Rectangle color is Yellowand area is : 8.0</span><br></pre></td></tr></table></figure>

<p><strong>&#x5C01;&#x88C5;&#x4E0E;&#x6570;&#x636E;&#x62BD;&#x8C61;</strong></p>
<ol>
<li>&#x5C01;&#x88C5;&#x662F;&#x6570;&#x636E;&#x9690;&#x85CF;&#xFF08;&#x4FE1;&#x606F;&#x9690;&#x85CF;&#xFF09;&#xFF0C;&#x62BD;&#x8C61;&#x662F;&#x7EC6;&#x8282;&#x9690;&#x85CF;&#xFF08;&#x5B9E;&#x73B0;&#x9690;&#x85CF;&#xFF09;&#x3002;</li>
<li>&#x5C01;&#x88C5;&#x5C06;&#x6570;&#x636E;&#x548C;&#x4F5C;&#x7528;&#x4E8E;&#x6570;&#x636E;&#x7684;&#x65B9;&#x6CD5;&#x7EC4;&#x5408;&#x5728;&#x4E00;&#x8D77;&#xFF0C;&#x800C;&#x6570;&#x636E;&#x62BD;&#x8C61;&#x5219;&#x5904;&#x7406;&#x5C06;&#x63A5;&#x53E3;&#x66B4;&#x9732;&#x7ED9;&#x7528;&#x6237;&#x5E76;&#x9690;&#x85CF;&#x5B9E;&#x73B0;&#x7EC6;&#x8282;&#x3002;</li>
</ol>
<p><strong>&#x62BD;&#x8C61;&#x7684;&#x4F18;&#x70B9;</strong></p>
<ol>
<li>&#x5B83;&#x964D;&#x4F4E;&#x4E86;&#x67E5;&#x770B;&#x4E8B;&#x7269;&#x7684;&#x590D;&#x6742;&#x6027;&#x3002;</li>
<li>&#x907F;&#x514D;&#x4EE3;&#x7801;&#x91CD;&#x590D;&#x5E76;&#x63D0;&#x9AD8;&#x53EF;&#x91CD;&#x7528;&#x6027;&#x3002;</li>
<li>&#x6709;&#x52A9;&#x4E8E;&#x63D0;&#x9AD8;&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x6216;&#x7A0B;&#x5E8F;&#x7684;&#x5B89;&#x5168;&#x6027;&#xFF0C;&#x56E0;&#x4E3A;&#x53EA;&#x5411;&#x7528;&#x6237;&#x63D0;&#x4F9B;&#x91CD;&#x8981;&#x7684;&#x7EC6;&#x8282;&#x3002;</li>
</ol>
<p><strong>&#x672C;&#x6587;&#x8F6C;&#x8F7D;&#x81EA;:</strong> <a href="/external_links/7e41db84d7ede6b560deb8152d08f8d6.html" target="blank" rel="noopener">&#x6398;&#x91D1;</a></p>
<p><em><a href="https://dev.newban.cn/">&#x5F00;&#x53D1;&#x8005;&#x535A;&#x5BA2; &#x2013; &#x548C;&#x5F00;&#x53D1;&#x76F8;&#x5173;&#x7684; &#x8FD9;&#x91CC;&#x5168;&#x90FD;&#x6709;</a></em></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://dev.newban.cn../../7036183744855670798.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="开发者博客">
      <meta itemprop="description" content>
      <meta itemprop="image" content="../../images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="开发者博客 – IT技术 尽在开发者博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="../../7036183744855670798.html" itemprop="url">快速理解Mybatis——仿框架实现数据库查询操作 1 前言</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2021-11-30T10:26:55+08:00">
                2021-11-30
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>&#x200B;</p>
<h1 id="1-&#x524D;&#x8A00;"><a href="#1-&#x524D;&#x8A00;" class="headerlink" title="1 &#x524D;&#x8A00;"></a>1 &#x524D;&#x8A00;</h1><p>mybatis&#x662F;&#x4E00;&#x4E2A;&#x4F18;&#x79C0;&#x7684;&#x57FA;&#x4E8E;java&#x7684;&#x6301;&#x4E45;&#x5C42;&#x6846;&#x67B6;&#xFF0C;&#x5B83;&#x5185;&#x90E8;&#x5C01;&#x88C5;&#x4E86;jdbc&#xFF0C;&#x4F7F;&#x5F00;&#x53D1;&#x8005;&#x53EA;&#x9700;&#x8981;&#x5173;&#x6CE8;sql&#x8BED;&#x53E5;&#x672C;&#x8EAB;&#xFF0C;&#x800C;&#x4E0D;&#x9700;&#x8981;&#x82B1;&#x8D39;&#x7CBE;&#x529B;&#x53BB;&#x5904;&#x7406;&#x52A0;&#x8F7D;&#x9A71;&#x52A8;&#x3001;&#x521B;&#x5EFA;&#x8FDE;&#x63A5;&#x3001;&#x521B;&#x5EFA;statement&#x7B49;&#x7E41;&#x6742;&#x7684;&#x8FC7;&#x7A0B;&#x3002;</p>
<p>&#x901A;&#x8FC7;xml&#x6216;&#x6CE8;&#x89E3;&#x7684;&#x65B9;&#x5F0F;&#x5C06;&#x8981;&#x6267;&#x884C;&#x7684;&#x5404;&#x79CD;statement&#x914D;&#x7F6E;&#x8D77;&#x6765;&#xFF0C;&#x5E76;&#x901A;&#x8FC7;java&#x5BF9;&#x8C61;&#x548C;statement&#x4E2D;sql&#x7684;&#x52A8;&#x6001;&#x53C2;&#x6570;&#x8FDB;&#x884C;&#x6620;&#x5C04;&#x751F;&#x6210;&#x6700;&#x7EC8;&#x6267;&#x884C;&#x7684;sql&#x8BED;&#x53E5;&#xFF0C;&#x6700;&#x540E;&#x7531;&#x6846;&#x67B6;&#x6267;&#x884C;sql&#x5E76;&#x5C06;&#x7ED3;&#x679C;&#x6620;&#x5C04;&#x4E3A;java&#x5BF9;&#x8C61;&#x5E76;&#x8FD4;&#x56DE;&#x3002;</p>
<p>&#x91C7;&#x7528;ORM&#xFF08;Object Relational Mapping&#xFF09;&#x601D;&#x60F3;&#x89E3;&#x51B3;&#x4E86;&#x5B9E;&#x4F53;&#x548C;&#x6570;&#x636E;&#x5E93;&#x6620;&#x5C04;&#x7684;&#x95EE;&#x9898;&#xFF0C;&#x5C4F;&#x853D;&#x4E86;jdbc api&#x5E95;&#x5C42;&#x8BBF;&#x95EE;&#x7EC6;&#x8282;&#xFF0C;&#x4F7F;&#x6211;&#x4EEC;&#x4E0D;&#x7528;&#x4E0E;jdbc api&#x6253;&#x4EA4;&#x9053;&#xFF0C;&#x5C31;&#x53EF;&#x4EE5;&#x5B8C;&#x6210;&#x5BF9;&#x6570;&#x636E;&#x5E93;&#x7684;&#x6301;&#x4E45;&#x5316;&#x64CD;&#x4F5C;&#x3002;</p>
<p>&#x8BC4;&#x8BBA;&#x9886;&#x53D6;&#x6E90;&#x7801;</p>
<h1 id="2-Mybatis&#x6846;&#x67B6;&#x5FEB;&#x901F;&#x5165;&#x95E8;"><a href="#2-Mybatis&#x6846;&#x67B6;&#x5FEB;&#x901F;&#x5165;&#x95E8;" class="headerlink" title="2 Mybatis&#x6846;&#x67B6;&#x5FEB;&#x901F;&#x5165;&#x95E8;"></a>2 Mybatis&#x6846;&#x67B6;&#x5FEB;&#x901F;&#x5165;&#x95E8;</h1><h2 id="2-1-&#x642D;&#x5EFA;Mybatis&#x5F00;&#x53D1;&#x73AF;&#x5883;&#xFF08;&#x4F7F;&#x7528;-xml&#x914D;&#x7F6E;&#xFF09;"><a href="#2-1-&#x642D;&#x5EFA;Mybatis&#x5F00;&#x53D1;&#x73AF;&#x5883;&#xFF08;&#x4F7F;&#x7528;-xml&#x914D;&#x7F6E;&#xFF09;" class="headerlink" title="2.1 &#x642D;&#x5EFA;Mybatis&#x5F00;&#x53D1;&#x73AF;&#x5883;&#xFF08;&#x4F7F;&#x7528;.xml&#x914D;&#x7F6E;&#xFF09;"></a>2.1 &#x642D;&#x5EFA;Mybatis&#x5F00;&#x53D1;&#x73AF;&#x5883;&#xFF08;&#x4F7F;&#x7528;.xml&#x914D;&#x7F6E;&#xFF09;</h2><p>&#x6570;&#x636E;&#x5E93;&#x51C6;&#x5907;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">mysql&#x590D;&#x5236;&#x4EE3;&#x7801;USE DATABASE eesy;</span><br><span class="line"></span><br><span class="line">CREATE TABLE `user` (</span><br><span class="line">  `id` INT(11) NOT NULL AUTO_INCREMENT,</span><br><span class="line">  `username` VARCHAR(32) NOT NULL COMMENT &apos;&#x7528;&#x6237;&#x540D;&#x79F0;&apos;,</span><br><span class="line">  `birthday` DATETIME DEFAULT NULL COMMENT &apos;&#x751F;&#x65E5;&apos;,</span><br><span class="line">  `sex` CHAR(1) DEFAULT NULL COMMENT &apos;&#x6027;&#x522B;&apos;,</span><br><span class="line">  `address` VARCHAR(256) DEFAULT NULL COMMENT &apos;&#x5730;&#x5740;&apos;,</span><br><span class="line">  PRIMARY KEY  (`id`)</span><br><span class="line">) ENGINE=INNODB DEFAULT CHARSET=utf8;</span><br><span class="line"></span><br><span class="line">INSERT  INTO `user`(`id`,`username`,`birthday`,`sex`,`address`) VALUES (41,&apos;&#x8001;&#x738B;&apos;,&apos;2018-02-27 17:47:08&apos;,&apos;&#x7537;&apos;,&apos;&#x5317;&#x4EAC;&apos;),(42,&apos;&#x5C0F;&#x4E8C;&#x738B;&apos;,&apos;2018-03-02 15:09:37&apos;,&apos;&#x5973;&apos;,&apos;&#x5317;&#x4EAC;&#x91D1;&#x71D5;&#x9F99;&apos;),(43,&apos;&#x5C0F;&#x4E8C;&#x738B;&apos;,&apos;2018-03-04 11:34:34&apos;,&apos;&#x5973;&apos;,&apos;&#x5317;&#x4EAC;&#x91D1;&#x71D5;&#x9F99;&apos;),(45,&apos;&#x4F20;&#x667A;&#x64AD;&#x5BA2;&apos;,&apos;2018-03-04 12:04:06&apos;,&apos;&#x7537;&apos;,&apos;&#x5317;&#x4EAC;&#x91D1;&#x71D5;&#x9F99;&apos;),(46,&apos;&#x8001;&#x738B;&apos;,&apos;2018-03-07 17:37:26&apos;,&apos;&#x7537;&apos;,&apos;&#x5317;&#x4EAC;&apos;),(48,&apos;&#x5C0F;&#x9A6C;&#x5B9D;&#x8389;&apos;,&apos;2018-03-08 11:44:00&apos;,&apos;&#x5973;&apos;,&apos;&#x5317;&#x4EAC;&#x4FEE;&#x6B63;&apos;);</span><br></pre></td></tr></table></figure>

<p><img src="%22%E7%82%B9%E5%87%BB%E5%B9%B6%E6%8B%96%E6%8B%BD%E4%BB%A5%E7%A7%BB%E5%8A%A8%22" alt></p>
<h3 id="2-1-1-&#x6DFB;&#x52A0;Mybatis3-4-5&#x7684;&#x5750;&#x6807;"><a href="#2-1-1-&#x6DFB;&#x52A0;Mybatis3-4-5&#x7684;&#x5750;&#x6807;" class="headerlink" title="2.1.1  &#x6DFB;&#x52A0;Mybatis3.4.5&#x7684;&#x5750;&#x6807;"></a>2.1.1  &#x6DFB;&#x52A0;Mybatis3.4.5&#x7684;&#x5750;&#x6807;</h3><p>&#x9996;&#x5148;&#x521B;&#x5EFA;maven&#x5DE5;&#x7A0B;&#xFF0C;&#x4E4B;&#x540E;&#x5728;pom.xml&#x4E2D;&#x6DFB;&#x52A0;&#x5750;&#x6807;&#xFF0C;&#x5982;&#x4E0B;&#xFF1A;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">xml&#x590D;&#x5236;&#x4EE3;&#x7801;&lt;dependencies&gt;</span><br><span class="line">    &lt;dependency&gt;</span><br><span class="line">        &lt;groupId&gt;org.mybatis&lt;/groupId&gt;</span><br><span class="line">        &lt;artifactId&gt;mybatis&lt;/artifactId&gt;</span><br><span class="line">        &lt;version&gt;3.4.5&lt;/version&gt;</span><br><span class="line">    &lt;/dependency&gt;</span><br><span class="line">    &lt;dependency&gt;</span><br><span class="line">        &lt;groupId&gt;mysql&lt;/groupId&gt;</span><br><span class="line">        &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;</span><br><span class="line">        &lt;version&gt;5.1.6&lt;/version&gt;</span><br><span class="line">    &lt;/dependency&gt;</span><br><span class="line">    &lt;dependency&gt;</span><br><span class="line">        &lt;groupId&gt;log4j&lt;/groupId&gt;</span><br><span class="line">        &lt;artifactId&gt;log4j&lt;/artifactId&gt;</span><br><span class="line">        &lt;version&gt;1.2.12&lt;/version&gt;</span><br><span class="line">    &lt;/dependency&gt;</span><br><span class="line">    &lt;dependency&gt;</span><br><span class="line">        &lt;groupId&gt;junit&lt;/groupId&gt;</span><br><span class="line">        &lt;artifactId&gt;junit&lt;/artifactId&gt;</span><br><span class="line">        &lt;version&gt;4.10&lt;/version&gt;</span><br><span class="line">        &lt;scope&gt;test&lt;/scope&gt;</span><br><span class="line">    &lt;/dependency&gt;</span><br><span class="line">&lt;/dependencies&gt;</span><br></pre></td></tr></table></figure>

<p><img src="%22%E7%82%B9%E5%87%BB%E5%B9%B6%E6%8B%96%E6%8B%BD%E4%BB%A5%E7%A7%BB%E5%8A%A8%22" alt></p>
<h3 id="2-1-2-&#x6570;&#x636E;&#x5E93;User&#x8868;&#x5BF9;&#x5E94;&#x7684;&#x5B9E;&#x4F53;&#x7C7B;"><a href="#2-1-2-&#x6570;&#x636E;&#x5E93;User&#x8868;&#x5BF9;&#x5E94;&#x7684;&#x5B9E;&#x4F53;&#x7C7B;" class="headerlink" title="2.1.2 &#x6570;&#x636E;&#x5E93;User&#x8868;&#x5BF9;&#x5E94;&#x7684;&#x5B9E;&#x4F53;&#x7C7B;"></a>2.1.2 &#x6570;&#x636E;&#x5E93;User&#x8868;&#x5BF9;&#x5E94;&#x7684;&#x5B9E;&#x4F53;&#x7C7B;</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line">java&#x590D;&#x5236;&#x4EE3;&#x7801;package domain;</span><br><span class="line"></span><br><span class="line">import java.io.Serializable;</span><br><span class="line">import java.util.Date;</span><br><span class="line"></span><br><span class="line">public class User implements Serializable {</span><br><span class="line"></span><br><span class="line">    private Integer id;</span><br><span class="line">    private String username;</span><br><span class="line">    private Date birthday;</span><br><span class="line">    private String sex;</span><br><span class="line">    private String address;</span><br><span class="line"></span><br><span class="line">    public Integer getId() {</span><br><span class="line">        return id;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    public void setId(Integer id) {</span><br><span class="line">        this.id = id;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    public String getUsername() {</span><br><span class="line">        return username;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    public void setUsername(String username) {</span><br><span class="line">        this.username = username;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    public Date getBirthday() {</span><br><span class="line">        return birthday;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    public void setBirthday(Date birthday) {</span><br><span class="line">        this.birthday = birthday;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    public String getSex() {</span><br><span class="line">        return sex;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    public void setSex(String sex) {</span><br><span class="line">        this.sex = sex;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    public String getAddress() {</span><br><span class="line">        return address;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    public void setAddress(String address) {</span><br><span class="line">        this.address = address;</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></table></figure>

<p><img src="%22%E7%82%B9%E5%87%BB%E5%B9%B6%E6%8B%96%E6%8B%BD%E4%BB%A5%E7%A7%BB%E5%8A%A8%22" alt></p>
<h3 id="2-1-3-dao&#x5C42;"><a href="#2-1-3-dao&#x5C42;" class="headerlink" title="2.1.3 dao&#x5C42;"></a>2.1.3 dao&#x5C42;</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">java&#x590D;&#x5236;&#x4EE3;&#x7801;package dao;</span><br><span class="line"></span><br><span class="line">import domain.User;</span><br><span class="line"></span><br><span class="line">import java.util.List;</span><br><span class="line"></span><br><span class="line">public interface UserDao {</span><br><span class="line"></span><br><span class="line">    /**</span><br><span class="line">     * &#x67E5;&#x8BE2;&#x6240;&#x6709;&#x7528;&#x6237;</span><br><span class="line">     * @return</span><br><span class="line">     */</span><br><span class="line">    List&lt;User&gt; findAll();</span><br><span class="line">}</span><br></pre></td></tr></table></figure>

<p><img src="%22%E7%82%B9%E5%87%BB%E5%B9%B6%E6%8B%96%E6%8B%BD%E4%BB%A5%E7%A7%BB%E5%8A%A8%22" alt></p>
<h3 id="2-1-4-&#x7F16;&#x5199;Dao&#x5C42;&#x63A5;&#x53E3;&#x7684;&#x6620;&#x5C04;&#x6587;&#x4EF6;UserDao-xml"><a href="#2-1-4-&#x7F16;&#x5199;Dao&#x5C42;&#x63A5;&#x53E3;&#x7684;&#x6620;&#x5C04;&#x6587;&#x4EF6;UserDao-xml" class="headerlink" title="2.1.4 &#x7F16;&#x5199;Dao&#x5C42;&#x63A5;&#x53E3;&#x7684;&#x6620;&#x5C04;&#x6587;&#x4EF6;UserDao.xml"></a>2.1.4 &#x7F16;&#x5199;Dao&#x5C42;&#x63A5;&#x53E3;&#x7684;&#x6620;&#x5C04;&#x6587;&#x4EF6;UserDao.xml</h3><p>&#x521B;&#x5EFA;&#x4F4D;&#x7F6E;&#xFF1A;&#x5FC5;&#x987B;&#x548C;dao&#x63A5;&#x53E3;&#x5728;&#x76F8;&#x540C;&#x7684;&#x5305;&#x4E2D;&#x3002;</p>
<p>&#x540D;&#x79F0;&#xFF1A;&#x5FC5;&#x987B;&#x4EE5;&#x6301;&#x4E45;&#x5C42;&#x63A5;&#x53E3;&#x540D;&#x79F0;&#x547D;&#x540D;&#x6587;&#x4EF6;&#x540D;&#xFF0C;&#x6269;&#x5C55;&#x540D;&#x662F;.xml</p>
<p><img src="https://gitee.com/songjianzaina/juejin_p5/raw/master/img/921bb04238079b189b5117a6093ac7705bf196aa18fb5b7226530c158b858d57" alt>)<img src="%22%E7%82%B9%E5%87%BB%E5%B9%B6%E6%8B%96%E6%8B%BD%E4%BB%A5%E7%A7%BB%E5%8A%A8%22" alt>&#x200B;</p>
<p>mapper&#x6807;&#x7B7E;namespace&#x5C5E;&#x6027;&#x7684;&#x53D6;&#x503C;&#x5FC5;&#x987B;&#x662F;dao&#x63A5;&#x53E3;&#x7684;&#x5168;&#x9650;&#x5B9A;&#x7C7B;&#x540D;&#xFF1B;</p>
<p>&#x64CD;&#x4F5C;&#x914D;&#x7F6E;&#xFF08;select&#xFF09;&#xFF0C;id&#x5C5E;&#x6027;&#x7684;&#x53D6;&#x503C;&#x5FC5;&#x987B;&#x662F;dao&#x63A5;&#x53E3;&#x7684;&#x65B9;&#x6CD5;&#x540D;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">xml&#x590D;&#x5236;&#x4EE3;&#x7801;&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span><br><span class="line">&lt;!DOCTYPE mapper</span><br><span class="line">        PUBLIC &quot;-//mybatis.org//DTD Mapper 3.0//EN&quot;</span><br><span class="line">        &quot;http://mybatis.org/dtd/mybatis-3-mapper.dtd&quot;&gt;</span><br><span class="line">&lt;mapper namespace=&quot;dao.UserDao&quot;&gt;</span><br><span class="line">    &lt;!-- &#x914D;&#x7F6E;&#x67E5;&#x8BE2;&#x6240;&#x6709;&#x64CD;&#x4F5C;&#xFF0C;&#x67E5;&#x8BE2;&#x7ED3;&#x679C;&#x5C01;&#x88C5;&#x5728;User&#x7C7B;&#x91CC; --&gt;</span><br><span class="line">    &lt;select id=&quot;findAll&quot; resultType=&quot;domain.User&quot;&gt;</span><br><span class="line">        select * from user;</span><br><span class="line">    &lt;/select&gt;</span><br><span class="line">&lt;/mapper&gt;</span><br></pre></td></tr></table></figure>

<p><img src="%22%E7%82%B9%E5%87%BB%E5%B9%B6%E6%8B%96%E6%8B%BD%E4%BB%A5%E7%A7%BB%E5%8A%A8%22" alt></p>
<h3 id="2-1-5-&#x7F16;&#x5199;-SqlMapConfig-xml-&#x914D;&#x7F6E;&#x6587;&#x4EF6;"><a href="#2-1-5-&#x7F16;&#x5199;-SqlMapConfig-xml-&#x914D;&#x7F6E;&#x6587;&#x4EF6;" class="headerlink" title="2.1.5 &#x7F16;&#x5199; SqlMapConfig.xml &#x914D;&#x7F6E;&#x6587;&#x4EF6;"></a>2.1.5 &#x7F16;&#x5199; SqlMapConfig.xml &#x914D;&#x7F6E;&#x6587;&#x4EF6;</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">xml&#x590D;&#x5236;&#x4EE3;&#x7801;&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span><br><span class="line">&lt;!DOCTYPE configuration</span><br><span class="line">        PUBLIC &quot;-//mybatis.org//DTD Config 3.0//EN&quot;</span><br><span class="line">        &quot;http://mybatis.org/dtd/mybatis-3-config.dtd&quot;&gt;</span><br><span class="line">&lt;!--mybatis&#x7684;&#x4E3B;&#x914D;&#x7F6E;&#x6587;&#x4EF6;--&gt;</span><br><span class="line">&lt;configuration&gt;</span><br><span class="line">    &lt;!--&#x914D;&#x7F6E;&#x73AF;&#x5883;--&gt;</span><br><span class="line">    &lt;environments default=&quot;mysql&quot;&gt;</span><br><span class="line">        &lt;!--&#x914D;&#x7F6E;mysql&#x7684;&#x73AF;&#x5883;--&gt;</span><br><span class="line">        &lt;environment id=&quot;mysql&quot;&gt;</span><br><span class="line">            &lt;!--&#x914D;&#x7F6E;&#x4E8B;&#x52A1;&#x7C7B;&#x578B;--&gt;</span><br><span class="line">            &lt;transactionManager type=&quot;JDBC&quot;&gt;&lt;/transactionManager&gt;</span><br><span class="line">            &lt;!--&#x914D;&#x7F6E;&#x6570;&#x636E;&#x6E90;&#xFF08;&#x8FDE;&#x63A5;&#x6C60;&#xFF09;--&gt;</span><br><span class="line">            &lt;dataSource type=&quot;POOLED&quot;&gt;</span><br><span class="line">                &lt;!--&#x914D;&#x7F6E;&#x8FDE;&#x63A5;&#x6570;&#x636E;&#x5E93;&#x7684;4&#x4E2A;&#x57FA;&#x672C;&#x4FE1;&#x606F;--&gt;</span><br><span class="line">                &lt;property name=&quot;driver&quot; value=&quot;com.mysql.jdbc.Driver&quot;/&gt;</span><br><span class="line">                &lt;property name=&quot;url&quot; value=&quot;jdbc:mysql://localhost:3306/eesy_mybatis&quot;/&gt;</span><br><span class="line">                &lt;property name=&quot;username&quot; value=&quot;root&quot;/&gt;</span><br><span class="line">                &lt;property name=&quot;password&quot; value=&quot;root&quot;/&gt;</span><br><span class="line">            &lt;/dataSource&gt;</span><br><span class="line">        &lt;/environment&gt;</span><br><span class="line">    &lt;/environments&gt;</span><br><span class="line"></span><br><span class="line">    &lt;!-- &#x544A;&#x77E5;mybatis&#x6620;&#x5C04;&#x914D;&#x7F6E;&#x7684;&#x4F4D;&#x7F6E; --&gt;</span><br><span class="line">    &lt;mappers&gt;</span><br><span class="line">        &lt;mapper resource=&quot;dao/UserDao.xml&quot;/&gt;</span><br><span class="line">    &lt;/mappers&gt;</span><br><span class="line">&lt;/configuration&gt;</span><br></pre></td></tr></table></figure>

<p><img src="%22%E7%82%B9%E5%87%BB%E5%B9%B6%E6%8B%96%E6%8B%BD%E4%BB%A5%E7%A7%BB%E5%8A%A8%22" alt></p>
<h3 id="2-1-6-&#x6D4B;&#x8BD5;&#x7C7B;"><a href="#2-1-6-&#x6D4B;&#x8BD5;&#x7C7B;" class="headerlink" title="2.1.6 &#x6D4B;&#x8BD5;&#x7C7B;"></a>2.1.6 &#x6D4B;&#x8BD5;&#x7C7B;</h3><p>&#x7A0B;&#x5E8F;&#x5957;&#x8DEF;&#x6BD4;&#x8F83;&#x56FA;&#x5B9A;&#xFF0C;&#x57FA;&#x672C;&#x6B65;&#x9AA4;&#x5982;&#x4E0B;&#xFF1A;</p>
<ol>
<li>&#x8BFB;&#x53D6;&#x914D;&#x7F6E;&#x6587;&#x4EF6;</li>
<li>&#x521B;&#x5EFA;SqlSessionFactory&#x5DE5;&#x5382;</li>
<li>&#x521B;&#x5EFA;SqlSession</li>
<li>&#x521B;&#x5EFA;dao&#x63A5;&#x53E3;&#x7684;&#x4EE3;&#x7406;&#x5BF9;&#x8C61;   getMapper()</li>
<li>&#x6267;&#x884C;dao&#x4E2D;&#x7684;&#x65B9;&#x6CD5;</li>
<li>&#x91CA;&#x653E;&#x8D44;&#x6E90;</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line">java&#x590D;&#x5236;&#x4EE3;&#x7801;package test;</span><br><span class="line"></span><br><span class="line">import dao.UserDao;</span><br><span class="line">import domain.User;</span><br><span class="line">import org.apache.ibatis.io.Resources;</span><br><span class="line">import org.apache.ibatis.session.SqlSession;</span><br><span class="line">import org.apache.ibatis.session.SqlSessionFactory;</span><br><span class="line">import org.apache.ibatis.session.SqlSessionFactoryBuilder;</span><br><span class="line"></span><br><span class="line">import java.io.IOException;</span><br><span class="line">import java.io.InputStream;</span><br><span class="line">import java.util.List;</span><br><span class="line"></span><br><span class="line">public class MybatisTest {</span><br><span class="line"></span><br><span class="line">    public static void main(String[] args) throws IOException {</span><br><span class="line">        // &#x8BFB;&#x53D6;&#x914D;&#x7F6E;&#x6587;&#x4EF6;</span><br><span class="line">        InputStream in = Resources.getResourceAsStream(&quot;sqlMapConfig.xml&quot;);</span><br><span class="line">        // &#x521B;&#x5EFA;SqlSessionFactory&#x5DE5;&#x5382;</span><br><span class="line">        SqlSessionFactoryBuilder builder = new SqlSessionFactoryBuilder();</span><br><span class="line">        SqlSessionFactory factory = builder.build(in);</span><br><span class="line">        // &#x4F7F;&#x7528;&#x5DE5;&#x5382;&#x751F;&#x4EA7;SqlSession</span><br><span class="line">        SqlSession session = factory.openSession();</span><br><span class="line">        // &#x4F7F;&#x7528;SqlSession&#x521B;&#x5EFA;Dao&#x63A5;&#x53E3;&#x7684;&#x4EE3;&#x7406;&#x5BF9;&#x8C61;</span><br><span class="line">        UserDao userDao = session.getMapper(UserDao.class);</span><br><span class="line">        // &#x4F7F;&#x7528;&#x4EE3;&#x7406;&#x5BF9;&#x8C61;&#x6267;&#x884C;dao&#x4E2D;&#x7684;&#x65B9;&#x6CD5;</span><br><span class="line">        List&lt;User&gt; users = userDao.findAll();</span><br><span class="line">        for (User user : users) {</span><br><span class="line">            System.out.println(user);</span><br><span class="line">        }</span><br><span class="line">        // &#x91CA;&#x653E;&#x8D44;&#x6E90;</span><br><span class="line">        session.close();</span><br><span class="line">        in.close();</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></table></figure>

<p><img src="%22%E7%82%B9%E5%87%BB%E5%B9%B6%E6%8B%96%E6%8B%BD%E4%BB%A5%E7%A7%BB%E5%8A%A8%22" alt></p>
<h2 id="2-2-&#x4F7F;&#x7528;&#x6CE8;&#x89E3;&#x5F00;&#x53D1;&#x65B9;&#x6CD5;"><a href="#2-2-&#x4F7F;&#x7528;&#x6CE8;&#x89E3;&#x5F00;&#x53D1;&#x65B9;&#x6CD5;" class="headerlink" title="2.2 &#x4F7F;&#x7528;&#x6CE8;&#x89E3;&#x5F00;&#x53D1;&#x65B9;&#x6CD5;"></a>2.2 &#x4F7F;&#x7528;&#x6CE8;&#x89E3;&#x5F00;&#x53D1;&#x65B9;&#x6CD5;</h2><p>&#x4F7F;&#x7528;&#x6CE8;&#x89E3;&#x65F6;&#xFF0C;&#x5C31;&#x4E0D;&#x9700;&#x8981; resources/dao/UserDao.xml &#x6587;&#x4EF6;&#x4E86;</p>
<p>&#x5728;dao&#x63A5;&#x53E3;&#x7684;&#x65B9;&#x6CD5;&#x4E0A;&#x4F7F;&#x7528;@Select&#x6CE8;&#x89E3;&#xFF0C;&#x5E76;&#x4E14;&#x6307;&#x5B9A;SQL&#x8BED;&#x53E5;</p>
<p><strong>UserDao.java</strong> &#x4E2D;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">java&#x590D;&#x5236;&#x4EE3;&#x7801;package dao;</span><br><span class="line"></span><br><span class="line">import domain.User;</span><br><span class="line">import org.apache.ibatis.annotations.Select;</span><br><span class="line"></span><br><span class="line">import java.util.List;</span><br><span class="line"></span><br><span class="line">public interface UserDao {</span><br><span class="line"></span><br><span class="line">    /**</span><br><span class="line">     * &#x67E5;&#x8BE2;&#x6240;&#x6709;&#x7528;&#x6237;</span><br><span class="line">     * @return</span><br><span class="line">     */</span><br><span class="line">    @Select(&quot;select * from user&quot;)</span><br><span class="line">    List&lt;User&gt; findAll();</span><br><span class="line">}</span><br></pre></td></tr></table></figure>

<p><img src="%22%E7%82%B9%E5%87%BB%E5%B9%B6%E6%8B%96%E6%8B%BD%E4%BB%A5%E7%A7%BB%E5%8A%A8%22" alt></p>
<p>SqlMapConfig.xml &#x5168;&#x5C40;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x91CC;&#xFF0C;&#x5982;&#x679C;&#x4F7F;&#x7528;&#x6CE8;&#x89E3;&#x6765;&#x914D;&#x7F6E;&#x7684;&#x8BDD;&#xFF0C;&#x5E94;&#x8BE5;&#x662F;&#x7528;class&#x5C5E;&#x6027;&#x6307;&#x5B9A;&#x88AB;&#x6CE8;&#x89E3;&#x7684;dao&#x5168;&#x9650;&#x5B9A;&#x7C7B;&#x540D;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">xml&#x590D;&#x5236;&#x4EE3;&#x7801;&lt;mappers&gt;</span><br><span class="line">    &lt;mapper class=&quot;dao.UserDao&quot;/&gt;</span><br><span class="line">&lt;/mappers&gt;</span><br></pre></td></tr></table></figure>

<p><img src="%22%E7%82%B9%E5%87%BB%E5%B9%B6%E6%8B%96%E6%8B%BD%E4%BB%A5%E7%A7%BB%E5%8A%A8%22" alt></p>
<h2 id="2-3-&#x8BBE;&#x8BA1;&#x6A21;&#x5F0F;&#x5206;&#x6790;"><a href="#2-3-&#x8BBE;&#x8BA1;&#x6A21;&#x5F0F;&#x5206;&#x6790;" class="headerlink" title="2.3 &#x8BBE;&#x8BA1;&#x6A21;&#x5F0F;&#x5206;&#x6790;"></a>2.3 &#x8BBE;&#x8BA1;&#x6A21;&#x5F0F;&#x5206;&#x6790;</h2><p>&#x5728;&#x7F16;&#x5199;&#x6D4B;&#x8BD5;&#x7C7B;&#x65F6;&#xFF0C;&#x6309;&#x7167;&#x4E86;&#x516D;&#x4E2A;&#x6B65;&#x9AA4;&#x6765;&#x8FDB;&#x884C;&#x7684;&#xFF0C;&#x5176;&#x4E2D;&#x6D89;&#x53CA;&#x5230;&#x4E86;&#x6784;&#x5EFA;&#x8005;&#x3001;&#x5DE5;&#x5382;&#x3001;&#x4EE3;&#x7406;&#x7B49;&#x8BBE;&#x8BA1;&#x6A21;&#x5F0F;&#x3002;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">java&#x590D;&#x5236;&#x4EE3;&#x7801;SqlSessionFactoryBuilder builder = new SqlSessionFactoryBuilder();</span><br><span class="line">SqlSessionFactory factory = builder.build(in);</span><br></pre></td></tr></table></figure>

<p><img src="%22%E7%82%B9%E5%87%BB%E5%B9%B6%E6%8B%96%E6%8B%BD%E4%BB%A5%E7%A7%BB%E5%8A%A8%22" alt></p>
<p>&#x521B;&#x5EFA;&#x5DE5;&#x5382;&#x65F6;&#x4F7F;&#x7528;&#x4E86;&#x6784;&#x5EFA;&#x8005;&#x6A21;&#x5F0F;&#xFF0C;&#x53EF;&#x4EE5;&#x628A;&#x5BF9;&#x8C61;&#x7684;&#x521B;&#x5EFA;&#x7EC6;&#x8282;&#x9690;&#x85CF;&#xFF0C;&#x4F7F;&#x5F97;&#x4F7F;&#x7528;&#x8005;&#x76F4;&#x63A5;&#x8C03;&#x7528;&#x65B9;&#x6CD5;&#x5373;&#x53EF;&#x62FF;&#x5230;&#x5BF9;&#x8C61;&#x3002;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">java&#x590D;&#x5236;&#x4EE3;&#x7801;SqlSession session = factory.openSession();</span><br></pre></td></tr></table></figure>

<p><img src="%22%E7%82%B9%E5%87%BB%E5%B9%B6%E6%8B%96%E6%8B%BD%E4%BB%A5%E7%A7%BB%E5%8A%A8%22" alt></p>
<p>&#x751F;&#x4EA7;SqlSession&#x4F7F;&#x7528;&#x4E86;&#x5DE5;&#x5382;&#x6A21;&#x5F0F;&#xFF0C;&#x53EF;&#x4EE5;&#x964D;&#x4F4E;&#x7C7B;&#x4E4B;&#x95F4;&#x7684;&#x4F9D;&#x8D56;&#x5173;&#x7CFB;&#xFF08;&#x89E3;&#x8026;&#xFF09;&#x3002;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">java&#x590D;&#x5236;&#x4EE3;&#x7801;UserDao userDao = session.getMapper(UserDao.class);</span><br></pre></td></tr></table></figure>

<p><img src="%22%E7%82%B9%E5%87%BB%E5%B9%B6%E6%8B%96%E6%8B%BD%E4%BB%A5%E7%A7%BB%E5%8A%A8%22" alt></p>
<p>&#x521B;&#x5EFA;Dao&#x63A5;&#x53E3;&#x5B9E;&#x73B0;&#x7C7B;&#x4F7F;&#x7528;&#x4E86;&#x4EE3;&#x7406;&#x6A21;&#x5F0F;&#xFF0C;&#x53EF;&#x4EE5;&#x5728;&#x4E0D;&#x4FEE;&#x6539;&#x6E90;&#x7801;&#x7684;&#x57FA;&#x7840;&#x4E0A;&#x5BF9;&#x5DF2;&#x6709;&#x65B9;&#x6CD5;&#x589E;&#x5F3A;&#x3002;</p>
<p>&#x6CE8;&#x610F;&#xFF1A;</p>
<p>&#x5B9E;&#x9645;&#x5E94;&#x7528;&#x65F6;&#xFF0C;&#x7EDD;&#x5BF9;&#x8DEF;&#x5F84;&#x548C;&#x76F8;&#x5BF9;&#x8DEF;&#x5F84;&#x90FD;&#x4E0D;&#x53EF;&#x7528;&#xFF0C;&#xFF08;&#x5728;&#x90E8;&#x7F72;&#x6210;webapp&#x540E;src&#x76EE;&#x5F55;&#x6CA1;&#x4E86;&#xFF09;</p>
<p>&#x6240;&#x4EE5;&#x5B9E;&#x9645;&#x4E2D;&#x53EA;&#x7528;&#x4E24;&#x79CD;&#x65B9;&#x6CD5;&#xFF1A;</p>
<ol>
<li>&#x7C7B;&#x52A0;&#x8F7D;&#x5668;&#xFF0C;&#x4F46;&#x53EA;&#x80FD;&#x8BFB;&#x53D6;&#x7C7B;&#x8DEF;&#x5F84;&#x7684;&#x914D;&#x7F6E;&#x6587;&#x4EF6;</li>
<li>&#x4F7F;&#x7528;ServletContext&#x7684;getRealPath()&#x83B7;&#x5F97;&#x7EDD;&#x5BF9;&#x8DEF;&#x5F84;</li>
</ol>
<p>mybatis&#x5728;&#x4F7F;&#x7528;&#x4EE3;&#x7406;dao&#x7684;&#x65B9;&#x5F0F;&#x5B9E;&#x73B0;&#x589E;&#x5220;&#x6539;&#x67E5;&#x65F6;&#xFF1A;</p>
<ol>
<li>&#x521B;&#x5EFA;&#x4EE3;&#x7406;&#x5BF9;&#x8C61;</li>
<li>&#x5728;&#x4EE3;&#x7406;&#x5BF9;&#x8C61;&#x4E2D;&#x8C03;&#x7528;selectList</li>
</ol>
<h1 id="3-&#x81EA;&#x5B9A;&#x4E49;Mybatis&#x6846;&#x67B6;"><a href="#3-&#x81EA;&#x5B9A;&#x4E49;Mybatis&#x6846;&#x67B6;" class="headerlink" title="3 &#x81EA;&#x5B9A;&#x4E49;Mybatis&#x6846;&#x67B6;"></a>3 &#x81EA;&#x5B9A;&#x4E49;Mybatis&#x6846;&#x67B6;</h1><h2 id="3-1-&#x67E5;&#x8BE2;&#x6240;&#x6709;&#x5206;&#x6790;"><a href="#3-1-&#x67E5;&#x8BE2;&#x6240;&#x6709;&#x5206;&#x6790;" class="headerlink" title="3.1 &#x67E5;&#x8BE2;&#x6240;&#x6709;&#x5206;&#x6790;"></a>3.1 &#x67E5;&#x8BE2;&#x6240;&#x6709;&#x5206;&#x6790;</h2><p>selectList&#x65B9;&#x6CD5;&#x5927;&#x81F4;&#x5206;&#x4E3A;&#x4E94;&#x6B65;&#xFF1A;</p>
<ol>
<li>&#x6839;&#x636E;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x521B;&#x5EFA;Connection&#x5BF9;&#x8C61;</li>
<li>&#x83B7;&#x53D6;&#x9884;&#x5904;&#x7406;&#x5BF9;&#x8C61;PreparedStatement</li>
<li>&#x6267;&#x884C;&#x67E5;&#x8BE2;&#x64CD;&#x4F5C;</li>
<li>&#x904D;&#x5386;&#x67E5;&#x8BE2;&#x7ED3;&#x679C;&#x96C6;&#x5E76;&#x5C01;&#x88C5;&#x4E3A;List</li>
<li>&#x8FD4;&#x56DE;List&#x5BF9;&#x8C61;</li>
</ol>
<p>&#x5176;&#x4E2D;<strong>&#x7B2C;&#x4E00;&#x6B65;</strong>&#x9700;&#x8981;&#x914D;&#x7F6E;&#x6587;&#x4EF6;SqlMapConfig.xml&#x4E2D;&#x7684;&#x4FE1;&#x606F;&#xFF0C;&#x89E3;&#x6790;xml&#x7684;&#x6280;&#x672F;&#x5DF2;&#x7ECF;&#x6210;&#x719F;&#xFF0C;&#x8FD9;&#x91CC;&#x4E0D;&#x505A;&#x8D58;&#x8FF0;&#x3002;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">xml&#x590D;&#x5236;&#x4EE3;&#x7801;&lt;property name=&quot;driver&quot; value=&quot;com.mysql.jdbc.Driver&quot;/&gt;</span><br><span class="line">&lt;property name=&quot;url&quot; value=&quot;jdbc:mysql://localhost:3306/eesy_mybatis&quot;/&gt;</span><br><span class="line">&lt;property name=&quot;username&quot; value=&quot;root&quot;/&gt;</span><br><span class="line">&lt;property name=&quot;password&quot; value=&quot;root&quot;/&gt;</span><br></pre></td></tr></table></figure>

<p><img src="%22%E7%82%B9%E5%87%BB%E5%B9%B6%E6%8B%96%E6%8B%BD%E4%BB%A5%E7%A7%BB%E5%8A%A8%22" alt></p>
<p><strong>&#x7B2C;&#x4E8C;&#x6B65;</strong>&#x83B7;&#x53D6;&#x9884;&#x5904;&#x7406;&#x5BF9;&#x8C61;PreparedStatement</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">java&#x590D;&#x5236;&#x4EE3;&#x7801;conn.prepareStatement(queryString);</span><br></pre></td></tr></table></figure>

<p><img src="%22%E7%82%B9%E5%87%BB%E5%B9%B6%E6%8B%96%E6%8B%BD%E4%BB%A5%E7%A7%BB%E5%8A%A8%22" alt></p>
<p>&#x9700;&#x8981;&#x4F20;&#x5165;sql&#x8BED;&#x53E5;&#xFF0C;&#x9700;&#x8981;&#x7528;&#x5230;UserDao.xml&#x4E2D;&#x5B9A;&#x4E49;&#x7684;sql&#x8BED;&#x53E5;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">xml&#x590D;&#x5236;&#x4EE3;&#x7801;&lt;mapper namespace=&quot;dao.UserDao&quot;&gt;</span><br><span class="line">    &lt;!-- &#x914D;&#x7F6E;&#x67E5;&#x8BE2;&#x6240;&#x6709;&#x64CD;&#x4F5C; --&gt;</span><br><span class="line">    &lt;select id=&quot;findAll&quot; resultType=&quot;domain.User&quot;&gt;</span><br><span class="line">        select * from user;</span><br><span class="line">    &lt;/select&gt;</span><br><span class="line">&lt;/mapper&gt;</span><br></pre></td></tr></table></figure>

<p><img src="%22%E7%82%B9%E5%87%BB%E5%B9%B6%E6%8B%96%E6%8B%BD%E4%BB%A5%E7%A7%BB%E5%8A%A8%22" alt></p>
<p><strong>&#x7B2C;&#x56DB;&#x6B65;</strong>&#x8FDB;&#x884C;&#x6570;&#x636E;&#x7684;&#x5C01;&#x88C5;&#xFF0C;&#x9700;&#x8981;&#x77E5;&#x9053;&#x6570;&#x636E;&#x5E93;&#x4E2D;&#x5B58;&#x50A8;&#x7684;&#x6570;&#x636E;&#x5BF9;&#x5E94;&#x7684;java&#x4E2D;&#x7684;&#x7C7B;</p>
<p>&#x5BF9;&#x5E94;&#x4E0A;&#x9762;&#x4EE3;&#x7801;&#x4E2D;&#x7684; resultType </p>
<p>&#x7EB5;&#x89C2;&#x6574;&#x4E2A;&#x89E3;&#x6790;&#x7684;&#x8FC7;&#x7A0B;&#xFF0C;&#x5982;&#x679C;&#x60F3;&#x8981;&#x8BA9;selectList&#x65B9;&#x6CD5;&#x6267;&#x884C;&#xFF0C;&#x8FD8;&#x5FC5;&#x987B;&#x8981;&#x63D0;&#x4F9B;&#x6620;&#x5C04;&#x4FE1;&#x606F;&#xFF0C;&#x6620;&#x5C04;&#x4FE1;&#x606F;&#x5305;&#x542B;&#x4E24;&#x90E8;&#x5206;&#xFF1A;sql&#x548C;&#x5C01;&#x88C5;&#x7ED3;&#x679C;&#x7684;&#x5B9E;&#x4F53;&#x7C7B;&#x540D;&#xFF0C;&#x53EF;&#x4EE5;&#x5C06;&#x8FD9;&#x4E24;&#x4E2A;&#x4FE1;&#x606F;&#x5C01;&#x88C5;&#x6210;&#x4E00;&#x4E2A;&#x6620;&#x5C04;&#x7C7B;Mapper&#x4F5C;&#x4E3A;map&#x7684;value&#xFF0C;&#x5176;&#x4E2D;map&#x7684;key&#x4E3A;&#x7C7B;&#x4F3C;&#x4E8E;&#x201D;dao.UserDao.findAll&#x201D;&#x7684;&#x5B57;&#x7B26;&#x4E32;&#x3002;</p>
<p>&#x5177;&#x4F53;&#x6D41;&#x7A0B;&#x5982;&#x4E0B;&#x56FE;&#xFF1A;</p>
<p><img src="https://gitee.com/songjianzaina/juejin_p5/raw/master/img/78ccc3d7f9c3a366b20b7705c0e064bd8e62c2faae1d46bbb1112de78725d3ef" alt>)<img src="%22%E7%82%B9%E5%87%BB%E5%B9%B6%E6%8B%96%E6%8B%BD%E4%BB%A5%E7%A7%BB%E5%8A%A8%22" alt>&#x200B;</p>
<p>&#x603B;&#x7ED3;&#x4E00;&#x4E0B;&#xFF1A;</p>
<p>SqlMapConfig.xml &#x4E2D;&#x5305;&#x542B;&#x8FDE;&#x63A5;&#x6570;&#x636E;&#x5E93;&#x7684;&#x4FE1;&#x606F;&#x3001;&#x6620;&#x5C04;&#x914D;&#x7F6E;&#x4FE1;&#x606F;</p>
<p>UserDao.xml &#x4E2D;&#x5305;&#x542B;sql&#x8BED;&#x53E5;&#x548C;&#x5C01;&#x88C5;&#x7684;&#x5B9E;&#x4F53;&#x7C7B;&#x4FE1;&#x606F;</p>
<p>&#x53EF;&#x4EE5;&#x4F7F;&#x7528;dom4j&#x6280;&#x672F;&#x6765;&#x89E3;&#x6790;xml</p>
<h2 id="3-2-&#x521B;&#x5EFA;&#x4EE3;&#x7406;&#x5BF9;&#x8C61;&#x7684;&#x5206;&#x6790;"><a href="#3-2-&#x521B;&#x5EFA;&#x4EE3;&#x7406;&#x5BF9;&#x8C61;&#x7684;&#x5206;&#x6790;" class="headerlink" title="3.2 &#x521B;&#x5EFA;&#x4EE3;&#x7406;&#x5BF9;&#x8C61;&#x7684;&#x5206;&#x6790;"></a>3.2 &#x521B;&#x5EFA;&#x4EE3;&#x7406;&#x5BF9;&#x8C61;&#x7684;&#x5206;&#x6790;</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">java&#x590D;&#x5236;&#x4EE3;&#x7801;// &#x4F7F;&#x7528;SqlSession&#x521B;&#x5EFA;Dao&#x63A5;&#x53E3;&#x7684;&#x4EE3;&#x7406;&#x5BF9;&#x8C61;</span><br><span class="line">UserDao userDao = (UserDao) session.getMapper(UserDao.class);</span><br></pre></td></tr></table></figure>

<p><img src="%22%E7%82%B9%E5%87%BB%E5%B9%B6%E6%8B%96%E6%8B%BD%E4%BB%A5%E7%A7%BB%E5%8A%A8%22" alt></p>
<p>getMapper&#x7684;&#x5177;&#x4F53;&#x5B9E;&#x73B0;&#x5982;&#x4E0B;&#xFF1A;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">java&#x590D;&#x5236;&#x4EE3;&#x7801;public &lt;T&gt; T getMapper(Class&lt;T&gt; daoInterfaceClass) {</span><br><span class="line">        return (T) Proxy.newProxyInstance(daoInterfaceClass.getClassLoader(),</span><br><span class="line">                new Class[]{daoInterfaceClass},</span><br><span class="line">                new MapperProxy(cfg.getMappers(), connection));</span><br><span class="line">    }</span><br></pre></td></tr></table></figure>

<p><img src="%22%E7%82%B9%E5%87%BB%E5%B9%B6%E6%8B%96%E6%8B%BD%E4%BB%A5%E7%A7%BB%E5%8A%A8%22" alt></p>
<p>&#x4F7F;&#x7528;&#x4EE3;&#x7406;</p>
<p>&#x7B2C;&#x4E00;&#x4E2A;&#x53C2;&#x6570;&#x662F;&#x7C7B;&#x52A0;&#x8F7D;&#x5668;&#xFF1A;&#x4F7F;&#x7528;&#x548C;&#x88AB;&#x4EE3;&#x7406;&#x5BF9;&#x8C61;&#x76F8;&#x540C;&#x7684;&#x7C7B;&#x52A0;&#x8F7D;&#x5668;</p>
<p>&#x7B2C;&#x4E8C;&#x4E2A;&#x53C2;&#x6570;&#x662F;&#x4EE3;&#x7406;&#x5BF9;&#x8C61;&#x8981;&#x5B9E;&#x73B0;&#x7684;&#x63A5;&#x53E3;&#xFF1A;&#x548C;&#x88AB;&#x4EE3;&#x7406;&#x5BF9;&#x8C61;&#x5B9E;&#x73B0;&#x76F8;&#x540C;&#x7684;&#x63A5;&#x53E3;</p>
<p>&#x7B2C;&#x4E09;&#x4E2A;&#x53C2;&#x6570;&#x662F;&#x5982;&#x4F55;&#x4EE3;&#x7406;&#xFF1A;&#x6211;&#x4EEC;&#x81EA;&#x5DF1;&#x63D0;&#x4F9B;&#x4E00;&#x4E2A;&#x589E;&#x5F3A;&#x7684;&#x65B9;&#x6CD5;</p>
<h2 id="3-3-&#x4F7F;&#x7528;Mybatis&#x65F6;&#x7528;&#x5230;&#x7684;&#x7C7B;&#xFF08;&#x63A5;&#x53E3;&#xFF09;"><a href="#3-3-&#x4F7F;&#x7528;Mybatis&#x65F6;&#x7528;&#x5230;&#x7684;&#x7C7B;&#xFF08;&#x63A5;&#x53E3;&#xFF09;" class="headerlink" title="3.3 &#x4F7F;&#x7528;Mybatis&#x65F6;&#x7528;&#x5230;&#x7684;&#x7C7B;&#xFF08;&#x63A5;&#x53E3;&#xFF09;"></a>3.3 &#x4F7F;&#x7528;Mybatis&#x65F6;&#x7528;&#x5230;&#x7684;&#x7C7B;&#xFF08;&#x63A5;&#x53E3;&#xFF09;</h2><p>class Resources</p>
<p>class SqlSessionFactoryBuilder</p>
<p>interface SqlSessionFactory</p>
<p>interface SqlSession</p>
<h2 id="3-4-&#x51C6;&#x5907;&#x5DE5;&#x4F5C;"><a href="#3-4-&#x51C6;&#x5907;&#x5DE5;&#x4F5C;" class="headerlink" title="3.4 &#x51C6;&#x5907;&#x5DE5;&#x4F5C;"></a>3.4 &#x51C6;&#x5907;&#x5DE5;&#x4F5C;</h2><p>&#x5C06;&#x4E4B;&#x524D;&#x5199;&#x7684;Mybatis&#x6D4B;&#x8BD5;&#x7C7B;&#x4E2D;&#x6240;&#x9700;&#x8981;&#x7684;&#x65B9;&#x6CD5;&#x521B;&#x5EFA;&#x51FA;&#x6765;</p>
<p><img src="https://gitee.com/songjianzaina/juejin_p5/raw/master/img/c05e2197bbb40e93d72f08e2ea39c561483820f1a5f71b885b2279acca9067e4" alt>)<img src="%22%E7%82%B9%E5%87%BB%E5%B9%B6%E6%8B%96%E6%8B%BD%E4%BB%A5%E7%A7%BB%E5%8A%A8%22" alt>&#x200B;</p>
<h3 id="3-4-1-Resources-&#x7C7B;"><a href="#3-4-1-Resources-&#x7C7B;" class="headerlink" title="3.4.1 Resources &#x7C7B;"></a>3.4.1 Resources &#x7C7B;</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">java&#x590D;&#x5236;&#x4EE3;&#x7801;package mybatis.io;</span><br><span class="line"></span><br><span class="line">import java.io.InputStream;</span><br><span class="line"></span><br><span class="line">/**</span><br><span class="line"> * &#x4F7F;&#x7528;&#x7C7B;&#x52A0;&#x8F7D;&#x5668;&#x8BFB;&#x53D6;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x7684;&#x7C7B;</span><br><span class="line"> */</span><br><span class="line">public class Resources {</span><br><span class="line"></span><br><span class="line">    /**</span><br><span class="line">     * &#x6839;&#x636E;&#x4F20;&#x5165;&#x7684;&#x53C2;&#x6570;&#xFF0C;&#x83B7;&#x53D6;&#x5B57;&#x8282;&#x8F93;&#x5165;&#x6D41;</span><br><span class="line">     * @param filePath</span><br><span class="line">     * @return</span><br><span class="line">     */</span><br><span class="line">    public static InputStream getResourceAsStream(String filePath){</span><br><span class="line">        return Resources.class.getClassLoader().getResourceAsStream(filePath);</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">}</span><br></pre></td></tr></table></figure>

<p><img src="%22%E7%82%B9%E5%87%BB%E5%B9%B6%E6%8B%96%E6%8B%BD%E4%BB%A5%E7%A7%BB%E5%8A%A8%22" alt></p>
<h3 id="3-4-2-SqlSession-&#x63A5;&#x53E3;"><a href="#3-4-2-SqlSession-&#x63A5;&#x53E3;" class="headerlink" title="3.4.2 SqlSession &#x63A5;&#x53E3;"></a>3.4.2 SqlSession &#x63A5;&#x53E3;</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">java&#x590D;&#x5236;&#x4EE3;&#x7801;package mybatis.sqlsession;</span><br><span class="line"></span><br><span class="line">/**</span><br><span class="line"> * &#x81EA;&#x5B9A;&#x4E49;Mybatis&#x4E2D;&#x548C;&#x6570;&#x636E;&#x5E93;&#x4EA4;&#x4E92;&#x7684;&#x6838;&#x5FC3;&#x7C7B;</span><br><span class="line"> * &#x91CC;&#x9762;&#x53EF;&#x4EE5;&#x521B;&#x5EFA;dao&#x63A5;&#x53E3;&#x7684;&#x4EE3;&#x7406;&#x5BF9;&#x8C61;</span><br><span class="line"> */</span><br><span class="line">public interface SqlSession&lt;T&gt;  {</span><br><span class="line"></span><br><span class="line">    /**</span><br><span class="line">     * &#x5F88;&#x5177;&#x53C2;&#x6570;&#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x4EE3;&#x7406;&#x5BF9;&#x8C61;</span><br><span class="line">     * @param daoInterfaceClass dao&#x7684;&#x63A5;&#x53E3;&#x5B57;&#x8282;&#x7801;</span><br><span class="line">     * @return</span><br><span class="line">     */</span><br><span class="line">    T getMapper(Class&lt;T&gt; daoInterfaceClass);</span><br><span class="line"></span><br><span class="line">    /**</span><br><span class="line">     * &#x91CA;&#x653E;&#x8D44;&#x6E90;</span><br><span class="line">     */</span><br><span class="line">    void close();</span><br><span class="line">}</span><br></pre></td></tr></table></figure>

<p><img src="%22%E7%82%B9%E5%87%BB%E5%B9%B6%E6%8B%96%E6%8B%BD%E4%BB%A5%E7%A7%BB%E5%8A%A8%22" alt></p>
<h3 id="3-4-3-SqlSessionFactory-&#x63A5;&#x53E3;"><a href="#3-4-3-SqlSessionFactory-&#x63A5;&#x53E3;" class="headerlink" title="3.4.3 SqlSessionFactory &#x63A5;&#x53E3;"></a>3.4.3 SqlSessionFactory &#x63A5;&#x53E3;</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">java&#x590D;&#x5236;&#x4EE3;&#x7801;package mybatis.sqlsession;</span><br><span class="line"></span><br><span class="line">public interface SqlSessionFactory {</span><br><span class="line"></span><br><span class="line">    /**</span><br><span class="line">     * &#x7528;&#x4E8E;&#x6253;&#x5F00;&#x4E00;&#x4E2A;&#x65B0;SqlSession&#x5BF9;&#x8C61;</span><br><span class="line">     * @return</span><br><span class="line">     */</span><br><span class="line">    SqlSession openSession();</span><br><span class="line">}</span><br></pre></td></tr></table></figure>

<p><img src="%22%E7%82%B9%E5%87%BB%E5%B9%B6%E6%8B%96%E6%8B%BD%E4%BB%A5%E7%A7%BB%E5%8A%A8%22" alt></p>
<h3 id="3-4-4-SqlSessionFactoryBuilder-&#x7C7B;"><a href="#3-4-4-SqlSessionFactoryBuilder-&#x7C7B;" class="headerlink" title="3.4.4 SqlSessionFactoryBuilder &#x7C7B;"></a>3.4.4 SqlSessionFactoryBuilder &#x7C7B;</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">java&#x590D;&#x5236;&#x4EE3;&#x7801;package mybatis.sqlsession;</span><br><span class="line"></span><br><span class="line">import java.io.InputStream;</span><br><span class="line"></span><br><span class="line">/**</span><br><span class="line"> * &#x7528;&#x4E8E;&#x521B;&#x5EFA;SqlSessionFactory&#x5BF9;&#x8C61;</span><br><span class="line"> */</span><br><span class="line">public class SqlSessionFactoryBuilder {</span><br><span class="line"></span><br><span class="line">    public SqlSessionFactory build(InputStream in){</span><br><span class="line">        return null;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">}</span><br></pre></td></tr></table></figure>

<p><img src="%22%E7%82%B9%E5%87%BB%E5%B9%B6%E6%8B%96%E6%8B%BD%E4%BB%A5%E7%A7%BB%E5%8A%A8%22" alt></p>
<h2 id="3-5-&#x89E3;&#x6790;XML&#x7684;&#x5DE5;&#x5177;&#x7C7B;&#x4ECB;&#x7ECD;"><a href="#3-5-&#x89E3;&#x6790;XML&#x7684;&#x5DE5;&#x5177;&#x7C7B;&#x4ECB;&#x7ECD;" class="headerlink" title="3.5 &#x89E3;&#x6790;XML&#x7684;&#x5DE5;&#x5177;&#x7C7B;&#x4ECB;&#x7ECD;"></a>3.5 &#x89E3;&#x6790;XML&#x7684;&#x5DE5;&#x5177;&#x7C7B;&#x4ECB;&#x7ECD;</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br></pre></td><td class="code"><pre><span class="line">java&#x590D;&#x5236;&#x4EE3;&#x7801;package mybatis.utils;</span><br><span class="line"></span><br><span class="line">import mybatis.io.Resources;</span><br><span class="line">import mybatis.cfg.Configuration;</span><br><span class="line">import mybatis.cfg.Mapper;</span><br><span class="line">import org.dom4j.Attribute;</span><br><span class="line">import org.dom4j.Document;</span><br><span class="line">import org.dom4j.Element;</span><br><span class="line">import org.dom4j.io.SAXReader;</span><br><span class="line"></span><br><span class="line">import java.io.IOException;</span><br><span class="line">import java.io.InputStream;</span><br><span class="line">import java.lang.reflect.Method;</span><br><span class="line">import java.lang.reflect.ParameterizedType;</span><br><span class="line">import java.lang.reflect.Type;</span><br><span class="line">import java.util.HashMap;</span><br><span class="line">import java.util.List;</span><br><span class="line">import java.util.Map;</span><br><span class="line"></span><br><span class="line">/**</span><br><span class="line"> *  &#x7528;&#x4E8E;&#x89E3;&#x6790;&#x914D;&#x7F6E;&#x6587;&#x4EF6;</span><br><span class="line"> */</span><br><span class="line">public class XMLConfigBuilder {</span><br><span class="line"></span><br><span class="line">    /**</span><br><span class="line">     * &#x89E3;&#x6790;&#x4E3B;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#xFF0C;&#x628A;&#x91CC;&#x9762;&#x7684;&#x5185;&#x5BB9;&#x586B;&#x5145;&#x5230;DefaultSqlSession&#x6240;&#x9700;&#x8981;&#x7684;&#x5730;&#x65B9;</span><br><span class="line">     * &#x4F7F;&#x7528;&#x7684;&#x6280;&#x672F;&#xFF1A;</span><br><span class="line">     *      dom4j+xpath</span><br><span class="line">     */</span><br><span class="line">    public static Configuration loadConfiguration(InputStream config){</span><br><span class="line">        try{</span><br><span class="line">            //&#x5B9A;&#x4E49;&#x5C01;&#x88C5;&#x8FDE;&#x63A5;&#x4FE1;&#x606F;&#x7684;&#x914D;&#x7F6E;&#x5BF9;&#x8C61;&#xFF08;mybatis&#x7684;&#x914D;&#x7F6E;&#x5BF9;&#x8C61;&#xFF09;</span><br><span class="line">            Configuration cfg = new Configuration();</span><br><span class="line"></span><br><span class="line">            //1.&#x83B7;&#x53D6;SAXReader&#x5BF9;&#x8C61;</span><br><span class="line">            SAXReader reader = new SAXReader();</span><br><span class="line">            //2.&#x6839;&#x636E;&#x5B57;&#x8282;&#x8F93;&#x5165;&#x6D41;&#x83B7;&#x53D6;Document&#x5BF9;&#x8C61;</span><br><span class="line">            Document document = reader.read(config);</span><br><span class="line">            //3.&#x83B7;&#x53D6;&#x6839;&#x8282;&#x70B9;</span><br><span class="line">            Element root = document.getRootElement();</span><br><span class="line">            //4.&#x4F7F;&#x7528;xpath&#x4E2D;&#x9009;&#x62E9;&#x6307;&#x5B9A;&#x8282;&#x70B9;&#x7684;&#x65B9;&#x5F0F;&#xFF0C;&#x83B7;&#x53D6;&#x6240;&#x6709;property&#x8282;&#x70B9;</span><br><span class="line">            List&lt;Element&gt; propertyElements = root.selectNodes(&quot;//property&quot;);</span><br><span class="line">            //5.&#x904D;&#x5386;&#x8282;&#x70B9;</span><br><span class="line">            for(Element propertyElement : propertyElements){</span><br><span class="line">                //&#x5224;&#x65AD;&#x8282;&#x70B9;&#x662F;&#x8FDE;&#x63A5;&#x6570;&#x636E;&#x5E93;&#x7684;&#x54EA;&#x90E8;&#x5206;&#x4FE1;&#x606F;</span><br><span class="line">                //&#x53D6;&#x51FA;name&#x5C5E;&#x6027;&#x7684;&#x503C;</span><br><span class="line">                String name = propertyElement.attributeValue(&quot;name&quot;);</span><br><span class="line">                if(&quot;driver&quot;.equals(name)){</span><br><span class="line">                    //&#x8868;&#x793A;&#x9A71;&#x52A8;</span><br><span class="line">                    //&#x83B7;&#x53D6;property&#x6807;&#x7B7E;value&#x5C5E;&#x6027;&#x7684;&#x503C;</span><br><span class="line">                    String driver = propertyElement.attributeValue(&quot;value&quot;);</span><br><span class="line">                    cfg.setDriver(driver);</span><br><span class="line">                }</span><br><span class="line">                if(&quot;url&quot;.equals(name)){</span><br><span class="line">                    //&#x8868;&#x793A;&#x8FDE;&#x63A5;&#x5B57;&#x7B26;&#x4E32;</span><br><span class="line">                    //&#x83B7;&#x53D6;property&#x6807;&#x7B7E;value&#x5C5E;&#x6027;&#x7684;&#x503C;</span><br><span class="line">                    String url = propertyElement.attributeValue(&quot;value&quot;);</span><br><span class="line">                    cfg.setUrl(url);</span><br><span class="line">                }</span><br><span class="line">                if(&quot;username&quot;.equals(name)){</span><br><span class="line">                    //&#x8868;&#x793A;&#x7528;&#x6237;&#x540D;</span><br><span class="line">                    //&#x83B7;&#x53D6;property&#x6807;&#x7B7E;value&#x5C5E;&#x6027;&#x7684;&#x503C;</span><br><span class="line">                    String username = propertyElement.attributeValue(&quot;value&quot;);</span><br><span class="line">                    cfg.setUsername(username);</span><br><span class="line">                }</span><br><span class="line">                if(&quot;password&quot;.equals(name)){</span><br><span class="line">                    //&#x8868;&#x793A;&#x5BC6;&#x7801;</span><br><span class="line">                    //&#x83B7;&#x53D6;property&#x6807;&#x7B7E;value&#x5C5E;&#x6027;&#x7684;&#x503C;</span><br><span class="line">                    String password = propertyElement.attributeValue(&quot;value&quot;);</span><br><span class="line">                    cfg.setPassword(password);</span><br><span class="line">                }</span><br><span class="line">            }</span><br><span class="line">            //&#x53D6;&#x51FA;mappers&#x4E2D;&#x7684;&#x6240;&#x6709;mapper&#x6807;&#x7B7E;&#xFF0C;&#x5224;&#x65AD;&#x4ED6;&#x4EEC;&#x4F7F;&#x7528;&#x4E86;resource&#x8FD8;&#x662F;class&#x5C5E;&#x6027;</span><br><span class="line">            List&lt;Element&gt; mapperElements = root.selectNodes(&quot;//mappers/mapper&quot;);</span><br><span class="line">            //&#x904D;&#x5386;&#x96C6;&#x5408;</span><br><span class="line">            for(Element mapperElement : mapperElements){</span><br><span class="line">                //&#x5224;&#x65AD;mapperElement&#x4F7F;&#x7528;&#x7684;&#x662F;&#x54EA;&#x4E2A;&#x5C5E;&#x6027;</span><br><span class="line">                Attribute attribute = mapperElement.attribute(&quot;resource&quot;);</span><br><span class="line">                if(attribute != null){</span><br><span class="line">                    System.out.println(&quot;&#x4F7F;&#x7528;&#x7684;&#x662F;XML&quot;);</span><br><span class="line">                    //&#x8868;&#x793A;&#x6709;resource&#x5C5E;&#x6027;&#xFF0C;&#x7528;&#x7684;&#x662F;XML</span><br><span class="line">                    //&#x53D6;&#x51FA;&#x5C5E;&#x6027;&#x7684;&#x503C;</span><br><span class="line">                    String mapperPath = attribute.getValue();//&#x83B7;&#x53D6;&#x5C5E;&#x6027;&#x7684;&#x503C;&quot;dao/IUserDao.xml&quot;</span><br><span class="line">                    //&#x628A;&#x6620;&#x5C04;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x7684;&#x5185;&#x5BB9;&#x83B7;&#x53D6;&#x51FA;&#x6765;&#xFF0C;&#x5C01;&#x88C5;&#x6210;&#x4E00;&#x4E2A;map</span><br><span class="line">                    Map&lt;String,Mapper&gt; mappers = loadMapperConfiguration(mapperPath);</span><br><span class="line">                    //&#x7ED9;configuration&#x4E2D;&#x7684;mappers&#x8D4B;&#x503C;</span><br><span class="line">                    cfg.setMappers(mappers);</span><br><span class="line">                }</span><br><span class="line">            }</span><br><span class="line">            //&#x8FD4;&#x56DE;Configuration</span><br><span class="line">            return cfg;</span><br><span class="line">        }catch(Exception e){</span><br><span class="line">            throw new RuntimeException(e);</span><br><span class="line">        }finally{</span><br><span class="line">            try {</span><br><span class="line">                config.close();</span><br><span class="line">            }catch(Exception e){</span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            }</span><br><span class="line">        }</span><br><span class="line"></span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    /**</span><br><span class="line">     * &#x6839;&#x636E;&#x4F20;&#x5165;&#x7684;&#x53C2;&#x6570;&#xFF0C;&#x89E3;&#x6790;XML&#xFF0C;&#x5E76;&#x4E14;&#x5C01;&#x88C5;&#x5230;Map&#x4E2D;</span><br><span class="line">     * @param mapperPath    &#x6620;&#x5C04;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x7684;&#x4F4D;&#x7F6E;</span><br><span class="line">     * @return  map&#x4E2D;&#x5305;&#x542B;&#x4E86;&#x83B7;&#x53D6;&#x7684;&#x552F;&#x4E00;&#x6807;&#x8BC6;&#xFF08;key&#x662F;&#x7531;dao&#x7684;&#x5168;&#x9650;&#x5B9A;&#x7C7B;&#x540D;&#x548C;&#x65B9;&#x6CD5;&#x540D;&#x7EC4;&#x6210;&#xFF09;</span><br><span class="line">     *          &#x4EE5;&#x53CA;&#x6267;&#x884C;&#x6240;&#x9700;&#x7684;&#x5FC5;&#x8981;&#x4FE1;&#x606F;&#xFF08;value&#x662F;&#x4E00;&#x4E2A;Mapper&#x5BF9;&#x8C61;&#xFF0C;&#x91CC;&#x9762;&#x5B58;&#x653E;&#x7684;&#x662F;&#x6267;&#x884C;&#x7684;SQL&#x8BED;&#x53E5;&#x548C;&#x8981;&#x5C01;&#x88C5;&#x7684;&#x5B9E;&#x4F53;&#x7C7B;&#x5168;&#x9650;&#x5B9A;&#x7C7B;&#x540D;&#xFF09;</span><br><span class="line">     */</span><br><span class="line">    private static Map&lt;String,Mapper&gt; loadMapperConfiguration(String mapperPath)throws IOException {</span><br><span class="line">        InputStream in = null;</span><br><span class="line">        try{</span><br><span class="line">            //&#x5B9A;&#x4E49;&#x8FD4;&#x56DE;&#x503C;&#x5BF9;&#x8C61;</span><br><span class="line">            Map&lt;String,Mapper&gt; mappers = new HashMap&lt;String,Mapper&gt;();</span><br><span class="line">            //1.&#x6839;&#x636E;&#x8DEF;&#x5F84;&#x83B7;&#x53D6;&#x5B57;&#x8282;&#x8F93;&#x5165;&#x6D41;</span><br><span class="line">            in = Resources.getResourceAsStream(mapperPath);</span><br><span class="line">            //2.&#x6839;&#x636E;&#x5B57;&#x8282;&#x8F93;&#x5165;&#x6D41;&#x83B7;&#x53D6;Document&#x5BF9;&#x8C61;</span><br><span class="line">            SAXReader reader = new SAXReader();</span><br><span class="line">            Document document = reader.read(in);</span><br><span class="line">            //3.&#x83B7;&#x53D6;&#x6839;&#x8282;&#x70B9;</span><br><span class="line">            Element root = document.getRootElement();</span><br><span class="line">            //4.&#x83B7;&#x53D6;&#x6839;&#x8282;&#x70B9;&#x7684;namespace&#x5C5E;&#x6027;&#x53D6;&#x503C;</span><br><span class="line">            String namespace = root.attributeValue(&quot;namespace&quot;);//&#x662F;&#x7EC4;&#x6210;map&#x4E2D;key&#x7684;&#x90E8;&#x5206;</span><br><span class="line">            //5.&#x83B7;&#x53D6;&#x6240;&#x6709;&#x7684;select&#x8282;&#x70B9;</span><br><span class="line">            List&lt;Element&gt; selectElements = root.selectNodes(&quot;//select&quot;);</span><br><span class="line">            //6.&#x904D;&#x5386;select&#x8282;&#x70B9;&#x96C6;&#x5408;</span><br><span class="line">            for(Element selectElement : selectElements){</span><br><span class="line">                //&#x53D6;&#x51FA;id&#x5C5E;&#x6027;&#x7684;&#x503C;      &#x7EC4;&#x6210;map&#x4E2D;key&#x7684;&#x90E8;&#x5206;</span><br><span class="line">                String id = selectElement.attributeValue(&quot;id&quot;);</span><br><span class="line">                //&#x53D6;&#x51FA;resultType&#x5C5E;&#x6027;&#x7684;&#x503C;  &#x7EC4;&#x6210;map&#x4E2D;value&#x7684;&#x90E8;&#x5206;</span><br><span class="line">                String resultType = selectElement.attributeValue(&quot;resultType&quot;);</span><br><span class="line">                //&#x53D6;&#x51FA;&#x6587;&#x672C;&#x5185;&#x5BB9;            &#x7EC4;&#x6210;map&#x4E2D;value&#x7684;&#x90E8;&#x5206;</span><br><span class="line">                String queryString = selectElement.getText();</span><br><span class="line">                //&#x521B;&#x5EFA;Key</span><br><span class="line">                String key = namespace+&quot;.&quot;+id;</span><br><span class="line">                //&#x521B;&#x5EFA;Value</span><br><span class="line">                Mapper mapper = new Mapper();</span><br><span class="line">                mapper.setQueryString(queryString);</span><br><span class="line">                mapper.setResultType(resultType);</span><br><span class="line">                //&#x628A;key&#x548C;value&#x5B58;&#x5165;mappers&#x4E2D;</span><br><span class="line">                mappers.put(key,mapper);</span><br><span class="line">            }</span><br><span class="line">            return mappers;</span><br><span class="line">        }catch(Exception e){</span><br><span class="line">            throw new RuntimeException(e);</span><br><span class="line">        }finally{</span><br><span class="line">            in.close();</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></table></figure>

<p><img src="%22%E7%82%B9%E5%87%BB%E5%B9%B6%E6%8B%96%E6%8B%BD%E4%BB%A5%E7%A7%BB%E5%8A%A8%22" alt></p>
<p>&#x9700;&#x8981;&#x5728; pom.xml &#x4E2D;&#x5BFC;&#x5165; dom4j&#x3001;jaxen</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">xml&#x590D;&#x5236;&#x4EE3;&#x7801;&lt;dependency&gt;</span><br><span class="line">    &lt;groupId&gt;dom4j&lt;/groupId&gt;</span><br><span class="line">    &lt;artifactId&gt;dom4j&lt;/artifactId&gt;</span><br><span class="line">    &lt;version&gt;1.6.1&lt;/version&gt;</span><br><span class="line">&lt;/dependency&gt;</span><br><span class="line">&lt;dependency&gt;</span><br><span class="line">    &lt;groupId&gt;jaxen&lt;/groupId&gt;</span><br><span class="line">    &lt;artifactId&gt;jaxen&lt;/artifactId&gt;</span><br><span class="line">    &lt;version&gt;1.1.6&lt;/version&gt;</span><br><span class="line">&lt;/dependency&gt;</span><br></pre></td></tr></table></figure>

<p><img src="%22%E7%82%B9%E5%87%BB%E5%B9%B6%E6%8B%96%E6%8B%BD%E4%BB%A5%E7%A7%BB%E5%8A%A8%22" alt></p>
<h3 id="3-5-1-&#x5728;-mybatis-cfg-&#x5305;&#x4E0B;&#x521B;&#x5EFA;Configuration&#x7C7B;&#x548C;Mapper&#x7C7B;"><a href="#3-5-1-&#x5728;-mybatis-cfg-&#x5305;&#x4E0B;&#x521B;&#x5EFA;Configuration&#x7C7B;&#x548C;Mapper&#x7C7B;" class="headerlink" title="3.5.1 &#x5728; mybatis.cfg &#x5305;&#x4E0B;&#x521B;&#x5EFA;Configuration&#x7C7B;&#x548C;Mapper&#x7C7B;"></a>3.5.1 &#x5728; mybatis.cfg &#x5305;&#x4E0B;&#x521B;&#x5EFA;Configuration&#x7C7B;&#x548C;Mapper&#x7C7B;</h3><p>Configuration&#x7C7B;&#x4E2D;&#x5B58;&#x50A8;&#x4E86;&#x201D;dao.UserDao.findAll&#x201D;&#x4E0E;&#x4E00;&#x4E2A;Mapper&#x5BF9;&#x8C61;&#x7684;&#x6620;&#x5C04;</p>
<p>Mapper&#x5BF9;&#x8C61;&#x4E2D;&#x5C01;&#x88C5; &#x6267;&#x884C;&#x7684;SQL&#x8BED;&#x53E5; &#x4EE5;&#x53CA; &#x7ED3;&#x679C;&#x7C7B;&#x578B;&#x7684;&#x5168;&#x9650;&#x5B9A;&#x7C7B;&#x540D;</p>
<p>&#x7531;&#x4E8E;&#x53EF;&#x80FD;&#x6709;&#x591A;&#x6761;sql&#x8BED;&#x53E5;&#xFF0C;&#x6240;&#x4EE5;Configuration&#x4E2D;&#x7684;setMappers&#x65B9;&#x6CD5;&#x5E94;&#x8BE5;&#x4E0D;&#x65AD;&#x5730;&#x5F80;map&#x4E2D;&#x8FFD;&#x52A0;&#x6570;&#x636E;&#xFF0C;&#x800C;&#x4E0D;&#x662F;&#x66FF;&#x6362;&#xFF0C;&#x4F7F;&#x7528; putAll &#x8FFD;&#x52A0;&#x6570;&#x636E;&#x65F6;&#x5FC5;&#x987B;&#x5148;&#x628A;map new&#x51FA;&#x6765;&#xFF0C;&#x4E0D;&#x7136;&#x7A7A;&#x6307;&#x9488;&#x3002;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line">java&#x590D;&#x5236;&#x4EE3;&#x7801;package mybatis.cfg;</span><br><span class="line"></span><br><span class="line">import java.util.Map;</span><br><span class="line"></span><br><span class="line">public class Configuration {</span><br><span class="line"></span><br><span class="line">    private String driver;</span><br><span class="line">    private String url;</span><br><span class="line">    private String username;</span><br><span class="line">    private String password;</span><br><span class="line"></span><br><span class="line">   private Map&lt;String, Mapper&gt; mappers = new HashMap&lt;String, Mapper&gt;();</span><br><span class="line"></span><br><span class="line">    public String getDriver() {</span><br><span class="line">        return driver;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    public void setDriver(String driver) {</span><br><span class="line">        this.driver = driver;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    public String getUrl() {</span><br><span class="line">        return url;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    public void setUrl(String url) {</span><br><span class="line">        this.url = url;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    public String getUsername() {</span><br><span class="line">        return username;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    public void setUsername(String username) {</span><br><span class="line">        this.username = username;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    public String getPassword() {</span><br><span class="line">        return password;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    public void setPassword(String password) {</span><br><span class="line">        this.password = password;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    public Map&lt;String, Mapper&gt; getMappers() {</span><br><span class="line">        return mappers;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    public void setMappers(Map&lt;String, Mapper&gt; mappers) {</span><br><span class="line">        this.mappers.putAll(mappers);   // &#x8FFD;&#x52A0;&#x65B9;&#x5F0F;&#x6DFB;&#x52A0;&#x81F3;map</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></table></figure>

<p><img src="%22%E7%82%B9%E5%87%BB%E5%B9%B6%E6%8B%96%E6%8B%BD%E4%BB%A5%E7%A7%BB%E5%8A%A8%22" alt></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">java&#x590D;&#x5236;&#x4EE3;&#x7801;package mybatis.cfg;</span><br><span class="line"></span><br><span class="line">/**</span><br><span class="line"> * &#x7528;&#x4E8E;&#x5C01;&#x88C5; &#x6267;&#x884C;&#x7684;SQL&#x8BED;&#x53E5; &#x4EE5;&#x53CA; &#x7ED3;&#x679C;&#x7C7B;&#x578B;&#x7684;&#x5168;&#x9650;&#x5B9A;&#x7C7B;&#x540D;</span><br><span class="line"> */</span><br><span class="line">public class Mapper {</span><br><span class="line"></span><br><span class="line">    private String queryString;</span><br><span class="line">    private String resultType;  // &#x5B9E;&#x4F53;&#x7C7B;&#x5168;&#x9650;&#x5B9A;&#x7C7B;&#x540D;</span><br><span class="line"></span><br><span class="line">    public String getQuerryString() {</span><br><span class="line">        return queryString;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    public void setQueryString(String querryString) {</span><br><span class="line">        this.queryString = querryString;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    public String getResultType() {</span><br><span class="line">        return resultType;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    public void setResultType(String resultType) {</span><br><span class="line">        this.resultType = resultType;</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></table></figure>

<p><img src="%22%E7%82%B9%E5%87%BB%E5%B9%B6%E6%8B%96%E6%8B%BD%E4%BB%A5%E7%A7%BB%E5%8A%A8%22" alt></p>
<h2 id="3-6-SqlSessionFactoryBuilder-&#x7C7B;&#x7684;&#x5B9E;&#x73B0;"><a href="#3-6-SqlSessionFactoryBuilder-&#x7C7B;&#x7684;&#x5B9E;&#x73B0;" class="headerlink" title="3.6 SqlSessionFactoryBuilder &#x7C7B;&#x7684;&#x5B9E;&#x73B0;"></a>3.6 SqlSessionFactoryBuilder &#x7C7B;&#x7684;&#x5B9E;&#x73B0;</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">java&#x590D;&#x5236;&#x4EE3;&#x7801;package mybatis.sqlsession;</span><br><span class="line"></span><br><span class="line">import mybatis.cfg.Configuration;</span><br><span class="line">import mybatis.sqlsession.defaults.DefaultSqlSessionFactory;</span><br><span class="line">import mybatis.utils.XMLConfigBuilder;</span><br><span class="line"></span><br><span class="line">import java.io.InputStream;</span><br><span class="line">/**</span><br><span class="line"> * &#x7528;&#x4E8E;&#x521B;&#x5EFA;SqlSessionFactory&#x5BF9;&#x8C61;</span><br><span class="line"> */</span><br><span class="line">public class SqlSessionFactoryBuilder {</span><br><span class="line"></span><br><span class="line">    /**</span><br><span class="line">     * &#x6839;&#x636E;&#x53C2;&#x6570;&#x7684;&#x5B57;&#x8282;&#x8F93;&#x5165;&#x6D41;&#x6784;&#x5EFA;&#x4E00;&#x4E2A;SqlSessionFactory&#x5DE5;&#x5382;</span><br><span class="line">     * @param in</span><br><span class="line">     * @return</span><br><span class="line">     */</span><br><span class="line">    public SqlSessionFactory build(InputStream config){</span><br><span class="line">        Configuration cfg = XMLConfigBuilder.loadConfiguration(config);</span><br><span class="line">        return new DefaultSqlSessionFactory(cfg);</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></table></figure>

<p><img src="%22%E7%82%B9%E5%87%BB%E5%B9%B6%E6%8B%96%E6%8B%BD%E4%BB%A5%E7%A7%BB%E5%8A%A8%22" alt></p>
<p>SqlSessionFactoryBuilder &#x7C7B;&#x4E2D;&#x6709;&#x4E00;&#x4E2A; public SqlSessionFactory build(InputStream config)&#x65B9;&#x6CD5;&#xFF0C;&#x9700;&#x8981;&#x8FD4;&#x56DE;&#x4E00;&#x4E2A;SqlSessionFactory&#x7684;&#x5BF9;&#x8C61;&#x3002;</p>
<h3 id="3-6-1-SqlSessionFactory-&#x63A5;&#x53E3;&#x7684;&#x5B9E;&#x73B0;&#x7C7B;"><a href="#3-6-1-SqlSessionFactory-&#x63A5;&#x53E3;&#x7684;&#x5B9E;&#x73B0;&#x7C7B;" class="headerlink" title="3.6.1 SqlSessionFactory &#x63A5;&#x53E3;&#x7684;&#x5B9E;&#x73B0;&#x7C7B;"></a>3.6.1 SqlSessionFactory &#x63A5;&#x53E3;&#x7684;&#x5B9E;&#x73B0;&#x7C7B;</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">java&#x590D;&#x5236;&#x4EE3;&#x7801;package mybatis.sqlsession.defaults;</span><br><span class="line"></span><br><span class="line">import mybatis.cfg.Configuration;</span><br><span class="line">import mybatis.sqlsession.SqlSession;</span><br><span class="line">import mybatis.sqlsession.SqlSessionFactory;</span><br><span class="line"></span><br><span class="line">/**</span><br><span class="line"> * SqlSessionFactory &#x63A5;&#x53E3;&#x7684;&#x5B9E;&#x73B0;</span><br><span class="line"> */</span><br><span class="line">public class DefaultSqlSessionFactory implements SqlSessionFactory {</span><br><span class="line"></span><br><span class="line">    private Configuration cfg;</span><br><span class="line"></span><br><span class="line">    public DefaultSqlSessionFactory(Configuration cfg){</span><br><span class="line">        this.cfg = cfg;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    /**</span><br><span class="line">     * &#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x65B0;&#x7684;&#x64CD;&#x4F5C;&#x6570;&#x636E;&#x5E93;&#x5BF9;&#x8C61;</span><br><span class="line">     * @return</span><br><span class="line">     */</span><br><span class="line">    public SqlSession openSession() {</span><br><span class="line">        return new DefaultSqlSession(cfg);</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></table></figure>

<p><img src="%22%E7%82%B9%E5%87%BB%E5%B9%B6%E6%8B%96%E6%8B%BD%E4%BB%A5%E7%A7%BB%E5%8A%A8%22" alt></p>
<p>SqlSessionFactory &#x4E2D;&#x6709;&#x4E00;&#x4E2A; public SqlSession openSession() &#x65B9;&#x6CD5;&#xFF0C;&#x9700;&#x8981;&#x8FD4;&#x56DE;&#x4E00;&#x4E2A;SqlSession&#x7684;&#x5BF9;&#x8C61;&#x3002;</p>
<h3 id="3-6-2-SqlSession-&#x63A5;&#x53E3;&#x7684;&#x5B9E;&#x73B0;&#x7C7B;"><a href="#3-6-2-SqlSession-&#x63A5;&#x53E3;&#x7684;&#x5B9E;&#x73B0;&#x7C7B;" class="headerlink" title="3.6.2 SqlSession &#x63A5;&#x53E3;&#x7684;&#x5B9E;&#x73B0;&#x7C7B;"></a>3.6.2 SqlSession &#x63A5;&#x53E3;&#x7684;&#x5B9E;&#x73B0;&#x7C7B;</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line">java&#x590D;&#x5236;&#x4EE3;&#x7801;package mybatis.sqlsession.defaults;</span><br><span class="line"></span><br><span class="line">import mybatis.cfg.Configuration;</span><br><span class="line">import mybatis.sqlsession.SqlSession;</span><br><span class="line">import mybatis.sqlsession.proxy.MapperProxy;</span><br><span class="line">import mybatis.utils.DataSourceUtil;</span><br><span class="line"></span><br><span class="line">import javax.sql.DataSource;</span><br><span class="line">import java.lang.reflect.Proxy;</span><br><span class="line">import java.sql.Connection;</span><br><span class="line"></span><br><span class="line">public class DefaultSqlSession implements SqlSession {</span><br><span class="line"></span><br><span class="line">    private Configuration cfg;</span><br><span class="line">    private Connection connection;</span><br><span class="line"></span><br><span class="line">    public DefaultSqlSession(Configuration cfg){</span><br><span class="line">        this.cfg = cfg;</span><br><span class="line">        connection = DataSourceUtil.getConnection(cfg);</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    /**</span><br><span class="line">     * &#x521B;&#x5EFA;&#x4EE3;&#x7406;&#x5BF9;&#x8C61;</span><br><span class="line">     * @param daoInterfaceClass dao&#x7684;&#x63A5;&#x53E3;&#x5B57;&#x8282;&#x7801;</span><br><span class="line">     * @param &lt;T&gt;</span><br><span class="line">     * @return</span><br><span class="line">     */</span><br><span class="line">    public &lt;T&gt; T getMapper(Class&lt;T&gt; daoInterfaceClass) {</span><br><span class="line">        // &#x4F7F;&#x7528;&#x4EE3;&#x7406;</span><br><span class="line">        // &#x88AB;&#x4EE3;&#x7406;&#x5BF9;&#x8C61;&#x7684;&#x7C7B;&#x52A0;&#x8F7D;&#x5668;</span><br><span class="line">        // &#x76F8;&#x540C;&#x7684;&#x63A5;&#x53E3;</span><br><span class="line">        // &#x5982;&#x4F55;&#x4EE3;&#x7406;</span><br><span class="line">        return (T) Proxy.newProxyInstance(daoInterfaceClass.getClassLoader(),</span><br><span class="line">                new Class[]{daoInterfaceClass},</span><br><span class="line">                new MapperProxy(cfg.getMappers(), connection));</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    /**</span><br><span class="line">     * &#x91CA;&#x653E;&#x8D44;&#x6E90;</span><br><span class="line">     */</span><br><span class="line">    public void close() {</span><br><span class="line">        if(connection != null){</span><br><span class="line">            try{</span><br><span class="line">                connection.close();</span><br><span class="line">            }catch (Exception e){</span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            }</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></table></figure>

<p><img src="%22%E7%82%B9%E5%87%BB%E5%B9%B6%E6%8B%96%E6%8B%BD%E4%BB%A5%E7%A7%BB%E5%8A%A8%22" alt></p>
<p>DefaultSqlSession &#x4E2D;&#x4F7F;&#x7528;&#x5230;&#x7684;&#x5DE5;&#x5177;&#x7C7B; DataSourceUtil &#x4E3A;&#xFF1A;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">java&#x590D;&#x5236;&#x4EE3;&#x7801;package mybatis.utils;</span><br><span class="line"></span><br><span class="line">import mybatis.cfg.Configuration;</span><br><span class="line"></span><br><span class="line">import java.sql.Connection;</span><br><span class="line">import java.sql.DriverManager;</span><br><span class="line"></span><br><span class="line">/**</span><br><span class="line"> * &#x521B;&#x5EFA;&#x6570;&#x636E;&#x6E90;&#x7684;&#x5DE5;&#x5177;&#x7C7B;</span><br><span class="line"> */</span><br><span class="line">public class DataSourceUtil {</span><br><span class="line"></span><br><span class="line">    public static Connection getConnection(Configuration cfg){</span><br><span class="line">        try{</span><br><span class="line">            // &#x6CE8;&#x518C;&#x9A71;&#x52A8;</span><br><span class="line">            Class.forName(cfg.getDriver());</span><br><span class="line">            return DriverManager.getConnection(cfg.getUrl(), cfg.getUsername(), cfg.getPassword());</span><br><span class="line">        }catch (Exception e){</span><br><span class="line">            throw new RuntimeException(e);</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></table></figure>

<p><img src="%22%E7%82%B9%E5%87%BB%E5%B9%B6%E6%8B%96%E6%8B%BD%E4%BB%A5%E7%A7%BB%E5%8A%A8%22" alt></p>
<p>&#x8BE5;&#x7C7B;&#x7684; public T getMapper(Class daoInterfaceClass) &#x65B9;&#x6CD5;&#x901A;&#x8FC7;&#x4EE3;&#x7406;&#x6A21;&#x5F0F;&#x6765;&#x5B9E;&#x73B0;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">java&#x590D;&#x5236;&#x4EE3;&#x7801;public static Object newProxyInstance(ClassLoader loader,</span><br><span class="line">                     Class&lt;?&gt;[] interfaces,</span><br><span class="line">                     InvocationHandler h)</span><br></pre></td></tr></table></figure>

<p><img src="%22%E7%82%B9%E5%87%BB%E5%B9%B6%E6%8B%96%E6%8B%BD%E4%BB%A5%E7%A7%BB%E5%8A%A8%22" alt></p>
<p>loader: &#x7528;&#x54EA;&#x4E2A;&#x7C7B;&#x52A0;&#x8F7D;&#x5668;&#x53BB;&#x52A0;&#x8F7D;&#x4EE3;&#x7406;&#x5BF9;&#x8C61;</p>
<p>interfaces:&#x52A8;&#x6001;&#x4EE3;&#x7406;&#x7C7B;&#x9700;&#x8981;&#x5B9E;&#x73B0;&#x7684;&#x63A5;&#x53E3;</p>
<p>h:&#x52A8;&#x6001;&#x4EE3;&#x7406;&#x65B9;&#x6CD5;&#x5728;&#x6267;&#x884C;&#x65F6;&#xFF0C;&#x4F1A;&#x8C03;&#x7528;h&#x91CC;&#x9762;&#x7684;invoke&#x65B9;&#x6CD5;&#x53BB;&#x6267;&#x884C;</p>
<p>&#x9700;&#x8981;&#x5B9A;&#x4E49;&#x4E00;&#x4E2A;&#x7C7B; MapperProxy &#x6765;&#x4F5C;&#x4E3A;&#x4E0A;&#x9762;&#x7684;h&#xFF0C;&#x8BE5;&#x7C7B;&#x5FC5;&#x987B;&#x5B9E;&#x73B0; InvocationHandler &#x63A5;&#x53E3;&#xFF1A;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line">java&#x590D;&#x5236;&#x4EE3;&#x7801;package mybatis.sqlsession.proxy;</span><br><span class="line"></span><br><span class="line">import mybatis.cfg.Mapper;</span><br><span class="line">import mybatis.utils.Executor;</span><br><span class="line"></span><br><span class="line">import java.lang.reflect.InvocationHandler;</span><br><span class="line">import java.lang.reflect.Method;</span><br><span class="line">import java.sql.Connection;</span><br><span class="line">import java.util.Map;</span><br><span class="line"></span><br><span class="line">public class MapperProxy implements InvocationHandler {</span><br><span class="line"></span><br><span class="line">    // key : &#x5168;&#x9650;&#x5B9A;&#x7C7B;&#x540D; + &#x65B9;&#x6CD5;&#x540D;</span><br><span class="line">    private Map&lt;String, Mapper&gt; mappers;</span><br><span class="line">    private Connection conn;</span><br><span class="line"></span><br><span class="line">    public MapperProxy(Map&lt;String, Mapper&gt; mappers, Connection conn){</span><br><span class="line">        this.mappers = mappers;</span><br><span class="line">        this.conn = conn;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    // &#x5BF9;&#x65B9;&#x6CD5;&#x8FDB;&#x884C;&#x589E;&#x5F3A;&#xFF0C;&#x5176;&#x5B9E;&#x5C31;&#x662F;&#x8C03;&#x7528;selectList&#x65B9;&#x6CD5;</span><br><span class="line">    @Override</span><br><span class="line">    public Object invoke(Object proxy, Method method, Object[] args) throws Throwable {</span><br><span class="line">        String methodName = method.getName();</span><br><span class="line">        // &#x83B7;&#x53D6;&#x65B9;&#x6CD5;&#x6240;&#x5728;&#x7C7B;&#x7684;&#x540D;&#x79F0;</span><br><span class="line">        String className = method.getDeclaringClass().getName();</span><br><span class="line">        </span><br><span class="line">        String key = className + &quot;.&quot; + methodName;</span><br><span class="line">        Mapper mapper = mappers.get(key);</span><br><span class="line">        if (mapper == null){</span><br><span class="line">            throw new IllegalArgumentException(&quot;&#x4F20;&#x5165;&#x7684;&#x53C2;&#x6570;&#x6709;&#x8BEF;&quot;);</span><br><span class="line">        }</span><br><span class="line"></span><br><span class="line">        // &#x8C03;&#x7528;&#x5DE5;&#x5177;&#x7C7B;&#x67E5;&#x8BE2;&#x6240;&#x6709;</span><br><span class="line">        return new Executor().selectList(mapper, conn);</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></table></figure>

<p><img src="%22%E7%82%B9%E5%87%BB%E5%B9%B6%E6%8B%96%E6%8B%BD%E4%BB%A5%E7%A7%BB%E5%8A%A8%22" alt></p>
<p>MapperProxy &#x4E2D;&#x7684;&#x4F7F;&#x7528;&#x5230;&#x7684;&#x5DE5;&#x5177;&#x7C7B; Execute &#x4E3A;&#xFF08;&#x4E2D;&#x95F4;&#x5B9A;&#x4E49;&#x4E86;selectList&#x65B9;&#x6CD5;&#xFF09;&#xFF1A;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br></pre></td><td class="code"><pre><span class="line">java&#x590D;&#x5236;&#x4EE3;&#x7801;package mybatis.utils;</span><br><span class="line"></span><br><span class="line">import mybatis.cfg.Mapper;</span><br><span class="line"></span><br><span class="line">import java.beans.PropertyDescriptor;</span><br><span class="line">import java.lang.reflect.Method;</span><br><span class="line">import java.sql.Connection;</span><br><span class="line">import java.sql.PreparedStatement;</span><br><span class="line">import java.sql.ResultSet;</span><br><span class="line">import java.sql.ResultSetMetaData;</span><br><span class="line">import java.util.ArrayList;</span><br><span class="line">import java.util.List;</span><br><span class="line"></span><br><span class="line">/**</span><br><span class="line"> * &#x8D1F;&#x8D23;&#x6267;&#x884C;SQL&#x8BED;&#x53E5;&#xFF0C;&#x5E76;&#x4E14;&#x5C01;&#x88C5;&#x7ED3;&#x679C;&#x96C6;</span><br><span class="line"> */</span><br><span class="line">public class Executor {</span><br><span class="line"></span><br><span class="line">    public &lt;E&gt; List&lt;E&gt; selectList(Mapper mapper, Connection conn) {</span><br><span class="line">        PreparedStatement pstm = null;</span><br><span class="line">        ResultSet rs = null;</span><br><span class="line">        try {</span><br><span class="line">            //1.&#x53D6;&#x51FA;mapper&#x4E2D;&#x7684;&#x6570;&#x636E;</span><br><span class="line">            String queryString = mapper.getQueryString();//select * from user</span><br><span class="line">            String resultType = mapper.getResultType();//com.itheima.domain.User</span><br><span class="line">            Class domainClass = Class.forName(resultType);</span><br><span class="line">            //2.&#x83B7;&#x53D6;PreparedStatement&#x5BF9;&#x8C61;</span><br><span class="line">            pstm = conn.prepareStatement(queryString);</span><br><span class="line">            //3.&#x6267;&#x884C;SQL&#x8BED;&#x53E5;&#xFF0C;&#x83B7;&#x53D6;&#x7ED3;&#x679C;&#x96C6;</span><br><span class="line">            rs = pstm.executeQuery();</span><br><span class="line">            //4.&#x5C01;&#x88C5;&#x7ED3;&#x679C;&#x96C6;</span><br><span class="line">            List&lt;E&gt; list = new ArrayList&lt;E&gt;();//&#x5B9A;&#x4E49;&#x8FD4;&#x56DE;&#x503C;</span><br><span class="line">            while(rs.next()) {</span><br><span class="line">                //&#x5B9E;&#x4F8B;&#x5316;&#x8981;&#x5C01;&#x88C5;&#x7684;&#x5B9E;&#x4F53;&#x7C7B;&#x5BF9;&#x8C61;</span><br><span class="line">                E obj = (E)domainClass.newInstance();</span><br><span class="line"></span><br><span class="line">                //&#x53D6;&#x51FA;&#x7ED3;&#x679C;&#x96C6;&#x7684;&#x5143;&#x4FE1;&#x606F;&#xFF1A;ResultSetMetaData</span><br><span class="line">                ResultSetMetaData rsmd = rs.getMetaData();</span><br><span class="line">                //&#x53D6;&#x51FA;&#x603B;&#x5217;&#x6570;</span><br><span class="line">                int columnCount = rsmd.getColumnCount();</span><br><span class="line">                //&#x904D;&#x5386;&#x603B;&#x5217;&#x6570;</span><br><span class="line">                for (int i = 1; i &lt;= columnCount; i++) {</span><br><span class="line">                    //&#x83B7;&#x53D6;&#x6BCF;&#x5217;&#x7684;&#x540D;&#x79F0;&#xFF0C;&#x5217;&#x540D;&#x7684;&#x5E8F;&#x53F7;&#x662F;&#x4ECE;1&#x5F00;&#x59CB;&#x7684;</span><br><span class="line">                    String columnName = rsmd.getColumnName(i);</span><br><span class="line">                    //&#x6839;&#x636E;&#x5F97;&#x5230;&#x5217;&#x540D;&#xFF0C;&#x83B7;&#x53D6;&#x6BCF;&#x5217;&#x7684;&#x503C;</span><br><span class="line">                    Object columnValue = rs.getObject(columnName);</span><br><span class="line">                    //&#x7ED9;obj&#x8D4B;&#x503C;&#xFF1A;&#x4F7F;&#x7528;Java&#x5185;&#x7701;&#x673A;&#x5236;&#xFF08;&#x501F;&#x52A9;PropertyDescriptor&#x5B9E;&#x73B0;&#x5C5E;&#x6027;&#x7684;&#x5C01;&#x88C5;&#xFF09;</span><br><span class="line">                    PropertyDescriptor pd = new PropertyDescriptor(columnName,domainClass);//&#x8981;&#x6C42;&#xFF1A;&#x5B9E;&#x4F53;&#x7C7B;&#x7684;&#x5C5E;&#x6027;&#x548C;&#x6570;&#x636E;&#x5E93;&#x8868;&#x7684;&#x5217;&#x540D;&#x4FDD;&#x6301;&#x4E00;&#x79CD;</span><br><span class="line">                    //&#x83B7;&#x53D6;&#x5B83;&#x7684;&#x5199;&#x5165;&#x65B9;&#x6CD5;</span><br><span class="line">                    Method writeMethod = pd.getWriteMethod();</span><br><span class="line">                    //&#x628A;&#x83B7;&#x53D6;&#x7684;&#x5217;&#x7684;&#x503C;&#xFF0C;&#x7ED9;&#x5BF9;&#x8C61;&#x8D4B;&#x503C;</span><br><span class="line">                    writeMethod.invoke(obj,columnValue);</span><br><span class="line">                }</span><br><span class="line">                //&#x628A;&#x8D4B;&#x597D;&#x503C;&#x7684;&#x5BF9;&#x8C61;&#x52A0;&#x5165;&#x5230;&#x96C6;&#x5408;&#x4E2D;</span><br><span class="line">                list.add(obj);</span><br><span class="line">            }</span><br><span class="line">            return list;</span><br><span class="line">        } catch (Exception e) {</span><br><span class="line">            throw new RuntimeException(e);</span><br><span class="line">        } finally {</span><br><span class="line">            release(pstm,rs);</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    private void release(PreparedStatement pstm,ResultSet rs){</span><br><span class="line">        if(rs != null){</span><br><span class="line">            try {</span><br><span class="line">                rs.close();</span><br><span class="line">            }catch(Exception e){</span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            }</span><br><span class="line">        }</span><br><span class="line"></span><br><span class="line">        if(pstm != null){</span><br><span class="line">            try {</span><br><span class="line">                pstm.close();</span><br><span class="line">            }catch(Exception e){</span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            }</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></table></figure>

<p><img src="%22%E7%82%B9%E5%87%BB%E5%B9%B6%E6%8B%96%E6%8B%BD%E4%BB%A5%E7%A7%BB%E5%8A%A8%22" alt></p>
<h2 id="3-7-&#x57FA;&#x4E8E;&#x6CE8;&#x89E3;&#x7684;&#x67E5;&#x8BE2;&#x6240;&#x6709;"><a href="#3-7-&#x57FA;&#x4E8E;&#x6CE8;&#x89E3;&#x7684;&#x67E5;&#x8BE2;&#x6240;&#x6709;" class="headerlink" title="3.7 &#x57FA;&#x4E8E;&#x6CE8;&#x89E3;&#x7684;&#x67E5;&#x8BE2;&#x6240;&#x6709;"></a>3.7 &#x57FA;&#x4E8E;&#x6CE8;&#x89E3;&#x7684;&#x67E5;&#x8BE2;&#x6240;&#x6709;</h2><p> &#x4FEE;&#x6539; <strong>resources.SqlMapConfig.xml</strong> &#x4E2D;&#x7684;&#x8BED;&#x6CD5;&#x4E3A;&#x6CE8;&#x89E3;&#x76F8;&#x5E94;&#x7684;&#x5F62;&#x5F0F;&#xFF1A;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">xml&#x590D;&#x5236;&#x4EE3;&#x7801;&lt;mappers&gt;</span><br><span class="line">        &lt;mapper class=&quot;dao.UserDao&quot; /&gt;</span><br><span class="line">&lt;/mappers&gt;</span><br></pre></td></tr></table></figure>

<p><img src="%22%E7%82%B9%E5%87%BB%E5%B9%B6%E6%8B%96%E6%8B%BD%E4%BB%A5%E7%A7%BB%E5%8A%A8%22" alt></p>
<p>&#x7ED9; <strong>dao.UserDao</strong> &#x6DFB;&#x52A0;&#x6CE8;&#x89E3;&#xFF1A;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">java&#x590D;&#x5236;&#x4EE3;&#x7801;@Select(&quot;select * from user&quot;)</span><br><span class="line">List&lt;User&gt; findAll();</span><br></pre></td></tr></table></figure>

<p><img src="%22%E7%82%B9%E5%87%BB%E5%B9%B6%E6%8B%96%E6%8B%BD%E4%BB%A5%E7%A7%BB%E5%8A%A8%22" alt></p>
<p>&#x65B0;&#x5EFA;&#x4E00;&#x4E2A; <strong>mybatis.annotations.Select</strong> &#x6CE8;&#x89E3;&#xFF1A;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">java&#x590D;&#x5236;&#x4EE3;&#x7801;package mybatis.annotations;</span><br><span class="line"></span><br><span class="line">import java.lang.annotation.ElementType;</span><br><span class="line">import java.lang.annotation.Retention;</span><br><span class="line">import java.lang.annotation.RetentionPolicy;</span><br><span class="line">import java.lang.annotation.Target;</span><br><span class="line"></span><br><span class="line">@Retention(RetentionPolicy.RUNTIME)</span><br><span class="line">@Target(ElementType.METHOD)</span><br><span class="line">public @interface Select {</span><br><span class="line">    /**</span><br><span class="line">     * &#x914D;&#x7F6E;sql&#x8BED;&#x53E5;</span><br><span class="line">     */</span><br><span class="line">    String value();</span><br><span class="line">}</span><br></pre></td></tr></table></figure>

<p><img src="%22%E7%82%B9%E5%87%BB%E5%B9%B6%E6%8B%96%E6%8B%BD%E4%BB%A5%E7%A7%BB%E5%8A%A8%22" alt></p>
<p>&#x5728; <strong>utils.XMLConfigBuilder</strong> &#x4E2D;&#x6DFB;&#x52A0;&#x6839;&#x636E;&#x4F20;&#x5165;&#x7684;&#x53C2;&#x6570;&#xFF0C;&#x5F97;&#x5230;dao&#x4E2D;&#x6240;&#x6709;&#x88AB;select&#x6CE8;&#x89E3;&#x6807;&#x6CE8;&#x7684;&#x65B9;&#x6CD5;&#xFF1A;</p>
<p>&#x57FA;&#x4E8E;&#x53CD;&#x5C04;&#x7684;&#x539F;&#x7406;&#xFF0C;&#x4F20;&#x5165;&#x4E00;&#x4E2A;&#x5168;&#x9650;&#x5B9A;&#x7C7B;&#x540D;&#xFF0C;&#x518D;&#x901A;&#x8FC7;&#x8FD9;&#x4E2A;&#x7C7B;&#x540D;&#x83B7;&#x53D6;&#x5B57;&#x8282;&#x7801;&#x5BF9;&#x8C61;&#x3001;&#x65B9;&#x6CD5;&#xFF0C;&#x5C06;&#x5E26;&#x6709;&#x6CE8;&#x89E3;&#x7684;&#x65B9;&#x6CD5;&#x7684;&#x76F8;&#x5173;&#x4FE1;&#x606F;&#x52A0;&#x5165;&#x5230;Mapper&#x5BF9;&#x8C61;&#x4E2D;&#x3002;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line">java&#x590D;&#x5236;&#x4EE3;&#x7801;/**</span><br><span class="line"> * &#x6839;&#x636E;&#x4F20;&#x5165;&#x7684;&#x53C2;&#x6570;&#xFF0C;&#x5F97;&#x5230;dao&#x4E2D;&#x6240;&#x6709;&#x88AB;select&#x6CE8;&#x89E3;&#x6807;&#x6CE8;&#x7684;&#x65B9;&#x6CD5;&#x3002;</span><br><span class="line"> * &#x6839;&#x636E;&#x65B9;&#x6CD5;&#x540D;&#x79F0;&#x548C;&#x7C7B;&#x540D;&#xFF0C;&#x4EE5;&#x53CA;&#x65B9;&#x6CD5;&#x4E0A;&#x6CE8;&#x89E3;value&#x5C5E;&#x6027;&#x7684;&#x503C;&#xFF0C;&#x7EC4;&#x6210;Mapper&#x7684;&#x5FC5;&#x8981;&#x4FE1;&#x606F;</span><br><span class="line"> * @param daoClassPath</span><br><span class="line"> * @return</span><br><span class="line"> */</span><br><span class="line">private static Map&lt;String,Mapper&gt; loadMapperAnnotation(String daoClassPath)throws Exception{</span><br><span class="line">    //&#x5B9A;&#x4E49;&#x8FD4;&#x56DE;&#x503C;&#x5BF9;&#x8C61;</span><br><span class="line">    Map&lt;String,Mapper&gt; mappers = new HashMap&lt;String, Mapper&gt;();</span><br><span class="line"></span><br><span class="line">    //1.&#x5F97;&#x5230;dao&#x63A5;&#x53E3;&#x7684;&#x5B57;&#x8282;&#x7801;&#x5BF9;&#x8C61;</span><br><span class="line">    Class daoClass = Class.forName(daoClassPath);</span><br><span class="line">    //2.&#x5F97;&#x5230;dao&#x63A5;&#x53E3;&#x4E2D;&#x7684;&#x65B9;&#x6CD5;&#x6570;&#x7EC4;</span><br><span class="line">    Method[] methods = daoClass.getMethods();</span><br><span class="line">    //3.&#x904D;&#x5386;Method&#x6570;&#x7EC4;</span><br><span class="line">    for(Method method : methods){</span><br><span class="line">        //&#x53D6;&#x51FA;&#x6BCF;&#x4E00;&#x4E2A;&#x65B9;&#x6CD5;&#xFF0C;&#x5224;&#x65AD;&#x662F;&#x5426;&#x6709;select&#x6CE8;&#x89E3;</span><br><span class="line">        boolean isAnnotated = method.isAnnotationPresent(Select.class);</span><br><span class="line">        if(isAnnotated){</span><br><span class="line">            //&#x521B;&#x5EFA;Mapper&#x5BF9;&#x8C61;</span><br><span class="line">            Mapper mapper = new Mapper();</span><br><span class="line">            //&#x53D6;&#x51FA;&#x6CE8;&#x89E3;&#x7684;value&#x5C5E;&#x6027;&#x503C;</span><br><span class="line">            Select selectAnno = method.getAnnotation(Select.class);</span><br><span class="line">            String queryString = selectAnno.value();</span><br><span class="line">            mapper.setQueryString(queryString);</span><br><span class="line">            //&#x83B7;&#x53D6;&#x5F53;&#x524D;&#x65B9;&#x6CD5;&#x7684;&#x8FD4;&#x56DE;&#x503C;&#xFF0C;&#x8FD8;&#x8981;&#x6C42;&#x5FC5;&#x987B;&#x5E26;&#x6709;&#x6CDB;&#x578B;&#x4FE1;&#x606F;</span><br><span class="line">            Type type = method.getGenericReturnType();//List&lt;User&gt;</span><br><span class="line">            //&#x5224;&#x65AD;type&#x662F;&#x4E0D;&#x662F;&#x53C2;&#x6570;&#x5316;&#x7684;&#x7C7B;&#x578B;</span><br><span class="line">            if(type instanceof ParameterizedType){</span><br><span class="line">                //&#x5F3A;&#x8F6C;</span><br><span class="line">                ParameterizedType ptype = (ParameterizedType)type;</span><br><span class="line">                //&#x5F97;&#x5230;&#x53C2;&#x6570;&#x5316;&#x7C7B;&#x578B;&#x4E2D;&#x7684;&#x5B9E;&#x9645;&#x7C7B;&#x578B;&#x53C2;&#x6570;</span><br><span class="line">                Type[] types = ptype.getActualTypeArguments();</span><br><span class="line">                //&#x53D6;&#x51FA;&#x7B2C;&#x4E00;&#x4E2A;</span><br><span class="line">                Class domainClass = (Class)types[0];</span><br><span class="line">                //&#x83B7;&#x53D6;domainClass&#x7684;&#x7C7B;&#x540D;</span><br><span class="line">                String resultType = domainClass.getName();</span><br><span class="line">                //&#x7ED9;Mapper&#x8D4B;&#x503C;</span><br><span class="line">                mapper.setResultType(resultType);</span><br><span class="line">            }</span><br><span class="line">            //&#x7EC4;&#x88C5;key&#x7684;&#x4FE1;&#x606F;</span><br><span class="line">            //&#x83B7;&#x53D6;&#x65B9;&#x6CD5;&#x7684;&#x540D;&#x79F0;</span><br><span class="line">            String methodName = method.getName();</span><br><span class="line">            String className = method.getDeclaringClass().getName();</span><br><span class="line">            String key = className+&quot;.&quot;+methodName;</span><br><span class="line">            //&#x7ED9;map&#x8D4B;&#x503C;</span><br><span class="line">            mappers.put(key,mapper);</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">    return mappers;</span><br><span class="line">}</span><br></pre></td></tr></table></figure>

<p><img src="%22%E7%82%B9%E5%87%BB%E5%B9%B6%E6%8B%96%E6%8B%BD%E4%BB%A5%E7%A7%BB%E5%8A%A8%22" alt></p>
<p> &#x6B64;&#x65F6;&#x8FD0;&#x884C;test&#x7A0B;&#x5E8F;&#x5373;&#x53EF;&#x770B;&#x5230;&#x67E5;&#x8BE2;&#x6570;&#x636E;&#x5E93;&#x7684;&#x7ED3;&#x679C;&#x3002;</p>
<p>&#x200B;</p>
<p><strong>&#x672C;&#x6587;&#x8F6C;&#x8F7D;&#x81EA;:</strong> <a href="/external_links/bd83ff0196638efad12b80ad88beacf0.html" target="blank" rel="noopener">&#x6398;&#x91D1;</a></p>
<p><em><a href="https://dev.newban.cn/">&#x5F00;&#x53D1;&#x8005;&#x535A;&#x5BA2; &#x2013; &#x548C;&#x5F00;&#x53D1;&#x76F8;&#x5173;&#x7684; &#x8FD9;&#x91CC;&#x5168;&#x90FD;&#x6709;</a></em></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://dev.newban.cn../../7036181550911717384.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="开发者博客">
      <meta itemprop="description" content>
      <meta itemprop="image" content="../../images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="开发者博客 – IT技术 尽在开发者博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="../../7036181550911717384.html" itemprop="url">会话怎么可以少了session和cookie</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2021-11-30T10:18:57+08:00">
                2021-11-30
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>&#x200B;</p>
<blockquote>
<p>&#x78CA;&#x54E5;&#x6700;&#x8FD1;&#x5E94;&#x8BE5;&#x662F;&#x53BB;&#x5357;&#x65B9;&#x73A9;&#x800D;&#x4E86;&#xFF0C;&#x5E94;&#x8BE5;&#x662F;&#x5728;&#x62BD;&#x7A7A;&#x4E4B;&#x4E2D;&#x53D1;&#x6765;&#x8FD9;&#x6837;&#x4E00;&#x7BC7;&#x5C0F;&#x4F5C;&#x6587;&#xFF1A;</p>
<p>&#x201C;&#x5357;&#x65B9;&#x7684;&#x6751;&#x843D;&#x623F;&#x5C4B;&#x662F;&#x4E2A;&#x6027;&#x7684;&#x3002;&#x6751;&#x6C11;&#x4EEC;&#x50CF;&#x662F;&#x5546;&#x91CF;&#x597D;&#x7684;&#x4F3C;&#x7684;&#xFF0C;&#x4F60;&#x7528;&#x5927;&#x7EA2;&#xFF0C;&#x6211;&#x5C31;&#x7D2B;&#x7EA2;&#xFF0C;&#x4E00;&#x65F6;&#x95F4;&#x5404;&#x79CD;&#x5404;&#x6837;&#x7684;&#x7EA2;&#x8272;&#x6251;&#x8FDB;&#x773C;&#x5E18;&#xFF0C;&#x8BA9;&#x4EBA;&#x53EB;&#x4E0D;&#x51FA;&#x989C;&#x8272;&#xFF0C;&#x4EBA;&#x4EEC;&#x5374;&#x53C8;&#x5B9E;&#x5728;&#x5730;&#x611F;&#x53D7;&#x7740;&#x5DE8;&#x5927;&#x7684;&#x5DEE;&#x5F02;&#x3002;&#x7EA2;&#x8272;&#x53EA;&#x662F;&#x4E00;&#x4E2A;&#x6253;&#x5E95;&#x8272;&#xFF0C;&#x9752;&#x84DD;&#x9EC4;&#x975B;&#x7D2B;&#x4E00;&#x80A1;&#x8111;&#x7684;&#x6CFC;&#x6D12;&#x5176;&#x95F4;&#xFF0C;&#x4EFF;&#x4F5B;&#x4E00;&#x4E2A;&#x6F6E;&#x6D41;&#x5F20;&#x72C2;&#x7684;&#x90FD;&#x5E02;&#x5973;&#x5B69;&#xFF0C;&#x5927;&#x80C6;&#x800C;&#x53C8;&#x5BCC;&#x6709;&#x9B45;&#x529B;&#x3002;&#x5317;&#x65B9;&#x7684;&#x6751;&#x843D;&#x623F;&#x5C4B;&#x662F;&#x6574;&#x9F50;&#x5212;&#x4E00;&#x7684;&#x3002;&#x6BCF;&#x5BB6;&#x6BCF;&#x6237;&#x76D6;&#x623F;&#x5B50;&#x524D;&#x90FD;&#x4F1A;&#x8BA4;&#x771F;&#x5730;&#x53C2;&#x8003;&#x90BB;&#x5C45;&#x7684;&#x98CE;&#x683C;&#xFF0C;&#x4ED6;&#x4EEC;&#x8BA4;&#x4E3A;&#x7EDF;&#x4E00;&#x662F;&#x4E00;&#x79CD;&#x8C10;&#x548C;&#x7684;&#x7F8E;&#x4E3D;&#x3002;&#x770B;&#x7740;&#x6574;&#x7247;&#x6574;&#x7247;&#x7684;&#x7EA2;&#x7816;&#x74E6;&#x623F;&#xFF0C;&#x5C31;&#x8BA9;&#x4EBA;&#x4E0D;&#x7981;&#x60F3;&#x5230;&#x5927;&#x9605;&#x5175;&#x7684;&#x65B9;&#x9635;&#xFF0C;&#x6A2A;&#x6210;&#x6392;&#xFF0C;&#x7AD6;&#x6210;&#x7EB5;&#xFF0C;&#x52A8;&#x4F5C;&#x5212;&#x4E00;&#xFF0C;&#x5373;&#x4F7F;&#x4E0D;&#x4F1A;&#x5BA1;&#x7F8E;&#x7684;&#x4EBA;&#x4E5F;&#x4ECE;&#x5FC3;&#x5E95;&#x6CB9;&#x7136;&#x800C;&#x751F;&#x4E00;&#x79CD;&#x8D5E;&#x53F9;&#x3002;&#x201D;</p>
<p>&#x521D;&#x8BFB;&#x4E00;&#x4E0B;&#xFF0C;&#x611F;&#x89C9;&#x548C;&#x770B;&#x8FC7;&#x7684;&#x67D0;&#x4F4D;&#x4F5C;&#x5BB6;&#x7684;&#x98CE;&#x683C;&#x5F88;&#x50CF;&#xFF0C;&#x9887;&#x5177;&#x7EC6;&#x5FC3;&#x89C2;&#x5BDF;&#x751F;&#x6D3B;&#x4E4B;&#x667A;&#x6167;&#xFF0C;&#x8BA9;&#x6211;&#x5FCD;&#x4E0D;&#x4F4F;&#x5F15;&#x7528;&#x8FC7;&#x6765;&#x3002;&#x5176;&#x5B9E;&#x78CA;&#x54E5;&#x7684;&#x601D;&#x7EF4;&#x4E00;&#x76F4;&#x662F;&#x6211;&#x5F88;&#x7FA1;&#x6155;&#x5374;&#x53C8;&#x65E0;&#x6CD5;&#x6A21;&#x4EFF;&#x7684;&#x70B9;&#xFF0C;&#x5BF9;&#x95EE;&#x9898;&#x7684;&#x7406;&#x89E3;&#x7CBE;&#x51C6;&#xFF0C;&#x8BB2;&#x8BDD;&#x5E7D;&#x9ED8;&#x800C;&#x4E0D;&#x4E4F;&#x6DF1;&#x5EA6;&#xFF0C;&#x6709;&#x4E36;&#x7C7B;&#x4F3C;&#x4E8E;&#x6893;&#x6CC9;&#x7684;&#x98CE;&#x683C;&#xFF0C;&#x5389;&#x5BB3;&#x3002;</p>
</blockquote>
<p>&#x8BF4;&#x56DE;&#x6B63;&#x6587;&#x3002;</p>
<p>&#x6709;&#x5929;&#x9633;&#x5149;&#x660E;&#x5A9A;&#xFF0C;&#x4F60;&#x6B63;&#x5728;&#x67D0;&#x8D2D;&#x7269;&#x7F51;&#x5F00;&#x5F00;&#x5FC3;&#x5FC3;&#x7684;&#x6311;&#x9009;&#x5546;&#x54C1;&#x51D1;&#x5355;&#xFF0C;&#x7EC8;&#x4E8E;&#x9009;&#x5230;&#x4E86;&#x81EA;&#x5DF1;&#x949F;&#x7231;&#x7684;&#x7269;&#x4EF6;&#x51D1;&#x591F;&#x4E86;9999.999&#x5143;&#xFF0C;&#x800C;&#x8BE5;&#x7F51;&#x7AD9;&#x4E0A;&#x6B63;&#x597D;&#x6709;&#x6070;&#x597D;&#x4E70;&#x5230;&#x8FD9;&#x4E2A;&#x6570;&#x5B57;&#x5C31;&#x51CF;&#x53BB;9999&#x5143;&#x7684;&#x8D85;&#x7EA7;&#x6D3B;&#x52A8;&#xFF01;&#x4E8E;&#x662F;&#x4F60;&#x6B23;&#x6B23;&#x7136;&#x6253;&#x5F00;&#x8D2D;&#x7269;&#x8F66;&#xFF0C;&#x53D1;&#x73B0;</p>
<p><img src="https://gitee.com/songjianzaina/juejin_p5/raw/master/img/70ba6990caa5bb2d7bda4a2921bd7e56216739a1f6fa943a8b2a2fe2cc3c72c8" alt>)<img src="%22%E7%82%B9%E5%87%BB%E5%B9%B6%E6%8B%96%E6%8B%BD%E4%BB%A5%E7%A7%BB%E5%8A%A8%22" alt>&#x200B;</p>
<p><img src="https://gitee.com/songjianzaina/juejin_p5/raw/master/img/a9163c7956dab752502b486dcdad414ad73dd696c9e0976e2f12e01db9b942ea" alt>)<img src="%22%E7%82%B9%E5%87%BB%E5%B9%B6%E6%8B%96%E6%8B%BD%E4%BB%A5%E7%A7%BB%E5%8A%A8%22" alt>&#x200B;</p>
<p>&#x53EA;&#x597D;&#x6012;&#x5220;&#x8F6F;&#x4EF6;&#xFF0C;<del>&#x4E16;&#x754C;&#x518D;&#x89C1;</del>&#x3002;&#x5E78;&#x597D;&#x8FD9;&#x786E;&#x5B9E;&#x53EA;&#x662F;&#x4E00;&#x573A;&#x68A6;&#xFF0C;&#x9192;&#x6765;&#x4EE5;&#x540E;&#x9664;&#x53BB;&#x611F;&#x52A8;&#x4E0D;&#x8BF4;&#xFF0C;&#x4F60;&#x53D1;&#x73B0;&#x4F1A;&#x8BDD;&#x600E;&#x4E48;&#x53EF;&#x4EE5;&#x5C11;&#x4E86;&#x5C0F;&#x997C;&#x5E72;&#x548C;&#x4E3B;&#x83DC;&#xFF01;&#x626F;&#x8FDC;&#x4E86;&#x53C8;&#x3002;&#x3002;&#x3002;&#x4ECA;&#x5929;&#x5C31;&#x7B80;&#x5355;&#x8C08;&#x4E00;&#x8C08;&#x8BBF;&#x95EE;web&#x65F6;&#x7684;cookie&#x4E0E;session&#x673A;&#x5236;&#x3002;</p>
<h2 id="1-cookie"><a href="#1-cookie" class="headerlink" title="1 cookie"></a>1 cookie</h2><p><img src="https://gitee.com/songjianzaina/juejin_p5/raw/master/img/be3dd86fdacb35bbbb0882205043430eed2a9c7043e1b3ddf4aded6df870ad00" alt>)<img src="%22%E7%82%B9%E5%87%BB%E5%B9%B6%E6%8B%96%E6%8B%BD%E4%BB%A5%E7%A7%BB%E5%8A%A8%22" alt>&#x200B;</p>
<p>&#x4F17;&#x6240;&#x5468;&#x77E5;&#xFF0C;Web&#x5E94;&#x7528;&#x662F;&#x4F7F;&#x7528;&#x5927;&#x540D;&#x9F0E;&#x9F0E;&#x7684;HTTP&#x534F;&#x8BAE;&#x4F20;&#x8F93;&#x6570;&#x636E;&#x7684;&#x3002;HTTP&#x534F;&#x8BAE;&#x662F;&#x65E0;&#x72B6;&#x6001;&#x7684;&#x534F;&#x8BAE;&#xFF0C;&#x610F;&#x5473;&#x7740;&#x4E00;&#x65E6;&#x6570;&#x636E;&#x4EA4;&#x6362;&#x5B8C;&#x6BD5;&#xFF0C;&#x5BA2;&#x6237;&#x7AEF;&#x4E0E;&#x670D;&#x52A1;&#x5668;&#x7AEF;&#x7684;&#x8FDE;&#x63A5;&#x5C31;&#x4F1A;&#x5173;&#x95ED;&#xFF0C;&#x518D;&#x6B21;&#x4EA4;&#x6362;&#x6570;&#x636E;&#x9700;&#x8981;&#x5EFA;&#x7ACB;&#x65B0;&#x7684;&#x8FDE;&#x63A5;&#xFF0C;&#x5982;&#x679C;&#x4E0D;&#x91C7;&#x53D6;&#x4E00;&#x4E9B;&#x63AA;&#x65BD;&#x7684;&#x8BDD;&#xFF0C;&#x670D;&#x52A1;&#x5668;&#x5C06;&#x65E0;&#x6CD5;&#x4ECE;&#x8FDE;&#x63A5;&#x4E0A;&#x8DDF;&#x8E2A;&#x4F1A;&#x8BDD;&#xFF08;&#x4F60;&#x8F9B;&#x8F9B;&#x82E6;&#x82E6;&#x51D1;&#x7684;&#x5355;&#xFF0C;&#x8BF4;&#x4E0D;&#x5B9A;&#x5C31;&#x8EBA;&#x5728;&#x4E86;&#x522B;&#x4EBA;&#x7684;&#x8D2D;&#x7269;&#x8F66;&#x91CC;&#xFF09;&#x3002;cookie&#x5C31;&#x662F;&#x8FD9;&#x6837;&#x7684;&#x4E00;&#x79CD;&#x63AA;&#x65BD;&#xFF0C;&#x5C06;&#x6570;&#x636E;&#x4FDD;&#x5B58;&#x5230;&#x5BA2;&#x6237;&#x7AEF;&#x3002;&#x62BD;&#x8C61;&#x4E00;&#x70B9;&#xFF0C;cookie&#x53EF;&#x4EE5;&#x770B;&#x4F5C;&#x662F;&#x670D;&#x52A1;&#x5668;&#x53D1;&#x7ED9;&#x6BCF;&#x4E00;&#x4E2A;&#x5BA2;&#x6237;&#x7684;&#x901A;&#x884C;&#x8BC1;&#xFF0C;&#x4E0A;&#x9762;&#x8BB0;&#x5F55;&#x4E86;&#x4F60;&#x7684;&#x4E00;&#x4E9B;&#x4E2A;&#x4EBA;&#x4FE1;&#x606F;&#xFF0C;&#x4E8E;&#x662F;&#x4F60;&#x53BB;&#x6D4F;&#x89C8;&#x7F51;&#x9875;&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x7F51;&#x7EBF;&#x7684;&#x53E6;&#x4E00;&#x5934;&#x5C31;&#x53EF;&#x4EE5;&#x6839;&#x636E;&#x4F60;&#x7684;&#x901A;&#x884C;&#x8BC1;&#x77E5;&#x9053;&#x4F60;&#x662F;&#x8C01;&#x4E86;&#xFF08;&#x7A81;&#x7136;&#x5BB3;&#x6015;&#xFF09;&#x3002;</p>
<p>&#x4E13;&#x4E1A;&#x4E00;&#x70B9;&#x7684;&#x89E3;&#x91CA;&#x5982;&#x56FE;&#xFF1A;</p>
<p><img src="https://gitee.com/songjianzaina/juejin_p5/raw/master/img/01dfc6383e34e853f26d93af404a676ba99e0f172c1ec10ed797f85f5c0805a7" alt>)<img src="%22%E7%82%B9%E5%87%BB%E5%B9%B6%E6%8B%96%E6%8B%BD%E4%BB%A5%E7%A7%BB%E5%8A%A8%22" alt>&#x200B;</p>
<p>&#x670D;&#x52A1;&#x5668;&#x4E0A;&#x90E8;&#x7F72;&#x4E86;&#x4E24;&#x4E2A;Servlet&#x7A0B;&#x5E8F;CookieDemo1.java&#x548C;CookieDemo2.java&#xFF0C;&#x59D1;&#x4E14;&#x7B80;&#x79F0;&#x4E3A;CD1&#x548C;CD2&#x5427;&#xFF0C;CD1&#x7A0B;&#x5E8F;&#x4E2D;&#x6709;&#x53D1;&#x9001;cookie&#x7684;&#x4EE3;&#x7801;&#xFF0C;CD2&#x7A0B;&#x5E8F;&#x4E2D;&#x6709;&#x83B7;&#x53D6;cookie&#x7684;&#x4EE3;&#x7801;&#xFF0C;&#x5F53;&#x4F60;&#x6253;&#x5F00;&#x6D4F;&#x89C8;&#x5668;&#x8BBF;&#x95EE;CD1&#x4E4B;&#x540E;&#xFF0C;&#x670D;&#x52A1;&#x5668;&#x5C31;&#x4F1A;&#x5C06;&#x54CD;&#x5E94;&#x5934;&#x4E2D;set-cookie&#x5B57;&#x6BB5;&#x901A;&#x8FC7;&#x952E;&#x503C;&#x5BF9;&#x7684;&#x5F62;&#x5F0F;&#x8FDB;&#x884C;&#x8BBE;&#x7F6E;&#xFF0C;&#x518D;&#x6B21;&#x5728;&#x6D4F;&#x89C8;&#x5668;&#x4E2D;&#x8BBF;&#x95EE;CD2&#x65F6;&#xFF0C;&#x8BF7;&#x6C42;&#x5934;&#x4E2D;cookie&#x5B57;&#x6BB5;&#x5C31;&#x4F1A;&#x5305;&#x542B;&#x521A;&#x521A;&#x8BBE;&#x7F6E;&#x7684;cookie&#x4FE1;&#x606F;&#xFF08;&#x5B9E;&#x9645;&#x4E0A;&#xFF0C;&#x4E0D;&#x7BA1;&#x4F60;&#x662F;&#x5426;&#x6709;&#x83B7;&#x53D6;cookie&#x7684;&#x4EE3;&#x7801;&#xFF0C;&#x8FD9;&#x91CC;&#x7684;&#x8BF7;&#x6C42;&#x5934;&#x4E2D;&#x90FD;&#x5305;&#x542B;&#x8FD9;&#x4E00;&#x4FE1;&#x606F;&#xFF09;&#xFF0C;&#x4E8E;&#x662F;&#x4E4E;&#x670D;&#x52A1;&#x5668;&#x5C31;&#x53EF;&#x4EE5;&#x77E5;&#x9053;&#x4F60;&#x7A76;&#x7ADF;&#x662F;&#x54EA;&#x4E00;&#x4F4D;&#x5C0F;&#x670B;&#x53CB;&#x4E86;~</p>
<p>Java&#x4E2D;&#x64CD;&#x4F5C;cookie&#x5F88;&#x65B9;&#x4FBF;&#xFF0C;&#x4E3B;&#x8981;&#x6709;&#x4EE5;&#x4E0B;3&#x4E2A;&#x65B9;&#x6CD5;&#xFF0C;&#x4E86;&#x89E3;java&#x8BED;&#x6CD5;&#x7684;&#x5C0F;&#x670B;&#x53CB;&#x9760;&#x731C;&#x90FD;&#x80FD;&#x77E5;&#x9053;&#xFF1A;</p>
<ul>
<li>&#x521B;&#x5EFA;cookie</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">arduino&#x590D;&#x5236;&#x4EE3;&#x7801;new Cookie(String name, String value)</span><br></pre></td></tr></table></figure>

<p><img src="%22%E7%82%B9%E5%87%BB%E5%B9%B6%E6%8B%96%E6%8B%BD%E4%BB%A5%E7%A7%BB%E5%8A%A8%22" alt></p>
<ul>
<li>&#x53D1;&#x9001;cookie</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">scss&#x590D;&#x5236;&#x4EE3;&#x7801;response.addCookie(Cookie cookie)</span><br></pre></td></tr></table></figure>

<p><img src="%22%E7%82%B9%E5%87%BB%E5%B9%B6%E6%8B%96%E6%8B%BD%E4%BB%A5%E7%A7%BB%E5%8A%A8%22" alt></p>
<ul>
<li>&#x83B7;&#x53D6;cookie</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ini&#x590D;&#x5236;&#x4EE3;&#x7801;Cookie[] cookies = request.getCookies()</span><br></pre></td></tr></table></figure>

<p><img src="%22%E7%82%B9%E5%87%BB%E5%B9%B6%E6%8B%96%E6%8B%BD%E4%BB%A5%E7%A7%BB%E5%8A%A8%22" alt></p>
<p>&#x5BF9;&#x4E8E;&#x6570;&#x7EC4;&#x4E2D;&#x7684;&#x6BCF;&#x4E00;&#x4E2A;cookie&#xFF0C;getName&#xFF0C;getValue&#x7B49;&#x65B9;&#x6CD5;&#x80AF;&#x5B9A;&#x4F1A;&#x6709;&#x7684;&#x9E2D;</p>
<p>&#x8FD9;&#x91CC;&#x4F60;&#x53EF;&#x80FD;&#x5C31;&#x6709;&#x7591;&#x95EE;&#x4E86;&#xFF0C;cookie&#x7A76;&#x7ADF;&#x4F1A;&#x4FDD;&#x5B58;&#x591A;&#x957F;&#x65F6;&#x95F4;&#xFF1F;&#x6211;&#x8BF4;&#x9ED8;&#x8BA4;&#x60C5;&#x51B5;&#x4E0B;&#x6D4F;&#x89C8;&#x5668;&#x5173;&#x95ED;&#x540E;&#x5C31;&#x4F1A;&#x88AB;&#x9500;&#x6BC1;&#xFF0C;&#x7136;&#x800C;&#x56DE;&#x5FC6;&#x4E00;&#x4E0B;&#x5E73;&#x65F6;&#x6211;&#x4EEC;&#x7F51;&#x4E0A;&#x51B2;&#x6D6A;&#x7684;&#x573A;&#x666F;&#xFF0C;&#x5728;&#x4E0D;&#x767B;&#x9646;&#x6D4F;&#x89C8;&#x5668;&#x7684;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;&#x6211;&#x4EEC;&#x5BF9;&#x5176;&#x6240;&#x505A;&#x7684;&#x8BBE;&#x7F6E;&#x5E76;&#x4E0D;&#x4F1A;&#x56E0;&#x4E3A;&#x660E;&#x5929;&#x91CD;&#x65B0;&#x6765;&#x73A9;&#x7535;&#x8111;&#x6253;&#x5F00;&#x7F51;&#x9875;&#x65F6;&#x800C;&#x6D88;&#x5931;&#x4E0D;&#x89C1;&#xFF0C;&#x6240;&#x4EE5;&#x4E00;&#x79CD;&#x76F4;&#x89C9;&#x5C31;&#x662F;cookie&#x53EF;&#x4EE5;&#x7531;&#x7A0B;&#x5E8F;&#x5199;&#x5165;&#x7535;&#x8111;&#x786C;&#x76D8;&#x91CC;&#x800C;&#x5B9E;&#x73B0;&#x957F;&#x4E45;&#x5B58;&#x50A8;&#xFF0C;&#x4E8B;&#x5B9E;&#x4E5F;&#x786E;&#x5B9E;&#x5982;&#x6B64;&#xFF1A;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">scss&#x590D;&#x5236;&#x4EE3;&#x7801;setMaxAge(int seconds)</span><br></pre></td></tr></table></figure>

<p><img src="%22%E7%82%B9%E5%87%BB%E5%B9%B6%E6%8B%96%E6%8B%BD%E4%BB%A5%E7%A7%BB%E5%8A%A8%22" alt></p>
<p>&#x5BF9;&#x4E8E;&#x7A0B;&#x5E8F;&#x5458;&#x6765;&#x8BB2;&#xFF0C;cookie&#x7684;&#x5171;&#x4EAB;&#x95EE;&#x9898;&#x5E94;&#x8BE5;&#x662F;&#x6700;&#x9700;&#x8981;&#x5173;&#x5FC3;&#x7684;&#x4E86;&#xFF0C;&#x5047;&#x5982;&#x5728;&#x4E00;&#x4E2A;tomcat&#x670D;&#x52A1;&#x5668;&#x4E2D;&#xFF0C;&#x90E8;&#x7F72;&#x4E86;&#x591A;&#x4E2A;web&#x9879;&#x76EE;&#xFF0C;&#x5982;&#x679C;&#x9700;&#x8981;&#x5171;&#x4EAB;&#x53EF;&#x4EE5;&#x5C06; setPath(String path) &#x65B9;&#x6CD5;path&#x8BBE;&#x7F6E;&#x4E3A;&#x201D;/&#x201C;&#xFF0C;&#x5F53;&#x7136;&#x4E3A;&#x4E86;&#x5B89;&#x5168;&#x8003;&#x8651;&#xFF0C;&#x9ED8;&#x8BA4;&#x60C5;&#x51B5;&#x4E0B;&#x662F;&#x4E0D;&#x80FD;&#x5171;&#x4EAB;&#x7684;~&#x3002;&#x5047;&#x5982;&#x8981;&#x4F7F;&#x4E0D;&#x540C;&#x7684;tomcat&#x670D;&#x52A1;&#x5668;&#x95F4;&#x5171;&#x4EAB;cookie&#xFF0C;&#x90A3;&#x5C31;&#x5FC5;&#x987B;&#x8C03;&#x7528; setDomain(String path) &#x65B9;&#x6CD5;&#x8BBE;&#x7F6E;&#x4E00;&#x7EA7;&#x57DF;&#x540D;&#x76F8;&#x540C;&#x5566;&#xFF0C;&#x8FD8;&#x662F;&#x62FF;&#x6211;&#x6700;&#x559C;&#x6B22;&#x7684;&#x767E;&#x5EA6;&#x6765;&#x4E3E;&#x4F8B;&#xFF0C;&#x767E;&#x5EA6;&#x8D34;&#x5427;tieba.baidu.com &#x548C;&#x767E;&#x5EA6;&#x65B0;&#x95FB;news.baidu.com&#x5FC5;&#x5B9A;&#x662F;&#x90E8;&#x7F72;&#x5728;&#x4E0D;&#x540C;&#x7684;&#x670D;&#x52A1;&#x5668;&#x4E4B;&#x4E0A;&#x7684;&#xFF0C;&#x6211;&#x4EEC;&#x6709; setDomain(&#x201C;.baidu.com&#x201D;) &#x6765;&#x8BBE;&#x7F6E;&#x5171;&#x4EAB;&#x3002;</p>
<p>&#x4F7F;&#x7528;cookie&#x7684;&#x4E00;&#x4E2A;&#x7ECF;&#x5178;&#x6848;&#x4F8B;&#x4FBF;&#x662F;&#x8BB0;&#x4F4F;&#x7528;&#x6237;&#x4E0A;&#x4E00;&#x6B21;&#x8BBF;&#x95EE;&#x7684;&#x65F6;&#x95F4;&#x4E86;&#xFF0C;&#x76F8;&#x4FE1;&#x5404;&#x4F4D;&#x4E5F;&#x4F1A;&#x6709;&#x610F;&#x65E0;&#x610F;&#x7684;&#x6CE8;&#x610F;&#x5230;&#xFF0C;&#x5C3D;&#x7BA1;&#x4F60;&#x4E0D;&#x66FE;&#x767B;&#x9646;&#x8FC7;&#xFF0C;&#x6709;&#x4E00;&#x4E9B;&#x7F51;&#x9875;&#x8FD8;&#x662F;&#x4F1A;&#x63D0;&#x793A;&#x4E0A;&#x4E00;&#x6B21;&#x8BBF;&#x95EE;&#x7684;&#x65F6;&#x95F4;&#xFF0C;&#x539F;&#x7406;&#x4FBF;&#x4E5F;&#x5F88;&#x7B80;&#x5355;&#xFF0C;&#x9996;&#x6B21;&#x8BBF;&#x95EE;&#x670D;&#x52A1;&#x5668;&#x65F6;&#x5C31;&#x4F1A;&#x5C06;cookie&#x5199;&#x56DE;&#x5BA2;&#x6237;&#x7AEF;&#x4FDD;&#x5B58;&#xFF0C;&#x5F53;&#x4F60;&#x518D;&#x6B21;&#x5E26;&#x7740;&#x6B64;&#x7269;&#x53BB;&#x8BBF;&#x95EE;&#x65F6;&#xFF0C;&#x670D;&#x52A1;&#x5668;&#x4FBF;&#x53EF;&#x89E3;&#x6790;&#x51FA;&#x76F8;&#x5E94;&#x7684;&#x65F6;&#x95F4;&#x4FE1;&#x606F;&#x3002;&#x516C;&#x4F17;&#x53F7;&#x56DE;&#x590D;&#x3010;cookie&#x6848;&#x4F8B;&#x3011;&#x5373;&#x53EF;&#x83B7;&#x53D6;&#x6B64;&#x6848;&#x4F8B;&#x4EE3;&#x7801;&#xFF08;&#x4EC5;&#x4F9B;&#x4EA4;&#x6D41;&#x611F;&#x60C5;&#x6240;&#x7528;&#xFF09;&#x3002;&#x997C;&#x5E72;&#x867D;&#x5C0F;&#xFF0C;&#x8DB3;&#x4EE5;&#x679C;&#x8179;&#x3002;</p>
<h2 id="2-session"><a href="#2-session" class="headerlink" title="2 session"></a>2 session</h2><p>session&#x53EF;&#x4EE5;&#x7528;&#x4E2D;&#x6587;&#x63CF;&#x8FF0;&#x4E3A;&#xFF1A;&#x670D;&#x52A1;&#x5668;&#x7AEF;&#x4F1A;&#x8BDD;&#x6280;&#x672F;&#xFF0C;&#x5728;&#x4E00;&#x6B21;&#x4F1A;&#x8BDD;&#x7684;&#x591A;&#x6B21;&#x8BF7;&#x6C42;&#x95F4;&#x5171;&#x4EAB;&#x6570;&#x636E;&#x3002;&#x548C;cookie&#x5BF9;&#x5E94;&#xFF0C;&#x53EA;&#x4E0D;&#x8FC7;&#x662F;&#x88AB;&#x4FDD;&#x5B58;&#x5728;&#x4E86;&#x670D;&#x52A1;&#x5668;&#x7AEF;&#x7684;&#x5BF9;&#x8C61;&#x4E2D;&#xFF0C;&#x8FD9;&#x4E2A;&#x5BF9;&#x8C61;&#x5177;&#x4F53;&#x540D;&#x5B57;&#x662F;HttpSession</p>
<p>&#x5B9E;&#x9645;&#x4E0A;session&#x7684;&#x5B9E;&#x73B0;&#x662F;&#x4F9D;&#x8D56;&#x4E8E;cookie&#x7684;&#xFF0C;&#x76F4;&#x63A5;&#x4E0A;&#x56FE;&#xFF1A;</p>
<p><img src="https://gitee.com/songjianzaina/juejin_p5/raw/master/img/dfb4527be267a12485fedb9da875a30e05f5d579bd342934328ec2f171e8506f" alt>)<img src="%22%E7%82%B9%E5%87%BB%E5%B9%B6%E6%8B%96%E6%8B%BD%E4%BB%A5%E7%A7%BB%E5%8A%A8%22" alt>&#x200B;</p>
<p>&#x5047;&#x8BBE;&#x670D;&#x52A1;&#x5668;&#x4E2D;&#x90E8;&#x7F72;&#x4E86;&#x4E24;&#x4E2A;Servlet&#x7A0B;&#x5E8F;&#xFF0C;<strong>SessionDemo1.java</strong>&#x548C;<strong>SessionDemo2.java</strong>&#xFF0C;&#x6211;&#x4EEC;&#x5C06;&#x5176;&#x7B80;&#x79F0;&#x4E3A;SD1&#x548C;SD2&#xFF0C;&#x4E24;&#x4E2A;&#x7A0B;&#x5E8F;&#x4E2D;&#x90FD;&#x6709;&#x83B7;&#x53D6;session&#x7684;&#x903B;&#x8F91;&#xFF0C;&#x5F53;&#x7528;&#x6237;&#x901A;&#x8FC7;&#x6D4F;&#x89C8;&#x5668;&#x8BBF;&#x95EE;&#x4E86;SD1&#x65F6;&#xFF0C;&#x670D;&#x52A1;&#x5668;&#x5E76;&#x6CA1;&#x6709;&#x53D1;&#x73B0;&#x6709;session&#x7684;&#x5B58;&#x5728;&#xFF0C;&#x6240;&#x4EE5;&#x4F1A;&#x5728;&#x5185;&#x5B58;&#x4E2D;&#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x65B0;&#x7684;Session&#x5BF9;&#x8C61;&#x5E76;&#x5206;&#x914D;&#x4E86;&#x4E00;&#x4E2A;&#x7F16;&#x53F7;&#xFF0C;&#x8FD9;&#x91CC;&#x79F0;&#x505A;id&#xFF0C;&#x4E8E;&#x662F;&#x4E4E;&#xFF0C;&#x521B;&#x5EFA;&#x4E00;&#x4E2A;cookie&#xFF0C;&#x5E76;&#x8BBE;&#x7F6E;JSESSIONID&#x7B49;&#x4E8E;&#x5148;&#x524D;&#x5206;&#x914D;&#x7684;&#x7F16;&#x53F7;&#x3002;&#x8FD9;&#x6837;&#x4E00;&#x6765;&#x4E00;&#x53BB;&#x7684;&#xFF0C;&#x5728;&#x4E0B;&#x4E00;&#x6B21;&#x8BF7;&#x6C42;&#x65F6;SD2&#x65F6;&#xFF0C;&#x7A0B;&#x5E8F;&#x5C31;&#x4F1A;&#x83B7;&#x5F97;&#x8FD9;&#x4E2A;session&#x3002;</p>
<p>Java&#x4E2D;&#x4F7F;&#x7528;HttpSession&#x4E5F;&#x5F88;&#x7B80;&#x5355;&#xFF0C;&#x7ECF;&#x5178;&#x7684;&#x589E;&#x5220;&#x6539;&#x5DEE;&#x56DB;&#x541B;&#x5B50;&#x5982;&#x4E0B;&#xFF1A;</p>
<ul>
<li>&#x67E5;&#x8BE2;&#xFF1A;</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">javascript&#x590D;&#x5236;&#x4EE3;&#x7801;Object getAttribute(String name)</span><br></pre></td></tr></table></figure>

<p><img src="%22%E7%82%B9%E5%87%BB%E5%B9%B6%E6%8B%96%E6%8B%BD%E4%BB%A5%E7%A7%BB%E5%8A%A8%22" alt></p>
<ul>
<li>&#x589E;&#x52A0;&#xFF1A;</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">javascript&#x590D;&#x5236;&#x4EE3;&#x7801;void setAttribute(String name, Object value)</span><br></pre></td></tr></table></figure>

<p><img src="%22%E7%82%B9%E5%87%BB%E5%B9%B6%E6%8B%96%E6%8B%BD%E4%BB%A5%E7%A7%BB%E5%8A%A8%22" alt></p>
<ul>
<li>&#x5220;&#x9664;&#xFF1A;</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">arduino&#x590D;&#x5236;&#x4EE3;&#x7801;void removeAttribute(String name)</span><br></pre></td></tr></table></figure>

<p><img src="%22%E7%82%B9%E5%87%BB%E5%B9%B6%E6%8B%96%E6%8B%BD%E4%BB%A5%E7%A7%BB%E5%8A%A8%22" alt></p>
<p>&#x4E3A;&#x4EC0;&#x4E48;&#x6CA1;&#x6709;&#x4FEE;&#x6539;&#x5462;&#x3002;&#x3002;&#x3002;&#x4FEE;&#x6539;&#x548C;&#x589E;&#x52A0;&#x5176;&#x5B9E;&#x4E00;&#x6837;&#x554A;</p>
<p>&#x770B;&#x5230;&#x8FD9;&#x91CC;&#x53EF;&#x80FD;&#x53C8;&#x6709;&#x7591;&#x95EE;&#x4E86;&#x3002;&#x3002;&#x3002;&#x6211;&#x4EEC;&#x8BE5;&#x5982;&#x4F55;&#x64CD;&#x4F5C;&#x4F7F;&#x5F97;&#x7528;&#x6237;&#x5173;&#x95ED;&#x6D4F;&#x89C8;&#x5668;&#x91CD;&#x65B0;&#x6253;&#x5F00;&#x540E;&#x518D;&#x6B21;&#x8BBF;&#x95EE;&#x670D;&#x52A1;&#x5668;&#xFF0C;&#x83B7;&#x5F97;&#x540C;&#x4E00;&#x4E2A;session&#xFF1F;&#x6211;&#x4EEC;&#x5DF2;&#x7ECF;&#x8BF4;&#x4E86;&#xFF0C;session&#x662F;&#x57FA;&#x4E8E;cookie&#x5B9E;&#x73B0;&#x7684;&#xFF0C;cookie&#x4FDD;&#x5B58;&#x4E86;session&#x5BF9;&#x8C61;&#x7684;&#x8EAB;&#x4EFD;&#x8BC1;&#x53F7;&#x7801;&#xFF0C;&#x5B83;&#x53EF;&#x4EE5;&#x8BBE;&#x7F6E;&#x5B58;&#x6D3B;&#x4E8E;&#x5185;&#x5B58;&#x4E2D;&#x7684;&#x65F6;&#x95F4;&#x5440;&#xFF01;&#x4E8E;&#x662F;&#x4E4E;&#xFF0C;&#x601D;&#x8DEF;&#x987A;&#x52BF;&#x800C;&#x751F;&#xFF1A;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">ini&#x590D;&#x5236;&#x4EE3;&#x7801;Cookie c = new Cookie(&quot;JSESSIONID&quot;,session.getId());</span><br><span class="line"></span><br><span class="line">c.setMaxAge(60*60);</span><br><span class="line"></span><br><span class="line">response.addCookie(c);</span><br></pre></td></tr></table></figure>

<p><img src="%22%E7%82%B9%E5%87%BB%E5%B9%B6%E6%8B%96%E6%8B%BD%E4%BB%A5%E7%A7%BB%E5%8A%A8%22" alt></p>
<p>&#x540C;&#x6837;&#x95EE;&#x9898;&#x6709;&#x4E24;&#x9762;&#xFF0C;&#x670D;&#x52A1;&#x5668;&#x91CD;&#x542F;&#x524D;&#x540E;&#x4E24;&#x6B21;&#x83B7;&#x5F97;&#x7684;session&#x4E5F;&#x4E0D;&#x662F;&#x540C;&#x4E00;&#x4E2A;&#xFF0C;&#x4F46;&#x662F;&#x8981;&#x786E;&#x4FDD;&#x6570;&#x636E;&#x4E0D;&#x4E22;&#x5931;&#x3002;tomcat&#x81EA;&#x52A8;&#x5B8C;&#x6210;&#x6D3B;&#x5316;&#x548C;&#x949D;&#x5316;&#x4E24;&#x4E2A;&#x64CD;&#x4F5C;&#xFF0C;&#x949D;&#x5316;&#x662F;&#x6307;&#x5C06;session&#x5BF9;&#x8C61;&#x7CFB;&#x5217;&#x5316;&#x5230;&#x786C;&#x76D8;&#x4E0A;&#xFF0C;&#x6D3B;&#x5316;&#x5219;&#x662F;&#x5176;&#x76F8;&#x53CD;&#x8FC7;&#x7A0B;&#xFF0C;&#x5C06;session&#x6587;&#x4EF6;&#x8F6C;&#x5316;&#x4E3A;&#x5185;&#x5B58;&#x4E2D;&#x7684;&#x5BF9;&#x8C61;&#xFF0C;&#x6240;&#x4EE5;&#x8FD9;&#x91CC;&#x201C;&#x4E0D;&#x662F;&#x540C;&#x4E00;&#x4E2A;&#x201D;&#x7684;&#x610F;&#x601D;&#x5E94;&#x8BE5;&#x662F;&#x4E24;&#x6B21;&#x83B7;&#x53D6;&#x7684;session&#x5185;&#x5B58;&#x5730;&#x5740;&#x662F;&#x4E0D;&#x540C;&#x7684;&#x3002;</p>
<p>&#x4E4B;&#x6240;&#x4EE5;&#x5C06;&#x5176;&#x79F0;&#x4E4B;&#x4E3A;&#x4E3B;&#x83DC;&#xFF0C;&#x90A3;&#x5FC5;&#x7136;&#x662F;&#x62E5;&#x6709;&#x6BD4;cookie<del>&#x66F4;&#x9AD8;&#x7684;&#x70ED;&#x91CF;</del>&#x66F4;&#x4F18;&#x79C0;&#x7684;&#x4E00;&#x4E9B;&#x7279;&#x6027;&#x3002;cookie&#x5B58;&#x50A8;&#x6570;&#x636E;&#x5728;&#x5BA2;&#x6237;&#x7AEF;&#x6D4F;&#x89C8;&#x5668;&#xFF0C;&#x8FD9;&#x5FC5;&#x7136;&#x4F1A;&#x5BFC;&#x81F4;&#x4E00;&#x4E9B;&#x5B89;&#x5168;&#x6027;&#x7684;&#x62C5;&#x5FE7;&#xFF0C;&#x540C;&#x6837;&#xFF0C;&#x4E2A;&#x4EBA;&#x7535;&#x8111;&#x548C;&#x670D;&#x52A1;&#x5668;&#x7684;&#x6027;&#x80FD;&#x59CB;&#x7EC8;&#x662F;&#x4E0D;&#x7528;&#x6BD4;&#x8F83;&#x7684;&#xFF0C;&#x6240;&#x4EE5;&#x6D4F;&#x89C8;&#x5668;&#x5BF9;&#x4E8E;&#x5355;&#x4E2A;cookie &#x7684;&#x5927;&#x5C0F;&#x6709;&#x9650;&#x5236;&#xFF08;4kb&#xFF09;&#x4E14;&#x5BF9;&#x540C;&#x4E00;&#x4E2A;&#x57DF;&#x540D;&#x4E0B;&#x7684;&#x603B;cookie&#x6570;&#x91CF;&#x4E5F;&#x6709;&#x9650;&#x5236;&#xFF08;20&#x4E2A;&#xFF09;&#xFF0C;&#x56E0;&#x6B64;&#xFF0C;&#x547D;&#x540D;&#x4E4B;&#x4E89;&#x843D;&#x4E0B;&#x5E37;&#x5E55;&#x3002;</p>
<p>&#x6709;&#x4E86;&#x8FD9;&#x4E2A;&#x5DE5;&#x5177;&#xFF0C;&#x6211;&#x4EEC;&#x5C31;&#x53EF;&#x4EE5;&#x5B9E;&#x73B0;&#x4E00;&#x4E9B;&#x201C;&#x66F4;&#x9AD8;&#x7EA7;&#x201D;&#x7684;&#x64CD;&#x4F5C;&#xFF0C;&#x6BD4;&#x5982;&#x9A8C;&#x8BC1;&#x7801;&#xFF0C;&#x4E0D;&#x96BE;&#x5206;&#x6790;&#xFF0C;&#x6211;&#x4EEC;&#x767B;&#x5F55;&#x65F6;&#x7ECF;&#x5E38;&#x8F93;&#x5165;&#x7684;&#x9A8C;&#x8BC1;&#x7801;&#x80AF;&#x5B9A;&#x662F;&#x7535;&#x8111;&#x81EA;&#x52A8;&#x751F;&#x6210;&#x7684;&#xFF08;&#x5982;&#x679C;&#x662F;&#x5728;&#x670D;&#x52A1;&#x5668;&#x91CC;&#x5B58;&#x50A8;&#x6210;&#x5343;&#x4E0A;&#x4E07;&#x5F20;&#x9A8C;&#x8BC1;&#x7801;&#x7684;&#x56FE;&#x7247;&#x672A;&#x514D;&#x592A;&#x8FC7;&#x4F4E;&#x7EA7;&#xFF0C;&#x5E76;&#x4E14;&#x6D6A;&#x8D39;&#x8D44;&#x6E90;&#xFF09;&#xFF0C;&#x8FD9;&#x91CC;&#x5C31;&#x9700;&#x8981;&#x501F;&#x52A9;session&#x5728;&#x4E0D;&#x540C;&#x7684;&#x670D;&#x52A1;&#x5668;&#x7A0B;&#x5E8F;&#x4E2D;&#x5171;&#x4EAB;&#x6570;&#x636E;&#x6765;&#x83B7;&#x5F97;&#x751F;&#x6210;&#x7684;&#x9A8C;&#x8BC1;&#x7801;&#xFF0C;&#x5982;&#x4E0B;&#xFF1A;</p>
<p><img src="https://gitee.com/songjianzaina/juejin_p5/raw/master/img/1b4261f3855e0e09887d4eb559db5315b44b3fb9362d7e03d579700735e69293" alt>)<img src="%22%E7%82%B9%E5%87%BB%E5%B9%B6%E6%8B%96%E6%8B%BD%E4%BB%A5%E7%A7%BB%E5%8A%A8%22" alt>&#x200B;</p>
<p>&#x4E3A;&#x4E86;&#x8282;&#x7EA6;&#x7BC7;&#x5E45;&#xFF0C;&#x516C;&#x4F17;&#x53F7;&#x56DE;&#x590D;&#x3010;session&#x6848;&#x4F8B;&#x3011;&#x5373;&#x53EF;&#x83B7;&#x53D6;&#x6B64;&#x6848;&#x4F8B;&#x4EE3;&#x7801;&#xFF08;&#x4EC5;&#x4F9B;&#x4EA4;&#x6D41;&#x611F;&#x60C5;&#x6240;&#x7528;&#xFF09;&#x3002;&#x7F8E;&#x98DF;&#x662F;&#x4E16;&#x4E0A;&#x7F8E;&#x597D;&#x7684;&#x5B58;&#x5728;&#xFF0C;&#x4F46;&#x5207;&#x5FCC;&#x66B4;&#x996E;&#x66B4;&#x98DF;&#xFF0C;&#x8981;&#x8282;&#x7EA6;&#x8D44;&#x6E90;&#x3002;</p>
<p>&#x200B;</p>
<p><strong>&#x672C;&#x6587;&#x8F6C;&#x8F7D;&#x81EA;:</strong> <a href="/external_links/c5c2cdcd3cdc6ea0b7e6df2fa87213cb.html" target="blank" rel="noopener">&#x6398;&#x91D1;</a></p>
<p><em><a href="https://dev.newban.cn/">&#x5F00;&#x53D1;&#x8005;&#x535A;&#x5BA2; &#x2013; &#x548C;&#x5F00;&#x53D1;&#x76F8;&#x5173;&#x7684; &#x8FD9;&#x91CC;&#x5168;&#x90FD;&#x6709;</a></em></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://dev.newban.cn../../7036178531902029838.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="开发者博客">
      <meta itemprop="description" content>
      <meta itemprop="image" content="../../images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="开发者博客 – IT技术 尽在开发者博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="../../7036178531902029838.html" itemprop="url">webSerivce简明使用教程</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2021-11-30T10:07:06+08:00">
                2021-11-30
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <blockquote>
<p><strong>&#x672C;&#x6587;&#x6B63;&#x5728;&#x53C2;&#x4E0E; &#x201C;<a href="https://dev.newban.cn/7033976124547792927">&#x7F51;&#x7EDC;&#x534F;&#x8BAE;&#x5FC5;&#x77E5;&#x5FC5;&#x4F1A;</a>&#x201D;&#x5F81;&#x6587;&#x6D3B;&#x52A8;</strong></p>
<p>&#x832B;&#x832B;&#x4EBA;&#x6D77;&#x5343;&#x5343;&#x4E07;&#x4E07;&#xFF0C;&#x611F;&#x8C22;&#x8FD9;&#x4E00;&#x79D2;&#x4F60;&#x770B;&#x5230;&#x8FD9;&#x91CC;&#x3002;&#x5E0C;&#x671B;&#x6211;&#x7684;&#x6587;&#x7AE0;&#x5BF9;&#x4F60;&#x7684;&#x6709;&#x6240;&#x5E2E;&#x52A9;&#xFF01;</p>
<p>&#x613F;&#x4F60;&#x5728;&#x672A;&#x6765;&#x7684;&#x65E5;&#x5B50;&#xFF0C;&#x4FDD;&#x6301;&#x70ED;&#x7231;&#xFF0C;&#x5954;&#x8D74;&#x5C71;&#x6D77;&#xFF01;</p>
</blockquote>
<h2 id="&#x1F440;-&#x524D;&#x8A00;"><a href="#&#x1F440;-&#x524D;&#x8A00;" class="headerlink" title="&#x1F440; &#x524D;&#x8A00;"></a>&#x1F440; &#x524D;&#x8A00;</h2><p>&#x56E0;&#x4E3A;&#x524D;&#x6BB5;&#x65F6;&#x95F4;&#xFF0C;&#x9700;&#x8981;&#x4F7F;&#x7528;&#x5230;webService&#x6765;&#x8C03;&#x7528;&#x516C;&#x53F8;&#x7684;&#x5176;&#x4ED6;&#x7CFB;&#x7EDF;api&#x63A5;&#x53E3;&#xFF0C;&#x4F46;&#x662F;&#x8BF7;&#x6C42;&#x65B9;&#x5F0F;&#x548C;&#x6211;&#x719F;&#x77E5;&#x7684;http&#x8BF7;&#x6C42;&#x4E0D;&#x4E00;&#x6837;&#xFF0C;&#x662F;&#x57FA;&#x4E8E;soap&#x534F;&#x8BAE;&#x6765;&#x4F20;&#x8F93;xml&#x6570;&#x636E;&#x683C;&#x5F0F;&#xFF0C;&#x8BF7;&#x6C42;&#x7684;&#x53C2;&#x6570;&#x6781;&#x5176;&#x590D;&#x6742;&#xFF0C;&#x9700;&#x8981;&#x5C01;&#x88C5;&#x591A;&#x5C42;xml&#x6570;&#x636E;&#x683C;&#x5F0F;&#xFF0C;&#x5E76;&#x4E14;&#x6211;&#x4E0D;&#x77E5;&#x9053;&#x5BF9;&#x65B9;&#x7684;api&#x63A5;&#x53E3;&#x662F;&#x4EC0;&#x4E48;&#x8BED;&#x8A00;&#xFF0C;&#x751A;&#x81F3;&#x4E0D;&#x77E5;&#x9053;&#x4ED6;&#x4EEC;&#x5B58;&#x5728;&#x4E8E;&#x4EC0;&#x4E48;&#x5E73;&#x53F0;&#x3002;</p>
<p>&#x90A3;&#x8FD9;&#x4E0E;&#x6211;&#x4EEC;&#x5E38;&#x89C1;&#x7684;httpapi&#x63A5;&#x53E3;&#x6709;&#x4EC0;&#x4E48;&#x533A;&#x522B;&#x5462;&#xFF1F;</p>
<ul>
<li>&#x4E0D;&#x540C;&#x534F;&#x8BAE;&#xFF1A;HTTPService&#x57FA;&#x4E8E;http&#x534F;&#x8BAE;&#xFF0C;&#x800C;WebService&#x57FA;&#x4E8E;soap&#x534F;&#x8BAE;&#xFF1B;</li>
<li>&#x5904;&#x7406;&#x6570;&#x636E;&#x6548;&#x7387;&#x4E0D;&#x540C;&#xFF1A;HTTPService&#x6548;&#x7387;&#x8F83;&#x9AD8;&#xFF0C;&#x4F20;&#x8F93;&#x7684;&#x662F;&#x5B57;&#x7B26;&#x4E32;&#xFF0C;&#x800C;WebService&#x662F;&#x5305;&#x88C5;&#x6210;&#x4E86;&#x66F4;&#x590D;&#x6742;&#x7684;&#x5BF9;&#x8C61;&#x4EE5;&#x81F4;&#x4E8E;&#x80FD;&#x5904;&#x7406;&#x8F83;&#x590D;&#x6742;&#x7684;&#x6570;&#x636E;&#x7C7B;&#x578B;&#xFF1B;</li>
<li>&#x662F;&#x5426;&#x53EF;&#x4EE5;&#x8DE8;&#x57DF;&#x5904;&#x7406;&#xFF1A;HttpService&#x65B9;&#x5F0F;&#x4E0D;&#x80FD;&#x5904;&#x7406;&#x8DE8;&#x57DF;&#xFF0C;&#x5982;&#x679C;&#x8C03;&#x7528;&#x4E00;&#x4E2A;&#x5176;&#x5B83;&#x5E94;&#x7528;&#x7684;&#x670D;&#x52A1;&#x5C31;&#x8981;&#x7528;webService&#xFF0C;&#x5C31;&#x50CF;&#x6211;&#x73B0;&#x5728;&#x662F;&#x8C03;&#x5176;&#x4ED6;&#x7CFB;&#x7EDF;&#x7684;&#x670D;&#x52A1;&#x3002;</li>
</ul>
<h2 id="&#x1F600;-&#x6982;&#x8FF0;"><a href="#&#x1F600;-&#x6982;&#x8FF0;" class="headerlink" title="&#x1F600; &#x6982;&#x8FF0;"></a>&#x1F600; &#x6982;&#x8FF0;</h2><h3 id="&#x1F606;-&#x4ECB;&#x7ECD;&#x4E0B;"><a href="#&#x1F606;-&#x4ECB;&#x7ECD;&#x4E0B;" class="headerlink" title="&#x1F606; &#x4ECB;&#x7ECD;&#x4E0B;"></a>&#x1F606; &#x4ECB;&#x7ECD;&#x4E0B;</h3><p>WebService&#x4E3B;&#x8981;&#x662F;&#x901A;&#x8FC7;SOAP&#x534F;&#x8BAE;&#x5728;Web&#x4E0A;&#x63D0;&#x4F9B;&#x7684;&#x8F6F;&#x4EF6;&#x670D;&#x52A1;&#xFF0C;&#x4F7F;&#x7528;WSDL&#x6587;&#x6863;&#x8FDB;&#x884C;&#x8BF4;&#x660E;&#xFF0C;&#x5E76;&#x901A;&#x8FC7;UDDI&#x8FDB;&#x884C;&#x6CE8;&#x518C;&#x3002;WebService&#x662F;&#x4E00;&#x79CD;&#x8DE8;&#x7F16;&#x7A0B;&#x8BED;&#x8A00;&#x548C;&#x8DE8;&#x64CD;&#x4F5C;&#x7CFB;&#x7EDF;&#x5E73;&#x53F0;&#x7684;&#x8FDC;&#x7A0B;&#x8C03;&#x7528;&#x6280;&#x672F;&#xFF0C;&#x80FD;&#x4F7F;&#x5F97;&#x8FD0;&#x884C;&#x5728;&#x4E0D;&#x540C;&#x673A;&#x5668;&#x4E0A;&#x7684;&#x4E0D;&#x540C;&#x5E94;&#x7528;&#x65E0;&#x987B;&#x501F;&#x52A9;&#x9644;&#x52A0;&#x7684;&#x3001;&#x4E13;&#x95E8;&#x7684;&#x7B2C;&#x4E09;&#x65B9;&#x8F6F;&#x4EF6;&#x6216;&#x786C;&#x4EF6;&#xFF0C; &#x5C31;&#x53EF;&#x76F8;&#x4E92;&#x4EA4;&#x6362;&#x6570;&#x636E;&#x6216;&#x96C6;&#x6210;&#x3002;&#x4F9D;&#x636E;WebService&#x89C4;&#x8303;&#x5B9E;&#x65BD;&#x7684;&#x5E94;&#x7528;&#x4E4B;&#x95F4;&#xFF0C; &#x65E0;&#x8BBA;&#x5B83;&#x4EEC;&#x6240;&#x4F7F;&#x7528;&#x7684;&#x8BED;&#x8A00;&#x3001; &#x5E73;&#x53F0;&#x6216;&#x5185;&#x90E8;&#x534F;&#x8BAE;&#x662F;&#x4EC0;&#x4E48;&#xFF0C; &#x90FD;&#x53EF;&#x4EE5;&#x76F8;&#x4E92;&#x4EA4;&#x6362;&#x6570;&#x636E;&#x3002;</p>
<p>&#x6240;&#x4EE5;&#x5462;&#xFF0C;&#x5982;&#x679C;&#x4F60;&#x60F3;&#x662F;&#x4F7F;&#x7528;&#x4E0D;&#x540C;&#x8BED;&#x8A00;&#xFF0C;&#x4E0D;&#x540C;&#x5E73;&#x53F0;&#xFF0C;&#x4E0D;&#x540C;&#x5730;&#x65B9;&#xFF0C;&#x60F3;&#x8FDB;&#x884C;&#x6570;&#x636E;&#x4F20;&#x8F93;&#xFF0C;&#x81EA;&#x6211;&#x63A8;&#x8350;&#x4E0B;&#xFF0C;&#x9009;&#x62E9;WebService&#x5C31;&#x6CA1;&#x9519;&#x7684;&#xFF01;</p>
<h3 id="&#x1F504;-&#x591A;&#x7EF4;&#x5EA6;&#x4E86;&#x89E3;"><a href="#&#x1F504;-&#x591A;&#x7EF4;&#x5EA6;&#x4E86;&#x89E3;" class="headerlink" title="&#x1F504; &#x591A;&#x7EF4;&#x5EA6;&#x4E86;&#x89E3;"></a>&#x1F504; &#x591A;&#x7EF4;&#x5EA6;&#x4E86;&#x89E3;</h3><ul>
<li>&#x4ECE;&#x8868;&#x9762;&#x770B;&#xFF0C;WebService&#x5C31;&#x662F;&#x4E00;&#x4E2A;&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x5411;&#x5916;&#x754C;&#x66B4;&#x9732;&#x51FA;&#x4E00;&#x4E2A;&#x80FD;&#x901A;&#x8FC7;Web&#x8FDB;&#x884C;&#x8C03;&#x7528;&#x7684;API&#xFF0C;&#x4E5F;&#x5C31;&#x662F;&#x8BF4;&#x80FD;&#x7528;&#x7F16;&#x7A0B;&#x7684;&#x65B9;&#x6CD5;&#x901A;&#x8FC7;Web&#x6765;&#x8C03;&#x7528;&#x8FD9;&#x4E2A;&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x3002;&#x6211;&#x4EEC;&#x628A;&#x8C03;&#x7528;&#x8FD9;&#x4E2A;WebService&#x7684;&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x53EB;&#x505A;&#x5BA2;&#x6237;&#x7AEF;&#xFF0C;&#x800C;&#x628A;&#x63D0;&#x4F9B;&#x8FD9;&#x4E2A;WebService&#x7684;&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x53EB;&#x505A;&#x670D;&#x52A1;&#x7AEF;&#x3002;</li>
<li>&#x4ECE;&#x5185;&#x5C42;&#x770B;&#xFF0C;WebService&#x4E0D;&#x662F;&#x4E00;&#x79CD;&#x6280;&#x672F;&#xFF0C;&#x66F4;&#x50CF;&#x662F;&#x5EFA;&#x7ACB;&#x5728;&#x53EF;&#x4E92;&#x64CD;&#x4F5C;&#x7684;&#x5206;&#x5E03;&#x5F0F;&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x7684;&#x65B0;&#x5E73;&#x53F0;&#xFF0C;&#x662F;&#x4E00;&#x4E2A;&#x5E73;&#x53F0;&#xFF0C;&#x662F;&#x4E00;&#x5957;&#x6807;&#x51C6;&#xFF0C;&#x662F;&#x4E00;&#x79CD;&#x89C4;&#x8303;&#x3002;&#x5B83;&#x5B9A;&#x4E49;&#x4E86;&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x5982;&#x4F55;&#x5728;Web&#x4E0A;&#x5B9E;&#x73B0;&#x4E92;&#x64CD;&#x4F5C;&#x6027;&#xFF0C;&#x4F60;&#x53EF;&#x4EE5;&#x7528;&#x4EFB;&#x4F55;&#x4F60;&#x559C;&#x6B22;&#x7684;&#x8BED;&#x8A00;&#xFF0C;&#x5728;&#x4EFB;&#x4F55;&#x4F60;&#x559C;&#x6B22;&#x7684;&#x5E73;&#x53F0;&#x4E0A;&#x5199;WebService &#xFF0C;&#x53EA;&#x8981;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;WebService&#x6807;&#x51C6;&#x5BF9;&#x8FD9;&#x4E9B;&#x670D;&#x52A1;&#x8FDB;&#x884C;&#x67E5;&#x8BE2;&#x548C;&#x8BBF;&#x95EE;&#x3002;</li>
</ul>
<h3 id="&#x1F469;&#x200D;&#x1F467;&#x200D;&#x1F466;-&#x4E09;&#x4E2A;&#x597D;&#x5144;&#x5F1F;"><a href="#&#x1F469;&#x200D;&#x1F467;&#x200D;&#x1F466;-&#x4E09;&#x4E2A;&#x597D;&#x5144;&#x5F1F;" class="headerlink" title="&#x1F469;&#x200D;&#x1F467;&#x200D;&#x1F466; &#x4E09;&#x4E2A;&#x597D;&#x5144;&#x5F1F;"></a>&#x1F469;&#x200D;&#x1F467;&#x200D;&#x1F466; &#x4E09;&#x4E2A;&#x597D;&#x5144;&#x5F1F;</h3><blockquote>
<p>&#x5E38;&#x4F34;&#x4E8E;&#x4E09;&#x4E2A;&#x5143;&#x7D20;&#x5144;&#x5F1F;&#xFF1A;UDDI&#xFF0C;WSDL&#xFF0C;SOAP</p>
</blockquote>
<ul>
<li>UDDI&#xFF1A;UDDI &#x662F;&#x4E00;&#x79CD;&#x7528;&#x4E8E;&#x63CF;&#x8FF0;&#x3001;&#x53D1;&#x73B0;&#x3001;&#x96C6;&#x6210;Web Service&#x7684;&#x6280;&#x672F;&#xFF0C;&#x5B83;&#x662F;Web Service&#x534F;&#x8BAE;&#x6808;&#x7684;&#x4E00;&#x4E2A;&#x91CD;&#x8981;&#x90E8;&#x5206;&#x3002;&#x901A;&#x8FC7;UDDI&#xFF0C;&#x4F01;&#x4E1A;&#x53EF;&#x4EE5;&#x6839;&#x636E;&#x81EA;&#x5DF1;&#x7684;&#x9700;&#x8981;&#x52A8;&#x6001;&#x67E5;&#x627E;&#x5E76;&#x4F7F;&#x7528;Web&#x670D;&#x52A1;&#xFF0C;&#x4E5F;&#x53EF;&#x4EE5;&#x5C06;&#x81EA;&#x5DF1;&#x7684;Web&#x670D;&#x52A1;&#x52A8;&#x6001;&#x5730;&#x53D1;&#x5E03;&#x5230;UDDI&#x6CE8;&#x518C;&#x4E2D;&#x5FC3;&#xFF0C;&#x4F9B;&#x5176;&#x4ED6;&#x7528;&#x6237;&#x4F7F;&#x7528;&#x3002;UDDI&#x5229;&#x7528;SOAP&#x6D88;&#x606F;&#x673A;&#x5236;&#xFF08;&#x6807;&#x51C6;&#x7684;XML/HTTP&#xFF09;&#x6765;&#x53D1;&#x5E03;&#xFF0C;&#x7F16;&#x8F91;&#xFF0C;&#x6D4F;&#x89C8;&#x4EE5;&#x53CA;&#x67E5;&#x627E;&#x6CE8;&#x518C;&#x4FE1;&#x606F;&#x3002;&#x5B83;&#x91C7;&#x7528;XML&#x683C;&#x5F0F;&#x6765;&#x5C01;&#x88C5;&#x5404;&#x79CD;&#x4E0D;&#x540C;&#x7C7B;&#x578B;&#x7684;&#x6570;&#x636E;&#xFF0C;&#x5E76;&#x4E14;&#x53D1;&#x9001;&#x5230;&#x6CE8;&#x518C;&#x4E2D;&#x5FC3;&#x6216;&#x8005;&#x7531;&#x6CE8;&#x518C;&#x4E2D;&#x5FC3;&#x6765;&#x8FD4;&#x56DE;&#x9700;&#x8981;&#x7684;&#x6570;&#x636E;&#x3002;</li>
<li>WSDL&#xFF1A;&#x662F;&#x4E3A;&#x4E86;&#x63CF;&#x8FF0;Web&#x670D;&#x52A1;&#x53D1;&#x5E03;&#x7684;XML&#x683C;&#x5F0F;&#x3002;&#x5C31;&#x662F;&#x7528;&#x673A;&#x5668;&#x80FD;&#x9605;&#x8BFB;&#x7684;&#x65B9;&#x5F0F;&#x63D0;&#x4F9B;&#x7684;&#x4E00;&#x4E2A;&#x6B63;&#x5F0F;&#x63CF;&#x8FF0;&#x6587;&#x6863;&#x800C;&#x57FA;&#x4E8E;XML&#xFF08;&#x6807;&#x51C6;&#x901A;&#x7528;&#x6807;&#x8BB0;&#x8BED;&#x8A00;&#x4E0B;&#x7684;&#x4E00;&#x4E2A;&#x5B50;&#x96C6;&#xFF09;&#x7684;&#x8BED;&#x8A00;&#xFF0C;&#x7528;&#x4E8E;&#x63CF;&#x8FF0;WebService&#x53CA;&#x5176;&#x51FD;&#x6570;&#x3001;&#x53C2;&#x6570;&#x548C;&#x8FD4;&#x56DE;&#x503C;&#x3002;&#x56E0;&#x4E3A;&#x662F;&#x57FA;&#x4E8E;XML&#x7684;&#xFF0C;&#x6240;&#x4EE5;WSDL&#x65E2;&#x662F;&#x673A;&#x5668;&#x53EF;&#x9605;&#x8BFB;&#x7684;&#xFF0C;&#x53C8;&#x662F;&#x4EBA;&#x53EF;&#x9605;&#x8BFB;&#x7684;&#x3002;</li>
<li>SOAP&#xFF1A;&#x7B80;&#x5355;&#x5BF9;&#x8C61;&#x8BBF;&#x95EE;&#x534F;&#x8BAE;&#xFF0C;&#x662F;&#x4EA4;&#x6362;&#x6570;&#x636E;&#x7684;&#x4E00;&#x79CD;&#x534F;&#x8BAE;&#x89C4;&#x8303;&#xFF0C;&#x662F;&#x4E00;&#x79CD;&#x8F7B;&#x91CF;&#x7684;&#x3001;&#x7B80;&#x5355;&#x7684;&#x3001;&#x57FA;&#x4E8E;XML&#x6807;&#x51C6;&#x901A;&#x7528;&#x6807;&#x8BB0;&#x8BED;&#x8A00;&#x4E0B;&#x7684;&#x4E00;&#x4E2A;&#x5B50;&#x96C6;&#xFF09;&#x7684;&#x534F;&#x8BAE;&#x3002;&#x4E3B;&#x8981;&#x7EC4;&#x6210;&#x7531;Http&#x534F;&#x8BAE;&#x548C;XML&#x6570;&#x636E;&#x683C;&#x5F0F;&#x3002;WebService&#x901A;&#x8FC7;HTTP&#x534F;&#x8BAE;&#x53D1;&#x9001;&#x8BF7;&#x6C42;&#x548C;&#x63A5;&#x6536;&#x7ED3;&#x679C;&#x65F6;&#xFF0C;&#x53D1;&#x9001;&#x7684;&#x8BF7;&#x6C42;&#x5185;&#x5BB9;&#x548C;&#x7ED3;&#x679C;&#x5185;&#x5BB9;&#x90FD;&#x91C7;&#x7528;XML&#x683C;&#x5F0F;&#x5C01;&#x88C5;&#xFF0C;&#x5E76;&#x589E;&#x52A0;&#x4E86;&#x4E00;&#x4E9B;&#x7279;&#x5B9A;&#x7684;HTTP&#x6D88;&#x606F;&#x5934;&#xFF0C;&#x4EE5;&#x8BF4;&#x660E;HTTP&#x6D88;&#x606F;&#x7684;&#x5185;&#x5BB9;&#x683C;&#x5F0F;&#xFF0C;&#x8FD9;&#x4E9B;&#x7279;&#x5B9A;&#x7684;HTTP&#x6D88;&#x606F;&#x5934;&#x548C;XML&#x5185;&#x5BB9;&#x683C;&#x5F0F;&#x5C31;&#x662F;SOAP&#x534F;&#x8BAE;&#x3002;SOAP&#x63D0;&#x4F9B;&#x4E86;&#x6807;&#x51C6;&#x7684;RPC(&#x8FDC;&#x7A0B;&#x8C03;&#x7528;&#x6280;&#x672F;)&#x65B9;&#x6CD5;&#x6765;&#x8C03;&#x7528;WebService&#x3002;</li>
</ul>
<p><img src="https://gitee.com/songjianzaina/juejin_p5/raw/master/img/d02f8c38fde037263180bc82a4324776e8dc6424fccf51385b9f8735a6a61b92" alt></p>
<h3 id="&#x1F60E;-&#x9009;&#x62E9;&#x7684;&#x597D;&#x5904;"><a href="#&#x1F60E;-&#x9009;&#x62E9;&#x7684;&#x597D;&#x5904;" class="headerlink" title="&#x1F60E; &#x9009;&#x62E9;&#x7684;&#x597D;&#x5904;"></a>&#x1F60E; &#x9009;&#x62E9;&#x7684;&#x597D;&#x5904;</h3><ol>
<li>&#x8DE8;&#x5E73;&#x53F0;&#x8C03;&#x7528;&#x3002;</li>
<li>&#x8DE8;&#x8BED;&#x8A00;&#x8C03;&#x7528;&#x3002;</li>
<li>&#x8FDC;&#x7A0B;&#x8C03;&#x7528;&#x3002;</li>
</ol>
<h2 id="&#x1F61C;-&#x6765;&#x5F00;&#x59CB;&#x4F7F;&#x7528;&#x5427;"><a href="#&#x1F61C;-&#x6765;&#x5F00;&#x59CB;&#x4F7F;&#x7528;&#x5427;" class="headerlink" title="&#x1F61C; &#x6765;&#x5F00;&#x59CB;&#x4F7F;&#x7528;&#x5427;"></a>&#x1F61C; &#x6765;&#x5F00;&#x59CB;&#x4F7F;&#x7528;&#x5427;</h2><blockquote>
<p>&#x8BDD;&#x4E0D;&#x591A;&#x8BF4;&#xFF0C;&#x770B;&#x592A;&#x591A;&#x7406;&#x8BBA;&#x4E0D;&#x5982;&#x81EA;&#x5DF1;&#x505A;&#x4E2A;&#x5C0F;demo&#x6D4B;&#x4E0B;&#x6765;&#x5F97;&#x723D;&#x5FEB;&#x3002;&#x6240;&#x4EE5;Let&#x2019;s GO&#xFF01;</p>
<p>&#x505A;&#x4E00;&#x4E2A;&#x5929;&#x6C14;&#x7CFB;&#x7EDF;&#x7684;demo&#xFF0C;&#x5BA2;&#x6237;&#x7AEF;&#x53D1;&#x9001;&#x57CE;&#x5E02;&#x540D;&#x79F0;&#xFF0C;&#x670D;&#x52A1;&#x5668;&#x7AEF;&#x56DE;&#x5E94;&#x76F8;&#x5E94;&#x7684;&#x5929;&#x6C14;&#x3002;</p>
</blockquote>
<h3 id="&#x1F4D6;-&#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x7A7A;&#x9879;&#x76EE;"><a href="#&#x1F4D6;-&#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x7A7A;&#x9879;&#x76EE;" class="headerlink" title="&#x1F4D6; &#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x7A7A;&#x9879;&#x76EE;"></a>&#x1F4D6; &#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x7A7A;&#x9879;&#x76EE;</h3><p>&#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x7A7A;&#x9879;&#x76EE;weatherServer&#x51FA;&#x6765;&#xFF0C;&#x6211;&#x4F7F;&#x7528;&#x7684;IDEA&#x7248;&#x672C;&#x4E3A;2020.3&#x7248;&#x672C;&#x3002;&#x5F53;&#x7136;&#x4E00;&#x5F00;&#x59CB;&#x6211;&#x6BD4;&#x8F83;&#x8BE6;&#x7EC6;&#x4ECB;&#x7ECD;&#x5566;</p>
<p><img src="https://gitee.com/songjianzaina/juejin_p5/raw/master/img/3ee1e6bc027bc8f0d15bda845ac4cb9fc1c1a8369e7042f42157c910bc749798" alt></p>
<p><img src="https://gitee.com/songjianzaina/juejin_p5/raw/master/img/e7d2c06bdfe6a598d7416f760bd4a4b0e33bbdf67297c413d8535c190ed54eee" alt></p>
<p><img src="https://gitee.com/songjianzaina/juejin_p5/raw/master/img/9ea15302fdfc9f1aa338e635a2d8880ba3e973b76eb124ac63a5a519d8ef6d7e" alt></p>
<h3 id="&#x1F349;&#x5B9E;&#x73B0;&#x53D1;&#x5E03;&#x670D;&#x52A1;&#x7AEF;"><a href="#&#x1F349;&#x5B9E;&#x73B0;&#x53D1;&#x5E03;&#x670D;&#x52A1;&#x7AEF;" class="headerlink" title="&#x1F349;&#x5B9E;&#x73B0;&#x53D1;&#x5E03;&#x670D;&#x52A1;&#x7AEF;"></a>&#x1F349;&#x5B9E;&#x73B0;&#x53D1;&#x5E03;&#x670D;&#x52A1;&#x7AEF;</h3><h4 id="1-&#x521B;&#x5EFA;&#x670D;&#x52A1;&#x7AEF;&#x6A21;&#x5757;weatherServerTest"><a href="#1-&#x521B;&#x5EFA;&#x670D;&#x52A1;&#x7AEF;&#x6A21;&#x5757;weatherServerTest" class="headerlink" title="1. &#x521B;&#x5EFA;&#x670D;&#x52A1;&#x7AEF;&#x6A21;&#x5757;weatherServerTest"></a>1. &#x521B;&#x5EFA;&#x670D;&#x52A1;&#x7AEF;&#x6A21;&#x5757;weatherServerTest</h4><blockquote>
<p>&#x521B;&#x5EFA;&#x8FC7;&#x7A0B;&#x57FA;&#x672C;&#x7C7B;&#x4F3C;&#x7684;&#x3002;&#x5982;&#x679C;&#x4F60;&#x60F3;&#x9009;&#x62E9;&#x4F7F;&#x7528;&#x6211;&#xFF0C;&#x90A3;&#x4E48;&#x6211;&#x4F1A;&#x63D0;&#x8BAE;&#x4F60;&#x5148;&#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x670D;&#x52A1;&#x7AEF;&#xFF0C;&#x8FD9;&#x6837;&#x522B;&#x4EBA;&#x53EF;&#x4EE5;&#x8FDB;&#x884C;&#x8BBF;&#x95EE;&#xFF0C;&#x6216;&#x8005;&#x4F7F;&#x7528;&#x4ED6;&#x4EBA;&#x7684;&#x670D;&#x52A1;&#x7AEF;&#x90FD;OK&#x7684;&#x5566;&#x3002;&#x8FD9;&#x91CC;&#x5148;&#x4F1A;&#x5B8C;&#x6210;&#x521B;&#x5EFA;&#x51FA;&#x4E00;&#x4E2A;&#x670D;&#x52A1;&#x7AEF;&#x6A21;&#x5757;&#x51FA;&#x6765;&#xFF0C;&#x540E;&#x7EED;&#x7684;&#x521B;&#x5EFA;&#x5BA2;&#x6237;&#x7AEF;&#x6A21;&#x5757;&#x57FA;&#x672C;&#x7C7B;&#x4F3C;&#x3002;&#x8FD9;&#x91CC;&#x6211;&#x4EEC;&#x76F4;&#x63A5;&#x9009;&#x62E9;&#x4E00;&#x4E2A;Maven&#x9879;&#x76EE;&#x5373;&#x53EF;&#xFF0C;&#x4E5F;&#x53EF;&#x4EE5;&#x81EA;&#x884C;&#x9009;&#x62E9;&#x4E00;&#x4E2A;&#x666E;&#x901A;Java&#x9879;&#x76EE;&#x90FD;&#x884C;&#x3002;JDK&#x4E3A;&#x6D41;&#x884C;&#x7684;JDK8&#x5373;&#x53EF;&#x3002;</p>
</blockquote>
<p><img src="https://gitee.com/songjianzaina/juejin_p5/raw/master/img/d2648155908978ee6b0de914754ac801b373877c194635d23af54c833ee784df" alt></p>
<p><img src="https://gitee.com/songjianzaina/juejin_p5/raw/master/img/d669bbda145f4309727b9d57ae64ccfb2e8085fe957948872f1541ccd0a7f5fc" alt></p>
<p><img src="https://gitee.com/songjianzaina/juejin_p5/raw/master/img/b9bdf00b217188b6f10cca484c9bf6f72c5a10b98d937bb1ad20e8470700c6c7" alt></p>
<p>&#x6700;&#x7EC8;&#x5F97;&#x5230;&#x7684;&#x7A7A;&#x6A21;&#x5757;&#x670D;&#x52A1;&#x7AEF;&#x5982;&#x4E0B;&#xFF1A;</p>
<p><img src="https://gitee.com/songjianzaina/juejin_p5/raw/master/img/7f4bc8977e7b044b9cf1c58be7c053b4857e68ccc876ee983eba3eefe7bcd23a" alt></p>
<h4 id="2-&#x63D0;&#x4F9B;&#x5929;&#x6C14;&#x670D;&#x52A1;"><a href="#2-&#x63D0;&#x4F9B;&#x5929;&#x6C14;&#x670D;&#x52A1;" class="headerlink" title="2. &#x63D0;&#x4F9B;&#x5929;&#x6C14;&#x670D;&#x52A1;"></a>2. &#x63D0;&#x4F9B;&#x5929;&#x6C14;&#x670D;&#x52A1;</h4><blockquote>
<p>&#x63A5;&#x4E0B;&#x6765;&#x5C31;&#x662F;&#x5F00;&#x53D1;&#x670D;&#x52A1;&#x7AEF;&#x4EE3;&#x7801;&#x3002;&#x63D0;&#x4F9B;&#x7B80;&#x5355;&#x7684;&#x57CE;&#x5E02;&#x5929;&#x6C14;&#x670D;&#x52A1;&#x3002;</p>
</blockquote>
<ol>
<li>&#x5B9A;&#x4E49;&#x4E00;&#x4E2A;&#x5929;&#x6C14;&#x4E1A;&#x52A1;&#x63A5;&#x53E3;IWeatherService</li>
</ol>
<p><img src="https://gitee.com/songjianzaina/juejin_p5/raw/master/img/9d86ccc7be21a42e0aab25df250c5a436eb4d06d315fc021e9dcee518b47cf8a" alt></p>
<p><img src="https://gitee.com/songjianzaina/juejin_p5/raw/master/img/a3d29fea3af283fd77f9e547d242b689cd0ba167158c4b5fd052d5a0395a6b69" alt></p>
<p><img src="https://gitee.com/songjianzaina/juejin_p5/raw/master/img/b87f9336714a2d33ce8cc42ba4bf95f323f27ce7ecc528f9c600475ae82463f8" alt></p>
<p>&#x4EE3;&#x7801;&#x5982;&#x4E0B;&#xFF1A;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">java&#x590D;&#x5236;&#x4EE3;&#x7801;package com.ws.service;</span><br><span class="line"></span><br><span class="line">public interface IWeatherSerice {</span><br><span class="line">    /**</span><br><span class="line">     * &#x901A;&#x8FC7;&#x57CE;&#x5E02;&#x540D;&#x5F97;&#x5230;&#x5BF9;&#x5E94;&#x7684;&#x5929;&#x6C14;</span><br><span class="line">     * @param city &#x57CE;&#x5E02;</span><br><span class="line">     * @return &#x5929;&#x6C14;</span><br><span class="line">     */</span><br><span class="line">    public String queryWeather(String city);</span><br><span class="line">}</span><br></pre></td></tr></table></figure>

<ol start="2">
<li>&#x7F16;&#x5199;&#x5BF9;&#x5E94;&#x7684;&#x63A5;&#x53E3;&#x5B9E;&#x73B0;&#x7C7B;WeatherServiceImpl</li>
</ol>
<p><img src="https://gitee.com/songjianzaina/juejin_p5/raw/master/img/5d0c3f581e705e287b4274ccdeced402ad4cb814ff242acbc7ace57cd093bf36" alt></p>
<p>&#x5BF9;&#x5E94;&#x7684;&#x4EE3;&#x7801;&#x5982;&#x4E0B;&#xFF1A;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">java&#x590D;&#x5236;&#x4EE3;&#x7801;package com.ws.service.impl;</span><br><span class="line"></span><br><span class="line">import com.ws.service.IWeatherSerice;</span><br><span class="line">import javax.jws.WebService;</span><br><span class="line"></span><br><span class="line">@WebService  // &#x7528;&#x8BE5;&#x6CE8;&#x89E3;&#x4FEE;&#x6539;&#x8868;&#x793A;&#x5F53;&#x524D;&#x7C7B;&#x662F;&#x4E00;&#x4E2A;&#x670D;&#x52A1;&#x7C7B; &#x5FC5;&#x987B;&#x52A0;&#x4E0A;&#x7684;&#xFF0C;&#x4E0D;&#x7136;&#x542F;&#x52A8;&#x670D;&#x52A1;&#x7684;&#x65F6;&#x5019;&#x4F1A;&#x62A5;&#x9519;&#x3002;</span><br><span class="line">public class WeatherServiceImpl implements IWeatherSerice {</span><br><span class="line"></span><br><span class="line">    @Override</span><br><span class="line">    public String queryWeather(String city) {</span><br><span class="line">        // &#x8FD9;&#x91CC;&#x76F4;&#x63A5;&#x8FD4;&#x56DE;&#x5BF9;&#x5E94;&#x7684;&#x57CE;&#x5E02;&#x548C;&#x6674;&#x5929;&#xFF01;&#xFF01;&#xFF01;</span><br><span class="line">        return city + &quot;&#x7684;&#x5929;&#x6C14;&#x4E3A;&#xFF1A;&#x6674;&#x5929;&#xFF01;&quot;;</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></table></figure>

<ol start="3">
<li>&#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x7528;&#x4E8E;&#x53D1;&#x5E03;&#x670D;&#x52A1;&#x7684;&#x7C7B;WeatherServerDemo&#x3002;</li>
</ol>
<p><img src="https://gitee.com/songjianzaina/juejin_p5/raw/master/img/1eca698e7305e8f5fe3e40c040b7111d8f0e7d90a843e6e906c0cd2490558c3e" alt></p>
<p>&#x5BF9;&#x5E94;&#x7684;&#x4EE3;&#x7801;&#x5982;&#x4E0B;&#xFF1A;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">java&#x590D;&#x5236;&#x4EE3;&#x7801;package com.ws.server;</span><br><span class="line"></span><br><span class="line">import com.ws.service.impl.WeatherServiceImpl;</span><br><span class="line">import javax.xml.ws.Endpoint;</span><br><span class="line"></span><br><span class="line">public class WeatherServerDemo {</span><br><span class="line"></span><br><span class="line">    public static void main(String[] args) {</span><br><span class="line">        /**</span><br><span class="line">         * address: &#x670D;&#x52A1;&#x5730;&#x5740; --&gt; &#x63D0;&#x4F9B;&#x8BBF;&#x95EE;&#x7684;&#x5730;&#x5740;</span><br><span class="line">         * implementor: &#x670D;&#x52A1;&#x7C7B;  --&gt; &#x63D0;&#x4F9B;&#x8BBF;&#x95EE;&#x7684;&#x63A5;&#x53E3;&#x7684;&#x5B9E;&#x73B0;&#x7C7B;</span><br><span class="line">         */</span><br><span class="line">        Endpoint.publish(&quot;http://localhost:8086/weatherServer&quot;, new WeatherServiceImpl());</span><br><span class="line">        System.out.println(&quot;&#x670D;&#x52A1;&#x53D1;&#x5E03;&#x6210;&#x529F;&quot;);</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></table></figure>

<ol start="4">
<li>&#x8FD0;&#x884C;main&#x65B9;&#x6CD5;&#xFF0C;&#x5F00;&#x542F;&#x670D;&#x52A1;&#xFF1A;</li>
</ol>
<p><img src="https://gitee.com/songjianzaina/juejin_p5/raw/master/img/5e2204d4bc80cd155ab3fb673bfd7d735df2ddd8c91012c586b56bd3118cb2b6" alt></p>
<p>&#x53EF;&#x4EE5;&#x770B;&#x5230;&#x63A7;&#x5236;&#x53F0;&#xFF0C;&#x4ED6;&#x6CA1;&#x6709;&#x8FD0;&#x884C;&#x5B8C;&#x6210;&#x540E;&#x5173;&#x95ED;&#xFF0C;&#x5E76;&#x4E14;&#x663E;&#x793A;&#x670D;&#x52A1;&#x53D1;&#x5E03;&#x6210;&#x529F;&#x4E86;&#x3002;&#x63A5;&#x4E0B;&#x6765;&#x5C31;&#x5728;&#x7EBF;&#x770B;&#x770B;&#x6211;&#x4EEC;&#x53D1;&#x5E03;&#x7684;&#x670D;&#x52A1;&#x3002;</p>
<h4 id="3-&#x8BBF;&#x95EE;&#x670D;&#x52A1;"><a href="#3-&#x8BBF;&#x95EE;&#x670D;&#x52A1;" class="headerlink" title="3. &#x8BBF;&#x95EE;&#x670D;&#x52A1;"></a>3. &#x8BBF;&#x95EE;&#x670D;&#x52A1;</h4><blockquote>
<p>&#x8BBF;&#x95EE;&#x521A;&#x624D;&#x63D0;&#x4F9B;&#x7684;&#x8BBF;&#x95EE;&#x7684;&#x5730;&#x5740;&#x52A0;&#x4E0A;?wsdl&#xFF0C;&#x5982;&#xFF1A;<a href="/external_links/5cdb1a57b62847338a7981597c625d60.html" target="blank" rel="noopener">http://localhost:8086/weatherServer?wsdl</a></p>
</blockquote>
<p><img src="https://gitee.com/songjianzaina/juejin_p5/raw/master/img/32de8a73a374e5174630e9c3ab651dbde3d8b5643b7d66fa86646a7aba30fcaf" alt></p>
<p>&#x90A3;&#x5982;&#x4F55;&#x770B;&#x8FD9;&#x4E2A;wsdl&#x6587;&#x6863;&#x5462;&#xFF1F;&#x4E0D;&#x6015;&#xFF0C;&#x8BA9;&#x6211;&#x6765;&#x6559;&#x4F60;&#x770B;&#x51E0;&#x4E2A;&#x91CD;&#x8981;&#x7684;&#x90E8;&#x5206;&#x5C31;&#x4E00;&#x76EE;&#x4E86;&#x7136;&#x5566;&#xFF01;&#x6CE8;&#x610F;&#xFF1A;wsdl&#x6587;&#x6863;&#x9700;&#x8981;&#x4ECE;&#x4E0B;&#x5F80;&#x4E0A;&#x770B;</p>
<blockquote>
<ul>
<li>&#xFF1A;&#x670D;&#x52A1;&#x89C6;&#x56FE;&#x540D;&#x79F0;&#xFF0C;WebService&#x7684;&#x670D;&#x52A1;&#x7AEF;&#x70B9;</li>
<li>&#xFF1A;Web Services&#x7684;&#x901A;&#x4FE1;&#x534F;&#x8BAE;&#xFF0C;&#x8FD8;&#x63CF;&#x8FF0;Web Services&#x7684;&#x65B9;&#x6CD5;&#x3001;&#x8F93;&#x5165;&#x3001;&#x8F93;&#x51FA;&#x3002;</li>
<li>&#xFF1A;&#x63CF;&#x8FF0;&#x4E86;WebService&#x53EF;&#x6267;&#x884C;&#x7684;&#x64CD;&#x4F5C;&#xFF0C;&#x901A;&#x8FC7;binding&#x6307;&#x5411;portType</li>
<li>&#xFF1A;&#x63CF;&#x8FF0;&#x4E86;&#x670D;&#x52A1;&#x4E2D;&#x53D1;&#x5E03;&#x7684;&#x65B9;&#x6CD5;&#xFF0C;&#x5305;&#x62EC;&#x53C2;&#x6570;&#xFF0C;&#x8FD4;&#x56DE;&#x503C;&#x7B49;&#x3002;</li>
<li>&#xFF1A;&#x5B9A;&#x4E49;&#x4E86;WebService&#x4E2D;&#x4F7F;&#x7528;&#x7684;&#x6570;&#x636E;&#x7C7B;&#x578B;</li>
</ul>
</blockquote>
<p><img src="https://gitee.com/songjianzaina/juejin_p5/raw/master/img/22b292a4ee139228fe610d50d3bb3cd199c5fa6d5dd0a9f6d2edbdd905d9aed5" alt></p>
<p>&#x8BBF;&#x95EE;&#x4E00;&#x4E2A;&#x8BE6;&#x7EC6;&#x7684;&#x53C2;&#x6570;&#x9875;&#x9762;&#xFF1A;<a href="/external_links/d0d4e469437f6e9dcddcda3ad7308724.html" target="blank" rel="noopener">http://localhost:8086/weatherServer?xsd=1</a></p>
<p><img src="https://gitee.com/songjianzaina/juejin_p5/raw/master/img/141c02c039a1b08885fc1c09d11ddb39efc58cc12e3db0272797d508844393ff" alt></p>
<h3 id="&#x1F34A;-&#x5B9E;&#x73B0;&#x5BA2;&#x6237;&#x7AEF;&#x8BBF;&#x95EE;&#x7684;&#x51E0;&#x79CD;&#x65B9;&#x5F0F;"><a href="#&#x1F34A;-&#x5B9E;&#x73B0;&#x5BA2;&#x6237;&#x7AEF;&#x8BBF;&#x95EE;&#x7684;&#x51E0;&#x79CD;&#x65B9;&#x5F0F;" class="headerlink" title="&#x1F34A; &#x5B9E;&#x73B0;&#x5BA2;&#x6237;&#x7AEF;&#x8BBF;&#x95EE;&#x7684;&#x51E0;&#x79CD;&#x65B9;&#x5F0F;"></a>&#x1F34A; &#x5B9E;&#x73B0;&#x5BA2;&#x6237;&#x7AEF;&#x8BBF;&#x95EE;&#x7684;&#x51E0;&#x79CD;&#x65B9;&#x5F0F;</h3><h4 id="1-&#x521B;&#x5EFA;&#x5BA2;&#x6237;&#x7AEF;&#x6A21;&#x5757;weatherClientTest"><a href="#1-&#x521B;&#x5EFA;&#x5BA2;&#x6237;&#x7AEF;&#x6A21;&#x5757;weatherClientTest" class="headerlink" title="1. &#x521B;&#x5EFA;&#x5BA2;&#x6237;&#x7AEF;&#x6A21;&#x5757;weatherClientTest"></a>1. &#x521B;&#x5EFA;&#x5BA2;&#x6237;&#x7AEF;&#x6A21;&#x5757;weatherClientTest</h4><p>&#x7ED3;&#x6784;&#xFF1A;</p>
<p><img src="https://gitee.com/songjianzaina/juejin_p5/raw/master/img/b7b17d0f5ddf098a127f9a4647c7a9e05494bb0875c34f9b7d4dc09343b63614" alt></p>
<h4 id="2-&#x751F;&#x6210;&#x5BF9;&#x5E94;&#x7684;&#x5BA2;&#x6237;&#x7AEF;&#x4EE3;&#x7801;"><a href="#2-&#x751F;&#x6210;&#x5BF9;&#x5E94;&#x7684;&#x5BA2;&#x6237;&#x7AEF;&#x4EE3;&#x7801;" class="headerlink" title="2. &#x751F;&#x6210;&#x5BF9;&#x5E94;&#x7684;&#x5BA2;&#x6237;&#x7AEF;&#x4EE3;&#x7801;"></a>2. &#x751F;&#x6210;&#x5BF9;&#x5E94;&#x7684;&#x5BA2;&#x6237;&#x7AEF;&#x4EE3;&#x7801;</h4><blockquote>
<p>&#x4E3A;&#x4EC0;&#x4E48;&#x9700;&#x8981;&#x4E0B;&#x8F7D;&#x5BA2;&#x6237;&#x7AEF;&#x4EE3;&#x7801;&#xFF0C;&#x9996;&#x5148;&#x524D;&#x9762;&#x4E24;&#x4E2A;&#x65B9;&#x5F0F;&#x9700;&#x8981;&#x7528;&#x5230;&#x670D;&#x52A1;&#x7AEF;&#x4EE3;&#x7801;&#x7684;&#x63A5;&#x53E3;&#xFF0C;&#x7136;&#x540E;&#x5982;&#x679C;&#x4F60;&#x662F;&#x8BBF;&#x95EE;&#x8FDC;&#x7A0B;&#x7684;&#x670D;&#x52A1;&#x7AEF;&#xFF0C;&#x90A3;&#x4F60;&#x4E5F;&#x5C31;&#x8BBF;&#x95EE;&#x4E0D;&#x4E86;&#x3002;</p>
<p>&#x8FD9;&#x91CC;&#x4F1A;&#x4ECB;&#x7ECD;jdk&#x81EA;&#x5E26;&#x7684;&#x547D;&#x4EE4;&#xFF1A;wsimport</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">java&#x590D;&#x5236;&#x4EE3;&#x7801;wsimport&#x662F;jdk&#x81EA;&#x5E26;&#x7684;webservice&#x5BA2;&#x6237;&#x7AEF;&#x5DE5;&#x5177;,&#x53EF;&#x4EE5;&#x6839;&#x636E;wsdl&#x6587;&#x6863;&#x751F;&#x6210;&#x5BA2;&#x6237;&#x7AEF;&#x8C03;&#x7528;&#x4EE3;&#x7801;(java&#x4EE3;&#x7801;).</span><br><span class="line">wsimport.exe&#x4F4D;&#x4E8E;JAVA_HOME\bin&#x76EE;&#x5F55;&#x4E0B; </span><br><span class="line">&#x5E38;&#x7528;&#x53C2;&#x6570;&#x4E3A;:</span><br><span class="line">        -d&lt;&#x76EE;&#x5F55;&gt;  - &#x5C06;&#x751F;&#x6210;.class&#x6587;&#x4EF6;&#x3002;&#x9ED8;&#x8BA4;&#x53C2;&#x6570;&#x3002;</span><br><span class="line">        -s&lt;&#x76EE;&#x5F55;&gt; - &#x5C06;&#x751F;&#x6210;.java&#x6587;&#x4EF6;&#x3002;</span><br><span class="line">        -p&lt;&#x751F;&#x6210;&#x7684;&#x65B0;&#x5305;&#x540D;&gt; -&#x5C06;&#x751F;&#x6210;&#x7684;&#x7C7B;&#xFF0C;&#x653E;&#x4E8E;&#x6307;&#x5B9A;&#x7684;&#x5305;&#x4E0B;</span><br><span class="line">wsimport -s ./ http://localhost:8086/weatherServer?wsdl</span><br></pre></td></tr></table></figure>

<p>&#x751F;&#x6210;&#x6B65;&#x9AA4;&#xFF1A;</p>
<ul>
<li>&#x8FDB;&#x5165;&#x5230;&#x5BA2;&#x6237;&#x7AEF;&#x6A21;&#x5757;&#x7684;src&#x7684;java&#x76EE;&#x5F55;&#x4E0B;</li>
</ul>
<p><img src="https://gitee.com/songjianzaina/juejin_p5/raw/master/img/92516d498d3a63445a50c10806f9068640850c0c289c1fc4f4316fb215db8de1" alt></p>
<p><img src="https://gitee.com/songjianzaina/juejin_p5/raw/master/img/c47cd7c930c2b1393e70ad1f69f2778b9a1aba183be60a12b004b128b93ea26c" alt></p>
<ul>
<li>&#x5728;&#x8BE5;&#x76EE;&#x5F55;&#x4E2D;&#xFF0C;&#x8FDB;&#x5165;&#x547D;&#x4EE4;&#x884C;&#x6A21;&#x5F0F;&#xFF0C;&#x7136;&#x540E;&#x8F93;&#x5165;<code>wsimport -s ./ http://localhost:8086/weatherServer?wsdl</code>&#xFF0C;&#x4E0B;&#x8F7D;&#x521A;&#x624D;&#x542F;&#x52A8;&#x7684;&#x670D;&#x52A1;&#x7AEF;&#x4EE3;&#x7801;&#x3002;&#x6CE8;&#x610F;&#xFF1A;&#x8FD9;&#x4E00;&#x6B65;&#x5F97;&#x4FDD;&#x8BC1;&#x670D;&#x52A1;&#x7AEF;&#x662F;&#x542F;&#x52A8;&#x53EF;&#x8BBF;&#x95EE;&#x72B6;&#x6001;&#x3002;</li>
</ul>
<p><img src="https://gitee.com/songjianzaina/juejin_p5/raw/master/img/00dc940d119158e32ff8cad47df2fe3e3695d6765ac929f10134230bf1278016" alt></p>
<p><img src="https://gitee.com/songjianzaina/juejin_p5/raw/master/img/19a126157be324591bb7638ec80a7f44ea88d5f0bad6b03b200814ba6ef3ff88" alt></p>
<ul>
<li>&#x6700;&#x7EC8;&#x751F;&#x6210;&#x4EE3;&#x7801;&#x7684;&#x7ED3;&#x6784;&#x5728;IDEA&#x7ED3;&#x6784;&#x4E3A;&#xFF1A;</li>
</ul>
<p><img src="https://gitee.com/songjianzaina/juejin_p5/raw/master/img/cb6e71f44ead74c011b374d75e4d26b9f05aa450340d98746a048d6b9de524e2" alt></p>
<p>&#x200B; &#x8FD9;&#x91CC;&#x5F97;&#x5230;&#x7684;&#x4EE3;&#x7801;&#x8DDF;wsdl&#x6587;&#x6863;&#x5BF9;&#x5E94;&#x7684;&#x540D;&#x79F0;&#x53EF;&#x4EE5;&#x4E00;&#x4E00;&#x5BF9;&#x5E94;&#x3002;&#x5F53;&#x7136;&#x5982;&#x679C;&#x4F60;&#x60F3;&#x6539;&#x5305;&#x540D;&#x7684;&#x8BDD;&#xFF0C;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;-p&#x53C2;&#x6570;&#x3002;</p>
<h4 id="3-&#x5BA2;&#x6237;&#x7AEF;&#x8BBF;&#x95EE;&#x65B9;&#x5F0F;1"><a href="#3-&#x5BA2;&#x6237;&#x7AEF;&#x8BBF;&#x95EE;&#x65B9;&#x5F0F;1" class="headerlink" title="3. &#x5BA2;&#x6237;&#x7AEF;&#x8BBF;&#x95EE;&#x65B9;&#x5F0F;1"></a>3. &#x5BA2;&#x6237;&#x7AEF;&#x8BBF;&#x95EE;&#x65B9;&#x5F0F;1</h4><blockquote>
<p>&#x7B2C;&#x4E00;&#x79CD;&#x65B9;&#x5F0F;&#xFF1A;&#x901A;&#x8FC7;&#x5F97;&#x5230;&#x7684;&#x4EE3;&#x7801;&#xFF0C;service&#x65B9;&#x5F0F;&#x8C03;&#x7528;&#x3002;</p>
</blockquote>
<p>&#x7ED3;&#x6784;&#x5982;&#x4E0B;&#xFF1A;</p>
<p><img src="https://gitee.com/songjianzaina/juejin_p5/raw/master/img/d84746547adbccfc2843f7f56f712aaeecaec3067d48ede775c38ab1afee97ce" alt></p>
<p>&#x4EE3;&#x7801;&#x5982;&#x4E0B;&#xFF1A;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">java&#x590D;&#x5236;&#x4EE3;&#x7801;package com.ws.client;</span><br><span class="line"></span><br><span class="line">import com.ws.service.impl.WeatherServiceImpl;</span><br><span class="line">import com.ws.service.impl.WeatherServiceImplService;</span><br><span class="line"></span><br><span class="line">public class WeatherClientDemo1 {</span><br><span class="line">    public static void main(String[] args) {</span><br><span class="line">        // 1. &#x521B;&#x5EFA;&#x670D;&#x52A1;&#x89C6;&#x56FE;</span><br><span class="line">        WeatherServiceImplService weatherServiceImplService = new WeatherServiceImplService();</span><br><span class="line"></span><br><span class="line">        // 2. &#x5F97;&#x5230;&#x670D;&#x52A1;&#x5B9E;&#x73B0;&#x7C7B;</span><br><span class="line">        WeatherServiceImpl weatherService = weatherServiceImplService.getPort(WeatherServiceImpl.class);</span><br><span class="line"></span><br><span class="line">        // 3. &#x8C03;&#x7528;&#x63A5;&#x53E3;&#x7684;&#x65B9;&#x6CD5;</span><br><span class="line">        String result = weatherService.queryWeather(&quot;&#x5E7F;&#x5DDE;&quot;);</span><br><span class="line"></span><br><span class="line">        // 4. &#x8FD4;&#x56DE;&#x8FDC;&#x7A0B;&#x8BBF;&#x95EE;&#x5F97;&#x5230;&#x7684;&#x7ED3;&#x679C; --&gt; result = &#x5E7F;&#x5DDE;&#x7684;&#x5929;&#x6C14;&#x4E3A;&#xFF1A;&#x6674;&#x5929;&#xFF01;</span><br><span class="line">        System.out.println(&quot;result = &quot; + result);</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></table></figure>

<p>&#x6700;&#x7EC8;&#x6211;&#x4EEC;&#x8FD0;&#x884C;&#x540E;&#x5F97;&#x5230;&#x7684;&#x7ED3;&#x679C;&#x4E5F;&#x6B63;&#x5982;&#x6240;&#x9884;&#x6599;&#x7684;&#x4E00;&#x822C;&#xFF1A;</p>
<p><img src="https://gitee.com/songjianzaina/juejin_p5/raw/master/img/ce74ed40fdfa5bb12c95c8b96969621994918fdeed36665388cfc2d5a844ff64" alt></p>
<h4 id="4-&#x5BA2;&#x6237;&#x7AEF;&#x8BBF;&#x95EE;&#x65B9;&#x5F0F;2"><a href="#4-&#x5BA2;&#x6237;&#x7AEF;&#x8BBF;&#x95EE;&#x65B9;&#x5F0F;2" class="headerlink" title="4. &#x5BA2;&#x6237;&#x7AEF;&#x8BBF;&#x95EE;&#x65B9;&#x5F0F;2"></a>4. &#x5BA2;&#x6237;&#x7AEF;&#x8BBF;&#x95EE;&#x65B9;&#x5F0F;2</h4><p>&#x4E4B;&#x524D;&#x8FD9;&#x4E00;&#x6B65;&#x6709;&#x4EC0;&#x4E48;&#x7F3A;&#x9677;&#x5462;&#xFF0C;&#x5E94;&#x8BE5;&#x5F88;&#x6E05;&#x695A;&#x5427;&#xFF1A;&#x6211;&#x4EEC;&#x56FA;&#x5B9A;&#x4E86;&#x4E00;&#x4E2A;&#x670D;&#x52A1;&#x5730;&#x5740;&#x4E86;&#xFF0C;&#x800C;&#x4E14;&#x5982;&#x679C;&#x8981;&#x6539;&#x670D;&#x52A1;&#x5730;&#x5740;&#x7684;&#x8BDD;&#xFF0C;&#x53EF;&#x80FD;&#x8FD8;&#x9700;&#x8981;&#x518D;&#x751F;&#x6210;&#x4E00;&#x904D;&#x4EE3;&#x7801;&#x3002;</p>
<p>&#x6240;&#x4EE5;&#x6211;&#x4EEC;&#x628A;&#x670D;&#x52A1;&#x5730;&#x5740;&#x5199;&#x51FA;&#x6765;&#xFF0C;&#x7ED3;&#x6784;&#x5982;&#x4E0B;&#xFF1A;</p>
<p><img src="https://gitee.com/songjianzaina/juejin_p5/raw/master/img/979f95d8de0793ee99fbb9e30a964538a848a41be2d422aeb8f96b543113a712" alt></p>
<p>&#x4EE3;&#x7801;&#x5982;&#x4E0B;&#xFF1A;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line">java&#x590D;&#x5236;&#x4EE3;&#x7801;package com.ws.client;</span><br><span class="line"></span><br><span class="line">import com.ws.service.impl.WeatherServiceImpl;</span><br><span class="line">import com.ws.service.impl.WeatherServiceImplService;</span><br><span class="line">import javax.xml.namespace.QName;</span><br><span class="line">import javax.xml.ws.Service;</span><br><span class="line">import java.net.MalformedURLException;</span><br><span class="line">import java.net.URL;</span><br><span class="line"></span><br><span class="line">public class WeatherClientDemo2 {</span><br><span class="line">    public static void main(String[] args) throws Exception {</span><br><span class="line">        // 1. &#x8BBE;&#x7F6E;&#x8BBF;&#x95EE;&#x7684;&#x670D;&#x52A1;&#x7AEF;&#x5730;&#x5740;</span><br><span class="line">        URL url = new URL(&quot;http://localhost:8086/weatherServer?wsdl&quot;);</span><br><span class="line">        </span><br><span class="line">         /*</span><br><span class="line">            2.&#x8BBE;&#x7F6E;&#x670D;&#x52A1;&#x540D;&#x79F0;&#x548C;&#x547D;&#x540D;&#x7A7A;&#x95F4;</span><br><span class="line">             namespaceURI: wsdl&#x7684;&#x547D;&#x540D;&#x7A7A;&#x95F4;(targetNamespace)</span><br><span class="line">             localPart: &#x662F;&#x670D;&#x52A1;&#x89C6;&#x56FE;&#x7684;&#x540D;&#x79F0;(service&#x7684;name&#x503C;)</span><br><span class="line">         */</span><br><span class="line">        QName qName = new QName(&quot;http://impl.service.ws.com/&quot;, &quot;WeatherServiceImplService&quot;);</span><br><span class="line">        </span><br><span class="line">        // 3. &#x751F;&#x6210;&#x670D;&#x52A1;&#x89C6;&#x56FE;</span><br><span class="line">        Service service = Service.create(url, qName);</span><br><span class="line">        </span><br><span class="line">        // 4. &#x5F97;&#x5230;&#x670D;&#x52A1;&#x89C6;&#x56FE;&#x7684;&#x5B9E;&#x73B0;&#x7C7B; --&gt; WeatherServiceImpl</span><br><span class="line">        WeatherServiceImpl weatherServiceImpl = service.getPort(WeatherServiceImpl.class);</span><br><span class="line"></span><br><span class="line">        // 5. &#x8C03;&#x7528;&#x63A5;&#x53E3;&#x65B9;&#x6CD5;&#x5F97;&#x5230;&#x7ED3;&#x679C;&#xFF01; --&gt; result = &#x6DF1;&#x5733;&#x7684;&#x5929;&#x6C14;&#x4E3A;&#xFF1A;&#x6674;&#x5929;&#xFF01;</span><br><span class="line">        String result = weatherServiceImpl.queryWeather(&quot;&#x6DF1;&#x5733;&quot;);</span><br><span class="line">        System.out.println(&quot;result = &quot; + result);</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></table></figure>

<p>&#x8FD9;&#x4E9B;&#x5BF9;&#x5E94;&#x7684;&#x53C2;&#x6570;&#x5728;wsdl&#x7684;&#x90A3;&#x4E2A;&#x4F4D;&#x7F6E;&#x5462;&#xFF1F; &#x770B;&#x6211;&#x6307;&#x7ED9;&#x4F60;&#xFF1A;</p>
<p><img src="https://gitee.com/songjianzaina/juejin_p5/raw/master/img/842ace6d85707f96d2b97583444f2fe27a7a5bbeeea5151e5da05b739ca661a8" alt></p>
<p>&#x8FD9;&#x7B2C;&#x4E8C;&#x79CD;&#x65B9;&#x5F0F;&#x662F;&#x6BD4;&#x8F83;&#x5E38;&#x7528;&#x7684;&#x65B9;&#x5F0F;&#xFF0C;&#x9996;&#x5148;&#x63A8;&#x8350;&#xFF01;</p>
<h4 id="5-&#x5BA2;&#x6237;&#x7AEF;&#x8BBF;&#x95EE;&#x65B9;&#x5F0F;3"><a href="#5-&#x5BA2;&#x6237;&#x7AEF;&#x8BBF;&#x95EE;&#x65B9;&#x5F0F;3" class="headerlink" title="5. &#x5BA2;&#x6237;&#x7AEF;&#x8BBF;&#x95EE;&#x65B9;&#x5F0F;3"></a>5. &#x5BA2;&#x6237;&#x7AEF;&#x8BBF;&#x95EE;&#x65B9;&#x5F0F;3</h4><p>&#x5728;&#x4E0D;&#x9700;&#x8981;&#x4E0B;&#x8F7D;&#x670D;&#x52A1;&#x7AEF;&#x4EE3;&#x7801;&#x7684;&#xFF0C;&#x901A;&#x8FC7;HTTPURLConnection&#x7684;&#x65B9;&#x5F0F;&#x8FDB;&#x884C;&#x8BBF;&#x95EE;&#x670D;&#x52A1;&#x7AEF;&#x3002;&#x53EA;&#x662F;&#x8FD9;&#x91CC;&#x4EE3;&#x7801;&#x5C31;&#x76F8;&#x5BF9;&#x6BD4;&#x8F83;&#x957F;&#x5566;&#xFF0C;&#x800C;&#x4E14;&#x9700;&#x8981;&#x81EA;&#x884C;&#x5B9A;&#x4E49;XML&#x5B57;&#x7B26;&#x4E32;&#x548C;&#x89E3;&#x6790;&#x5B57;&#x7B26;&#x4E32;&#x3002;</p>
<ol>
<li>&#x5728;pom.xml&#x6587;&#x4EF6;&#x4E2D;&#x52A0;&#x5165;&#x4E00;&#x4E2A;dom4j&#x7684;&#x4F9D;&#x8D56;&#x5305;</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">java&#x590D;&#x5236;&#x4EE3;&#x7801;&lt;dependencies&gt;</span><br><span class="line">    &lt;dependency&gt;</span><br><span class="line">        &lt;groupId&gt;org.dom4j&lt;/groupId&gt;</span><br><span class="line">        &lt;artifactId&gt;dom4j&lt;/artifactId&gt;</span><br><span class="line">        &lt;version&gt;2.1.1&lt;/version&gt;</span><br><span class="line">    &lt;/dependency&gt;</span><br><span class="line"></span><br><span class="line">    &lt;dependency&gt;</span><br><span class="line">        &lt;groupId&gt;jaxen&lt;/groupId&gt;</span><br><span class="line">        &lt;artifactId&gt;jaxen&lt;/artifactId&gt;</span><br><span class="line">        &lt;version&gt;1.1.1&lt;/version&gt;</span><br><span class="line">    &lt;/dependency&gt;</span><br><span class="line">&lt;/dependencies&gt;</span><br></pre></td></tr></table></figure>

<p>&#x7ED3;&#x6784;&#x5982;&#x4E0B;&#xFF1A;</p>
<p><img src="https://gitee.com/songjianzaina/juejin_p5/raw/master/img/030ae802f5bbd516cd3c1d04d73d4abbcaf0cc9aa7aa2483c8428e491b6aaba1" alt><br>2. &#x521B;&#x5EFA;&#x5BF9;&#x5E94;&#x7684;&#x6D4B;&#x8BD5;demo&#xFF0C;&#x5927;&#x6982;&#x7ED3;&#x6784;&#x5982;&#x4E0B;&#xFF1A;</p>
<p><img src="https://gitee.com/songjianzaina/juejin_p5/raw/master/img/d05b5dbfb2367464f3be563a1f7ea8f6800e1468c1c026f32ac29c4682fee9bc" alt></p>
<p>&#x4EE3;&#x7801;&#x5982;&#x4E0B;&#xFF1A;&#x53EF;&#x4EE5;&#x590D;&#x5236;&#x5230;IDEA&#x4ED4;&#x7EC6;&#x89C2;&#x770B;&#x3002;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br></pre></td><td class="code"><pre><span class="line">java&#x590D;&#x5236;&#x4EE3;&#x7801;package com.ws.client;</span><br><span class="line"></span><br><span class="line">import org.dom4j.Document;</span><br><span class="line">import org.dom4j.DocumentException;</span><br><span class="line">import org.dom4j.DocumentHelper;</span><br><span class="line">import org.dom4j.Node;</span><br><span class="line"></span><br><span class="line">import java.io.DataOutputStream;</span><br><span class="line">import java.io.InputStream;</span><br><span class="line">import java.net.HttpURLConnection;</span><br><span class="line">import java.net.URL;</span><br><span class="line">import java.util.Scanner;</span><br><span class="line"></span><br><span class="line">public class WeatherClientDemo3 {</span><br><span class="line">    public static void main(String[] args) throws Exception {</span><br><span class="line">        // 1. &#x8BBE;&#x7F6E;&#x8BBF;&#x95EE;&#x7684;&#x670D;&#x52A1;&#x7AEF;&#x5730;&#x5740;</span><br><span class="line">        URL url = new URL(&quot;http://localhost:8086/weatherServer?wsdl&quot;);</span><br><span class="line"></span><br><span class="line">        // 2.&#x6253;&#x5F00;&#x4E00;&#x4E2A;&#x901A;&#x5411;&#x670D;&#x52A1;&#x5730;&#x5740;&#x7684;&#x8FDE;&#x63A5;</span><br><span class="line">        HttpURLConnection connection = (HttpURLConnection) url.openConnection();</span><br><span class="line"></span><br><span class="line">        // 3.&#x8BBE;&#x7F6E;&#x53C2;&#x6570;, --&gt; POST&#x5FC5;&#x987B;&#x5927;&#x5199;,&#x5426;&#x5219;&#x629B;&#x51FA;&#x5F02;&#x5E38;</span><br><span class="line">        connection.setRequestMethod(&quot;POST&quot;);</span><br><span class="line">        // &#x8FD9;&#x91CC;&#x662F;text/xml&#x4E0D;&#x662F;text/html</span><br><span class="line">        connection.setRequestProperty(&quot;content-Type&quot;, &quot;text/xml;charset=utf-8&quot;);</span><br><span class="line"></span><br><span class="line">        // 4.&#x8BBE;&#x7F6E;&#x8F93;&#x5165;&#x8F93;&#x51FA;&#xFF0C;&#x9ED8;&#x8BA4;&#x662F;false&#x6CA1;&#x6709;&#x8BFB;&#x5199;&#x7684;&#x6743;&#x9650;</span><br><span class="line">        connection.setDoOutput(true);</span><br><span class="line">        connection.setDoInput(true);</span><br><span class="line"></span><br><span class="line">        // 5.&#x7EC4;&#x7EC7;SOAP&#x6570;&#x636E;&#xFF0C;&#x53D1;&#x9001;&#x8BF7;&#x6C42;</span><br><span class="line">        String soapXml = getXmlString(&quot;&#x4F5B;&#x5C71;&quot;);</span><br><span class="line">        System.out.println(&quot;soapXml = &quot; + soapXml);</span><br><span class="line"></span><br><span class="line">        // 6. &#x5C06;&#x6570;&#x636E;&#x5199;&#x5165;&#x5230;&#x8F93;&#x51FA;&#x6D41;&#x4E2D;</span><br><span class="line">        DataOutputStream dos = new DataOutputStream(connection.getOutputStream());</span><br><span class="line">        dos.write(soapXml.getBytes(&quot;utf-8&quot;));</span><br><span class="line">        dos.flush();</span><br><span class="line"></span><br><span class="line">        // 7. &#x5224;&#x65AD;&#x8FDC;&#x7A0B;&#x8BBF;&#x95EE;&#x662F;&#x5426;&#x6210;&#x529F;&#xFF0C;&#x5982;&#x679C;&#x54CD;&#x5E94;&#x7801;&#x4E3A;200&#x5373;&#x4E3A;&#x6210;&#x529F;</span><br><span class="line">        if (connection.getResponseCode() == 200) {</span><br><span class="line">            // 8. &#x83B7;&#x53D6;&#x76F8;&#x5E94;&#x7684;&#x8F93;&#x5165;&#x6D41;&#xFF0C;&#x5F97;&#x5230;&#x5BF9;&#x5E94;&#x7684;&#x7ED3;&#x679C;</span><br><span class="line">            InputStream ips = connection.getInputStream();</span><br><span class="line">            Scanner scanner = new Scanner(ips);</span><br><span class="line">            StringBuffer buffer = new StringBuffer();</span><br><span class="line">            while (scanner.hasNextLine()) {</span><br><span class="line">                buffer.append(scanner.nextLine());</span><br><span class="line"></span><br><span class="line">            }</span><br><span class="line">            scanner.close();</span><br><span class="line">            // &#x5F97;&#x5230;&#x4E3A;xml&#x5B57;&#x7B26;&#x4E32;</span><br><span class="line">            System.out.println(&quot;buffer = &quot; + buffer);</span><br><span class="line">            // 9. &#x89E3;&#x6790;xml&#x5B57;&#x7B26;&#x4E32;&#x83B7;&#x5F97;&#x8FD4;&#x56DE;&#x7684;&#x5B57;&#x7B26;&#x4E32;</span><br><span class="line">            String xml = parseXmlToString(buffer);</span><br><span class="line">            System.out.println(&quot;xml = &quot; + xml);</span><br><span class="line"></span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    private static String parseXmlToString(StringBuffer buffer) {</span><br><span class="line">        try {</span><br><span class="line">            // &#x5F97;&#x5230;&#x5BF9;&#x5E94;&#x7684;&#x6587;&#x6863;&#x5BF9;&#x8C61;</span><br><span class="line">            Document document = DocumentHelper.parseText(buffer.toString());</span><br><span class="line">            // &quot;//&quot;&#x4ECE;&#x4EFB;&#x610F;&#x4F4D;&#x7F6E;&#x7684;&#x8282;&#x70B9;&#x4E0A;&#x9009;&#x62E9;&#x540D;&#x79F0;&#x4E3A; item &#x7684;&#x8282;&#x70B9;&#x3002;</span><br><span class="line">            Node node = document.selectSingleNode(&quot;//return&quot;);</span><br><span class="line">            return node.getText();</span><br><span class="line"></span><br><span class="line">        } catch (DocumentException e) {</span><br><span class="line">            e.printStackTrace();</span><br><span class="line"></span><br><span class="line">        }</span><br><span class="line">        return null;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    private static String getXmlString(String string) {</span><br><span class="line">        String xml = &quot;&lt;?xml version=\&quot;1.0\&quot; ?&gt;&quot;</span><br><span class="line">                + &quot;&lt;S:Envelope xmlns:S=\&quot;http://schemas.xmlsoap.org/soap/envelope/\&quot;&gt;&quot;</span><br><span class="line">                + &quot;&lt;S:Body&gt;&quot; + &quot;&lt;ns2:queryWeather xmlns:ns2=\&quot;http://impl.service.ws.com/\&quot;&gt;&quot;</span><br><span class="line">                + &quot;&lt;arg0&gt;&quot; + string</span><br><span class="line">                + &quot;&lt;/arg0&gt;&quot; + &quot;&lt;/ns2:queryWeather&gt;&quot; + &quot;&lt;/S:Body&gt;&quot;</span><br><span class="line">                + &quot;&lt;/S:Envelope&gt;\&quot;&quot;;</span><br><span class="line">        return xml;</span><br><span class="line"></span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></table></figure>

<ol start="3">
<li>&#x5F97;&#x5230;&#x7684;&#x7ED3;&#x679C;&#xFF1A;</li>
</ol>
<p><img src="https://gitee.com/songjianzaina/juejin_p5/raw/master/img/1a1789596f50377179dccdb4e5799bc9d682b595fdb34928aafbe294463c8eef" alt></p>
<p>&#x53EF;&#x4EE5;&#x770B;&#x51FA;&#xFF0C;&#x53EF;&#x4EE5;&#x5F97;&#x5230;&#x76F8;&#x5BF9;&#x5E94;&#x7684;&#x7ED3;&#x679C;&#x3002;</p>
<h4 id="6-&#x4E09;&#x79CD;&#x65B9;&#x5F0F;&#x6BD4;&#x8F83;"><a href="#6-&#x4E09;&#x79CD;&#x65B9;&#x5F0F;&#x6BD4;&#x8F83;" class="headerlink" title="6. &#x4E09;&#x79CD;&#x65B9;&#x5F0F;&#x6BD4;&#x8F83;"></a>6. &#x4E09;&#x79CD;&#x65B9;&#x5F0F;&#x6BD4;&#x8F83;</h4><ol>
<li>&#x7B2C;&#x4E00;&#x79CD;&#x65B9;&#x6CD5;&#xFF1A;&#x5B83;&#x867D;&#x7136;&#x4EE3;&#x7801;&#x6BD4;&#x8F83;&#x7B80;&#x6D01;&#xFF0C;&#x4F46;&#x662F;&#x8026;&#x5408;&#x5EA6;&#x8F83;&#x9AD8;&#xFF0C;&#x53EA;&#x80FD;&#x9002;&#x7528;&#x4E8E;&#x5F53;&#x524D;&#x4E0B;&#x8F7D;&#x7684;&#x670D;&#x52A1;&#x7AEF;&#x7684;&#x5730;&#x5740;&#x3002;&#x4E00;&#x822C;&#x6211;&#x4EEC;&#x670D;&#x52A1;&#x7AEF;&#x542F;&#x52A8;&#x540E;&#xFF0C;&#x63A5;&#x53E3;&#x65B9;&#x6CD5;&#xFF0C;&#x53C2;&#x6570;&#x8FD9;&#x4E9B;&#x90FD;&#x4E0D;&#x4F1A;&#x53D1;&#x751F;&#x592A;&#x5927;&#x7684;&#x53D8;&#x5316;&#x3002;&#x4F46;&#x662F;&#x5982;&#x679C;&#x5730;&#x5740;&#x6539;&#x53D8;&#x4E86;&#x4E5F;&#x5C31;&#x9700;&#x8981;&#x91CD;&#x65B0;&#x4E0B;&#x8F7D;&#x670D;&#x52A1;&#x7AEF;&#x4EE3;&#x7801;&#x3002;</li>
<li>&#x7B2C;&#x4E8C;&#x79CD;&#x65B9;&#x5F0F;&#xFF1A;&#x5728;&#x7B2C;&#x4E00;&#x79CD;&#x65B9;&#x5F0F;&#x7684;&#x57FA;&#x7840;&#x4E0A;&#xFF0C;&#x5C06;&#x670D;&#x52A1;&#x7AEF;&#x8BBF;&#x95EE;&#x5730;&#x5740;&#x62BD;&#x51FA;&#x6765;&#xFF0C;&#x8FD9;&#x6837;&#x6211;&#x4EEC;&#x5C31;&#x53EF;&#x4EE5;&#x5728;xml&#x6587;&#x4EF6;&#x7B49;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x4E2D;&#x8FDB;&#x884C;&#x914D;&#x7F6E;&#x5BF9;&#x5E94;&#x7684;&#x670D;&#x52A1;&#x8BBF;&#x95EE;&#x5730;&#x5740;&#xFF0C;&#x4E00;&#x65E6;&#x9700;&#x8981;&#x4FEE;&#x6539;&#xFF0C;&#x53EA;&#x9700;&#x4FEE;&#x6539;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x7684;&#x8BBF;&#x95EE;&#x5730;&#x5740;&#x5373;&#x53EF;&#x3002;</li>
<li>&#x7B2C;&#x4E09;&#x79CD;&#x65B9;&#x5F0F;&#xFF1A;&#x5B83;&#x5E76;&#x4E0D;&#x9700;&#x8981;&#x4E0B;&#x8F7D;&#x670D;&#x52A1;&#x7AEF;&#x4EE3;&#x7801;&#xFF0C;&#x901A;&#x8FC7;HTTPURLConnection&#x7684;&#x65B9;&#x5F0F;&#x53BB;&#x8FDC;&#x7A0B;&#x8BBF;&#x95EE;&#x670D;&#x52A1;&#x7AEF;&#xFF0C;&#x4F46;&#x662F;&#x9700;&#x8981;&#x81EA;&#x5DF1;&#x53BB;&#x751F;&#x6210;xml&#x5B57;&#x7B26;&#x4E32;&#xFF0C;&#x7136;&#x540E;&#x5F97;&#x5230;&#x7684;&#x7ED3;&#x679C;&#x4E5F;&#x9700;&#x8981;&#x81EA;&#x5DF1;&#x53BB;&#x89E3;&#x6790;&#x51FA;&#x6765;&#x3002;&#x800C;&#x4E00;&#x65E6;&#x4F20;&#x5165;&#x7684;xml&#x5B57;&#x7B26;&#x4E32;&#x53C2;&#x6570;&#x9519;&#x4E86;&#xFF0C;&#x5C31;&#x4F1A;&#x54CD;&#x5E94;&#x5931;&#x8D25;&#xFF0C;&#x6216;&#x8005;&#x5F97;&#x5230;&#x7684;&#x5B57;&#x7B26;&#x4E32;&#x89E3;&#x6790;&#x5931;&#x8D25;&#x7684;&#x95EE;&#x9898;&#x3002;</li>
<li>&#x4E2A;&#x4EBA;&#x63A8;&#x8350;&#x7B2C;&#x4E8C;&#x79CD;&#x65B9;&#x5F0F;&#xFF0C;&#x4E0B;&#x8F7D;&#x670D;&#x52A1;&#x7AEF;&#x4EE3;&#x7801;&#xFF0C;&#x7136;&#x540E;&#x7F16;&#x5199;&#x8BBF;&#x95EE;&#x7684;&#x670D;&#x52A1;&#x7AEF;&#x7684;&#x5730;&#x5740;&#x548C;&#x521B;&#x5EFA;&#x5BF9;&#x5E94;&#x7684;&#x63A5;&#x53E3;&#x53BB;&#x8C03;&#x65B9;&#x6CD5;&#x3002;&#x65E0;&#x9700;&#x7F16;&#x5199;&#x989D;&#x5916;&#x7684;xml&#x5B57;&#x7B26;&#x4E32;&#x548C;&#x89E3;&#x6790;&#x5B57;&#x7B26;&#x4E32;&#x3002;</li>
</ol>
<h2 id="&#x1F62C;&#x4F18;&#x7F3A;&#x70B9;"><a href="#&#x1F62C;&#x4F18;&#x7F3A;&#x70B9;" class="headerlink" title="&#x1F62C;&#x4F18;&#x7F3A;&#x70B9;"></a>&#x1F62C;&#x4F18;&#x7F3A;&#x70B9;</h2><h3 id="&#x1F308;&#x4F18;&#x70B9;"><a href="#&#x1F308;&#x4F18;&#x70B9;" class="headerlink" title="&#x1F308;&#x4F18;&#x70B9;"></a>&#x1F308;&#x4F18;&#x70B9;</h3><ol>
<li>&#x901A;&#x8FC7;&#x6211;&#x4EEC;&#x7684;&#x5BA2;&#x6237;&#x7AEF;&#x7B2C;&#x4E09;&#x79CD;&#x65B9;&#x5F0F;&#xFF0C;&#x5C31;&#x53EF;&#x4EE5;&#x5F97;&#x77E5;&#x6211;&#x662F;&#x91C7;&#x7528;XML&#x683C;&#x5F0F;&#x5C01;&#x88C5;&#x6570;&#x636E;&#xFF0C;&#x5E76;&#x4E14;XML&#x5B83;&#x662F;&#x8DE8;&#x5E73;&#x53F0;&#xFF0C;&#x5E76;&#x4E14;&#x4E0D;&#x9700;&#x8981;&#x7279;&#x5B9A;&#x7684;&#x8BED;&#x8A00;&#x7F16;&#x5199;&#x51FA;&#x6765;&#xFF0C;&#x6240;&#x4EE5;&#x6211;&#x4E5F;&#x662F;&#x8DE8;&#x5E73;&#x53F0;&#x7684;&#x3002;</li>
<li>&#x901A;&#x8FC7;&#x5BA2;&#x6237;&#x7AEF;&#x8BBF;&#x95EE;&#x7684;&#x65B9;&#x5F0F;&#xFF0C;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x5F97;&#x77E5;&#x670D;&#x52A1;&#x7AEF;&#x53EF;&#x4EE5;&#x5728;&#x8FDC;&#x7A0B;&#xFF0C;&#x53EF;&#x4EE5;&#x5728;&#x672C;&#x5730;&#xFF0C;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;SOAP&#x534F;&#x8BAE;&#x5B9E;&#x73B0;&#x5F02;&#x5730;&#x8C03;&#x7528;&#x3002;</li>
</ol>
<h3 id="&#x1F329;&#xFE0F;-&#x7F3A;&#x70B9;"><a href="#&#x1F329;&#xFE0F;-&#x7F3A;&#x70B9;" class="headerlink" title="&#x1F329;&#xFE0F; &#x7F3A;&#x70B9;"></a>&#x1F329;&#xFE0F; &#x7F3A;&#x70B9;</h3><p>&#x56E0;&#x4E3A;&#x6211;&#x662F;&#x91C7;&#x7528;XML&#x683C;&#x5F0F;&#x5C01;&#x88C5;&#x6570;&#x636E;&#x7684;&#x561B;&#xFF0C;&#x6240;&#x4EE5;&#x5728;&#x4F20;&#x8F93;&#x8FC7;&#x7A0B;&#x4E2D;&#xFF0C;&#x53EF;&#x80FD;&#x9700;&#x8981;&#x4F20;&#x8F93;&#x989D;&#x5916;&#x7684;&#x6807;&#x7B7E;&#xFF0C;&#x7136;&#x800C;&#x6807;&#x7B7E;&#x8D8A;&#x6765;&#x8D8A;&#x5927;&#x7684;&#x8BDD;&#xFF0C;&#x5BFC;&#x81F4;webservice&#x6027;&#x80FD;&#x4E0B;&#x964D;&#x3002;</p>
<h3 id="&#x1F525;-&#x4F7F;&#x7528;&#x573A;&#x666F;"><a href="#&#x1F525;-&#x4F7F;&#x7528;&#x573A;&#x666F;" class="headerlink" title="&#x1F525; &#x4F7F;&#x7528;&#x573A;&#x666F;"></a>&#x1F525; &#x4F7F;&#x7528;&#x573A;&#x666F;</h3><ol>
<li>&#x53D1;&#x5E03;&#x4E00;&#x4E2A;&#x670D;&#x52A1;&#xFF08;&#x5BF9;&#x5185;/&#x5BF9;&#x5916;&#xFF09;&#xFF0C;&#x4E0D;&#x8003;&#x8651;&#x5BA2;&#x6237;&#x7AEF;&#x7C7B;&#x578B;&#xFF0C;&#x4E0D;&#x8003;&#x8651;&#x8BED;&#x8A00;&#xFF0C;&#x4E0D;&#x8003;&#x8651;&#x6027;&#x80FD;&#xFF0C;&#x5EFA;&#x8BAE;&#x4F7F;&#x7528;WebService&#x3002;</li>
<li>&#x670D;&#x52A1;&#x7AEF;&#x5DF2;&#x7ECF;&#x786E;&#x5B9A;&#x4F7F;&#x7528;WebService&#xFF0C;&#x5BA2;&#x6237;&#x7AEF;&#x4E0D;&#x80FD;&#x9009;&#x62E9;&#xFF0C;&#x5C31;&#x5FC5;&#x987B;&#x4F7F;&#x7528;WebService&#x3002;</li>
</ol>
<h3 id="&#x1F4A7;-&#x4E0D;&#x9002;&#x7528;&#x573A;&#x666F;"><a href="#&#x1F4A7;-&#x4E0D;&#x9002;&#x7528;&#x573A;&#x666F;" class="headerlink" title="&#x1F4A7; &#x4E0D;&#x9002;&#x7528;&#x573A;&#x666F;"></a>&#x1F4A7; &#x4E0D;&#x9002;&#x7528;&#x573A;&#x666F;</h3><ol>
<li>&#x5728;&#x7CFB;&#x7EDF;&#x8003;&#x8651;&#x6027;&#x80FD;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;&#x4E0D;&#x5EFA;&#x8BAE;&#x4F7F;&#x7528;WebService&#x3002;</li>
<li>&#x540C;&#x6784;&#x7A0B;&#x5E8F;(&#x4E00;&#x4E2A;&#x516C;&#x53F8;&#x4E2D;&#x7CFB;&#x7EDF;&#x4E4B;&#x95F4;&#x7684;&#x63A5;&#x53E3;)&#x4E0B;&#x4E0D;&#x5EFA;&#x8BAE;&#x4F7F;&#x7528;WebService&#xFF0C;&#x6BD4;&#x5982;java&#x7528;RMI(&#x8FDC;&#x7A0B;&#x65B9;&#x6CD5;&#x8C03;&#x7528;)&#xFF0C;&#x4E0D;&#x9700;&#x8981;&#x7FFB;&#x8BD1;&#x6210;XML&#x7684;&#x6570;&#x636E;&#x3002;</li>
</ol>
<h2 id="&#x1F338;&#x603B;&#x7ED3;"><a href="#&#x1F338;&#x603B;&#x7ED3;" class="headerlink" title="&#x1F338;&#x603B;&#x7ED3;"></a>&#x1F338;&#x603B;&#x7ED3;</h2><p>&#x76F8;&#x4FE1;&#x5404;&#x4F4D;&#x770B;&#x5B98;&#x90FD;&#x5BF9;webService&#x5982;&#x4F55;&#x4F7F;&#x7528;&#x53CA;&#x5176;&#x5B83;&#x7684;&#x6982;&#x5FF5;&#x548C;&#x4E00;&#x4E9B;&#x77E5;&#x8BC6;&#x70B9;&#x90FD;&#x6709;&#x4E86;&#x7A0D;&#x7A0D;&#x7684;&#x4E86;&#x89E3;&#x5427;&#xFF0C;&#x4E0D;&#x786E;&#x5B9A;&#x7528;&#x5230;&#x4EBA;&#x7684;&#x662F;&#x5426;&#x5F88;&#x591A;&#xFF0C;&#x8FD9;&#x91CC;&#x53EA;&#x505A;&#x5165;&#x95E8;&#x7EC3;&#x4E60;&#xFF0C;&#x5F53;&#x7136;&#x5982;&#x679C;&#x6211;&#x4EEC;&#x8981;&#x6574;&#x5408;&#x5230;SpringBoot&#x9879;&#x76EE;&#x4E2D;&#xFF0C;&#x751A;&#x81F3;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x96C6;&#x6210;&#x76F8;&#x5173;&#x4F9D;&#x8D56;&#x6765;&#x4F7F;&#x7528;webService&#xFF0C;&#x4F8B;&#x5982;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;SpringBoot&#x4F7F;&#x7528;CXF&#x96C6;&#x6210;WebService&#x3002;&#x90A3;&#x6211;&#x4EEC;&#x5E94;&#x4E0D;&#x5E94;&#x8BE5;&#x5B66;&#x4E60;&#x8FD9;&#x4E00;&#x95E8;&#x6280;&#x672F;&#x5462;&#xFF1F;&#x5176;&#x5B9E;&#x6211;&#x89C9;&#x5F97;&#x770B;&#x9700;&#x6C42;&#xFF0C;&#x5982;&#x679C;&#x9700;&#x8981;&#x7528;&#x5230;&#x4E86;&#xFF0C;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x5FEB;&#x901F;&#x4E86;&#x89E3;&#x4E0B;&#xFF0C;&#x7528;&#x4E00;&#x7528;&#x5C0F;demo&#x5FEB;&#x901F;&#x5165;&#x95E8;&#xFF0C;&#x63A5;&#x7740;&#x4F7F;&#x7528;&#x96C6;&#x6210;CXF&#x6765;&#x6574;&#x5408;&#x5230;&#x9879;&#x76EE;&#x4E2D;&#xFF0C;&#x4ECE;&#x800C;&#x8FBE;&#x5230;&#x8FD9;&#x95E8;&#x6280;&#x672F;&#x7684;&#x5E94;&#x7528;&#x5230;&#x5B9E;&#x9645;&#x9879;&#x76EE;&#x4E2D;&#x53BB;&#xFF01;</p>
<p>&#x6211;&#x4E2A;&#x4EBA;&#x5176;&#x5B9E;&#x4E5F;&#x6CA1;&#x6709;&#x63A5;&#x89E6;&#x8FC7;&#xFF0C;&#x53EA;&#x56E0;&#x9879;&#x76EE;&#x4E2D;&#x9700;&#x8981;&#x6765;&#x8C03;&#x7528;&#x8FD9;&#x6837;webService&#x63A5;&#x53E3;&#x7684;&#x9700;&#x6C42;&#xFF0C;&#x6240;&#x4EE5;&#x6211;&#x4E5F;&#x662F;&#x521A;&#x5165;&#x95E8;&#xFF0C;&#x800C;&#x4E14;&#x73B0;&#x5728;&#x5404;&#x7F51;&#x9875;&#x63A5;&#x53E3;&#x57FA;&#x672C;&#x90FD;&#x662F;&#x57FA;&#x4E8E;http&#x8BF7;&#x6C42;&#x6765;&#x505A;&#x7684;&#xFF0C;&#x6240;&#x4EE5;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x5F53;&#x4E86;&#x89E3;&#x4E86;&#x89E3;&#x54AF;&#xFF0C;&#x8D70;&#x8FC7;&#x8DEF;&#x8FC7;&#xFF0C;&#x77A7;&#x4E00;&#x77A7;&#xFF0C;&#x4FDD;&#x8BC1;&#x4E0D;&#x5403;&#x4E8F;&#x5440;&#xFF01;&#xFF01;&#xFF01;</p>
<p><img src="https://gitee.com/songjianzaina/juejin_p5/raw/master/img/8b70430a0548625c5b1243252d632880a25502929514a530f98e7e92acd804c2" alt></p>
<p>&#x8BA9;&#x6211;&#x4EEC;&#x4E5F;&#x4E00;&#x8D77;&#x52A0;&#x6CB9;&#x5427;&#xFF01;&#x672C;&#x4EBA;&#x4E0D;&#x624D;&#xFF0C;&#x5982;&#x6709;&#x4EC0;&#x4E48;&#x7F3A;&#x6F0F;&#x3001;&#x9519;&#x8BEF;&#x7684;&#x5730;&#x65B9;&#xFF0C;&#x4E5F;&#x6B22;&#x8FCE;&#x5404;&#x4F4D;&#x4EBA;&#x624D;&#x5927;&#x4F6C;<strong>&#x8BC4;&#x8BBA;</strong>&#x4E2D;&#x6279;&#x8BC4;&#x6307;&#x6B63;&#xFF01;&#x5F53;&#x7136;&#x5982;&#x679C;&#x8FD9;&#x7BC7;&#x6587;&#x7AE0;&#x786E;&#x5B9A;&#x5BF9;&#x4F60;&#x6709;&#x70B9;&#x5C0F;&#x5C0F;&#x5E2E;&#x52A9;&#x7684;&#x8BDD;&#xFF0C;&#x4E5F;&#x8BF7;&#x4EB2;&#x5207;&#x53EF;&#x7231;&#x7684;&#x4EBA;&#x624D;&#x5927;&#x4F6C;&#x4EEC;&#x7ED9;&#x4E2A;<strong>&#x70B9;&#x8D5E;&#x3001;&#x6536;&#x85CF;</strong>&#x4E0B;&#x5427;&#xFF0C;<strong>&#x4E00;&#x952E;&#x4E09;&#x8FDE;</strong>&#xFF0C;&#x975E;&#x5E38;&#x611F;&#x8C22;&#xFF01;</p>
<p><img src="https://gitee.com/songjianzaina/juejin_p5/raw/master/img/7e0b0e01912235ed96ef2096413f1f08dc9197a7e2ac93c1ec32e3268831e8d7" alt></p>
<blockquote>
<p>&#x5B66;&#x5230;&#x8FD9;&#x91CC;&#xFF0C;&#x4ECA;&#x5929;&#x7684;&#x4E16;&#x754C;&#x6253;&#x70CA;&#x4E86;&#xFF0C;&#x665A;&#x5B89;&#xFF01;&#x867D;&#x7136;&#x8FD9;&#x7BC7;&#x6587;&#x7AE0;&#x5B8C;&#x7ED3;&#x4E86;&#xFF0C;&#x4F46;&#x662F;&#x6211;&#x8FD8;&#x5728;&#xFF0C;&#x6C38;&#x4E0D;&#x5B8C;&#x7ED3;&#x3002;&#x6211;&#x4F1A;&#x52AA;&#x529B;&#x4FDD;&#x6301;&#x5199;&#x6587;&#x7AE0;&#x3002;&#x6765;&#x65E5;&#x65B9;&#x957F;&#xFF0C;&#x4F55;&#x60E7;&#x8F66;&#x9065;&#x9A6C;&#x6162;&#xFF01;</p>
<p>&#x611F;&#x8C22;&#x5404;&#x4F4D;&#x770B;&#x5230;&#x8FD9;&#x91CC;&#xFF01;&#x613F;&#x4F60;&#x97F6;&#x534E;&#x4E0D;&#x8D1F;&#xFF0C;&#x9752;&#x6625;&#x65E0;&#x6094;&#xFF01;</p>
</blockquote>
<p><strong>&#x672C;&#x6587;&#x8F6C;&#x8F7D;&#x81EA;:</strong> <a href="/external_links/ae7033ac6ecad041bfbf83f533e642e2.html" target="blank" rel="noopener">&#x6398;&#x91D1;</a></p>
<p><em><a href="https://dev.newban.cn/">&#x5F00;&#x53D1;&#x8005;&#x535A;&#x5BA2; &#x2013; &#x548C;&#x5F00;&#x53D1;&#x76F8;&#x5173;&#x7684; &#x8FD9;&#x91CC;&#x5168;&#x90FD;&#x6709;</a></em></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://dev.newban.cn../../7036174938306248717.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="开发者博客">
      <meta itemprop="description" content>
      <meta itemprop="image" content="../../images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="开发者博客 – IT技术 尽在开发者博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="../../7036174938306248717.html" itemprop="url">修改Git提交历史中的author，email和name等信</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2021-11-30T09:53:06+08:00">
                2021-11-30
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>&#x8FD9;&#x662F;&#x6211;&#x53C2;&#x4E0E;11&#x6708;&#x66F4;&#x6587;&#x6311;&#x6218;&#x7684;&#x7B2C;30&#x5929;&#xFF0C;&#x6D3B;&#x52A8;&#x8BE6;&#x60C5;&#x67E5;&#x770B;&#xFF1A;<a href="https://dev.newban.cn/7023643374569816095">2021&#x6700;&#x540E;&#x4E00;&#x6B21;&#x66F4;&#x6587;&#x6311;&#x6218;</a></p>
<p>&#x5728;&#x6211;&#x4EEC;&#x65E5;&#x5E38;&#x5DE5;&#x4F5C;&#x4E2D;&#xFF0C;&#x901A;&#x5E38;&#x7531;&#x4E8E;&#x67D0;&#x79CD;&#x539F;&#x56E0;&#xFF0C;&#x9700;&#x8981;&#x66F4;&#x65B0;&#x5386;&#x53F2;&#x63D0;&#x4EA4;&#x7684;commit&#x4FE1;&#x606F;&#x3002;&#x4E00;&#x822C;&#x4F1A;&#x6709;&#x5982;&#x4E0B;&#x51E0;&#x79CD;&#x573A;&#x666F;&#xFF1A;</p>
<ul>
<li>&#x4FEE;&#x6539;&#x5F53;&#x524D;&#x5206;&#x652F;&#x6700;&#x65B0; commit &#x7684;&#x63D0;&#x4EA4;&#x4FE1;&#x606F;</li>
<li>&#x4FEE;&#x6539;&#x5F53;&#x524D;&#x5206;&#x652F;&#x67D0;&#x5386;&#x53F2;commit&#x7684;&#x63D0;&#x4EA4;&#x4FE1;&#x606F;</li>
<li>&#x4FEE;&#x6539;&#x5F53;&#x524D;&#x5206;&#x652F;&#x6240;&#x6709;&#x63D0;&#x4EA4;&#x7684;commit&#x4FE1;&#x606F;</li>
</ul>
<p>&#x5BF9;&#x4E8E;&#x5F53;&#x6B21;&#x63D0;&#x4EA4;&#x6765;&#x8BF4;&#xFF0C;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x663E;&#x793A;&#x6307;&#x5B9A;&#x63D0;&#x4EA4;&#x8005;&#x4FE1;&#x606F;&#x3002;</p>
<blockquote>
<p><code>git commit -m &quot;Initial commit&quot; --author=&quot;mn &lt;mn@furzoom.com&gt;&quot;</code></p>
</blockquote>
<p>&#x901A;&#x8FC7;<code>git commit</code>&#x547D;&#x4EE4;&#x5C06;&#x6682;&#x5B58;&#x533A;&#x5185;&#x5BB9;&#x6DFB;&#x52A0;&#x5230;&#x672C;&#x5730;&#x4ED3;&#x5E93;&#x540E;&#xFF0C;git&#x4F1A;&#x751F;&#x6210;&#x76F8;&#x5E94;&#x7684;commit id&#x3002;&#x540E;&#x7EED;&#x6211;&#x4EEC;&#x5C31;&#x53EF;&#x4EE5;&#x9488;&#x5BF9;&#x6307;&#x5B9A;&#x7684;commit id &#x8FDB;&#x884C;&#x64CD;&#x4F5C;&#xFF0C;&#x6BD4;&#x5982;&#xFF0C;&#x56DE;&#x9000;&#x5230;&#x67D0;&#x4E2A;commit id&#xFF0C;&#x62C9;&#x53D6;&#x6307;&#x5B9A;commit id&#x7684;&#x4EE3;&#x7801;&#x7B49;&#x3002;</p>
<p>&#x4E0B;&#x9762;&#x6211;&#x4EEC;&#x9488;&#x5BF9;&#x4E0A;&#x9762;&#x7684;&#x4E09;&#x79CD;&#x60C5;&#x51B5;&#x8FDB;&#x884C;&#x8BB2;&#x8FF0;&#x3002;</p>
<h2 id="&#x4FEE;&#x6539;&#x4E0A;&#x6B21;&#x63D0;&#x4EA4;&#x7684;commit&#x4FE1;&#x606F;"><a href="#&#x4FEE;&#x6539;&#x4E0A;&#x6B21;&#x63D0;&#x4EA4;&#x7684;commit&#x4FE1;&#x606F;" class="headerlink" title="&#x4FEE;&#x6539;&#x4E0A;&#x6B21;&#x63D0;&#x4EA4;&#x7684;commit&#x4FE1;&#x606F;"></a>&#x4FEE;&#x6539;&#x4E0A;&#x6B21;&#x63D0;&#x4EA4;&#x7684;commit&#x4FE1;&#x606F;</h2><blockquote>
<p><code>git commit --amend --author=&quot;&#x679C;&#x51BB;&lt;liguodongiot@163.com&gt;&quot;</code></p>
</blockquote>
<p>&#x8F93;&#x5165;<code>git commit --amend</code>&#x4E4B;&#x540E;&#xFF0C;&#x8FDB;&#x5165;&#x7F16;&#x8F91;&#x6A21;&#x5F0F;&#xFF0C;&#x4FEE;&#x6539;&#x63D0;&#x4EA4;&#x4FE1;&#x606F;&#xFF0C;&#x7136;&#x540E;&#x6309;wq&#x4FDD;&#x5B58;&#x9000;&#x51FA;&#x3002;</p>
<p>&#x5982;&#x679C;&#x4E0D;&#x60F3;&#x4FEE;&#x6539;&#x63D0;&#x4EA4;&#x4FE1;&#x606F;&#xFF0C;&#x5219;&#x6DFB;&#x52A0;<code>--no-edit</code>&#xFF0C;&#x5982;&#x4E0B;&#x6240;&#x793A;&#xFF1A;</p>
<blockquote>
<p><code>git commit --amend --author=&quot;&#x679C;&#x51BB;&#x4E0D;&#x5403;&#x76AE; &lt;mn@furzoom.com&gt;&quot; --no-edit</code></p>
</blockquote>
<p><code>git commit --amend</code>&#x547D;&#x4EE4;&#x53EA;&#x4F1A;&#x4FEE;&#x6539;&#x6700;&#x540E;&#x4E00;&#x6B21;commit&#x7684;&#x4FE1;&#x606F;&#xFF0C;&#x4E4B;&#x524D;&#x7684;commit&#x9700;&#x8981;&#x4F7F;&#x7528;<code>git rebase</code></p>
<h2 id="&#x4FEE;&#x6539;&#x4E0A;&#x51E0;&#x6B21;&#x63D0;&#x4EA4;&#x7684;commit&#x4FE1;&#x606F;"><a href="#&#x4FEE;&#x6539;&#x4E0A;&#x51E0;&#x6B21;&#x63D0;&#x4EA4;&#x7684;commit&#x4FE1;&#x606F;" class="headerlink" title="&#x4FEE;&#x6539;&#x4E0A;&#x51E0;&#x6B21;&#x63D0;&#x4EA4;&#x7684;commit&#x4FE1;&#x606F;"></a>&#x4FEE;&#x6539;&#x4E0A;&#x51E0;&#x6B21;&#x63D0;&#x4EA4;&#x7684;commit&#x4FE1;&#x606F;</h2><blockquote>
<p><strong><code>git rebase -i</code>&#x8BF4;&#x660E;&#xFF1A;</strong></p>
<p><code>git rebase -i</code>&#x547D;&#x4EE4;&#x53EF;&#x4EE5;&#x538B;&#x7F29;&#x5408;&#x5E76;&#x591A;&#x6B21;&#x63D0;&#x4EA4;&#x3002;</p>
<p>&#x683C;&#x5F0F;&#xFF1A;git rebase -i [startpoint] [endpoint]</p>
<p>&#x5176;&#x4E2D;&#xFF0C;<code>-i</code>&#x7684;&#x610F;&#x601D;&#x662F;&#x2013;interactive&#xFF0C;&#x5373;&#x5F39;&#x51FA;&#x4EA4;&#x4E92;&#x5F0F;&#x7684;&#x754C;&#x9762;&#x8BA9;&#x7528;&#x6237;&#x7F16;&#x8F91;&#x5B8C;&#x6210;&#x5408;&#x5E76;&#x64CD;&#x4F5C;&#xFF0C;<code>[startpoint] [endpoint]</code>&#x5219;&#x6307;&#x5B9A;&#x4E86;&#x4E00;&#x4E2A;&#x7F16;&#x8F91;&#x533A;&#x95F4;&#xFF0C;&#x5982;&#x679C;&#x4E0D;&#x6307;&#x5B9A; [endpoint] &#xFF0C;&#x5219;&#x8BE5;&#x533A;&#x95F4;&#x7684;&#x7EC8;&#x70B9;&#x9ED8;&#x8BA4;&#x662F;&#x5F53;&#x524D;&#x5206;&#x652F;HEAD&#x6240;&#x6307;&#x5411;&#x7684;commit(&#x8BE5;&#x533A;&#x95F4;&#x6307;&#x5B9A;&#x7684;&#x662F;&#x4E00;&#x4E2A;&#x524D;&#x5F00;&#x540E;&#x95ED;&#x7684;&#x533A;&#x95F4;)&#x3002;</p>
</blockquote>
<p>&#x9996;&#x5148;&#xFF0C;&#x6211;&#x4EEC;&#x901A;&#x8FC7;<code>git rebase -i</code>&#x9009;&#x62E9;&#x5C06;&#x54EA;&#x4E9B;&#x63D0;&#x4EA4;&#x83B7;&#x5F97;&#x91CD;&#x5B9A;&#x4F4D;&#x3002;</p>
<p>&#x4F8B;&#x5982;&#xFF0C;&#x5408;&#x5E76;&#x6700;&#x8FD1;&#x7684;&#x4E09;&#x6B21;&#x63D0;&#x4EA4;&#xFF1A;</p>
<blockquote>
<p>git rebase -i HEAD~3</p>
</blockquote>
<p>&#x6216;&#x8005;&#xFF0C;&#x5408;&#x5E76;&#x4ECE;&#x5F53;&#x524D;head&#x5230;15f745b(commit id)&#x7684;&#x63D0;&#x4EA4;&#xFF1A;</p>
<blockquote>
<p>git rebase -i 15f745b</p>
</blockquote>
<p>&#x7136;&#x540E;&#xFF0C;&#x5728;&#x5217;&#x8868;&#x4E2D;&#x5C06;&#x5F00;&#x5934;&#x7684;pick&#x4FEE;&#x6539;&#x4E3A;edit&#xFF0C;&#x7136;&#x540E;&#x91CD;&#x590D;&#x6267;&#x884C;&#x4EE5;&#x4E0B;&#x547D;&#x4EE4;&#x76F4;&#x5230;&#x5B8C;&#x6210;&#xFF1A;</p>
<blockquote>
<p><code>git commit --amend --author=&quot;mn &lt;mn@furzoom.com&gt;&quot;</code></p>
</blockquote>
<p>&#x4E4B;&#x540E;&#xFF0C;&#x901A;&#x8FC7;continue&#x547D;&#x4EE4;&#x56DE;&#x5230;&#x6B63;&#x5E38;&#x72B6;&#x6001;&#x3002;</p>
<blockquote>
<p>git rebase &#x2013;continue</p>
</blockquote>
<h2 id="&#x4FEE;&#x6539;&#x4E4B;&#x524D;&#x67D0;&#x4E00;&#x4E2A;&#x7279;&#x5B9A;&#x7684;commit&#x4FE1;&#x606F;"><a href="#&#x4FEE;&#x6539;&#x4E4B;&#x524D;&#x67D0;&#x4E00;&#x4E2A;&#x7279;&#x5B9A;&#x7684;commit&#x4FE1;&#x606F;" class="headerlink" title="&#x4FEE;&#x6539;&#x4E4B;&#x524D;&#x67D0;&#x4E00;&#x4E2A;&#x7279;&#x5B9A;&#x7684;commit&#x4FE1;&#x606F;"></a>&#x4FEE;&#x6539;&#x4E4B;&#x524D;&#x67D0;&#x4E00;&#x4E2A;&#x7279;&#x5B9A;&#x7684;commit&#x4FE1;&#x606F;</h2><p>&#x67E5;&#x770B;log&#xFF0C;&#x627E;&#x5230;&#x4E0A;&#x4E00;&#x6B21;&#x63D0;&#x4EA4;&#x7684;commit id</p>
<blockquote>
<p>git log</p>
</blockquote>
<p>&#x7136;&#x540E;&#xFF0C;&#x901A;&#x8FC7;<code>git rebase</code>&#x5230;&#x8981;&#x4FEE;&#x6539;&#x7684;commit&#x4E4B;&#x524D;&#x90A3;&#x4E2A;commit&#x3002;</p>
<blockquote>
<p>git rebase 928fc8a3686bf5fcf4527873e075703a9998c127 &#x2013;interactive&#xFF08;&#x4E0E;&#x4E0A;&#x9762;<code>git rebase -i</code>&#x7C7B;&#x4F3C;&#xFF09;</p>
</blockquote>
<p>&#x7136;&#x540E;&#xFF0C;&#x5728;vi&#x4E2D;&#x4FEE;&#x6539;pick&#x4E3A;edit&#xFF0C;wq&#x4FDD;&#x5B58;&#x9000;&#x51FA;&#xFF0C;&#x63A5;&#x7740;&#x8FDB;&#x884C;&#x5185;&#x5BB9;&#x4FEE;&#x6539;&#xFF0C;<code>git add</code>&#x540E;<code>git commit --amend</code>&#x3002;</p>
<h2 id="&#x4FEE;&#x6539;&#x6240;&#x6709;&#x63D0;&#x4EA4;&#x7684;commit&#x4FE1;&#x606F;"><a href="#&#x4FEE;&#x6539;&#x6240;&#x6709;&#x63D0;&#x4EA4;&#x7684;commit&#x4FE1;&#x606F;" class="headerlink" title="&#x4FEE;&#x6539;&#x6240;&#x6709;&#x63D0;&#x4EA4;&#x7684;commit&#x4FE1;&#x606F;"></a>&#x4FEE;&#x6539;&#x6240;&#x6709;&#x63D0;&#x4EA4;&#x7684;commit&#x4FE1;&#x606F;</h2><h3 id="&#x524D;&#x63D0;&#xFF1A;&#x91CD;&#x7F6E;&#x672C;&#x9879;&#x76EE;&#x7528;&#x6237;&#x7684;&#x4FE1;&#x606F;"><a href="#&#x524D;&#x63D0;&#xFF1A;&#x91CD;&#x7F6E;&#x672C;&#x9879;&#x76EE;&#x7528;&#x6237;&#x7684;&#x4FE1;&#x606F;" class="headerlink" title="&#x524D;&#x63D0;&#xFF1A;&#x91CD;&#x7F6E;&#x672C;&#x9879;&#x76EE;&#x7528;&#x6237;&#x7684;&#x4FE1;&#x606F;"></a>&#x524D;&#x63D0;&#xFF1A;&#x91CD;&#x7F6E;&#x672C;&#x9879;&#x76EE;&#x7528;&#x6237;&#x7684;&#x4FE1;&#x606F;</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">bash&#x590D;&#x5236;&#x4EE3;&#x7801;git config user.name &apos;&#x679C;&#x51BB;&apos;</span><br><span class="line">git config user.email &apos;liguodongiot@163.com&apos;</span><br></pre></td></tr></table></figure>

<h3 id="&#x65B9;&#x6848;&#x4E00;&#xFF1A;git-rebase"><a href="#&#x65B9;&#x6848;&#x4E00;&#xFF1A;git-rebase" class="headerlink" title="&#x65B9;&#x6848;&#x4E00;&#xFF1A;git rebase"></a>&#x65B9;&#x6848;&#x4E00;&#xFF1A;git rebase</h3><p>&#x9996;&#x5148;&#x56DE;&#x5230;&#x5F53;&#x524D;&#x5206;&#x652F;&#x7B2C;&#x4E00;&#x4E2A;commit&#x3002;</p>
<blockquote>
<p>git rebase -i &#x2013;root</p>
</blockquote>
<p>&#x7136;&#x540E;&#xFF0C;&#x5F39;&#x51FA;&#x7F16;&#x8F91;&#x5668;&#xFF0C;&#x5728;&#x9700;&#x8981;&#x4FEE;&#x6539;&#x7684;commit&#x5904;&#xFF0C;&#x5C06;picked&#x6539;&#x53D8;&#x4E3A;edit&#xFF0C;&#x7136;&#x540E;wq&#xFF0C;&#x9000;&#x51FA;vi&#x3002;</p>
<blockquote>
<p>git commit &#x2013;amend &#x2013;reset-author</p>
</blockquote>
<p>&#x4E4B;&#x540E;&#xFF0C;&#x901A;&#x8FC7;continue&#x547D;&#x4EE4;&#x56DE;&#x5230;&#x6B63;&#x5E38;&#x72B6;&#x6001;&#x3002;</p>
<blockquote>
<p>git rebase &#x2013;continue</p>
</blockquote>
<p>&#x67E5;&#x770B;&#x65E5;&#x5FD7;&#xFF0C;&#x786E;&#x5B9A;&#x662F;&#x5426;&#x4FEE;&#x6539;&#x6210;&#x529F;</p>
<blockquote>
<p>git log</p>
</blockquote>
<p>&#x6700;&#x540E;&#xFF0C;&#x5F3A;&#x5236;push&#x5230;&#x8FDC;&#x7A0B;&#x4ED3;&#x5E93;</p>
<blockquote>
<p>git push origin master -f</p>
</blockquote>
<h3 id="&#x65B9;&#x6848;&#x4E8C;&#xFF1A;git-filter-branch"><a href="#&#x65B9;&#x6848;&#x4E8C;&#xFF1A;git-filter-branch" class="headerlink" title="&#x65B9;&#x6848;&#x4E8C;&#xFF1A;git filter-branch"></a>&#x65B9;&#x6848;&#x4E8C;&#xFF1A;git filter-branch</h3><p>&#x4F7F;&#x7528;<code>git rebase</code>&#x65B9;&#x5F0F;&#xFF0C;&#x6B65;&#x9AA4;&#x6BD4;&#x8F83;&#x591A;&#xFF0C;&#x53EF;&#x4EE5;&#x76F4;&#x63A5;&#x4F7F;&#x7528; <code>git filter-branch</code>&#x5FEB;&#x901F;&#x65B9;&#x4FBF;&#x3002;</p>
<p>&#x4F8B;&#x5982;&#xFF0C;&#x5C06;&#x63D0;&#x4EA4;&#x8005;<code>liguodongiot@163.com</code>&#x4FEE;&#x6539;&#x4E3A;<code>liguodongiot@foxmail.com</code></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">bash&#x590D;&#x5236;&#x4EE3;&#x7801;# !/bin/sh</span><br><span class="line"></span><br><span class="line">git filter-branch --env-filter &apos;</span><br><span class="line"></span><br><span class="line">OLD_EMAIL=&quot;liguodongiot@163.com&quot;</span><br><span class="line">CORRECT_NAME=&quot;&#x5403;&#x679C;&#x51BB;&#x4E0D;&#x5410;&#x679C;&#x51BB;&#x76AE;&quot;</span><br><span class="line">CORRECT_EMAIL=&quot;liguodongiot@foxmail.com&quot;</span><br><span class="line"></span><br><span class="line">if [ &quot;$GIT_COMMITTER_EMAIL&quot; = &quot;$OLD_EMAIL&quot; ]</span><br><span class="line"></span><br><span class="line">then</span><br><span class="line"></span><br><span class="line">    export GIT_COMMITTER_NAME=&quot;$CORRECT_NAME&quot;</span><br><span class="line">    export GIT_COMMITTER_EMAIL=&quot;$CORRECT_EMAIL&quot;</span><br><span class="line"></span><br><span class="line">fi</span><br><span class="line"></span><br><span class="line">if [ &quot;$GIT_AUTHOR_EMAIL&quot; = &quot;$OLD_EMAIL&quot; ]</span><br><span class="line"></span><br><span class="line">then</span><br><span class="line"></span><br><span class="line">    export GIT_AUTHOR_NAME=&quot;$CORRECT_NAME&quot;</span><br><span class="line">    export GIT_AUTHOR_EMAIL=&quot;$CORRECT_EMAIL&quot;</span><br><span class="line"></span><br><span class="line">fi</span><br><span class="line"></span><br><span class="line">&apos; --tag-name-filter cat -- --branches --tags</span><br></pre></td></tr></table></figure>

<h2 id="&#x603B;&#x7ED3;"><a href="#&#x603B;&#x7ED3;" class="headerlink" title="&#x603B;&#x7ED3;"></a>&#x603B;&#x7ED3;</h2><table>
<thead>
<tr>
<th>&#x4FEE;&#x6539; commit &#x63D0;&#x4EA4;&#x4FE1;&#x606F;&#x573A;&#x666F;</th>
<th>&#x64CD;&#x4F5C;&#x547D;&#x4EE4;</th>
</tr>
</thead>
<tbody><tr>
<td>&#x4FEE;&#x6539;&#x6700;&#x65B0; commit &#x7684;&#x63D0;&#x4EA4;&#x4FE1;&#x606F;</td>
<td><code>git commit --amend</code></td>
</tr>
<tr>
<td>&#x4FEE;&#x6539;&#x67D0;&#x5386;&#x53F2; commit &#x7684;&#x63D0;&#x4EA4;&#x4FE1;&#x606F;</td>
<td><code>git rebase -i father_commitId</code>&#xFF0C;&#x5176;&#x4E2D;<code>father_commitId</code>&#x8868;&#x793A;&#x4E0A;&#x4E00;&#x4E2A;commitId</td>
</tr>
<tr>
<td>&#x4FEE;&#x6539;&#x7B2C;&#x4E00;&#x4E2A; commit &#x7684;&#x63D0;&#x4EA4;&#x4FE1;&#x606F;</td>
<td><code>git rebase -i --root</code></td>
</tr>
</tbody></table>
<blockquote>
<p><strong>&#x6CE8;&#x610F;&#xFF1A;</strong></p>
<p>&#x5982;&#x9700;&#x5C06;&#x4FEE;&#x6539;&#x4FE1;&#x606F;&#x540C;&#x6B65;&#x5230;&#x8FDC;&#x7AEF;&#x4ED3;&#x5E93;&#xFF0C;&#x53EF;&#x4F7F;&#x7528; <code>git push -f</code> &#x547D;&#x4EE4;&#x8FDB;&#x884C;&#x5F3A;&#x5236;&#x540C;&#x6B65;&#xFF0C;&#x8BE5;&#x64CD;&#x4F5C;&#x4F1A;&#x8986;&#x76D6;&#x8FDC;&#x7AEF;&#x5206;&#x652F;&#x7684;&#x63D0;&#x4EA4;&#x5386;&#x53F2;&#xFF0C;&#x8BF7;&#x81EA;&#x884C;&#x786E;&#x8BA4;&#x64CD;&#x4F5C;&#x98CE;&#x9669;&#x3002;</p>
</blockquote>
<h2 id="&#x53C2;&#x8003;&#x6587;&#x6863;"><a href="#&#x53C2;&#x8003;&#x6587;&#x6863;" class="headerlink" title="&#x53C2;&#x8003;&#x6587;&#x6863;"></a>&#x53C2;&#x8003;&#x6587;&#x6863;</h2><ul>
<li><a href="/external_links/b01b82dd2b67d1e82562d96d1b68326f.html" target="blank" rel="noopener">&#x5982;&#x4F55;&#x4FEE;&#x6539;&#x7B2C;&#x4E00;&#x4E2A; commit &#x7684;&#x63D0;&#x4EA4;&#x4FE1;&#x606F;</a></li>
<li><a href="/external_links/5cb977b2ccb3936108b25223ddceffaa.html" target="blank" rel="noopener">&#x4FEE;&#x6539;git&#x63D0;&#x4EA4;&#x5386;&#x53F2;&#x4E2D;&#x7684;author&#x548C;email</a></li>
<li><a href="/external_links/488aae558e42a703aaac3c26048159ba.html" target="blank" rel="noopener">&#x5982;&#x4F55;&#x4FEE;&#x6539;git commit&#x7684;author&#x4FE1;&#x606F;</a></li>
<li><a href="/external_links/6555d743c29c7c77b5bf514efba6f10f.html" target="blank" rel="noopener">git&#x4FEE;&#x6539;&#x63D0;&#x4EA4;&#x5386;&#x53F2;&#x4E2D;&#x7684;author&#x4FE1;&#x606F;</a></li>
<li><a href="/external_links/824ac083a005a46580e6027ed24b7c9c.html" target="blank" rel="noopener">git rebase -i&#x5408;&#x5E76;&#x591A;&#x6B21;&#x63D0;&#x4EA4;</a></li>
</ul>
<p><strong>&#x672C;&#x6587;&#x8F6C;&#x8F7D;&#x81EA;:</strong> <a href="/external_links/53bb708dcd04f4253e580887f8fcd1c4.html" target="blank" rel="noopener">&#x6398;&#x91D1;</a></p>
<p><em><a href="https://dev.newban.cn/">&#x5F00;&#x53D1;&#x8005;&#x535A;&#x5BA2; &#x2013; &#x548C;&#x5F00;&#x53D1;&#x76F8;&#x5173;&#x7684; &#x8FD9;&#x91CC;&#x5168;&#x90FD;&#x6709;</a></em></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://dev.newban.cn../../7036173425697619975.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="开发者博客">
      <meta itemprop="description" content>
      <meta itemprop="image" content="../../images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="开发者博客 – IT技术 尽在开发者博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="../../7036173425697619975.html" itemprop="url">使用jersey的客户端API封装rest客户端优化建议 前</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2021-11-30T09:48:34+08:00">
                2021-11-30
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>&#x8FD9;&#x662F;&#x6211;&#x53C2;&#x4E0E;11&#x6708;&#x66F4;&#x6587;&#x6311;&#x6218;&#x7684;&#x7B2C;26&#x5929;&#xFF0C;&#x6D3B;&#x52A8;&#x8BE6;&#x60C5;&#x67E5;&#x770B;&#xFF1A;<a href="https://dev.newban.cn/7023643374569816095/">2021&#x6700;&#x540E;&#x4E00;&#x6B21;&#x66F4;&#x6587;&#x6311;&#x6218;</a></p>
<h1 id="&#x524D;&#x8A00;"><a href="#&#x524D;&#x8A00;" class="headerlink" title="&#x524D;&#x8A00;"></a>&#x524D;&#x8A00;</h1><pre><code>&#x5F88;&#x65E9;&#x4E4B;&#x524D;&#x5C31;&#x5728;&#x7528;jersey&#x63D0;&#x4F9B;&#x7684;&#x5BA2;&#x6237;&#x7AEF;API&#x5C01;&#x88C5;rest&#x5BA2;&#x6237;&#x7AEF;&#xFF0C;jersey&#x63D0;&#x4F9B;&#x7684;&#x5BA2;&#x6237;&#x7AEF;API&#xFF0C;&#x7B80;&#x5355;&#x6613;&#x7528;&#xFF0C;&#x53EF;&#x60DC;&#x8FD9;&#x4E2A;&#x6846;&#x67B6;&#x6709;&#x70B9;&#x91CD;&#xFF0C;&#x5728;&#x4F7F;&#x7528;&#x4E0A;&#x56E0;&#x4E3A;&#x67D0;&#x4E9B;&#x73AF;&#x5883;&#x539F;&#x56E0;&#x4F1A;&#x5F15;&#x53D1;&#x4E00;&#x4E9B;&#x4E0D;&#x5FC5;&#x8981;&#x7684;&#x6027;&#x80FD;&#x95EE;&#x9898;&#xFF0C;&#x8FD9;&#x91CC;&#x6839;&#x636E;&#x4EE5;&#x5F80;&#x7684;&#x7ECF;&#x9A8C;&#x5217;&#x51FA;&#x51E0;&#x6761;&#x4F18;&#x5316;&#x7684;&#x5EFA;&#x8BAE;&#x3002;</code></pre><h1 id="&#x4E09;&#x6B65;&#x6784;&#x9020;rest&#x5BA2;&#x6237;&#x7AEF;"><a href="#&#x4E09;&#x6B65;&#x6784;&#x9020;rest&#x5BA2;&#x6237;&#x7AEF;" class="headerlink" title="&#x4E09;&#x6B65;&#x6784;&#x9020;rest&#x5BA2;&#x6237;&#x7AEF;"></a>&#x4E09;&#x6B65;&#x6784;&#x9020;rest&#x5BA2;&#x6237;&#x7AEF;</h1><p>&#x5982;&#x679C;&#x7528;jersey&#x63D0;&#x4F9B;&#x7684;API&#x6784;&#x9020;&#x5BA2;&#x6237;&#x7AEF;&#xFF0C;&#x4E3B;&#x8981;&#x5206;3&#x6B65;&#xFF0C;&#x5982;&#x4E0B;&#xFF1A;</p>
<ol>
<li>&#x521D;&#x59CB;&#x5316;Client&#x5B9E;&#x4F8B;&#xFF08;&#x7BA1;&#x7406;&#x901A;&#x4FE1;&#x7684;&#x57FA;&#x7840;&#x8BBE;&#x65BD;&#xFF09;</li>
<li>&#x6784;&#x9020;WebTarget&#x5B9E;&#x4F8B;&#xFF08;&#x8D44;&#x6E90;&#x5B9A;&#x4F4D;&#xFF09;</li>
<li>&#x6784;&#x9020;Invocation&#x5B9E;&#x4F8B;&#xFF08;&#x53D1;&#x8D77;&#x8C03;&#x7528;&#xFF09;</li>
</ol>
<p>&#x8FD9;&#x91CC;&#x4E0D;&#x5177;&#x4F53;&#x8BF4;&#x660E;&#x4E86;&#xFF0C;&#x5982;&#x679C;&#x9700;&#x8981;&#x4EE3;&#x7801;&#x793A;&#x4F8B;&#xFF0C;&#x53EF;&#x4EE5;&#x770B;&#x5B98;&#x65B9;&#x6587;&#x6863;&#xFF0C;&#x8BF4;&#x7684;&#x5F88;&#x6E05;&#x695A;&#x4E86;&#xFF0C;&#x8FD9;&#x662F;&#x94FE;&#x63A5;&#xFF1A;<a href="/external_links/356b19983f1cc66503e026613951b1aa.html" target="blank" rel="noopener">jersey.github.io/documentati&#x2026;</a></p>
<h1 id="&#x4F18;&#x5316;&#x5728;&#x4E8E;&#x7EC6;&#x8282;"><a href="#&#x4F18;&#x5316;&#x5728;&#x4E8E;&#x7EC6;&#x8282;" class="headerlink" title="&#x4F18;&#x5316;&#x5728;&#x4E8E;&#x7EC6;&#x8282;"></a>&#x4F18;&#x5316;&#x5728;&#x4E8E;&#x7EC6;&#x8282;</h1><p>&#x8FD9;&#x91CC;&#x4E3B;&#x8981;&#x8BF4;&#x4E00;&#x4E0B;&#x5728;&#x5F00;&#x53D1;&#x8FC7;&#x7A0B;&#x4E2D;&#x9700;&#x8981;&#x6CE8;&#x610F;&#x7684;&#x51E0;&#x4E2A;&#x70B9;&#xFF1A;</p>
<h2 id="NO-1-Client&#x5B9E;&#x4F8B;&#x7684;&#x5355;&#x4F8B;&#x6027;"><a href="#NO-1-Client&#x5B9E;&#x4F8B;&#x7684;&#x5355;&#x4F8B;&#x6027;" class="headerlink" title="NO.1 Client&#x5B9E;&#x4F8B;&#x7684;&#x5355;&#x4F8B;&#x6027;"></a>NO.1 Client&#x5B9E;&#x4F8B;&#x7684;&#x5355;&#x4F8B;&#x6027;</h2><p>Client&#x5B9E;&#x4F8B;&#x8D1F;&#x8D23;&#x7BA1;&#x7406;&#x4F4E;&#x5C42;&#x901A;&#x4FE1;&#x7684;&#x57FA;&#x7840;&#x8BBE;&#x65BD;&#xFF0C;&#x662F;&#x4E00;&#x4E2A;&#x91CD;&#x91CF;&#x7EA7;&#x5BF9;&#x8C61;&#xFF08;&#x6E90;&#x7801;&#x6CE8;&#x91CA;&#x8BF4;&#x7684;&#xFF09;&#xFF0C;&#x5E94;&#x8BE5;<strong>&#x5C3D;&#x53EF;&#x80FD;&#x5C11;</strong>&#x7684;&#x6784;&#x9020;&#x5B83;&#x7684;&#x5B9E;&#x4F8B;&#x3002;</p>
<pre><code>&#x8FD9;&#x91CC;&#x6CE8;&#x610F;&#x4E24;&#x70B9;&#xFF1A;


1. &#x4E0D;&#x8981;&#x6BCF;&#x6B21;&#x8BF7;&#x6C42;&#x6784;&#x9020;&#x4E00;&#x4E2A;Client&#x5B9E;&#x4F8B;


2. &#x5C3D;&#x53EF;&#x80FD;&#x5C11;&#x7684;&#x6784;&#x9020;&#x5B83;&#x7684;&#x5B9E;&#x4F8B;&#x3002;&#x6CE8;&#x610F;&#x6211;&#x8BF4;&#x7684;&#x5C3D;&#x53EF;&#x80FD;&#x5C11;&#xFF0C;&#x4E0B;&#x9762;&#x89E3;&#x91CA;&#x4E0B;&#xFF1A;


&#x867D;&#x7136;&#x6807;&#x9898;&#x6211;&#x5217;&#x7684;&#x662F;&#x5355;&#x4F8B;&#xFF0C;&#x4F46;&#x5E76;&#x4E0D;&#x4E00;&#x5B9A;&#x5168;&#x5C40;&#x5C31;&#x6784;&#x9020;&#x4E00;&#x4E2A;&#x5B9E;&#x4F8B;&#xFF0C;&#x53EF;&#x4EE5;&#x89C6;&#x60C5;&#x51B5;&#x800C;&#x5B9A;&#xFF0C;&#x8003;&#x8651;&#x7528;&#x61D2;&#x521D;&#x59CB;&#x5316;&#x7684;&#x65B9;&#x5F0F;&#x6784;&#x9020;&#x51E0;&#x4E2A;&#x4E0D;&#x540C;&#x7684;&#x5BA2;&#x6237;&#x7AEF;&#x5B9E;&#x4F8B;&#x7F13;&#x5B58;&#x8D77;&#x6765;&#xFF0C;&#x6BD4;&#x5982;&#xFF1A;&#x5982;&#x679C;&#x662F;&#x666E;&#x901A;&#x7684;http&#x8BF7;&#x6C42;&#x4E86;&#xFF0C;&#x5C31;&#x7528;&#x4E00;&#x4E2A;&#x57FA;&#x672C;&#x914D;&#x7F6E;&#xFF0C;&#x6CA1;&#x6709;&#x591A;&#x4F59;&#x7279;&#x6027;&#x80FD;&#x529B;&#x652F;&#x6301;&#x914D;&#x7F6E;&#x5BA2;&#x6237;&#x7AEF;&#x8C03;&#x7528;&#x5C31;&#x884C;&#xFF1B;&#x5982;&#x679C;&#x60F3;&#x8BA9;&#x672C;&#x6B21;&#x8BF7;&#x6C42;&#x652F;&#x6301;https&#x534F;&#x8BAE;&#xFF0C;&#x90A3;&#x5C31;&#x7528;&#x4E00;&#x4E2A;&#x652F;&#x6301;https&#x534F;&#x8BAE;&#x8C03;&#x7528;&#x7684;&#x5BA2;&#x6237;&#x7AEF;&#xFF1B;&#x5982;&#x679C;&#x662F;&#x4E00;&#x4E9B;&#x6587;&#x4EF6;&#x4E0A;&#x4F20;&#x4E0B;&#x8F7D;&#x7B49;&#x8BF7;&#x6C42;&#xFF0C;&#x5C31;&#x7528;&#x4E00;&#x4E2A;&#x6CE8;&#x518C; &#x4E86;Multipart&#x7279;&#x6027;&#x7684;&#x5BA2;&#x6237;&#x7AEF;&#xFF1B;&#x8BF7;&#x6C42;&#x60F3;&#x652F;&#x6301;&#x8FDE;&#x63A5;&#x6C60;&#xFF0C;&#x90A3;&#x5C31;&#x7528;&#x652F;&#x6301;&#x8FDE;&#x63A5;&#x6C60;&#x7684;&#x5BA2;&#x6237;&#x7AEF;...&#x7B49;&#x7B49;&#x3002;


&#x4F46;&#x662F;&#xFF0C;&#x5343;&#x4E07;&#x4E0D;&#x8981;&#x60F3;&#x7740;&#x5168;&#x5C40;&#x53EA;&#x7528;&#x4E00;&#x4E2A;&#x5BA2;&#x6237;&#x7AEF;&#x6CE8;&#x518C;&#x4E86;&#x4EE5;&#x4E0A;&#x9700;&#x8981;&#x7684;&#x6240;&#x6709;&#x7279;&#x6027;&#xFF0C;&#x8FD9;&#x5E76;&#x4E0D;&#x662F;&#x4E00;&#x4E2A;&#x597D;&#x4E3B;&#x610F;&#x3002;&#x5176;&#x5B9E;&#x6211;&#x6700;&#x5F00;&#x59CB;&#x5C31;&#x72AF;&#x8FC7;&#x8FD9;&#x6837;&#x7684;&#x9519;&#x8BEF;&#xFF0C;&#x76F4;&#x5230;&#x540E;&#x6765;&#x5728;&#x6027;&#x80FD;&#x4E0A;&#x9047;&#x5230;&#x74F6;&#x9888;&#x7814;&#x7A76;&#x6E90;&#x7801;&#x65F6;&#x624D;&#x660E;&#x767D;&#xFF0C;&#x5728;&#x5BA2;&#x6237;&#x7AEF;&#x914D;&#x7F6E;&#x4E0A;&#x6CE8;&#x518C;&#x7684;&#x67D0;&#x4E9B;&#x7279;&#x6027;&#x652F;&#x6301;&#xFF0C;&#x5373;&#x4F7F;&#x5F53;&#x524D;&#x8BF7;&#x6C42;&#x5E76;&#x4E0D;&#x9700;&#x8981;&#xFF0C;&#x4E5F;&#x53EF;&#x80FD;&#x4F1A;&#x6709;&#x76F8;&#x5173;&#x7684;&#x6027;&#x80FD;&#x6216;&#x8017;&#x65F6;&#x64CD;&#x4F5C;&#xFF0C;&#x76F8;&#x53CD;&#x771F;&#x6B63;&#x9700;&#x8981;&#x8FD9;&#x4E9B;&#x7279;&#x6027;&#x652F;&#x6301;&#x7684;&#x8BF7;&#x6C42;&#xFF0C;&#x5076;&#x5C14;&#x624D;&#x4F1A;&#x8FC7;&#x6765;&#x51E0;&#x6761;&#x3002;


&#x4E0D;&#x8981;&#x7591;&#x60D1;&#x54EA;&#x79CD;&#x8BF7;&#x6C42;&#x7528;&#x54EA;&#x79CD;&#x5BA2;&#x6237;&#x7AEF;&#xFF0C;&#x8FD9;&#x5E94;&#x8BE5;&#x662F;&#x5F00;&#x53D1;&#x7684;&#x65F6;&#x5019;&#x6309;&#x7167;&#x76F8;&#x5173;&#x534F;&#x8BAE;&#x6216;&#x7EA6;&#x5B9A;&#x6765;&#x533A;&#x5206;&#x7684;&#x3002;&#x603B;&#x4E4B;&#xFF0C;&#x5C3D;&#x91CF;&#x4FDD;&#x8BC1;&#x6BCF;&#x4E2A;&#x5BA2;&#x6237;&#x7AEF;&#x5B9E;&#x4F8B;&#x7684;&#x8F7B;&#x91CF;&#x7279;&#x6027;&#x3002;</code></pre><h2 id="NO-2-&#x4E0D;&#x8981;&#x9891;&#x7E41;&#x6784;&#x9020;&#x65E0;&#x53C2;&#x7684;ClientConfig&#x5B9E;&#x4F8B;"><a href="#NO-2-&#x4E0D;&#x8981;&#x9891;&#x7E41;&#x6784;&#x9020;&#x65E0;&#x53C2;&#x7684;ClientConfig&#x5B9E;&#x4F8B;" class="headerlink" title="NO.2 &#x4E0D;&#x8981;&#x9891;&#x7E41;&#x6784;&#x9020;&#x65E0;&#x53C2;&#x7684;ClientConfig&#x5B9E;&#x4F8B;"></a>NO.2 &#x4E0D;&#x8981;&#x9891;&#x7E41;&#x6784;&#x9020;&#x65E0;&#x53C2;&#x7684;ClientConfig&#x5B9E;&#x4F8B;</h2><pre><code>&#x53EA;&#x5728;&#x6784;&#x9020;Client&#x5B9E;&#x4F8B;&#x7684;&#x65F6;&#x5019;&#x8C03;&#x7528;ClientConfig&#x7684;&#x65E0;&#x53C2;&#x6784;&#x9020;&#x65B9;&#x6CD5;&#xFF0C;&#x5176;&#x5B83;&#x60C5;&#x51B5;&#x4E0B;&#x5C31;&#x4E0D;&#x8981;&#x8C03;&#x7528;&#x4E86;&#x3002;Client&#x7684;&#x5355;&#x4F8B;&#x6027;&#xFF0C;&#x4E5F;&#x4FDD;&#x8BC1;&#x5F00;&#x53D1;&#x65F6;&#x8C03;&#x7528;&#x5B83;&#x65E0;&#x53C2;&#x6784;&#x9020;&#x65B9;&#x6CD5;&#x7684;&#x6B21;&#x6570;&#x9650;&#x5236;&#x3002;


&#x867D;&#x7136;&#x770B;&#x8D77;&#x6765;&#x53EA;&#x662F;new&#x4E86;&#x4E00;&#x4E2A;ClientConfig&#x7684;&#x7A7A;&#x6784;&#x9020;&#x65B9;&#x6CD5;&#xFF0C;&#x5B9E;&#x4F8B;&#x5316;&#x4E86;&#x4E00;&#x4E2A;ClientConfig&#x5BF9;&#x8C61;&#xFF0C;&#x4F46;&#x662F;&#x5728;&#x8C03;&#x7528;&#x5B83;&#x7684;&#x65E0;&#x53C2;&#x6784;&#x9020;&#x65B9;&#x6CD5;&#x65F6;&#xFF0C;&#x4F1A;&#x521D;&#x59CB;&#x5316;&#x5B83;&#x7684;&#x4E00;&#x4E2A;&#x8FDE;&#x63A5;&#x5668;&#x63D0;&#x4F9B;&#x8005;&#x7684;&#x5C5E;&#x6027;&#xFF0C;&#x800C;&#x5728;&#x521D;&#x59CB;&#x5316;&#x8FD9;&#x4E2A;&#x5C5E;&#x6027;&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x4F1A;&#x626B;&#x63CF;&#x5E94;&#x7528;&#x7C7B;&#x8DEF;&#x5F84;&#x3001;&#x6269;&#x5C55;&#x7C7B;&#x8DEF;&#x5F84;&#x3001;&#x5F15;&#x5BFC;&#x7C7B;&#x8DEF;&#x5F84;&#x4E0B;&#x7684;&#x6240;&#x6709;jar&#x5305;&#x6587;&#x4EF6;&#xFF0C;&#x671F;&#x671B;&#x901A;&#x8FC7;&#x5B83;&#x7684;SPI&#x6269;&#x5C55;&#x65B9;&#x5F0F;&#x67E5;&#x627E;&#x5230;&#x4E00;&#x4E2A;&#x8FDE;&#x63A5;&#x5668;&#x63D0;&#x4F9B;&#x8005;&#xFF0C;&#x5176;&#x5B9E;&#x5F88;&#x591A;&#x65F6;&#x5019;&#x6211;&#x4EEC;&#x4E0D;&#x4F1A;&#x53BB;&#x4F7F;&#x7528;&#x5B83;&#x7684;&#x8FD9;&#x4E9B;&#x6269;&#x5C55;&#xFF0C;&#x6240;&#x4EE5;&#x6700;&#x7EC8;&#x56E0;&#x4E3A;&#x6CA1;&#x627E;&#x5230;&#x8FD8;&#x662F;&#x4F1A;&#x7528;&#x9ED8;&#x8BA4;&#x7684;&#x8FDE;&#x63A5;&#x5668;&#x3002;&#x4F46;&#x662F;&#x5DF2;&#x7ECF;&#x505A;&#x4E86;&#x5F88;&#x591A;&#x65E0;&#x7528;&#x529F;&#xFF0C;&#x5E76;&#x4E14;&#x5728;&#x626B;&#x627E;&#x7C7B;&#x8DEF;&#x5F84;&#x904D;&#x5386;&#x6587;&#x4EF6;&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x6BCF;&#x6B21;&#x5FAA;&#x73AF;&#x90FD;&#x4F1A;&#x6709;&#x4E00;&#x4E2A;&#x540C;&#x6B65;&#x5904;&#x7406;&#x7684;&#x64CD;&#x4F5C;&#xFF08;&#x8C03;&#x7528;&#x7684;JDK&#x7684;JarFile&#x5185;&#x7684;&#x65B9;&#x6CD5;&#xFF09;&#x3002;&#x6709;&#x540C;&#x6B65;&#x5C31;&#x6709;&#x9501;&#xFF0C;&#x8FD9;&#x6837;&#x5C31;&#x4E0D;&#x597D;&#x4E86;&#xFF0C;&#x5E76;&#x53D1;&#x9AD8;&#x7684;&#x65F6;&#x5019;&#xFF0C;CPU&#x8C03;&#x5EA6;&#x6162;&#xFF0C;&#x9501;&#x5360;&#x6709;&#x65F6;&#x95F4;&#x4E45;&#xFF0C;&#x8D44;&#x6E90;&#x91CA;&#x653E;&#x6162;&#xFF0C;&#x5C31;&#x5BB9;&#x6613;&#x6709;&#x5927;&#x91CF;&#x7EBF;&#x7A0B;&#x56E0;&#x6B64;&#x963B;&#x585E;&#x3002;&#x800C;&#x8FD9;&#x4E2A;&#x9501;&#x95F4;&#x63A5;&#x7684;&#x662F;&#x6211;&#x4EEC;&#x81EA;&#x5DF1;&#x52A0;&#x4E0A;&#x7684;&#x3002;


&#x6240;&#x4EE5;&#x4E0D;&#x8981;&#x65E0;&#x8C13;&#x7684;&#x8C03;&#x7528; ClientConfig&#x7684;&#x65E0;&#x53C2;&#x6784;&#x9020;&#x65B9;&#x6CD5;&#x3002;</code></pre><h2 id="NO-3-&#x4F7F;&#x7528;&#x8FDE;&#x63A5;&#x6C60;"><a href="#NO-3-&#x4F7F;&#x7528;&#x8FDE;&#x63A5;&#x6C60;" class="headerlink" title="NO.3 &#x4F7F;&#x7528;&#x8FDE;&#x63A5;&#x6C60;"></a>NO.3 &#x4F7F;&#x7528;&#x8FDE;&#x63A5;&#x6C60;</h2><p>&#x4F7F;&#x7528;&#x8FDE;&#x63A5;&#x6C60;&#xFF0C;&#x89C1;&#x540D;&#x77E5;&#x4E49;&#xFF0C;&#x6211;&#x89C9;&#x5F97;&#x8FD9;&#x4E2A;&#x597D;&#x5904;&#x5C31;&#x4E0D;&#x7528;&#x6211;&#x591A;&#x8BF4;&#x4E86;&#xFF0C;&#x4F46;&#x662F;&#x6709;&#x4E00;&#x4E9B;&#x9700;&#x8981;&#x6CE8;&#x610F;&#x7684;&#x5730;&#x65B9;&#xFF1A;</p>
<pre><code>1. &#x9ED8;&#x8BA4;&#x7684;&#x8FDE;&#x63A5;&#x5668;&#x662F;HttpUrlConnector&#xFF0C;&#x8FD9;&#x4E2A;&#x662F;&#x4E0D;&#x652F;&#x6301;&#x8FDE;&#x63A5;&#x6C60;&#x7684;&#xFF0C;&#x4F7F;&#x7528;&#x8FDE;&#x63A5;&#x6C60;&#x7684;&#x8BDD;&#x53EF;&#x4EE5;&#x8003;&#x8651;&#x66F4;&#x6362;&#x5176;&#x5B83;&#x8FDE;&#x63A5;&#x5668;&#xFF0C;&#x6BD4;&#x5982;&#xFF1A;ApacheConnector&#x3002;&#x5F53;&#x7136;&#x4E5F;&#x53EF;&#x4EE5;&#x81EA;&#x5B9A;&#x4E49;&#x3002;


2. &#x8BFB;&#x53D6;&#x8D85;&#x65F6;/&#x8FDE;&#x63A5;&#x8D85;&#x65F6;&#x914D;&#x7F6E;&#xFF0C;&#x8FDE;&#x63A5;&#x6C60;&#x672C;&#x8EAB;&#x5C31;&#x662F;&#x7F13;&#x5B58;&#x4E86;&#x4E00;&#x4E9B;&#x95F2;&#x7F6E;&#x53EF;&#x7528;&#x7684;&#x957F;&#x8FDE;&#x63A5;&#xFF0C;&#x6240;&#x4EE5;&#xFF0C;&#x5BF9;&#x4E8E;&#x8FD9;&#x4E9B;&#x8FDE;&#x63A5;&#x8FD8;&#x600E;&#x4E48;&#x8BBE;&#x7F6E;&#x5B83;&#x7684;&#x4E00;&#x6B21;&#x8BF7;&#x6C42;&#x4E2D;&#x7684;&#x8FDE;&#x63A5;&#x8D85;&#x65F6;&#x6216;&#x8005;&#x8BFB;&#x53D6;&#x8D85;&#x65F6;&#xFF0C;&#x5176;&#x5B83;&#x6211;&#x4E5F;&#x4E0D;&#x77E5;&#x9053;&#x3002;</code></pre><h2 id="NO-4-&#x5173;&#x95ED;&#x7C7B;&#x8DEF;&#x5F84;&#x626B;&#x63CF;"><a href="#NO-4-&#x5173;&#x95ED;&#x7C7B;&#x8DEF;&#x5F84;&#x626B;&#x63CF;" class="headerlink" title="NO.4 &#x5173;&#x95ED;&#x7C7B;&#x8DEF;&#x5F84;&#x626B;&#x63CF;"></a>NO.4 &#x5173;&#x95ED;&#x7C7B;&#x8DEF;&#x5F84;&#x626B;&#x63CF;</h2><p>&#x5B98;&#x65B9;&#x6587;&#x6863;&#x4E2D;&#x6709;&#x8FD9;&#x4E48;&#x4E00;&#x6BB5;&#x8BDD;&#xFF1A;</p>
<blockquote>
<p>Jersey uses a common Java Service Provider mechanism to obtain all service implementations. It means that Jersey scans the whole class path to find appropriate <code>META-INF/services/</code> files. The class path scanning may be time consuming. The more jar or war files on the classpath the longer the scanning time. In use cases where you need to save every millisecond of application bootstrap time, you may typically want to disable the services provider lookup in Jersey.</p>
</blockquote>
<p>&#x8BF7;&#x6CE8;&#x610F;&#xFF0C;&#x8FD9;&#x4E2A;&#x7C7B;&#x8DEF;&#x5F84;&#x626B;&#x63CF;&#x662F;&#x5B58;&#x5728;&#x540C;&#x6B65;&#x64CD;&#x4F5C;&#x7684;&#xFF0C;&#x53E6;&#x5916;&#x5B83;&#x7684;&#x8017;&#x65F6;&#x662F;&#x8DDF;&#x7C7B;&#x8DEF;&#x5F84;&#x4E0B;jar&#x5305;&#x6216;war&#x5305;&#x7684;&#x6570;&#x91CF;&#x76F8;&#x5173;&#x3002;</p>
<p>&#x6240;&#x4EE5;jersey&#x63D0;&#x4F9B;&#x4E86;&#x5173;&#x95ED;&#x8FD9;&#x4E2A;&#x7279;&#x6027;&#xFF0C;&#x4F46;&#x662F;&#x53C8;&#x4E0D;&#x5F71;&#x54CD;&#x6838;&#x5FC3;&#x529F;&#x80FD;&#x7684;&#x65B9;&#x5F0F;&#xFF1A;</p>
<blockquote>
<p>Since it is possible to configure all SPI implementation classes or instances manually in your <code>Application</code> subclass, disabling services lookup in Jersey does not affect any functionality of Jersey core modules and extensions and can save dozens of ms during application initialization in exchange for a more verbose application configuration code.</p>
<p>The services lookup in Jersey (enabled by default) can be disabled via a dedicated <a href="/external_links/7ec252d4ed6aa556754a5fe4317d764b.html" target="blank" rel="noopener">CommonProperties.METAINF_SERVICES_LOOKUP_DISABLE</a> property. There is a client/server counter-part that only disables the feature on the client or server respectively:<a href="/external_links/302cbd1e00e541f5a48548dc389e13bb.html" target="blank" rel="noopener">ClientProperties.METAINF_SERVICES_LOOKUP_DISABLE</a>/<a href="/external_links/4e9781ac61a719c7cea39b1ce55b1b5c.html" target="blank" rel="noopener">ServerProperties.METAINF_SERVICES_LOOKUP_DISABLE</a>. As in all other cases, the client/server specific properties overrides the value of the related common property, when set.</p>
</blockquote>
<p>&#x5F53;&#x7136;&#x4E86;&#xFF0C;&#x5728;&#x914D;&#x7F6E;&#x4E2D;&#x542F;&#x7528;&#x8FD9;&#x4E2A;&#x5C5E;&#x6027;&#x5E76;&#x4E0D;&#x4EE3;&#x8868;&#x5C31;&#x4E0D;&#x4F1A;&#x626B;&#x63CF;&#x7C7B;&#x8DEF;&#x5F84;&#x4E86;&#xFF0C;&#x8FD8;&#x53EF;&#x80FD;&#x5728;&#x5176;&#x5B83;&#x5730;&#x65B9;&#xFF0C;&#x6BD4;&#x5982;&#x5982;&#x679C;&#x542F;&#x7528;Multipart&#x7684;&#x7279;&#x6027;&#x652F;&#x6301;&#xFF0C;&#x6BCF;&#x6B21;&#x8BF7;&#x6C42;&#x5C31;&#x4F1A;&#x626B;&#x63CF;&#x7C7B;&#x8DEF;&#x5F84;&#x4E0B;&#x662F;&#x5426;&#x6709;&#x76F8;&#x5173;&#x914D;&#x7F6E;&#xFF0C;&#x8FD9;&#x4E2A;&#x5173;&#x95ED;&#x4E0D;&#x4E86;&#xFF0C;&#x6240;&#x4EE5;&#x524D;&#x9762;&#x4E5F;&#x5EFA;&#x8BAE;&#x9488;&#x5BF9;&#x4E0D;&#x540C;&#x8BF7;&#x6C42;&#x4F7F;&#x7528;&#x4E0D;&#x540C;&#x7684;&#x5BA2;&#x6237;&#x7AEF;&#x3002;&#x53E6;&#x5916;&#xFF0C;jersey&#x4EE3;&#x7801;&#x5185;&#x90E8;&#x6709;&#x4E00;&#x4E9B;&#x65B9;&#x6CD5;&#x8C03;&#x7528;&#x4F9D;&#x7136;&#x4F1A;&#x89E6;&#x53D1;&#x7C7B;&#x8DEF;&#x5F84;&#x626B;&#x63CF;&#xFF0C;&#x4F46;&#x662F;&#x7ECF;&#x8FC7;&#x6211;&#x4ED4;&#x7EC6;&#x7814;&#x7A76;&#x5B83;&#x7684;&#x6E90;&#x7801;&#xFF0C;&#x627E;&#x5230;&#x4E86;&#x4E00;&#x79CD;&#x65B9;&#x6CD5;&#x901A;&#x8FC7;&#x81EA;&#x5B9A;&#x4E49;&#x6269;&#x5C55;&#x7684;&#x65B9;&#x5F0F;&#x53EF;&#x4EE5;&#x907F;&#x514D;&#xFF0C;&#x540E;&#x7EED;&#x6709;&#x9700;&#x8981;&#x4F1A;&#x518D;&#x8BF4;&#x660E;&#x3002;</p>
<p>&#x5176;&#x5B83;&#x7684;&#x7A81;&#x7136;&#x4E4B;&#x524D;&#x4E5F;&#x60F3;&#x4E0D;&#x8D77;&#x6765;&#x4E86;&#xFF0C;&#x6700;&#x540E;&#x4E00;&#x4E2A;&#x5EFA;&#x8BAE;&#xFF0C;&#x6846;&#x67B6;&#x9009;&#x578B;&#x5F88;&#x91CD;&#x8981;&#xFF0C;&#x6BD4;&#x5982;&#xFF1A;&#x5982;&#x679C;&#x53EA;&#x662F;&#x529F;&#x80FD;&#x8981;&#x6C42;&#x4E0D;&#x591A;&#xFF0C;&#x4F46;&#x662F;&#x6027;&#x80FD;&#x8981;&#x9AD8;&#xFF0C;&#x53EF;&#x4EE5;&#x8003;&#x8651;&#x627E;&#x4E00;&#x6B3E;&#x66F4;&#x8F7B;&#x91CF;&#x7EA7;&#x7684;rest&#x5BA2;&#x6237;&#x7AEF;&#xFF0C;&#x5C31;&#x4E0D;&#x8981;&#x8003;&#x8651;&#x7528;jersey&#x4E86;&#x3002;</p>
<p><strong>&#x672C;&#x6587;&#x8F6C;&#x8F7D;&#x81EA;:</strong> <a href="/external_links/984b8706e3922c31b55eb8e31803ab7d.html" target="blank" rel="noopener">&#x6398;&#x91D1;</a></p>
<p><em><a href="https://dev.newban.cn/">&#x5F00;&#x53D1;&#x8005;&#x535A;&#x5BA2; &#x2013; &#x548C;&#x5F00;&#x53D1;&#x76F8;&#x5173;&#x7684; &#x8FD9;&#x91CC;&#x5168;&#x90FD;&#x6709;</a></em></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://dev.newban.cn../../7036171562659577887.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="开发者博客">
      <meta itemprop="description" content>
      <meta itemprop="image" content="../../images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="开发者博客 – IT技术 尽在开发者博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="../../7036171562659577887.html" itemprop="url">工作中常用到的Java8特性</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2021-11-30T09:40:06+08:00">
                2021-11-30
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="Lambda&#x8868;&#x8FBE;&#x5F0F;"><a href="#Lambda&#x8868;&#x8FBE;&#x5F0F;" class="headerlink" title="Lambda&#x8868;&#x8FBE;&#x5F0F;"></a>Lambda&#x8868;&#x8FBE;&#x5F0F;</h2><blockquote>
<p>lambda&#x8868;&#x8FBE;&#x5F0F;&#x662F;&#x662F;&#x4E00;&#x4E2A;&#x533F;&#x540D;&#x51FD;&#x6570;&#xFF0C;&#x5373;&#x6CA1;&#x6709;&#x51FD;&#x6570;&#x540D;&#x7684;&#x51FD;&#x6570;</p>
</blockquote>
<p>&#x4E3E;&#x4E2A;&#x6211;&#x4EEC;&#x5E73;&#x65F6;&#x521B;&#x5EFA;&#x7EBF;&#x7A0B;&#x7684;&#x6817;&#x5B50;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">java&#x590D;&#x5236;&#x4EE3;&#x7801;&#xA0;//Runnable&#x5B9E;&#x73B0;&#x7C7B;</span><br><span class="line">public class RunnableImpl implements Runnable {</span><br><span class="line">&#xA0; &#xA0; &#xA0;@Override</span><br><span class="line">&#xA0; &#xA0; &#xA0;public void run() {</span><br><span class="line">&#xA0; &#xA0; &#xA0; &#xA0; &#xA0;logger.info(&quot;Runnable&#x5B9E;&#x73B0;&#x7C7B;&#x521B;&#x5EFA;&#x5E76;&#x542F;&#x52A8;&#x4E00;&#x4E2A;&#x65B0;&#x7684;&#x7EBF;&#x7A0B;&quot;);</span><br><span class="line">&#xA0; &#xA0;  }</span><br><span class="line">&#xA0;}</span><br><span class="line">&#xA0;&#x200B;</span><br><span class="line">&#xA0;//&#x91C7;&#x7528;&#x4F20;&#x7EDF;&#x7684;Runnable&#x5BF9;&#x8C61;&#x4F5C;&#x4E3A;&#x53C2;&#x6570;&#x65B0;&#x5EFA;&#x5E76;&#x542F;&#x52A8;&#x4E00;&#x4E2A;&#x7EBF;&#x7A0B;</span><br><span class="line">&#xA0;new Thread(new RunnableImpl()).start();</span><br><span class="line">&#xA0;&#x200B;</span><br><span class="line">&#xA0;//&#x91C7;&#x7528;&#x533F;&#x540D;&#x5185;&#x90E8;&#x7C7B;&#x7684;&#x65B9;&#x5F0F;&#x65B0;&#x5EFA;&#x5E76;&#x542F;&#x52A8;&#x4E00;&#x4E2A;&#x7EBF;&#x7A0B;</span><br><span class="line">&#xA0;new Thread(new Runnable() {</span><br><span class="line">&#xA0; &#xA0; &#xA0;@Override</span><br><span class="line">&#xA0; &#xA0; &#xA0;public void run() {</span><br><span class="line">&#xA0; &#xA0; &#xA0; &#xA0; &#xA0;logger.info(&quot;&#x533F;&#x540D;&#x5185;&#x90E8;&#x7C7B;&#x65B9;&#x5F0F;&#x521B;&#x5EFA;&#x5E76;&#x542F;&#x52A8;&#x4E00;&#x4E2A;&#x65B0;&#x7684;&#x7EBF;&#x7A0B;&quot;);</span><br><span class="line">&#xA0; &#xA0;  }</span><br><span class="line">&#xA0;}).start();</span><br><span class="line">&#xA0;&#x200B;</span><br><span class="line">&#xA0;//&#x5BF9;&#x533F;&#x540D;&#x5185;&#x90E8;&#x7C7B;&#x8FDB;&#x884C;&#x7B80;&#x5316;&#xFF0C;&#x5199;&#x6210;lambda&#x8868;&#x8FBE;&#x5F0F;</span><br><span class="line">&#xA0;new Thread(()-&gt; logger.info(&quot;lambda&#x8868;&#x8FBE;&#x5F0F;&#x521B;&#x5EFA;&#x5E76;&#x542F;&#x52A8;&#x4E00;&#x4E2A;&#x65B0;&#x7684;&#x7EBF;&#x7A0B;&quot;)).start();</span><br><span class="line">&#xA0;&#x200B;</span><br></pre></td></tr></table></figure>

<p><code>&#x4F18;&#x70B9;</code>&#xFF1A;lambda&#x8868;&#x8FBE;&#x5F0F;&#x76F8;&#x6BD4;&#x4F20;&#x7EDF;&#x7684;Runnable&#x5BF9;&#x8C61;&#x4F5C;&#x4E3A;&#x53C2;&#x6570;&#x4F20;&#x9012;&#x7ED9;Thread&#x7C7B;&#x65B9;&#x5F0F;&#x521B;&#x5EFA;&#x7EBF;&#x7A0B;&#x7684;&#x65B9;&#x5F0F;&#xFF0C;&#x4EE3;&#x7801;&#x66F4;&#x7B80;&#x6D01;</p>
<h2 id="&#x65B9;&#x6CD5;&#x5F15;&#x7528;"><a href="#&#x65B9;&#x6CD5;&#x5F15;&#x7528;" class="headerlink" title="&#x65B9;&#x6CD5;&#x5F15;&#x7528;"></a>&#x65B9;&#x6CD5;&#x5F15;&#x7528;</h2><blockquote>
<p>&#x65B9;&#x6CD5;&#x5F15;&#x7528;&#x53EF;&#x4EE5;&#x5C06;&#x4E00;&#x4E2A;&#x65B9;&#x6CD5;&#x5C01;&#x88C5;&#x6210;&#x4E00;&#x4E2A;&#x53D8;&#x91CF;&#x3002;::&#x53CC;&#x5192;&#x53F7;&#x662F;&#x65B9;&#x6CD5;&#x5F15;&#x7528;&#x7684;&#x7B26;&#x53F7;</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">java&#x590D;&#x5236;&#x4EE3;&#x7801;&#xA0;//&#x65B9;&#x6CD5;&#x5F15;&#x7528;&#xFF0C;&#x5C06;&#x5B57;&#x7B26;&#x4E32;100&#x8F6C;&#x6362;&#x6210;Integer&#x7C7B;&#x578B;</span><br><span class="line">&#xA0;Function&lt;String, Integer&gt; function = Integer::parseInt;</span><br><span class="line">&#xA0;Integer IntegerResult= function.apply(&quot;100&quot;);</span><br></pre></td></tr></table></figure>

<p>&#x65B9;&#x6CD5;&#x5F15;&#x7528;&#x7684;&#x8FD4;&#x56DE;&#x503C;&#x7C7B;&#x578B;&#x662F;&#x51FD;&#x6570;&#x5F0F;&#x63A5;&#x53E3;</p>
<p>&#x88AB;&#x5F15;&#x7528;&#x65B9;&#x6CD5;&#x7684;&#x53C2;&#x6570;&#x4E2A;&#x6570;&#xFF0C;&#x7C7B;&#x578B;&#xFF0C;&#x8FD4;&#x56DE;&#x503C;&#x7C7B;&#x578B;&#x9700;&#x8981;&#x548C;&#x51FD;&#x6570;&#x5F0F;&#x63A5;&#x53E3;&#x4E2D;&#x65B9;&#x6CD5;&#x7684;&#x58F0;&#x660E;&#x4E00;&#x81F4;&#xFF0C;&#x53EA;&#x8981;&#x6EE1;&#x8DB3;&#x8FD9;&#x4E2A;&#x8981;&#x6C42;&#xFF0C;&#x53EF;&#x4EE5;&#x8FD4;&#x56DE;&#x4EFB;&#x610F;&#x7C7B;&#x578B;&#x7684;&#x51FD;&#x6570;&#x5F0F;&#x63A5;&#x53E3;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">java&#x590D;&#x5236;&#x4EE3;&#x7801;&#xA0;//Function&#x51FD;&#x6570;&#x5F0F;&#x63A5;&#x53E3;&#xFF0C;apply&#x65B9;&#x6CD5;&#x63A5;&#x6536;T&#x7C7B;&#x578B;&#x7684;&#x53D8;&#x91CF;&#xFF0C;&#x8FD4;&#x56DE;R&#x7C7B;&#x578B;&#x7684;&#x7ED3;&#x679C;</span><br><span class="line">&#xA0;@FunctionalInterface</span><br><span class="line">&#xA0;public interface Function&lt;T, R&gt; {</span><br><span class="line">&#xA0; &#xA0; &#xA0;R apply(T t);</span><br><span class="line">&#xA0;}</span><br><span class="line">&#xA0;&#x200B;</span><br><span class="line">&#xA0;Integer.paseInt()&#x65B9;&#x6CD5;&#x63A5;&#x6536;&#x5B57;&#x7B26;&#x4E32;&#x7C7B;&#x578B;&#x53C2;&#x6570;&#xFF0C;&#x8FD4;&#x56DE;Integer&#x7C7B;&#x578B;&#x7684;&#x7ED3;&#x679C;</span><br><span class="line">&#xA0; &#xA0; </span><br><span class="line">&#xA0;//&#x6BD4;&#x8F83;&#x4E24;&#x4E2A;int&#x503C;&#x5927;&#x5C0F;&#xFF0C;&#x4E0B;&#x9762;&#x4E24;&#x79CD;&#x8FD4;&#x56DE;&#x503C;&#x7C7B;&#x578B;&#x5747;&#x53EF;</span><br><span class="line">&#xA0;Comparator&lt;Integer&gt; compare = Integer::compare;</span><br><span class="line">&#xA0;int compare1 = compare.compare(1, 2);</span><br><span class="line">&#xA0;&#x200B;</span><br><span class="line">&#xA0;IntBinaryOperator compare = Integer::compare;</span><br><span class="line">&#xA0;int compare1 = compare.applyAsInt(1, 2);</span><br></pre></td></tr></table></figure>

<p>&#x5728;java.util.function&#x5305;&#x4E0B;&#x6709;&#x5F88;&#x591A;&#x51FD;&#x6570;&#x5F0F;&#x63A5;&#x53E3;</p>
<p><img src="https://gitee.com/songjianzaina/juejin_p5/raw/master/img/06e5a5e0385ff099261afc092fcc8926e6ce9a7d89e4bfe14c1703b4fc342f80" alt="image.png"></p>
<p>&#x81EA;&#x5B9A;&#x4E49;&#x4E00;&#x4E2A;&#x51FD;&#x6570;&#x5F0F;&#x63A5;&#x53E3;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">csharp&#x590D;&#x5236;&#x4EE3;&#x7801;&#xA0;//&#x51FD;&#x6570;&#x5F0F;&#x63A5;&#x53E3;&#x7684;run&#x65B9;&#x6CD5;&#x4F1A;&#x63A5;&#x6536;T&#x548C;S&#x7C7B;&#x578B;&#x4E24;&#x4E2A;&#x53C2;&#x6570;&#xFF0C;&#x8FD4;&#x56DE;R&#x7C7B;&#x578B;&#x7684;&#x7ED3;&#x679C;</span><br><span class="line">&#xA0;@FunctionalInterface</span><br><span class="line">&#xA0;public interface KiteFunction&lt;T,R,S&gt; {</span><br><span class="line">&#xA0; &#xA0; &#xA0;</span><br><span class="line">&#xA0; &#xA0; &#xA0;R run(T t, S s);</span><br><span class="line">&#xA0;}</span><br></pre></td></tr></table></figure>

<p>&#x81EA;&#x5B9A;&#x4E49;&#x4E00;&#x4E2A;&#x548C;KiteFunction&#x7684;run&#x65B9;&#x6CD5;&#x961F;&#x5BF9;&#x5E94;&#x7684;&#x65B9;&#x6CD5;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">typescript&#x590D;&#x5236;&#x4EE3;&#x7801;&#xA0;//dateFormat&#x65B9;&#x6CD5;&#x7684;&#x529F;&#x80FD;&#x662F;&#x6309;&#x7167;&#x6307;&#x5B9A;&#x7684;&#x683C;&#x5F0F;&#xFF0C;&#x628A;&#x65E5;&#x671F;&#x8FDB;&#x884C;&#x683C;&#x5F0F;&#x5316;&#xFF0C;&#x8FD4;&#x56DE;&#x5B57;&#x7B26;&#x4E32;&#x7684;&#x65E5;&#x671F;</span><br><span class="line">&#xA0;public class TimeConverse {</span><br><span class="line">&#xA0;&#x200B;</span><br><span class="line">&#xA0; &#xA0; &#xA0;public static String dateFormat(LocalDateTime localDateTime,String pattern){</span><br><span class="line">&#xA0; &#xA0; &#xA0; &#xA0; &#xA0;DateTimeFormatter dateTimeFormatter = DateTimeFormatter.ofPattern(pattern);</span><br><span class="line">&#xA0; &#xA0; &#xA0; &#xA0; &#xA0;String dateStr = localDateTime.format(dateTimeFormatter);</span><br><span class="line">&#xA0; &#xA0; &#xA0; &#xA0; &#xA0;return dateStr;</span><br><span class="line">&#xA0; &#xA0;  }</span><br><span class="line">&#xA0;}</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">ini&#x590D;&#x5236;&#x4EE3;&#x7801;&#xA0;KiteFunction&lt;LocalDateTime, String, String&gt; dateFormat = TimeConverse::dateFormat;</span><br><span class="line">&#xA0;String dateStr = dateFormat.run(LocalDateTime.now(), &quot;yyyy-MM-dd HH:mm:ss&quot;);</span><br><span class="line">&#xA0;System.out.println(dateStr);</span><br></pre></td></tr></table></figure>

<p>&#x5982;&#x679C;TimeConverse&#x7684;dateFormat&#x65B9;&#x6CD5;&#x53EA;&#x4F1A;&#x88AB;&#x8C03;&#x7528;&#x4E00;&#x6B21;&#xFF0C;&#x6211;&#x4EEC;&#x4E5F;&#x53EF;&#x4EE5;&#x76F4;&#x63A5;&#x5C06;&#x5176;&#x5728;kiteFunction&#x63A5;&#x53E3;&#x7684;run&#x65B9;&#x6CD5;&#x4E2D;&#x5B9E;&#x73B0;&#xFF08;&#x539F;&#x7406;&#x7C7B;&#x4F3C;&#x4E8E;Runnable&#x63A5;&#x53E3;&#x521B;&#x5EFA;&#x542F;&#x52A8;&#x4E00;&#x4E2A;&#x65B0;&#x7EBF;&#x7A0B;&#xFF09;,&#x8FD9;&#x79CD;&#x662F;&#x533F;&#x540D;&#x5185;&#x90E8;&#x7C7B;&#x7684;&#x65B9;&#x5F0F;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">typescript&#x590D;&#x5236;&#x4EE3;&#x7801;&#xA0;String dateStr2 = new KiteFunction&lt;LocalDateTime, String, String&gt;() {</span><br><span class="line">&#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0;@Override</span><br><span class="line">&#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0;public String run(LocalDateTime localDateTime, String pattern) {</span><br><span class="line">&#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0;DateTimeFormatter dateTimeFormatter = DateTimeFormatter.ofPattern(pattern);</span><br><span class="line">&#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0;return localDateTime.format(dateTimeFormatter);</span><br><span class="line">&#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0;  }</span><br><span class="line">&#xA0;&#x200B;</span><br><span class="line">&#xA0;}.run(LocalDateTime.now(), &quot;yyyy-MM-dd HH:mm:ss&quot;);</span><br></pre></td></tr></table></figure>

<p>&#x4E0A;&#x9762;&#x533F;&#x540D;&#x5185;&#x90E8;&#x7C7B;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;lambda&#x8868;&#x8FBE;&#x5F0F;&#x7684;&#x5F62;&#x5F0F;&#x8FDB;&#x884C;&#x66FF;&#x4EE3;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">ini&#x590D;&#x5236;&#x4EE3;&#x7801;&#xA0;String dateStr2 = ((KiteFunction&lt;LocalDateTime, String, String&gt;) (localDateTime, pattern) -&gt; {</span><br><span class="line">&#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0;DateTimeFormatter dateTimeFormatter = DateTimeFormatter.ofPattern(pattern);</span><br><span class="line">&#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0;return localDateTime.format(dateTimeFormatter);</span><br><span class="line">&#xA0; &#xA0; &#xA0; &#xA0;  }).run(LocalDateTime.now(), &quot;yyyy-MM-dd HH:mm:ss&quot;);</span><br></pre></td></tr></table></figure>

<h2 id="Stream&#x6D41;"><a href="#Stream&#x6D41;" class="headerlink" title="Stream&#x6D41;"></a>Stream&#x6D41;</h2><p>Stream&#x6D41;&#x4E2D;&#x5927;&#x91CF;&#x8FD0;&#x7528;&#x4E86;&#x65B9;&#x6CD5;&#x5F15;&#x7528;&#x548C;lambda&#x8868;&#x8FBE;&#x5F0F;&#xFF0C;&#x5E76;&#x63D0;&#x4F9B;&#x4E86;&#x5F88;&#x591A;&#x7B80;&#x5355;&#x6613;&#x7528;&#x5C01;&#x88C5;&#x597D;&#x7684;&#x5DE5;&#x5177;API&#xFF0C;&#x4F7F;&#x7528;&#x8FD9;&#x4E9B;API&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x5FEB;&#x901F;&#x9AD8;&#x6548;&#x5730;&#x5BF9;&#x590D;&#x6742;&#x6570;&#x636E;&#x8FDB;&#x884C;&#x5904;&#x7406;</p>
<ol>
<li>flatMap &#x5BF9;&#x591A;&#x7EF4;&#x6570;&#x636E;&#x8FDB;&#x884C;&#x6241;&#x5E73;&#x5316;&#x5904;&#x7406;</li>
<li>peek&#x51FD;&#x6570;&#x7C7B;&#x4F3C;&#x4E8E;foreach&#x51FD;&#x6570;&#xFF0C;&#x533A;&#x522B;&#x662F;foreach&#x51FD;&#x6570;&#x6267;&#x884C;&#x540E;&#x6CA1;&#x6709;&#x8FD4;&#x56DE;&#x7ED3;&#x679C;&#xFF0C;&#x800C;peek&#x8FD4;&#x56DE;&#x4E86;Stream&#xFF0C;&#x4F46;&#x662F;&#x5982;&#x679C;&#x6267;&#x884C;peek&#x51FD;&#x6570;&#x540E;&#xFF0C;&#x6CA1;&#x6709;&#x5BF9;&#x6570;&#x636E;&#x8FDB;&#x884C;&#x6536;&#x96C6;&#x64CD;&#x4F5C;&#xFF0C;peek&#x51FD;&#x6570;&#x5185;&#x90E8;&#x7684;&#x65B9;&#x6CD5;&#x4E0D;&#x4F1A;&#x88AB;&#x6267;&#x884C;</li>
<li>reduce&#x51FD;&#x6570;&#xFF0C;&#x5BF9;&#x6570;&#x636E;&#x8FDB;&#x884C;&#x7D2F;&#x52A0;&#x64CD;&#x4F5C;</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">java&#x590D;&#x5236;&#x4EE3;&#x7801;&#xA0;//reduce&#x65B9;&#x6CD5;&#x5B9A;&#x4E49;</span><br><span class="line">&#xA0;Optional&lt;T&gt; reduce(BinaryOperator&lt;T&gt; accumulator);</span><br><span class="line">&#xA0;//&#x5B9E;&#x9645;&#x7528;&#x6CD5;&#xFF0C;&#x5BF9;List&lt;Integer&gt;&#x4E2D;&#x7684;&#x5143;&#x7D20;&#x8FDB;&#x884C;&#x7D2F;&#x52A0;&#x6C42;&#x548C;</span><br><span class="line">&#xA0;Integer result = stream.reduce((x, y) -&gt; x + y).get();</span><br><span class="line">&#xA0;x&#x662F;Stream&#x4E2D;&#x7684;&#x7B2C;&#x4E00;&#x4E2A;&#x5143;&#x7D20;&#xFF0C;y&#x662F;&#x7B2C;&#x4E8C;&#x4E2A;&#x5143;&#x7D20;</span><br><span class="line">&#xA0;//reduce&#x91CD;&#x8F7D;&#x65B9;&#x6CD5;&#x5B9A;&#x4E49;</span><br><span class="line">&#xA0;T reduce(T identity, BinaryOperator&lt;T&gt; accumulator);</span><br><span class="line">&#xA0;//&#x5B9E;&#x9645;&#x7528;&#x6237;&#xFF0C;&#x7D2F;&#x52A0;&#x6C42;&#x548C;&#x65F6;&#x5148;&#x8D4B;&#x4E00;&#x4E2A;&#x521D;&#x59CB;&#x503C;</span><br><span class="line">&#xA0;stream.reduce(100, (x, y) -&gt; x + y)</span><br><span class="line">&#xA0;&#x7D2F;&#x52A0;&#x65F6;,identity&#x4F1A;&#x4F5C;&#x4E3A;&#x7B2C;&#x4E00;&#x4E2A;&#x53C2;&#x6570;</span><br></pre></td></tr></table></figure>

<p>Stream&#x6D41;&#x7A0B;&#x5E38;&#x7528;&#x65B9;&#x6CD5;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">java&#x590D;&#x5236;&#x4EE3;&#x7801;&#xA0;Trader raoul = new Trader(&quot;Raoul&quot;, &quot;Cambridge&quot;);</span><br><span class="line">&#xA0;Trader mario = new Trader(&quot;Mario&quot;, &quot;Milan&quot;);</span><br><span class="line">&#xA0;Trader alan = new Trader(&quot;Alan&quot;, &quot;Cambridge&quot;);</span><br><span class="line">&#xA0;Trader brian = new Trader(&quot;Brian&quot;, &quot;Cambridge&quot;);</span><br><span class="line">&#xA0;&#x200B;</span><br><span class="line">&#xA0;List&lt;Transaction&gt; transactions = Arrays.asList(</span><br><span class="line">&#xA0; &#xA0; &#xA0;new Transaction(brian, 2011, 300),</span><br><span class="line">&#xA0; &#xA0; &#xA0;new Transaction(raoul, 2012, 1000),</span><br><span class="line">&#xA0; &#xA0; &#xA0;new Transaction(raoul, 2011, 400),</span><br><span class="line">&#xA0; &#xA0; &#xA0;new Transaction(mario, 2012, 710),</span><br><span class="line">&#xA0; &#xA0; &#xA0;new Transaction(mario, 2012, 700),</span><br><span class="line">&#xA0; &#xA0; &#xA0;new Transaction(alan, 2012, 950)</span><br><span class="line">&#xA0;);</span><br><span class="line">&#xA0;//1&#x3001;&#x627E;&#x5230;2011&#x5E74;&#x6240;&#x6709;&#x7684;&#x4EA4;&#x6613;&#xFF0C;&#x5E76;&#x5BF9;&#x4EA4;&#x6613;&#x503C;&#x8FDB;&#x884C;&#x5012;&#x53D9;&#x6392;&#x5E8F;</span><br><span class="line">&#xA0;List&lt;Transaction&gt; collect = transactions.stream().filter(t -&gt; t.getYear() == 2011).sorted(Comparator.comparing(Transaction::getValue).reversed()).collect(Collectors.toList());</span><br><span class="line">&#xA0;System.out.println(collect);</span><br><span class="line">&#xA0;//2&#x3001;&#x4EA4;&#x6613;&#x5458;&#x90FD;&#x5728;&#x54EA;&#x4E9B;&#x4E0D;&#x540C;&#x7684;&#x57CE;&#x5E02;&#x5DE5;&#x4F5C;&#x8FC7;</span><br><span class="line">&#xA0;transactions.stream().map(Transaction::getTrader).map(Trader::getCity).distinct().forEach(e-&gt;System.out.println(e));</span><br><span class="line">&#xA0;//3&#x3001;&#x5224;&#x65AD;&#x6709;&#x65E0;&#x4EA4;&#x6613;&#x5458;&#x5728;&#x7C73;&#x5170;&#x57CE;&#x5E02;&#x5F85;&#x8FC7;</span><br><span class="line">&#xA0;boolean isExit = transactions.stream().map(Transaction::getTrader).map(Trader::getCity).anyMatch(e -&gt; &quot;Milan&quot;.equals(e));</span><br><span class="line">&#xA0;System.out.println(isExit);</span><br><span class="line">&#xA0;//4&#x3001;&#x6253;&#x5370;&#x751F;&#x6D3B;&#x5728;&#x5251;&#x6865;&#x7684;&#x4EA4;&#x6613;&#x5458;&#x7684;&#x6240;&#x6709;&#x4EA4;&#x6613;&#x91D1;&#x989D;</span><br><span class="line">&#xA0;long sum = transactions.stream().filter(transaction -&gt; &quot;Cambridge&quot;.equals(transaction.getTrader().getCity())).collect(Collectors.summarizingInt(Transaction::getValue)).getSum();</span><br><span class="line">&#xA0;System.out.println(&quot;&#x5251;&#x6865;&#x603B;&#x4EA4;&#x6613;&#x91D1;&#x989D;&quot;+sum);</span><br><span class="line">&#xA0;//5&#x3001;&#x6240;&#x6709;&#x7684;&#x4EA4;&#x6613;&#x4E2D;&#xFF0C;&#x4EA4;&#x6613;&#x503C;&#x6700;&#x5927;&#x7684;&#x662F;</span><br><span class="line">&#xA0;Transaction transaction = transactions.stream().max(Comparator.comparing(Transaction::getValue)).get();</span><br><span class="line">&#xA0;System.out.println(transaction);</span><br></pre></td></tr></table></figure>

<h2 id="&#x603B;&#x7ED3;"><a href="#&#x603B;&#x7ED3;" class="headerlink" title="&#x603B;&#x7ED3;"></a>&#x603B;&#x7ED3;</h2><blockquote>
<p>&#x6211;&#x4EEC;&#x5E73;&#x65F6;&#x8BF4;&#x7684;&#x51FD;&#x6570;&#x5F0F;&#x7F16;&#x7A0B;&#xFF0C;<code>&#x51FD;&#x6570;</code>&#x5373;&#x65B9;&#x6CD5;&#x5F15;&#x7528;&#xFF0C;<code>&#x5F0F;</code>&#x5373;Lambda&#x8868;&#x8FBE;&#x5F0F;<br>Stream&#x6D41;&#x53EF;&#x4EE5;&#x63D0;&#x9AD8;&#x6211;&#x4EEC;&#x7684;&#x7F16;&#x7A0B;&#x6548;&#x7387;&#xFF0C;&#x4F46;&#x662F;&#x4E5F;&#x9700;&#x8981;&#x5408;&#x7406;&#x7684;&#x4F7F;&#x7528;StreamAPI&#xFF0C;&#x6D89;&#x53CA;&#x5230;&#x590D;&#x6742;&#x7684;&#x4E1A;&#x52A1;&#x903B;&#x8F91;&#x65F6;&#x9700;&#x8981;&#x5199;&#x597D;&#x6CE8;&#x91CA;</p>
</blockquote>
<p><strong>&#x672C;&#x6587;&#x8F6C;&#x8F7D;&#x81EA;:</strong> <a href="/external_links/2ed9a6be07510299ccdf207f6efed79b.html" target="blank" rel="noopener">&#x6398;&#x91D1;</a></p>
<p><em><a href="https://dev.newban.cn/">&#x5F00;&#x53D1;&#x8005;&#x535A;&#x5BA2; &#x2013; &#x548C;&#x5F00;&#x53D1;&#x76F8;&#x5173;&#x7684; &#x8FD9;&#x91CC;&#x5168;&#x90FD;&#x6709;</a></em></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://dev.newban.cn../../7036170832518840327.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="开发者博客">
      <meta itemprop="description" content>
      <meta itemprop="image" content="../../images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="开发者博客 – IT技术 尽在开发者博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="../../7036170832518840327.html" itemprop="url">Java 中的监控与管理原理概述</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2021-11-30T09:37:11+08:00">
                2021-11-30
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <blockquote>
<p><strong>&#x70B9;&#x8D5E;</strong>&#x518D;&#x770B;&#xFF0C;&#x52A8;&#x529B;&#x65E0;&#x9650;&#x3002;Hello world : ) &#x5FAE;&#x4FE1;&#x641C;&#x300C; <a href="/external_links/02d09e7150d5296a9095afecec418238.html" target="blank" rel="noopener"><strong>&#x7A0B;&#x5E8F;&#x733F;&#x963F;&#x6717;</strong></a> &#x300D;&#x3002;</p>
<p>&#x672C;&#x6587; <a href="/external_links/cae29cb5eeee391a23ff1ef4cc3137cb.html" target="blank" rel="noopener">Github.com/niumoo/Java&#x2026;</a> &#x548C; <a href="/external_links/29b6ab2d2e2066e857f4fa21033617d8.html" target="blank" rel="noopener">&#x7A0B;&#x5E8F;&#x733F;&#x963F;&#x6717;&#x535A;&#x5BA2;</a> &#x5DF2;&#x7ECF;&#x6536;&#x5F55;&#xFF0C;&#x6709;&#x5F88;&#x591A;&#x77E5;&#x8BC6;&#x70B9;&#x548C;&#x7CFB;&#x5217;&#x6587;&#x7AE0;&#x3002;</p>
</blockquote>
<blockquote>
<p>&#x5F53;&#x524D;&#x6587;&#x7AE0;&#x5C5E;&#x4E8E;<a href="/external_links/9daad9dc059e9eb62c8c9bc4974f4b90.html" target="blank" rel="noopener">Java &#x6027;&#x80FD;&#x5206;&#x6790;&#x4F18;&#x5316;</a>&#x7CFB;&#x5217;&#x6587;&#x7AE0;&#xFF0C;&#x70B9;&#x51FB;&#x53EF;&#x4EE5;&#x67E5;&#x770B;&#x6240;&#x6709;&#x6587;&#x7AE0;&#x3002;</p>
</blockquote>
<p>&#x8FD9;&#x7BC7;&#x6587;&#x7AE0;&#x662F; <strong>Java &#x6027;&#x80FD;&#x5206;&#x6790;&#x76D1;&#x63A7;&#x4E0E;&#x4F18;&#x5316;</strong>&#x7CFB;&#x5217;&#x7684;&#x7B2C;&#x4E00;&#x7BC7;&#x6587;&#x7AE0;&#xFF0C;&#x539F;&#x672C;&#x662F;&#x8BA1;&#x5212;&#x7CFB;&#x7EDF;&#x7684;&#x4ECB;&#x7ECD; Java &#x6027;&#x80FD;&#x5206;&#x6790;&#x65B9;&#x5F0F;&#x548C;&#x6D41;&#x884C;&#x7684;&#x76D1;&#x63A7;&#x5DE5;&#x5177;&#xFF0C;&#x4F46;&#x662F;&#x63D0;&#x7B14;&#x4E4B;&#x540E;&#x610F;&#x8BC6;&#x5230;&#xFF0C;&#x53EA;&#x4ECB;&#x7ECD;&#x5206;&#x6790;&#x65B9;&#x5F0F;&#x548C;&#x76D1;&#x63A7;&#x5DE5;&#x5177;&#x8FC7;&#x4E8E;&#x6D45;&#x5C1D;&#x8F84;&#x6B62;&#x4E86;&#x3002;&#x5982;&#x679C;&#x53EA;&#x4F1A;&#x4F7F;&#x7528;&#x67D0;&#x4E2A;&#x5DE5;&#x5177;&#x800C;&#x4E0D;&#x77E5;&#x9053;&#x80CC;&#x540E;&#x7684;&#x5B9E;&#x73B0;&#x539F;&#x7406;&#xFF0C;&#x603B;&#x89C9;&#x5F97;&#x6709;&#x79CD;&#x964C;&#x751F;&#x611F;&#xFF0C;&#x6211;&#x60F3;&#x4F60;&#x4EEC;&#x4E5F;&#x662F;&#x4E00;&#x6837;&#xFF0C;&#x6240;&#x4EE5;&#x591A;&#x4E86;&#x8FD9;&#x7BC7;&#x6587;&#x7AE0;&#x3002;</p>
<p><img src="https://gitee.com/songjianzaina/juejin_p6/raw/master/img/6c8c94496baabc073fd3dea1c9f77b6822854ad29fe10013f74c92c4ca1f84d8" alt="&#x6587;&#x7AE0;&#x76EE;&#x5F55;"></p>
<h2 id="Java-SE-&#x76D1;&#x63A7;&#x7BA1;&#x7406;&#x529F;&#x80FD;"><a href="#Java-SE-&#x76D1;&#x63A7;&#x7BA1;&#x7406;&#x529F;&#x80FD;" class="headerlink" title="Java SE &#x76D1;&#x63A7;&#x7BA1;&#x7406;&#x529F;&#x80FD;"></a>Java SE &#x76D1;&#x63A7;&#x7BA1;&#x7406;&#x529F;&#x80FD;</h2><p>&#x8FD9;&#x7BC7;&#x6587;&#x7AE0;&#x4ECB;&#x7ECD; Java Standard Edition&#xFF08;Java SE&#xFF09;&#x5E73;&#x53F0;&#x63D0;&#x4F9B;&#x7684;&#x76D1;&#x63A7;&#x548C;&#x7BA1;&#x7406;&#x6280;&#x672F; - <strong>JMX</strong>&#xFF08;Java Management Extensions&#xFF09; &#x6280;&#x672F;&#x3002;</p>
<p>Java SE &#x5E73;&#x53F0;&#x672C;&#x8EAB;&#x5C31;&#x63D0;&#x4F9B;&#x4E86;&#x7528;&#x4E8E;&#x76D1;&#x63A7;&#x548C;&#x7BA1;&#x7406;&#x670D;&#x52A1;&#x7684;&#x5B9E;&#x7528;&#x6027;&#x529F;&#x80FD;&#x6A21;&#x5757;&#xFF0C;&#x6309;&#x529F;&#x80FD;&#x6765;&#x8BF4;&#x4E3B;&#x8981;&#x5206;&#x4E3A;&#x4E0B;&#x9762;&#x56DB;&#x7C7B;&#xFF1A;</p>
<ul>
<li>Java &#x76D1;&#x63A7;&#x548C;&#x7BA1;&#x7406; API</li>
<li>Java &#x865A;&#x62DF;&#x673A;&#x68C0;&#x6D4B;</li>
<li>Java &#x7BA1;&#x7406;&#x6269;&#x5C55;&#x6280;&#x672F;&#xFF08;JMX&#xFF09;</li>
<li>Java &#x76D1;&#x63A7;&#x548C;&#x7BA1;&#x7406;&#x7684;&#x5DE5;&#x5177;</li>
</ul>
<p>&#x8FD9;&#x7BC7;&#x6587;&#x7AE0;&#x4F1A;&#x4ECB;&#x7ECD;&#x8FD9;&#x56DB;&#x4E2A;&#x90E8;&#x5206;&#x7684;&#x76F8;&#x5173;&#x77E5;&#x8BC6;&#xFF0C;&#x65E8;&#x5728;&#x4E86;&#x89E3; Java SE &#x76D1;&#x63A7;&#x4E0E;&#x7BA1;&#x7406;&#x7684;&#x76F8;&#x5173;&#x529F;&#x80FD;&#xFF0C;&#x5BF9;&#x5176;&#x4E2D;&#x7684;&#x76F8;&#x5173;&#x6982;&#x5FF5;&#x6709;&#x4E2A;&#x7406;&#x89E3;&#x3002;</p>
<h2 id="Java-&#x76D1;&#x63A7;&#x548C;&#x7BA1;&#x7406;-API"><a href="#Java-&#x76D1;&#x63A7;&#x548C;&#x7BA1;&#x7406;-API" class="headerlink" title="Java &#x76D1;&#x63A7;&#x548C;&#x7BA1;&#x7406; API"></a>Java &#x76D1;&#x63A7;&#x548C;&#x7BA1;&#x7406; API</h2><p>Java SE &#x4E2D;&#x5305;&#x542B;&#x4E86;&#x7528;&#x4E8E;&#x76D1;&#x63A7;&#x548C;&#x7BA1;&#x7406;&#x7684;&#xFF08;<code>java.lang.management</code>&#xFF09;API&#xFF0C;&#x901A;&#x8FC7;&#x8FD9;&#x4E9B; API &#x53EF;&#x4EE5;&#x5B9E;&#x73B0;&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x7684;&#x81EA;&#x6211;&#x76D1;&#x63A7;&#xFF0C;&#x6B64; API &#x4E3B;&#x8981;&#x63D0;&#x4F9B;&#x4E86;&#x4EE5;&#x4E0B;&#x4FE1;&#x606F;&#x7684;&#x8BBF;&#x95EE;&#xFF1A;</p>
<ul>
<li>&#x7C7B;&#x52A0;&#x8F7D;&#x76F8;&#x5173;&#x3002;</li>
<li>JVM &#x76F8;&#x5173;&#xFF0C;&#x5982;&#x8FD0;&#x884C;&#x65F6;&#x95F4;&#x3001;&#x7CFB;&#x7EDF;&#x73AF;&#x5883;&#x53D8;&#x91CF;&#x3001;&#x7528;&#x6237;&#x8F93;&#x5165;&#x53C2;&#x6570;&#x3002;</li>
<li>&#x7EBF;&#x7A0B;&#x76F8;&#x5173;&#xFF0C;&#x5982;&#x7EBF;&#x7A0B;&#x72B6;&#x6001;&#xFF0C;&#x7EBF;&#x7A0B;&#x7684;&#x7EDF;&#x8BA1;&#x4FE1;&#x606F;&#x3001;&#x7EBF;&#x7A0B;&#x7684;&#x5806;&#x6808;&#x7B49;&#x3002;</li>
<li>&#x5185;&#x5B58;&#x4F7F;&#x7528;&#x60C5;&#x51B5;&#x3002;</li>
<li>GC &#x60C5;&#x51B5;&#x3002;</li>
<li>&#x6B7B;&#x9501;&#x68C0;&#x6D4B;&#x3002;</li>
<li>&#x64CD;&#x4F5C;&#x7CFB;&#x7EDF;&#x4FE1;&#x606F;&#x3002;</li>
</ul>
<p>&#x4E0B;&#x56FE;&#x662F; Java 17 &#x4E2D;&#x7684; <code>java.management</code> &#x6A21;&#x5757;&#x3002;</p>
<p><img src="https://gitee.com/songjianzaina/juejin_p6/raw/master/img/b1e1b246f97991439c7668a59b79f2c9cb42d2938cf8bd3aef4b5eb83092a62e" alt="java.lang.management"></p>
<p>JConsole &#x5C31;&#x662F;&#x901A;&#x8FC7;&#x8BBF;&#x95EE;&#x8FD9;&#x4E9B;&#x7BA1;&#x7406; API &#x63D0;&#x4F9B;&#x7684;&#x6570;&#x636E;&#xFF0C;&#x7ED8;&#x5236;&#x4E86;&#x76D1;&#x63A7;&#x7684;&#x754C;&#x9762;&#x7248;&#x3002;</p>
<h2 id="Java-&#x865A;&#x62DF;&#x673A;&#x76D1;&#x6D4B;"><a href="#Java-&#x865A;&#x62DF;&#x673A;&#x76D1;&#x6D4B;" class="headerlink" title="Java &#x865A;&#x62DF;&#x673A;&#x76D1;&#x6D4B;"></a>Java &#x865A;&#x62DF;&#x673A;&#x76D1;&#x6D4B;</h2><p>&#x4E0A;&#x9762;&#x8BF4;&#x5230; Java SE &#x4E2D;&#x5DF2;&#x7ECF;&#x5185;&#x7F6E;&#x4E86;&#x5F00;&#x7BB1;&#x5373;&#x7528;&#x7684;&#x76D1;&#x63A7;&#x548C;&#x7BA1;&#x7406;&#x529F;&#x80FD;&#xFF0C;&#x901A;&#x8FC7;&#x8FD9;&#x4E9B;&#x529F;&#x80FD;&#x53EF;&#x4EE5;&#x5B9E;&#x73B0;&#x7A0B;&#x5E8F;&#x7684;&#x81EA;&#x6211;&#x76D1;&#x6D4B;&#xFF0C;Java &#x9ED8;&#x8BA4;&#x5DF2;&#x7ECF;&#x5B9E;&#x73B0;&#x4E86;&#x5BF9; Java &#x865A;&#x62DF;&#x673A;&#x76F8;&#x5173;&#x4FE1;&#x606F;&#x7684;&#x76D1;&#x6D4B;&#xFF0C;&#x5728; Java &#x76D1;&#x63A7;&#x548C;&#x7BA1;&#x7406; API &#x90E8;&#x5206;&#x4E5F;&#x5217;&#x4E3E;&#x4E86; API &#x53EF;&#x4EE5;&#x76D1;&#x6D4B;&#x7684;&#x90E8;&#x5206;&#x5185;&#x5BB9;&#xFF0C;&#x90A3;&#x4E48;&#x600E;&#x4E48;&#x4F7F;&#x7528;&#x5462;&#xFF1F;</p>
<p>&#x4E0B;&#x9762;&#x901A;&#x8FC7;&#x4E00;&#x4E2A;&#x7B80;&#x5355;&#x7684;&#x793A;&#x4F8B;&#xFF0C;&#x6F14;&#x793A;&#x5982;&#x4F55;&#x901A;&#x8FC7;&#x76D1;&#x63A7;&#x7BA1;&#x7406; API &#x83B7;&#x53D6;&#x7CFB;&#x7EDF;&#x4FE1;&#x606F;&#x3001;&#x7F16;&#x8BD1;&#x5668;&#x4FE1;&#x606F;&#x3001;&#x5185;&#x5B58;&#x4FE1;&#x606F;&#x4EE5;&#x53CA;&#x5783;&#x573E;&#x6536;&#x96C6;&#x5668;&#x4FE1;&#x606F;&#x3002;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line">java&#x590D;&#x5236;&#x4EE3;&#x7801;package com.wdbyte;</span><br><span class="line"></span><br><span class="line">import java.lang.management.CompilationMXBean;</span><br><span class="line">import java.lang.management.GarbageCollectorMXBean;</span><br><span class="line">import java.lang.management.ManagementFactory;</span><br><span class="line">import java.lang.management.MemoryMXBean;</span><br><span class="line">import java.lang.management.MemoryManagerMXBean;</span><br><span class="line">import java.lang.management.MemoryUsage;</span><br><span class="line">import java.lang.management.OperatingSystemMXBean;</span><br><span class="line">import java.util.List;</span><br><span class="line">import java.util.stream.Collectors;</span><br><span class="line"></span><br><span class="line">public class JavaManagement {</span><br><span class="line"></span><br><span class="line">    public static void main(String[] args) {</span><br><span class="line">        OperatingSystemMXBean operatingSystemMXBean = ManagementFactory.getOperatingSystemMXBean();</span><br><span class="line">        String osName = operatingSystemMXBean.getName();</span><br><span class="line">        String osVersion = operatingSystemMXBean.getVersion();</span><br><span class="line">        int processors = operatingSystemMXBean.getAvailableProcessors();</span><br><span class="line">        System.out.println(String.format(&quot;&#x64CD;&#x4F5C;&#x7CFB;&#x7EDF;&#xFF1A;%s&#xFF0C;&#x7248;&#x672C;&#xFF1A;%s&#xFF0C;&#x5904;&#x7406;&#x5668;&#xFF1A;%d &#x4E2A;&quot;, osName, osVersion, processors));</span><br><span class="line"></span><br><span class="line">        CompilationMXBean compilationMXBean = ManagementFactory.getCompilationMXBean();</span><br><span class="line">        String compilationMXBeanName = compilationMXBean.getName();</span><br><span class="line">        System.out.println(&quot;&#x7F16;&#x8BD1;&#x7CFB;&#x7EDF;&#xFF1A;&quot; + compilationMXBeanName);</span><br><span class="line"></span><br><span class="line">        MemoryMXBean memoryMXBean = ManagementFactory.getMemoryMXBean();</span><br><span class="line">        MemoryUsage heapMemoryUsage = memoryMXBean.getHeapMemoryUsage();</span><br><span class="line">        long max = heapMemoryUsage.getMax();</span><br><span class="line">        long used = heapMemoryUsage.getUsed();</span><br><span class="line">        System.out.println(String.format(&quot;&#x4F7F;&#x7528;&#x5185;&#x5B58;&#xFF1A;%dMB/%dMB&quot;, used / 1024 / 1024, max / 1024 / 1024));</span><br><span class="line"></span><br><span class="line">        List&lt;GarbageCollectorMXBean&gt; gcMXBeans = ManagementFactory.getGarbageCollectorMXBeans();</span><br><span class="line">        String gcNames = gcMXBeans.stream()</span><br><span class="line">            .map(MemoryManagerMXBean::getName)</span><br><span class="line">            .collect(Collectors.joining(&quot;,&quot;));</span><br><span class="line">        System.out.println(&quot;&#x5783;&#x573E;&#x6536;&#x96C6;&#x5668;&#xFF1A;&quot; + gcNames);</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></table></figure>

<p>&#x8FD0;&#x884C;&#x65F6;&#x6307;&#x5B9A;&#x4E86;&#x5185;&#x5B58;&#x4E3A; 100MB&#xFF08;<code>-Xms100M -Xmx100M</code>&#xFF09;&#xFF0C;&#x5F97;&#x5230;&#x5982;&#x4E0B;&#x7ED3;&#x679C;&#x3002;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">she&#x590D;&#x5236;&#x4EE3;&#x7801;&#x64CD;&#x4F5C;&#x7CFB;&#x7EDF;&#xFF1A;Mac OS X&#xFF0C;&#x7248;&#x672C;&#xFF1A;11.6&#xFF0C;&#x5904;&#x7406;&#x5668;&#xFF1A;12 &#x4E2A;</span><br><span class="line">&#x7F16;&#x8BD1;&#x7CFB;&#x7EDF;&#xFF1A;HotSpot 64-Bit Tiered Compilers</span><br><span class="line">&#x4F7F;&#x7528;&#x5185;&#x5B58;&#xFF1A;2MB/100MB</span><br><span class="line">&#x5783;&#x573E;&#x6536;&#x96C6;&#xFF1A;G1 Young Generation,G1 Old Generation</span><br></pre></td></tr></table></figure>

<p>:::tip &#x6CE8;&#x610F;</p>
<p>&#x7EC6;&#x770B;&#x4EE3;&#x7801;&#x53EF;&#x4EE5;&#x53D1;&#x73B0;&#x5176;&#x4E2D;&#x5F88;&#x591A;&#x7C7B;&#x90FD;&#x662F;&#x4EE5; <strong>MXBean</strong> &#x7ED3;&#x5C3E;&#xFF0C;&#x8FD9;&#x662F;&#x4EC0;&#x4E48;&#x610F;&#x601D;&#x5462;&#xFF1F;</p>
<p>:::</p>
<h2 id="Java-&#x7BA1;&#x7406;&#x6269;&#x5C55;&#x6280;&#x672F;&#xFF08;JMX&#xFF09;"><a href="#Java-&#x7BA1;&#x7406;&#x6269;&#x5C55;&#x6280;&#x672F;&#xFF08;JMX&#xFF09;" class="headerlink" title="Java &#x7BA1;&#x7406;&#x6269;&#x5C55;&#x6280;&#x672F;&#xFF08;JMX&#xFF09;"></a>Java &#x7BA1;&#x7406;&#x6269;&#x5C55;&#x6280;&#x672F;&#xFF08;JMX&#xFF09;</h2><p>&#x5728; Java &#x865A;&#x62DF;&#x673A;&#x76D1;&#x6D4B;&#x4E2D;&#x7684;&#x4EE3;&#x7801;&#x793A;&#x4F8B;&#x4E2D;&#xFF0C;&#x53EF;&#x4EE5;&#x770B;&#x5230;&#x5F88;&#x591A;&#x547D;&#x540D;&#x4EE5; <strong>MXBean</strong> &#x7ED3;&#x5C3E;&#x7684;&#x7C7B;&#xFF0C;&#x8FD9;&#x91CC;&#x5DF2;&#x7ECF;&#x6D89;&#x53CA;&#x5230;&#x4E86; <strong>JMX</strong>&#xFF08;Java Management Extensions&#xFF09; &#x6280;&#x672F;&#x3002;</p>
<p><strong>JMX</strong> &#x6280;&#x672F;&#x63D0;&#x4F9B;&#x4E86;&#x4E00;&#x79CD;&#x7B80;&#x5355;&#x3001;&#x6807;&#x51C6;&#x7684;&#x65B9;&#x5F0F;&#x6765;&#x7BA1;&#x7406;&#x8D44;&#x6E90;&#xFF0C;&#x5982;&#x64CD;&#x4F5C;&#x7CFB;&#x7EDF;&#x3001;&#x865A;&#x62DF;&#x673A;&#x4FE1;&#x606F;&#x3001;&#x5185;&#x5B58;&#x72B6;&#x6001;&#x3001;&#x7EBF;&#x7A0B;&#x4FE1;&#x606F;&#x7B49;&#xFF0C;&#x8FD9;&#x4E9B;&#x7EDF;&#x79F0;&#x4E3A;&#x88AB;&#x7BA1;&#x7406;&#x7684;&#x8D44;&#x6E90;&#x3002;&#x800C;&#x4E14; <strong>JMX</strong> &#x662F;&#x53EF;&#x4EE5;&#x52A8;&#x6001;&#x7684;&#xFF0C;&#x6240;&#x4EE5;&#x53EF;&#x4EE5;&#x4F7F;&#x7528; <strong>JMX</strong> &#x6280;&#x672F;&#x6765;&#x76D1;&#x6D4B;&#x548C;&#x7BA1;&#x7406;&#x5404;&#x79CD;&#x8D44;&#x6E90;&#x3002;&#x53EF;&#x4EE5;&#x4F7F;&#x7528; JMX &#x6280;&#x672F;&#x6765;&#x76D1;&#x6D4B; Java &#x865A;&#x62DF;&#x673A;&#x72B6;&#x6001;&#xFF0C;&#x4E5F;&#x53EF;&#x4EE5;&#x4F7F;&#x7528; <strong>JMX</strong> &#x6280;&#x672F;&#x6784;&#x5EFA;&#x81EA;&#x5DF1;&#x7684;&#x9700;&#x8981;&#x7BA1;&#x7406;&#x7684;&#x8D44;&#x6E90;&#x3002;</p>
<p>JMX &#x6280;&#x672F;&#x53EA;&#x6709;&#x8D44;&#x6E90;&#x5B9A;&#x4E49;&#x90A3;&#x4E48;&#x7B80;&#x5355;&#x5417;&#xFF1F;&#x4E0D;&#x662F;&#x7684;&#x3002;JMX &#x89C4;&#x8303;&#x4E86; Java &#x4E2D;&#x8D44;&#x6E90;&#x5B9A;&#x4E49;&#x7684;&#x65B9;&#x5F0F;&#x3001;&#x8D44;&#x6E90;&#x7BA1;&#x7406;&#x7684;&#x65B9;&#x5F0F;&#x3001;&#x76D1;&#x63A7;&#x548C;&#x7BA1;&#x7406;&#x7684;&#x4F53;&#x7CFB;&#x7ED3;&#x6784;&#x3001;&#x5177;&#x4F53;&#x5B9E;&#x73B0;&#x7684;&#x8BBE;&#x8BA1;&#x6A21;&#x5F0F;&#x3001;&#x76D1;&#x63A7;&#x548C;&#x7BA1;&#x7406;&#x7684;&#x76F8;&#x5173; API &#x4EE5;&#x53CA;<strong>&#x7528;&#x4E8E;&#x7F51;&#x7EDC;&#x7684;&#x8FDC;&#x7A0B;&#x76D1;&#x63A7;&#x670D;&#x52A1;</strong>&#xFF08;RMI&#xFF09;&#xFF0C;&#x8FD9;&#x4E00;&#x7CFB;&#x5217;&#x529F;&#x80FD;&#x7EDF;&#x79F0;&#x4E3A; JMX &#x6280;&#x672F;&#x3002;&#x662F; Java SE &#x5E73;&#x53F0;&#x7684;&#x6807;&#x51C6;&#x90E8;&#x5206;&#x3002;</p>
<p>&#x4E0A;&#x9762;&#x591A;&#x6B21;&#x63D0;&#x5230;&#x4E86;<strong>&#x7BA1;&#x7406;&#x8D44;&#x6E90;</strong>&#xFF0C;&#x90A3;&#x4E48;&#x5982;&#x4F55;&#x5B9A;&#x4E49;&#x4E00;&#x4E2A;&#x8D44;&#x6E90;&#x5462;&#xFF1F;JMX &#x6280;&#x672F;&#x7ED9;&#x51FA;&#x4E86;&#x8D44;&#x6E90;&#x5B9A;&#x4E49;&#x7684;&#x4F53;&#x7CFB;&#x7ED3;&#x6784;&#x548C;&#x8BBE;&#x8BA1;&#x6A21;&#x5F0F;&#xFF0C;&#x5728; <strong>JMX</strong> &#x4E2D;&#xFF0C;&#x901A;&#x8FC7;&#x5B9A;&#x4E49;&#x4E00;&#x4E2A;&#x88AB;&#x79F0;&#x4E3A; <strong>MBean</strong> &#x6216; <strong>MXBean</strong> &#x7684; Java &#x5BF9;&#x8C61;&#x6765;&#x8868;&#x793A;&#x8981;&#x7BA1;&#x7406;&#x6307;&#x5B9A;&#x7684;&#x8D44;&#x6E90;&#xFF0C;&#x8D44;&#x6E90;&#x5B9A;&#x4E49;&#x7684; Java &#x7C7B;&#x540D;&#x5FC5;&#x987B;&#x4EE5; <strong>MBean</strong> &#x6216; <strong>MXBean</strong> &#x7ED3;&#x5C3E;&#x3002;</p>
<p>&#x4E0B;&#x56FE;&#x662F; Java 17 &#x4E2D;&#x7684;&#x4EE5; MXBean &#x7ED3;&#x5C3E;&#x7684;&#x8D44;&#x6E90;&#x5B9A;&#x4E49;&#x7C7B;&#xFF0C;&#x901A;&#x8FC7;&#x547D;&#x540D;&#x53EF;&#x4EE5;&#x770B;&#x51FA;&#x6BCF;&#x4E2A;&#x7C7B;&#x4EE3;&#x8868;&#x4E86;&#x4EC0;&#x4E48;&#x8D44;&#x6E90;&#x3002;</p>
<p><img src="https://gitee.com/songjianzaina/juejin_p6/raw/master/img/abe9f088ee6927cf972f5773bb0ad2c3634777bda7365bf966da0cf637decee0" alt="Java &#x4E2D;&#x7684; MXbean"></p>
<p>&#x8FD9;&#x7BC7;&#x6587;&#x7AE0;&#x4E3B;&#x8981;&#x662F;&#x4ECB;&#x7ECD; Java SE &#x4E2D;&#x7684;&#x76D1;&#x63A7;&#x4E0E;&#x7BA1;&#x7406;&#x529F;&#x80FD;&#xFF0C;&#x8BA9;&#x5927;&#x5BB6;&#x5BF9; Java &#x4E2D;&#x7684;&#x76D1;&#x63A7;&#x4E0E;&#x7BA1;&#x7406;&#x80CC;&#x540E;&#x7684;&#x539F;&#x7406;&#x548C;&#x6982;&#x5FF5;&#x6709;&#x4E00;&#x4E2A;&#x5177;&#x4F53;&#x7684;&#x8BA4;&#x8BC6;&#xFF0C;&#x6240;&#x4EE5; MBean &#x548C; MXBean &#x7684;&#x5177;&#x4F53;&#x8BBE;&#x8BA1;&#x5B9E;&#x73B0;&#x65B9;&#x5F0F;&#x4E0D;&#x662F;&#x8FD9;&#x7BC7;&#x6587;&#x7AE0;&#x7684;&#x91CD;&#x70B9;&#xFF0C;&#x8FD9;&#x91CC;&#x4E0D;&#x8FC7;&#x591A;&#x4ECB;&#x7ECD;&#xFF0C;&#x4F1A;&#x653E;&#x5230;&#x4E0B;&#x4E00;&#x7BC7;&#x72EC;&#x7ACB;&#x7684; JMX &#x6280;&#x672F;&#x6587;&#x7AE0;&#x4E2D;&#x4ECB;&#x7ECD;&#x3002;</p>
<h2 id="Java-&#x76D1;&#x63A7;&#x548C;&#x7BA1;&#x7406;&#x7684;&#x5DE5;&#x5177;"><a href="#Java-&#x76D1;&#x63A7;&#x548C;&#x7BA1;&#x7406;&#x7684;&#x5DE5;&#x5177;" class="headerlink" title="Java &#x76D1;&#x63A7;&#x548C;&#x7BA1;&#x7406;&#x7684;&#x5DE5;&#x5177;"></a>Java &#x76D1;&#x63A7;&#x548C;&#x7BA1;&#x7406;&#x7684;&#x5DE5;&#x5177;</h2><p>JMX &#x6280;&#x672F;&#x4E2D;&#x63D0;&#x5230; JMX &#x4E0D;&#x4EC5;&#x63D0;&#x4F9B;&#x4E86;&#x76D1;&#x63A7;&#x548C;&#x7BA1;&#x7406;&#x7684; API &#xFF0C;&#x8FD8;&#x63D0;&#x4F9B;&#x4E86;&#x7528;&#x4E8E;&#x7F51;&#x7EDC;&#x8FDC;&#x7A0B;&#x7BA1;&#x7406;&#x7684;&#x670D;&#x52A1;&#xFF0C;&#x53EF;&#x4EE5;&#x4F7F;&#x7528; JMX &#x76F8;&#x5173;&#x76D1;&#x63A7;&#x7BA1;&#x7406;&#x5DE5;&#x5177;&#xFF0C;&#x901A;&#x8FC7;&#x7F51;&#x7EDC;&#x8FDC;&#x7A0B;&#x8FDE;&#x63A5;&#x5230;&#x6B63;&#x5728;&#x8FD0;&#x884C; Java &#x865A;&#x62DF;&#x673A;&#xFF0C;&#x76D1;&#x63A7;&#x5176;&#x8FD0;&#x884C;&#x72B6;&#x6001;&#xFF0C;Java &#x4E2D;&#x96C6;&#x6210;&#x7684; <code>jconsole</code> &#x5C31;&#x662F;&#x8FD9;&#x6837;&#x4E00;&#x6B3E;&#x5DE5;&#x5177;&#x3002;</p>
<p>&#x672C;&#x5730;&#x968F;&#x610F;&#x542F;&#x52A8;&#x4E00;&#x4E2A;&#x53EF;&#x4EE5;&#x6301;&#x7EED;&#x8FD0;&#x884C;&#x7684; Java &#x7A0B;&#x5E8F;&#x7528;&#x4F5C;&#x88AB;&#x76D1;&#x6D4B;&#x5BF9;&#x8C61;&#xFF0C;&#x5982;&#x679C;&#x4F60;&#x5DF2;&#x7ECF;&#x914D;&#x7F6E;&#x597D; Java &#x73AF;&#x5883;&#x53D8;&#x91CF;&#xFF0C;&#x53EF;&#x4EE5;&#x76F4;&#x63A5;&#x901A;&#x8FC7; <code>jconsole</code> &#x542F;&#x52A8;&#x5DE5;&#x5177;&#x3002;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">shell&#x590D;&#x5236;&#x4EE3;&#x7801; $ jconsole</span><br></pre></td></tr></table></figure>

<p>&#x542F;&#x52A8;&#x540E;&#x7684; <code>jconsole</code> &#x5DF2;&#x7ECF;&#x5217;&#x51FA;&#x4E86;&#x672C;&#x5730;&#x6B63;&#x5728;&#x8FD0;&#x884C;&#x7684; Java &#x7A0B;&#x5E8F;&#xFF0C;&#x9009;&#x62E9;&#x81EA;&#x5DF1;&#x60F3;&#x8981;&#x76D1;&#x6D4B;&#x7684;&#x8FDB;&#x884C;&#x8FDB;&#x884C;&#x76D1;&#x6D4B;&#x3002;</p>
<p><img src="https://gitee.com/songjianzaina/juejin_p6/raw/master/img/48628249df407818060c61a549973a7d97a2cbeb509947e08d10ff240e46897d" alt="Jconsole &#x754C;&#x9762;"></p>
<p>&#x8FDE;&#x63A5;&#x6210;&#x529F;&#x540E;&#x53EF;&#x4EE5;&#x770B;&#x5230;&#x5F53;&#x524D; Java &#x8FDB;&#x7A0B;&#x7684;&#x8D44;&#x6E90;&#x5360;&#x7528;&#x60C5;&#x51B5;&#x3002;</p>
<p><img src="https://gitee.com/songjianzaina/juejin_p6/raw/master/img/bb7003d4f52f3abb43a140a65cbb35829153f83de32cdd03ef5b66d8ebaadb47" alt="JConsole &#x76D1;&#x63A7;"></p>
<p>&#x5728; MBean &#x9875;&#x9762;&#x4E2D;&#xFF0C;&#x53EF;&#x4EE5;&#x770B;&#x5230;&#x5404;&#x79CD;&#x5DF2;&#x7ECF;&#x88AB;&#x5B9A;&#x4E49;&#x7684;&#x8D44;&#x6E90;&#x7684;&#x5177;&#x4F53;&#x60C5;&#x51B5;&#x3002;</p>
<p><img src="https://gitee.com/songjianzaina/juejin_p6/raw/master/img/7f7b4b8361521f936f489f0a946a97e8ad355612360ff3013943c23279f3f49e" alt="Jconsole MBean &#x60C5;&#x51B5;"></p>
<p>Jconsole &#x662F;&#x4E00;&#x6B3E;&#x5F3A;&#x5927;&#x7684;&#x56FE;&#x5F62;&#x754C;&#x9762; JMX &#x7BA1;&#x7406;&#x5DE5;&#x5177;&#xFF0C;&#x4E0D;&#x4EC5;&#x53EF;&#x4EE5;&#x8FDE;&#x63A5;&#x672C;&#x5730; Java &#x7A0B;&#x5E8F;&#xFF0C;&#x8FD8;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;&#x7F51;&#x7EDC;&#x76D1;&#x63A7;&#x8FDC;&#x7A0B;&#x7684; Java &#x7A0B;&#x5E8F;&#x8FD0;&#x884C;&#x72B6;&#x6001;&#xFF0C;&#x4E0D;&#x8FC7;&#x4E0D;&#x662F;&#x6B64;&#x7BC7;&#x6587;&#x7AE0;&#x91CD;&#x70B9;&#xFF0C;&#x4E0D;&#x5728;&#x8BE6;&#x7EC6;&#x63CF;&#x8FF0;&#x3002;</p>
<p><strong>&#x53C2;&#x8003;&#xFF1A;</strong></p>
<ul>
<li><a href="/external_links/9ff02057575f81439d471c9727c247ef.html" target="blank" rel="noopener">docs.oracle.com/en/java/jav&#x2026;</a></li>
<li><a href="/external_links/0f2099872626dc4bbc8441a3becc639e.html" target="blank" rel="noopener">docs.oracle.com/en/java/jav&#x2026;</a></li>
</ul>
<blockquote>
<p>&#x5F53;&#x524D;&#x6587;&#x7AE0;&#x5C5E;&#x4E8E;<a href="/external_links/9daad9dc059e9eb62c8c9bc4974f4b90.html" target="blank" rel="noopener">Java &#x6027;&#x80FD;&#x5206;&#x6790;&#x4F18;&#x5316;</a>&#x7CFB;&#x5217;&#x6587;&#x7AE0;&#xFF0C;&#x70B9;&#x51FB;&#x53EF;&#x4EE5;&#x67E5;&#x770B;&#x6240;&#x6709;&#x6587;&#x7AE0;&#x3002;</p>
</blockquote>
<p>&#x6587;&#x7AE0;&#x6301;&#x7EED;&#x66F4;&#x65B0;&#xFF0C;&#x53EF;&#x4EE5;&#x5FAE;&#x4FE1;&#x641C;&#x4E00;&#x641C;&#x300C;  <a href="/external_links/02d09e7150d5296a9095afecec418238.html" target="blank" rel="noopener"><strong>&#x7A0B;&#x5E8F;&#x733F;&#x963F;&#x6717;</strong></a> &#x300D;&#x6216;&#x8BBF;&#x95EE;&#x300C;<a href="/external_links/29b6ab2d2e2066e857f4fa21033617d8.html" target="blank" rel="noopener"><strong>&#x7A0B;&#x5E8F;&#x733F;&#x963F;&#x6717;&#x535A;&#x5BA2;</strong></a> &#x300D;&#x7B2C;&#x4E00;&#x65F6;&#x95F4;&#x9605;&#x8BFB;&#x3002;&#x672C;&#x6587; <a href="/external_links/cae29cb5eeee391a23ff1ef4cc3137cb.html" target="blank" rel="noopener">Github.com/niumoo/Java&#x2026;</a> &#x5DF2;&#x7ECF;&#x6536;&#x5F55;&#xFF0C;&#x6709;&#x5F88;&#x591A;&#x77E5;&#x8BC6;&#x70B9;&#x548C;&#x7CFB;&#x5217;&#x6587;&#x7AE0;&#xFF0C;&#x6B22;&#x8FCE;Star&#x3002;</p>
<p><strong>&#x672C;&#x6587;&#x8F6C;&#x8F7D;&#x81EA;:</strong> <a href="/external_links/999bb382b80047c4c6bf3639793d3d97.html" target="blank" rel="noopener">&#x6398;&#x91D1;</a></p>
<p><em><a href="https://dev.newban.cn/">&#x5F00;&#x53D1;&#x8005;&#x535A;&#x5BA2; &#x2013; &#x548C;&#x5F00;&#x53D1;&#x76F8;&#x5173;&#x7684; &#x8FD9;&#x91CC;&#x5168;&#x90FD;&#x6709;</a></em></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
  </section>

  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="../128/"><i class="fa fa-angle-left"></i></a><a class="page-number" href="../../">1</a><span class="space">&hellip;</span><a class="page-number" href="../128/">128</a><span class="page-number current">129</span><a class="page-number" href="../130/">130</a><span class="space">&hellip;</span><a class="page-number" href="../298/">298</a><a class="extend next" rel="next" href="../130/"><i class="fa fa-angle-right"></i></a>
  </nav>



          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      

      <section class="site-overview-wrap sidebar-panel sidebar-panel-active">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <p class="site-author-name" itemprop="name">开发者博客</p>
              <p class="site-description motion-element" itemprop="description"></p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="https://dev.newban.cn/archives/">
              
                  <span class="site-state-item-count">2975</span>
                  <span class="site-state-item-name">日志</span>
                </a>
              </div>
            

            

            
              
              
              <div class="site-state-item site-state-tags">
                
                  <span class="site-state-item-count">1162</span>
                  <span class="site-state-item-name">标签</span>
                
              </div>
            

          </nav>

          
            <div class="feed-link motion-element">
              <a href="../../atom.xml" rel="alternate">
                <i class="fa fa-rss"></i>
                RSS
              </a>
            </div>
          

          

          
          

          
          

          

        </div>
      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2024</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">开发者博客</span>
  <div>
  <script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
  <span id="busuanzi_container_site_pv">本站总访问量<span id="busuanzi_value_site_pv"></span>次</span>
  </div>
  
</div>


  <div class="powered-by">由 <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a> 强力驱动</div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">主题 &mdash; <a class="theme-link" target="_blank" href="https://github.com/iissnan/hexo-theme-next">NexT.Muse</a> v5.1.4</div>




  <script type="text/javascript" async src="js/src/mermaid.min.js"></script>
  <script>
  if (window.mermaid) {
        var mermaid_config = {
            startOnLoad: true,
            theme: 'default',
            flowchart:{
                useMaxWidth: false,
                htmlLabels: true
            }                
        }
        mermaid.initialize(mermaid_config);
  }
  </script>
  

        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
          <span id="scrollpercent"><span>0</span>%</span>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  
    <script type="text/javascript" src="../../lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="../../lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="../../lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="../../lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="../../lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="../../lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  


  


  <script type="text/javascript" src="../../js/src/utils.js?v=5.1.4"></script>

  <script type="text/javascript" src="../../js/src/motion.js?v=5.1.4"></script>



  
  

  

  


  <script type="text/javascript" src="../../js/src/bootstrap.js?v=5.1.4"></script>



  


  




	





  





  












  

  <script type="text/javascript">
    // Popup Window;
    var isfetched = false;
    var isXml = true;
    // Search DB path;
    var search_path = "search.xml";
    if (search_path.length === 0) {
      search_path = "search.xml";
    } else if (/json$/i.test(search_path)) {
      isXml = false;
    }
    var path = "/" + search_path;
    // monitor main search box;

    var onPopupClose = function (e) {
      $('.popup').hide();
      $('#local-search-input').val('');
      $('.search-result-list').remove();
      $('#no-result').remove();
      $(".local-search-pop-overlay").remove();
      $('body').css('overflow', '');
    }

    function proceedsearch() {
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay"></div>')
        .css('overflow', 'hidden');
      $('.search-popup-overlay').click(onPopupClose);
      $('.popup').toggle();
      var $localSearchInput = $('#local-search-input');
      $localSearchInput.attr("autocapitalize", "none");
      $localSearchInput.attr("autocorrect", "off");
      $localSearchInput.focus();
    }

    // search function;
    var searchFunc = function(path, search_id, content_id) {
      'use strict';

      // start loading animation
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay">' +
          '<div id="search-loading-icon">' +
          '<i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>' +
          '</div>' +
          '</div>')
        .css('overflow', 'hidden');
      $("#search-loading-icon").css('margin', '20% auto 0 auto').css('text-align', 'center');

      $.ajax({
        url: path,
        dataType: isXml ? "xml" : "json",
        async: true,
        success: function(res) {
          // get the contents from search data
          isfetched = true;
          $('.popup').detach().appendTo('.header-inner');
          var datas = isXml ? $("entry", res).map(function() {
            return {
              title: $("title", this).text(),
              content: $("content",this).text(),
              url: $("url" , this).text()
            };
          }).get() : res;
          var input = document.getElementById(search_id);
          var resultContent = document.getElementById(content_id);
          var inputEventFunction = function() {
            var searchText = input.value.trim().toLowerCase();
            var keywords = searchText.split(/[\s\-]+/);
            if (keywords.length > 1) {
              keywords.push(searchText);
            }
            var resultItems = [];
            if (searchText.length > 0) {
              // perform local searching
              datas.forEach(function(data) {
                var isMatch = false;
                var hitCount = 0;
                var searchTextCount = 0;
                var title = data.title.trim();
                var titleInLowerCase = title.toLowerCase();
                var content = data.content.trim().replace(/<[^>]+>/g,"");
                var contentInLowerCase = content.toLowerCase();
                var articleUrl = decodeURIComponent(data.url);
                var indexOfTitle = [];
                var indexOfContent = [];
                // only match articles with not empty titles
                if(title != '') {
                  keywords.forEach(function(keyword) {
                    function getIndexByWord(word, text, caseSensitive) {
                      var wordLen = word.length;
                      if (wordLen === 0) {
                        return [];
                      }
                      var startPosition = 0, position = [], index = [];
                      if (!caseSensitive) {
                        text = text.toLowerCase();
                        word = word.toLowerCase();
                      }
                      while ((position = text.indexOf(word, startPosition)) > -1) {
                        index.push({position: position, word: word});
                        startPosition = position + wordLen;
                      }
                      return index;
                    }

                    indexOfTitle = indexOfTitle.concat(getIndexByWord(keyword, titleInLowerCase, false));
                    indexOfContent = indexOfContent.concat(getIndexByWord(keyword, contentInLowerCase, false));
                  });
                  if (indexOfTitle.length > 0 || indexOfContent.length > 0) {
                    isMatch = true;
                    hitCount = indexOfTitle.length + indexOfContent.length;
                  }
                }

                // show search results

                if (isMatch) {
                  // sort index by position of keyword

                  [indexOfTitle, indexOfContent].forEach(function (index) {
                    index.sort(function (itemLeft, itemRight) {
                      if (itemRight.position !== itemLeft.position) {
                        return itemRight.position - itemLeft.position;
                      } else {
                        return itemLeft.word.length - itemRight.word.length;
                      }
                    });
                  });

                  // merge hits into slices

                  function mergeIntoSlice(text, start, end, index) {
                    var item = index[index.length - 1];
                    var position = item.position;
                    var word = item.word;
                    var hits = [];
                    var searchTextCountInSlice = 0;
                    while (position + word.length <= end && index.length != 0) {
                      if (word === searchText) {
                        searchTextCountInSlice++;
                      }
                      hits.push({position: position, length: word.length});
                      var wordEnd = position + word.length;

                      // move to next position of hit

                      index.pop();
                      while (index.length != 0) {
                        item = index[index.length - 1];
                        position = item.position;
                        word = item.word;
                        if (wordEnd > position) {
                          index.pop();
                        } else {
                          break;
                        }
                      }
                    }
                    searchTextCount += searchTextCountInSlice;
                    return {
                      hits: hits,
                      start: start,
                      end: end,
                      searchTextCount: searchTextCountInSlice
                    };
                  }

                  var slicesOfTitle = [];
                  if (indexOfTitle.length != 0) {
                    slicesOfTitle.push(mergeIntoSlice(title, 0, title.length, indexOfTitle));
                  }

                  var slicesOfContent = [];
                  while (indexOfContent.length != 0) {
                    var item = indexOfContent[indexOfContent.length - 1];
                    var position = item.position;
                    var word = item.word;
                    // cut out 100 characters
                    var start = position - 20;
                    var end = position + 80;
                    if(start < 0){
                      start = 0;
                    }
                    if (end < position + word.length) {
                      end = position + word.length;
                    }
                    if(end > content.length){
                      end = content.length;
                    }
                    slicesOfContent.push(mergeIntoSlice(content, start, end, indexOfContent));
                  }

                  // sort slices in content by search text's count and hits' count

                  slicesOfContent.sort(function (sliceLeft, sliceRight) {
                    if (sliceLeft.searchTextCount !== sliceRight.searchTextCount) {
                      return sliceRight.searchTextCount - sliceLeft.searchTextCount;
                    } else if (sliceLeft.hits.length !== sliceRight.hits.length) {
                      return sliceRight.hits.length - sliceLeft.hits.length;
                    } else {
                      return sliceLeft.start - sliceRight.start;
                    }
                  });

                  // select top N slices in content

                  var upperBound = parseInt('1');
                  if (upperBound >= 0) {
                    slicesOfContent = slicesOfContent.slice(0, upperBound);
                  }

                  // highlight title and content

                  function highlightKeyword(text, slice) {
                    var result = '';
                    var prevEnd = slice.start;
                    slice.hits.forEach(function (hit) {
                      result += text.substring(prevEnd, hit.position);
                      var end = hit.position + hit.length;
                      result += '<b class="search-keyword">' + text.substring(hit.position, end) + '</b>';
                      prevEnd = end;
                    });
                    result += text.substring(prevEnd, slice.end);
                    return result;
                  }

                  var resultItem = '';

                  if (slicesOfTitle.length != 0) {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + highlightKeyword(title, slicesOfTitle[0]) + "</a>";
                  } else {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + title + "</a>";
                  }

                  slicesOfContent.forEach(function (slice) {
                    resultItem += "<a href='" + articleUrl + "'>" +
                      "<p class=\"search-result\">" + highlightKeyword(content, slice) +
                      "...</p>" + "</a>";
                  });

                  resultItem += "</li>";
                  resultItems.push({
                    item: resultItem,
                    searchTextCount: searchTextCount,
                    hitCount: hitCount,
                    id: resultItems.length
                  });
                }
              })
            };
            if (keywords.length === 1 && keywords[0] === "") {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-search fa-5x" /></div>'
            } else if (resultItems.length === 0) {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-frown-o fa-5x" /></div>'
            } else {
              resultItems.sort(function (resultLeft, resultRight) {
                if (resultLeft.searchTextCount !== resultRight.searchTextCount) {
                  return resultRight.searchTextCount - resultLeft.searchTextCount;
                } else if (resultLeft.hitCount !== resultRight.hitCount) {
                  return resultRight.hitCount - resultLeft.hitCount;
                } else {
                  return resultRight.id - resultLeft.id;
                }
              });
              var searchResultList = '<ul class=\"search-result-list\">';
              resultItems.forEach(function (result) {
                searchResultList += result.item;
              })
              searchResultList += "</ul>";
              resultContent.innerHTML = searchResultList;
            }
          }

          if ('auto' === 'auto') {
            input.addEventListener('input', inputEventFunction);
          } else {
            $('.search-icon').click(inputEventFunction);
            input.addEventListener('keypress', function (event) {
              if (event.keyCode === 13) {
                inputEventFunction();
              }
            });
          }

          // remove loading animation
          $(".local-search-pop-overlay").remove();
          $('body').css('overflow', '');

          proceedsearch();
        }
      });
    }

    // handle and trigger popup window;
    $('.popup-trigger').click(function(e) {
      e.stopPropagation();
      if (isfetched === false) {
        searchFunc(path, 'local-search-input', 'local-search-result');
      } else {
        proceedsearch();
      };
    });

    $('.popup-btn-close').click(onPopupClose);
    $('.popup').click(function(e){
      e.stopPropagation();
    });
    $(document).on('keyup', function (event) {
      var shouldDismissSearchPopup = event.which === 27 &&
        $('.search-popup').is(':visible');
      if (shouldDismissSearchPopup) {
        onPopupClose();
      }
    });
  </script>





  

  

  

  
  

  

  

  

</body>
</html>
